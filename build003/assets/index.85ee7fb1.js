var g$=Object.defineProperty;var v$=(e,t,n)=>t in e?g$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ea=(e,t,n)=>(v$(e,typeof t!="symbol"?t+"":t,n),n);const y$=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}};y$();var An=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function L1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function w$(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),t}var M1={exports:{}};/*! Browser bundle of nunjucks 3.2.3  */(function(e,t){(function(r,i){e.exports=i()})(typeof self!="undefined"?self:An,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,u){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:u})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=11)}([function(n,m,i){var o=Array.prototype,s=Object.prototype,u={"&":"&amp;",'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;"},h=/[&"'<>]/g,m=n.exports={};function v(X,re){return s.hasOwnProperty.call(X,re)}m.hasOwnProp=v;function w(X){return u[X]}function b(X,re,ie){if(ie.Update||(ie=new m.TemplateError(ie)),ie.Update(X),!re){var ce=ie;ie=new Error(ce.message),ie.name=ce.name}return ie}m._prettifyError=b;function N(X,re,ie){var ce,ye;X instanceof Error&&(ye=X,X=ye.name+": "+ye.message),Object.setPrototypeOf?(ce=new Error(X),Object.setPrototypeOf(ce,N.prototype)):(ce=this,Object.defineProperty(ce,"message",{enumerable:!1,writable:!0,value:X})),Object.defineProperty(ce,"name",{value:"Template render error"}),Error.captureStackTrace&&Error.captureStackTrace(ce,this.constructor);var ge;if(ye){var fe=Object.getOwnPropertyDescriptor(ye,"stack");ge=fe&&(fe.get||function(){return fe.value}),ge||(ge=function(){return ye.stack})}else{var Me=new Error(X).stack;ge=function(){return Me}}return Object.defineProperty(ce,"stack",{get:function(){return ge.call(ce)}}),Object.defineProperty(ce,"cause",{value:ye}),ce.lineno=re,ce.colno=ie,ce.firstUpdate=!0,ce.Update=function(Ae){var _e="("+(Ae||"unknown path")+")";return this.firstUpdate&&(this.lineno&&this.colno?_e+=" [Line "+this.lineno+", Column "+this.colno+"]":this.lineno&&(_e+=" [Line "+this.lineno+"]")),_e+=`
 `,this.firstUpdate&&(_e+=" "),this.message=_e+(this.message||""),this.firstUpdate=!1,this},ce}Object.setPrototypeOf?Object.setPrototypeOf(N.prototype,Error.prototype):N.prototype=Object.create(Error.prototype,{constructor:{value:N}}),m.TemplateError=N;function T(X){return X.replace(h,w)}m.escape=T;function R(X){return s.toString.call(X)==="[object Function]"}m.isFunction=R;function S(X){return s.toString.call(X)==="[object Array]"}m.isArray=S;function E(X){return s.toString.call(X)==="[object String]"}m.isString=E;function I(X){return s.toString.call(X)==="[object Object]"}m.isObject=I;function P(X){return X?typeof X=="string"?X.split("."):[X]:[]}function O(X){var re=P(X);return function(ce){for(var ye=ce,ge=0;ge<re.length;ge++){var fe=re[ge];if(v(ye,fe))ye=ye[fe];else return}return ye}}m.getAttrGetter=O;function B(X,re,ie){for(var ce={},ye=R(re)?re:O(re),ge=0;ge<X.length;ge++){var fe=X[ge],Me=ye(fe,ge);if(Me===void 0&&ie===!0)throw new TypeError('groupby: attribute "'+re+'" resolved to undefined');(ce[Me]||(ce[Me]=[])).push(fe)}return ce}m.groupBy=B;function A(X){return Array.prototype.slice.call(X)}m.toArray=A;function z(X){var re=[];if(!X)return re;for(var ie=X.length,ce=A(arguments).slice(1),ye=-1;++ye<ie;)te(ce,X[ye])===-1&&re.push(X[ye]);return re}m.without=z;function M(X,re){for(var ie="",ce=0;ce<re;ce++)ie+=X;return ie}m.repeat=M;function F(X,re,ie){if(X!=null){if(o.forEach&&X.forEach===o.forEach)X.forEach(re,ie);else if(X.length===+X.length)for(var ce=0,ye=X.length;ce<ye;ce++)re.call(ie,X[ce],ce,X)}}m.each=F;function U(X,re){var ie=[];if(X==null)return ie;if(o.map&&X.map===o.map)return X.map(re);for(var ce=0;ce<X.length;ce++)ie[ie.length]=re(X[ce],ce);return X.length===+X.length&&(ie.length=X.length),ie}m.map=U;function W(X,re,ie){var ce=-1;function ye(){ce++,ce<X.length?re(X[ce],ce,ye,ie):ie()}ye()}m.asyncIter=W;function G(X,re,ie){var ce=V(X||{}),ye=ce.length,ge=-1;function fe(){ge++;var Me=ce[ge];ge<ye?re(Me,X[Me],ge,ye,fe):ie()}fe()}m.asyncFor=G;function te(X,re,ie){return Array.prototype.indexOf.call(X||[],re,ie)}m.indexOf=te;function V(X){var re=[];for(var ie in X)v(X,ie)&&re.push(ie);return re}m.keys=V;function oe(X){return V(X).map(function(re){return[re,X[re]]})}m._entries=oe;function ne(X){return V(X).map(function(re){return X[re]})}m._values=ne;function J(X,re){return X=X||{},V(re).forEach(function(ie){X[ie]=re[ie]}),X}m._assign=m.extend=J;function Y(X,re){if(S(re)||E(re))return re.indexOf(X)!==-1;if(I(re))return X in re;throw new Error('Cannot use "in" operator to search for "'+X+'" in unexpected types.')}m.inOperator=Y},function(n,r,i){function o(R,S){for(var E=0;E<S.length;E++){var I=S[E];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(R,I.key,I)}}function s(R,S,E){return S&&o(R.prototype,S),E&&o(R,E),R}function u(R,S){R.prototype=Object.create(S.prototype),R.prototype.constructor=R,h(R,S)}function h(R,S){return h=Object.setPrototypeOf||function(I,P){return I.__proto__=P,I},h(R,S)}var m=i(16),v=i(0);function w(R,S){return typeof R!="function"||typeof S!="function"?S:function(){var I=this.parent;this.parent=R;var P=S.apply(this,arguments);return this.parent=I,P}}function b(R,S,E){E=E||{},v.keys(E).forEach(function(P){E[P]=w(R.prototype[P],E[P])});var I=function(P){u(O,P);function O(){return P.apply(this,arguments)||this}return s(O,[{key:"typename",get:function(){return S}}]),O}(R);return v._assign(I.prototype,E),I}var N=function(){function R(){this.init.apply(this,arguments)}var S=R.prototype;return S.init=function(){},R.extend=function(I,P){return typeof I=="object"&&(P=I,I="anonymous"),b(this,I,P)},s(R,[{key:"typename",get:function(){return this.constructor.name}}]),R}(),T=function(R){u(S,R);function S(){var I,P;return P=R.call(this)||this,(I=P).init.apply(I,arguments),P}var E=S.prototype;return E.init=function(){},S.extend=function(P,O){return typeof P=="object"&&(O=P,P="anonymous"),b(this,P,O)},s(S,[{key:"typename",get:function(){return this.constructor.name}}]),S}(m);n.exports={Obj:N,EmitterObj:T}},function(n,r,i){var o=i(0),s=Array.from,u=typeof Symbol=="function"&&Symbol.iterator&&typeof s=="function",h=function(){function U(G,te){this.variables=Object.create(null),this.parent=G,this.topLevel=!1,this.isolateWrites=te}var W=U.prototype;return W.set=function(te,V,oe){var ne=te.split("."),J=this.variables,Y=this;if(oe&&(Y=this.resolve(ne[0],!0))){Y.set(te,V);return}for(var X=0;X<ne.length-1;X++){var re=ne[X];J[re]||(J[re]={}),J=J[re]}J[ne[ne.length-1]]=V},W.get=function(te){var V=this.variables[te];return V!==void 0?V:null},W.lookup=function(te){var V=this.parent,oe=this.variables[te];return oe!==void 0?oe:V&&V.lookup(te)},W.resolve=function(te,V){var oe=V&&this.isolateWrites?void 0:this.parent,ne=this.variables[te];return ne!==void 0?this:oe&&oe.resolve(te)},W.push=function(te){return new U(this,te)},W.pop=function(){return this.parent},U}();function m(U,W,G){return function(){for(var V=arguments.length,oe=new Array(V),ne=0;ne<V;ne++)oe[ne]=arguments[ne];var J=N(oe),Y,X=b(oe);if(J>U.length)Y=oe.slice(0,U.length),oe.slice(Y.length,J).forEach(function(ce,ye){ye<W.length&&(X[W[ye]]=ce)}),Y.push(X);else if(J<U.length){Y=oe.slice(0,J);for(var re=J;re<U.length;re++){var ie=U[re];Y.push(X[ie]),delete X[ie]}Y.push(X)}else Y=oe;return G.apply(this,Y)}}function v(U){return U.__keywords=!0,U}function w(U){return U&&Object.prototype.hasOwnProperty.call(U,"__keywords")}function b(U){var W=U.length;if(W){var G=U[W-1];if(w(G))return G}return{}}function N(U){var W=U.length;if(W===0)return 0;var G=U[W-1];return w(G)?W-1:W}function T(U){if(typeof U!="string")return U;this.val=U,this.length=U.length}T.prototype=Object.create(String.prototype,{length:{writable:!0,configurable:!0,value:0}}),T.prototype.valueOf=function(){return this.val},T.prototype.toString=function(){return this.val};function R(U,W){return U instanceof T?new T(W):W.toString()}function S(U){var W=typeof U;return W==="string"?new T(U):W!=="function"?U:function(te){var V=U.apply(this,arguments);return typeof V=="string"?new T(V):V}}function E(U,W){return U=U!=null?U:"",W&&!(U instanceof T)&&(U=o.escape(U.toString())),U}function I(U,W,G){if(U==null)throw new o.TemplateError("attempted to output null or undefined value",W+1,G+1);return U}function P(U,W){if(U!=null)return typeof U[W]=="function"?function(){for(var G=arguments.length,te=new Array(G),V=0;V<G;V++)te[V]=arguments[V];return U[W].apply(U,te)}:U[W]}function O(U,W,G,te){if(U){if(typeof U!="function")throw new Error("Unable to call `"+W+"`, which is not a function")}else throw new Error("Unable to call `"+W+"`, which is undefined or falsey");return U.apply(G,te)}function B(U,W,G){var te=W.lookup(G);return te!==void 0?te:U.lookup(G)}function A(U,W,G){return U.lineno?U:new o.TemplateError(U,W,G)}function z(U,W,G,te){if(o.isArray(U)){var V=U.length;o.asyncIter(U,function(ne,J,Y){switch(W){case 1:G(ne,J,V,Y);break;case 2:G(ne[0],ne[1],J,V,Y);break;case 3:G(ne[0],ne[1],ne[2],J,V,Y);break;default:ne.push(J,V,Y),G.apply(this,ne)}},te)}else o.asyncFor(U,function(ne,J,Y,X,re){G(ne,J,Y,X,re)},te)}function M(U,W,G,te){var V=0,oe,ne;function J(ye,ge){V++,ne[ye]=ge,V===oe&&te(null,ne.join(""))}if(o.isArray(U))if(oe=U.length,ne=new Array(oe),oe===0)te(null,"");else for(var Y=0;Y<U.length;Y++){var X=U[Y];switch(W){case 1:G(X,Y,oe,J);break;case 2:G(X[0],X[1],Y,oe,J);break;case 3:G(X[0],X[1],X[2],Y,oe,J);break;default:X.push(Y,oe,J),G.apply(this,X)}}else{var re=o.keys(U||{});if(oe=re.length,ne=new Array(oe),oe===0)te(null,"");else for(var ie=0;ie<re.length;ie++){var ce=re[ie];G(ce,U[ce],ie,oe,J)}}}function F(U){return typeof U!="object"||U===null||o.isArray(U)?U:u&&Symbol.iterator in U?s(U):U}n.exports={Frame:h,makeMacro:m,makeKeywordArgs:v,numArgs:N,suppressValue:E,ensureDefined:I,memberLookup:P,contextOrFrameLookup:B,callWrap:O,handleError:A,isArray:o.isArray,keys:o.keys,SafeString:T,copySafeness:R,markSafe:S,asyncEach:z,asyncAll:M,inOperator:o.inOperator,fromIterator:F}},function(n,r,i){function o(Ze,et){for(var gt=0;gt<et.length;gt++){var St=et[gt];St.enumerable=St.enumerable||!1,St.configurable=!0,"value"in St&&(St.writable=!0),Object.defineProperty(Ze,St.key,St)}}function s(Ze,et,gt){return et&&o(Ze.prototype,et),gt&&o(Ze,gt),Ze}function u(Ze,et){Ze.prototype=Object.create(et.prototype),Ze.prototype.constructor=Ze,h(Ze,et)}function h(Ze,et){return h=Object.setPrototypeOf||function(St,pt){return St.__proto__=pt,St},h(Ze,et)}var m=i(1),v=m.Obj;function w(Ze,et,gt){Ze instanceof et&&gt.push(Ze),Ze instanceof b&&Ze.findAll(et,gt)}var b=function(Ze){u(et,Ze);function et(){return Ze.apply(this,arguments)||this}var gt=et.prototype;return gt.init=function(pt,jt){for(var on=arguments,Bn=this,dr=arguments.length,_i=new Array(dr>2?dr-2:0),ri=2;ri<dr;ri++)_i[ri-2]=arguments[ri];this.lineno=pt,this.colno=jt,this.fields.forEach(function(Sr,ro){var io=on[ro+2];io===void 0&&(io=null),Bn[Sr]=io})},gt.findAll=function(pt,jt){var on=this;return jt=jt||[],this instanceof T?this.children.forEach(function(Bn){return w(Bn,pt,jt)}):this.fields.forEach(function(Bn){return w(on[Bn],pt,jt)}),jt},gt.iterFields=function(pt){var jt=this;this.fields.forEach(function(on){pt(jt[on],on)})},et}(v),N=function(Ze){u(et,Ze);function et(){return Ze.apply(this,arguments)||this}return s(et,[{key:"typename",get:function(){return"Value"}},{key:"fields",get:function(){return["value"]}}]),et}(b),T=function(Ze){u(et,Ze);function et(){return Ze.apply(this,arguments)||this}var gt=et.prototype;return gt.init=function(pt,jt,on){Ze.prototype.init.call(this,pt,jt,on||[])},gt.addChild=function(pt){this.children.push(pt)},s(et,[{key:"typename",get:function(){return"NodeList"}},{key:"fields",get:function(){return["children"]}}]),et}(b),R=T.extend("Root"),S=N.extend("Literal"),E=N.extend("Symbol"),I=T.extend("Group"),P=T.extend("Array"),O=b.extend("Pair",{fields:["key","value"]}),B=T.extend("Dict"),A=b.extend("LookupVal",{fields:["target","val"]}),z=b.extend("If",{fields:["cond","body","else_"]}),M=z.extend("IfAsync"),F=b.extend("InlineIf",{fields:["cond","body","else_"]}),U=b.extend("For",{fields:["arr","name","body","else_"]}),W=U.extend("AsyncEach"),G=U.extend("AsyncAll"),te=b.extend("Macro",{fields:["name","args","body"]}),V=te.extend("Caller"),oe=b.extend("Import",{fields:["template","target","withContext"]}),ne=function(Ze){u(et,Ze);function et(){return Ze.apply(this,arguments)||this}var gt=et.prototype;return gt.init=function(pt,jt,on,Bn,dr){Ze.prototype.init.call(this,pt,jt,on,Bn||new T,dr)},s(et,[{key:"typename",get:function(){return"FromImport"}},{key:"fields",get:function(){return["template","names","withContext"]}}]),et}(b),J=b.extend("FunCall",{fields:["name","args"]}),Y=J.extend("Filter"),X=Y.extend("FilterAsync",{fields:["name","args","symbol"]}),re=B.extend("KeywordArgs"),ie=b.extend("Block",{fields:["name","body"]}),ce=b.extend("Super",{fields:["blockName","symbol"]}),ye=b.extend("TemplateRef",{fields:["template"]}),ge=ye.extend("Extends"),fe=b.extend("Include",{fields:["template","ignoreMissing"]}),Me=b.extend("Set",{fields:["targets","value"]}),je=b.extend("Switch",{fields:["expr","cases","default"]}),Ae=b.extend("Case",{fields:["cond","body"]}),_e=T.extend("Output"),be=b.extend("Capture",{fields:["body"]}),De=S.extend("TemplateData"),Re=b.extend("UnaryOp",{fields:["target"]}),Ge=b.extend("BinOp",{fields:["left","right"]}),ht=Ge.extend("In"),Dt=Ge.extend("Is"),He=Ge.extend("Or"),le=Ge.extend("And"),ve=Re.extend("Not"),Pe=Ge.extend("Add"),Ie=Ge.extend("Concat"),ze=Ge.extend("Sub"),$e=Ge.extend("Mul"),mt=Ge.extend("Div"),Je=Ge.extend("FloorDiv"),Nt=Ge.extend("Mod"),cn=Ge.extend("Pow"),st=Re.extend("Neg"),nt=Re.extend("Pos"),mn=b.extend("Compare",{fields:["expr","ops"]}),fr=b.extend("CompareOperand",{fields:["expr","type"]}),Ke=b.extend("CallExtension",{init:function(et,gt,St,pt){this.parent(),this.extName=et.__name||et,this.prop=gt,this.args=St||new T,this.contentArgs=pt||[],this.autoescape=et.autoescape},fields:["extName","prop","args","contentArgs"]}),hn=Ke.extend("CallExtensionAsync");function rn(Ze,et,gt){var St=Ze.split(`
`);St.forEach(function(pt,jt){pt&&(gt&&jt>0||!gt)&&process.stdout.write(" ".repeat(et));var on=jt===St.length-1?"":`
`;process.stdout.write(""+pt+on)})}function gn(Ze,et){if(et=et||0,rn(Ze.typename+": ",et),Ze instanceof T)rn(`
`),Ze.children.forEach(function(pt){gn(pt,et+2)});else if(Ze instanceof Ke)rn(Ze.extName+"."+Ze.prop+`
`),Ze.args&&gn(Ze.args,et+2),Ze.contentArgs&&Ze.contentArgs.forEach(function(pt){gn(pt,et+2)});else{var gt=[],St=null;Ze.iterFields(function(pt,jt){pt instanceof b?gt.push([jt,pt]):(St=St||{},St[jt]=pt)}),St?rn(JSON.stringify(St,null,2)+`
`,null,!0):rn(`
`),gt.forEach(function(pt){var jt=pt[0],on=pt[1];rn("["+jt+"] =>",et+2),gn(on,et+4)})}}n.exports={Node:b,Root:R,NodeList:T,Value:N,Literal:S,Symbol:E,Group:I,Array:P,Pair:O,Dict:B,Output:_e,Capture:be,TemplateData:De,If:z,IfAsync:M,InlineIf:F,For:U,AsyncEach:W,AsyncAll:G,Macro:te,Caller:V,Import:oe,FromImport:ne,FunCall:J,Filter:Y,FilterAsync:X,KeywordArgs:re,Block:ie,Super:ce,Extends:ge,Include:fe,Set:Me,Switch:je,Case:Ae,LookupVal:A,BinOp:Ge,In:ht,Is:Dt,Or:He,And:le,Not:ve,Add:Pe,Concat:Ie,Sub:ze,Mul:$e,Div:mt,FloorDiv:Je,Mod:Nt,Pow:cn,Neg:st,Pos:nt,Compare:mn,CompareOperand:fr,CallExtension:Ke,CallExtensionAsync:hn,printNodes:gn}},function(n,r){},function(n,r,i){function o(I,P){I.prototype=Object.create(P.prototype),I.prototype.constructor=I,s(I,P)}function s(I,P){return s=Object.setPrototypeOf||function(B,A){return B.__proto__=A,B},s(I,P)}var u=i(8),h=i(17),m=i(3),v=i(0),w=v.TemplateError,b=i(2),N=b.Frame,T=i(1),R=T.Obj,S={"==":"==","===":"===","!=":"!=","!==":"!==","<":"<",">":">","<=":"<=",">=":">="},E=function(I){o(P,I);function P(){return I.apply(this,arguments)||this}var O=P.prototype;return O.init=function(A,z){this.templateName=A,this.codebuf=[],this.lastId=0,this.buffer=null,this.bufferStack=[],this._scopeClosers="",this.inBlock=!1,this.throwOnUndefined=z},O.fail=function(A,z,M){throw z!==void 0&&(z+=1),M!==void 0&&(M+=1),new w(A,z,M)},O._pushBuffer=function(){var A=this._tmpid();return this.bufferStack.push(this.buffer),this.buffer=A,this._emit("var "+this.buffer+' = "";'),A},O._popBuffer=function(){this.buffer=this.bufferStack.pop()},O._emit=function(A){this.codebuf.push(A)},O._emitLine=function(A){this._emit(A+`
`)},O._emitLines=function(){for(var A=this,z=arguments.length,M=new Array(z),F=0;F<z;F++)M[F]=arguments[F];M.forEach(function(U){return A._emitLine(U)})},O._emitFuncBegin=function(A,z){this.buffer="output",this._scopeClosers="",this._emitLine("function "+z+"(env, context, frame, runtime, cb) {"),this._emitLine("var lineno = "+A.lineno+";"),this._emitLine("var colno = "+A.colno+";"),this._emitLine("var "+this.buffer+' = "";'),this._emitLine("try {")},O._emitFuncEnd=function(A){A||this._emitLine("cb(null, "+this.buffer+");"),this._closeScopeLevels(),this._emitLine("} catch (e) {"),this._emitLine("  cb(runtime.handleError(e, lineno, colno));"),this._emitLine("}"),this._emitLine("}"),this.buffer=null},O._addScopeLevel=function(){this._scopeClosers+="})"},O._closeScopeLevels=function(){this._emitLine(this._scopeClosers+";"),this._scopeClosers=""},O._withScopedSyntax=function(A){var z=this._scopeClosers;this._scopeClosers="",A.call(this),this._closeScopeLevels(),this._scopeClosers=z},O._makeCallback=function(A){var z=this._tmpid();return"function("+z+(A?","+A:"")+`) {
if(`+z+") { cb("+z+"); return; }"},O._tmpid=function(){return this.lastId++,"t_"+this.lastId},O._templateName=function(){return this.templateName==null?"undefined":JSON.stringify(this.templateName)},O._compileChildren=function(A,z){var M=this;A.children.forEach(function(F){M.compile(F,z)})},O._compileAggregate=function(A,z,M,F){var U=this;M&&this._emit(M),A.children.forEach(function(W,G){G>0&&U._emit(","),U.compile(W,z)}),F&&this._emit(F)},O._compileExpression=function(A,z){this.assertType(A,m.Literal,m.Symbol,m.Group,m.Array,m.Dict,m.FunCall,m.Caller,m.Filter,m.LookupVal,m.Compare,m.InlineIf,m.In,m.Is,m.And,m.Or,m.Not,m.Add,m.Concat,m.Sub,m.Mul,m.Div,m.FloorDiv,m.Mod,m.Pow,m.Neg,m.Pos,m.Compare,m.NodeList),this.compile(A,z)},O.assertType=function(A){for(var z=arguments.length,M=new Array(z>1?z-1:0),F=1;F<z;F++)M[F-1]=arguments[F];M.some(function(U){return A instanceof U})||this.fail("assertType: invalid type: "+A.typename,A.lineno,A.colno)},O.compileCallExtension=function(A,z,M){var F=this,U=A.args,W=A.contentArgs,G=typeof A.autoescape=="boolean"?A.autoescape:!0;if(M||this._emit(this.buffer+" += runtime.suppressValue("),this._emit('env.getExtension("'+A.extName+'")["'+A.prop+'"]('),this._emit("context"),(U||W)&&this._emit(","),U&&(U instanceof m.NodeList||this.fail("compileCallExtension: arguments must be a NodeList, use `parser.parseSignature`"),U.children.forEach(function(V,oe){F._compileExpression(V,z),(oe!==U.children.length-1||W.length)&&F._emit(",")})),W.length&&W.forEach(function(V,oe){if(oe>0&&F._emit(","),V){F._emitLine("function(cb) {"),F._emitLine("if(!cb) { cb = function(err) { if(err) { throw err; }}}");var ne=F._pushBuffer();F._withScopedSyntax(function(){F.compile(V,z),F._emitLine("cb(null, "+ne+");")}),F._popBuffer(),F._emitLine("return "+ne+";"),F._emitLine("}")}else F._emit("null")}),M){var te=this._tmpid();this._emitLine(", "+this._makeCallback(te)),this._emitLine(this.buffer+" += runtime.suppressValue("+te+", "+G+" && env.opts.autoescape);"),this._addScopeLevel()}else this._emit(")"),this._emit(", "+G+` && env.opts.autoescape);
`)},O.compileCallExtensionAsync=function(A,z){this.compileCallExtension(A,z,!0)},O.compileNodeList=function(A,z){this._compileChildren(A,z)},O.compileLiteral=function(A){if(typeof A.value=="string"){var z=A.value.replace(/\\/g,"\\\\");z=z.replace(/"/g,'\\"'),z=z.replace(/\n/g,"\\n"),z=z.replace(/\r/g,"\\r"),z=z.replace(/\t/g,"\\t"),z=z.replace(/\u2028/g,"\\u2028"),this._emit('"'+z+'"')}else A.value===null?this._emit("null"):this._emit(A.value.toString())},O.compileSymbol=function(A,z){var M=A.value,F=z.lookup(M);F?this._emit(F):this._emit('runtime.contextOrFrameLookup(context, frame, "'+M+'")')},O.compileGroup=function(A,z){this._compileAggregate(A,z,"(",")")},O.compileArray=function(A,z){this._compileAggregate(A,z,"[","]")},O.compileDict=function(A,z){this._compileAggregate(A,z,"{","}")},O.compilePair=function(A,z){var M=A.key,F=A.value;M instanceof m.Symbol?M=new m.Literal(M.lineno,M.colno,M.value):M instanceof m.Literal&&typeof M.value=="string"||this.fail("compilePair: Dict keys must be strings or names",M.lineno,M.colno),this.compile(M,z),this._emit(": "),this._compileExpression(F,z)},O.compileInlineIf=function(A,z){this._emit("("),this.compile(A.cond,z),this._emit("?"),this.compile(A.body,z),this._emit(":"),A.else_!==null?this.compile(A.else_,z):this._emit('""'),this._emit(")")},O.compileIn=function(A,z){this._emit("runtime.inOperator("),this.compile(A.left,z),this._emit(","),this.compile(A.right,z),this._emit(")")},O.compileIs=function(A,z){var M=A.right.name?A.right.name.value:A.right.value;this._emit('env.getTest("'+M+'").call(context, '),this.compile(A.left,z),A.right.args&&(this._emit(","),this.compile(A.right.args,z)),this._emit(") === true")},O._binOpEmitter=function(A,z,M){this.compile(A.left,z),this._emit(M),this.compile(A.right,z)},O.compileOr=function(A,z){return this._binOpEmitter(A,z," || ")},O.compileAnd=function(A,z){return this._binOpEmitter(A,z," && ")},O.compileAdd=function(A,z){return this._binOpEmitter(A,z," + ")},O.compileConcat=function(A,z){return this._binOpEmitter(A,z,' + "" + ')},O.compileSub=function(A,z){return this._binOpEmitter(A,z," - ")},O.compileMul=function(A,z){return this._binOpEmitter(A,z," * ")},O.compileDiv=function(A,z){return this._binOpEmitter(A,z," / ")},O.compileMod=function(A,z){return this._binOpEmitter(A,z," % ")},O.compileNot=function(A,z){this._emit("!"),this.compile(A.target,z)},O.compileFloorDiv=function(A,z){this._emit("Math.floor("),this.compile(A.left,z),this._emit(" / "),this.compile(A.right,z),this._emit(")")},O.compilePow=function(A,z){this._emit("Math.pow("),this.compile(A.left,z),this._emit(", "),this.compile(A.right,z),this._emit(")")},O.compileNeg=function(A,z){this._emit("-"),this.compile(A.target,z)},O.compilePos=function(A,z){this._emit("+"),this.compile(A.target,z)},O.compileCompare=function(A,z){var M=this;this.compile(A.expr,z),A.ops.forEach(function(F){M._emit(" "+S[F.type]+" "),M.compile(F.expr,z)})},O.compileLookupVal=function(A,z){this._emit("runtime.memberLookup(("),this._compileExpression(A.target,z),this._emit("),"),this._compileExpression(A.val,z),this._emit(")")},O._getNodeName=function(A){switch(A.typename){case"Symbol":return A.value;case"FunCall":return"the return value of ("+this._getNodeName(A.name)+")";case"LookupVal":return this._getNodeName(A.target)+'["'+this._getNodeName(A.val)+'"]';case"Literal":return A.value.toString();default:return"--expression--"}},O.compileFunCall=function(A,z){this._emit("(lineno = "+A.lineno+", colno = "+A.colno+", "),this._emit("runtime.callWrap("),this._compileExpression(A.name,z),this._emit(', "'+this._getNodeName(A.name).replace(/"/g,'\\"')+'", context, '),this._compileAggregate(A.args,z,"[","])"),this._emit(")")},O.compileFilter=function(A,z){var M=A.name;this.assertType(M,m.Symbol),this._emit('env.getFilter("'+M.value+'").call(context, '),this._compileAggregate(A.args,z),this._emit(")")},O.compileFilterAsync=function(A,z){var M=A.name,F=A.symbol.value;this.assertType(M,m.Symbol),z.set(F,F),this._emit('env.getFilter("'+M.value+'").call(context, '),this._compileAggregate(A.args,z),this._emitLine(", "+this._makeCallback(F)),this._addScopeLevel()},O.compileKeywordArgs=function(A,z){this._emit("runtime.makeKeywordArgs("),this.compileDict(A,z),this._emit(")")},O.compileSet=function(A,z){var M=this,F=[];A.targets.forEach(function(U){var W=U.value,G=z.lookup(W);G==null&&(G=M._tmpid(),M._emitLine("var "+G+";")),F.push(G)}),A.value?(this._emit(F.join(" = ")+" = "),this._compileExpression(A.value,z),this._emitLine(";")):(this._emit(F.join(" = ")+" = "),this.compile(A.body,z),this._emitLine(";")),A.targets.forEach(function(U,W){var G=F[W],te=U.value;M._emitLine('frame.set("'+te+'", '+G+", true);"),M._emitLine("if(frame.topLevel) {"),M._emitLine('context.setVariable("'+te+'", '+G+");"),M._emitLine("}"),te.charAt(0)!=="_"&&(M._emitLine("if(frame.topLevel) {"),M._emitLine('context.addExport("'+te+'", '+G+");"),M._emitLine("}"))})},O.compileSwitch=function(A,z){var M=this;this._emit("switch ("),this.compile(A.expr,z),this._emit(") {"),A.cases.forEach(function(F,U){M._emit("case "),M.compile(F.cond,z),M._emit(": "),M.compile(F.body,z),F.body.children.length&&M._emitLine("break;")}),A.default&&(this._emit("default:"),this.compile(A.default,z)),this._emit("}")},O.compileIf=function(A,z,M){var F=this;this._emit("if("),this._compileExpression(A.cond,z),this._emitLine(") {"),this._withScopedSyntax(function(){F.compile(A.body,z),M&&F._emit("cb()")}),A.else_?(this._emitLine(`}
else {`),this._withScopedSyntax(function(){F.compile(A.else_,z),M&&F._emit("cb()")})):M&&(this._emitLine(`}
else {`),this._emit("cb()")),this._emitLine("}")},O.compileIfAsync=function(A,z){this._emit("(function(cb) {"),this.compileIf(A,z,!0),this._emit("})("+this._makeCallback()),this._addScopeLevel()},O._emitLoopBindings=function(A,z,M,F){var U=this,W=[{name:"index",val:M+" + 1"},{name:"index0",val:M},{name:"revindex",val:F+" - "+M},{name:"revindex0",val:F+" - "+M+" - 1"},{name:"first",val:M+" === 0"},{name:"last",val:M+" === "+F+" - 1"},{name:"length",val:F}];W.forEach(function(G){U._emitLine('frame.set("loop.'+G.name+'", '+G.val+");")})},O.compileFor=function(A,z){var M=this,F=this._tmpid(),U=this._tmpid(),W=this._tmpid();if(z=z.push(),this._emitLine("frame = frame.push();"),this._emit("var "+W+" = "),this._compileExpression(A.arr,z),this._emitLine(";"),this._emit("if("+W+") {"),this._emitLine(W+" = runtime.fromIterator("+W+");"),A.name instanceof m.Array){this._emitLine("var "+F+";"),this._emitLine("if(runtime.isArray("+W+")) {"),this._emitLine("var "+U+" = "+W+".length;"),this._emitLine("for("+F+"=0; "+F+" < "+W+".length; "+F+"++) {"),A.name.children.forEach(function(Y,X){var re=M._tmpid();M._emitLine("var "+re+" = "+W+"["+F+"]["+X+"];"),M._emitLine('frame.set("'+Y+'", '+W+"["+F+"]["+X+"]);"),z.set(A.name.children[X].value,re)}),this._emitLoopBindings(A,W,F,U),this._withScopedSyntax(function(){M.compile(A.body,z)}),this._emitLine("}"),this._emitLine("} else {");var G=A.name.children,te=G[0],V=G[1],oe=this._tmpid(),ne=this._tmpid();z.set(te.value,oe),z.set(V.value,ne),this._emitLine(F+" = -1;"),this._emitLine("var "+U+" = runtime.keys("+W+").length;"),this._emitLine("for(var "+oe+" in "+W+") {"),this._emitLine(F+"++;"),this._emitLine("var "+ne+" = "+W+"["+oe+"];"),this._emitLine('frame.set("'+te.value+'", '+oe+");"),this._emitLine('frame.set("'+V.value+'", '+ne+");"),this._emitLoopBindings(A,W,F,U),this._withScopedSyntax(function(){M.compile(A.body,z)}),this._emitLine("}"),this._emitLine("}")}else{var J=this._tmpid();z.set(A.name.value,J),this._emitLine("var "+U+" = "+W+".length;"),this._emitLine("for(var "+F+"=0; "+F+" < "+W+".length; "+F+"++) {"),this._emitLine("var "+J+" = "+W+"["+F+"];"),this._emitLine('frame.set("'+A.name.value+'", '+J+");"),this._emitLoopBindings(A,W,F,U),this._withScopedSyntax(function(){M.compile(A.body,z)}),this._emitLine("}")}this._emitLine("}"),A.else_&&(this._emitLine("if (!"+U+") {"),this.compile(A.else_,z),this._emitLine("}")),this._emitLine("frame = frame.pop();")},O._compileAsyncLoop=function(A,z,M){var F=this,U=this._tmpid(),W=this._tmpid(),G=this._tmpid(),te=M?"asyncAll":"asyncEach";if(z=z.push(),this._emitLine("frame = frame.push();"),this._emit("var "+G+" = runtime.fromIterator("),this._compileExpression(A.arr,z),this._emitLine(");"),A.name instanceof m.Array){var V=A.name.children.length;this._emit("runtime."+te+"("+G+", "+V+", function("),A.name.children.forEach(function(J){F._emit(J.value+",")}),this._emit(U+","+W+",next) {"),A.name.children.forEach(function(J){var Y=J.value;z.set(Y,Y),F._emitLine('frame.set("'+Y+'", '+Y+");")})}else{var oe=A.name.value;this._emitLine("runtime."+te+"("+G+", 1, function("+oe+", "+U+", "+W+",next) {"),this._emitLine('frame.set("'+oe+'", '+oe+");"),z.set(oe,oe)}this._emitLoopBindings(A,G,U,W),this._withScopedSyntax(function(){var J;M&&(J=F._pushBuffer()),F.compile(A.body,z),F._emitLine("next("+U+(J?","+J:"")+");"),M&&F._popBuffer()});var ne=this._tmpid();this._emitLine("}, "+this._makeCallback(ne)),this._addScopeLevel(),M&&this._emitLine(this.buffer+" += "+ne+";"),A.else_&&(this._emitLine("if (!"+G+".length) {"),this.compile(A.else_,z),this._emitLine("}")),this._emitLine("frame = frame.pop();")},O.compileAsyncEach=function(A,z){this._compileAsyncLoop(A,z)},O.compileAsyncAll=function(A,z){this._compileAsyncLoop(A,z,!0)},O._compileMacro=function(A,z){var M=this,F=[],U=null,W="macro_"+this._tmpid(),G=z!==void 0;A.args.children.forEach(function(Y,X){X===A.args.children.length-1&&Y instanceof m.Dict?U=Y:(M.assertType(Y,m.Symbol),F.push(Y))});var te=[].concat(F.map(function(Y){return"l_"+Y.value}),["kwargs"]),V=F.map(function(Y){return'"'+Y.value+'"'}),oe=(U&&U.children||[]).map(function(Y){return'"'+Y.key.value+'"'}),ne;G?ne=z.push(!0):ne=new N,this._emitLines("var "+W+" = runtime.makeMacro(","["+V.join(", ")+"], ","["+oe.join(", ")+"], ","function ("+te.join(", ")+") {","var callerFrame = frame;","frame = "+(G?"frame.push(true);":"new runtime.Frame();"),"kwargs = kwargs || {};",'if (Object.prototype.hasOwnProperty.call(kwargs, "caller")) {','frame.set("caller", kwargs.caller); }'),F.forEach(function(Y){M._emitLine('frame.set("'+Y.value+'", l_'+Y.value+");"),ne.set(Y.value,"l_"+Y.value)}),U&&U.children.forEach(function(Y){var X=Y.key.value;M._emit('frame.set("'+X+'", '),M._emit('Object.prototype.hasOwnProperty.call(kwargs, "'+X+'")'),M._emit(' ? kwargs["'+X+'"] : '),M._compileExpression(Y.value,ne),M._emit(");")});var J=this._pushBuffer();return this._withScopedSyntax(function(){M.compile(A.body,ne)}),this._emitLine("frame = "+(G?"frame.pop();":"callerFrame;")),this._emitLine("return new runtime.SafeString("+J+");"),this._emitLine("});"),this._popBuffer(),W},O.compileMacro=function(A,z){var M=this._compileMacro(A),F=A.name.value;z.set(F,M),z.parent?this._emitLine('frame.set("'+F+'", '+M+");"):(A.name.value.charAt(0)!=="_"&&this._emitLine('context.addExport("'+F+'");'),this._emitLine('context.setVariable("'+F+'", '+M+");"))},O.compileCaller=function(A,z){this._emit("(function (){");var M=this._compileMacro(A,z);this._emit("return "+M+";})()")},O._compileGetTemplate=function(A,z,M,F){var U=this._tmpid(),W=this._templateName(),G=this._makeCallback(U),te=M?"true":"false",V=F?"true":"false";return this._emit("env.getTemplate("),this._compileExpression(A.template,z),this._emitLine(", "+te+", "+W+", "+V+", "+G),U},O.compileImport=function(A,z){var M=A.target.value,F=this._compileGetTemplate(A,z,!1,!1);this._addScopeLevel(),this._emitLine(F+".getExported("+(A.withContext?"context.getVariables(), frame, ":"")+this._makeCallback(F)),this._addScopeLevel(),z.set(M,F),z.parent?this._emitLine('frame.set("'+M+'", '+F+");"):this._emitLine('context.setVariable("'+M+'", '+F+");")},O.compileFromImport=function(A,z){var M=this,F=this._compileGetTemplate(A,z,!1,!1);this._addScopeLevel(),this._emitLine(F+".getExported("+(A.withContext?"context.getVariables(), frame, ":"")+this._makeCallback(F)),this._addScopeLevel(),A.names.children.forEach(function(U){var W,G,te=M._tmpid();U instanceof m.Pair?(W=U.key.value,G=U.value.value):(W=U.value,G=W),M._emitLine("if(Object.prototype.hasOwnProperty.call("+F+', "'+W+'")) {'),M._emitLine("var "+te+" = "+F+"."+W+";"),M._emitLine("} else {"),M._emitLine(`cb(new Error("cannot import '`+W+`'")); return;`),M._emitLine("}"),z.set(G,te),z.parent?M._emitLine('frame.set("'+G+'", '+te+");"):M._emitLine('context.setVariable("'+G+'", '+te+");")})},O.compileBlock=function(A){var z=this._tmpid();this.inBlock||this._emit('(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : '),this._emit('context.getBlock("'+A.name.value+'")'),this.inBlock||this._emit(")"),this._emitLine("(env, context, frame, runtime, "+this._makeCallback(z)),this._emitLine(this.buffer+" += "+z+";"),this._addScopeLevel()},O.compileSuper=function(A,z){var M=A.blockName.value,F=A.symbol.value,U=this._makeCallback(F);this._emitLine('context.getSuper(env, "'+M+'", b_'+M+", frame, runtime, "+U),this._emitLine(F+" = runtime.markSafe("+F+");"),this._addScopeLevel(),z.set(F,F)},O.compileExtends=function(A,z){var M=this._tmpid(),F=this._compileGetTemplate(A,z,!0,!1);this._emitLine("parentTemplate = "+F),this._emitLine("for(var "+M+" in parentTemplate.blocks) {"),this._emitLine("context.addBlock("+M+", parentTemplate.blocks["+M+"]);"),this._emitLine("}"),this._addScopeLevel()},O.compileInclude=function(A,z){this._emitLine("var tasks = [];"),this._emitLine("tasks.push("),this._emitLine("function(callback) {");var M=this._compileGetTemplate(A,z,!1,A.ignoreMissing);this._emitLine("callback(null,"+M+");});"),this._emitLine("});");var F=this._tmpid();this._emitLine("tasks.push("),this._emitLine("function(template, callback){"),this._emitLine("template.render(context.getVariables(), frame, "+this._makeCallback(F)),this._emitLine("callback(null,"+F+");});"),this._emitLine("});"),this._emitLine("tasks.push("),this._emitLine("function(result, callback){"),this._emitLine(this.buffer+" += result;"),this._emitLine("callback(null);"),this._emitLine("});"),this._emitLine("env.waterfall(tasks, function(){"),this._addScopeLevel()},O.compileTemplateData=function(A,z){this.compileLiteral(A,z)},O.compileCapture=function(A,z){var M=this,F=this.buffer;this.buffer="output",this._emitLine("(function() {"),this._emitLine('var output = "";'),this._withScopedSyntax(function(){M.compile(A.body,z)}),this._emitLine("return output;"),this._emitLine("})()"),this.buffer=F},O.compileOutput=function(A,z){var M=this,F=A.children;F.forEach(function(U){U instanceof m.TemplateData?U.value&&(M._emit(M.buffer+" += "),M.compileLiteral(U,z),M._emitLine(";")):(M._emit(M.buffer+" += runtime.suppressValue("),M.throwOnUndefined&&M._emit("runtime.ensureDefined("),M.compile(U,z),M.throwOnUndefined&&M._emit(","+A.lineno+","+A.colno+")"),M._emit(`, env.opts.autoescape);
`))})},O.compileRoot=function(A,z){var M=this;z&&this.fail("compileRoot: root node can't have frame"),z=new N,this._emitFuncBegin(A,"root"),this._emitLine("var parentTemplate = null;"),this._compileChildren(A,z),this._emitLine("if(parentTemplate) {"),this._emitLine("parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);"),this._emitLine("} else {"),this._emitLine("cb(null, "+this.buffer+");"),this._emitLine("}"),this._emitFuncEnd(!0),this.inBlock=!0;var F=[],U=A.findAll(m.Block);U.forEach(function(W,G){var te=W.name.value;if(F.indexOf(te)!==-1)throw new Error('Block "'+te+'" defined more than once.');F.push(te),M._emitFuncBegin(W,"b_"+te);var V=new N;M._emitLine("var frame = frame.push(true);"),M.compile(W.body,V),M._emitFuncEnd()}),this._emitLine("return {"),U.forEach(function(W,G){var te="b_"+W.name.value;M._emitLine(te+": "+te+",")}),this._emitLine(`root: root
};`)},O.compile=function(A,z){var M=this["compile"+A.typename];M?M.call(this,A,z):this.fail("compile: Cannot compile node: "+A.typename,A.lineno,A.colno)},O.getCode=function(){return this.codebuf.join("")},P}(R);n.exports={compile:function(P,O,B,A,z){z===void 0&&(z={});var M=new E(A,z.throwOnUndefined),F=(B||[]).map(function(W){return W.preprocess}).filter(function(W){return!!W}),U=F.reduce(function(W,G){return G(W)},P);return M.compile(h.transform(u.parse(U,B,z),O,A)),M.getCode()},Compiler:E}},function(n,r,i){function o(v,w){v.prototype=Object.create(w.prototype),v.prototype.constructor=v,s(v,w)}function s(v,w){return s=Object.setPrototypeOf||function(N,T){return N.__proto__=T,N},s(v,w)}var u=i(4),h=i(1),m=h.EmitterObj;n.exports=function(v){o(w,v);function w(){return v.apply(this,arguments)||this}var b=w.prototype;return b.resolve=function(T,R){return u.resolve(u.dirname(T),R)},b.isRelative=function(T){return T.indexOf("./")===0||T.indexOf("../")===0},w}(m)},function(n,r,i){function o(V,oe){V.prototype=Object.create(oe.prototype),V.prototype.constructor=V,s(V,oe)}function s(V,oe){return s=Object.setPrototypeOf||function(J,Y){return J.__proto__=Y,J},s(V,oe)}var u=i(12),h=i(15),m=i(0),v=i(5),w=i(18),b=i(10),N=b.FileSystemLoader,T=b.WebLoader,R=b.PrecompiledLoader,S=i(20),E=i(21),I=i(1),P=I.Obj,O=I.EmitterObj,B=i(2),A=B.handleError,z=B.Frame,M=i(22);function F(V,oe,ne){u(function(){V(oe,ne)})}var U={type:"code",obj:{root:function(oe,ne,J,Y,X){try{X(null,"")}catch(re){X(A(re,null,null))}}}},W=function(V){o(oe,V);function oe(){return V.apply(this,arguments)||this}var ne=oe.prototype;return ne.init=function(Y,X){var re=this;X=this.opts=X||{},this.opts.dev=!!X.dev,this.opts.autoescape=X.autoescape!=null?X.autoescape:!0,this.opts.throwOnUndefined=!!X.throwOnUndefined,this.opts.trimBlocks=!!X.trimBlocks,this.opts.lstripBlocks=!!X.lstripBlocks,this.loaders=[],Y?this.loaders=m.isArray(Y)?Y:[Y]:N?this.loaders=[new N("views")]:T&&(this.loaders=[new T("/views")]),typeof window!="undefined"&&window.nunjucksPrecompiled&&this.loaders.unshift(new R(window.nunjucksPrecompiled)),this._initLoaders(),this.globals=E(),this.filters={},this.tests={},this.asyncFilters=[],this.extensions={},this.extensionsList=[],m._entries(w).forEach(function(ie){var ce=ie[0],ye=ie[1];return re.addFilter(ce,ye)}),m._entries(S).forEach(function(ie){var ce=ie[0],ye=ie[1];return re.addTest(ce,ye)})},ne._initLoaders=function(){var Y=this;this.loaders.forEach(function(X){X.cache={},typeof X.on=="function"&&(X.on("update",function(re,ie){X.cache[re]=null,Y.emit("update",re,ie,X)}),X.on("load",function(re,ie){Y.emit("load",re,ie,X)}))})},ne.invalidateCache=function(){this.loaders.forEach(function(Y){Y.cache={}})},ne.addExtension=function(Y,X){return X.__name=Y,this.extensions[Y]=X,this.extensionsList.push(X),this},ne.removeExtension=function(Y){var X=this.getExtension(Y);!X||(this.extensionsList=m.without(this.extensionsList,X),delete this.extensions[Y])},ne.getExtension=function(Y){return this.extensions[Y]},ne.hasExtension=function(Y){return!!this.extensions[Y]},ne.addGlobal=function(Y,X){return this.globals[Y]=X,this},ne.getGlobal=function(Y){if(typeof this.globals[Y]=="undefined")throw new Error("global not found: "+Y);return this.globals[Y]},ne.addFilter=function(Y,X,re){var ie=X;return re&&this.asyncFilters.push(Y),this.filters[Y]=ie,this},ne.getFilter=function(Y){if(!this.filters[Y])throw new Error("filter not found: "+Y);return this.filters[Y]},ne.addTest=function(Y,X){return this.tests[Y]=X,this},ne.getTest=function(Y){if(!this.tests[Y])throw new Error("test not found: "+Y);return this.tests[Y]},ne.resolveTemplate=function(Y,X,re){var ie=Y.isRelative&&X?Y.isRelative(re):!1;return ie&&Y.resolve?Y.resolve(X,re):re},ne.getTemplate=function(Y,X,re,ie,ce){var ye=this,ge=this,fe=null;if(Y&&Y.raw&&(Y=Y.raw),m.isFunction(re)&&(ce=re,re=null,X=X||!1),m.isFunction(X)&&(ce=X,X=!1),Y instanceof te)fe=Y;else{if(typeof Y!="string")throw new Error("template names must be a string: "+Y);for(var Me=0;Me<this.loaders.length;Me++){var je=this.loaders[Me];if(fe=je.cache[this.resolveTemplate(je,re,Y)],fe)break}}if(fe)if(X&&fe.compile(),ce){ce(null,fe);return}else return fe;var Ae,_e=function(De,Re){if(!Re&&!De&&!ie&&(De=new Error("template not found: "+Y)),De)if(ce){ce(De);return}else throw De;var Ge;Re?(Ge=new te(Re.src,ye,Re.path,X),Re.noCache||(Re.loader.cache[Y]=Ge)):Ge=new te(U,ye,"",X),ce?ce(null,Ge):Ae=Ge};return m.asyncIter(this.loaders,function(be,De,Re,Ge){function ht(Dt,He){Dt?Ge(Dt):He?(He.loader=be,Ge(null,He)):Re()}Y=ge.resolveTemplate(be,re,Y),be.async?be.getSource(Y,ht):ht(null,be.getSource(Y))},_e),Ae},ne.express=function(Y){return M(this,Y)},ne.render=function(Y,X,re){m.isFunction(X)&&(re=X,X=null);var ie=null;return this.getTemplate(Y,function(ce,ye){if(ce&&re)F(re,ce);else{if(ce)throw ce;ie=ye.render(X,re)}}),ie},ne.renderString=function(Y,X,re,ie){m.isFunction(re)&&(ie=re,re={}),re=re||{};var ce=new te(Y,this,re.path);return ce.render(X,ie)},ne.waterfall=function(Y,X,re){return h(Y,X,re)},oe}(O),G=function(V){o(oe,V);function oe(){return V.apply(this,arguments)||this}var ne=oe.prototype;return ne.init=function(Y,X,re){var ie=this;this.env=re||new W,this.ctx=m.extend({},Y),this.blocks={},this.exported=[],m.keys(X).forEach(function(ce){ie.addBlock(ce,X[ce])})},ne.lookup=function(Y){return Y in this.env.globals&&!(Y in this.ctx)?this.env.globals[Y]:this.ctx[Y]},ne.setVariable=function(Y,X){this.ctx[Y]=X},ne.getVariables=function(){return this.ctx},ne.addBlock=function(Y,X){return this.blocks[Y]=this.blocks[Y]||[],this.blocks[Y].push(X),this},ne.getBlock=function(Y){if(!this.blocks[Y])throw new Error('unknown block "'+Y+'"');return this.blocks[Y][0]},ne.getSuper=function(Y,X,re,ie,ce,ye){var ge=m.indexOf(this.blocks[X]||[],re),fe=this.blocks[X][ge+1],Me=this;if(ge===-1||!fe)throw new Error('no super block available for "'+X+'"');fe(Y,Me,ie,ce,ye)},ne.addExport=function(Y){this.exported.push(Y)},ne.getExported=function(){var Y=this,X={};return this.exported.forEach(function(re){X[re]=Y.ctx[re]}),X},oe}(P),te=function(V){o(oe,V);function oe(){return V.apply(this,arguments)||this}var ne=oe.prototype;return ne.init=function(Y,X,re,ie){if(this.env=X||new W,m.isObject(Y))switch(Y.type){case"code":this.tmplProps=Y.obj;break;case"string":this.tmplStr=Y.obj;break;default:throw new Error("Unexpected template object type "+Y.type+"; expected 'code', or 'string'")}else if(m.isString(Y))this.tmplStr=Y;else throw new Error("src must be a string or an object describing the source");if(this.path=re,ie)try{this._compile()}catch(ce){throw m._prettifyError(this.path,this.env.opts.dev,ce)}else this.compiled=!1},ne.render=function(Y,X,re){var ie=this;typeof Y=="function"?(re=Y,Y={}):typeof X=="function"&&(re=X,X=null);var ce=!X;try{this.compile()}catch(Ae){var ye=m._prettifyError(this.path,this.env.opts.dev,Ae);if(re)return F(re,ye);throw ye}var ge=new G(Y||{},this.blocks,this.env),fe=X?X.push(!0):new z;fe.topLevel=!0;var Me=null,je=!1;return this.rootRenderFunc(this.env,ge,fe,B,function(Ae,_e){if(!(je&&re&&typeof _e!="undefined"))if(Ae&&(Ae=m._prettifyError(ie.path,ie.env.opts.dev,Ae),je=!0),re)ce?F(re,Ae,_e):re(Ae,_e);else{if(Ae)throw Ae;Me=_e}}),Me},ne.getExported=function(Y,X,re){typeof Y=="function"&&(re=Y,Y={}),typeof X=="function"&&(re=X,X=null);try{this.compile()}catch(ye){if(re)return re(ye);throw ye}var ie=X?X.push():new z;ie.topLevel=!0;var ce=new G(Y||{},this.blocks,this.env);this.rootRenderFunc(this.env,ce,ie,B,function(ye){ye?re(ye,null):re(null,ce.getExported())})},ne.compile=function(){this.compiled||this._compile()},ne._compile=function(){var Y;if(this.tmplProps)Y=this.tmplProps;else{var X=v.compile(this.tmplStr,this.env.asyncFilters,this.env.extensionsList,this.path,this.env.opts),re=new Function(X);Y=re()}this.blocks=this._getBlocks(Y),this.rootRenderFunc=Y.root,this.compiled=!0},ne._getBlocks=function(Y){var X={};return m.keys(Y).forEach(function(re){re.slice(0,2)==="b_"&&(X[re.slice(2)]=Y[re])}),X},oe}(P);n.exports={Environment:W,Template:te}},function(n,r,i){function o(b,N){b.prototype=Object.create(N.prototype),b.prototype.constructor=b,s(b,N)}function s(b,N){return s=Object.setPrototypeOf||function(R,S){return R.__proto__=S,R},s(b,N)}var u=i(9),h=i(3),m=i(1).Obj,v=i(0),w=function(b){o(N,b);function N(){return b.apply(this,arguments)||this}var T=N.prototype;return T.init=function(S){this.tokens=S,this.peeked=null,this.breakOnBlocks=null,this.dropLeadingWhitespace=!1,this.extensions=[]},T.nextToken=function(S){var E;if(this.peeked)if(!S&&this.peeked.type===u.TOKEN_WHITESPACE)this.peeked=null;else return E=this.peeked,this.peeked=null,E;if(E=this.tokens.nextToken(),!S)for(;E&&E.type===u.TOKEN_WHITESPACE;)E=this.tokens.nextToken();return E},T.peekToken=function(){return this.peeked=this.peeked||this.nextToken(),this.peeked},T.pushToken=function(S){if(this.peeked)throw new Error("pushToken: can only push one token on between reads");this.peeked=S},T.error=function(S,E,I){if(E===void 0||I===void 0){var P=this.peekToken()||{};E=P.lineno,I=P.colno}return E!==void 0&&(E+=1),I!==void 0&&(I+=1),new v.TemplateError(S,E,I)},T.fail=function(S,E,I){throw this.error(S,E,I)},T.skip=function(S){var E=this.nextToken();return!E||E.type!==S?(this.pushToken(E),!1):!0},T.expect=function(S){var E=this.nextToken();return E.type!==S&&this.fail("expected "+S+", got "+E.type,E.lineno,E.colno),E},T.skipValue=function(S,E){var I=this.nextToken();return!I||I.type!==S||I.value!==E?(this.pushToken(I),!1):!0},T.skipSymbol=function(S){return this.skipValue(u.TOKEN_SYMBOL,S)},T.advanceAfterBlockEnd=function(S){var E;return S||(E=this.peekToken(),E||this.fail("unexpected end of file"),E.type!==u.TOKEN_SYMBOL&&this.fail("advanceAfterBlockEnd: expected symbol token or explicit name to be passed"),S=this.nextToken().value),E=this.nextToken(),E&&E.type===u.TOKEN_BLOCK_END?E.value.charAt(0)==="-"&&(this.dropLeadingWhitespace=!0):this.fail("expected block end in "+S+" statement"),E},T.advanceAfterVariableEnd=function(){var S=this.nextToken();S&&S.type===u.TOKEN_VARIABLE_END?this.dropLeadingWhitespace=S.value.charAt(S.value.length-this.tokens.tags.VARIABLE_END.length-1)==="-":(this.pushToken(S),this.fail("expected variable end"))},T.parseFor=function(){var S=this.peekToken(),E,I;this.skipSymbol("for")?(E=new h.For(S.lineno,S.colno),I="endfor"):this.skipSymbol("asyncEach")?(E=new h.AsyncEach(S.lineno,S.colno),I="endeach"):this.skipSymbol("asyncAll")?(E=new h.AsyncAll(S.lineno,S.colno),I="endall"):this.fail("parseFor: expected for{Async}",S.lineno,S.colno),E.name=this.parsePrimary(),E.name instanceof h.Symbol||this.fail("parseFor: variable name expected for loop");var P=this.peekToken().type;if(P===u.TOKEN_COMMA){var O=E.name;for(E.name=new h.Array(O.lineno,O.colno),E.name.addChild(O);this.skip(u.TOKEN_COMMA);){var B=this.parsePrimary();E.name.addChild(B)}}return this.skipSymbol("in")||this.fail('parseFor: expected "in" keyword for loop',S.lineno,S.colno),E.arr=this.parseExpression(),this.advanceAfterBlockEnd(S.value),E.body=this.parseUntilBlocks(I,"else"),this.skipSymbol("else")&&(this.advanceAfterBlockEnd("else"),E.else_=this.parseUntilBlocks(I)),this.advanceAfterBlockEnd(),E},T.parseMacro=function(){var S=this.peekToken();this.skipSymbol("macro")||this.fail("expected macro");var E=this.parsePrimary(!0),I=this.parseSignature(),P=new h.Macro(S.lineno,S.colno,E,I);return this.advanceAfterBlockEnd(S.value),P.body=this.parseUntilBlocks("endmacro"),this.advanceAfterBlockEnd(),P},T.parseCall=function(){var S=this.peekToken();this.skipSymbol("call")||this.fail("expected call");var E=this.parseSignature(!0)||new h.NodeList,I=this.parsePrimary();this.advanceAfterBlockEnd(S.value);var P=this.parseUntilBlocks("endcall");this.advanceAfterBlockEnd();var O=new h.Symbol(S.lineno,S.colno,"caller"),B=new h.Caller(S.lineno,S.colno,O,E,P),A=I.args.children;A[A.length-1]instanceof h.KeywordArgs||A.push(new h.KeywordArgs);var z=A[A.length-1];return z.addChild(new h.Pair(S.lineno,S.colno,O,B)),new h.Output(S.lineno,S.colno,[I])},T.parseWithContext=function(){var S=this.peekToken(),E=null;return this.skipSymbol("with")?E=!0:this.skipSymbol("without")&&(E=!1),E!==null&&(this.skipSymbol("context")||this.fail("parseFrom: expected context after with/without",S.lineno,S.colno)),E},T.parseImport=function(){var S=this.peekToken();this.skipSymbol("import")||this.fail("parseImport: expected import",S.lineno,S.colno);var E=this.parseExpression();this.skipSymbol("as")||this.fail('parseImport: expected "as" keyword',S.lineno,S.colno);var I=this.parseExpression(),P=this.parseWithContext(),O=new h.Import(S.lineno,S.colno,E,I,P);return this.advanceAfterBlockEnd(S.value),O},T.parseFrom=function(){var S=this.peekToken();this.skipSymbol("from")||this.fail("parseFrom: expected from");var E=this.parseExpression();this.skipSymbol("import")||this.fail("parseFrom: expected import",S.lineno,S.colno);for(var I=new h.NodeList,P;;){var O=this.peekToken();if(O.type===u.TOKEN_BLOCK_END){I.children.length||this.fail("parseFrom: Expected at least one import name",S.lineno,S.colno),O.value.charAt(0)==="-"&&(this.dropLeadingWhitespace=!0),this.nextToken();break}I.children.length>0&&!this.skip(u.TOKEN_COMMA)&&this.fail("parseFrom: expected comma",S.lineno,S.colno);var B=this.parsePrimary();if(B.value.charAt(0)==="_"&&this.fail("parseFrom: names starting with an underscore cannot be imported",B.lineno,B.colno),this.skipSymbol("as")){var A=this.parsePrimary();I.addChild(new h.Pair(B.lineno,B.colno,B,A))}else I.addChild(B);P=this.parseWithContext()}return new h.FromImport(S.lineno,S.colno,E,I,P)},T.parseBlock=function(){var S=this.peekToken();this.skipSymbol("block")||this.fail("parseBlock: expected block",S.lineno,S.colno);var E=new h.Block(S.lineno,S.colno);E.name=this.parsePrimary(),E.name instanceof h.Symbol||this.fail("parseBlock: variable name expected",S.lineno,S.colno),this.advanceAfterBlockEnd(S.value),E.body=this.parseUntilBlocks("endblock"),this.skipSymbol("endblock"),this.skipSymbol(E.name.value);var I=this.peekToken();return I||this.fail("parseBlock: expected endblock, got end of file"),this.advanceAfterBlockEnd(I.value),E},T.parseExtends=function(){var S="extends",E=this.peekToken();this.skipSymbol(S)||this.fail("parseTemplateRef: expected "+S);var I=new h.Extends(E.lineno,E.colno);return I.template=this.parseExpression(),this.advanceAfterBlockEnd(E.value),I},T.parseInclude=function(){var S="include",E=this.peekToken();this.skipSymbol(S)||this.fail("parseInclude: expected "+S);var I=new h.Include(E.lineno,E.colno);return I.template=this.parseExpression(),this.skipSymbol("ignore")&&this.skipSymbol("missing")&&(I.ignoreMissing=!0),this.advanceAfterBlockEnd(E.value),I},T.parseIf=function(){var S=this.peekToken(),E;this.skipSymbol("if")||this.skipSymbol("elif")||this.skipSymbol("elseif")?E=new h.If(S.lineno,S.colno):this.skipSymbol("ifAsync")?E=new h.IfAsync(S.lineno,S.colno):this.fail("parseIf: expected if, elif, or elseif",S.lineno,S.colno),E.cond=this.parseExpression(),this.advanceAfterBlockEnd(S.value),E.body=this.parseUntilBlocks("elif","elseif","else","endif");var I=this.peekToken();switch(I&&I.value){case"elseif":case"elif":E.else_=this.parseIf();break;case"else":this.advanceAfterBlockEnd(),E.else_=this.parseUntilBlocks("endif"),this.advanceAfterBlockEnd();break;case"endif":E.else_=null,this.advanceAfterBlockEnd();break;default:this.fail("parseIf: expected elif, else, or endif, got end of file")}return E},T.parseSet=function(){var S=this.peekToken();this.skipSymbol("set")||this.fail("parseSet: expected set",S.lineno,S.colno);for(var E=new h.Set(S.lineno,S.colno,[]),I;(I=this.parsePrimary())&&(E.targets.push(I),!!this.skip(u.TOKEN_COMMA)););return this.skipValue(u.TOKEN_OPERATOR,"=")?(E.value=this.parseExpression(),this.advanceAfterBlockEnd(S.value)):this.skip(u.TOKEN_BLOCK_END)?(E.body=new h.Capture(S.lineno,S.colno,this.parseUntilBlocks("endset")),E.value=null,this.advanceAfterBlockEnd()):this.fail("parseSet: expected = or block end in set tag",S.lineno,S.colno),E},T.parseSwitch=function(){var S="switch",E="endswitch",I="case",P="default",O=this.peekToken();!this.skipSymbol(S)&&!this.skipSymbol(I)&&!this.skipSymbol(P)&&this.fail('parseSwitch: expected "switch," "case" or "default"',O.lineno,O.colno);var B=this.parseExpression();this.advanceAfterBlockEnd(S),this.parseUntilBlocks(I,P,E);var A=this.peekToken(),z=[],M;do{this.skipSymbol(I);var F=this.parseExpression();this.advanceAfterBlockEnd(S);var U=this.parseUntilBlocks(I,P,E);z.push(new h.Case(A.line,A.col,F,U)),A=this.peekToken()}while(A&&A.value===I);switch(A.value){case P:this.advanceAfterBlockEnd(),M=this.parseUntilBlocks(E),this.advanceAfterBlockEnd();break;case E:this.advanceAfterBlockEnd();break;default:this.fail('parseSwitch: expected "case," "default" or "endswitch," got EOF.')}return new h.Switch(O.lineno,O.colno,B,z,M)},T.parseStatement=function(){var S=this.peekToken(),E;if(S.type!==u.TOKEN_SYMBOL&&this.fail("tag name expected",S.lineno,S.colno),this.breakOnBlocks&&v.indexOf(this.breakOnBlocks,S.value)!==-1)return null;switch(S.value){case"raw":return this.parseRaw();case"verbatim":return this.parseRaw("verbatim");case"if":case"ifAsync":return this.parseIf();case"for":case"asyncEach":case"asyncAll":return this.parseFor();case"block":return this.parseBlock();case"extends":return this.parseExtends();case"include":return this.parseInclude();case"set":return this.parseSet();case"macro":return this.parseMacro();case"call":return this.parseCall();case"import":return this.parseImport();case"from":return this.parseFrom();case"filter":return this.parseFilterStatement();case"switch":return this.parseSwitch();default:if(this.extensions.length)for(var I=0;I<this.extensions.length;I++){var P=this.extensions[I];if(v.indexOf(P.tags||[],S.value)!==-1)return P.parse(this,h,u)}this.fail("unknown block tag: "+S.value,S.lineno,S.colno)}return E},T.parseRaw=function(S){S=S||"raw";for(var E="end"+S,I=new RegExp("([\\s\\S]*?){%\\s*("+S+"|"+E+")\\s*(?=%})%}"),P=1,O="",B=null,A=this.advanceAfterBlockEnd();(B=this.tokens._extractRegex(I))&&P>0;){var z=B[0],M=B[1],F=B[2];F===S?P+=1:F===E&&(P-=1),P===0?(O+=M,this.tokens.backN(z.length-M.length)):O+=z}return new h.Output(A.lineno,A.colno,[new h.TemplateData(A.lineno,A.colno,O)])},T.parsePostfix=function(S){for(var E,I=this.peekToken();I;){if(I.type===u.TOKEN_LEFT_PAREN)S=new h.FunCall(I.lineno,I.colno,S,this.parseSignature());else if(I.type===u.TOKEN_LEFT_BRACKET)E=this.parseAggregate(),E.children.length>1&&this.fail("invalid index"),S=new h.LookupVal(I.lineno,I.colno,S,E.children[0]);else if(I.type===u.TOKEN_OPERATOR&&I.value==="."){this.nextToken();var P=this.nextToken();P.type!==u.TOKEN_SYMBOL&&this.fail("expected name as lookup value, got "+P.value,P.lineno,P.colno),E=new h.Literal(P.lineno,P.colno,P.value),S=new h.LookupVal(I.lineno,I.colno,S,E)}else break;I=this.peekToken()}return S},T.parseExpression=function(){var S=this.parseInlineIf();return S},T.parseInlineIf=function(){var S=this.parseOr();if(this.skipSymbol("if")){var E=this.parseOr(),I=S;S=new h.InlineIf(S.lineno,S.colno),S.body=I,S.cond=E,this.skipSymbol("else")?S.else_=this.parseOr():S.else_=null}return S},T.parseOr=function(){for(var S=this.parseAnd();this.skipSymbol("or");){var E=this.parseAnd();S=new h.Or(S.lineno,S.colno,S,E)}return S},T.parseAnd=function(){for(var S=this.parseNot();this.skipSymbol("and");){var E=this.parseNot();S=new h.And(S.lineno,S.colno,S,E)}return S},T.parseNot=function(){var S=this.peekToken();return this.skipSymbol("not")?new h.Not(S.lineno,S.colno,this.parseNot()):this.parseIn()},T.parseIn=function(){for(var S=this.parseIs();;){var E=this.nextToken();if(!E)break;var I=E.type===u.TOKEN_SYMBOL&&E.value==="not";if(I||this.pushToken(E),this.skipSymbol("in")){var P=this.parseIs();S=new h.In(S.lineno,S.colno,S,P),I&&(S=new h.Not(S.lineno,S.colno,S))}else{I&&this.pushToken(E);break}}return S},T.parseIs=function(){var S=this.parseCompare();if(this.skipSymbol("is")){var E=this.skipSymbol("not"),I=this.parseCompare();S=new h.Is(S.lineno,S.colno,S,I),E&&(S=new h.Not(S.lineno,S.colno,S))}return S},T.parseCompare=function(){for(var S=["==","===","!=","!==","<",">","<=",">="],E=this.parseConcat(),I=[];;){var P=this.nextToken();if(P)if(S.indexOf(P.value)!==-1)I.push(new h.CompareOperand(P.lineno,P.colno,this.parseConcat(),P.value));else{this.pushToken(P);break}else break}return I.length?new h.Compare(I[0].lineno,I[0].colno,E,I):E},T.parseConcat=function(){for(var S=this.parseAdd();this.skipValue(u.TOKEN_TILDE,"~");){var E=this.parseAdd();S=new h.Concat(S.lineno,S.colno,S,E)}return S},T.parseAdd=function(){for(var S=this.parseSub();this.skipValue(u.TOKEN_OPERATOR,"+");){var E=this.parseSub();S=new h.Add(S.lineno,S.colno,S,E)}return S},T.parseSub=function(){for(var S=this.parseMul();this.skipValue(u.TOKEN_OPERATOR,"-");){var E=this.parseMul();S=new h.Sub(S.lineno,S.colno,S,E)}return S},T.parseMul=function(){for(var S=this.parseDiv();this.skipValue(u.TOKEN_OPERATOR,"*");){var E=this.parseDiv();S=new h.Mul(S.lineno,S.colno,S,E)}return S},T.parseDiv=function(){for(var S=this.parseFloorDiv();this.skipValue(u.TOKEN_OPERATOR,"/");){var E=this.parseFloorDiv();S=new h.Div(S.lineno,S.colno,S,E)}return S},T.parseFloorDiv=function(){for(var S=this.parseMod();this.skipValue(u.TOKEN_OPERATOR,"//");){var E=this.parseMod();S=new h.FloorDiv(S.lineno,S.colno,S,E)}return S},T.parseMod=function(){for(var S=this.parsePow();this.skipValue(u.TOKEN_OPERATOR,"%");){var E=this.parsePow();S=new h.Mod(S.lineno,S.colno,S,E)}return S},T.parsePow=function(){for(var S=this.parseUnary();this.skipValue(u.TOKEN_OPERATOR,"**");){var E=this.parseUnary();S=new h.Pow(S.lineno,S.colno,S,E)}return S},T.parseUnary=function(S){var E=this.peekToken(),I;return this.skipValue(u.TOKEN_OPERATOR,"-")?I=new h.Neg(E.lineno,E.colno,this.parseUnary(!0)):this.skipValue(u.TOKEN_OPERATOR,"+")?I=new h.Pos(E.lineno,E.colno,this.parseUnary(!0)):I=this.parsePrimary(),S||(I=this.parseFilter(I)),I},T.parsePrimary=function(S){var E=this.nextToken(),I,P=null;if(E?E.type===u.TOKEN_STRING?I=E.value:E.type===u.TOKEN_INT?I=parseInt(E.value,10):E.type===u.TOKEN_FLOAT?I=parseFloat(E.value):E.type===u.TOKEN_BOOLEAN?E.value==="true"?I=!0:E.value==="false"?I=!1:this.fail("invalid boolean: "+E.value,E.lineno,E.colno):E.type===u.TOKEN_NONE?I=null:E.type===u.TOKEN_REGEX&&(I=new RegExp(E.value.body,E.value.flags)):this.fail("expected expression, got end of file"),I!==void 0?P=new h.Literal(E.lineno,E.colno,I):E.type===u.TOKEN_SYMBOL?P=new h.Symbol(E.lineno,E.colno,E.value):(this.pushToken(E),P=this.parseAggregate()),S||(P=this.parsePostfix(P)),P)return P;throw this.error("unexpected token: "+E.value,E.lineno,E.colno)},T.parseFilterName=function(){for(var S=this.expect(u.TOKEN_SYMBOL),E=S.value;this.skipValue(u.TOKEN_OPERATOR,".");)E+="."+this.expect(u.TOKEN_SYMBOL).value;return new h.Symbol(S.lineno,S.colno,E)},T.parseFilterArgs=function(S){if(this.peekToken().type===u.TOKEN_LEFT_PAREN){var E=this.parsePostfix(S);return E.args.children}return[]},T.parseFilter=function(S){for(;this.skip(u.TOKEN_PIPE);){var E=this.parseFilterName();S=new h.Filter(E.lineno,E.colno,E,new h.NodeList(E.lineno,E.colno,[S].concat(this.parseFilterArgs(S))))}return S},T.parseFilterStatement=function(){var S=this.peekToken();this.skipSymbol("filter")||this.fail("parseFilterStatement: expected filter");var E=this.parseFilterName(),I=this.parseFilterArgs(E);this.advanceAfterBlockEnd(S.value);var P=new h.Capture(E.lineno,E.colno,this.parseUntilBlocks("endfilter"));this.advanceAfterBlockEnd();var O=new h.Filter(E.lineno,E.colno,E,new h.NodeList(E.lineno,E.colno,[P].concat(I)));return new h.Output(E.lineno,E.colno,[O])},T.parseAggregate=function(){var S=this.nextToken(),E;switch(S.type){case u.TOKEN_LEFT_PAREN:E=new h.Group(S.lineno,S.colno);break;case u.TOKEN_LEFT_BRACKET:E=new h.Array(S.lineno,S.colno);break;case u.TOKEN_LEFT_CURLY:E=new h.Dict(S.lineno,S.colno);break;default:return null}for(;;){var I=this.peekToken().type;if(I===u.TOKEN_RIGHT_PAREN||I===u.TOKEN_RIGHT_BRACKET||I===u.TOKEN_RIGHT_CURLY){this.nextToken();break}if(E.children.length>0&&(this.skip(u.TOKEN_COMMA)||this.fail("parseAggregate: expected comma after expression",S.lineno,S.colno)),E instanceof h.Dict){var P=this.parsePrimary();this.skip(u.TOKEN_COLON)||this.fail("parseAggregate: expected colon after dict key",S.lineno,S.colno);var O=this.parseExpression();E.addChild(new h.Pair(P.lineno,P.colno,P,O))}else{var B=this.parseExpression();E.addChild(B)}}return E},T.parseSignature=function(S,E){var I=this.peekToken();if(!E&&I.type!==u.TOKEN_LEFT_PAREN){if(S)return null;this.fail("expected arguments",I.lineno,I.colno)}I.type===u.TOKEN_LEFT_PAREN&&(I=this.nextToken());for(var P=new h.NodeList(I.lineno,I.colno),O=new h.KeywordArgs(I.lineno,I.colno),B=!1;;){if(I=this.peekToken(),!E&&I.type===u.TOKEN_RIGHT_PAREN){this.nextToken();break}else if(E&&I.type===u.TOKEN_BLOCK_END)break;if(B&&!this.skip(u.TOKEN_COMMA))this.fail("parseSignature: expected comma after expression",I.lineno,I.colno);else{var A=this.parseExpression();this.skipValue(u.TOKEN_OPERATOR,"=")?O.addChild(new h.Pair(A.lineno,A.colno,A,this.parseExpression())):P.addChild(A)}B=!0}return O.children.length&&P.addChild(O),P},T.parseUntilBlocks=function(){for(var S=this.breakOnBlocks,E=arguments.length,I=new Array(E),P=0;P<E;P++)I[P]=arguments[P];this.breakOnBlocks=I;var O=this.parse();return this.breakOnBlocks=S,O},T.parseNodes=function(){for(var S,E=[];S=this.nextToken();)if(S.type===u.TOKEN_DATA){var I=S.value,P=this.peekToken(),O=P&&P.value;this.dropLeadingWhitespace&&(I=I.replace(/^\s*/,""),this.dropLeadingWhitespace=!1),P&&(P.type===u.TOKEN_BLOCK_START&&O.charAt(O.length-1)==="-"||P.type===u.TOKEN_VARIABLE_START&&O.charAt(this.tokens.tags.VARIABLE_START.length)==="-"||P.type===u.TOKEN_COMMENT&&O.charAt(this.tokens.tags.COMMENT_START.length)==="-")&&(I=I.replace(/\s*$/,"")),E.push(new h.Output(S.lineno,S.colno,[new h.TemplateData(S.lineno,S.colno,I)]))}else if(S.type===u.TOKEN_BLOCK_START){this.dropLeadingWhitespace=!1;var B=this.parseStatement();if(!B)break;E.push(B)}else if(S.type===u.TOKEN_VARIABLE_START){var A=this.parseExpression();this.dropLeadingWhitespace=!1,this.advanceAfterVariableEnd(),E.push(new h.Output(S.lineno,S.colno,[A]))}else S.type===u.TOKEN_COMMENT?this.dropLeadingWhitespace=S.value.charAt(S.value.length-this.tokens.tags.COMMENT_END.length-1)==="-":this.fail("Unexpected token at top-level: "+S.type,S.lineno,S.colno);return E},T.parse=function(){return new h.NodeList(0,0,this.parseNodes())},T.parseAsRoot=function(){return new h.Root(0,0,this.parseNodes())},N}(m);n.exports={parse:function(N,T,R){var S=new w(u.lex(N,R));return T!==void 0&&(S.extensions=T),S.parseAsRoot()},Parser:w}},function(n,r,i){var o=i(0),s=` 
	\r\xA0`,u="()[]{}%*-+~/#,:|.<>=!",h="0123456789",m="{%",v="%}",w="{{",b="}}",N="{#",T="#}",R="string",S="whitespace",E="data",I="block-start",P="block-end",O="variable-start",B="variable-end",A="comment",z="left-paren",M="right-paren",F="left-bracket",U="right-bracket",W="left-curly",G="right-curly",te="operator",V="comma",oe="colon",ne="tilde",J="pipe",Y="int",X="float",re="boolean",ie="none",ce="symbol",ye="special",ge="regex";function fe(je,Ae,_e,be){return{type:je,value:Ae,lineno:_e,colno:be}}var Me=function(){function je(_e,be){this.str=_e,this.index=0,this.len=_e.length,this.lineno=0,this.colno=0,this.in_code=!1,be=be||{};var De=be.tags||{};this.tags={BLOCK_START:De.blockStart||m,BLOCK_END:De.blockEnd||v,VARIABLE_START:De.variableStart||w,VARIABLE_END:De.variableEnd||b,COMMENT_START:De.commentStart||N,COMMENT_END:De.commentEnd||T},this.trimBlocks=!!be.trimBlocks,this.lstripBlocks=!!be.lstripBlocks}var Ae=je.prototype;return Ae.nextToken=function(){var be=this.lineno,De=this.colno,Re;if(this.in_code){var Ge=this.current();if(this.isFinished())return null;if(Ge==='"'||Ge==="'")return fe(R,this._parseString(Ge),be,De);if(Re=this._extract(s))return fe(S,Re,be,De);if((Re=this._extractString(this.tags.BLOCK_END))||(Re=this._extractString("-"+this.tags.BLOCK_END)))return this.in_code=!1,this.trimBlocks&&(Ge=this.current(),Ge===`
`?this.forward():Ge==="\r"&&(this.forward(),Ge=this.current(),Ge===`
`?this.forward():this.back())),fe(P,Re,be,De);if((Re=this._extractString(this.tags.VARIABLE_END))||(Re=this._extractString("-"+this.tags.VARIABLE_END)))return this.in_code=!1,fe(B,Re,be,De);if(Ge==="r"&&this.str.charAt(this.index+1)==="/"){this.forwardN(2);for(var ht="";!this.isFinished();)if(this.current()==="/"&&this.previous()!=="\\"){this.forward();break}else ht+=this.current(),this.forward();for(var Dt=["g","i","m","y"],He="";!this.isFinished();){var le=Dt.indexOf(this.current())!==-1;if(le)He+=this.current(),this.forward();else break}return fe(ge,{body:ht,flags:He},be,De)}else if(u.indexOf(Ge)!==-1){this.forward();var ve=["==","===","!=","!==","<=",">=","//","**"],Pe=Ge+this.current(),Ie;switch(o.indexOf(ve,Pe)!==-1&&(this.forward(),Ge=Pe,o.indexOf(ve,Pe+this.current())!==-1&&(Ge=Pe+this.current(),this.forward())),Ge){case"(":Ie=z;break;case")":Ie=M;break;case"[":Ie=F;break;case"]":Ie=U;break;case"{":Ie=W;break;case"}":Ie=G;break;case",":Ie=V;break;case":":Ie=oe;break;case"~":Ie=ne;break;case"|":Ie=J;break;default:Ie=te}return fe(Ie,Ge,be,De)}else if(Re=this._extractUntil(s+u),Re.match(/^[-+]?[0-9]+$/))if(this.current()==="."){this.forward();var ze=this._extract(h);return fe(X,Re+"."+ze,be,De)}else return fe(Y,Re,be,De);else{if(Re.match(/^(true|false)$/))return fe(re,Re,be,De);if(Re==="none")return fe(ie,Re,be,De);if(Re==="null")return fe(ie,Re,be,De);if(Re)return fe(ce,Re,be,De);throw new Error("Unexpected value while parsing: "+Re)}}else{var $e=this.tags.BLOCK_START.charAt(0)+this.tags.VARIABLE_START.charAt(0)+this.tags.COMMENT_START.charAt(0)+this.tags.COMMENT_END.charAt(0);if(this.isFinished())return null;if((Re=this._extractString(this.tags.BLOCK_START+"-"))||(Re=this._extractString(this.tags.BLOCK_START)))return this.in_code=!0,fe(I,Re,be,De);if((Re=this._extractString(this.tags.VARIABLE_START+"-"))||(Re=this._extractString(this.tags.VARIABLE_START)))return this.in_code=!0,fe(O,Re,be,De);Re="";var mt,Je=!1;for(this._matches(this.tags.COMMENT_START)&&(Je=!0,Re=this._extractString(this.tags.COMMENT_START));(mt=this._extractUntil($e))!==null;)if(Re+=mt,(this._matches(this.tags.BLOCK_START)||this._matches(this.tags.VARIABLE_START)||this._matches(this.tags.COMMENT_START))&&!Je){if(this.lstripBlocks&&this._matches(this.tags.BLOCK_START)&&this.colno>0&&this.colno<=Re.length){var Nt=Re.slice(-this.colno);if(/^\s+$/.test(Nt)&&(Re=Re.slice(0,-this.colno),!Re.length))return this.nextToken()}break}else if(this._matches(this.tags.COMMENT_END)){if(!Je)throw new Error("unexpected end of comment");Re+=this._extractString(this.tags.COMMENT_END);break}else Re+=this.current(),this.forward();if(mt===null&&Je)throw new Error("expected end of comment, got end of file");return fe(Je?A:E,Re,be,De)}},Ae._parseString=function(be){this.forward();for(var De="";!this.isFinished()&&this.current()!==be;){var Re=this.current();if(Re==="\\"){switch(this.forward(),this.current()){case"n":De+=`
`;break;case"t":De+="	";break;case"r":De+="\r";break;default:De+=this.current()}this.forward()}else De+=Re,this.forward()}return this.forward(),De},Ae._matches=function(be){if(this.index+be.length>this.len)return null;var De=this.str.slice(this.index,this.index+be.length);return De===be},Ae._extractString=function(be){return this._matches(be)?(this.forwardN(be.length),be):null},Ae._extractUntil=function(be){return this._extractMatching(!0,be||"")},Ae._extract=function(be){return this._extractMatching(!1,be)},Ae._extractMatching=function(be,De){if(this.isFinished())return null;var Re=De.indexOf(this.current());if(be&&Re===-1||!be&&Re!==-1){var Ge=this.current();this.forward();for(var ht=De.indexOf(this.current());(be&&ht===-1||!be&&ht!==-1)&&!this.isFinished();)Ge+=this.current(),this.forward(),ht=De.indexOf(this.current());return Ge}return""},Ae._extractRegex=function(be){var De=this.currentStr().match(be);return De?(this.forwardN(De[0].length),De):null},Ae.isFinished=function(){return this.index>=this.len},Ae.forwardN=function(be){for(var De=0;De<be;De++)this.forward()},Ae.forward=function(){this.index++,this.previous()===`
`?(this.lineno++,this.colno=0):this.colno++},Ae.backN=function(be){for(var De=0;De<be;De++)this.back()},Ae.back=function(){if(this.index--,this.current()===`
`){this.lineno--;var be=this.src.lastIndexOf(`
`,this.index-1);be===-1?this.colno=this.index:this.colno=this.index-be}else this.colno--},Ae.current=function(){return this.isFinished()?"":this.str.charAt(this.index)},Ae.currentStr=function(){return this.isFinished()?"":this.str.substr(this.index)},Ae.previous=function(){return this.str.charAt(this.index-1)},je}();n.exports={lex:function(Ae,_e){return new Me(Ae,_e)},TOKEN_STRING:R,TOKEN_WHITESPACE:S,TOKEN_DATA:E,TOKEN_BLOCK_START:I,TOKEN_BLOCK_END:P,TOKEN_VARIABLE_START:O,TOKEN_VARIABLE_END:B,TOKEN_COMMENT:A,TOKEN_LEFT_PAREN:z,TOKEN_RIGHT_PAREN:M,TOKEN_LEFT_BRACKET:F,TOKEN_RIGHT_BRACKET:U,TOKEN_LEFT_CURLY:W,TOKEN_RIGHT_CURLY:G,TOKEN_OPERATOR:te,TOKEN_COMMA:V,TOKEN_COLON:oe,TOKEN_TILDE:ne,TOKEN_PIPE:J,TOKEN_INT:Y,TOKEN_FLOAT:X,TOKEN_BOOLEAN:re,TOKEN_NONE:ie,TOKEN_SYMBOL:ce,TOKEN_SPECIAL:ye,TOKEN_REGEX:ge}},function(n,r,i){function o(w,b){w.prototype=Object.create(b.prototype),w.prototype.constructor=w,s(w,b)}function s(w,b){return s=Object.setPrototypeOf||function(T,R){return T.__proto__=R,T},s(w,b)}var u=i(6),h=i(19),m=h.PrecompiledLoader,v=function(w){o(b,w);function b(T,R){var S;return S=w.call(this)||this,S.baseURL=T||".",R=R||{},S.useCache=!!R.useCache,S.async=!!R.async,S}var N=b.prototype;return N.resolve=function(R,S){throw new Error("relative templates not support in the browser yet")},N.getSource=function(R,S){var E=this,I=this.useCache,P;return this.fetch(this.baseURL+"/"+R,function(O,B){if(O)if(S)S(O.content);else if(O.status===404)P=null;else throw O.content;else P={src:B,path:R,noCache:!I},E.emit("load",R,P),S&&S(null,P)}),P},N.fetch=function(R,S){if(typeof window=="undefined")throw new Error("WebLoader can only by used in a browser");var E=new XMLHttpRequest,I=!0;E.onreadystatechange=function(){E.readyState===4&&I&&(I=!1,E.status===0||E.status===200?S(null,E.responseText):S({status:E.status,content:E.responseText}))},R+=(R.indexOf("?")===-1?"?":"&")+"s="+new Date().getTime(),E.open("GET",R,this.async),E.send()},b}(u);n.exports={WebLoader:v,PrecompiledLoader:m}},function(n,r,i){var o=i(0),s=i(7),u=s.Environment,h=s.Template,m=i(6),v=i(10),w=i(23),b=i(5),N=i(8),T=i(9),R=i(2),S=i(3),E=i(25),I;function P(O,B){B=B||{},o.isObject(O)&&(B=O,O=null);var A;return v.FileSystemLoader?A=new v.FileSystemLoader(O,{watch:B.watch,noCache:B.noCache}):v.WebLoader&&(A=new v.WebLoader(O,{useCache:B.web&&B.web.useCache,async:B.web&&B.web.async})),I=new u(A,B),B&&B.express&&I.express(B.express),I}n.exports={Environment:u,Template:h,Loader:m,FileSystemLoader:v.FileSystemLoader,NodeResolveLoader:v.NodeResolveLoader,PrecompiledLoader:v.PrecompiledLoader,WebLoader:v.WebLoader,compiler:b,parser:N,lexer:T,runtime:R,lib:o,nodes:S,installJinjaCompat:E,configure:P,reset:function(){I=void 0},compile:function(B,A,z,M){return I||P(),new h(B,A,z,M)},render:function(B,A,z){return I||P(),I.render(B,A,z)},renderString:function(B,A,z){return I||P(),I.renderString(B,A,z)},precompile:w?w.precompile:void 0,precompileString:w?w.precompileString:void 0}},function(n,r,i){var o=i(13),s=[],u=[],h=o.makeRequestCallFromTimer(m);function m(){if(u.length)throw u.shift()}n.exports=v;function v(b){var N;s.length?N=s.pop():N=new w,N.task=b,o(N)}function w(){this.task=null}w.prototype.call=function(){try{this.task.call()}catch(b){v.onerror?v.onerror(b):(u.push(b),h())}finally{this.task=null,s[s.length]=this}}},function(n,r,i){(function(o){n.exports=s;function s(S){u.length||h(),u[u.length]=S}var u=[],h,m=0,v=1024;function w(){for(;m<u.length;){var S=m;if(m=m+1,u[S].call(),m>v){for(var E=0,I=u.length-m;E<I;E++)u[E]=u[E+m];u.length-=m,m=0}}u.length=0,m=0}var b=typeof o!="undefined"?o:self,N=b.MutationObserver||b.WebKitMutationObserver;typeof N=="function"?h=T(w):h=R(w),s.requestFlush=h;function T(S){var E=1,I=new N(S),P=document.createTextNode("");return I.observe(P,{characterData:!0}),function(){E=-E,P.data=E}}function R(S){return function(){var I=setTimeout(O,0),P=setInterval(O,50);function O(){clearTimeout(I),clearInterval(P),S()}}}s.makeRequestCallFromTimer=R}).call(r,i(14))},function(n,r){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(i=window)}n.exports=i},function(n,r,i){var o,s;(function(u){var h=function(){var N=Array.prototype.slice.call(arguments);typeof N[0]=="function"&&N[0].apply(null,N.splice(1))},m=function(N){typeof setImmediate=="function"?setImmediate(N):typeof process!="undefined"&&process.nextTick?process.nextTick(N):setTimeout(N,0)},v=function(N){var T=function(R){var S=function(){return N.length&&N[R].apply(null,arguments),S.next()};return S.next=function(){return R<N.length-1?T(R+1):null},S};return T(0)},w=Array.isArray||function(N){return Object.prototype.toString.call(N)==="[object Array]"},b=function(N,T,R){var S=R?m:h;if(T=T||function(){},!w(N)){var E=new Error("First argument to waterfall must be an array of functions");return T(E)}if(!N.length)return T();var I=function(P){return function(O){if(O)T.apply(null,arguments),T=function(){};else{var B=Array.prototype.slice.call(arguments,1),A=P.next();A?B.push(I(A)):B.push(T),S(function(){P.apply(null,B)})}}};I(v(N))()};o=[],s=function(){return b}.apply(r,o),s!==void 0&&(n.exports=s)})()},function(n,r,i){var o=typeof Reflect=="object"?Reflect:null,s=o&&typeof o.apply=="function"?o.apply:function(M,F,U){return Function.prototype.apply.call(M,F,U)},u;o&&typeof o.ownKeys=="function"?u=o.ownKeys:Object.getOwnPropertySymbols?u=function(M){return Object.getOwnPropertyNames(M).concat(Object.getOwnPropertySymbols(M))}:u=function(M){return Object.getOwnPropertyNames(M)};function h(z){console&&console.warn&&console.warn(z)}var m=Number.isNaN||function(M){return M!==M};function v(){v.init.call(this)}n.exports=v,n.exports.once=A,v.EventEmitter=v,v.prototype._events=void 0,v.prototype._eventsCount=0,v.prototype._maxListeners=void 0;var w=10;function b(z){if(typeof z!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof z)}Object.defineProperty(v,"defaultMaxListeners",{enumerable:!0,get:function(){return w},set:function(z){if(typeof z!="number"||z<0||m(z))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+z+".");w=z}}),v.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},v.prototype.setMaxListeners=function(M){if(typeof M!="number"||M<0||m(M))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+M+".");return this._maxListeners=M,this};function N(z){return z._maxListeners===void 0?v.defaultMaxListeners:z._maxListeners}v.prototype.getMaxListeners=function(){return N(this)},v.prototype.emit=function(M){for(var F=[],U=1;U<arguments.length;U++)F.push(arguments[U]);var W=M==="error",G=this._events;if(G!==void 0)W=W&&G.error===void 0;else if(!W)return!1;if(W){var te;if(F.length>0&&(te=F[0]),te instanceof Error)throw te;var V=new Error("Unhandled error."+(te?" ("+te.message+")":""));throw V.context=te,V}var oe=G[M];if(oe===void 0)return!1;if(typeof oe=="function")s(oe,this,F);else for(var ne=oe.length,J=P(oe,ne),U=0;U<ne;++U)s(J[U],this,F);return!0};function T(z,M,F,U){var W,G,te;if(b(F),G=z._events,G===void 0?(G=z._events=Object.create(null),z._eventsCount=0):(G.newListener!==void 0&&(z.emit("newListener",M,F.listener?F.listener:F),G=z._events),te=G[M]),te===void 0)te=G[M]=F,++z._eventsCount;else if(typeof te=="function"?te=G[M]=U?[F,te]:[te,F]:U?te.unshift(F):te.push(F),W=N(z),W>0&&te.length>W&&!te.warned){te.warned=!0;var V=new Error("Possible EventEmitter memory leak detected. "+te.length+" "+String(M)+" listeners added. Use emitter.setMaxListeners() to increase limit");V.name="MaxListenersExceededWarning",V.emitter=z,V.type=M,V.count=te.length,h(V)}return z}v.prototype.addListener=function(M,F){return T(this,M,F,!1)},v.prototype.on=v.prototype.addListener,v.prototype.prependListener=function(M,F){return T(this,M,F,!0)};function R(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function S(z,M,F){var U={fired:!1,wrapFn:void 0,target:z,type:M,listener:F},W=R.bind(U);return W.listener=F,U.wrapFn=W,W}v.prototype.once=function(M,F){return b(F),this.on(M,S(this,M,F)),this},v.prototype.prependOnceListener=function(M,F){return b(F),this.prependListener(M,S(this,M,F)),this},v.prototype.removeListener=function(M,F){var U,W,G,te,V;if(b(F),W=this._events,W===void 0)return this;if(U=W[M],U===void 0)return this;if(U===F||U.listener===F)--this._eventsCount===0?this._events=Object.create(null):(delete W[M],W.removeListener&&this.emit("removeListener",M,U.listener||F));else if(typeof U!="function"){for(G=-1,te=U.length-1;te>=0;te--)if(U[te]===F||U[te].listener===F){V=U[te].listener,G=te;break}if(G<0)return this;G===0?U.shift():O(U,G),U.length===1&&(W[M]=U[0]),W.removeListener!==void 0&&this.emit("removeListener",M,V||F)}return this},v.prototype.off=v.prototype.removeListener,v.prototype.removeAllListeners=function(M){var F,U,W;if(U=this._events,U===void 0)return this;if(U.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):U[M]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete U[M]),this;if(arguments.length===0){var G=Object.keys(U),te;for(W=0;W<G.length;++W)te=G[W],te!=="removeListener"&&this.removeAllListeners(te);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(F=U[M],typeof F=="function")this.removeListener(M,F);else if(F!==void 0)for(W=F.length-1;W>=0;W--)this.removeListener(M,F[W]);return this};function E(z,M,F){var U=z._events;if(U===void 0)return[];var W=U[M];return W===void 0?[]:typeof W=="function"?F?[W.listener||W]:[W]:F?B(W):P(W,W.length)}v.prototype.listeners=function(M){return E(this,M,!0)},v.prototype.rawListeners=function(M){return E(this,M,!1)},v.listenerCount=function(z,M){return typeof z.listenerCount=="function"?z.listenerCount(M):I.call(z,M)},v.prototype.listenerCount=I;function I(z){var M=this._events;if(M!==void 0){var F=M[z];if(typeof F=="function")return 1;if(F!==void 0)return F.length}return 0}v.prototype.eventNames=function(){return this._eventsCount>0?u(this._events):[]};function P(z,M){for(var F=new Array(M),U=0;U<M;++U)F[U]=z[U];return F}function O(z,M){for(;M+1<z.length;M++)z[M]=z[M+1];z.pop()}function B(z){for(var M=new Array(z.length),F=0;F<M.length;++F)M[F]=z[F].listener||z[F];return M}function A(z,M){return new Promise(function(F,U){function W(){G!==void 0&&z.removeListener("error",G),F([].slice.call(arguments))}var G;M!=="error"&&(G=function(V){z.removeListener(M,W),U(V)},z.once("error",G)),z.once(M,W)})}},function(n,r,i){var o=i(3),s=i(0),u=0;function h(){return"hole_"+u++}function m(I,P){for(var O=null,B=0;B<I.length;B++){var A=P(I[B]);A!==I[B]&&(O||(O=I.slice()),O[B]=A)}return O||I}function v(I,P,O){if(!(I instanceof o.Node))return I;if(!O){var B=P(I);if(B&&B!==I)return B}if(I instanceof o.NodeList){var A=m(I.children,function(W){return v(W,P,O)});A!==I.children&&(I=new o[I.typename](I.lineno,I.colno,A))}else if(I instanceof o.CallExtension){var z=v(I.args,P,O),M=m(I.contentArgs,function(W){return v(W,P,O)});(z!==I.args||M!==I.contentArgs)&&(I=new o[I.typename](I.extName,I.prop,z,M))}else{var F=I.fields.map(function(W){return I[W]}),U=m(F,function(W){return v(W,P,O)});U!==F&&(I=new o[I.typename](I.lineno,I.colno),U.forEach(function(W,G){I[I.fields[G]]=W}))}return O&&P(I)||I}function w(I,P){return v(I,P,!0)}function b(I,P,O){var B=[],A=w(O?I[O]:I,function(z){var M;return z instanceof o.Block?z:((z instanceof o.Filter&&s.indexOf(P,z.name.value)!==-1||z instanceof o.CallExtensionAsync)&&(M=new o.Symbol(z.lineno,z.colno,h()),B.push(new o.FilterAsync(z.lineno,z.colno,z.name,z.args,M))),M)});return O?I[O]=A:I=A,B.length?(B.push(I),new o.NodeList(I.lineno,I.colno,B)):I}function N(I,P){return w(I,function(O){return O instanceof o.Output?b(O,P):O instanceof o.Set?b(O,P,"value"):O instanceof o.For?b(O,P,"arr"):O instanceof o.If?b(O,P,"cond"):O instanceof o.CallExtension?b(O,P,"args"):void 0})}function T(I){return v(I,function(P){if(P instanceof o.Block){var O=!1,B=h();P.body=v(P.body,function(A){if(A instanceof o.FunCall&&A.name.value==="super")return O=!0,new o.Symbol(A.lineno,A.colno,B)}),O&&P.body.children.unshift(new o.Super(0,0,P.name,new o.Symbol(0,0,B)))}})}function R(I){return w(I,function(P){if(!(!(P instanceof o.If)&&!(P instanceof o.For))){var O=!1;if(v(P,function(B){if(B instanceof o.FilterAsync||B instanceof o.IfAsync||B instanceof o.AsyncEach||B instanceof o.AsyncAll||B instanceof o.CallExtensionAsync)return O=!0,B}),O){if(P instanceof o.If)return new o.IfAsync(P.lineno,P.colno,P.cond,P.body,P.else_);if(P instanceof o.For&&!(P instanceof o.AsyncAll))return new o.AsyncEach(P.lineno,P.colno,P.arr,P.name,P.body,P.else_)}}})}function S(I,P){return R(T(N(I,P)))}function E(I,P){return S(I,P||[])}n.exports={transform:E}},function(n,u,i){var o=i(0),s=i(2),u=n.exports={};function h(le,ve){return le==null||le===!1?ve:le}u.abs=Math.abs;function m(le){return le!==le}function v(le,ve,Pe){var Ie,ze=[],$e=[];for(Ie=0;Ie<le.length;Ie++)Ie%ve===0&&$e.length&&(ze.push($e),$e=[]),$e.push(le[Ie]);if($e.length){if(Pe)for(Ie=$e.length;Ie<ve;Ie++)$e.push(Pe);ze.push($e)}return ze}u.batch=v;function w(le){le=h(le,"");var ve=le.toLowerCase();return s.copySafeness(le,ve.charAt(0).toUpperCase()+ve.slice(1))}u.capitalize=w;function b(le,ve){if(le=h(le,""),ve=ve||80,le.length>=ve)return le;var Pe=ve-le.length,Ie=o.repeat(" ",Pe/2-Pe%2),ze=o.repeat(" ",Pe/2);return s.copySafeness(le,Ie+le+ze)}u.center=b;function N(le,ve,Pe){return Pe?le||ve:le!==void 0?le:ve}u.default=N;function T(le,ve,Pe){if(!o.isObject(le))throw new o.TemplateError("dictsort filter: val must be an object");var Ie=[];for(var ze in le)Ie.push([ze,le[ze]]);var $e;if(Pe===void 0||Pe==="key")$e=0;else if(Pe==="value")$e=1;else throw new o.TemplateError("dictsort filter: You can only sort by either key or value");return Ie.sort(function(mt,Je){var Nt=mt[$e],cn=Je[$e];return ve||(o.isString(Nt)&&(Nt=Nt.toUpperCase()),o.isString(cn)&&(cn=cn.toUpperCase())),Nt>cn?1:Nt===cn?0:-1}),Ie}u.dictsort=T;function R(le,ve){return JSON.stringify(le,null,ve)}u.dump=R;function S(le){return le instanceof s.SafeString?le:(le=le==null?"":le,s.markSafe(o.escape(le.toString())))}u.escape=S;function E(le){return le instanceof s.SafeString?le:(le=le==null?"":le,s.markSafe(le.toString()))}u.safe=E;function I(le){return le[0]}u.first=I;function P(le){return le=le==null?"":le,s.markSafe(o.escape(le.toString()))}u.forceescape=P;function O(le,ve){return o.groupBy(le,ve,this.env.opts.throwOnUndefined)}u.groupby=O;function B(le,ve,Pe){if(le=h(le,""),le==="")return"";ve=ve||4;var Ie=le.split(`
`),ze=o.repeat(" ",ve),$e=Ie.map(function(mt,Je){return Je===0&&!Pe?mt:""+ze+mt}).join(`
`);return s.copySafeness(le,$e)}u.indent=B;function A(le,ve,Pe){return ve=ve||"",Pe&&(le=o.map(le,function(Ie){return Ie[Pe]})),le.join(ve)}u.join=A;function z(le){return le[le.length-1]}u.last=z;function M(le){var ve=h(le,"");return ve!==void 0?typeof Map=="function"&&ve instanceof Map||typeof Set=="function"&&ve instanceof Set?ve.size:o.isObject(ve)&&!(ve instanceof s.SafeString)?o.keys(ve).length:ve.length:0}u.length=M;function F(le){if(o.isString(le))return le.split("");if(o.isObject(le))return o._entries(le||{}).map(function(ve){var Pe=ve[0],Ie=ve[1];return{key:Pe,value:Ie}});if(o.isArray(le))return le;throw new o.TemplateError("list filter: type not iterable")}u.list=F;function U(le){return le=h(le,""),le.toLowerCase()}u.lower=U;function W(le){return le==null?"":s.copySafeness(le,le.replace(/\r\n|\n/g,`<br />
`))}u.nl2br=W;function G(le){return le[Math.floor(Math.random()*le.length)]}u.random=G;function te(le){function ve(Pe,Ie,ze){Ie===void 0&&(Ie="truthy");var $e=this,mt=$e.env.getTest(Ie);return o.toArray(Pe).filter(function(Nt){return mt.call($e,Nt,ze)===le})}return ve}u.reject=te(!1);function V(le,ve){return le.filter(function(Pe){return!Pe[ve]})}u.rejectattr=V,u.select=te(!0);function oe(le,ve){return le.filter(function(Pe){return!!Pe[ve]})}u.selectattr=oe;function ne(le,ve,Pe,Ie){var ze=le;if(ve instanceof RegExp)return le.replace(ve,Pe);typeof Ie=="undefined"&&(Ie=-1);var $e="";if(typeof ve=="number")ve=""+ve;else if(typeof ve!="string")return le;if(typeof le=="number"&&(le=""+le),typeof le!="string"&&!(le instanceof s.SafeString))return le;if(ve==="")return $e=Pe+le.split("").join(Pe)+Pe,s.copySafeness(le,$e);var mt=le.indexOf(ve);if(Ie===0||mt===-1)return le;for(var Je=0,Nt=0;mt>-1&&(Ie===-1||Nt<Ie);)$e+=le.substring(Je,mt)+Pe,Je=mt+ve.length,Nt++,mt=le.indexOf(ve,Je);return Je<le.length&&($e+=le.substring(Je)),s.copySafeness(ze,$e)}u.replace=ne;function J(le){var ve;return o.isString(le)?ve=F(le):ve=o.map(le,function(Pe){return Pe}),ve.reverse(),o.isString(le)?s.copySafeness(le,ve.join("")):ve}u.reverse=J;function Y(le,ve,Pe){ve=ve||0;var Ie=Math.pow(10,ve),ze;return Pe==="ceil"?ze=Math.ceil:Pe==="floor"?ze=Math.floor:ze=Math.round,ze(le*Ie)/Ie}u.round=Y;function X(le,ve,Pe){for(var Ie=Math.floor(le.length/ve),ze=le.length%ve,$e=[],mt=0,Je=0;Je<ve;Je++){var Nt=mt+Je*Ie;Je<ze&&mt++;var cn=mt+(Je+1)*Ie,st=le.slice(Nt,cn);Pe&&Je>=ze&&st.push(Pe),$e.push(st)}return $e}u.slice=X;function re(le,ve,Pe){return Pe===void 0&&(Pe=0),ve&&(le=o.map(le,function(Ie){return Ie[ve]})),Pe+le.reduce(function(Ie,ze){return Ie+ze},0)}u.sum=re,u.sort=s.makeMacro(["value","reverse","case_sensitive","attribute"],[],function(ve,Pe,Ie,ze){var $e=this,mt=o.map(ve,function(Nt){return Nt}),Je=o.getAttrGetter(ze);return mt.sort(function(Nt,cn){var st=ze?Je(Nt):Nt,nt=ze?Je(cn):cn;if($e.env.opts.throwOnUndefined&&ze&&(st===void 0||nt===void 0))throw new TypeError('sort: attribute "'+ze+'" resolved to undefined');return!Ie&&o.isString(st)&&o.isString(nt)&&(st=st.toLowerCase(),nt=nt.toLowerCase()),st<nt?Pe?1:-1:st>nt?Pe?-1:1:0}),mt});function ie(le){return s.copySafeness(le,le)}u.string=ie;function ce(le,ve){le=h(le,"");var Pe=/<\/?([a-z][a-z0-9]*)\b[^>]*>|<!--[\s\S]*?-->/gi,Ie=ge(le.replace(Pe,"")),ze="";return ve?ze=Ie.replace(/^ +| +$/gm,"").replace(/ +/g," ").replace(/(\r\n)/g,`
`).replace(/\n\n\n+/g,`

`):ze=Ie.replace(/\s+/gi," "),s.copySafeness(le,ze)}u.striptags=ce;function ye(le){le=h(le,"");var ve=le.split(" ").map(function(Pe){return w(Pe)});return s.copySafeness(le,ve.join(" "))}u.title=ye;function ge(le){return s.copySafeness(le,le.replace(/^\s*|\s*$/g,""))}u.trim=ge;function fe(le,ve,Pe,Ie){var ze=le;if(le=h(le,""),ve=ve||255,le.length<=ve)return le;if(Pe)le=le.substring(0,ve);else{var $e=le.lastIndexOf(" ",ve);$e===-1&&($e=ve),le=le.substring(0,$e)}return le+=Ie!=null?Ie:"...",s.copySafeness(ze,le)}u.truncate=fe;function Me(le){return le=h(le,""),le.toUpperCase()}u.upper=Me;function je(le){var ve=encodeURIComponent;if(o.isString(le))return ve(le);var Pe=o.isArray(le)?le:o._entries(le);return Pe.map(function(Ie){var ze=Ie[0],$e=Ie[1];return ve(ze)+"="+ve($e)}).join("&")}u.urlencode=je;var Ae=/^(?:\(|<|&lt;)?(.*?)(?:\.|,|\)|\n|&gt;)?$/,_e=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,be=/^https?:\/\/.*$/,De=/^www\./,Re=/\.(?:org|net|com)(?:\:|\/|$)/;function Ge(le,ve,Pe){m(ve)&&(ve=1/0);var Ie=Pe===!0?' rel="nofollow"':"",ze=le.split(/(\s+)/).filter(function($e){return $e&&$e.length}).map(function($e){var mt=$e.match(Ae),Je=mt?mt[1]:$e,Nt=Je.substr(0,ve);return be.test(Je)?'<a href="'+Je+'"'+Ie+">"+Nt+"</a>":De.test(Je)?'<a href="http://'+Je+'"'+Ie+">"+Nt+"</a>":_e.test(Je)?'<a href="mailto:'+Je+'">'+Je+"</a>":Re.test(Je)?'<a href="http://'+Je+'"'+Ie+">"+Nt+"</a>":$e});return ze.join("")}u.urlize=Ge;function ht(le){le=h(le,"");var ve=le?le.match(/\w+/g):null;return ve?ve.length:null}u.wordcount=ht;function Dt(le,ve){var Pe=parseFloat(le);return m(Pe)?ve:Pe}u.float=Dt;var He=s.makeMacro(["value","default","base"],[],function(ve,Pe,Ie){Ie===void 0&&(Ie=10);var ze=parseInt(ve,Ie);return m(ze)?Pe:ze});u.int=He,u.d=u.default,u.e=u.escape},function(n,r,i){function o(m,v){m.prototype=Object.create(v.prototype),m.prototype.constructor=m,s(m,v)}function s(m,v){return s=Object.setPrototypeOf||function(b,N){return b.__proto__=N,b},s(m,v)}var u=i(6),h=function(m){o(v,m);function v(b){var N;return N=m.call(this)||this,N.precompiled=b||{},N}var w=v.prototype;return w.getSource=function(N){return this.precompiled[N]?{src:{type:"code",obj:this.precompiled[N]},path:N}:null},v}(u);n.exports={PrecompiledLoader:h}},function(n,r,i){var o=i(2).SafeString;function s(G){return typeof G=="function"}r.callable=s;function u(G){return G!==void 0}r.defined=u;function h(G,te){return G%te===0}r.divisibleby=h;function m(G){return G instanceof o}r.escaped=m;function v(G,te){return G===te}r.equalto=v,r.eq=r.equalto,r.sameas=r.equalto;function w(G){return G%2===0}r.even=w;function b(G){return!G}r.falsy=b;function N(G,te){return G>=te}r.ge=N;function T(G,te){return G>te}r.greaterthan=T,r.gt=r.greaterthan;function R(G,te){return G<=te}r.le=R;function S(G,te){return G<te}r.lessthan=S,r.lt=r.lessthan;function E(G){return G.toLowerCase()===G}r.lower=E;function I(G,te){return G!==te}r.ne=I;function P(G){return G===null}r.null=P;function O(G){return typeof G=="number"}r.number=O;function B(G){return G%2===1}r.odd=B;function A(G){return typeof G=="string"}r.string=A;function z(G){return!!G}r.truthy=z;function M(G){return G===void 0}r.undefined=M;function F(G){return G.toUpperCase()===G}r.upper=F;function U(G){return typeof Symbol!="undefined"?!!G[Symbol.iterator]:Array.isArray(G)||typeof G=="string"}r.iterable=U;function W(G){var te=G!=null&&typeof G=="object"&&!Array.isArray(G);return Set?te&&!(G instanceof Set):te}r.mapping=W},function(n,r,i){function o(h){var m=-1;return{current:null,reset:function(){m=-1,this.current=null},next:function(){return m++,m>=h.length&&(m=0),this.current=h[m],this.current}}}function s(h){h=h||",";var m=!0;return function(){var v=m?"":h;return m=!1,v}}function u(){return{range:function(m,v,w){typeof v=="undefined"?(v=m,m=0,w=1):w||(w=1);var b=[];if(w>0)for(var N=m;N<v;N+=w)b.push(N);else for(var T=m;T>v;T+=w)b.push(T);return b},cycler:function(){return o(Array.prototype.slice.call(arguments))},joiner:function(m){return s(m)}}}n.exports=u},function(n,r,i){var o=i(4);n.exports=function(u,h){function m(v,w){if(this.name=v,this.path=v,this.defaultEngine=w.defaultEngine,this.ext=o.extname(v),!this.ext&&!this.defaultEngine)throw new Error("No default engine was specified and no extension was provided.");this.ext||(this.name+=this.ext=(this.defaultEngine[0]!=="."?".":"")+this.defaultEngine)}return m.prototype.render=function(w,b){u.render(this.name,w,b)},h.set("view",m),h.set("nunjucksEnv",u),u}},function(n,r,i){var o=i(4),s=i(4),u=i(0),h=u._prettifyError,m=i(5),v=i(7),w=v.Environment,b=i(24);function N(E,I){return Array.isArray(I)?I.some(function(P){return E.match(P)}):!1}function T(E,I){I=I||{},I.isString=!0;var P=I.env||new w([]),O=I.wrapper||b;if(!I.name)throw new Error('the "name" option is required when compiling a string');return O([S(E,I.name,P)],I)}function R(E,I){I=I||{};var P=I.env||new w([]),O=I.wrapper||b;if(I.isString)return T(E,I);var B=o.existsSync(E)&&o.statSync(E),A=[],z=[];function M(W){o.readdirSync(W).forEach(function(G){var te=s.join(W,G),V=te.substr(s.join(E,"/").length),oe=o.statSync(te);oe&&oe.isDirectory()?(V+="/",N(V,I.exclude)||M(te)):N(V,I.include)&&z.push(te)})}if(B.isFile())A.push(S(o.readFileSync(E,"utf-8"),I.name||E,P));else if(B.isDirectory()){M(E);for(var F=0;F<z.length;F++){var U=z[F].replace(s.join(E,"/"),"");try{A.push(S(o.readFileSync(z[F],"utf-8"),U,P))}catch(W){if(I.force)console.error(W);else throw W}}}return O(A,I)}function S(E,I,P){P=P||new w([]);var O=P.asyncFilters,B=P.extensionsList,A;I=I.replace(/\\/g,"/");try{A=m.compile(E,O,B,I,P.opts)}catch(z){throw h(I,!1,z)}return{name:I,template:A}}n.exports={precompile:R,precompileString:T}},function(n,r,i){function o(s,u){var h="";u=u||{};for(var m=0;m<s.length;m++){var v=JSON.stringify(s[m].name),w=s[m].template;h+="(function() {(window.nunjucksPrecompiled = window.nunjucksPrecompiled || {})["+v+`] = (function() {
`+w+`
})();
`,u.asFunction&&(h+="return function(ctx, cb) { return nunjucks.render("+v+`, ctx, cb); }
`),h+=`})();
`}return h}n.exports=o},function(n,r,i){function o(){var s=this.runtime,u=this.lib,h=this.compiler.Compiler,m=this.parser.Parser,v=this.nodes,w=this.lexer,b=s.contextOrFrameLookup,N=s.memberLookup,T,R;h&&(T=h.prototype.assertType),m&&(R=m.prototype.parseAggregate);function S(){s.contextOrFrameLookup=b,s.memberLookup=N,h&&(h.prototype.assertType=T),m&&(m.prototype.parseAggregate=R)}s.contextOrFrameLookup=function(M,F,U){var W=b.apply(this,arguments);if(W!==void 0)return W;switch(U){case"True":return!0;case"False":return!1;case"None":return null;default:return}};function E(z){return{index:z.index,lineno:z.lineno,colno:z.colno}}if(v&&h&&m){var I=v.Node.extend("Slice",{fields:["start","stop","step"],init:function(M,F,U,W,G){U=U||new v.Literal(M,F,null),W=W||new v.Literal(M,F,null),G=G||new v.Literal(M,F,1),this.parent(M,F,U,W,G)}});h.prototype.assertType=function(M){M instanceof I||T.apply(this,arguments)},h.prototype.compileSlice=function(M,F){this._emit("("),this._compileExpression(M.start,F),this._emit("),("),this._compileExpression(M.stop,F),this._emit("),("),this._compileExpression(M.step,F),this._emit(")")},m.prototype.parseAggregate=function(){var M=this,F=E(this.tokens);F.colno--,F.index--;try{return R.apply(this)}catch(J){var U=E(this.tokens),W=function(){return u._assign(M.tokens,U),J};u._assign(this.tokens,F),this.peeked=!1;var G=this.peekToken();if(G.type!==w.TOKEN_LEFT_BRACKET)throw W();this.nextToken();for(var te=new I(G.lineno,G.colno),V=!1,oe=0;oe<=te.fields.length&&!this.skip(w.TOKEN_RIGHT_BRACKET);oe++){if(oe===te.fields.length)if(V)this.fail("parseSlice: too many slice components",G.lineno,G.colno);else break;if(this.skip(w.TOKEN_COLON))V=!0;else{var ne=te.fields[oe];te[ne]=this.parseExpression(),V=this.skip(w.TOKEN_COLON)||V}}if(!V)throw W();return new v.Array(G.lineno,G.colno,[te])}}}function P(z,M,F,U){z=z||[],M===null&&(M=U<0?z.length-1:0),F===null?F=U<0?-1:z.length:F<0&&(F+=z.length),M<0&&(M+=z.length);for(var W=[],G=M;!(G<0||G>z.length||U>0&&G>=F||U<0&&G<=F);G+=U)W.push(s.memberLookup(z,G));return W}function O(z,M){return Object.prototype.hasOwnProperty.call(z,M)}var B={pop:function(M){if(M===void 0)return this.pop();if(M>=this.length||M<0)throw new Error("KeyError");return this.splice(M,1)},append:function(M){return this.push(M)},remove:function(M){for(var F=0;F<this.length;F++)if(this[F]===M)return this.splice(F,1);throw new Error("ValueError")},count:function(M){for(var F=0,U=0;U<this.length;U++)this[U]===M&&F++;return F},index:function(M){var F;if((F=this.indexOf(M))===-1)throw new Error("ValueError");return F},find:function(M){return this.indexOf(M)},insert:function(M,F){return this.splice(M,0,F)}},A={items:function(){return u._entries(this)},values:function(){return u._values(this)},keys:function(){return u.keys(this)},get:function(M,F){var U=this[M];return U===void 0&&(U=F),U},has_key:function(M){return O(this,M)},pop:function(M,F){var U=this[M];if(U===void 0&&F!==void 0)U=F;else{if(U===void 0)throw new Error("KeyError");delete this[M]}return U},popitem:function(){var M=u.keys(this);if(!M.length)throw new Error("KeyError");var F=M[0],U=this[F];return delete this[F],[F,U]},setdefault:function(M,F){return F===void 0&&(F=null),M in this||(this[M]=F),this[M]},update:function(M){return u._assign(this,M),null}};return A.iteritems=A.items,A.itervalues=A.values,A.iterkeys=A.keys,s.memberLookup=function(M,F,U){return arguments.length===4?P.apply(this,arguments):(M=M||{},u.isArray(M)&&O(B,F)?B[F].bind(M):u.isObject(M)&&O(A,F)?A[F].bind(M):N.apply(this,arguments))},S}n.exports=o}])})})(M1);var Rm=L1(M1.exports),Q={exports:{}},Bt={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var uI=Object.getOwnPropertySymbols,b$=Object.prototype.hasOwnProperty,S$=Object.prototype.propertyIsEnumerable;function E$(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function C$(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var z1=C$()?Object.assign:function(e,t){for(var n,r=E$(e),i,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var s in n)b$.call(n,s)&&(r[s]=n[s]);if(uI){i=uI(n);for(var u=0;u<i.length;u++)S$.call(n,i[u])&&(r[i[u]]=n[i[u]])}}return r};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AS=z1,vf=60103,B1=60106;Bt.Fragment=60107;Bt.StrictMode=60108;Bt.Profiler=60114;var F1=60109,U1=60110,$1=60112;Bt.Suspense=60113;var W1=60115,j1=60116;if(typeof Symbol=="function"&&Symbol.for){var wo=Symbol.for;vf=wo("react.element"),B1=wo("react.portal"),Bt.Fragment=wo("react.fragment"),Bt.StrictMode=wo("react.strict_mode"),Bt.Profiler=wo("react.profiler"),F1=wo("react.provider"),U1=wo("react.context"),$1=wo("react.forward_ref"),Bt.Suspense=wo("react.suspense"),W1=wo("react.memo"),j1=wo("react.lazy")}var cI=typeof Symbol=="function"&&Symbol.iterator;function x$(e){return e===null||typeof e!="object"?null:(e=cI&&e[cI]||e["@@iterator"],typeof e=="function"?e:null)}function Hh(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var K1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q1={};function yf(e,t,n){this.props=e,this.context=t,this.refs=q1,this.updater=n||K1}yf.prototype.isReactComponent={};yf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(Hh(85));this.updater.enqueueSetState(this,e,t,"setState")};yf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function V1(){}V1.prototype=yf.prototype;function RS(e,t,n){this.props=e,this.context=t,this.refs=q1,this.updater=n||K1}var PS=RS.prototype=new V1;PS.constructor=RS;AS(PS,yf.prototype);PS.isPureReactComponent=!0;var kS={current:null},H1=Object.prototype.hasOwnProperty,G1={key:!0,ref:!0,__self:!0,__source:!0};function Y1(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)H1.call(t,r)&&!G1.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var h=Array(u),m=0;m<u;m++)h[m]=arguments[m+2];i.children=h}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:vf,type:e,key:o,ref:s,props:i,_owner:kS.current}}function N$(e,t){return{$$typeof:vf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function DS(e){return typeof e=="object"&&e!==null&&e.$$typeof===vf}function I$(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var fI=/\/+/g;function Dw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?I$(""+e.key):t.toString(36)}function Pm(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case vf:case B1:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Dw(s,0):r,Array.isArray(i)?(n="",e!=null&&(n=e.replace(fI,"$&/")+"/"),Pm(i,t,n,"",function(m){return m})):i!=null&&(DS(i)&&(i=N$(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(fI,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){o=e[u];var h=r+Dw(o,u);s+=Pm(o,t,n,h,i)}else if(h=x$(e),typeof h=="function")for(e=h.call(e),u=0;!(o=e.next()).done;)o=o.value,h=r+Dw(o,u++),s+=Pm(o,t,n,h,i);else if(o==="object")throw t=""+e,Error(Hh(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function tm(e,t,n){if(e==null)return e;var r=[],i=0;return Pm(e,r,"","",function(o){return t.call(n,o,i++)}),r}function T$(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(n){e._status===0&&(n=n.default,e._status=1,e._result=n)},function(n){e._status===0&&(e._status=2,e._result=n)})}if(e._status===1)return e._result;throw e._result}var X1={current:null};function Ha(){var e=X1.current;if(e===null)throw Error(Hh(321));return e}var O$={ReactCurrentDispatcher:X1,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:kS,IsSomeRendererActing:{current:!1},assign:AS};Bt.Children={map:tm,forEach:function(e,t,n){tm(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return tm(e,function(){t++}),t},toArray:function(e){return tm(e,function(t){return t})||[]},only:function(e){if(!DS(e))throw Error(Hh(143));return e}};Bt.Component=yf;Bt.PureComponent=RS;Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O$;Bt.cloneElement=function(e,t,n){if(e==null)throw Error(Hh(267,e));var r=AS({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=kS.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(h in t)H1.call(t,h)&&!G1.hasOwnProperty(h)&&(r[h]=t[h]===void 0&&u!==void 0?u[h]:t[h])}var h=arguments.length-2;if(h===1)r.children=n;else if(1<h){u=Array(h);for(var m=0;m<h;m++)u[m]=arguments[m+2];r.children=u}return{$$typeof:vf,type:e.type,key:i,ref:o,props:r,_owner:s}};Bt.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:U1,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:F1,_context:e},e.Consumer=e};Bt.createElement=Y1;Bt.createFactory=function(e){var t=Y1.bind(null,e);return t.type=e,t};Bt.createRef=function(){return{current:null}};Bt.forwardRef=function(e){return{$$typeof:$1,render:e}};Bt.isValidElement=DS;Bt.lazy=function(e){return{$$typeof:j1,_payload:{_status:-1,_result:e},_init:T$}};Bt.memo=function(e,t){return{$$typeof:W1,type:e,compare:t===void 0?null:t}};Bt.useCallback=function(e,t){return Ha().useCallback(e,t)};Bt.useContext=function(e,t){return Ha().useContext(e,t)};Bt.useDebugValue=function(){};Bt.useEffect=function(e,t){return Ha().useEffect(e,t)};Bt.useImperativeHandle=function(e,t,n){return Ha().useImperativeHandle(e,t,n)};Bt.useLayoutEffect=function(e,t){return Ha().useLayoutEffect(e,t)};Bt.useMemo=function(e,t){return Ha().useMemo(e,t)};Bt.useReducer=function(e,t,n){return Ha().useReducer(e,t,n)};Bt.useRef=function(e){return Ha().useRef(e)};Bt.useState=function(e){return Ha().useState(e)};Bt.version="17.0.2";Q.exports=Bt;var Yr=Q.exports,mv={exports:{}},eo={},J1={exports:{}},Q1={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){var t,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var h=null,m=null,v=function(){if(h!==null)try{var ie=e.unstable_now();h(!0,ie),h=null}catch(ce){throw setTimeout(v,0),ce}};t=function(ie){h!==null?setTimeout(t,0,ie):(h=ie,setTimeout(v,0))},n=function(ie,ce){m=setTimeout(ie,ce)},r=function(){clearTimeout(m)},e.unstable_shouldYield=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var w=window.setTimeout,b=window.clearTimeout;if(typeof console!="undefined"){var N=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof N!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var T=!1,R=null,S=-1,E=5,I=0;e.unstable_shouldYield=function(){return e.unstable_now()>=I},i=function(){},e.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<ie?Math.floor(1e3/ie):5};var P=new MessageChannel,O=P.port2;P.port1.onmessage=function(){if(R!==null){var ie=e.unstable_now();I=ie+E;try{R(!0,ie)?O.postMessage(null):(T=!1,R=null)}catch(ce){throw O.postMessage(null),ce}}else T=!1},t=function(ie){R=ie,T||(T=!0,O.postMessage(null))},n=function(ie,ce){S=w(function(){ie(e.unstable_now())},ce)},r=function(){b(S),S=-1}}function B(ie,ce){var ye=ie.length;ie.push(ce);e:for(;;){var ge=ye-1>>>1,fe=ie[ge];if(fe!==void 0&&0<M(fe,ce))ie[ge]=ce,ie[ye]=fe,ye=ge;else break e}}function A(ie){return ie=ie[0],ie===void 0?null:ie}function z(ie){var ce=ie[0];if(ce!==void 0){var ye=ie.pop();if(ye!==ce){ie[0]=ye;e:for(var ge=0,fe=ie.length;ge<fe;){var Me=2*(ge+1)-1,je=ie[Me],Ae=Me+1,_e=ie[Ae];if(je!==void 0&&0>M(je,ye))_e!==void 0&&0>M(_e,je)?(ie[ge]=_e,ie[Ae]=ye,ge=Ae):(ie[ge]=je,ie[Me]=ye,ge=Me);else if(_e!==void 0&&0>M(_e,ye))ie[ge]=_e,ie[Ae]=ye,ge=Ae;else break e}}return ce}return null}function M(ie,ce){var ye=ie.sortIndex-ce.sortIndex;return ye!==0?ye:ie.id-ce.id}var F=[],U=[],W=1,G=null,te=3,V=!1,oe=!1,ne=!1;function J(ie){for(var ce=A(U);ce!==null;){if(ce.callback===null)z(U);else if(ce.startTime<=ie)z(U),ce.sortIndex=ce.expirationTime,B(F,ce);else break;ce=A(U)}}function Y(ie){if(ne=!1,J(ie),!oe)if(A(F)!==null)oe=!0,t(X);else{var ce=A(U);ce!==null&&n(Y,ce.startTime-ie)}}function X(ie,ce){oe=!1,ne&&(ne=!1,r()),V=!0;var ye=te;try{for(J(ce),G=A(F);G!==null&&(!(G.expirationTime>ce)||ie&&!e.unstable_shouldYield());){var ge=G.callback;if(typeof ge=="function"){G.callback=null,te=G.priorityLevel;var fe=ge(G.expirationTime<=ce);ce=e.unstable_now(),typeof fe=="function"?G.callback=fe:G===A(F)&&z(F),J(ce)}else z(F);G=A(F)}if(G!==null)var Me=!0;else{var je=A(U);je!==null&&n(Y,je.startTime-ce),Me=!1}return Me}finally{G=null,te=ye,V=!1}}var re=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ie){ie.callback=null},e.unstable_continueExecution=function(){oe||V||(oe=!0,t(X))},e.unstable_getCurrentPriorityLevel=function(){return te},e.unstable_getFirstCallbackNode=function(){return A(F)},e.unstable_next=function(ie){switch(te){case 1:case 2:case 3:var ce=3;break;default:ce=te}var ye=te;te=ce;try{return ie()}finally{te=ye}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=re,e.unstable_runWithPriority=function(ie,ce){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ye=te;te=ie;try{return ce()}finally{te=ye}},e.unstable_scheduleCallback=function(ie,ce,ye){var ge=e.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?ge+ye:ge):ye=ge,ie){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=ye+fe,ie={id:W++,callback:ce,priorityLevel:ie,startTime:ye,expirationTime:fe,sortIndex:-1},ye>ge?(ie.sortIndex=ye,B(U,ie),A(F)===null&&ie===A(U)&&(ne?r():ne=!0,n(Y,ye-ge))):(ie.sortIndex=fe,B(F,ie),oe||V||(oe=!0,t(X))),ie},e.unstable_wrapCallback=function(ie){var ce=te;return function(){var ye=te;te=ce;try{return ie.apply(this,arguments)}finally{te=ye}}}})(Q1);J1.exports=Q1;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv=Q.exports,dn=z1,Gn=J1.exports;function ke(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!gv)throw Error(ke(227));var Z1=new Set,dh={};function Au(e,t){Jc(e,t),Jc(e+"Capture",t)}function Jc(e,t){for(dh[e]=t,e=0;e<t.length;e++)Z1.add(t[e])}var qa=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),_$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dI=Object.prototype.hasOwnProperty,hI={},pI={};function A$(e){return dI.call(pI,e)?!0:dI.call(hI,e)?!1:_$.test(e)?pI[e]=!0:(hI[e]=!0,!1)}function R$(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function P$(e,t,n,r){if(t===null||typeof t=="undefined"||R$(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Dr(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var lr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){lr[e]=new Dr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];lr[t]=new Dr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){lr[e]=new Dr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){lr[e]=new Dr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){lr[e]=new Dr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){lr[e]=new Dr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){lr[e]=new Dr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){lr[e]=new Dr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){lr[e]=new Dr(e,5,!1,e.toLowerCase(),null,!1,!1)});var LS=/[\-:]([a-z])/g;function MS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(LS,MS);lr[t]=new Dr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(LS,MS);lr[t]=new Dr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(LS,MS);lr[t]=new Dr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){lr[e]=new Dr(e,1,!1,e.toLowerCase(),null,!1,!1)});lr.xlinkHref=new Dr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){lr[e]=new Dr(e,1,!1,e.toLowerCase(),null,!0,!0)});function zS(e,t,n,r){var i=lr.hasOwnProperty(t)?lr[t]:null,o=i!==null?i.type===0:r?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");o||(P$(t,n,i,r)&&(n=null),r||i===null?A$(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ru=gv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ad=60103,iu=60106,As=60107,BS=60108,Wd=60114,FS=60109,US=60110,vv=60112,jd=60113,rg=60120,yv=60115,$S=60116,WS=60121,jS=60128,eA=60129,KS=60130,Jb=60131;if(typeof Symbol=="function"&&Symbol.for){var Kn=Symbol.for;Ad=Kn("react.element"),iu=Kn("react.portal"),As=Kn("react.fragment"),BS=Kn("react.strict_mode"),Wd=Kn("react.profiler"),FS=Kn("react.provider"),US=Kn("react.context"),vv=Kn("react.forward_ref"),jd=Kn("react.suspense"),rg=Kn("react.suspense_list"),yv=Kn("react.memo"),$S=Kn("react.lazy"),WS=Kn("react.block"),Kn("react.scope"),jS=Kn("react.opaque.id"),eA=Kn("react.debug_trace_mode"),KS=Kn("react.offscreen"),Jb=Kn("react.legacy_hidden")}var mI=typeof Symbol=="function"&&Symbol.iterator;function ld(e){return e===null||typeof e!="object"?null:(e=mI&&e[mI]||e["@@iterator"],typeof e=="function"?e:null)}var Lw;function Rd(e){if(Lw===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Lw=t&&t[1]||""}return`
`+Lw+e}var Mw=!1;function nm(e,t){if(!e||Mw)return"";Mw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,u=o.length-1;1<=s&&0<=u&&i[s]!==o[u];)u--;for(;1<=s&&0<=u;s--,u--)if(i[s]!==o[u]){if(s!==1||u!==1)do if(s--,u--,0>u||i[s]!==o[u])return`
`+i[s].replace(" at new "," at ");while(1<=s&&0<=u);break}}}finally{Mw=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Rd(e):""}function k$(e){switch(e.tag){case 5:return Rd(e.type);case 16:return Rd("Lazy");case 13:return Rd("Suspense");case 19:return Rd("SuspenseList");case 0:case 2:case 15:return e=nm(e.type,!1),e;case 11:return e=nm(e.type.render,!1),e;case 22:return e=nm(e.type._render,!1),e;case 1:return e=nm(e.type,!0),e;default:return""}}function Dc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case As:return"Fragment";case iu:return"Portal";case Wd:return"Profiler";case BS:return"StrictMode";case jd:return"Suspense";case rg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case US:return(e.displayName||"Context")+".Consumer";case FS:return(e._context.displayName||"Context")+".Provider";case vv:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case yv:return Dc(e.type);case WS:return Dc(e._render);case $S:t=e._payload,e=e._init;try{return Dc(e(t))}catch{}}return null}function Zs(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function tA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function D$(e){var t=tA(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rm(e){e._valueTracker||(e._valueTracker=D$(e))}function nA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=tA(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ig(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qb(e,t){var n=t.checked;return dn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function gI(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Zs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function rA(e,t){t=t.checked,t!=null&&zS(e,"checked",t,!1)}function Zb(e,t){rA(e,t);var n=Zs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?e0(e,t.type,n):t.hasOwnProperty("defaultValue")&&e0(e,t.type,Zs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vI(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function e0(e,t,n){(t!=="number"||ig(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function L$(e){var t="";return gv.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function t0(e,t){return e=dn({children:void 0},t),(t=L$(t.children))&&(e.children=t),e}function Lc(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Zs(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function n0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ke(91));return dn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yI(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ke(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(ke(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Zs(n)}}function iA(e,t){var n=Zs(t.value),r=Zs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function wI(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var r0={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function oA(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function i0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?oA(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var im,aA=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!==r0.svg||"innerHTML"in e)e.innerHTML=t;else{for(im=im||document.createElement("div"),im.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=im.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function hh(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Kd={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},M$=["Webkit","ms","Moz","O"];Object.keys(Kd).forEach(function(e){M$.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kd[t]=Kd[e]})});function sA(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Kd.hasOwnProperty(e)&&Kd[e]?(""+t).trim():t+"px"}function lA(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=sA(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var z$=dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function o0(e,t){if(t){if(z$[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ke(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ke(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(ke(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ke(62))}}function a0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function qS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var s0=null,Mc=null,zc=null;function bI(e){if(e=Yh(e)){if(typeof s0!="function")throw Error(ke(280));var t=e.stateNode;t&&(t=xv(t),s0(e.stateNode,e.type,t))}}function uA(e){Mc?zc?zc.push(e):zc=[e]:Mc=e}function cA(){if(Mc){var e=Mc,t=zc;if(zc=Mc=null,bI(e),t)for(e=0;e<t.length;e++)bI(t[e])}}function VS(e,t){return e(t)}function fA(e,t,n,r,i){return e(t,n,r,i)}function HS(){}var dA=VS,ou=!1,zw=!1;function GS(){(Mc!==null||zc!==null)&&(HS(),cA())}function B$(e,t,n){if(zw)return e(t,n);zw=!0;try{return dA(e,t,n)}finally{zw=!1,GS()}}function ph(e,t){var n=e.stateNode;if(n===null)return null;var r=xv(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ke(231,t,typeof n));return n}var l0=!1;if(qa)try{var ud={};Object.defineProperty(ud,"passive",{get:function(){l0=!0}}),window.addEventListener("test",ud,ud),window.removeEventListener("test",ud,ud)}catch{l0=!1}function F$(e,t,n,r,i,o,s,u,h){var m=Array.prototype.slice.call(arguments,3);try{t.apply(n,m)}catch(v){this.onError(v)}}var qd=!1,og=null,ag=!1,u0=null,U$={onError:function(e){qd=!0,og=e}};function $$(e,t,n,r,i,o,s,u,h){qd=!1,og=null,F$.apply(U$,arguments)}function W$(e,t,n,r,i,o,s,u,h){if($$.apply(this,arguments),qd){if(qd){var m=og;qd=!1,og=null}else throw Error(ke(198));ag||(ag=!0,u0=m)}}function Pu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&1026)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function hA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function SI(e){if(Pu(e)!==e)throw Error(ke(188))}function j$(e){var t=e.alternate;if(!t){if(t=Pu(e),t===null)throw Error(ke(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return SI(i),e;if(o===r)return SI(i),t;o=o.sibling}throw Error(ke(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(ke(189))}}if(n.alternate!==r)throw Error(ke(190))}if(n.tag!==3)throw Error(ke(188));return n.stateNode.current===n?e:t}function pA(e){if(e=j$(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function EI(e,t){for(var n=e.alternate;t!==null;){if(t===e||t===n)return!0;t=t.return}return!1}var mA,YS,gA,vA,c0=!1,ia=[],Fs=null,Us=null,$s=null,mh=new Map,gh=new Map,cd=[],CI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function f0(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function xI(e,t){switch(e){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":mh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gh.delete(t.pointerId)}}function fd(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e=f0(t,n,r,i,o),t!==null&&(t=Yh(t),t!==null&&YS(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function K$(e,t,n,r,i){switch(t){case"focusin":return Fs=fd(Fs,e,t,n,r,i),!0;case"dragenter":return Us=fd(Us,e,t,n,r,i),!0;case"mouseover":return $s=fd($s,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return mh.set(o,fd(mh.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,gh.set(o,fd(gh.get(o)||null,e,t,n,r,i)),!0}return!1}function q$(e){var t=au(e.target);if(t!==null){var n=Pu(t);if(n!==null){if(t=n.tag,t===13){if(t=hA(n),t!==null){e.blockedOn=t,vA(e.lanePriority,function(){Gn.unstable_runWithPriority(e.priority,function(){gA(n)})});return}}else if(t===3&&n.stateNode.hydrate){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function km(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ZS(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null)return t=Yh(n),t!==null&&YS(t),e.blockedOn=n,!1;t.shift()}return!0}function NI(e,t,n){km(e)&&n.delete(t)}function V$(){for(c0=!1;0<ia.length;){var e=ia[0];if(e.blockedOn!==null){e=Yh(e.blockedOn),e!==null&&mA(e);break}for(var t=e.targetContainers;0<t.length;){var n=ZS(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null){e.blockedOn=n;break}t.shift()}e.blockedOn===null&&ia.shift()}Fs!==null&&km(Fs)&&(Fs=null),Us!==null&&km(Us)&&(Us=null),$s!==null&&km($s)&&($s=null),mh.forEach(NI),gh.forEach(NI)}function dd(e,t){e.blockedOn===t&&(e.blockedOn=null,c0||(c0=!0,Gn.unstable_scheduleCallback(Gn.unstable_NormalPriority,V$)))}function yA(e){function t(i){return dd(i,e)}if(0<ia.length){dd(ia[0],e);for(var n=1;n<ia.length;n++){var r=ia[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Fs!==null&&dd(Fs,e),Us!==null&&dd(Us,e),$s!==null&&dd($s,e),mh.forEach(t),gh.forEach(t),n=0;n<cd.length;n++)r=cd[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<cd.length&&(n=cd[0],n.blockedOn===null);)q$(n),n.blockedOn===null&&cd.shift()}function om(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cc={animationend:om("Animation","AnimationEnd"),animationiteration:om("Animation","AnimationIteration"),animationstart:om("Animation","AnimationStart"),transitionend:om("Transition","TransitionEnd")},Bw={},wA={};qa&&(wA=document.createElement("div").style,"AnimationEvent"in window||(delete Cc.animationend.animation,delete Cc.animationiteration.animation,delete Cc.animationstart.animation),"TransitionEvent"in window||delete Cc.transitionend.transition);function wv(e){if(Bw[e])return Bw[e];if(!Cc[e])return e;var t=Cc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in wA)return Bw[e]=t[n];return e}var bA=wv("animationend"),SA=wv("animationiteration"),EA=wv("animationstart"),CA=wv("transitionend"),xA=new Map,XS=new Map,H$=["abort","abort",bA,"animationEnd",SA,"animationIteration",EA,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",CA,"transitionEnd","waiting","waiting"];function JS(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),XS.set(r,t),xA.set(r,i),Au(i,[r])}}var G$=Gn.unstable_now;G$();var sn=8;function Sc(e){if((1&e)!==0)return sn=15,1;if((2&e)!==0)return sn=14,2;if((4&e)!==0)return sn=13,4;var t=24&e;return t!==0?(sn=12,t):(e&32)!==0?(sn=11,32):(t=192&e,t!==0?(sn=10,t):(e&256)!==0?(sn=9,256):(t=3584&e,t!==0?(sn=8,t):(e&4096)!==0?(sn=7,4096):(t=4186112&e,t!==0?(sn=6,t):(t=62914560&e,t!==0?(sn=5,t):e&67108864?(sn=4,67108864):(e&134217728)!==0?(sn=3,134217728):(t=805306368&e,t!==0?(sn=2,t):(1073741824&e)!==0?(sn=1,1073741824):(sn=8,e))))))}function Y$(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function X$(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(ke(358,e))}}function vh(e,t){var n=e.pendingLanes;if(n===0)return sn=0;var r=0,i=0,o=e.expiredLanes,s=e.suspendedLanes,u=e.pingedLanes;if(o!==0)r=o,i=sn=15;else if(o=n&134217727,o!==0){var h=o&~s;h!==0?(r=Sc(h),i=sn):(u&=o,u!==0&&(r=Sc(u),i=sn))}else o=n&~s,o!==0?(r=Sc(o),i=sn):u!==0&&(r=Sc(u),i=sn);if(r===0)return 0;if(r=31-el(r),r=n&((0>r?0:1<<r)<<1)-1,t!==0&&t!==r&&(t&s)===0){if(Sc(t),i<=sn)return t;sn=i}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-el(t),i=1<<n,r|=e[n],t&=~i;return r}function NA(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sg(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=Ec(24&~t),e===0?sg(10,t):e;case 10:return e=Ec(192&~t),e===0?sg(8,t):e;case 8:return e=Ec(3584&~t),e===0&&(e=Ec(4186112&~t),e===0&&(e=512)),e;case 2:return t=Ec(805306368&~t),t===0&&(t=268435456),t}throw Error(ke(358,e))}function Ec(e){return e&-e}function Fw(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bv(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,e=e.eventTimes,t=31-el(t),e[t]=n}var el=Math.clz32?Math.clz32:Z$,J$=Math.log,Q$=Math.LN2;function Z$(e){return e===0?32:31-(J$(e)/Q$|0)|0}var eW=Gn.unstable_UserBlockingPriority,tW=Gn.unstable_runWithPriority,Dm=!0;function nW(e,t,n,r){ou||HS();var i=QS,o=ou;ou=!0;try{fA(i,e,t,n,r)}finally{(ou=o)||GS()}}function rW(e,t,n,r){tW(eW,QS.bind(null,e,t,n,r))}function QS(e,t,n,r){if(Dm){var i;if((i=(t&4)===0)&&0<ia.length&&-1<CI.indexOf(e))e=f0(null,e,t,n,r),ia.push(e);else{var o=ZS(e,t,n,r);if(o===null)i&&xI(e,r);else{if(i){if(-1<CI.indexOf(e)){e=f0(o,e,t,n,r),ia.push(e);return}if(K$(o,e,t,n,r))return;xI(e,r)}BA(e,t,r,null,n)}}}}function ZS(e,t,n,r){var i=qS(r);if(i=au(i),i!==null){var o=Pu(i);if(o===null)i=null;else{var s=o.tag;if(s===13){if(i=hA(o),i!==null)return i;i=null}else if(s===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return BA(e,t,r,i,n),null}var ks=null,eE=null,Lm=null;function IA(){if(Lm)return Lm;var e,t=eE,n=t.length,r,i="value"in ks?ks.value:ks.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Lm=i.slice(e,1<r?1-r:void 0)}function Mm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function am(){return!0}function II(){return!1}function Ni(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?am:II,this.isPropagationStopped=II,this}return dn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=am)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=am)},persist:function(){},isPersistent:am}),t}var wf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tE=Ni(wf),Gh=dn({},wf,{view:0,detail:0}),iW=Ni(Gh),Uw,$w,hd,Sv=dn({},Gh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nE,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hd&&(hd&&e.type==="mousemove"?(Uw=e.screenX-hd.screenX,$w=e.screenY-hd.screenY):$w=Uw=0,hd=e),Uw)},movementY:function(e){return"movementY"in e?e.movementY:$w}}),TI=Ni(Sv),oW=dn({},Sv,{dataTransfer:0}),aW=Ni(oW),sW=dn({},Gh,{relatedTarget:0}),Ww=Ni(sW),lW=dn({},wf,{animationName:0,elapsedTime:0,pseudoElement:0}),uW=Ni(lW),cW=dn({},wf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fW=Ni(cW),dW=dn({},wf,{data:0}),OI=Ni(dW),hW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gW(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mW[e])?!!t[e]:!1}function nE(){return gW}var vW=dn({},Gh,{key:function(e){if(e.key){var t=hW[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Mm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pW[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nE,charCode:function(e){return e.type==="keypress"?Mm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yW=Ni(vW),wW=dn({},Sv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_I=Ni(wW),bW=dn({},Gh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nE}),SW=Ni(bW),EW=dn({},wf,{propertyName:0,elapsedTime:0,pseudoElement:0}),CW=Ni(EW),xW=dn({},Sv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),NW=Ni(xW),IW=[9,13,27,32],rE=qa&&"CompositionEvent"in window,Vd=null;qa&&"documentMode"in document&&(Vd=document.documentMode);var TW=qa&&"TextEvent"in window&&!Vd,TA=qa&&(!rE||Vd&&8<Vd&&11>=Vd),AI=String.fromCharCode(32),RI=!1;function OA(e,t){switch(e){case"keyup":return IW.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _A(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xc=!1;function OW(e,t){switch(e){case"compositionend":return _A(t);case"keypress":return t.which!==32?null:(RI=!0,AI);case"textInput":return e=t.data,e===AI&&RI?null:e;default:return null}}function _W(e,t){if(xc)return e==="compositionend"||!rE&&OA(e,t)?(e=IA(),Lm=eE=ks=null,xc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return TA&&t.locale!=="ko"?null:t.data;default:return null}}var AW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!AW[e.type]:t==="textarea"}function AA(e,t,n,r){uA(r),t=lg(t,"onChange"),0<t.length&&(n=new tE("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hd=null,yh=null;function RW(e){LA(e,0)}function Ev(e){var t=Ic(e);if(nA(t))return e}function PW(e,t){if(e==="change")return t}var RA=!1;if(qa){var jw;if(qa){var Kw="oninput"in document;if(!Kw){var kI=document.createElement("div");kI.setAttribute("oninput","return;"),Kw=typeof kI.oninput=="function"}jw=Kw}else jw=!1;RA=jw&&(!document.documentMode||9<document.documentMode)}function DI(){Hd&&(Hd.detachEvent("onpropertychange",PA),yh=Hd=null)}function PA(e){if(e.propertyName==="value"&&Ev(yh)){var t=[];if(AA(t,yh,e,qS(e)),e=RW,ou)e(t);else{ou=!0;try{VS(e,t)}finally{ou=!1,GS()}}}}function kW(e,t,n){e==="focusin"?(DI(),Hd=t,yh=n,Hd.attachEvent("onpropertychange",PA)):e==="focusout"&&DI()}function DW(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ev(yh)}function LW(e,t){if(e==="click")return Ev(t)}function MW(e,t){if(e==="input"||e==="change")return Ev(t)}function zW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ji=typeof Object.is=="function"?Object.is:zW,BW=Object.prototype.hasOwnProperty;function wh(e,t){if(ji(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!BW.call(t,n[r])||!ji(e[n[r]],t[n[r]]))return!1;return!0}function LI(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function MI(e,t){var n=LI(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=LI(n)}}function kA(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kA(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zI(){for(var e=window,t=ig();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ig(e.document)}return t}function d0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var FW=qa&&"documentMode"in document&&11>=document.documentMode,Nc=null,h0=null,Gd=null,p0=!1;function BI(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;p0||Nc==null||Nc!==ig(r)||(r=Nc,"selectionStart"in r&&d0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gd&&wh(Gd,r)||(Gd=r,r=lg(h0,"onSelect"),0<r.length&&(t=new tE("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Nc)))}JS("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);JS("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);JS(H$,2);for(var FI="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),qw=0;qw<FI.length;qw++)XS.set(FI[qw],0);Jc("onMouseEnter",["mouseout","mouseover"]);Jc("onMouseLeave",["mouseout","mouseover"]);Jc("onPointerEnter",["pointerout","pointerover"]);Jc("onPointerLeave",["pointerout","pointerover"]);Au("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Au("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Au("onBeforeInput",["compositionend","keypress","textInput","paste"]);Au("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Au("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Au("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pd));function UI(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,W$(r,t,void 0,e),e.currentTarget=null}function LA(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var u=r[s],h=u.instance,m=u.currentTarget;if(u=u.listener,h!==o&&i.isPropagationStopped())break e;UI(i,u,m),o=h}else for(s=0;s<r.length;s++){if(u=r[s],h=u.instance,m=u.currentTarget,u=u.listener,h!==o&&i.isPropagationStopped())break e;UI(i,u,m),o=h}}}if(ag)throw e=u0,ag=!1,u0=null,e}function ln(e,t){var n=UA(t),r=e+"__bubble";n.has(r)||(zA(t,e,2,!1),n.add(r))}var $I="_reactListening"+Math.random().toString(36).slice(2);function MA(e){e[$I]||(e[$I]=!0,Z1.forEach(function(t){DA.has(t)||WI(t,!1,e,null),WI(t,!0,e,null)}))}function WI(e,t,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=n;if(e==="selectionchange"&&n.nodeType!==9&&(o=n.ownerDocument),r!==null&&!t&&DA.has(e)){if(e!=="scroll")return;i|=2,o=r}var s=UA(o),u=e+"__"+(t?"capture":"bubble");s.has(u)||(t&&(i|=4),zA(o,e,i,t),s.add(u))}function zA(e,t,n,r){var i=XS.get(t);switch(i===void 0?2:i){case 0:i=nW;break;case 1:i=rW;break;default:i=QS}n=i.bind(null,t,n,e),i=void 0,!l0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function BA(e,t,n,r,i){var o=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var h=s.tag;if((h===3||h===4)&&(h=s.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;s=s.return}for(;u!==null;){if(s=au(u),s===null)return;if(h=s.tag,h===5||h===6){r=o=s;continue e}u=u.parentNode}}r=r.return}B$(function(){var m=o,v=qS(n),w=[];e:{var b=xA.get(e);if(b!==void 0){var N=tE,T=e;switch(e){case"keypress":if(Mm(n)===0)break e;case"keydown":case"keyup":N=yW;break;case"focusin":T="focus",N=Ww;break;case"focusout":T="blur",N=Ww;break;case"beforeblur":case"afterblur":N=Ww;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=TI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=aW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=SW;break;case bA:case SA:case EA:N=uW;break;case CA:N=CW;break;case"scroll":N=iW;break;case"wheel":N=NW;break;case"copy":case"cut":case"paste":N=fW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=_I}var R=(t&4)!==0,S=!R&&e==="scroll",E=R?b!==null?b+"Capture":null:b;R=[];for(var I=m,P;I!==null;){P=I;var O=P.stateNode;if(P.tag===5&&O!==null&&(P=O,E!==null&&(O=ph(I,E),O!=null&&R.push(bh(I,O,P)))),S)break;I=I.return}0<R.length&&(b=new N(b,T,null,n,v),w.push({event:b,listeners:R}))}}if((t&7)===0){e:{if(b=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",b&&(t&16)===0&&(T=n.relatedTarget||n.fromElement)&&(au(T)||T[bf]))break e;if((N||b)&&(b=v.window===v?v:(b=v.ownerDocument)?b.defaultView||b.parentWindow:window,N?(T=n.relatedTarget||n.toElement,N=m,T=T?au(T):null,T!==null&&(S=Pu(T),T!==S||T.tag!==5&&T.tag!==6)&&(T=null)):(N=null,T=m),N!==T)){if(R=TI,O="onMouseLeave",E="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(R=_I,O="onPointerLeave",E="onPointerEnter",I="pointer"),S=N==null?b:Ic(N),P=T==null?b:Ic(T),b=new R(O,I+"leave",N,n,v),b.target=S,b.relatedTarget=P,O=null,au(v)===m&&(R=new R(E,I+"enter",T,n,v),R.target=P,R.relatedTarget=S,O=R),S=O,N&&T)t:{for(R=N,E=T,I=0,P=R;P;P=hc(P))I++;for(P=0,O=E;O;O=hc(O))P++;for(;0<I-P;)R=hc(R),I--;for(;0<P-I;)E=hc(E),P--;for(;I--;){if(R===E||E!==null&&R===E.alternate)break t;R=hc(R),E=hc(E)}R=null}else R=null;N!==null&&jI(w,b,N,R,!1),T!==null&&S!==null&&jI(w,S,T,R,!0)}}e:{if(b=m?Ic(m):window,N=b.nodeName&&b.nodeName.toLowerCase(),N==="select"||N==="input"&&b.type==="file")var B=PW;else if(PI(b))if(RA)B=MW;else{B=DW;var A=kW}else(N=b.nodeName)&&N.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(B=LW);if(B&&(B=B(e,m))){AA(w,B,n,v);break e}A&&A(e,b,m),e==="focusout"&&(A=b._wrapperState)&&A.controlled&&b.type==="number"&&e0(b,"number",b.value)}switch(A=m?Ic(m):window,e){case"focusin":(PI(A)||A.contentEditable==="true")&&(Nc=A,h0=m,Gd=null);break;case"focusout":Gd=h0=Nc=null;break;case"mousedown":p0=!0;break;case"contextmenu":case"mouseup":case"dragend":p0=!1,BI(w,n,v);break;case"selectionchange":if(FW)break;case"keydown":case"keyup":BI(w,n,v)}var z;if(rE)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else xc?OA(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(TA&&n.locale!=="ko"&&(xc||M!=="onCompositionStart"?M==="onCompositionEnd"&&xc&&(z=IA()):(ks=v,eE="value"in ks?ks.value:ks.textContent,xc=!0)),A=lg(m,M),0<A.length&&(M=new OI(M,e,null,n,v),w.push({event:M,listeners:A}),z?M.data=z:(z=_A(n),z!==null&&(M.data=z)))),(z=TW?OW(e,n):_W(e,n))&&(m=lg(m,"onBeforeInput"),0<m.length&&(v=new OI("onBeforeInput","beforeinput",null,n,v),w.push({event:v,listeners:m}),v.data=z))}LA(w,t)})}function bh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function lg(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ph(e,n),o!=null&&r.unshift(bh(e,o,i)),o=ph(e,t),o!=null&&r.push(bh(e,o,i))),e=e.return}return r}function hc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function jI(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var u=n,h=u.alternate,m=u.stateNode;if(h!==null&&h===r)break;u.tag===5&&m!==null&&(u=m,i?(h=ph(n,o),h!=null&&s.unshift(bh(n,h,u))):i||(h=ph(n,o),h!=null&&s.push(bh(n,h,u)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}function ug(){}var Vw=null,Hw=null;function FA(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function m0(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var KI=typeof setTimeout=="function"?setTimeout:void 0,UW=typeof clearTimeout=="function"?clearTimeout:void 0;function iE(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function Bc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function qI(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Gw=0;function $W(e){return{$$typeof:jS,toString:e,valueOf:e}}var Cv=Math.random().toString(36).slice(2),Ds="__reactFiber$"+Cv,cg="__reactProps$"+Cv,bf="__reactContainer$"+Cv,VI="__reactEvents$"+Cv;function au(e){var t=e[Ds];if(t)return t;for(var n=e.parentNode;n;){if(t=n[bf]||n[Ds]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qI(e);e!==null;){if(n=e[Ds])return n;e=qI(e)}return t}e=n,n=e.parentNode}return null}function Yh(e){return e=e[Ds]||e[bf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ic(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ke(33))}function xv(e){return e[cg]||null}function UA(e){var t=e[VI];return t===void 0&&(t=e[VI]=new Set),t}var g0=[],Tc=-1;function ul(e){return{current:e}}function un(e){0>Tc||(e.current=g0[Tc],g0[Tc]=null,Tc--)}function bn(e,t){Tc++,g0[Tc]=e.current,e.current=t}var tl={},br=ul(tl),Xr=ul(!1),yu=tl;function Qc(e,t){var n=e.type.contextTypes;if(!n)return tl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Jr(e){return e=e.childContextTypes,e!=null}function fg(){un(Xr),un(br)}function HI(e,t,n){if(br.current!==tl)throw Error(ke(168));bn(br,t),bn(Xr,n)}function $A(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ke(108,Dc(t)||"Unknown",i));return dn({},n,r)}function zm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tl,yu=br.current,bn(br,e),bn(Xr,Xr.current),!0}function GI(e,t,n){var r=e.stateNode;if(!r)throw Error(ke(169));n?(e=$A(e,t,yu),r.__reactInternalMemoizedMergedChildContext=e,un(Xr),un(br),bn(br,e)):un(Xr),bn(Xr,n)}var oE=null,hu=null,WW=Gn.unstable_runWithPriority,aE=Gn.unstable_scheduleCallback,v0=Gn.unstable_cancelCallback,jW=Gn.unstable_shouldYield,YI=Gn.unstable_requestPaint,y0=Gn.unstable_now,KW=Gn.unstable_getCurrentPriorityLevel,Nv=Gn.unstable_ImmediatePriority,WA=Gn.unstable_UserBlockingPriority,jA=Gn.unstable_NormalPriority,KA=Gn.unstable_LowPriority,qA=Gn.unstable_IdlePriority,Yw={},qW=YI!==void 0?YI:function(){},za=null,Bm=null,Xw=!1,XI=y0(),yr=1e4>XI?y0:function(){return y0()-XI};function Zc(){switch(KW()){case Nv:return 99;case WA:return 98;case jA:return 97;case KA:return 96;case qA:return 95;default:throw Error(ke(332))}}function VA(e){switch(e){case 99:return Nv;case 98:return WA;case 97:return jA;case 96:return KA;case 95:return qA;default:throw Error(ke(332))}}function wu(e,t){return e=VA(e),WW(e,t)}function Sh(e,t,n){return e=VA(e),aE(e,t,n)}function pa(){if(Bm!==null){var e=Bm;Bm=null,v0(e)}HA()}function HA(){if(!Xw&&za!==null){Xw=!0;var e=0;try{var t=za;wu(99,function(){for(;e<t.length;e++){var n=t[e];do n=n(!0);while(n!==null)}}),za=null}catch(n){throw za!==null&&(za=za.slice(e+1)),aE(Nv,pa),n}finally{Xw=!1}}}var VW=Ru.ReactCurrentBatchConfig;function So(e,t){if(e&&e.defaultProps){t=dn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var dg=ul(null),hg=null,Oc=null,pg=null;function sE(){pg=Oc=hg=null}function lE(e){var t=dg.current;un(dg),e.type._context._currentValue=t}function GA(e,t){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)===t){if(n===null||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,n!==null&&(n.childLanes|=t);e=e.return}}function Fc(e,t){hg=e,pg=Oc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Io=!0),e.firstContext=null)}function Ji(e,t){if(pg!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(pg=e,t=1073741823),t={context:e,observedBits:t,next:null},Oc===null){if(hg===null)throw Error(ke(308));Oc=t,hg.dependencies={lanes:0,firstContext:t,responders:null}}else Oc=Oc.next=t;return e._currentValue}var Is=!1;function uE(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function YA(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ws(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function js(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function JI(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Eh(e,t,n,r){var i=e.updateQueue;Is=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var h=u,m=h.next;h.next=null,s===null?o=m:s.next=m,s=h;var v=e.alternate;if(v!==null){v=v.updateQueue;var w=v.lastBaseUpdate;w!==s&&(w===null?v.firstBaseUpdate=m:w.next=m,v.lastBaseUpdate=h)}}if(o!==null){w=i.baseState,s=0,v=m=h=null;do{u=o.lane;var b=o.eventTime;if((r&u)===u){v!==null&&(v=v.next={eventTime:b,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var N=e,T=o;switch(u=t,b=n,T.tag){case 1:if(N=T.payload,typeof N=="function"){w=N.call(b,w,u);break e}w=N;break e;case 3:N.flags=N.flags&-4097|64;case 0:if(N=T.payload,u=typeof N=="function"?N.call(b,w,u):N,u==null)break e;w=dn({},w,u);break e;case 2:Is=!0}}o.callback!==null&&(e.flags|=32,u=i.effects,u===null?i.effects=[o]:u.push(o))}else b={eventTime:b,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},v===null?(m=v=b,h=w):v=v.next=b,s|=u;if(o=o.next,o===null){if(u=i.shared.pending,u===null)break;o=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}while(1);v===null&&(h=w),i.baseState=h,i.firstBaseUpdate=m,i.lastBaseUpdate=v,Jh|=s,e.lanes=s,e.memoizedState=w}}function QI(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ke(191,i));i.call(r)}}}var XA=new gv.Component().refs;function mg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:dn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Iv={isMounted:function(e){return(e=e._reactInternals)?Pu(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=gi(),i=Ks(e),o=Ws(r,i);o.payload=t,n!=null&&(o.callback=n),js(e,o),qs(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=gi(),i=Ks(e),o=Ws(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),js(e,o),qs(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=gi(),r=Ks(e),i=Ws(n,r);i.tag=2,t!=null&&(i.callback=t),js(e,i),qs(e,r,n)}};function ZI(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!wh(n,r)||!wh(i,o):!0}function JA(e,t,n){var r=!1,i=tl,o=t.contextType;return typeof o=="object"&&o!==null?o=Ji(o):(i=Jr(t)?yu:br.current,r=t.contextTypes,o=(r=r!=null)?Qc(e,i):tl),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Iv,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function eT(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Iv.enqueueReplaceState(t,t.state,null)}function w0(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=XA,uE(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Ji(o):(o=Jr(t)?yu:br.current,i.context=Qc(e,o)),Eh(e,n,i,r),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(mg(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Iv.enqueueReplaceState(i,i.state,null),Eh(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4)}var sm=Array.isArray;function pd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ke(309));var r=n.stateNode}if(!r)throw Error(ke(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var s=r.refs;s===XA&&(s=r.refs={}),o===null?delete s[i]:s[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ke(284));if(!n._owner)throw Error(ke(290,e))}return e}function lm(e,t){if(e.type!=="textarea")throw Error(ke(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function QA(e){function t(S,E){if(e){var I=S.lastEffect;I!==null?(I.nextEffect=E,S.lastEffect=E):S.firstEffect=S.lastEffect=E,E.nextEffect=null,E.flags=8}}function n(S,E){if(!e)return null;for(;E!==null;)t(S,E),E=E.sibling;return null}function r(S,E){for(S=new Map;E!==null;)E.key!==null?S.set(E.key,E):S.set(E.index,E),E=E.sibling;return S}function i(S,E){return S=rl(S,E),S.index=0,S.sibling=null,S}function o(S,E,I){return S.index=I,e?(I=S.alternate,I!==null?(I=I.index,I<E?(S.flags=2,E):I):(S.flags=2,E)):E}function s(S){return e&&S.alternate===null&&(S.flags=2),S}function u(S,E,I,P){return E===null||E.tag!==6?(E=tb(I,S.mode,P),E.return=S,E):(E=i(E,I),E.return=S,E)}function h(S,E,I,P){return E!==null&&E.elementType===I.type?(P=i(E,I.props),P.ref=pd(S,E,I),P.return=S,P):(P=Wm(I.type,I.key,I.props,null,S.mode,P),P.ref=pd(S,E,I),P.return=S,P)}function m(S,E,I,P){return E===null||E.tag!==4||E.stateNode.containerInfo!==I.containerInfo||E.stateNode.implementation!==I.implementation?(E=nb(I,S.mode,P),E.return=S,E):(E=i(E,I.children||[]),E.return=S,E)}function v(S,E,I,P,O){return E===null||E.tag!==7?(E=jc(I,S.mode,P,O),E.return=S,E):(E=i(E,I),E.return=S,E)}function w(S,E,I){if(typeof E=="string"||typeof E=="number")return E=tb(""+E,S.mode,I),E.return=S,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ad:return I=Wm(E.type,E.key,E.props,null,S.mode,I),I.ref=pd(S,null,E),I.return=S,I;case iu:return E=nb(E,S.mode,I),E.return=S,E}if(sm(E)||ld(E))return E=jc(E,S.mode,I,null),E.return=S,E;lm(S,E)}return null}function b(S,E,I,P){var O=E!==null?E.key:null;if(typeof I=="string"||typeof I=="number")return O!==null?null:u(S,E,""+I,P);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Ad:return I.key===O?I.type===As?v(S,E,I.props.children,P,O):h(S,E,I,P):null;case iu:return I.key===O?m(S,E,I,P):null}if(sm(I)||ld(I))return O!==null?null:v(S,E,I,P,null);lm(S,I)}return null}function N(S,E,I,P,O){if(typeof P=="string"||typeof P=="number")return S=S.get(I)||null,u(E,S,""+P,O);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Ad:return S=S.get(P.key===null?I:P.key)||null,P.type===As?v(E,S,P.props.children,O,P.key):h(E,S,P,O);case iu:return S=S.get(P.key===null?I:P.key)||null,m(E,S,P,O)}if(sm(P)||ld(P))return S=S.get(I)||null,v(E,S,P,O,null);lm(E,P)}return null}function T(S,E,I,P){for(var O=null,B=null,A=E,z=E=0,M=null;A!==null&&z<I.length;z++){A.index>z?(M=A,A=null):M=A.sibling;var F=b(S,A,I[z],P);if(F===null){A===null&&(A=M);break}e&&A&&F.alternate===null&&t(S,A),E=o(F,E,z),B===null?O=F:B.sibling=F,B=F,A=M}if(z===I.length)return n(S,A),O;if(A===null){for(;z<I.length;z++)A=w(S,I[z],P),A!==null&&(E=o(A,E,z),B===null?O=A:B.sibling=A,B=A);return O}for(A=r(S,A);z<I.length;z++)M=N(A,S,z,I[z],P),M!==null&&(e&&M.alternate!==null&&A.delete(M.key===null?z:M.key),E=o(M,E,z),B===null?O=M:B.sibling=M,B=M);return e&&A.forEach(function(U){return t(S,U)}),O}function R(S,E,I,P){var O=ld(I);if(typeof O!="function")throw Error(ke(150));if(I=O.call(I),I==null)throw Error(ke(151));for(var B=O=null,A=E,z=E=0,M=null,F=I.next();A!==null&&!F.done;z++,F=I.next()){A.index>z?(M=A,A=null):M=A.sibling;var U=b(S,A,F.value,P);if(U===null){A===null&&(A=M);break}e&&A&&U.alternate===null&&t(S,A),E=o(U,E,z),B===null?O=U:B.sibling=U,B=U,A=M}if(F.done)return n(S,A),O;if(A===null){for(;!F.done;z++,F=I.next())F=w(S,F.value,P),F!==null&&(E=o(F,E,z),B===null?O=F:B.sibling=F,B=F);return O}for(A=r(S,A);!F.done;z++,F=I.next())F=N(A,S,z,F.value,P),F!==null&&(e&&F.alternate!==null&&A.delete(F.key===null?z:F.key),E=o(F,E,z),B===null?O=F:B.sibling=F,B=F);return e&&A.forEach(function(W){return t(S,W)}),O}return function(S,E,I,P){var O=typeof I=="object"&&I!==null&&I.type===As&&I.key===null;O&&(I=I.props.children);var B=typeof I=="object"&&I!==null;if(B)switch(I.$$typeof){case Ad:e:{for(B=I.key,O=E;O!==null;){if(O.key===B){switch(O.tag){case 7:if(I.type===As){n(S,O.sibling),E=i(O,I.props.children),E.return=S,S=E;break e}break;default:if(O.elementType===I.type){n(S,O.sibling),E=i(O,I.props),E.ref=pd(S,O,I),E.return=S,S=E;break e}}n(S,O);break}else t(S,O);O=O.sibling}I.type===As?(E=jc(I.props.children,S.mode,P,I.key),E.return=S,S=E):(P=Wm(I.type,I.key,I.props,null,S.mode,P),P.ref=pd(S,E,I),P.return=S,S=P)}return s(S);case iu:e:{for(O=I.key;E!==null;){if(E.key===O)if(E.tag===4&&E.stateNode.containerInfo===I.containerInfo&&E.stateNode.implementation===I.implementation){n(S,E.sibling),E=i(E,I.children||[]),E.return=S,S=E;break e}else{n(S,E);break}else t(S,E);E=E.sibling}E=nb(I,S.mode,P),E.return=S,S=E}return s(S)}if(typeof I=="string"||typeof I=="number")return I=""+I,E!==null&&E.tag===6?(n(S,E.sibling),E=i(E,I),E.return=S,S=E):(n(S,E),E=tb(I,S.mode,P),E.return=S,S=E),s(S);if(sm(I))return T(S,E,I,P);if(ld(I))return R(S,E,I,P);if(B&&lm(S,I),typeof I=="undefined"&&!O)switch(S.tag){case 1:case 22:case 0:case 11:case 15:throw Error(ke(152,Dc(S.type)||"Component"))}return n(S,E)}}var gg=QA(!0),ZA=QA(!1),Xh={},sa=ul(Xh),Ch=ul(Xh),xh=ul(Xh);function su(e){if(e===Xh)throw Error(ke(174));return e}function b0(e,t){switch(bn(xh,t),bn(Ch,e),bn(sa,Xh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:i0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=i0(t,e)}un(sa),bn(sa,t)}function ef(){un(sa),un(Ch),un(xh)}function tT(e){su(xh.current);var t=su(sa.current),n=i0(t,e.type);t!==n&&(bn(Ch,e),bn(sa,n))}function cE(e){Ch.current===e&&(un(sa),un(Ch))}var wn=ul(0);function vg(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&64)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fa=null,Ls=null,la=!1;function eR(e,t){var n=Ki(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function nT(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function S0(e){if(la){var t=Ls;if(t){var n=t;if(!nT(e,t)){if(t=Bc(n.nextSibling),!t||!nT(e,t)){e.flags=e.flags&-1025|2,la=!1,Fa=e;return}eR(Fa,n)}Fa=e,Ls=Bc(t.firstChild)}else e.flags=e.flags&-1025|2,la=!1,Fa=e}}function rT(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fa=e}function um(e){if(e!==Fa)return!1;if(!la)return rT(e),la=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!m0(t,e.memoizedProps))for(t=Ls;t;)eR(e,t),t=Bc(t.nextSibling);if(rT(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ke(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ls=Bc(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ls=null}}else Ls=Fa?Bc(e.stateNode.nextSibling):null;return!0}function Jw(){Ls=Fa=null,la=!1}var Uc=[];function fE(){for(var e=0;e<Uc.length;e++)Uc[e]._workInProgressVersionPrimary=null;Uc.length=0}var Yd=Ru.ReactCurrentDispatcher,Vi=Ru.ReactCurrentBatchConfig,Nh=0,On=null,vr=null,ir=null,yg=!1,Xd=!1;function jr(){throw Error(ke(321))}function dE(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ji(e[n],t[n]))return!1;return!0}function hE(e,t,n,r,i,o){if(Nh=o,On=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yd.current=e===null||e.memoizedState===null?GW:YW,e=n(r,i),Xd){o=0;do{if(Xd=!1,!(25>o))throw Error(ke(301));o+=1,ir=vr=null,t.updateQueue=null,Yd.current=XW,e=n(r,i)}while(Xd)}if(Yd.current=Eg,t=vr!==null&&vr.next!==null,Nh=0,ir=vr=On=null,yg=!1,t)throw Error(ke(300));return e}function lu(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ir===null?On.memoizedState=ir=e:ir=ir.next=e,ir}function ku(){if(vr===null){var e=On.alternate;e=e!==null?e.memoizedState:null}else e=vr.next;var t=ir===null?On.memoizedState:ir.next;if(t!==null)ir=t,vr=e;else{if(e===null)throw Error(ke(310));vr=e,e={memoizedState:vr.memoizedState,baseState:vr.baseState,baseQueue:vr.baseQueue,queue:vr.queue,next:null},ir===null?On.memoizedState=ir=e:ir=ir.next=e}return ir}function oa(e,t){return typeof t=="function"?t(e):t}function md(e){var t=ku(),n=t.queue;if(n===null)throw Error(ke(311));n.lastRenderedReducer=e;var r=vr,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var u=s=o=null,h=i;do{var m=h.lane;if((Nh&m)===m)u!==null&&(u=u.next={lane:0,action:h.action,eagerReducer:h.eagerReducer,eagerState:h.eagerState,next:null}),r=h.eagerReducer===e?h.eagerState:e(r,h.action);else{var v={lane:m,action:h.action,eagerReducer:h.eagerReducer,eagerState:h.eagerState,next:null};u===null?(s=u=v,o=r):u=u.next=v,On.lanes|=m,Jh|=m}h=h.next}while(h!==null&&h!==i);u===null?o=r:u.next=s,ji(r,t.memoizedState)||(Io=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function gd(e){var t=ku(),n=t.queue;if(n===null)throw Error(ke(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);ji(o,t.memoizedState)||(Io=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function iT(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(i!==null?e=i===r:(e=e.mutableReadLanes,(e=(Nh&e)===e)&&(t._workInProgressVersionPrimary=r,Uc.push(t))),e)return n(t._source);throw Uc.push(t),Error(ke(350))}function tR(e,t,n,r){var i=Ar;if(i===null)throw Error(ke(349));var o=t._getVersion,s=o(t._source),u=Yd.current,h=u.useState(function(){return iT(i,t,n)}),m=h[1],v=h[0];h=ir;var w=e.memoizedState,b=w.refs,N=b.getSnapshot,T=w.source;w=w.subscribe;var R=On;return e.memoizedState={refs:b,source:t,subscribe:r},u.useEffect(function(){b.getSnapshot=n,b.setSnapshot=m;var S=o(t._source);if(!ji(s,S)){S=n(t._source),ji(v,S)||(m(S),S=Ks(R),i.mutableReadLanes|=S&i.pendingLanes),S=i.mutableReadLanes,i.entangledLanes|=S;for(var E=i.entanglements,I=S;0<I;){var P=31-el(I),O=1<<P;E[P]|=S,I&=~O}}},[n,t,r]),u.useEffect(function(){return r(t._source,function(){var S=b.getSnapshot,E=b.setSnapshot;try{E(S(t._source));var I=Ks(R);i.mutableReadLanes|=I&i.pendingLanes}catch(P){E(function(){throw P})}})},[t,r]),ji(N,n)&&ji(T,t)&&ji(w,r)||(e={pending:null,dispatch:null,lastRenderedReducer:oa,lastRenderedState:v},e.dispatch=m=gE.bind(null,On,e),h.queue=e,h.baseQueue=null,v=iT(i,t,n),h.memoizedState=h.baseState=v),v}function nR(e,t,n){var r=ku();return tR(r,e,t,n)}function vd(e){var t=lu();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:oa,lastRenderedState:e},e=e.dispatch=gE.bind(null,On,e),[t.memoizedState,e]}function wg(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=On.updateQueue,t===null?(t={lastEffect:null},On.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function oT(e){var t=lu();return e={current:e},t.memoizedState=e}function bg(){return ku().memoizedState}function E0(e,t,n,r){var i=lu();On.flags|=e,i.memoizedState=wg(1|t,n,void 0,r===void 0?null:r)}function pE(e,t,n,r){var i=ku();r=r===void 0?null:r;var o=void 0;if(vr!==null){var s=vr.memoizedState;if(o=s.destroy,r!==null&&dE(r,s.deps)){wg(t,n,o,r);return}}On.flags|=e,i.memoizedState=wg(1|t,n,o,r)}function aT(e,t){return E0(516,4,e,t)}function Sg(e,t){return pE(516,4,e,t)}function rR(e,t){return pE(4,2,e,t)}function iR(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function oR(e,t,n){return n=n!=null?n.concat([e]):null,pE(4,2,iR.bind(null,t,e),n)}function mE(){}function aR(e,t){var n=ku();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&dE(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sR(e,t){var n=ku();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&dE(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function HW(e,t){var n=Zc();wu(98>n?98:n,function(){e(!0)}),wu(97<n?97:n,function(){var r=Vi.transition;Vi.transition=1;try{e(!1),t()}finally{Vi.transition=r}})}function gE(e,t,n){var r=gi(),i=Ks(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},s=t.pending;if(s===null?o.next=o:(o.next=s.next,s.next=o),t.pending=o,s=e.alternate,e===On||s!==null&&s===On)Xd=yg=!0;else{if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var u=t.lastRenderedState,h=s(u,n);if(o.eagerReducer=s,o.eagerState=h,ji(h,u))return}catch{}finally{}qs(e,i,r)}}var Eg={readContext:Ji,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useLayoutEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useMutableSource:jr,useOpaqueIdentifier:jr,unstable_isNewReconciler:!1},GW={readContext:Ji,useCallback:function(e,t){return lu().memoizedState=[e,t===void 0?null:t],e},useContext:Ji,useEffect:aT,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,E0(4,2,iR.bind(null,t,e),n)},useLayoutEffect:function(e,t){return E0(4,2,e,t)},useMemo:function(e,t){var n=lu();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=lu();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=gE.bind(null,On,e),[r.memoizedState,e]},useRef:oT,useState:vd,useDebugValue:mE,useDeferredValue:function(e){var t=vd(e),n=t[0],r=t[1];return aT(function(){var i=Vi.transition;Vi.transition=1;try{r(e)}finally{Vi.transition=i}},[e]),n},useTransition:function(){var e=vd(!1),t=e[0];return e=HW.bind(null,e[1]),oT(e),[e,t]},useMutableSource:function(e,t,n){var r=lu();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},tR(r,e,t,n)},useOpaqueIdentifier:function(){if(la){var e=!1,t=$W(function(){throw e||(e=!0,n("r:"+(Gw++).toString(36))),Error(ke(355))}),n=vd(t)[1];return(On.mode&2)===0&&(On.flags|=516,wg(5,function(){n("r:"+(Gw++).toString(36))},void 0,null)),t}return t="r:"+(Gw++).toString(36),vd(t),t},unstable_isNewReconciler:!1},YW={readContext:Ji,useCallback:aR,useContext:Ji,useEffect:Sg,useImperativeHandle:oR,useLayoutEffect:rR,useMemo:sR,useReducer:md,useRef:bg,useState:function(){return md(oa)},useDebugValue:mE,useDeferredValue:function(e){var t=md(oa),n=t[0],r=t[1];return Sg(function(){var i=Vi.transition;Vi.transition=1;try{r(e)}finally{Vi.transition=i}},[e]),n},useTransition:function(){var e=md(oa)[0];return[bg().current,e]},useMutableSource:nR,useOpaqueIdentifier:function(){return md(oa)[0]},unstable_isNewReconciler:!1},XW={readContext:Ji,useCallback:aR,useContext:Ji,useEffect:Sg,useImperativeHandle:oR,useLayoutEffect:rR,useMemo:sR,useReducer:gd,useRef:bg,useState:function(){return gd(oa)},useDebugValue:mE,useDeferredValue:function(e){var t=gd(oa),n=t[0],r=t[1];return Sg(function(){var i=Vi.transition;Vi.transition=1;try{r(e)}finally{Vi.transition=i}},[e]),n},useTransition:function(){var e=gd(oa)[0];return[bg().current,e]},useMutableSource:nR,useOpaqueIdentifier:function(){return gd(oa)[0]},unstable_isNewReconciler:!1},JW=Ru.ReactCurrentOwner,Io=!1;function qr(e,t,n,r){t.child=e===null?ZA(t,null,n,r):gg(t,e.child,n,r)}function sT(e,t,n,r,i){n=n.render;var o=t.ref;return Fc(t,i),r=hE(e,t,n,r,o,i),e!==null&&!Io?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Ua(e,t,i)):(t.flags|=1,qr(e,t,r,i),t.child)}function lT(e,t,n,r,i,o){if(e===null){var s=n.type;return typeof s=="function"&&!EE(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,lR(e,t,s,r,i,o)):(e=Wm(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}return s=e.child,(i&o)===0&&(i=s.memoizedProps,n=n.compare,n=n!==null?n:wh,n(i,r)&&e.ref===t.ref)?Ua(e,t,o):(t.flags|=1,e=rl(s,r),e.ref=t.ref,e.return=t,t.child=e)}function lR(e,t,n,r,i,o){if(e!==null&&wh(e.memoizedProps,r)&&e.ref===t.ref)if(Io=!1,(o&i)!==0)(e.flags&16384)!==0&&(Io=!0);else return t.lanes=e.lanes,Ua(e,t,o);return C0(e,t,n,r,o)}function Qw(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((t.mode&4)===0)t.memoizedState={baseLanes:0},fm(t,n);else if((n&1073741824)!==0)t.memoizedState={baseLanes:0},fm(t,o!==null?o.baseLanes:n);else return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},fm(t,e),null;else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,fm(t,r);return qr(e,t,i,n),t.child}function uR(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=128)}function C0(e,t,n,r,i){var o=Jr(n)?yu:br.current;return o=Qc(t,o),Fc(t,i),n=hE(e,t,n,r,o,i),e!==null&&!Io?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Ua(e,t,i)):(t.flags|=1,qr(e,t,n,i),t.child)}function uT(e,t,n,r,i){if(Jr(n)){var o=!0;zm(t)}else o=!1;if(Fc(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),JA(t,n,r),w0(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,u=t.memoizedProps;s.props=u;var h=s.context,m=n.contextType;typeof m=="object"&&m!==null?m=Ji(m):(m=Jr(n)?yu:br.current,m=Qc(t,m));var v=n.getDerivedStateFromProps,w=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function";w||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==r||h!==m)&&eT(t,s,r,m),Is=!1;var b=t.memoizedState;s.state=b,Eh(t,r,s,i),h=t.memoizedState,u!==r||b!==h||Xr.current||Is?(typeof v=="function"&&(mg(t,n,v,r),h=t.memoizedState),(u=Is||ZI(t,n,u,r,b,h,m))?(w||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4)):(typeof s.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=h),s.props=r,s.state=h,s.context=m,r=u):(typeof s.componentDidMount=="function"&&(t.flags|=4),r=!1)}else{s=t.stateNode,YA(e,t),u=t.memoizedProps,m=t.type===t.elementType?u:So(t.type,u),s.props=m,w=t.pendingProps,b=s.context,h=n.contextType,typeof h=="object"&&h!==null?h=Ji(h):(h=Jr(n)?yu:br.current,h=Qc(t,h));var N=n.getDerivedStateFromProps;(v=typeof N=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==w||b!==h)&&eT(t,s,r,h),Is=!1,b=t.memoizedState,s.state=b,Eh(t,r,s,i);var T=t.memoizedState;u!==w||b!==T||Xr.current||Is?(typeof N=="function"&&(mg(t,n,N,r),T=t.memoizedState),(m=Is||ZI(t,n,m,r,b,T,h))?(v||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,T,h),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,T,h)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&b===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=T),s.props=r,s.state=T,s.context=h,r=m):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&b===e.memoizedState||(t.flags|=256),r=!1)}return x0(e,t,n,r,o,i)}function x0(e,t,n,r,i,o){uR(e,t);var s=(t.flags&64)!==0;if(!r&&!s)return i&&GI(t,n,!1),Ua(e,t,o);r=t.stateNode,JW.current=t;var u=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=gg(t,e.child,null,o),t.child=gg(t,null,u,o)):qr(e,t,u,o),t.memoizedState=r.state,i&&GI(t,n,!0),t.child}function cT(e){var t=e.stateNode;t.pendingContext?HI(e,t.pendingContext,t.pendingContext!==t.context):t.context&&HI(e,t.context,!1),b0(e,t.containerInfo)}var cm={dehydrated:null,retryLane:0};function fT(e,t,n){var r=t.pendingProps,i=wn.current,o=!1,s;return(s=(t.flags&64)!==0)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-65):e!==null&&e.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),bn(wn,i&1),e===null?(r.fallback!==void 0&&S0(t),e=r.children,i=r.fallback,o?(e=dT(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=cm,e):typeof r.unstable_expectedLoadTime=="number"?(e=dT(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=cm,t.lanes=33554432,e):(n=CE({mode:"visible",children:e},t.mode,n,null),n.return=t,t.child=n)):e.memoizedState!==null?o?(r=pT(e,t,r.children,r.fallback,n),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=cm,r):(n=hT(e,t,r.children,n),t.memoizedState=null,n):o?(r=pT(e,t,r.children,r.fallback,n),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=cm,r):(n=hT(e,t,r.children,n),t.memoizedState=null,n)}function dT(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},(i&2)===0&&o!==null?(o.childLanes=0,o.pendingProps=t):o=CE(t,i,0,null),n=jc(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function hT(e,t,n,r){var i=e.child;return e=i.sibling,n=rl(i,{mode:"visible",children:n}),(t.mode&2)===0&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function pT(e,t,n,r,i){var o=t.mode,s=e.child;e=s.sibling;var u={mode:"hidden",children:n};return(o&2)===0&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,s=n.lastEffect,s!==null?(t.firstEffect=n.firstEffect,t.lastEffect=s,s.nextEffect=null):t.firstEffect=t.lastEffect=null):n=rl(s,u),e!==null?r=rl(e,r):(r=jc(r,o,i,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,r}function mT(e,t){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),GA(e.return,t)}function Zw(e,t,n,r,i,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.lastEffect=o)}function gT(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(qr(e,t,r.children,n),r=wn.current,(r&2)!==0)r=r&1|2,t.flags|=64;else{if(e!==null&&(e.flags&64)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mT(e,n);else if(e.tag===19)mT(e,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(bn(wn,r),(t.mode&2)===0)t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&vg(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Zw(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&vg(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Zw(t,!0,n,null,o,t.lastEffect);break;case"together":Zw(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ua(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Jh|=t.lanes,(n&t.childLanes)!==0){if(e!==null&&t.child!==e.child)throw Error(ke(153));if(t.child!==null){for(e=t.child,n=rl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}return null}var cR,N0,fR,dR;cR=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};N0=function(){};fR=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,su(sa.current);var o=null;switch(n){case"input":i=Qb(e,i),r=Qb(e,r),o=[];break;case"option":i=t0(e,i),r=t0(e,r),o=[];break;case"select":i=dn({},i,{value:void 0}),r=dn({},r,{value:void 0}),o=[];break;case"textarea":i=n0(e,i),r=n0(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ug)}o0(n,r);var s;n=null;for(m in i)if(!r.hasOwnProperty(m)&&i.hasOwnProperty(m)&&i[m]!=null)if(m==="style"){var u=i[m];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(dh.hasOwnProperty(m)?o||(o=[]):(o=o||[]).push(m,null));for(m in r){var h=r[m];if(u=i!=null?i[m]:void 0,r.hasOwnProperty(m)&&h!==u&&(h!=null||u!=null))if(m==="style")if(u){for(s in u)!u.hasOwnProperty(s)||h&&h.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in h)h.hasOwnProperty(s)&&u[s]!==h[s]&&(n||(n={}),n[s]=h[s])}else n||(o||(o=[]),o.push(m,n)),n=h;else m==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,u=u?u.__html:void 0,h!=null&&u!==h&&(o=o||[]).push(m,h)):m==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(m,""+h):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(dh.hasOwnProperty(m)?(h!=null&&m==="onScroll"&&ln("scroll",e),o||u===h||(o=[])):typeof h=="object"&&h!==null&&h.$$typeof===jS?h.toString():(o=o||[]).push(m,h))}n&&(o=o||[]).push("style",n);var m=o;(t.updateQueue=m)&&(t.flags|=4)}};dR=function(e,t,n,r){n!==r&&(t.flags|=4)};function yd(e,t){if(!la)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function QW(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Jr(t.type)&&fg(),null;case 3:return ef(),un(Xr),un(br),fE(),r=t.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(um(t)?t.flags|=4:r.hydrate||(t.flags|=256)),N0(t),null;case 5:cE(t);var i=su(xh.current);if(n=t.type,e!==null&&t.stateNode!=null)fR(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(t.stateNode===null)throw Error(ke(166));return null}if(e=su(sa.current),um(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Ds]=t,r[cg]=o,n){case"dialog":ln("cancel",r),ln("close",r);break;case"iframe":case"object":case"embed":ln("load",r);break;case"video":case"audio":for(e=0;e<Pd.length;e++)ln(Pd[e],r);break;case"source":ln("error",r);break;case"img":case"image":case"link":ln("error",r),ln("load",r);break;case"details":ln("toggle",r);break;case"input":gI(r,o),ln("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ln("invalid",r);break;case"textarea":yI(r,o),ln("invalid",r)}o0(n,o),e=null;for(var s in o)o.hasOwnProperty(s)&&(i=o[s],s==="children"?typeof i=="string"?r.textContent!==i&&(e=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(e=["children",""+i]):dh.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&ln("scroll",r));switch(n){case"input":rm(r),vI(r,o,!0);break;case"textarea":rm(r),wI(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ug)}r=e,t.updateQueue=r,r!==null&&(t.flags|=4)}else{switch(s=i.nodeType===9?i:i.ownerDocument,e===r0.html&&(e=oA(n)),e===r0.html?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Ds]=t,e[cg]=r,cR(e,t,!1,!1),t.stateNode=e,s=a0(n,r),n){case"dialog":ln("cancel",e),ln("close",e),i=r;break;case"iframe":case"object":case"embed":ln("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pd.length;i++)ln(Pd[i],e);i=r;break;case"source":ln("error",e),i=r;break;case"img":case"image":case"link":ln("error",e),ln("load",e),i=r;break;case"details":ln("toggle",e),i=r;break;case"input":gI(e,r),i=Qb(e,r),ln("invalid",e);break;case"option":i=t0(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=dn({},r,{value:void 0}),ln("invalid",e);break;case"textarea":yI(e,r),i=n0(e,r),ln("invalid",e);break;default:i=r}o0(n,i);var u=i;for(o in u)if(u.hasOwnProperty(o)){var h=u[o];o==="style"?lA(e,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&aA(e,h)):o==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&hh(e,h):typeof h=="number"&&hh(e,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(dh.hasOwnProperty(o)?h!=null&&o==="onScroll"&&ln("scroll",e):h!=null&&zS(e,o,h,s))}switch(n){case"input":rm(e),vI(e,r,!1);break;case"textarea":rm(e),wI(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Zs(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Lc(e,!!r.multiple,o,!1):r.defaultValue!=null&&Lc(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ug)}FA(n,r)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)dR(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ke(166));n=su(xh.current),su(sa.current),um(t)?(r=t.stateNode,n=t.memoizedProps,r[Ds]=t,r.nodeValue!==n&&(t.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ds]=t,t.stateNode=r)}return null;case 13:return un(wn),r=t.memoizedState,(t.flags&64)!==0?(t.lanes=n,t):(r=r!==null,n=!1,e===null?t.memoizedProps.fallback!==void 0&&um(t):n=e.memoizedState!==null,r&&!n&&(t.mode&2)!==0&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||(wn.current&1)!==0?or===0&&(or=3):((or===0||or===3)&&(or=4),Ar===null||(Jh&134217727)===0&&(Ef&134217727)===0||$c(Ar,wr))),(r||n)&&(t.flags|=4),null);case 4:return ef(),N0(t),e===null&&MA(t.stateNode.containerInfo),null;case 10:return lE(t),null;case 17:return Jr(t.type)&&fg(),null;case 19:if(un(wn),r=t.memoizedState,r===null)return null;if(o=(t.flags&64)!==0,s=r.rendering,s===null)if(o)yd(r,!1);else{if(or!==0||e!==null&&(e.flags&64)!==0)for(e=t.child;e!==null;){if(s=vg(e),s!==null){for(t.flags|=64,yd(r,!1),o=s.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),r.lastEffect===null&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return bn(wn,wn.current&1|2),t.child}e=e.sibling}r.tail!==null&&yr()>R0&&(t.flags|=64,o=!0,yd(r,!1),t.lanes=33554432)}else{if(!o)if(e=vg(s),e!==null){if(t.flags|=64,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),yd(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!la)return t=t.lastEffect=r.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*yr()-r.renderingStartTime>R0&&n!==1073741824&&(t.flags|=64,o=!0,yd(r,!1),t.lanes=33554432);r.isBackwards?(s.sibling=t.child,t.child=s):(n=r.last,n!==null?n.sibling=s:t.child=s,r.last=s)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=yr(),n.sibling=null,t=wn.current,bn(wn,o?t&1|2:t&1),n):null;case 23:case 24:return SE(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error(ke(156,t.tag))}function ZW(e){switch(e.tag){case 1:Jr(e.type)&&fg();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(ef(),un(Xr),un(br),fE(),t=e.flags,(t&64)!==0)throw Error(ke(285));return e.flags=t&-4097|64,e;case 5:return cE(e),null;case 13:return un(wn),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return un(wn),null;case 4:return ef(),null;case 10:return lE(e),null;case 23:case 24:return SE(),null;default:return null}}function vE(e,t){try{var n="",r=t;do n+=k$(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i}}function I0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var e3=typeof WeakMap=="function"?WeakMap:Map;function hR(e,t,n){n=Ws(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){xg||(xg=!0,P0=r),I0(e,t)},n}function pR(e,t,n){n=Ws(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return I0(e,t),r(i)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(aa===null?aa=new Set([this]):aa.add(this),I0(e,t));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}var t3=typeof WeakSet=="function"?WeakSet:Set;function vT(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){Vs(e,n)}else t.current=null}function n3(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var n=e.memoizedProps,r=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:So(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&iE(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(ke(163))}function r3(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var i=e;r=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(CR(n,e),f3(n,e)),e=r}while(e!==t)}return;case 1:e=n.stateNode,n.flags&4&&(t===null?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:So(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=n.updateQueue,t!==null&&QI(n,t,e);return;case 3:if(t=n.updateQueue,t!==null){if(e=null,n.child!==null)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}QI(n,t,e)}return;case 5:e=n.stateNode,t===null&&n.flags&4&&FA(n.type,n.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&yA(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(ke(163))}function yT(e,t){for(var n=e;;){if(n.tag===5){var r=n.stateNode;if(t)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=sA("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function wT(e,t){if(hu&&typeof hu.onCommitFiberUnmount=="function")try{hu.onCommitFiberUnmount(oE,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if((r&4)!==0)CR(t,n);else{r=t;try{i()}catch(o){Vs(r,o)}}n=n.next}while(n!==e)}break;case 1:if(vT(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Vs(t,o)}break;case 5:vT(t);break;case 4:mR(e,t)}}function bT(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ST(e){return e.tag===5||e.tag===3||e.tag===4}function ET(e){e:{for(var t=e.return;t!==null;){if(ST(t))break e;t=t.return}throw Error(ke(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:t=t.containerInfo,r=!0;break;case 4:t=t.containerInfo,r=!0;break;default:throw Error(ke(161))}n.flags&16&&(hh(t,""),n.flags&=-17);e:t:for(n=e;;){for(;n.sibling===null;){if(n.return===null||ST(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?T0(e,n,t):O0(e,n,t)}function T0(e,t,n){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ug));else if(r!==4&&(e=e.child,e!==null))for(T0(e,t,n),e=e.sibling;e!==null;)T0(e,t,n),e=e.sibling}function O0(e,t,n){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(O0(e,t,n),e=e.sibling;e!==null;)O0(e,t,n),e=e.sibling}function mR(e,t){for(var n=t,r=!1,i,o;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(ke(160));switch(i=r.stateNode,r.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var s=e,u=n,h=u;;)if(wT(s,h),h.child!==null&&h.tag!==4)h.child.return=h,h=h.child;else{if(h===u)break e;for(;h.sibling===null;){if(h.return===null||h.return===u)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}o?(s=i,u=n.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,o=!0,n.child.return=n,n=n.child;continue}}else if(wT(e,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function eb(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(e=r.destroy,r.destroy=void 0,e!==void 0&&e()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=t.stateNode,n!=null){r=t.memoizedProps;var i=e!==null?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,o!==null){for(n[cg]=r,e==="input"&&r.type==="radio"&&r.name!=null&&rA(n,r),a0(e,i),t=a0(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];s==="style"?lA(n,u):s==="dangerouslySetInnerHTML"?aA(n,u):s==="children"?hh(n,u):zS(n,s,u,t)}switch(e){case"input":Zb(n,r);break;case"textarea":iA(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,o=r.value,o!=null?Lc(n,!!r.multiple,o,!1):e!==!!r.multiple&&(r.defaultValue!=null?Lc(n,!!r.multiple,r.defaultValue,!0):Lc(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(ke(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:n=t.stateNode,n.hydrate&&(n.hydrate=!1,yA(n.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(bE=yr(),yT(t.child,!0)),CT(t);return;case 19:CT(t);return;case 17:return;case 23:case 24:yT(t,t.memoizedState!==null);return}throw Error(ke(163))}function CT(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new t3),t.forEach(function(r){var i=p3.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function i3(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var o3=Math.ceil,Cg=Ru.ReactCurrentDispatcher,yE=Ru.ReactCurrentOwner,bt=0,Ar=null,Ln=null,wr=0,bu=0,_0=ul(0),or=0,Tv=null,Sf=0,Jh=0,Ef=0,wE=0,A0=null,bE=0,R0=1/0;function Cf(){R0=yr()+500}var Xe=null,xg=!1,P0=null,aa=null,nl=!1,Jd=null,kd=90,k0=[],D0=[],ja=null,Qd=0,L0=null,Fm=-1,Ba=0,Um=0,Zd=null,$m=!1;function gi(){return(bt&48)!==0?yr():Fm!==-1?Fm:Fm=yr()}function Ks(e){if(e=e.mode,(e&2)===0)return 1;if((e&4)===0)return Zc()===99?1:2;if(Ba===0&&(Ba=Sf),VW.transition!==0){Um!==0&&(Um=A0!==null?A0.pendingLanes:0),e=Ba;var t=4186112&~Um;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=Zc(),(bt&4)!==0&&e===98?e=sg(12,Ba):(e=Y$(e),e=sg(e,Ba)),e}function qs(e,t,n){if(50<Qd)throw Qd=0,L0=null,Error(ke(185));if(e=Ov(e,t),e===null)return null;bv(e,t,n),e===Ar&&(Ef|=t,or===4&&$c(e,wr));var r=Zc();t===1?(bt&8)!==0&&(bt&48)===0?M0(e):(Qi(e,n),bt===0&&(Cf(),pa())):((bt&4)===0||r!==98&&r!==99||(ja===null?ja=new Set([e]):ja.add(e)),Qi(e,n)),A0=e}function Ov(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}function Qi(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-el(s),h=1<<u,m=o[u];if(m===-1){if((h&r)===0||(h&i)!==0){m=t,Sc(h);var v=sn;o[u]=10<=v?m+250:6<=v?m+5e3:-1}}else m<=t&&(e.expiredLanes|=h);s&=~h}if(r=vh(e,e===Ar?wr:0),t=sn,r===0)n!==null&&(n!==Yw&&v0(n),e.callbackNode=null,e.callbackPriority=0);else{if(n!==null){if(e.callbackPriority===t)return;n!==Yw&&v0(n)}t===15?(n=M0.bind(null,e),za===null?(za=[n],Bm=aE(Nv,HA)):za.push(n),n=Yw):t===14?n=Sh(99,M0.bind(null,e)):(n=X$(t),n=Sh(n,gR.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gR(e){if(Fm=-1,Um=Ba=0,(bt&48)!==0)throw Error(ke(327));var t=e.callbackNode;if(cl()&&e.callbackNode!==t)return null;var n=vh(e,e===Ar?wr:0);if(n===0)return null;var r=n,i=bt;bt|=16;var o=bR();(Ar!==e||wr!==r)&&(Cf(),Wc(e,r));do try{l3();break}catch(u){wR(e,u)}while(1);if(sE(),Cg.current=o,bt=i,Ln!==null?r=0:(Ar=null,wr=0,r=or),(Sf&Ef)!==0)Wc(e,0);else if(r!==0){if(r===2&&(bt|=64,e.hydrate&&(e.hydrate=!1,iE(e.containerInfo)),n=NA(e),n!==0&&(r=Dd(e,n))),r===1)throw t=Tv,Wc(e,0),$c(e,n),Qi(e,yr()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(ke(345));case 2:Jl(e);break;case 3:if($c(e,n),(n&62914560)===n&&(r=bE+500-yr(),10<r)){if(vh(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){gi(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=KI(Jl.bind(null,e),r);break}Jl(e);break;case 4:if($c(e,n),(n&4186112)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-el(n);o=1<<s,s=r[s],s>i&&(i=s),n&=~o}if(n=i,n=yr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*o3(n/1960))-n,10<n){e.timeoutHandle=KI(Jl.bind(null,e),n);break}Jl(e);break;case 5:Jl(e);break;default:throw Error(ke(329))}}return Qi(e,yr()),e.callbackNode===t?gR.bind(null,e):null}function $c(e,t){for(t&=~wE,t&=~Ef,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-el(t),r=1<<n;e[n]=-1,t&=~r}}function M0(e){if((bt&48)!==0)throw Error(ke(327));if(cl(),e===Ar&&(e.expiredLanes&wr)!==0){var t=wr,n=Dd(e,t);(Sf&Ef)!==0&&(t=vh(e,t),n=Dd(e,t))}else t=vh(e,0),n=Dd(e,t);if(e.tag!==0&&n===2&&(bt|=64,e.hydrate&&(e.hydrate=!1,iE(e.containerInfo)),t=NA(e),t!==0&&(n=Dd(e,t))),n===1)throw n=Tv,Wc(e,0),$c(e,t),Qi(e,yr()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jl(e),Qi(e,yr()),null}function a3(){if(ja!==null){var e=ja;ja=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,Qi(t,yr())})}pa()}function vR(e,t){var n=bt;bt|=1;try{return e(t)}finally{bt=n,bt===0&&(Cf(),pa())}}function yR(e,t){var n=bt;bt&=-2,bt|=8;try{return e(t)}finally{bt=n,bt===0&&(Cf(),pa())}}function fm(e,t){bn(_0,bu),bu|=t,Sf|=t}function SE(){bu=_0.current,un(_0)}function Wc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,UW(n)),Ln!==null)for(n=Ln.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&fg();break;case 3:ef(),un(Xr),un(br),fE();break;case 5:cE(r);break;case 4:ef();break;case 13:un(wn);break;case 19:un(wn);break;case 10:lE(r);break;case 23:case 24:SE()}n=n.return}Ar=e,Ln=rl(e.current,null),wr=bu=Sf=t,or=0,Tv=null,wE=Ef=Jh=0}function wR(e,t){do{var n=Ln;try{if(sE(),Yd.current=Eg,yg){for(var r=On.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}yg=!1}if(Nh=0,ir=vr=On=null,Xd=!1,yE.current=null,n===null||n.return===null){or=1,Tv=t,Ln=null;break}e:{var o=e,s=n.return,u=n,h=t;if(t=wr,u.flags|=2048,u.firstEffect=u.lastEffect=null,h!==null&&typeof h=="object"&&typeof h.then=="function"){var m=h;if((u.mode&2)===0){var v=u.alternate;v?(u.updateQueue=v.updateQueue,u.memoizedState=v.memoizedState,u.lanes=v.lanes):(u.updateQueue=null,u.memoizedState=null)}var w=(wn.current&1)!==0,b=s;do{var N;if(N=b.tag===13){var T=b.memoizedState;if(T!==null)N=T.dehydrated!==null;else{var R=b.memoizedProps;N=R.fallback===void 0?!1:R.unstable_avoidThisFallback!==!0?!0:!w}}if(N){var S=b.updateQueue;if(S===null){var E=new Set;E.add(m),b.updateQueue=E}else S.add(m);if((b.mode&2)===0){if(b.flags|=64,u.flags|=16384,u.flags&=-2981,u.tag===1)if(u.alternate===null)u.tag=17;else{var I=Ws(-1,1);I.tag=2,js(u,I)}u.lanes|=1;break e}h=void 0,u=t;var P=o.pingCache;if(P===null?(P=o.pingCache=new e3,h=new Set,P.set(m,h)):(h=P.get(m),h===void 0&&(h=new Set,P.set(m,h))),!h.has(u)){h.add(u);var O=h3.bind(null,o,m,u);m.then(O,O)}b.flags|=4096,b.lanes=t;break e}b=b.return}while(b!==null);h=Error((Dc(u.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}or!==5&&(or=2),h=vE(h,u),b=s;do{switch(b.tag){case 3:o=h,b.flags|=4096,t&=-t,b.lanes|=t;var B=hR(b,o,t);JI(b,B);break e;case 1:o=h;var A=b.type,z=b.stateNode;if((b.flags&64)===0&&(typeof A.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(aa===null||!aa.has(z)))){b.flags|=4096,t&=-t,b.lanes|=t;var M=pR(b,o,t);JI(b,M);break e}}b=b.return}while(b!==null)}ER(n)}catch(F){t=F,Ln===n&&n!==null&&(Ln=n=n.return);continue}break}while(1)}function bR(){var e=Cg.current;return Cg.current=Eg,e===null?Eg:e}function Dd(e,t){var n=bt;bt|=16;var r=bR();Ar===e&&wr===t||Wc(e,t);do try{s3();break}catch(i){wR(e,i)}while(1);if(sE(),bt=n,Cg.current=r,Ln!==null)throw Error(ke(261));return Ar=null,wr=0,or}function s3(){for(;Ln!==null;)SR(Ln)}function l3(){for(;Ln!==null&&!jW();)SR(Ln)}function SR(e){var t=xR(e.alternate,e,bu);e.memoizedProps=e.pendingProps,t===null?ER(e):Ln=t,yE.current=null}function ER(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&2048)===0){if(n=QW(n,t,bu),n!==null){Ln=n;return}if(n=t,n.tag!==24&&n.tag!==23||n.memoizedState===null||(bu&1073741824)!==0||(n.mode&4)===0){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}e!==null&&(e.flags&2048)===0&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(n=ZW(t),n!==null){n.flags&=2047,Ln=n;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(t=t.sibling,t!==null){Ln=t;return}Ln=t=e}while(t!==null);or===0&&(or=5)}function Jl(e){var t=Zc();return wu(99,u3.bind(null,e,t)),null}function u3(e,t){do cl();while(Jd!==null);if((bt&48)!==0)throw Error(ke(327));var n=e.finishedWork;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ke(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var h=31-el(o),m=1<<h;i[h]=0,s[h]=-1,u[h]=-1,o&=~m}if(ja!==null&&(r&24)===0&&ja.has(e)&&ja.delete(e),e===Ar&&(Ln=Ar=null,wr=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=bt,bt|=32,yE.current=null,Vw=Dm,s=zI(),d0(s)){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(m=u.getSelection&&u.getSelection())&&m.rangeCount!==0){u=m.anchorNode,o=m.anchorOffset,h=m.focusNode,m=m.focusOffset;try{u.nodeType,h.nodeType}catch{u=null;break e}var v=0,w=-1,b=-1,N=0,T=0,R=s,S=null;t:for(;;){for(var E;R!==u||o!==0&&R.nodeType!==3||(w=v+o),R!==h||m!==0&&R.nodeType!==3||(b=v+m),R.nodeType===3&&(v+=R.nodeValue.length),(E=R.firstChild)!==null;)S=R,R=E;for(;;){if(R===s)break t;if(S===u&&++N===o&&(w=v),S===h&&++T===m&&(b=v),(E=R.nextSibling)!==null)break;R=S,S=R.parentNode}R=E}u=w===-1||b===-1?null:{start:w,end:b}}else u=null;u=u||{start:0,end:0}}else u=null;Hw={focusedElem:s,selectionRange:u},Dm=!1,Zd=null,$m=!1,Xe=r;do try{c3()}catch(F){if(Xe===null)throw Error(ke(330));Vs(Xe,F),Xe=Xe.nextEffect}while(Xe!==null);Zd=null,Xe=r;do try{for(s=e;Xe!==null;){var I=Xe.flags;if(I&16&&hh(Xe.stateNode,""),I&128){var P=Xe.alternate;if(P!==null){var O=P.ref;O!==null&&(typeof O=="function"?O(null):O.current=null)}}switch(I&1038){case 2:ET(Xe),Xe.flags&=-3;break;case 6:ET(Xe),Xe.flags&=-3,eb(Xe.alternate,Xe);break;case 1024:Xe.flags&=-1025;break;case 1028:Xe.flags&=-1025,eb(Xe.alternate,Xe);break;case 4:eb(Xe.alternate,Xe);break;case 8:u=Xe,mR(s,u);var B=u.alternate;bT(u),B!==null&&bT(B)}Xe=Xe.nextEffect}}catch(F){if(Xe===null)throw Error(ke(330));Vs(Xe,F),Xe=Xe.nextEffect}while(Xe!==null);if(O=Hw,P=zI(),I=O.focusedElem,s=O.selectionRange,P!==I&&I&&I.ownerDocument&&kA(I.ownerDocument.documentElement,I)){for(s!==null&&d0(I)&&(P=s.start,O=s.end,O===void 0&&(O=P),"selectionStart"in I?(I.selectionStart=P,I.selectionEnd=Math.min(O,I.value.length)):(O=(P=I.ownerDocument||document)&&P.defaultView||window,O.getSelection&&(O=O.getSelection(),u=I.textContent.length,B=Math.min(s.start,u),s=s.end===void 0?B:Math.min(s.end,u),!O.extend&&B>s&&(u=s,s=B,B=u),u=MI(I,B),o=MI(I,s),u&&o&&(O.rangeCount!==1||O.anchorNode!==u.node||O.anchorOffset!==u.offset||O.focusNode!==o.node||O.focusOffset!==o.offset)&&(P=P.createRange(),P.setStart(u.node,u.offset),O.removeAllRanges(),B>s?(O.addRange(P),O.extend(o.node,o.offset)):(P.setEnd(o.node,o.offset),O.addRange(P)))))),P=[],O=I;O=O.parentNode;)O.nodeType===1&&P.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<P.length;I++)O=P[I],O.element.scrollLeft=O.left,O.element.scrollTop=O.top}Dm=!!Vw,Hw=Vw=null,e.current=n,Xe=r;do try{for(I=e;Xe!==null;){var A=Xe.flags;if(A&36&&r3(I,Xe.alternate,Xe),A&128){P=void 0;var z=Xe.ref;if(z!==null){var M=Xe.stateNode;switch(Xe.tag){case 5:P=M;break;default:P=M}typeof z=="function"?z(P):z.current=P}}Xe=Xe.nextEffect}}catch(F){if(Xe===null)throw Error(ke(330));Vs(Xe,F),Xe=Xe.nextEffect}while(Xe!==null);Xe=null,qW(),bt=i}else e.current=n;if(nl)nl=!1,Jd=e,kd=t;else for(Xe=r;Xe!==null;)t=Xe.nextEffect,Xe.nextEffect=null,Xe.flags&8&&(A=Xe,A.sibling=null,A.stateNode=null),Xe=t;if(r=e.pendingLanes,r===0&&(aa=null),r===1?e===L0?Qd++:(Qd=0,L0=e):Qd=0,n=n.stateNode,hu&&typeof hu.onCommitFiberRoot=="function")try{hu.onCommitFiberRoot(oE,n,void 0,(n.current.flags&64)===64)}catch{}if(Qi(e,yr()),xg)throw xg=!1,e=P0,P0=null,e;return(bt&8)!==0||pa(),null}function c3(){for(;Xe!==null;){var e=Xe.alternate;$m||Zd===null||((Xe.flags&8)!==0?EI(Xe,Zd)&&($m=!0):Xe.tag===13&&i3(e,Xe)&&EI(Xe,Zd)&&($m=!0));var t=Xe.flags;(t&256)!==0&&n3(e,Xe),(t&512)===0||nl||(nl=!0,Sh(97,function(){return cl(),null})),Xe=Xe.nextEffect}}function cl(){if(kd!==90){var e=97<kd?97:kd;return kd=90,wu(e,d3)}return!1}function f3(e,t){k0.push(t,e),nl||(nl=!0,Sh(97,function(){return cl(),null}))}function CR(e,t){D0.push(t,e),nl||(nl=!0,Sh(97,function(){return cl(),null}))}function d3(){if(Jd===null)return!1;var e=Jd;if(Jd=null,(bt&48)!==0)throw Error(ke(331));var t=bt;bt|=32;var n=D0;D0=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,typeof s=="function")try{s()}catch(h){if(o===null)throw Error(ke(330));Vs(o,h)}}for(n=k0,k0=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(h){if(o===null)throw Error(ke(330));Vs(o,h)}}for(u=e.current.firstEffect;u!==null;)e=u.nextEffect,u.nextEffect=null,u.flags&8&&(u.sibling=null,u.stateNode=null),u=e;return bt=t,pa(),!0}function xT(e,t,n){t=vE(n,t),t=hR(e,t,1),js(e,t),t=gi(),e=Ov(e,1),e!==null&&(bv(e,1,t),Qi(e,t))}function Vs(e,t){if(e.tag===3)xT(e,e,t);else for(var n=e.return;n!==null;){if(n.tag===3){xT(n,e,t);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(aa===null||!aa.has(r))){e=vE(t,e);var i=pR(n,e,1);if(js(n,i),i=gi(),n=Ov(n,1),n!==null)bv(n,1,i),Qi(n,i);else if(typeof r.componentDidCatch=="function"&&(aa===null||!aa.has(r)))try{r.componentDidCatch(t,e)}catch{}break}}n=n.return}}function h3(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=gi(),e.pingedLanes|=e.suspendedLanes&n,Ar===e&&(wr&n)===n&&(or===4||or===3&&(wr&62914560)===wr&&500>yr()-bE?Wc(e,0):wE|=n),Qi(e,t)}function p3(e,t){var n=e.stateNode;n!==null&&n.delete(t),t=0,t===0&&(t=e.mode,(t&2)===0?t=1:(t&4)===0?t=Zc()===99?1:2:(Ba===0&&(Ba=Sf),t=Ec(62914560&~Ba),t===0&&(t=4194304))),n=gi(),e=Ov(e,t),e!==null&&(bv(e,t,n),Qi(e,n))}var xR;xR=function(e,t,n){var r=t.lanes;if(e!==null)if(e.memoizedProps!==t.pendingProps||Xr.current)Io=!0;else if((n&r)!==0)Io=(e.flags&16384)!==0;else{switch(Io=!1,t.tag){case 3:cT(t),Jw();break;case 5:tT(t);break;case 1:Jr(t.type)&&zm(t);break;case 4:b0(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;bn(dg,i._currentValue),i._currentValue=r;break;case 13:if(t.memoizedState!==null)return(n&t.child.childLanes)!==0?fT(e,t,n):(bn(wn,wn.current&1),t=Ua(e,t,n),t!==null?t.sibling:null);bn(wn,wn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&64)!==0){if(r)return gT(e,t,n);t.flags|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),bn(wn,wn.current),r)break;return null;case 23:case 24:return t.lanes=0,Qw(e,t,n)}return Ua(e,t,n)}else Io=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=Qc(t,br.current),Fc(t,n),i=hE(null,t,r,e,i,n),t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Jr(r)){var o=!0;zm(t)}else o=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,uE(t);var s=r.getDerivedStateFromProps;typeof s=="function"&&mg(t,r,s,e),i.updater=Iv,t.stateNode=i,i._reactInternals=t,w0(t,r,e,n),t=x0(null,t,r,!0,o,n)}else t.tag=0,qr(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=g3(i),e=So(i,e),o){case 0:t=C0(null,t,i,e,n);break e;case 1:t=uT(null,t,i,e,n);break e;case 11:t=sT(null,t,i,e,n);break e;case 14:t=lT(null,t,i,So(i.type,e),r,n);break e}throw Error(ke(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:So(r,i),C0(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:So(r,i),uT(e,t,r,i,n);case 3:if(cT(t),r=t.updateQueue,e===null||r===null)throw Error(ke(282));if(r=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,YA(e,t),Eh(t,r,null,n),r=t.memoizedState.element,r===i)Jw(),t=Ua(e,t,n);else{if(i=t.stateNode,(o=i.hydrate)&&(Ls=Bc(t.stateNode.containerInfo.firstChild),Fa=t,o=la=!0),o){if(e=i.mutableSourceEagerHydrationData,e!=null)for(i=0;i<e.length;i+=2)o=e[i],o._workInProgressVersionPrimary=e[i+1],Uc.push(o);for(n=ZA(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else qr(e,t,r,n),Jw();t=t.child}return t;case 5:return tT(t),e===null&&S0(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,m0(r,i)?s=null:o!==null&&m0(r,o)&&(t.flags|=16),uR(e,t),qr(e,t,s,n),t.child;case 6:return e===null&&S0(t),null;case 13:return fT(e,t,n);case 4:return b0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=gg(t,null,r,n):qr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:So(r,i),sT(e,t,r,i,n);case 7:return qr(e,t,t.pendingProps,n),t.child;case 8:return qr(e,t,t.pendingProps.children,n),t.child;case 12:return qr(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(bn(dg,u._currentValue),u._currentValue=o,s!==null)if(u=s.value,o=ji(u,o)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(u,o):1073741823)|0,o===0){if(s.children===i.children&&!Xr.current){t=Ua(e,t,n);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var h=u.dependencies;if(h!==null){s=u.child;for(var m=h.firstContext;m!==null;){if(m.context===r&&(m.observedBits&o)!==0){u.tag===1&&(m=Ws(-1,n&-n),m.tag=2,js(u,m)),u.lanes|=n,m=u.alternate,m!==null&&(m.lanes|=n),GA(u.return,n),h.lanes|=n;break}m=m.next}}else s=u.tag===10&&u.type===t.type?null:u.child;if(s!==null)s.return=u;else for(s=u;s!==null;){if(s===t){s=null;break}if(u=s.sibling,u!==null){u.return=s.return,s=u;break}s=s.return}u=s}qr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps,r=o.children,Fc(t,n),i=Ji(i,o.unstable_observedBits),r=r(i),t.flags|=1,qr(e,t,r,n),t.child;case 14:return i=t.type,o=So(i,t.pendingProps),o=So(i.type,o),lT(e,t,i,o,r,n);case 15:return lR(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:So(r,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Jr(r)?(e=!0,zm(t)):e=!1,Fc(t,n),JA(t,r,i),w0(t,r,i,n),x0(null,t,r,!0,e,n);case 19:return gT(e,t,n);case 23:return Qw(e,t,n);case 24:return Qw(e,t,n)}throw Error(ke(156,t.tag))};function m3(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ki(e,t,n,r){return new m3(e,t,n,r)}function EE(e){return e=e.prototype,!(!e||!e.isReactComponent)}function g3(e){if(typeof e=="function")return EE(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vv)return 11;if(e===yv)return 14}return 2}function rl(e,t){var n=e.alternate;return n===null?(n=Ki(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wm(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")EE(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case As:return jc(n.children,i,o,t);case eA:s=8,i|=16;break;case BS:s=8,i|=1;break;case Wd:return e=Ki(12,n,t,i|8),e.elementType=Wd,e.type=Wd,e.lanes=o,e;case jd:return e=Ki(13,n,t,i),e.type=jd,e.elementType=jd,e.lanes=o,e;case rg:return e=Ki(19,n,t,i),e.elementType=rg,e.lanes=o,e;case KS:return CE(n,i,o,t);case Jb:return e=Ki(24,n,t,i),e.elementType=Jb,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case FS:s=10;break e;case US:s=9;break e;case vv:s=11;break e;case yv:s=14;break e;case $S:s=16,r=null;break e;case WS:s=22;break e}throw Error(ke(130,e==null?e:typeof e,""))}return t=Ki(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function jc(e,t,n,r){return e=Ki(7,e,r,t),e.lanes=n,e}function CE(e,t,n,r){return e=Ki(23,e,r,t),e.elementType=KS,e.lanes=n,e}function tb(e,t,n){return e=Ki(6,e,null,t),e.lanes=n,e}function nb(e,t,n){return t=Ki(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function v3(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Fw(0),this.expirationTimes=Fw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fw(0),this.mutableSourceEagerHydrationData=null}function y3(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:iu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ng(e,t,n,r){var i=t.current,o=gi(),s=Ks(i);e:if(n){n=n._reactInternals;t:{if(Pu(n)!==n||n.tag!==1)throw Error(ke(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(Jr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(u!==null);throw Error(ke(171))}if(n.tag===1){var h=n.type;if(Jr(h)){n=$A(n,h,u);break e}}n=u}else n=tl;return t.context===null?t.context=n:t.pendingContext=n,t=Ws(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),js(i,t),qs(i,s,o),s}function rb(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function NT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function xE(e,t){NT(e,t),(e=e.alternate)&&NT(e,t)}function w3(){return null}function NE(e,t,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new v3(e,t,n!=null&&n.hydrate===!0),t=Ki(3,null,null,t===2?7:t===1?3:0),n.current=t,t.stateNode=n,uE(t),e[bf]=n.current,MA(e.nodeType===8?e.parentNode:e),r)for(e=0;e<r.length;e++){t=r[e];var i=t._getVersion;i=i(t._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}NE.prototype.render=function(e){Ng(e,this._internalRoot,null,null)};NE.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ng(null,e,null,function(){t[bf]=null})};function Qh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function b3(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new NE(e,0,t?{hydrate:!0}:void 0)}function _v(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if(typeof i=="function"){var u=i;i=function(){var m=rb(s);u.call(m)}}Ng(t,s,e,i)}else{if(o=n._reactRootContainer=b3(n,r),s=o._internalRoot,typeof i=="function"){var h=i;i=function(){var m=rb(s);h.call(m)}}yR(function(){Ng(t,s,e,i)})}return rb(s)}mA=function(e){if(e.tag===13){var t=gi();qs(e,4,t),xE(e,4)}};YS=function(e){if(e.tag===13){var t=gi();qs(e,67108864,t),xE(e,67108864)}};gA=function(e){if(e.tag===13){var t=gi(),n=Ks(e);qs(e,n,t),xE(e,n)}};vA=function(e,t){return t()};s0=function(e,t,n){switch(t){case"input":if(Zb(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xv(r);if(!i)throw Error(ke(90));nA(r),Zb(r,i)}}}break;case"textarea":iA(e,n);break;case"select":t=n.value,t!=null&&Lc(e,!!n.multiple,t,!1)}};VS=vR;fA=function(e,t,n,r,i){var o=bt;bt|=4;try{return wu(98,e.bind(null,t,n,r,i))}finally{bt=o,bt===0&&(Cf(),pa())}};HS=function(){(bt&49)===0&&(a3(),cl())};dA=function(e,t){var n=bt;bt|=2;try{return e(t)}finally{bt=n,bt===0&&(Cf(),pa())}};function NR(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qh(t))throw Error(ke(200));return y3(e,t,null,n)}var S3={Events:[Yh,Ic,xv,uA,cA,cl,{current:!1}]},wd={findFiberByHostInstance:au,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},E3={bundleType:wd.bundleType,version:wd.version,rendererPackageName:wd.rendererPackageName,rendererConfig:wd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ru.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pA(e),e===null?null:e.stateNode},findFiberByHostInstance:wd.findFiberByHostInstance||w3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var dm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dm.isDisabled&&dm.supportsFiber)try{oE=dm.inject(E3),hu=dm}catch{}}eo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S3;eo.createPortal=NR;eo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ke(188)):Error(ke(268,Object.keys(e)));return e=pA(t),e=e===null?null:e.stateNode,e};eo.flushSync=function(e,t){var n=bt;if((n&48)!==0)return e(t);bt|=1;try{if(e)return wu(99,e.bind(null,t))}finally{bt=n,pa()}};eo.hydrate=function(e,t,n){if(!Qh(t))throw Error(ke(200));return _v(null,e,t,!0,n)};eo.render=function(e,t,n){if(!Qh(t))throw Error(ke(200));return _v(null,e,t,!1,n)};eo.unmountComponentAtNode=function(e){if(!Qh(e))throw Error(ke(40));return e._reactRootContainer?(yR(function(){_v(null,null,e,!1,function(){e._reactRootContainer=null,e[bf]=null})}),!0):!1};eo.unstable_batchedUpdates=vR;eo.unstable_createPortal=function(e,t){return NR(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};eo.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qh(n))throw Error(ke(200));if(e==null||e._reactInternals===void 0)throw Error(ke(38));return _v(e,t,n,!1,r)};eo.version="17.0.2";function IR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(IR)}catch(e){console.error(e)}}IR(),mv.exports=eo;var TR=mv.exports,z0={exports:{}},Su={},IE={exports:{}},C3="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",x3=C3,N3=x3;function OR(){}function _R(){}_R.resetWarningCache=OR;var I3=function(){function e(r,i,o,s,u,h){if(h!==N3){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:_R,resetWarningCache:OR};return n.PropTypes=n,n};IE.exports=I3();var B0={exports:{}},ko={},Ig={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n=/input|select|textarea|button|object|iframe/;function r(h){var m=h.offsetWidth<=0&&h.offsetHeight<=0;if(m&&!h.innerHTML)return!0;try{var v=window.getComputedStyle(h);return m?v.getPropertyValue("overflow")!=="visible"||h.scrollWidth<=0&&h.scrollHeight<=0:v.getPropertyValue("display")=="none"}catch{return console.warn("Failed to inspect element style"),!1}}function i(h){for(var m=h,v=h.getRootNode&&h.getRootNode();m&&m!==document.body;){if(v&&m===v&&(m=v.host.parentNode),r(m))return!1;m=m.parentNode}return!0}function o(h,m){var v=h.nodeName.toLowerCase(),w=n.test(v)&&!h.disabled||v==="a"&&h.href||m;return w&&i(h)}function s(h){var m=h.getAttribute("tabindex");m===null&&(m=void 0);var v=isNaN(m);return(v||m>=0)&&o(h,!v)}function u(h){var m=[].slice.call(h.querySelectorAll("*"),0).reduce(function(v,w){return v.concat(w.shadowRoot?u(w.shadowRoot):[w])},[]);return m.filter(s)}e.exports=t.default})(Ig,Ig.exports);Object.defineProperty(ko,"__esModule",{value:!0});ko.resetState=A3;ko.log=R3;ko.handleBlur=Ih;ko.handleFocus=Th;ko.markForFocusLater=P3;ko.returnFocus=k3;ko.popWithoutFocus=D3;ko.setupScopedFocus=L3;ko.teardownScopedFocus=M3;var T3=Ig.exports,O3=_3(T3);function _3(e){return e&&e.__esModule?e:{default:e}}var tf=[],_c=null,F0=!1;function A3(){tf=[]}function R3(){}function Ih(){F0=!0}function Th(){if(F0){if(F0=!1,!_c)return;setTimeout(function(){if(!_c.contains(document.activeElement)){var e=(0,O3.default)(_c)[0]||_c;e.focus()}},0)}}function P3(){tf.push(document.activeElement)}function k3(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=null;try{tf.length!==0&&(t=tf.pop(),t.focus({preventScroll:e}));return}catch{console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}}function D3(){tf.length>0&&tf.pop()}function L3(e){_c=e,window.addEventListener?(window.addEventListener("blur",Ih,!1),document.addEventListener("focus",Th,!0)):(window.attachEvent("onBlur",Ih),document.attachEvent("onFocus",Th))}function M3(){_c=null,window.addEventListener?(window.removeEventListener("blur",Ih),document.removeEventListener("focus",Th)):(window.detachEvent("onBlur",Ih),document.detachEvent("onFocus",Th))}var U0={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=Ig.exports,r=i(n);function i(u){return u&&u.__esModule?u:{default:u}}function o(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return u.activeElement.shadowRoot?o(u.activeElement.shadowRoot):u.activeElement}function s(u,h){var m=(0,r.default)(u);if(!m.length){h.preventDefault();return}var v=void 0,w=h.shiftKey,b=m[0],N=m[m.length-1],T=o();if(u===T){if(!w)return;v=N}if(N===T&&!w&&(v=b),b===T&&w&&(v=N),v){h.preventDefault(),v.focus();return}var R=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),S=R!=null&&R[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(!!S){var E=m.indexOf(T);if(E>-1&&(E+=w?-1:1),v=m[E],typeof v=="undefined"){h.preventDefault(),v=w?N:b,v.focus();return}h.preventDefault(),v.focus()}}e.exports=t.default})(U0,U0.exports);var Do={},z3=function(){},B3=z3,Oo={},AR={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(e){(function(){var t=!!(typeof window!="undefined"&&window.document&&window.document.createElement),n={canUseDOM:t,canUseWorkers:typeof Worker!="undefined",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=n:window.ExecutionEnvironment=n})()})(AR);Object.defineProperty(Oo,"__esModule",{value:!0});Oo.canUseDOM=Oo.SafeNodeList=Oo.SafeHTMLCollection=void 0;var F3=AR.exports,U3=$3(F3);function $3(e){return e&&e.__esModule?e:{default:e}}var Av=U3.default,W3=Av.canUseDOM?window.HTMLElement:{};Oo.SafeHTMLCollection=Av.canUseDOM?window.HTMLCollection:{};Oo.SafeNodeList=Av.canUseDOM?window.NodeList:{};Oo.canUseDOM=Av.canUseDOM;Oo.default=W3;Object.defineProperty(Do,"__esModule",{value:!0});Do.resetState=H3;Do.log=G3;Do.assertNodeList=RR;Do.setElement=Y3;Do.validateElement=TE;Do.hide=X3;Do.show=J3;Do.documentNotReadyOrSSRTesting=Q3;var j3=B3,K3=V3(j3),q3=Oo;function V3(e){return e&&e.__esModule?e:{default:e}}var Wi=null;function H3(){Wi&&(Wi.removeAttribute?Wi.removeAttribute("aria-hidden"):Wi.length!=null?Wi.forEach(function(e){return e.removeAttribute("aria-hidden")}):document.querySelectorAll(Wi).forEach(function(e){return e.removeAttribute("aria-hidden")})),Wi=null}function G3(){}function RR(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function Y3(e){var t=e;if(typeof t=="string"&&q3.canUseDOM){var n=document.querySelectorAll(t);RR(n,t),t=n}return Wi=t||Wi,Wi}function TE(e){var t=e||Wi;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,K3.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function X3(e){var t=!0,n=!1,r=void 0;try{for(var i=TE(e)[Symbol.iterator](),o;!(t=(o=i.next()).done);t=!0){var s=o.value;s.setAttribute("aria-hidden","true")}}catch(u){n=!0,r=u}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}function J3(e){var t=!0,n=!1,r=void 0;try{for(var i=TE(e)[Symbol.iterator](),o;!(t=(o=i.next()).done);t=!0){var s=o.value;s.removeAttribute("aria-hidden")}}catch(u){n=!0,r=u}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}function Q3(){Wi=null}var xf={};Object.defineProperty(xf,"__esModule",{value:!0});xf.resetState=Z3;xf.log=ej;var eh={},th={};function IT(e,t){e.classList.remove(t)}function Z3(){var e=document.getElementsByTagName("html")[0];for(var t in eh)IT(e,eh[t]);var n=document.body;for(var r in th)IT(n,th[r]);eh={},th={}}function ej(){}var tj=function(t,n){return t[n]||(t[n]=0),t[n]+=1,n},nj=function(t,n){return t[n]&&(t[n]-=1),n},rj=function(t,n,r){r.forEach(function(i){tj(n,i),t.add(i)})},ij=function(t,n,r){r.forEach(function(i){nj(n,i),n[i]===0&&t.remove(i)})};xf.add=function(t,n){return rj(t.classList,t.nodeName.toLowerCase()=="html"?eh:th,n.split(" "))};xf.remove=function(t,n){return ij(t.classList,t.nodeName.toLowerCase()=="html"?eh:th,n.split(" "))};var Nf={};Object.defineProperty(Nf,"__esModule",{value:!0});Nf.log=aj;Nf.resetState=sj;function oj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var PR=function e(){var t=this;oj(this,e),this.register=function(n){t.openInstances.indexOf(n)===-1&&(t.openInstances.push(n),t.emit("register"))},this.deregister=function(n){var r=t.openInstances.indexOf(n);r!==-1&&(t.openInstances.splice(r,1),t.emit("deregister"))},this.subscribe=function(n){t.subscribers.push(n)},this.emit=function(n){t.subscribers.forEach(function(r){return r(n,t.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},Tg=new PR;function aj(){console.log("portalOpenInstances ----------"),console.log(Tg.openInstances.length),Tg.openInstances.forEach(function(e){return console.log(e)}),console.log("end portalOpenInstances ----------")}function sj(){Tg=new PR}Nf.default=Tg;var OE={};Object.defineProperty(OE,"__esModule",{value:!0});OE.resetState=fj;OE.log=dj;var lj=Nf,uj=cj(lj);function cj(e){return e&&e.__esModule?e:{default:e}}var gr=void 0,Eo=void 0,pu=[];function fj(){for(var e=[gr,Eo],t=0;t<e.length;t++){var n=e[t];!n||n.parentNode&&n.parentNode.removeChild(n)}gr=Eo=null,pu=[]}function dj(){console.log("bodyTrap ----------"),console.log(pu.length);for(var e=[gr,Eo],t=0;t<e.length;t++){var n=e[t],r=n||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")}function TT(){pu.length!==0&&pu[pu.length-1].focusContent()}function hj(e,t){!gr&&!Eo&&(gr=document.createElement("div"),gr.setAttribute("data-react-modal-body-trap",""),gr.style.position="absolute",gr.style.opacity="0",gr.setAttribute("tabindex","0"),gr.addEventListener("focus",TT),Eo=gr.cloneNode(),Eo.addEventListener("focus",TT)),pu=t,pu.length>0?(document.body.firstChild!==gr&&document.body.insertBefore(gr,document.body.firstChild),document.body.lastChild!==Eo&&document.body.appendChild(Eo)):(gr.parentElement&&gr.parentElement.removeChild(gr),Eo.parentElement&&Eo.parentElement.removeChild(Eo))}uj.default.subscribe(hj);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(V){for(var oe=1;oe<arguments.length;oe++){var ne=arguments[oe];for(var J in ne)Object.prototype.hasOwnProperty.call(ne,J)&&(V[J]=ne[J])}return V},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},i=function(){function V(oe,ne){for(var J=0;J<ne.length;J++){var Y=ne[J];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(oe,Y.key,Y)}}return function(oe,ne,J){return ne&&V(oe.prototype,ne),J&&V(oe,J),oe}}(),o=Q.exports,s=IE.exports,u=B(s),h=ko,m=O(h),v=U0.exports,w=B(v),b=Do,N=O(b),T=xf,R=O(T),S=Oo,E=B(S),I=Nf,P=B(I);function O(V){if(V&&V.__esModule)return V;var oe={};if(V!=null)for(var ne in V)Object.prototype.hasOwnProperty.call(V,ne)&&(oe[ne]=V[ne]);return oe.default=V,oe}function B(V){return V&&V.__esModule?V:{default:V}}function A(V,oe){if(!(V instanceof oe))throw new TypeError("Cannot call a class as a function")}function z(V,oe){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe&&(typeof oe=="object"||typeof oe=="function")?oe:V}function M(V,oe){if(typeof oe!="function"&&oe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof oe);V.prototype=Object.create(oe&&oe.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),oe&&(Object.setPrototypeOf?Object.setPrototypeOf(V,oe):V.__proto__=oe)}var F={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},U=9,W=27,G=0,te=function(V){M(oe,V);function oe(ne){A(this,oe);var J=z(this,(oe.__proto__||Object.getPrototypeOf(oe)).call(this,ne));return J.setOverlayRef=function(Y){J.overlay=Y,J.props.overlayRef&&J.props.overlayRef(Y)},J.setContentRef=function(Y){J.content=Y,J.props.contentRef&&J.props.contentRef(Y)},J.afterClose=function(){var Y=J.props,X=Y.appElement,re=Y.ariaHideApp,ie=Y.htmlOpenClassName,ce=Y.bodyOpenClassName;ce&&R.remove(document.body,ce),ie&&R.remove(document.getElementsByTagName("html")[0],ie),re&&G>0&&(G-=1,G===0&&N.show(X)),J.props.shouldFocusAfterRender&&(J.props.shouldReturnFocusAfterClose?(m.returnFocus(J.props.preventScroll),m.teardownScopedFocus()):m.popWithoutFocus()),J.props.onAfterClose&&J.props.onAfterClose(),P.default.deregister(J)},J.open=function(){J.beforeOpen(),J.state.afterOpen&&J.state.beforeClose?(clearTimeout(J.closeTimer),J.setState({beforeClose:!1})):(J.props.shouldFocusAfterRender&&(m.setupScopedFocus(J.node),m.markForFocusLater()),J.setState({isOpen:!0},function(){J.openAnimationFrame=requestAnimationFrame(function(){J.setState({afterOpen:!0}),J.props.isOpen&&J.props.onAfterOpen&&J.props.onAfterOpen({overlayEl:J.overlay,contentEl:J.content})})}))},J.close=function(){J.props.closeTimeoutMS>0?J.closeWithTimeout():J.closeWithoutTimeout()},J.focusContent=function(){return J.content&&!J.contentHasFocus()&&J.content.focus({preventScroll:!0})},J.closeWithTimeout=function(){var Y=Date.now()+J.props.closeTimeoutMS;J.setState({beforeClose:!0,closesAt:Y},function(){J.closeTimer=setTimeout(J.closeWithoutTimeout,J.state.closesAt-Date.now())})},J.closeWithoutTimeout=function(){J.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},J.afterClose)},J.handleKeyDown=function(Y){Y.keyCode===U&&(0,w.default)(J.content,Y),J.props.shouldCloseOnEsc&&Y.keyCode===W&&(Y.stopPropagation(),J.requestClose(Y))},J.handleOverlayOnClick=function(Y){J.shouldClose===null&&(J.shouldClose=!0),J.shouldClose&&J.props.shouldCloseOnOverlayClick&&(J.ownerHandlesClose()?J.requestClose(Y):J.focusContent()),J.shouldClose=null},J.handleContentOnMouseUp=function(){J.shouldClose=!1},J.handleOverlayOnMouseDown=function(Y){!J.props.shouldCloseOnOverlayClick&&Y.target==J.overlay&&Y.preventDefault()},J.handleContentOnClick=function(){J.shouldClose=!1},J.handleContentOnMouseDown=function(){J.shouldClose=!1},J.requestClose=function(Y){return J.ownerHandlesClose()&&J.props.onRequestClose(Y)},J.ownerHandlesClose=function(){return J.props.onRequestClose},J.shouldBeClosed=function(){return!J.state.isOpen&&!J.state.beforeClose},J.contentHasFocus=function(){return document.activeElement===J.content||J.content.contains(document.activeElement)},J.buildClassName=function(Y,X){var re=(typeof X=="undefined"?"undefined":r(X))==="object"?X:{base:F[Y],afterOpen:F[Y]+"--after-open",beforeClose:F[Y]+"--before-close"},ie=re.base;return J.state.afterOpen&&(ie=ie+" "+re.afterOpen),J.state.beforeClose&&(ie=ie+" "+re.beforeClose),typeof X=="string"&&X?ie+" "+X:ie},J.attributesFromObject=function(Y,X){return Object.keys(X).reduce(function(re,ie){return re[Y+"-"+ie]=X[ie],re},{})},J.state={afterOpen:!1,beforeClose:!1},J.shouldClose=null,J.moveFromContentToOverlay=null,J}return i(oe,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(J,Y){this.props.isOpen&&!J.isOpen?this.open():!this.props.isOpen&&J.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!Y.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var J=this.props,Y=J.appElement,X=J.ariaHideApp,re=J.htmlOpenClassName,ie=J.bodyOpenClassName;ie&&R.add(document.body,ie),re&&R.add(document.getElementsByTagName("html")[0],re),X&&(G+=1,N.hide(Y)),P.default.register(this)}},{key:"render",value:function(){var J=this.props,Y=J.id,X=J.className,re=J.overlayClassName,ie=J.defaultStyles,ce=J.children,ye=X?{}:ie.content,ge=re?{}:ie.overlay;if(this.shouldBeClosed())return null;var fe={ref:this.setOverlayRef,className:this.buildClassName("overlay",re),style:n({},ge,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},Me=n({id:Y,ref:this.setContentRef,style:n({},ye,this.props.style.content),className:this.buildClassName("content",X),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),je=this.props.contentElement(Me,ce);return this.props.overlayElement(fe,je)}}]),oe}(o.Component);te.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},te.propTypes={isOpen:u.default.bool.isRequired,defaultStyles:u.default.shape({content:u.default.object,overlay:u.default.object}),style:u.default.shape({content:u.default.object,overlay:u.default.object}),className:u.default.oneOfType([u.default.string,u.default.object]),overlayClassName:u.default.oneOfType([u.default.string,u.default.object]),bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,ariaHideApp:u.default.bool,appElement:u.default.oneOfType([u.default.instanceOf(E.default),u.default.instanceOf(S.SafeHTMLCollection),u.default.instanceOf(S.SafeNodeList),u.default.arrayOf(u.default.instanceOf(E.default))]),onAfterOpen:u.default.func,onAfterClose:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,preventScroll:u.default.bool,role:u.default.string,contentLabel:u.default.string,aria:u.default.object,data:u.default.object,children:u.default.node,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func,id:u.default.string,overlayElement:u.default.func,contentElement:u.default.func,testId:u.default.string},t.default=te,e.exports=t.default})(B0,B0.exports);function kR(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function DR(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r!=null?r:null}this.setState(t.bind(this))}function LR(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}kR.__suppressDeprecationWarning=!0;DR.__suppressDeprecationWarning=!0;LR.__suppressDeprecationWarning=!0;function pj(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,i=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var o=e.displayName||e.name,s=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+s+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=kR,t.componentWillReceiveProps=DR),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=LR;var u=t.componentDidUpdate;t.componentDidUpdate=function(m,v,w){var b=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:w;u.call(this,m,v,b)}}return e}var mj=Object.freeze(Object.defineProperty({__proto__:null,polyfill:pj},Symbol.toStringTag,{value:"Module"})),gj=w$(mj);Object.defineProperty(Su,"__esModule",{value:!0});Su.bodyOpenClassName=Su.portalClassName=void 0;var OT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vj=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),MR=Q.exports,Og=Zh(MR),yj=mv.exports,_g=Zh(yj),wj=IE.exports,Et=Zh(wj),bj=B0.exports,_T=Zh(bj),Sj=Do,Ej=xj(Sj),Ms=Oo,AT=Zh(Ms),Cj=gj;function xj(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Zh(e){return e&&e.__esModule?e:{default:e}}function Nj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RT(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Ij(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Tj=Su.portalClassName="ReactModalPortal",Oj=Su.bodyOpenClassName="ReactModal__Body--open",Ql=Ms.canUseDOM&&_g.default.createPortal!==void 0,PT=function(t){return document.createElement(t)},kT=function(){return Ql?_g.default.createPortal:_g.default.unstable_renderSubtreeIntoContainer};function hm(e){return e()}var ep=function(e){Ij(t,e);function t(){var n,r,i,o;Nj(this,t);for(var s=arguments.length,u=Array(s),h=0;h<s;h++)u[h]=arguments[h];return o=(r=(i=RT(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(u))),i),i.removePortal=function(){!Ql&&_g.default.unmountComponentAtNode(i.node);var m=hm(i.props.parentSelector);m&&m.contains(i.node)?m.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(m){i.portal=m},i.renderPortal=function(m){var v=kT(),w=v(i,Og.default.createElement(_T.default,OT({defaultStyles:t.defaultStyles},m)),i.node);i.portalRef(w)},r),RT(i,o)}return vj(t,[{key:"componentDidMount",value:function(){if(!!Ms.canUseDOM){Ql||(this.node=PT("div")),this.node.className=this.props.portalClassName;var r=hm(this.props.parentSelector);r.appendChild(this.node),!Ql&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(r){var i=hm(r.parentSelector),o=hm(this.props.parentSelector);return{prevParent:i,nextParent:o}}},{key:"componentDidUpdate",value:function(r,i,o){if(!!Ms.canUseDOM){var s=this.props,u=s.isOpen,h=s.portalClassName;r.portalClassName!==h&&(this.node.className=h);var m=o.prevParent,v=o.nextParent;v!==m&&(m.removeChild(this.node),v.appendChild(this.node)),!(!r.isOpen&&!u)&&!Ql&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!Ms.canUseDOM||!this.node||!this.portal)){var r=this.portal.state,i=Date.now(),o=r.isOpen&&this.props.closeTimeoutMS&&(r.closesAt||i+this.props.closeTimeoutMS);o?(r.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,o-i)):this.removePortal()}}},{key:"render",value:function(){if(!Ms.canUseDOM||!Ql)return null;!this.node&&Ql&&(this.node=PT("div"));var r=kT();return r(Og.default.createElement(_T.default,OT({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(r){Ej.setElement(r)}}]),t}(MR.Component);ep.propTypes={isOpen:Et.default.bool.isRequired,style:Et.default.shape({content:Et.default.object,overlay:Et.default.object}),portalClassName:Et.default.string,bodyOpenClassName:Et.default.string,htmlOpenClassName:Et.default.string,className:Et.default.oneOfType([Et.default.string,Et.default.shape({base:Et.default.string.isRequired,afterOpen:Et.default.string.isRequired,beforeClose:Et.default.string.isRequired})]),overlayClassName:Et.default.oneOfType([Et.default.string,Et.default.shape({base:Et.default.string.isRequired,afterOpen:Et.default.string.isRequired,beforeClose:Et.default.string.isRequired})]),appElement:Et.default.oneOfType([Et.default.instanceOf(AT.default),Et.default.instanceOf(Ms.SafeHTMLCollection),Et.default.instanceOf(Ms.SafeNodeList),Et.default.arrayOf(Et.default.instanceOf(AT.default))]),onAfterOpen:Et.default.func,onRequestClose:Et.default.func,closeTimeoutMS:Et.default.number,ariaHideApp:Et.default.bool,shouldFocusAfterRender:Et.default.bool,shouldCloseOnOverlayClick:Et.default.bool,shouldReturnFocusAfterClose:Et.default.bool,preventScroll:Et.default.bool,parentSelector:Et.default.func,aria:Et.default.object,data:Et.default.object,role:Et.default.string,contentLabel:Et.default.string,shouldCloseOnEsc:Et.default.bool,overlayRef:Et.default.func,contentRef:Et.default.func,id:Et.default.string,overlayElement:Et.default.func,contentElement:Et.default.func};ep.defaultProps={isOpen:!1,portalClassName:Tj,bodyOpenClassName:Oj,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(t,n){return Og.default.createElement("div",t,n)},contentElement:function(t,n){return Og.default.createElement("div",t,n)}};ep.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,Cj.polyfill)(ep);Su.default=ep;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Su,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}t.default=r.default,e.exports=t.default})(z0,z0.exports);var Du=L1(z0.exports);function ft(){return ft=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ft.apply(this,arguments)}var uu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(uu||(uu={}));var DT=function(e){return e},LT="beforeunload",_j="hashchange",Aj="popstate";function Rj(e){e===void 0&&(e={});var t=e,n=t.window,r=n===void 0?document.defaultView:n,i=r.history;function o(){var M=il(r.location.hash.substr(1)),F=M.pathname,U=F===void 0?"/":F,W=M.search,G=W===void 0?"":W,te=M.hash,V=te===void 0?"":te,oe=i.state||{};return[oe.idx,DT({pathname:U,search:G,hash:V,state:oe.usr||null,key:oe.key||"default"})]}var s=null;function u(){if(s)N.call(s),s=null;else{var M=uu.Pop,F=o(),U=F[0],W=F[1];if(N.length){if(U!=null){var G=v-U;G&&(s={action:M,location:W,retry:function(){A(G*-1)}},A(G))}}else P(M)}}r.addEventListener(Aj,u),r.addEventListener(_j,function(){var M=o(),F=M[1];nh(F)!==nh(w)&&u()});var h=uu.Pop,m=o(),v=m[0],w=m[1],b=zT(),N=zT();v==null&&(v=0,i.replaceState(ft({},i.state,{idx:v}),""));function T(){var M=document.querySelector("base"),F="";if(M&&M.getAttribute("href")){var U=r.location.href,W=U.indexOf("#");F=W===-1?U:U.slice(0,W)}return F}function R(M){return T()+"#"+(typeof M=="string"?M:nh(M))}function S(M,F){return F===void 0&&(F=null),DT(ft({pathname:w.pathname,hash:"",search:""},typeof M=="string"?il(M):M,{state:F,key:Pj()}))}function E(M,F){return[{usr:M.state,key:M.key,idx:F},R(M)]}function I(M,F,U){return!N.length||(N.call({action:M,location:F,retry:U}),!1)}function P(M){h=M;var F=o();v=F[0],w=F[1],b.call({action:h,location:w})}function O(M,F){var U=uu.Push,W=S(M,F);function G(){O(M,F)}if(I(U,W,G)){var te=E(W,v+1),V=te[0],oe=te[1];try{i.pushState(V,"",oe)}catch{r.location.assign(oe)}P(U)}}function B(M,F){var U=uu.Replace,W=S(M,F);function G(){B(M,F)}if(I(U,W,G)){var te=E(W,v),V=te[0],oe=te[1];i.replaceState(V,"",oe),P(U)}}function A(M){i.go(M)}var z={get action(){return h},get location(){return w},createHref:R,push:O,replace:B,go:A,back:function(){A(-1)},forward:function(){A(1)},listen:function(F){return b.push(F)},block:function(F){var U=N.push(F);return N.length===1&&r.addEventListener(LT,MT),function(){U(),N.length||r.removeEventListener(LT,MT)}}};return z}function MT(e){e.preventDefault(),e.returnValue=""}function zT(){var e=[];return{get length(){return e.length},push:function(n){return e.push(n),function(){e=e.filter(function(r){return r!==n})}},call:function(n){e.forEach(function(r){return r&&r(n)})}}}function Pj(){return Math.random().toString(36).substr(2,8)}function nh(e){var t=e.pathname,n=t===void 0?"/":t,r=e.search,i=r===void 0?"":r,o=e.hash,s=o===void 0?"":o;return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function il(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const _E=Q.exports.createContext(null),AE=Q.exports.createContext(null),Rv=Q.exports.createContext({outlet:null,matches:[]});function da(e,t){if(!e)throw new Error(t)}function kj(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?il(t):t,i=FR(r.pathname||"/",n);if(i==null)return null;let o=zR(e);Dj(o);let s=null;for(let u=0;s==null&&u<o.length;++u)s=jj(o[u],i);return s}function zR(e,t,n,r){return t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r=""),e.forEach((i,o)=>{let s={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};s.relativePath.startsWith("/")&&(s.relativePath.startsWith(r)||da(!1),s.relativePath=s.relativePath.slice(r.length));let u=Hs([r,s.relativePath]),h=n.concat(s);i.children&&i.children.length>0&&(i.index===!0&&da(!1),zR(i.children,t,h,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:$j(u,i.index),routesMeta:h})}),t}function Dj(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Wj(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Lj=/^:\w+$/,Mj=3,zj=2,Bj=1,Fj=10,Uj=-2,BT=e=>e==="*";function $j(e,t){let n=e.split("/"),r=n.length;return n.some(BT)&&(r+=Uj),t&&(r+=zj),n.filter(i=>!BT(i)).reduce((i,o)=>i+(Lj.test(o)?Mj:o===""?Bj:Fj),r)}function Wj(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function jj(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let u=n[s],h=s===n.length-1,m=i==="/"?t:t.slice(i.length)||"/",v=Kj({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},m);if(!v)return null;Object.assign(r,v.params);let w=u.route;o.push({params:r,pathname:Hs([i,v.pathname]),pathnameBase:UR(Hs([i,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(i=Hs([i,v.pathnameBase]))}return o}function Kj(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=qj(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((m,v,w)=>{if(v==="*"){let b=u[w]||"";s=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}return m[v]=Vj(u[w]||""),m},{}),pathname:o,pathnameBase:s,pattern:e}}function qj(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(s,u)=>(r.push(u),"([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(i,t?void 0:"i"),r]}function Vj(e,t){try{return decodeURIComponent(e)}catch{return e}}function Hj(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?il(e):e;return{pathname:n?n.startsWith("/")?n:Gj(n,t):t,search:Xj(r),hash:Jj(i)}}function Gj(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function BR(e,t,n){let r=typeof e=="string"?il(e):e,i=e===""||r.pathname===""?"/":r.pathname,o;if(i==null)o=n;else{let u=t.length-1;if(i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),u-=1;r.pathname=h.join("/")}o=u>=0?t[u]:"/"}let s=Hj(r,o);return i&&i!=="/"&&i.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function Yj(e){return e===""||e.pathname===""?"/":typeof e=="string"?il(e).pathname:e.pathname}function FR(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=e.charAt(t.length);return n&&n!=="/"?null:e.slice(t.length)||"/"}const Hs=e=>e.join("/").replace(/\/\/+/g,"/"),UR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Xj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Jj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Qj(e){tp()||da(!1);let{basename:t,navigator:n}=Q.exports.useContext(_E),{hash:r,pathname:i,search:o}=RE(e),s=i;if(t!=="/"){let u=Yj(e),h=u!=null&&u.endsWith("/");s=i==="/"?t+(h?"/":""):Hs([t,i])}return n.createHref({pathname:s,search:o,hash:r})}function tp(){return Q.exports.useContext(AE)!=null}function np(){return tp()||da(!1),Q.exports.useContext(AE).location}function Zj(){tp()||da(!1);let{basename:e,navigator:t}=Q.exports.useContext(_E),{matches:n}=Q.exports.useContext(Rv),{pathname:r}=np(),i=JSON.stringify(n.map(u=>u.pathnameBase)),o=Q.exports.useRef(!1);return Q.exports.useEffect(()=>{o.current=!0}),Q.exports.useCallback(function(u,h){if(h===void 0&&(h={}),!o.current)return;if(typeof u=="number"){t.go(u);return}let m=BR(u,JSON.parse(i),r);e!=="/"&&(m.pathname=Hs([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state)},[e,t,i,r])}function RE(e){let{matches:t}=Q.exports.useContext(Rv),{pathname:n}=np(),r=JSON.stringify(t.map(i=>i.pathnameBase));return Q.exports.useMemo(()=>BR(e,JSON.parse(r),n),[e,r,n])}function eK(e,t){tp()||da(!1);let{matches:n}=Q.exports.useContext(Rv),r=n[n.length-1],i=r?r.params:{};r&&r.pathname;let o=r?r.pathnameBase:"/";r&&r.route;let s=np(),u;if(t){var h;let b=typeof t=="string"?il(t):t;o==="/"||((h=b.pathname)==null?void 0:h.startsWith(o))||da(!1),u=b}else u=s;let m=u.pathname||"/",v=o==="/"?m:m.slice(o.length)||"/",w=kj(e,{pathname:v});return tK(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},i,b.params),pathname:Hs([o,b.pathname]),pathnameBase:b.pathnameBase==="/"?o:Hs([o,b.pathnameBase])})),n)}function tK(e,t){return t===void 0&&(t=[]),e==null?null:e.reduceRight((n,r,i)=>Q.exports.createElement(Rv.Provider,{children:r.route.element!==void 0?r.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,i+1))}}),null)}function $R(e){da(!1)}function nK(e){let{basename:t="/",children:n=null,location:r,navigationType:i=uu.Pop,navigator:o,static:s=!1}=e;tp()&&da(!1);let u=UR(t),h=Q.exports.useMemo(()=>({basename:u,navigator:o,static:s}),[u,o,s]);typeof r=="string"&&(r=il(r));let{pathname:m="/",search:v="",hash:w="",state:b=null,key:N="default"}=r,T=Q.exports.useMemo(()=>{let R=FR(m,u);return R==null?null:{pathname:R,search:v,hash:w,state:b,key:N}},[u,m,v,w,b,N]);return T==null?null:Q.exports.createElement(_E.Provider,{value:h},Q.exports.createElement(AE.Provider,{children:n,value:{location:T,navigationType:i}}))}function rK(e){let{children:t,location:n}=e;return eK($0(t),n)}function $0(e){let t=[];return Q.exports.Children.forEach(e,n=>{if(!Q.exports.isValidElement(n))return;if(n.type===Q.exports.Fragment){t.push.apply(t,$0(n.props.children));return}n.type!==$R&&da(!1);let r={caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path};n.props.children&&(r.children=$0(n.props.children)),t.push(r)}),t}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ag(){return Ag=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ag.apply(this,arguments)}function WR(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const iK=["onClick","reloadDocument","replace","state","target","to"],oK=["aria-current","caseSensitive","className","end","style","to","children"];function aK(e){let{basename:t,children:n,window:r}=e,i=Q.exports.useRef();i.current==null&&(i.current=Rj({window:r}));let o=i.current,[s,u]=Q.exports.useState({action:o.action,location:o.location});return Q.exports.useLayoutEffect(()=>o.listen(u),[o]),Q.exports.createElement(nK,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o})}function sK(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}const lK=Q.exports.forwardRef(function(t,n){let{onClick:r,reloadDocument:i,replace:o=!1,state:s,target:u,to:h}=t,m=WR(t,iK),v=Qj(h),w=cK(h,{replace:o,state:s,target:u});function b(N){r&&r(N),!N.defaultPrevented&&!i&&w(N)}return Q.exports.createElement("a",Ag({},m,{href:v,onClick:b,ref:n,target:u}))}),uK=Q.exports.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:s=!1,style:u,to:h,children:m}=t,v=WR(t,oK),w=np(),b=RE(h),N=w.pathname,T=b.pathname;i||(N=N.toLowerCase(),T=T.toLowerCase());let R=N===T||!s&&N.startsWith(T)&&N.charAt(T.length)==="/",S=R?r:void 0,E;typeof o=="function"?E=o({isActive:R}):E=[o,R?"active":null].filter(Boolean).join(" ");let I=typeof u=="function"?u({isActive:R}):u;return Q.exports.createElement(lK,Ag({},v,{"aria-current":S,className:E,ref:n,style:I,to:h}),typeof m=="function"?m({isActive:R}):m)});function cK(e,t){let{target:n,replace:r,state:i}=t===void 0?{}:t,o=Zj(),s=np(),u=RE(e);return Q.exports.useCallback(h=>{if(h.button===0&&(!n||n==="_self")&&!sK(h)){h.preventDefault();let m=!!r||nh(s)===nh(u);o(e,{replace:m,state:i})}},[s,o,u,r,i,n,e])}var at=(e=>(e.Home="Home",e.Collection="Collection",e.Diagram="Diagram",e.Doctrine="Doctrine",e.Entity="Entity",e.Enum="Enum",e.Example="Example",e.Flow="Flow",e.ParameterInHeader="ParameterInHeader",e.Info="Info",e.Migration="Migration",e.OpenApi="OpenApi",e.ParameterInCookie="ParameterInCookie",e.ParameterInPath="ParameterInPath",e.ParameterInQuery="ParameterInQuery",e.Request="Request",e.Response="Response",e.Server="Server",e.Toast="Toast",e.Tree="Tree",e.Wu="Wu",e))(at||{});class yn{constructor(t,n,r=!0,i=[]){this.name=t,this.path=n,this.visible=r,this.childzz=i}}const jR="/",fK=Object.keys(at),dK=fK.map(e=>new yn(at[e],Tn(at[e]))),hK=[new yn("Home",jR),new yn("Collection",Tn("Collection")),new yn("Diagram",Tn("Diagram")),new yn("Doctrine",Tn("Doctrine")),new yn("Entity",Tn("Entity")),new yn("Flow",Tn("Flow")),new yn("Migration",Tn("Migration")),new yn("OpenApi",Tn("OpenApi"),!0,[new yn("Info",Tn("Info")),new yn("Enum",Tn("Enum")),new yn("Example",Tn("Example")),new yn("ParameterInHeader",Tn("ParameterInHeader")),new yn("ParameterInCookie",Tn("ParameterInCookie")),new yn("ParameterInPath",Tn("ParameterInPath")),new yn("ParameterInQuery",Tn("ParameterInQuery")),new yn("Request",Tn("Request")),new yn("Response",Tn("Response")),new yn("Server",Tn("Server")),new yn("Wu",Tn("Wu"))]),new yn("Toast",Tn("Toast")),new yn("Tree",Tn("Tree"))];function Tn(e){return jR+(e==="Home"?"":e)}function pK(e){let t;const n=new Set,r=(m,v)=>{const w=typeof m=="function"?m(t):m;if(w!==t){const b=t;t=v?w:Object.assign({},t,w),n.forEach(N=>N(t,b))}},i=()=>t,o=(m,v=i,w=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let b=v(t);function N(){const T=v(t);if(!w(b,T)){const R=b;m(b=T,R)}}return n.add(N),()=>n.delete(N)},h={setState:r,getState:i,subscribe:(m,v,w)=>v||w?o(m,v,w):(n.add(m),()=>n.delete(m)),destroy:()=>n.clear()};return t=e(r,i,h),h}const mK=typeof window=="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),FT=mK?Q.exports.useEffect:Q.exports.useLayoutEffect;function yt(e){const t=typeof e=="function"?pK(e):e,n=(r=t.getState,i=Object.is)=>{const[,o]=Q.exports.useReducer(S=>S+1,0),s=t.getState(),u=Q.exports.useRef(s),h=Q.exports.useRef(r),m=Q.exports.useRef(i),v=Q.exports.useRef(!1),w=Q.exports.useRef();w.current===void 0&&(w.current=r(s));let b,N=!1;(u.current!==s||h.current!==r||m.current!==i||v.current)&&(b=r(s),N=!i(w.current,b)),FT(()=>{N&&(w.current=b),u.current=s,h.current=r,m.current=i,v.current=!1});const T=Q.exports.useRef(s);FT(()=>{const S=()=>{try{const I=t.getState(),P=h.current(I);m.current(w.current,P)||(u.current=I,w.current=P,o())}catch{v.current=!0,o()}},E=t.subscribe(S);return t.getState()!==T.current&&S(),E},[]);const R=N?b:w.current;return Q.exports.useDebugValue(R),R};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,t];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const Pv=yt(function(e){return{connected:!1,isDemo:!1,ide:"",setConnected(n=!0,r=!1){e({connected:n,isDemo:r})},setIde(n){e({ide:n})}}});var Rg={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",u="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",m=500,v="__lodash_placeholder__",w=1,b=2,N=4,T=1,R=2,S=1,E=2,I=4,P=8,O=16,B=32,A=64,z=128,M=256,F=512,U=30,W="...",G=800,te=16,V=1,oe=2,ne=3,J=1/0,Y=9007199254740991,X=17976931348623157e292,re=0/0,ie=4294967295,ce=ie-1,ye=ie>>>1,ge=[["ary",z],["bind",S],["bindKey",E],["curry",P],["curryRight",O],["flip",F],["partial",B],["partialRight",A],["rearg",M]],fe="[object Arguments]",Me="[object Array]",je="[object AsyncFunction]",Ae="[object Boolean]",_e="[object Date]",be="[object DOMException]",De="[object Error]",Re="[object Function]",Ge="[object GeneratorFunction]",ht="[object Map]",Dt="[object Number]",He="[object Null]",le="[object Object]",ve="[object Promise]",Pe="[object Proxy]",Ie="[object RegExp]",ze="[object Set]",$e="[object String]",mt="[object Symbol]",Je="[object Undefined]",Nt="[object WeakMap]",cn="[object WeakSet]",st="[object ArrayBuffer]",nt="[object DataView]",mn="[object Float32Array]",fr="[object Float64Array]",Ke="[object Int8Array]",hn="[object Int16Array]",rn="[object Int32Array]",gn="[object Uint8Array]",Ze="[object Uint8ClampedArray]",et="[object Uint16Array]",gt="[object Uint32Array]",St=/\b__p \+= '';/g,pt=/\b(__p \+=) '' \+/g,jt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,on=/&(?:amp|lt|gt|quot|#39);/g,Bn=/[&<>"']/g,dr=RegExp(on.source),_i=RegExp(Bn.source),ri=/<%-([\s\S]+?)%>/g,Sr=/<%([\s\S]+?)%>/g,ro=/<%=([\s\S]+?)%>/g,io=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xa=/^\w*$/,We=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ai=/[\\^$.*+?()[\]{}|]/g,gl=RegExp(Ai.source),oo=/^\s+/,ao=/\s/,Uo=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Fn=/\{\n\/\* \[wrapped with (.+)\] \*/,vl=/,? & /,yl=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,wl=/[()=,{}\[\]\/\s]/,ya=/\\(\\)?/g,bl=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ja=/\w*$/,wa=/^[-+]0x[0-9a-f]+$/i,so=/^0b[01]+$/i,$o=/^\[object .+?Constructor\]$/,Wo=/^0o[0-7]+$/i,En=/^(?:0|[1-9]\d*)$/,Sl=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Un=/($^)/,Qa=/['\n\r\u2028\u2029\\]/g,Ri="\\ud800-\\udfff",El="\\u0300-\\u036f",Za="\\ufe20-\\ufe2f",ba="\\u20d0-\\u20ff",ii=El+Za+ba,lo="\\u2700-\\u27bf",zr="a-z\\xdf-\\xf6\\xf8-\\xff",es="\\xac\\xb1\\xd7\\xf7",Cl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ts="\\u2000-\\u206f",ns=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Sa="A-Z\\xc0-\\xd6\\xd8-\\xde",Ea="\\ufe0e\\ufe0f",rs=es+Cl+ts+ns,uo="['\u2019]",jo="["+Ri+"]",oi="["+rs+"]",Ko="["+ii+"]",hr="\\d+",Er="["+lo+"]",Pn="["+zr+"]",Cr="[^"+Ri+rs+hr+lo+zr+Sa+"]",ai="\\ud83c[\\udffb-\\udfff]",co="(?:"+Ko+"|"+ai+")",Uu="[^"+Ri+"]",Pi="(?:\\ud83c[\\udde6-\\uddff]){2}",qo="[\\ud800-\\udbff][\\udc00-\\udfff]",fo="["+Sa+"]",Vo="\\u200d",$u="(?:"+Pn+"|"+Cr+")",xl="(?:"+fo+"|"+Cr+")",Wu="(?:"+uo+"(?:d|ll|m|re|s|t|ve))?",is="(?:"+uo+"(?:D|LL|M|RE|S|T|VE))?",ki=co+"?",ju="["+Ea+"]?",Ku="(?:"+Vo+"(?:"+[Uu,Pi,qo].join("|")+")"+ju+ki+")*",Ff="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",qu="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Nl=ju+ki+Ku,Il="(?:"+[Er,Pi,qo].join("|")+")"+Nl,Vu="(?:"+[Uu+Ko+"?",Ko,Pi,qo,jo].join("|")+")",Tl=RegExp(uo,"g"),Ol=RegExp(Ko,"g"),_l=RegExp(ai+"(?="+ai+")|"+Vu+Nl,"g"),Al=RegExp([fo+"?"+Pn+"+"+Wu+"(?="+[oi,fo,"$"].join("|")+")",xl+"+"+is+"(?="+[oi,fo+$u,"$"].join("|")+")",fo+"?"+$u+"+"+Wu,fo+"+"+is,qu,Ff,hr,Il].join("|"),"g"),Hu=RegExp("["+Vo+Ri+ii+Ea+"]"),Uf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,os=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],$f=-1,Yt={};Yt[mn]=Yt[fr]=Yt[Ke]=Yt[hn]=Yt[rn]=Yt[gn]=Yt[Ze]=Yt[et]=Yt[gt]=!0,Yt[fe]=Yt[Me]=Yt[st]=Yt[Ae]=Yt[nt]=Yt[_e]=Yt[De]=Yt[Re]=Yt[ht]=Yt[Dt]=Yt[le]=Yt[Ie]=Yt[ze]=Yt[$e]=Yt[Nt]=!1;var Vt={};Vt[fe]=Vt[Me]=Vt[st]=Vt[nt]=Vt[Ae]=Vt[_e]=Vt[mn]=Vt[fr]=Vt[Ke]=Vt[hn]=Vt[rn]=Vt[ht]=Vt[Dt]=Vt[le]=Vt[Ie]=Vt[ze]=Vt[$e]=Vt[mt]=Vt[gn]=Vt[Ze]=Vt[et]=Vt[gt]=!0,Vt[De]=Vt[Re]=Vt[Nt]=!1;var Ca={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Ho={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Wf={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},jf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Di=parseFloat,as=parseInt,Rl=typeof An=="object"&&An&&An.Object===Object&&An,Kf=typeof self=="object"&&self&&self.Object===Object&&self,Cn=Rl||Kf||Function("return this")(),Pl=t&&!t.nodeType&&t,ho=Pl&&!0&&e&&!e.nodeType&&e,kl=ho&&ho.exports===Pl,po=kl&&Rl.process,fn=function(){try{var he=ho&&ho.require&&ho.require("util").types;return he||po&&po.binding&&po.binding("util")}catch{}}(),ss=fn&&fn.isArrayBuffer,Dl=fn&&fn.isDate,Ll=fn&&fn.isMap,Ml=fn&&fn.isRegExp,xa=fn&&fn.isSet,Go=fn&&fn.isTypedArray;function $n(he,Ce,we){switch(we.length){case 0:return he.call(Ce);case 1:return he.call(Ce,we[0]);case 2:return he.call(Ce,we[0],we[1]);case 3:return he.call(Ce,we[0],we[1],we[2])}return he.apply(Ce,we)}function Gu(he,Ce,we,qe){for(var wt=-1,Mt=he==null?0:he.length;++wt<Mt;){var xn=he[wt];Ce(qe,xn,we(xn),he)}return qe}function Qn(he,Ce){for(var we=-1,qe=he==null?0:he.length;++we<qe&&Ce(he[we],we,he)!==!1;);return he}function qf(he,Ce){for(var we=he==null?0:he.length;we--&&Ce(he[we],we,he)!==!1;);return he}function Yu(he,Ce){for(var we=-1,qe=he==null?0:he.length;++we<qe;)if(!Ce(he[we],we,he))return!1;return!0}function Li(he,Ce){for(var we=-1,qe=he==null?0:he.length,wt=0,Mt=[];++we<qe;){var xn=he[we];Ce(xn,we,he)&&(Mt[wt++]=xn)}return Mt}function ls(he,Ce){var we=he==null?0:he.length;return!!we&&en(he,Ce,0)>-1}function zl(he,Ce,we){for(var qe=-1,wt=he==null?0:he.length;++qe<wt;)if(we(Ce,he[qe]))return!0;return!1}function Xt(he,Ce){for(var we=-1,qe=he==null?0:he.length,wt=Array(qe);++we<qe;)wt[we]=Ce(he[we],we,he);return wt}function Br(he,Ce){for(var we=-1,qe=Ce.length,wt=he.length;++we<qe;)he[wt+we]=Ce[we];return he}function us(he,Ce,we,qe){var wt=-1,Mt=he==null?0:he.length;for(qe&&Mt&&(we=he[++wt]);++wt<Mt;)we=Ce(we,he[wt],wt,he);return we}function Yo(he,Ce,we,qe){var wt=he==null?0:he.length;for(qe&&wt&&(we=he[--wt]);wt--;)we=Ce(we,he[wt],wt,he);return we}function Bl(he,Ce){for(var we=-1,qe=he==null?0:he.length;++we<qe;)if(Ce(he[we],we,he))return!0;return!1}var Vf=ds("length");function Xu(he){return he.split("")}function Hf(he){return he.match(yl)||[]}function Fl(he,Ce,we){var qe;return we(he,function(wt,Mt,xn){if(Ce(wt,Mt,xn))return qe=Mt,!1}),qe}function cs(he,Ce,we,qe){for(var wt=he.length,Mt=we+(qe?1:-1);qe?Mt--:++Mt<wt;)if(Ce(he[Mt],Mt,he))return Mt;return-1}function en(he,Ce,we){return Ce===Ce?Ft(he,Ce,we):cs(he,Ju,we)}function Gf(he,Ce,we,qe){for(var wt=we-1,Mt=he.length;++wt<Mt;)if(qe(he[wt],Ce))return wt;return-1}function Ju(he){return he!==he}function fs(he,Ce){var we=he==null?0:he.length;return we?hs(he,Ce)/we:re}function ds(he){return function(Ce){return Ce==null?n:Ce[he]}}function Ul(he){return function(Ce){return he==null?n:he[Ce]}}function Qu(he,Ce,we,qe,wt){return wt(he,function(Mt,xn,Pt){we=qe?(qe=!1,Mt):Ce(we,Mt,xn,Pt)}),we}function Zu(he,Ce){var we=he.length;for(he.sort(Ce);we--;)he[we]=he[we].value;return he}function hs(he,Ce){for(var we,qe=-1,wt=he.length;++qe<wt;){var Mt=Ce(he[qe]);Mt!==n&&(we=we===n?Mt:we+Mt)}return we}function ps(he,Ce){for(var we=-1,qe=Array(he);++we<he;)qe[we]=Ce(we);return qe}function ms(he,Ce){return Xt(Ce,function(we){return[we,he[we]]})}function $l(he){return he&&he.slice(0,Ip(he)+1).replace(oo,"")}function f(he){return function(Ce){return he(Ce)}}function a(he,Ce){return Xt(Ce,function(we){return he[we]})}function l(he,Ce){return he.has(Ce)}function d(he,Ce){for(var we=-1,qe=he.length;++we<qe&&en(Ce,he[we],0)>-1;);return we}function g(he,Ce){for(var we=he.length;we--&&en(Ce,he[we],0)>-1;);return we}function C(he,Ce){for(var we=he.length,qe=0;we--;)he[we]===Ce&&++qe;return qe}var D=Ul(Ca),$=Ul(Ho);function ee(he){return"\\"+jf[he]}function ue(he,Ce){return he==null?n:he[Ce]}function me(he){return Hu.test(he)}function Oe(he){return Uf.test(he)}function Fe(he){for(var Ce,we=[];!(Ce=he.next()).done;)we.push(Ce.value);return we}function Ye(he){var Ce=-1,we=Array(he.size);return he.forEach(function(qe,wt){we[++Ce]=[wt,qe]}),we}function vt(he,Ce){return function(we){return he(Ce(we))}}function it(he,Ce){for(var we=-1,qe=he.length,wt=0,Mt=[];++we<qe;){var xn=he[we];(xn===Ce||xn===v)&&(he[we]=v,Mt[wt++]=we)}return Mt}function Tt(he){var Ce=-1,we=Array(he.size);return he.forEach(function(qe){we[++Ce]=qe}),we}function an(he){var Ce=-1,we=Array(he.size);return he.forEach(function(qe){we[++Ce]=[qe,qe]}),we}function Ft(he,Ce,we){for(var qe=we-1,wt=he.length;++qe<wt;)if(he[qe]===Ce)return qe;return-1}function Wn(he,Ce,we){for(var qe=we+1;qe--;)if(he[qe]===Ce)return qe;return qe}function si(he){return me(he)?Py(he):Vf(he)}function Zn(he){return me(he)?ky(he):Xu(he)}function Ip(he){for(var Ce=he.length;Ce--&&ao.test(he.charAt(Ce)););return Ce}var Ry=Ul(Wf);function Py(he){for(var Ce=_l.lastIndex=0;_l.test(he);)++Ce;return Ce}function ky(he){return he.match(_l)||[]}function Tp(he){return he.match(Al)||[]}var Dy=function he(Ce){Ce=Ce==null?Cn:gs.defaults(Cn.Object(),Ce,gs.pick(Cn,os));var we=Ce.Array,qe=Ce.Date,wt=Ce.Error,Mt=Ce.Function,xn=Ce.Math,Pt=Ce.Object,ec=Ce.RegExp,Ly=Ce.String,xr=Ce.TypeError,tc=we.prototype,My=Mt.prototype,vs=Pt.prototype,Wl=Ce["__core-js_shared__"],nc=My.toString,Kt=vs.hasOwnProperty,zy=0,li=function(){var c=/[^.]+$/.exec(Wl&&Wl.keys&&Wl.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),mo=vs.toString,By=nc.call(Pt),Fy=Cn._,Uy=ec("^"+nc.call(Kt).replace(Ai,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rc=kl?Ce.Buffer:n,Xo=Ce.Symbol,ic=Ce.Uint8Array,Op=rc?rc.allocUnsafe:n,Na=vt(Pt.getPrototypeOf,Pt),_=Pt.create,k=vs.propertyIsEnumerable,j=tc.splice,ae=Xo?Xo.isConcatSpreadable:n,Se=Xo?Xo.iterator:n,Qe=Xo?Xo.toStringTag:n,qt=function(){try{var c=Hl(Pt,"defineProperty");return c({},"",{}),c}catch{}}(),Nr=Ce.clearTimeout!==Cn.clearTimeout&&Ce.clearTimeout,er=qe&&qe.now!==Cn.Date.now&&qe.now,ys=Ce.setTimeout!==Cn.setTimeout&&Ce.setTimeout,ws=xn.ceil,_p=xn.floor,$y=Pt.getOwnPropertySymbols,yM=rc?rc.isBuffer:n,Nx=Ce.isFinite,wM=tc.join,bM=vt(Pt.keys,Pt),kn=xn.max,pr=xn.min,SM=qe.now,EM=Ce.parseInt,Ix=xn.random,CM=tc.reverse,Wy=Hl(Ce,"DataView"),Yf=Hl(Ce,"Map"),jy=Hl(Ce,"Promise"),oc=Hl(Ce,"Set"),Xf=Hl(Ce,"WeakMap"),Jf=Hl(Pt,"create"),Ap=Xf&&new Xf,ac={},xM=Gl(Wy),NM=Gl(Yf),IM=Gl(jy),TM=Gl(oc),OM=Gl(Xf),Rp=Xo?Xo.prototype:n,Qf=Rp?Rp.valueOf:n,Tx=Rp?Rp.toString:n;function H(c){if(vn(c)&&!Ct(c)&&!(c instanceof At)){if(c instanceof Mi)return c;if(Kt.call(c,"__wrapped__"))return ON(c)}return new Mi(c)}var sc=function(){function c(){}return function(p){if(!pn(p))return{};if(_)return _(p);c.prototype=p;var x=new c;return c.prototype=n,x}}();function Pp(){}function Mi(c,p){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=n}H.templateSettings={escape:ri,evaluate:Sr,interpolate:ro,variable:"",imports:{_:H}},H.prototype=Pp.prototype,H.prototype.constructor=H,Mi.prototype=sc(Pp.prototype),Mi.prototype.constructor=Mi;function At(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ie,this.__views__=[]}function _M(){var c=new At(this.__wrapped__);return c.__actions__=Fr(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=Fr(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=Fr(this.__views__),c}function AM(){if(this.__filtered__){var c=new At(this);c.__dir__=-1,c.__filtered__=!0}else c=this.clone(),c.__dir__*=-1;return c}function RM(){var c=this.__wrapped__.value(),p=this.__dir__,x=Ct(c),L=p<0,q=x?c.length:0,Z=jz(0,q,this.__views__),se=Z.start,de=Z.end,pe=de-se,xe=L?de:se-1,Ne=this.__iteratees__,Te=Ne.length,Ue=0,tt=pr(pe,this.__takeCount__);if(!x||!L&&q==pe&&tt==pe)return Jx(c,this.__actions__);var lt=[];e:for(;pe--&&Ue<tt;){xe+=p;for(var It=-1,ut=c[xe];++It<Te;){var _t=Ne[It],kt=_t.iteratee,fi=_t.type,Or=kt(ut);if(fi==oe)ut=Or;else if(!Or){if(fi==V)continue e;break e}}lt[Ue++]=ut}return lt}At.prototype=sc(Pp.prototype),At.prototype.constructor=At;function jl(c){var p=-1,x=c==null?0:c.length;for(this.clear();++p<x;){var L=c[p];this.set(L[0],L[1])}}function PM(){this.__data__=Jf?Jf(null):{},this.size=0}function kM(c){var p=this.has(c)&&delete this.__data__[c];return this.size-=p?1:0,p}function DM(c){var p=this.__data__;if(Jf){var x=p[c];return x===h?n:x}return Kt.call(p,c)?p[c]:n}function LM(c){var p=this.__data__;return Jf?p[c]!==n:Kt.call(p,c)}function MM(c,p){var x=this.__data__;return this.size+=this.has(c)?0:1,x[c]=Jf&&p===n?h:p,this}jl.prototype.clear=PM,jl.prototype.delete=kM,jl.prototype.get=DM,jl.prototype.has=LM,jl.prototype.set=MM;function Ia(c){var p=-1,x=c==null?0:c.length;for(this.clear();++p<x;){var L=c[p];this.set(L[0],L[1])}}function zM(){this.__data__=[],this.size=0}function BM(c){var p=this.__data__,x=kp(p,c);if(x<0)return!1;var L=p.length-1;return x==L?p.pop():j.call(p,x,1),--this.size,!0}function FM(c){var p=this.__data__,x=kp(p,c);return x<0?n:p[x][1]}function UM(c){return kp(this.__data__,c)>-1}function $M(c,p){var x=this.__data__,L=kp(x,c);return L<0?(++this.size,x.push([c,p])):x[L][1]=p,this}Ia.prototype.clear=zM,Ia.prototype.delete=BM,Ia.prototype.get=FM,Ia.prototype.has=UM,Ia.prototype.set=$M;function Ta(c){var p=-1,x=c==null?0:c.length;for(this.clear();++p<x;){var L=c[p];this.set(L[0],L[1])}}function WM(){this.size=0,this.__data__={hash:new jl,map:new(Yf||Ia),string:new jl}}function jM(c){var p=qp(this,c).delete(c);return this.size-=p?1:0,p}function KM(c){return qp(this,c).get(c)}function qM(c){return qp(this,c).has(c)}function VM(c,p){var x=qp(this,c),L=x.size;return x.set(c,p),this.size+=x.size==L?0:1,this}Ta.prototype.clear=WM,Ta.prototype.delete=jM,Ta.prototype.get=KM,Ta.prototype.has=qM,Ta.prototype.set=VM;function Kl(c){var p=-1,x=c==null?0:c.length;for(this.__data__=new Ta;++p<x;)this.add(c[p])}function HM(c){return this.__data__.set(c,h),this}function GM(c){return this.__data__.has(c)}Kl.prototype.add=Kl.prototype.push=HM,Kl.prototype.has=GM;function go(c){var p=this.__data__=new Ia(c);this.size=p.size}function YM(){this.__data__=new Ia,this.size=0}function XM(c){var p=this.__data__,x=p.delete(c);return this.size=p.size,x}function JM(c){return this.__data__.get(c)}function QM(c){return this.__data__.has(c)}function ZM(c,p){var x=this.__data__;if(x instanceof Ia){var L=x.__data__;if(!Yf||L.length<i-1)return L.push([c,p]),this.size=++x.size,this;x=this.__data__=new Ta(L)}return x.set(c,p),this.size=x.size,this}go.prototype.clear=YM,go.prototype.delete=XM,go.prototype.get=JM,go.prototype.has=QM,go.prototype.set=ZM;function Ox(c,p){var x=Ct(c),L=!x&&Yl(c),q=!x&&!L&&xs(c),Z=!x&&!L&&!q&&fc(c),se=x||L||q||Z,de=se?ps(c.length,Ly):[],pe=de.length;for(var xe in c)(p||Kt.call(c,xe))&&!(se&&(xe=="length"||q&&(xe=="offset"||xe=="parent")||Z&&(xe=="buffer"||xe=="byteLength"||xe=="byteOffset")||Ra(xe,pe)))&&de.push(xe);return de}function _x(c){var p=c.length;return p?c[ew(0,p-1)]:n}function ez(c,p){return Vp(Fr(c),ql(p,0,c.length))}function tz(c){return Vp(Fr(c))}function Ky(c,p,x){(x!==n&&!vo(c[p],x)||x===n&&!(p in c))&&Oa(c,p,x)}function Zf(c,p,x){var L=c[p];(!(Kt.call(c,p)&&vo(L,x))||x===n&&!(p in c))&&Oa(c,p,x)}function kp(c,p){for(var x=c.length;x--;)if(vo(c[x][0],p))return x;return-1}function nz(c,p,x,L){return bs(c,function(q,Z,se){p(L,q,x(q),se)}),L}function Ax(c,p){return c&&Qo(p,jn(p),c)}function rz(c,p){return c&&Qo(p,$r(p),c)}function Oa(c,p,x){p=="__proto__"&&qt?qt(c,p,{configurable:!0,enumerable:!0,value:x,writable:!0}):c[p]=x}function qy(c,p){for(var x=-1,L=p.length,q=we(L),Z=c==null;++x<L;)q[x]=Z?n:Nw(c,p[x]);return q}function ql(c,p,x){return c===c&&(x!==n&&(c=c<=x?c:x),p!==n&&(c=c>=p?c:p)),c}function zi(c,p,x,L,q,Z){var se,de=p&w,pe=p&b,xe=p&N;if(x&&(se=q?x(c,L,q,Z):x(c)),se!==n)return se;if(!pn(c))return c;var Ne=Ct(c);if(Ne){if(se=qz(c),!de)return Fr(c,se)}else{var Te=mr(c),Ue=Te==Re||Te==Ge;if(xs(c))return eN(c,de);if(Te==le||Te==fe||Ue&&!q){if(se=pe||Ue?{}:wN(c),!de)return pe?Dz(c,rz(se,c)):kz(c,Ax(se,c))}else{if(!Vt[Te])return q?c:{};se=Vz(c,Te,de)}}Z||(Z=new go);var tt=Z.get(c);if(tt)return tt;Z.set(c,se),GN(c)?c.forEach(function(ut){se.add(zi(ut,p,x,ut,c,Z))}):VN(c)&&c.forEach(function(ut,_t){se.set(_t,zi(ut,p,x,_t,c,Z))});var lt=xe?pe?fw:cw:pe?$r:jn,It=Ne?n:lt(c);return Qn(It||c,function(ut,_t){It&&(_t=ut,ut=c[_t]),Zf(se,_t,zi(ut,p,x,_t,c,Z))}),se}function iz(c){var p=jn(c);return function(x){return Rx(x,c,p)}}function Rx(c,p,x){var L=x.length;if(c==null)return!L;for(c=Pt(c);L--;){var q=x[L],Z=p[q],se=c[q];if(se===n&&!(q in c)||!Z(se))return!1}return!0}function Px(c,p,x){if(typeof c!="function")throw new xr(s);return ad(function(){c.apply(n,x)},p)}function ed(c,p,x,L){var q=-1,Z=ls,se=!0,de=c.length,pe=[],xe=p.length;if(!de)return pe;x&&(p=Xt(p,f(x))),L?(Z=zl,se=!1):p.length>=i&&(Z=l,se=!1,p=new Kl(p));e:for(;++q<de;){var Ne=c[q],Te=x==null?Ne:x(Ne);if(Ne=L||Ne!==0?Ne:0,se&&Te===Te){for(var Ue=xe;Ue--;)if(p[Ue]===Te)continue e;pe.push(Ne)}else Z(p,Te,L)||pe.push(Ne)}return pe}var bs=oN(Jo),kx=oN(Hy,!0);function oz(c,p){var x=!0;return bs(c,function(L,q,Z){return x=!!p(L,q,Z),x}),x}function Dp(c,p,x){for(var L=-1,q=c.length;++L<q;){var Z=c[L],se=p(Z);if(se!=null&&(de===n?se===se&&!ci(se):x(se,de)))var de=se,pe=Z}return pe}function az(c,p,x,L){var q=c.length;for(x=xt(x),x<0&&(x=-x>q?0:q+x),L=L===n||L>q?q:xt(L),L<0&&(L+=q),L=x>L?0:XN(L);x<L;)c[x++]=p;return c}function Dx(c,p){var x=[];return bs(c,function(L,q,Z){p(L,q,Z)&&x.push(L)}),x}function tr(c,p,x,L,q){var Z=-1,se=c.length;for(x||(x=Gz),q||(q=[]);++Z<se;){var de=c[Z];p>0&&x(de)?p>1?tr(de,p-1,x,L,q):Br(q,de):L||(q[q.length]=de)}return q}var Vy=aN(),Lx=aN(!0);function Jo(c,p){return c&&Vy(c,p,jn)}function Hy(c,p){return c&&Lx(c,p,jn)}function Lp(c,p){return Li(p,function(x){return Pa(c[x])})}function Vl(c,p){p=Es(p,c);for(var x=0,L=p.length;c!=null&&x<L;)c=c[Zo(p[x++])];return x&&x==L?c:n}function Mx(c,p,x){var L=p(c);return Ct(c)?L:Br(L,x(c))}function Ir(c){return c==null?c===n?Je:He:Qe&&Qe in Pt(c)?Wz(c):tB(c)}function Gy(c,p){return c>p}function sz(c,p){return c!=null&&Kt.call(c,p)}function lz(c,p){return c!=null&&p in Pt(c)}function uz(c,p,x){return c>=pr(p,x)&&c<kn(p,x)}function Yy(c,p,x){for(var L=x?zl:ls,q=c[0].length,Z=c.length,se=Z,de=we(Z),pe=1/0,xe=[];se--;){var Ne=c[se];se&&p&&(Ne=Xt(Ne,f(p))),pe=pr(Ne.length,pe),de[se]=!x&&(p||q>=120&&Ne.length>=120)?new Kl(se&&Ne):n}Ne=c[0];var Te=-1,Ue=de[0];e:for(;++Te<q&&xe.length<pe;){var tt=Ne[Te],lt=p?p(tt):tt;if(tt=x||tt!==0?tt:0,!(Ue?l(Ue,lt):L(xe,lt,x))){for(se=Z;--se;){var It=de[se];if(!(It?l(It,lt):L(c[se],lt,x)))continue e}Ue&&Ue.push(lt),xe.push(tt)}}return xe}function cz(c,p,x,L){return Jo(c,function(q,Z,se){p(L,x(q),Z,se)}),L}function td(c,p,x){p=Es(p,c),c=CN(c,p);var L=c==null?c:c[Zo(Fi(p))];return L==null?n:$n(L,c,x)}function zx(c){return vn(c)&&Ir(c)==fe}function fz(c){return vn(c)&&Ir(c)==st}function dz(c){return vn(c)&&Ir(c)==_e}function nd(c,p,x,L,q){return c===p?!0:c==null||p==null||!vn(c)&&!vn(p)?c!==c&&p!==p:hz(c,p,x,L,nd,q)}function hz(c,p,x,L,q,Z){var se=Ct(c),de=Ct(p),pe=se?Me:mr(c),xe=de?Me:mr(p);pe=pe==fe?le:pe,xe=xe==fe?le:xe;var Ne=pe==le,Te=xe==le,Ue=pe==xe;if(Ue&&xs(c)){if(!xs(p))return!1;se=!0,Ne=!1}if(Ue&&!Ne)return Z||(Z=new go),se||fc(c)?gN(c,p,x,L,q,Z):Uz(c,p,pe,x,L,q,Z);if(!(x&T)){var tt=Ne&&Kt.call(c,"__wrapped__"),lt=Te&&Kt.call(p,"__wrapped__");if(tt||lt){var It=tt?c.value():c,ut=lt?p.value():p;return Z||(Z=new go),q(It,ut,x,L,Z)}}return Ue?(Z||(Z=new go),$z(c,p,x,L,q,Z)):!1}function pz(c){return vn(c)&&mr(c)==ht}function Xy(c,p,x,L){var q=x.length,Z=q,se=!L;if(c==null)return!Z;for(c=Pt(c);q--;){var de=x[q];if(se&&de[2]?de[1]!==c[de[0]]:!(de[0]in c))return!1}for(;++q<Z;){de=x[q];var pe=de[0],xe=c[pe],Ne=de[1];if(se&&de[2]){if(xe===n&&!(pe in c))return!1}else{var Te=new go;if(L)var Ue=L(xe,Ne,pe,c,p,Te);if(!(Ue===n?nd(Ne,xe,T|R,L,Te):Ue))return!1}}return!0}function Bx(c){if(!pn(c)||Xz(c))return!1;var p=Pa(c)?Uy:$o;return p.test(Gl(c))}function mz(c){return vn(c)&&Ir(c)==Ie}function gz(c){return vn(c)&&mr(c)==ze}function vz(c){return vn(c)&&Qp(c.length)&&!!Yt[Ir(c)]}function Fx(c){return typeof c=="function"?c:c==null?Wr:typeof c=="object"?Ct(c)?Wx(c[0],c[1]):$x(c):sI(c)}function Jy(c){if(!od(c))return bM(c);var p=[];for(var x in Pt(c))Kt.call(c,x)&&x!="constructor"&&p.push(x);return p}function yz(c){if(!pn(c))return eB(c);var p=od(c),x=[];for(var L in c)L=="constructor"&&(p||!Kt.call(c,L))||x.push(L);return x}function Qy(c,p){return c<p}function Ux(c,p){var x=-1,L=Ur(c)?we(c.length):[];return bs(c,function(q,Z,se){L[++x]=p(q,Z,se)}),L}function $x(c){var p=hw(c);return p.length==1&&p[0][2]?SN(p[0][0],p[0][1]):function(x){return x===c||Xy(x,c,p)}}function Wx(c,p){return mw(c)&&bN(p)?SN(Zo(c),p):function(x){var L=Nw(x,c);return L===n&&L===p?Iw(x,c):nd(p,L,T|R)}}function Mp(c,p,x,L,q){c!==p&&Vy(p,function(Z,se){if(q||(q=new go),pn(Z))wz(c,p,se,x,Mp,L,q);else{var de=L?L(vw(c,se),Z,se+"",c,p,q):n;de===n&&(de=Z),Ky(c,se,de)}},$r)}function wz(c,p,x,L,q,Z,se){var de=vw(c,x),pe=vw(p,x),xe=se.get(pe);if(xe){Ky(c,x,xe);return}var Ne=Z?Z(de,pe,x+"",c,p,se):n,Te=Ne===n;if(Te){var Ue=Ct(pe),tt=!Ue&&xs(pe),lt=!Ue&&!tt&&fc(pe);Ne=pe,Ue||tt||lt?Ct(de)?Ne=de:Nn(de)?Ne=Fr(de):tt?(Te=!1,Ne=eN(pe,!0)):lt?(Te=!1,Ne=tN(pe,!0)):Ne=[]:sd(pe)||Yl(pe)?(Ne=de,Yl(de)?Ne=JN(de):(!pn(de)||Pa(de))&&(Ne=wN(pe))):Te=!1}Te&&(se.set(pe,Ne),q(Ne,pe,L,Z,se),se.delete(pe)),Ky(c,x,Ne)}function jx(c,p){var x=c.length;if(!!x)return p+=p<0?x:0,Ra(p,x)?c[p]:n}function Kx(c,p,x){p.length?p=Xt(p,function(Z){return Ct(Z)?function(se){return Vl(se,Z.length===1?Z[0]:Z)}:Z}):p=[Wr];var L=-1;p=Xt(p,f(ot()));var q=Ux(c,function(Z,se,de){var pe=Xt(p,function(xe){return xe(Z)});return{criteria:pe,index:++L,value:Z}});return Zu(q,function(Z,se){return Pz(Z,se,x)})}function bz(c,p){return qx(c,p,function(x,L){return Iw(c,L)})}function qx(c,p,x){for(var L=-1,q=p.length,Z={};++L<q;){var se=p[L],de=Vl(c,se);x(de,se)&&rd(Z,Es(se,c),de)}return Z}function Sz(c){return function(p){return Vl(p,c)}}function Zy(c,p,x,L){var q=L?Gf:en,Z=-1,se=p.length,de=c;for(c===p&&(p=Fr(p)),x&&(de=Xt(c,f(x)));++Z<se;)for(var pe=0,xe=p[Z],Ne=x?x(xe):xe;(pe=q(de,Ne,pe,L))>-1;)de!==c&&j.call(de,pe,1),j.call(c,pe,1);return c}function Vx(c,p){for(var x=c?p.length:0,L=x-1;x--;){var q=p[x];if(x==L||q!==Z){var Z=q;Ra(q)?j.call(c,q,1):rw(c,q)}}return c}function ew(c,p){return c+_p(Ix()*(p-c+1))}function Ez(c,p,x,L){for(var q=-1,Z=kn(ws((p-c)/(x||1)),0),se=we(Z);Z--;)se[L?Z:++q]=c,c+=x;return se}function tw(c,p){var x="";if(!c||p<1||p>Y)return x;do p%2&&(x+=c),p=_p(p/2),p&&(c+=c);while(p);return x}function Ot(c,p){return yw(EN(c,p,Wr),c+"")}function Cz(c){return _x(dc(c))}function xz(c,p){var x=dc(c);return Vp(x,ql(p,0,x.length))}function rd(c,p,x,L){if(!pn(c))return c;p=Es(p,c);for(var q=-1,Z=p.length,se=Z-1,de=c;de!=null&&++q<Z;){var pe=Zo(p[q]),xe=x;if(pe==="__proto__"||pe==="constructor"||pe==="prototype")return c;if(q!=se){var Ne=de[pe];xe=L?L(Ne,pe,de):n,xe===n&&(xe=pn(Ne)?Ne:Ra(p[q+1])?[]:{})}Zf(de,pe,xe),de=de[pe]}return c}var Hx=Ap?function(c,p){return Ap.set(c,p),c}:Wr,Nz=qt?function(c,p){return qt(c,"toString",{configurable:!0,enumerable:!1,value:Ow(p),writable:!0})}:Wr;function Iz(c){return Vp(dc(c))}function Bi(c,p,x){var L=-1,q=c.length;p<0&&(p=-p>q?0:q+p),x=x>q?q:x,x<0&&(x+=q),q=p>x?0:x-p>>>0,p>>>=0;for(var Z=we(q);++L<q;)Z[L]=c[L+p];return Z}function Tz(c,p){var x;return bs(c,function(L,q,Z){return x=p(L,q,Z),!x}),!!x}function zp(c,p,x){var L=0,q=c==null?L:c.length;if(typeof p=="number"&&p===p&&q<=ye){for(;L<q;){var Z=L+q>>>1,se=c[Z];se!==null&&!ci(se)&&(x?se<=p:se<p)?L=Z+1:q=Z}return q}return nw(c,p,Wr,x)}function nw(c,p,x,L){var q=0,Z=c==null?0:c.length;if(Z===0)return 0;p=x(p);for(var se=p!==p,de=p===null,pe=ci(p),xe=p===n;q<Z;){var Ne=_p((q+Z)/2),Te=x(c[Ne]),Ue=Te!==n,tt=Te===null,lt=Te===Te,It=ci(Te);if(se)var ut=L||lt;else xe?ut=lt&&(L||Ue):de?ut=lt&&Ue&&(L||!tt):pe?ut=lt&&Ue&&!tt&&(L||!It):tt||It?ut=!1:ut=L?Te<=p:Te<p;ut?q=Ne+1:Z=Ne}return pr(Z,ce)}function Gx(c,p){for(var x=-1,L=c.length,q=0,Z=[];++x<L;){var se=c[x],de=p?p(se):se;if(!x||!vo(de,pe)){var pe=de;Z[q++]=se===0?0:se}}return Z}function Yx(c){return typeof c=="number"?c:ci(c)?re:+c}function ui(c){if(typeof c=="string")return c;if(Ct(c))return Xt(c,ui)+"";if(ci(c))return Tx?Tx.call(c):"";var p=c+"";return p=="0"&&1/c==-J?"-0":p}function Ss(c,p,x){var L=-1,q=ls,Z=c.length,se=!0,de=[],pe=de;if(x)se=!1,q=zl;else if(Z>=i){var xe=p?null:Bz(c);if(xe)return Tt(xe);se=!1,q=l,pe=new Kl}else pe=p?[]:de;e:for(;++L<Z;){var Ne=c[L],Te=p?p(Ne):Ne;if(Ne=x||Ne!==0?Ne:0,se&&Te===Te){for(var Ue=pe.length;Ue--;)if(pe[Ue]===Te)continue e;p&&pe.push(Te),de.push(Ne)}else q(pe,Te,x)||(pe!==de&&pe.push(Te),de.push(Ne))}return de}function rw(c,p){return p=Es(p,c),c=CN(c,p),c==null||delete c[Zo(Fi(p))]}function Xx(c,p,x,L){return rd(c,p,x(Vl(c,p)),L)}function Bp(c,p,x,L){for(var q=c.length,Z=L?q:-1;(L?Z--:++Z<q)&&p(c[Z],Z,c););return x?Bi(c,L?0:Z,L?Z+1:q):Bi(c,L?Z+1:0,L?q:Z)}function Jx(c,p){var x=c;return x instanceof At&&(x=x.value()),us(p,function(L,q){return q.func.apply(q.thisArg,Br([L],q.args))},x)}function iw(c,p,x){var L=c.length;if(L<2)return L?Ss(c[0]):[];for(var q=-1,Z=we(L);++q<L;)for(var se=c[q],de=-1;++de<L;)de!=q&&(Z[q]=ed(Z[q]||se,c[de],p,x));return Ss(tr(Z,1),p,x)}function Qx(c,p,x){for(var L=-1,q=c.length,Z=p.length,se={};++L<q;){var de=L<Z?p[L]:n;x(se,c[L],de)}return se}function ow(c){return Nn(c)?c:[]}function aw(c){return typeof c=="function"?c:Wr}function Es(c,p){return Ct(c)?c:mw(c,p)?[c]:TN(Ht(c))}var Oz=Ot;function Cs(c,p,x){var L=c.length;return x=x===n?L:x,!p&&x>=L?c:Bi(c,p,x)}var Zx=Nr||function(c){return Cn.clearTimeout(c)};function eN(c,p){if(p)return c.slice();var x=c.length,L=Op?Op(x):new c.constructor(x);return c.copy(L),L}function sw(c){var p=new c.constructor(c.byteLength);return new ic(p).set(new ic(c)),p}function _z(c,p){var x=p?sw(c.buffer):c.buffer;return new c.constructor(x,c.byteOffset,c.byteLength)}function Az(c){var p=new c.constructor(c.source,Ja.exec(c));return p.lastIndex=c.lastIndex,p}function Rz(c){return Qf?Pt(Qf.call(c)):{}}function tN(c,p){var x=p?sw(c.buffer):c.buffer;return new c.constructor(x,c.byteOffset,c.length)}function nN(c,p){if(c!==p){var x=c!==n,L=c===null,q=c===c,Z=ci(c),se=p!==n,de=p===null,pe=p===p,xe=ci(p);if(!de&&!xe&&!Z&&c>p||Z&&se&&pe&&!de&&!xe||L&&se&&pe||!x&&pe||!q)return 1;if(!L&&!Z&&!xe&&c<p||xe&&x&&q&&!L&&!Z||de&&x&&q||!se&&q||!pe)return-1}return 0}function Pz(c,p,x){for(var L=-1,q=c.criteria,Z=p.criteria,se=q.length,de=x.length;++L<se;){var pe=nN(q[L],Z[L]);if(pe){if(L>=de)return pe;var xe=x[L];return pe*(xe=="desc"?-1:1)}}return c.index-p.index}function rN(c,p,x,L){for(var q=-1,Z=c.length,se=x.length,de=-1,pe=p.length,xe=kn(Z-se,0),Ne=we(pe+xe),Te=!L;++de<pe;)Ne[de]=p[de];for(;++q<se;)(Te||q<Z)&&(Ne[x[q]]=c[q]);for(;xe--;)Ne[de++]=c[q++];return Ne}function iN(c,p,x,L){for(var q=-1,Z=c.length,se=-1,de=x.length,pe=-1,xe=p.length,Ne=kn(Z-de,0),Te=we(Ne+xe),Ue=!L;++q<Ne;)Te[q]=c[q];for(var tt=q;++pe<xe;)Te[tt+pe]=p[pe];for(;++se<de;)(Ue||q<Z)&&(Te[tt+x[se]]=c[q++]);return Te}function Fr(c,p){var x=-1,L=c.length;for(p||(p=we(L));++x<L;)p[x]=c[x];return p}function Qo(c,p,x,L){var q=!x;x||(x={});for(var Z=-1,se=p.length;++Z<se;){var de=p[Z],pe=L?L(x[de],c[de],de,x,c):n;pe===n&&(pe=c[de]),q?Oa(x,de,pe):Zf(x,de,pe)}return x}function kz(c,p){return Qo(c,pw(c),p)}function Dz(c,p){return Qo(c,vN(c),p)}function Fp(c,p){return function(x,L){var q=Ct(x)?Gu:nz,Z=p?p():{};return q(x,c,ot(L,2),Z)}}function lc(c){return Ot(function(p,x){var L=-1,q=x.length,Z=q>1?x[q-1]:n,se=q>2?x[2]:n;for(Z=c.length>3&&typeof Z=="function"?(q--,Z):n,se&&Tr(x[0],x[1],se)&&(Z=q<3?n:Z,q=1),p=Pt(p);++L<q;){var de=x[L];de&&c(p,de,L,Z)}return p})}function oN(c,p){return function(x,L){if(x==null)return x;if(!Ur(x))return c(x,L);for(var q=x.length,Z=p?q:-1,se=Pt(x);(p?Z--:++Z<q)&&L(se[Z],Z,se)!==!1;);return x}}function aN(c){return function(p,x,L){for(var q=-1,Z=Pt(p),se=L(p),de=se.length;de--;){var pe=se[c?de:++q];if(x(Z[pe],pe,Z)===!1)break}return p}}function Lz(c,p,x){var L=p&S,q=id(c);function Z(){var se=this&&this!==Cn&&this instanceof Z?q:c;return se.apply(L?x:this,arguments)}return Z}function sN(c){return function(p){p=Ht(p);var x=me(p)?Zn(p):n,L=x?x[0]:p.charAt(0),q=x?Cs(x,1).join(""):p.slice(1);return L[c]()+q}}function uc(c){return function(p){return us(oI(iI(p).replace(Tl,"")),c,"")}}function id(c){return function(){var p=arguments;switch(p.length){case 0:return new c;case 1:return new c(p[0]);case 2:return new c(p[0],p[1]);case 3:return new c(p[0],p[1],p[2]);case 4:return new c(p[0],p[1],p[2],p[3]);case 5:return new c(p[0],p[1],p[2],p[3],p[4]);case 6:return new c(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new c(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var x=sc(c.prototype),L=c.apply(x,p);return pn(L)?L:x}}function Mz(c,p,x){var L=id(c);function q(){for(var Z=arguments.length,se=we(Z),de=Z,pe=cc(q);de--;)se[de]=arguments[de];var xe=Z<3&&se[0]!==pe&&se[Z-1]!==pe?[]:it(se,pe);if(Z-=xe.length,Z<x)return dN(c,p,Up,q.placeholder,n,se,xe,n,n,x-Z);var Ne=this&&this!==Cn&&this instanceof q?L:c;return $n(Ne,this,se)}return q}function lN(c){return function(p,x,L){var q=Pt(p);if(!Ur(p)){var Z=ot(x,3);p=jn(p),x=function(de){return Z(q[de],de,q)}}var se=c(p,x,L);return se>-1?q[Z?p[se]:se]:n}}function uN(c){return Aa(function(p){var x=p.length,L=x,q=Mi.prototype.thru;for(c&&p.reverse();L--;){var Z=p[L];if(typeof Z!="function")throw new xr(s);if(q&&!se&&Kp(Z)=="wrapper")var se=new Mi([],!0)}for(L=se?L:x;++L<x;){Z=p[L];var de=Kp(Z),pe=de=="wrapper"?dw(Z):n;pe&&gw(pe[0])&&pe[1]==(z|P|B|M)&&!pe[4].length&&pe[9]==1?se=se[Kp(pe[0])].apply(se,pe[3]):se=Z.length==1&&gw(Z)?se[de]():se.thru(Z)}return function(){var xe=arguments,Ne=xe[0];if(se&&xe.length==1&&Ct(Ne))return se.plant(Ne).value();for(var Te=0,Ue=x?p[Te].apply(this,xe):Ne;++Te<x;)Ue=p[Te].call(this,Ue);return Ue}})}function Up(c,p,x,L,q,Z,se,de,pe,xe){var Ne=p&z,Te=p&S,Ue=p&E,tt=p&(P|O),lt=p&F,It=Ue?n:id(c);function ut(){for(var _t=arguments.length,kt=we(_t),fi=_t;fi--;)kt[fi]=arguments[fi];if(tt)var Or=cc(ut),di=C(kt,Or);if(L&&(kt=rN(kt,L,q,tt)),Z&&(kt=iN(kt,Z,se,tt)),_t-=di,tt&&_t<xe){var In=it(kt,Or);return dN(c,p,Up,ut.placeholder,x,kt,In,de,pe,xe-_t)}var yo=Te?x:this,Da=Ue?yo[c]:c;return _t=kt.length,de?kt=nB(kt,de):lt&&_t>1&&kt.reverse(),Ne&&pe<_t&&(kt.length=pe),this&&this!==Cn&&this instanceof ut&&(Da=It||id(Da)),Da.apply(yo,kt)}return ut}function cN(c,p){return function(x,L){return cz(x,c,p(L),{})}}function $p(c,p){return function(x,L){var q;if(x===n&&L===n)return p;if(x!==n&&(q=x),L!==n){if(q===n)return L;typeof x=="string"||typeof L=="string"?(x=ui(x),L=ui(L)):(x=Yx(x),L=Yx(L)),q=c(x,L)}return q}}function lw(c){return Aa(function(p){return p=Xt(p,f(ot())),Ot(function(x){var L=this;return c(p,function(q){return $n(q,L,x)})})})}function Wp(c,p){p=p===n?" ":ui(p);var x=p.length;if(x<2)return x?tw(p,c):p;var L=tw(p,ws(c/si(p)));return me(p)?Cs(Zn(L),0,c).join(""):L.slice(0,c)}function zz(c,p,x,L){var q=p&S,Z=id(c);function se(){for(var de=-1,pe=arguments.length,xe=-1,Ne=L.length,Te=we(Ne+pe),Ue=this&&this!==Cn&&this instanceof se?Z:c;++xe<Ne;)Te[xe]=L[xe];for(;pe--;)Te[xe++]=arguments[++de];return $n(Ue,q?x:this,Te)}return se}function fN(c){return function(p,x,L){return L&&typeof L!="number"&&Tr(p,x,L)&&(x=L=n),p=ka(p),x===n?(x=p,p=0):x=ka(x),L=L===n?p<x?1:-1:ka(L),Ez(p,x,L,c)}}function jp(c){return function(p,x){return typeof p=="string"&&typeof x=="string"||(p=Ui(p),x=Ui(x)),c(p,x)}}function dN(c,p,x,L,q,Z,se,de,pe,xe){var Ne=p&P,Te=Ne?se:n,Ue=Ne?n:se,tt=Ne?Z:n,lt=Ne?n:Z;p|=Ne?B:A,p&=~(Ne?A:B),p&I||(p&=~(S|E));var It=[c,p,q,tt,Te,lt,Ue,de,pe,xe],ut=x.apply(n,It);return gw(c)&&xN(ut,It),ut.placeholder=L,NN(ut,c,p)}function uw(c){var p=xn[c];return function(x,L){if(x=Ui(x),L=L==null?0:pr(xt(L),292),L&&Nx(x)){var q=(Ht(x)+"e").split("e"),Z=p(q[0]+"e"+(+q[1]+L));return q=(Ht(Z)+"e").split("e"),+(q[0]+"e"+(+q[1]-L))}return p(x)}}var Bz=oc&&1/Tt(new oc([,-0]))[1]==J?function(c){return new oc(c)}:Rw;function hN(c){return function(p){var x=mr(p);return x==ht?Ye(p):x==ze?an(p):ms(p,c(p))}}function _a(c,p,x,L,q,Z,se,de){var pe=p&E;if(!pe&&typeof c!="function")throw new xr(s);var xe=L?L.length:0;if(xe||(p&=~(B|A),L=q=n),se=se===n?se:kn(xt(se),0),de=de===n?de:xt(de),xe-=q?q.length:0,p&A){var Ne=L,Te=q;L=q=n}var Ue=pe?n:dw(c),tt=[c,p,x,L,q,Ne,Te,Z,se,de];if(Ue&&Zz(tt,Ue),c=tt[0],p=tt[1],x=tt[2],L=tt[3],q=tt[4],de=tt[9]=tt[9]===n?pe?0:c.length:kn(tt[9]-xe,0),!de&&p&(P|O)&&(p&=~(P|O)),!p||p==S)var lt=Lz(c,p,x);else p==P||p==O?lt=Mz(c,p,de):(p==B||p==(S|B))&&!q.length?lt=zz(c,p,x,L):lt=Up.apply(n,tt);var It=Ue?Hx:xN;return NN(It(lt,tt),c,p)}function pN(c,p,x,L){return c===n||vo(c,vs[x])&&!Kt.call(L,x)?p:c}function mN(c,p,x,L,q,Z){return pn(c)&&pn(p)&&(Z.set(p,c),Mp(c,p,n,mN,Z),Z.delete(p)),c}function Fz(c){return sd(c)?n:c}function gN(c,p,x,L,q,Z){var se=x&T,de=c.length,pe=p.length;if(de!=pe&&!(se&&pe>de))return!1;var xe=Z.get(c),Ne=Z.get(p);if(xe&&Ne)return xe==p&&Ne==c;var Te=-1,Ue=!0,tt=x&R?new Kl:n;for(Z.set(c,p),Z.set(p,c);++Te<de;){var lt=c[Te],It=p[Te];if(L)var ut=se?L(It,lt,Te,p,c,Z):L(lt,It,Te,c,p,Z);if(ut!==n){if(ut)continue;Ue=!1;break}if(tt){if(!Bl(p,function(_t,kt){if(!l(tt,kt)&&(lt===_t||q(lt,_t,x,L,Z)))return tt.push(kt)})){Ue=!1;break}}else if(!(lt===It||q(lt,It,x,L,Z))){Ue=!1;break}}return Z.delete(c),Z.delete(p),Ue}function Uz(c,p,x,L,q,Z,se){switch(x){case nt:if(c.byteLength!=p.byteLength||c.byteOffset!=p.byteOffset)return!1;c=c.buffer,p=p.buffer;case st:return!(c.byteLength!=p.byteLength||!Z(new ic(c),new ic(p)));case Ae:case _e:case Dt:return vo(+c,+p);case De:return c.name==p.name&&c.message==p.message;case Ie:case $e:return c==p+"";case ht:var de=Ye;case ze:var pe=L&T;if(de||(de=Tt),c.size!=p.size&&!pe)return!1;var xe=se.get(c);if(xe)return xe==p;L|=R,se.set(c,p);var Ne=gN(de(c),de(p),L,q,Z,se);return se.delete(c),Ne;case mt:if(Qf)return Qf.call(c)==Qf.call(p)}return!1}function $z(c,p,x,L,q,Z){var se=x&T,de=cw(c),pe=de.length,xe=cw(p),Ne=xe.length;if(pe!=Ne&&!se)return!1;for(var Te=pe;Te--;){var Ue=de[Te];if(!(se?Ue in p:Kt.call(p,Ue)))return!1}var tt=Z.get(c),lt=Z.get(p);if(tt&&lt)return tt==p&&lt==c;var It=!0;Z.set(c,p),Z.set(p,c);for(var ut=se;++Te<pe;){Ue=de[Te];var _t=c[Ue],kt=p[Ue];if(L)var fi=se?L(kt,_t,Ue,p,c,Z):L(_t,kt,Ue,c,p,Z);if(!(fi===n?_t===kt||q(_t,kt,x,L,Z):fi)){It=!1;break}ut||(ut=Ue=="constructor")}if(It&&!ut){var Or=c.constructor,di=p.constructor;Or!=di&&"constructor"in c&&"constructor"in p&&!(typeof Or=="function"&&Or instanceof Or&&typeof di=="function"&&di instanceof di)&&(It=!1)}return Z.delete(c),Z.delete(p),It}function Aa(c){return yw(EN(c,n,RN),c+"")}function cw(c){return Mx(c,jn,pw)}function fw(c){return Mx(c,$r,vN)}var dw=Ap?function(c){return Ap.get(c)}:Rw;function Kp(c){for(var p=c.name+"",x=ac[p],L=Kt.call(ac,p)?x.length:0;L--;){var q=x[L],Z=q.func;if(Z==null||Z==c)return q.name}return p}function cc(c){var p=Kt.call(H,"placeholder")?H:c;return p.placeholder}function ot(){var c=H.iteratee||_w;return c=c===_w?Fx:c,arguments.length?c(arguments[0],arguments[1]):c}function qp(c,p){var x=c.__data__;return Yz(p)?x[typeof p=="string"?"string":"hash"]:x.map}function hw(c){for(var p=jn(c),x=p.length;x--;){var L=p[x],q=c[L];p[x]=[L,q,bN(q)]}return p}function Hl(c,p){var x=ue(c,p);return Bx(x)?x:n}function Wz(c){var p=Kt.call(c,Qe),x=c[Qe];try{c[Qe]=n;var L=!0}catch{}var q=mo.call(c);return L&&(p?c[Qe]=x:delete c[Qe]),q}var pw=$y?function(c){return c==null?[]:(c=Pt(c),Li($y(c),function(p){return k.call(c,p)}))}:Pw,vN=$y?function(c){for(var p=[];c;)Br(p,pw(c)),c=Na(c);return p}:Pw,mr=Ir;(Wy&&mr(new Wy(new ArrayBuffer(1)))!=nt||Yf&&mr(new Yf)!=ht||jy&&mr(jy.resolve())!=ve||oc&&mr(new oc)!=ze||Xf&&mr(new Xf)!=Nt)&&(mr=function(c){var p=Ir(c),x=p==le?c.constructor:n,L=x?Gl(x):"";if(L)switch(L){case xM:return nt;case NM:return ht;case IM:return ve;case TM:return ze;case OM:return Nt}return p});function jz(c,p,x){for(var L=-1,q=x.length;++L<q;){var Z=x[L],se=Z.size;switch(Z.type){case"drop":c+=se;break;case"dropRight":p-=se;break;case"take":p=pr(p,c+se);break;case"takeRight":c=kn(c,p-se);break}}return{start:c,end:p}}function Kz(c){var p=c.match(Fn);return p?p[1].split(vl):[]}function yN(c,p,x){p=Es(p,c);for(var L=-1,q=p.length,Z=!1;++L<q;){var se=Zo(p[L]);if(!(Z=c!=null&&x(c,se)))break;c=c[se]}return Z||++L!=q?Z:(q=c==null?0:c.length,!!q&&Qp(q)&&Ra(se,q)&&(Ct(c)||Yl(c)))}function qz(c){var p=c.length,x=new c.constructor(p);return p&&typeof c[0]=="string"&&Kt.call(c,"index")&&(x.index=c.index,x.input=c.input),x}function wN(c){return typeof c.constructor=="function"&&!od(c)?sc(Na(c)):{}}function Vz(c,p,x){var L=c.constructor;switch(p){case st:return sw(c);case Ae:case _e:return new L(+c);case nt:return _z(c,x);case mn:case fr:case Ke:case hn:case rn:case gn:case Ze:case et:case gt:return tN(c,x);case ht:return new L;case Dt:case $e:return new L(c);case Ie:return Az(c);case ze:return new L;case mt:return Rz(c)}}function Hz(c,p){var x=p.length;if(!x)return c;var L=x-1;return p[L]=(x>1?"& ":"")+p[L],p=p.join(x>2?", ":" "),c.replace(Uo,`{
/* [wrapped with `+p+`] */
`)}function Gz(c){return Ct(c)||Yl(c)||!!(ae&&c&&c[ae])}function Ra(c,p){var x=typeof c;return p=p==null?Y:p,!!p&&(x=="number"||x!="symbol"&&En.test(c))&&c>-1&&c%1==0&&c<p}function Tr(c,p,x){if(!pn(x))return!1;var L=typeof p;return(L=="number"?Ur(x)&&Ra(p,x.length):L=="string"&&p in x)?vo(x[p],c):!1}function mw(c,p){if(Ct(c))return!1;var x=typeof c;return x=="number"||x=="symbol"||x=="boolean"||c==null||ci(c)?!0:Xa.test(c)||!io.test(c)||p!=null&&c in Pt(p)}function Yz(c){var p=typeof c;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?c!=="__proto__":c===null}function gw(c){var p=Kp(c),x=H[p];if(typeof x!="function"||!(p in At.prototype))return!1;if(c===x)return!0;var L=dw(x);return!!L&&c===L[0]}function Xz(c){return!!li&&li in c}var Jz=Wl?Pa:kw;function od(c){var p=c&&c.constructor,x=typeof p=="function"&&p.prototype||vs;return c===x}function bN(c){return c===c&&!pn(c)}function SN(c,p){return function(x){return x==null?!1:x[c]===p&&(p!==n||c in Pt(x))}}function Qz(c){var p=Xp(c,function(L){return x.size===m&&x.clear(),L}),x=p.cache;return p}function Zz(c,p){var x=c[1],L=p[1],q=x|L,Z=q<(S|E|z),se=L==z&&x==P||L==z&&x==M&&c[7].length<=p[8]||L==(z|M)&&p[7].length<=p[8]&&x==P;if(!(Z||se))return c;L&S&&(c[2]=p[2],q|=x&S?0:I);var de=p[3];if(de){var pe=c[3];c[3]=pe?rN(pe,de,p[4]):de,c[4]=pe?it(c[3],v):p[4]}return de=p[5],de&&(pe=c[5],c[5]=pe?iN(pe,de,p[6]):de,c[6]=pe?it(c[5],v):p[6]),de=p[7],de&&(c[7]=de),L&z&&(c[8]=c[8]==null?p[8]:pr(c[8],p[8])),c[9]==null&&(c[9]=p[9]),c[0]=p[0],c[1]=q,c}function eB(c){var p=[];if(c!=null)for(var x in Pt(c))p.push(x);return p}function tB(c){return mo.call(c)}function EN(c,p,x){return p=kn(p===n?c.length-1:p,0),function(){for(var L=arguments,q=-1,Z=kn(L.length-p,0),se=we(Z);++q<Z;)se[q]=L[p+q];q=-1;for(var de=we(p+1);++q<p;)de[q]=L[q];return de[p]=x(se),$n(c,this,de)}}function CN(c,p){return p.length<2?c:Vl(c,Bi(p,0,-1))}function nB(c,p){for(var x=c.length,L=pr(p.length,x),q=Fr(c);L--;){var Z=p[L];c[L]=Ra(Z,x)?q[Z]:n}return c}function vw(c,p){if(!(p==="constructor"&&typeof c[p]=="function")&&p!="__proto__")return c[p]}var xN=IN(Hx),ad=ys||function(c,p){return Cn.setTimeout(c,p)},yw=IN(Nz);function NN(c,p,x){var L=p+"";return yw(c,Hz(L,rB(Kz(L),x)))}function IN(c){var p=0,x=0;return function(){var L=SM(),q=te-(L-x);if(x=L,q>0){if(++p>=G)return arguments[0]}else p=0;return c.apply(n,arguments)}}function Vp(c,p){var x=-1,L=c.length,q=L-1;for(p=p===n?L:p;++x<p;){var Z=ew(x,q),se=c[Z];c[Z]=c[x],c[x]=se}return c.length=p,c}var TN=Qz(function(c){var p=[];return c.charCodeAt(0)===46&&p.push(""),c.replace(We,function(x,L,q,Z){p.push(q?Z.replace(ya,"$1"):L||x)}),p});function Zo(c){if(typeof c=="string"||ci(c))return c;var p=c+"";return p=="0"&&1/c==-J?"-0":p}function Gl(c){if(c!=null){try{return nc.call(c)}catch{}try{return c+""}catch{}}return""}function rB(c,p){return Qn(ge,function(x){var L="_."+x[0];p&x[1]&&!ls(c,L)&&c.push(L)}),c.sort()}function ON(c){if(c instanceof At)return c.clone();var p=new Mi(c.__wrapped__,c.__chain__);return p.__actions__=Fr(c.__actions__),p.__index__=c.__index__,p.__values__=c.__values__,p}function iB(c,p,x){(x?Tr(c,p,x):p===n)?p=1:p=kn(xt(p),0);var L=c==null?0:c.length;if(!L||p<1)return[];for(var q=0,Z=0,se=we(ws(L/p));q<L;)se[Z++]=Bi(c,q,q+=p);return se}function oB(c){for(var p=-1,x=c==null?0:c.length,L=0,q=[];++p<x;){var Z=c[p];Z&&(q[L++]=Z)}return q}function aB(){var c=arguments.length;if(!c)return[];for(var p=we(c-1),x=arguments[0],L=c;L--;)p[L-1]=arguments[L];return Br(Ct(x)?Fr(x):[x],tr(p,1))}var sB=Ot(function(c,p){return Nn(c)?ed(c,tr(p,1,Nn,!0)):[]}),lB=Ot(function(c,p){var x=Fi(p);return Nn(x)&&(x=n),Nn(c)?ed(c,tr(p,1,Nn,!0),ot(x,2)):[]}),uB=Ot(function(c,p){var x=Fi(p);return Nn(x)&&(x=n),Nn(c)?ed(c,tr(p,1,Nn,!0),n,x):[]});function cB(c,p,x){var L=c==null?0:c.length;return L?(p=x||p===n?1:xt(p),Bi(c,p<0?0:p,L)):[]}function fB(c,p,x){var L=c==null?0:c.length;return L?(p=x||p===n?1:xt(p),p=L-p,Bi(c,0,p<0?0:p)):[]}function dB(c,p){return c&&c.length?Bp(c,ot(p,3),!0,!0):[]}function hB(c,p){return c&&c.length?Bp(c,ot(p,3),!0):[]}function pB(c,p,x,L){var q=c==null?0:c.length;return q?(x&&typeof x!="number"&&Tr(c,p,x)&&(x=0,L=q),az(c,p,x,L)):[]}function _N(c,p,x){var L=c==null?0:c.length;if(!L)return-1;var q=x==null?0:xt(x);return q<0&&(q=kn(L+q,0)),cs(c,ot(p,3),q)}function AN(c,p,x){var L=c==null?0:c.length;if(!L)return-1;var q=L-1;return x!==n&&(q=xt(x),q=x<0?kn(L+q,0):pr(q,L-1)),cs(c,ot(p,3),q,!0)}function RN(c){var p=c==null?0:c.length;return p?tr(c,1):[]}function mB(c){var p=c==null?0:c.length;return p?tr(c,J):[]}function gB(c,p){var x=c==null?0:c.length;return x?(p=p===n?1:xt(p),tr(c,p)):[]}function vB(c){for(var p=-1,x=c==null?0:c.length,L={};++p<x;){var q=c[p];L[q[0]]=q[1]}return L}function PN(c){return c&&c.length?c[0]:n}function yB(c,p,x){var L=c==null?0:c.length;if(!L)return-1;var q=x==null?0:xt(x);return q<0&&(q=kn(L+q,0)),en(c,p,q)}function wB(c){var p=c==null?0:c.length;return p?Bi(c,0,-1):[]}var bB=Ot(function(c){var p=Xt(c,ow);return p.length&&p[0]===c[0]?Yy(p):[]}),SB=Ot(function(c){var p=Fi(c),x=Xt(c,ow);return p===Fi(x)?p=n:x.pop(),x.length&&x[0]===c[0]?Yy(x,ot(p,2)):[]}),EB=Ot(function(c){var p=Fi(c),x=Xt(c,ow);return p=typeof p=="function"?p:n,p&&x.pop(),x.length&&x[0]===c[0]?Yy(x,n,p):[]});function CB(c,p){return c==null?"":wM.call(c,p)}function Fi(c){var p=c==null?0:c.length;return p?c[p-1]:n}function xB(c,p,x){var L=c==null?0:c.length;if(!L)return-1;var q=L;return x!==n&&(q=xt(x),q=q<0?kn(L+q,0):pr(q,L-1)),p===p?Wn(c,p,q):cs(c,Ju,q,!0)}function NB(c,p){return c&&c.length?jx(c,xt(p)):n}var IB=Ot(kN);function kN(c,p){return c&&c.length&&p&&p.length?Zy(c,p):c}function TB(c,p,x){return c&&c.length&&p&&p.length?Zy(c,p,ot(x,2)):c}function OB(c,p,x){return c&&c.length&&p&&p.length?Zy(c,p,n,x):c}var _B=Aa(function(c,p){var x=c==null?0:c.length,L=qy(c,p);return Vx(c,Xt(p,function(q){return Ra(q,x)?+q:q}).sort(nN)),L});function AB(c,p){var x=[];if(!(c&&c.length))return x;var L=-1,q=[],Z=c.length;for(p=ot(p,3);++L<Z;){var se=c[L];p(se,L,c)&&(x.push(se),q.push(L))}return Vx(c,q),x}function ww(c){return c==null?c:CM.call(c)}function RB(c,p,x){var L=c==null?0:c.length;return L?(x&&typeof x!="number"&&Tr(c,p,x)?(p=0,x=L):(p=p==null?0:xt(p),x=x===n?L:xt(x)),Bi(c,p,x)):[]}function PB(c,p){return zp(c,p)}function kB(c,p,x){return nw(c,p,ot(x,2))}function DB(c,p){var x=c==null?0:c.length;if(x){var L=zp(c,p);if(L<x&&vo(c[L],p))return L}return-1}function LB(c,p){return zp(c,p,!0)}function MB(c,p,x){return nw(c,p,ot(x,2),!0)}function zB(c,p){var x=c==null?0:c.length;if(x){var L=zp(c,p,!0)-1;if(vo(c[L],p))return L}return-1}function BB(c){return c&&c.length?Gx(c):[]}function FB(c,p){return c&&c.length?Gx(c,ot(p,2)):[]}function UB(c){var p=c==null?0:c.length;return p?Bi(c,1,p):[]}function $B(c,p,x){return c&&c.length?(p=x||p===n?1:xt(p),Bi(c,0,p<0?0:p)):[]}function WB(c,p,x){var L=c==null?0:c.length;return L?(p=x||p===n?1:xt(p),p=L-p,Bi(c,p<0?0:p,L)):[]}function jB(c,p){return c&&c.length?Bp(c,ot(p,3),!1,!0):[]}function KB(c,p){return c&&c.length?Bp(c,ot(p,3)):[]}var qB=Ot(function(c){return Ss(tr(c,1,Nn,!0))}),VB=Ot(function(c){var p=Fi(c);return Nn(p)&&(p=n),Ss(tr(c,1,Nn,!0),ot(p,2))}),HB=Ot(function(c){var p=Fi(c);return p=typeof p=="function"?p:n,Ss(tr(c,1,Nn,!0),n,p)});function GB(c){return c&&c.length?Ss(c):[]}function YB(c,p){return c&&c.length?Ss(c,ot(p,2)):[]}function XB(c,p){return p=typeof p=="function"?p:n,c&&c.length?Ss(c,n,p):[]}function bw(c){if(!(c&&c.length))return[];var p=0;return c=Li(c,function(x){if(Nn(x))return p=kn(x.length,p),!0}),ps(p,function(x){return Xt(c,ds(x))})}function DN(c,p){if(!(c&&c.length))return[];var x=bw(c);return p==null?x:Xt(x,function(L){return $n(p,n,L)})}var JB=Ot(function(c,p){return Nn(c)?ed(c,p):[]}),QB=Ot(function(c){return iw(Li(c,Nn))}),ZB=Ot(function(c){var p=Fi(c);return Nn(p)&&(p=n),iw(Li(c,Nn),ot(p,2))}),e2=Ot(function(c){var p=Fi(c);return p=typeof p=="function"?p:n,iw(Li(c,Nn),n,p)}),t2=Ot(bw);function n2(c,p){return Qx(c||[],p||[],Zf)}function r2(c,p){return Qx(c||[],p||[],rd)}var i2=Ot(function(c){var p=c.length,x=p>1?c[p-1]:n;return x=typeof x=="function"?(c.pop(),x):n,DN(c,x)});function LN(c){var p=H(c);return p.__chain__=!0,p}function o2(c,p){return p(c),c}function Hp(c,p){return p(c)}var a2=Aa(function(c){var p=c.length,x=p?c[0]:0,L=this.__wrapped__,q=function(Z){return qy(Z,c)};return p>1||this.__actions__.length||!(L instanceof At)||!Ra(x)?this.thru(q):(L=L.slice(x,+x+(p?1:0)),L.__actions__.push({func:Hp,args:[q],thisArg:n}),new Mi(L,this.__chain__).thru(function(Z){return p&&!Z.length&&Z.push(n),Z}))});function s2(){return LN(this)}function l2(){return new Mi(this.value(),this.__chain__)}function u2(){this.__values__===n&&(this.__values__=YN(this.value()));var c=this.__index__>=this.__values__.length,p=c?n:this.__values__[this.__index__++];return{done:c,value:p}}function c2(){return this}function f2(c){for(var p,x=this;x instanceof Pp;){var L=ON(x);L.__index__=0,L.__values__=n,p?q.__wrapped__=L:p=L;var q=L;x=x.__wrapped__}return q.__wrapped__=c,p}function d2(){var c=this.__wrapped__;if(c instanceof At){var p=c;return this.__actions__.length&&(p=new At(this)),p=p.reverse(),p.__actions__.push({func:Hp,args:[ww],thisArg:n}),new Mi(p,this.__chain__)}return this.thru(ww)}function h2(){return Jx(this.__wrapped__,this.__actions__)}var p2=Fp(function(c,p,x){Kt.call(c,x)?++c[x]:Oa(c,x,1)});function m2(c,p,x){var L=Ct(c)?Yu:oz;return x&&Tr(c,p,x)&&(p=n),L(c,ot(p,3))}function g2(c,p){var x=Ct(c)?Li:Dx;return x(c,ot(p,3))}var v2=lN(_N),y2=lN(AN);function w2(c,p){return tr(Gp(c,p),1)}function b2(c,p){return tr(Gp(c,p),J)}function S2(c,p,x){return x=x===n?1:xt(x),tr(Gp(c,p),x)}function MN(c,p){var x=Ct(c)?Qn:bs;return x(c,ot(p,3))}function zN(c,p){var x=Ct(c)?qf:kx;return x(c,ot(p,3))}var E2=Fp(function(c,p,x){Kt.call(c,x)?c[x].push(p):Oa(c,x,[p])});function C2(c,p,x,L){c=Ur(c)?c:dc(c),x=x&&!L?xt(x):0;var q=c.length;return x<0&&(x=kn(q+x,0)),Zp(c)?x<=q&&c.indexOf(p,x)>-1:!!q&&en(c,p,x)>-1}var x2=Ot(function(c,p,x){var L=-1,q=typeof p=="function",Z=Ur(c)?we(c.length):[];return bs(c,function(se){Z[++L]=q?$n(p,se,x):td(se,p,x)}),Z}),N2=Fp(function(c,p,x){Oa(c,x,p)});function Gp(c,p){var x=Ct(c)?Xt:Ux;return x(c,ot(p,3))}function I2(c,p,x,L){return c==null?[]:(Ct(p)||(p=p==null?[]:[p]),x=L?n:x,Ct(x)||(x=x==null?[]:[x]),Kx(c,p,x))}var T2=Fp(function(c,p,x){c[x?0:1].push(p)},function(){return[[],[]]});function O2(c,p,x){var L=Ct(c)?us:Qu,q=arguments.length<3;return L(c,ot(p,4),x,q,bs)}function _2(c,p,x){var L=Ct(c)?Yo:Qu,q=arguments.length<3;return L(c,ot(p,4),x,q,kx)}function A2(c,p){var x=Ct(c)?Li:Dx;return x(c,Jp(ot(p,3)))}function R2(c){var p=Ct(c)?_x:Cz;return p(c)}function P2(c,p,x){(x?Tr(c,p,x):p===n)?p=1:p=xt(p);var L=Ct(c)?ez:xz;return L(c,p)}function k2(c){var p=Ct(c)?tz:Iz;return p(c)}function D2(c){if(c==null)return 0;if(Ur(c))return Zp(c)?si(c):c.length;var p=mr(c);return p==ht||p==ze?c.size:Jy(c).length}function L2(c,p,x){var L=Ct(c)?Bl:Tz;return x&&Tr(c,p,x)&&(p=n),L(c,ot(p,3))}var M2=Ot(function(c,p){if(c==null)return[];var x=p.length;return x>1&&Tr(c,p[0],p[1])?p=[]:x>2&&Tr(p[0],p[1],p[2])&&(p=[p[0]]),Kx(c,tr(p,1),[])}),Yp=er||function(){return Cn.Date.now()};function z2(c,p){if(typeof p!="function")throw new xr(s);return c=xt(c),function(){if(--c<1)return p.apply(this,arguments)}}function BN(c,p,x){return p=x?n:p,p=c&&p==null?c.length:p,_a(c,z,n,n,n,n,p)}function FN(c,p){var x;if(typeof p!="function")throw new xr(s);return c=xt(c),function(){return--c>0&&(x=p.apply(this,arguments)),c<=1&&(p=n),x}}var Sw=Ot(function(c,p,x){var L=S;if(x.length){var q=it(x,cc(Sw));L|=B}return _a(c,L,p,x,q)}),UN=Ot(function(c,p,x){var L=S|E;if(x.length){var q=it(x,cc(UN));L|=B}return _a(p,L,c,x,q)});function $N(c,p,x){p=x?n:p;var L=_a(c,P,n,n,n,n,n,p);return L.placeholder=$N.placeholder,L}function WN(c,p,x){p=x?n:p;var L=_a(c,O,n,n,n,n,n,p);return L.placeholder=WN.placeholder,L}function jN(c,p,x){var L,q,Z,se,de,pe,xe=0,Ne=!1,Te=!1,Ue=!0;if(typeof c!="function")throw new xr(s);p=Ui(p)||0,pn(x)&&(Ne=!!x.leading,Te="maxWait"in x,Z=Te?kn(Ui(x.maxWait)||0,p):Z,Ue="trailing"in x?!!x.trailing:Ue);function tt(In){var yo=L,Da=q;return L=q=n,xe=In,se=c.apply(Da,yo),se}function lt(In){return xe=In,de=ad(_t,p),Ne?tt(In):se}function It(In){var yo=In-pe,Da=In-xe,lI=p-yo;return Te?pr(lI,Z-Da):lI}function ut(In){var yo=In-pe,Da=In-xe;return pe===n||yo>=p||yo<0||Te&&Da>=Z}function _t(){var In=Yp();if(ut(In))return kt(In);de=ad(_t,It(In))}function kt(In){return de=n,Ue&&L?tt(In):(L=q=n,se)}function fi(){de!==n&&Zx(de),xe=0,L=pe=q=de=n}function Or(){return de===n?se:kt(Yp())}function di(){var In=Yp(),yo=ut(In);if(L=arguments,q=this,pe=In,yo){if(de===n)return lt(pe);if(Te)return Zx(de),de=ad(_t,p),tt(pe)}return de===n&&(de=ad(_t,p)),se}return di.cancel=fi,di.flush=Or,di}var B2=Ot(function(c,p){return Px(c,1,p)}),F2=Ot(function(c,p,x){return Px(c,Ui(p)||0,x)});function U2(c){return _a(c,F)}function Xp(c,p){if(typeof c!="function"||p!=null&&typeof p!="function")throw new xr(s);var x=function(){var L=arguments,q=p?p.apply(this,L):L[0],Z=x.cache;if(Z.has(q))return Z.get(q);var se=c.apply(this,L);return x.cache=Z.set(q,se)||Z,se};return x.cache=new(Xp.Cache||Ta),x}Xp.Cache=Ta;function Jp(c){if(typeof c!="function")throw new xr(s);return function(){var p=arguments;switch(p.length){case 0:return!c.call(this);case 1:return!c.call(this,p[0]);case 2:return!c.call(this,p[0],p[1]);case 3:return!c.call(this,p[0],p[1],p[2])}return!c.apply(this,p)}}function $2(c){return FN(2,c)}var W2=Oz(function(c,p){p=p.length==1&&Ct(p[0])?Xt(p[0],f(ot())):Xt(tr(p,1),f(ot()));var x=p.length;return Ot(function(L){for(var q=-1,Z=pr(L.length,x);++q<Z;)L[q]=p[q].call(this,L[q]);return $n(c,this,L)})}),Ew=Ot(function(c,p){var x=it(p,cc(Ew));return _a(c,B,n,p,x)}),KN=Ot(function(c,p){var x=it(p,cc(KN));return _a(c,A,n,p,x)}),j2=Aa(function(c,p){return _a(c,M,n,n,n,p)});function K2(c,p){if(typeof c!="function")throw new xr(s);return p=p===n?p:xt(p),Ot(c,p)}function q2(c,p){if(typeof c!="function")throw new xr(s);return p=p==null?0:kn(xt(p),0),Ot(function(x){var L=x[p],q=Cs(x,0,p);return L&&Br(q,L),$n(c,this,q)})}function V2(c,p,x){var L=!0,q=!0;if(typeof c!="function")throw new xr(s);return pn(x)&&(L="leading"in x?!!x.leading:L,q="trailing"in x?!!x.trailing:q),jN(c,p,{leading:L,maxWait:p,trailing:q})}function H2(c){return BN(c,1)}function G2(c,p){return Ew(aw(p),c)}function Y2(){if(!arguments.length)return[];var c=arguments[0];return Ct(c)?c:[c]}function X2(c){return zi(c,N)}function J2(c,p){return p=typeof p=="function"?p:n,zi(c,N,p)}function Q2(c){return zi(c,w|N)}function Z2(c,p){return p=typeof p=="function"?p:n,zi(c,w|N,p)}function eF(c,p){return p==null||Rx(c,p,jn(p))}function vo(c,p){return c===p||c!==c&&p!==p}var tF=jp(Gy),nF=jp(function(c,p){return c>=p}),Yl=zx(function(){return arguments}())?zx:function(c){return vn(c)&&Kt.call(c,"callee")&&!k.call(c,"callee")},Ct=we.isArray,rF=ss?f(ss):fz;function Ur(c){return c!=null&&Qp(c.length)&&!Pa(c)}function Nn(c){return vn(c)&&Ur(c)}function iF(c){return c===!0||c===!1||vn(c)&&Ir(c)==Ae}var xs=yM||kw,oF=Dl?f(Dl):dz;function aF(c){return vn(c)&&c.nodeType===1&&!sd(c)}function sF(c){if(c==null)return!0;if(Ur(c)&&(Ct(c)||typeof c=="string"||typeof c.splice=="function"||xs(c)||fc(c)||Yl(c)))return!c.length;var p=mr(c);if(p==ht||p==ze)return!c.size;if(od(c))return!Jy(c).length;for(var x in c)if(Kt.call(c,x))return!1;return!0}function lF(c,p){return nd(c,p)}function uF(c,p,x){x=typeof x=="function"?x:n;var L=x?x(c,p):n;return L===n?nd(c,p,n,x):!!L}function Cw(c){if(!vn(c))return!1;var p=Ir(c);return p==De||p==be||typeof c.message=="string"&&typeof c.name=="string"&&!sd(c)}function cF(c){return typeof c=="number"&&Nx(c)}function Pa(c){if(!pn(c))return!1;var p=Ir(c);return p==Re||p==Ge||p==je||p==Pe}function qN(c){return typeof c=="number"&&c==xt(c)}function Qp(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=Y}function pn(c){var p=typeof c;return c!=null&&(p=="object"||p=="function")}function vn(c){return c!=null&&typeof c=="object"}var VN=Ll?f(Ll):pz;function fF(c,p){return c===p||Xy(c,p,hw(p))}function dF(c,p,x){return x=typeof x=="function"?x:n,Xy(c,p,hw(p),x)}function hF(c){return HN(c)&&c!=+c}function pF(c){if(Jz(c))throw new wt(o);return Bx(c)}function mF(c){return c===null}function gF(c){return c==null}function HN(c){return typeof c=="number"||vn(c)&&Ir(c)==Dt}function sd(c){if(!vn(c)||Ir(c)!=le)return!1;var p=Na(c);if(p===null)return!0;var x=Kt.call(p,"constructor")&&p.constructor;return typeof x=="function"&&x instanceof x&&nc.call(x)==By}var xw=Ml?f(Ml):mz;function vF(c){return qN(c)&&c>=-Y&&c<=Y}var GN=xa?f(xa):gz;function Zp(c){return typeof c=="string"||!Ct(c)&&vn(c)&&Ir(c)==$e}function ci(c){return typeof c=="symbol"||vn(c)&&Ir(c)==mt}var fc=Go?f(Go):vz;function yF(c){return c===n}function wF(c){return vn(c)&&mr(c)==Nt}function bF(c){return vn(c)&&Ir(c)==cn}var SF=jp(Qy),EF=jp(function(c,p){return c<=p});function YN(c){if(!c)return[];if(Ur(c))return Zp(c)?Zn(c):Fr(c);if(Se&&c[Se])return Fe(c[Se]());var p=mr(c),x=p==ht?Ye:p==ze?Tt:dc;return x(c)}function ka(c){if(!c)return c===0?c:0;if(c=Ui(c),c===J||c===-J){var p=c<0?-1:1;return p*X}return c===c?c:0}function xt(c){var p=ka(c),x=p%1;return p===p?x?p-x:p:0}function XN(c){return c?ql(xt(c),0,ie):0}function Ui(c){if(typeof c=="number")return c;if(ci(c))return re;if(pn(c)){var p=typeof c.valueOf=="function"?c.valueOf():c;c=pn(p)?p+"":p}if(typeof c!="string")return c===0?c:+c;c=$l(c);var x=so.test(c);return x||Wo.test(c)?as(c.slice(2),x?2:8):wa.test(c)?re:+c}function JN(c){return Qo(c,$r(c))}function CF(c){return c?ql(xt(c),-Y,Y):c===0?c:0}function Ht(c){return c==null?"":ui(c)}var xF=lc(function(c,p){if(od(p)||Ur(p)){Qo(p,jn(p),c);return}for(var x in p)Kt.call(p,x)&&Zf(c,x,p[x])}),QN=lc(function(c,p){Qo(p,$r(p),c)}),em=lc(function(c,p,x,L){Qo(p,$r(p),c,L)}),NF=lc(function(c,p,x,L){Qo(p,jn(p),c,L)}),IF=Aa(qy);function TF(c,p){var x=sc(c);return p==null?x:Ax(x,p)}var OF=Ot(function(c,p){c=Pt(c);var x=-1,L=p.length,q=L>2?p[2]:n;for(q&&Tr(p[0],p[1],q)&&(L=1);++x<L;)for(var Z=p[x],se=$r(Z),de=-1,pe=se.length;++de<pe;){var xe=se[de],Ne=c[xe];(Ne===n||vo(Ne,vs[xe])&&!Kt.call(c,xe))&&(c[xe]=Z[xe])}return c}),_F=Ot(function(c){return c.push(n,mN),$n(ZN,n,c)});function AF(c,p){return Fl(c,ot(p,3),Jo)}function RF(c,p){return Fl(c,ot(p,3),Hy)}function PF(c,p){return c==null?c:Vy(c,ot(p,3),$r)}function kF(c,p){return c==null?c:Lx(c,ot(p,3),$r)}function DF(c,p){return c&&Jo(c,ot(p,3))}function LF(c,p){return c&&Hy(c,ot(p,3))}function MF(c){return c==null?[]:Lp(c,jn(c))}function zF(c){return c==null?[]:Lp(c,$r(c))}function Nw(c,p,x){var L=c==null?n:Vl(c,p);return L===n?x:L}function BF(c,p){return c!=null&&yN(c,p,sz)}function Iw(c,p){return c!=null&&yN(c,p,lz)}var FF=cN(function(c,p,x){p!=null&&typeof p.toString!="function"&&(p=mo.call(p)),c[p]=x},Ow(Wr)),UF=cN(function(c,p,x){p!=null&&typeof p.toString!="function"&&(p=mo.call(p)),Kt.call(c,p)?c[p].push(x):c[p]=[x]},ot),$F=Ot(td);function jn(c){return Ur(c)?Ox(c):Jy(c)}function $r(c){return Ur(c)?Ox(c,!0):yz(c)}function WF(c,p){var x={};return p=ot(p,3),Jo(c,function(L,q,Z){Oa(x,p(L,q,Z),L)}),x}function jF(c,p){var x={};return p=ot(p,3),Jo(c,function(L,q,Z){Oa(x,q,p(L,q,Z))}),x}var KF=lc(function(c,p,x){Mp(c,p,x)}),ZN=lc(function(c,p,x,L){Mp(c,p,x,L)}),qF=Aa(function(c,p){var x={};if(c==null)return x;var L=!1;p=Xt(p,function(Z){return Z=Es(Z,c),L||(L=Z.length>1),Z}),Qo(c,fw(c),x),L&&(x=zi(x,w|b|N,Fz));for(var q=p.length;q--;)rw(x,p[q]);return x});function VF(c,p){return eI(c,Jp(ot(p)))}var HF=Aa(function(c,p){return c==null?{}:bz(c,p)});function eI(c,p){if(c==null)return{};var x=Xt(fw(c),function(L){return[L]});return p=ot(p),qx(c,x,function(L,q){return p(L,q[0])})}function GF(c,p,x){p=Es(p,c);var L=-1,q=p.length;for(q||(q=1,c=n);++L<q;){var Z=c==null?n:c[Zo(p[L])];Z===n&&(L=q,Z=x),c=Pa(Z)?Z.call(c):Z}return c}function YF(c,p,x){return c==null?c:rd(c,p,x)}function XF(c,p,x,L){return L=typeof L=="function"?L:n,c==null?c:rd(c,p,x,L)}var tI=hN(jn),nI=hN($r);function JF(c,p,x){var L=Ct(c),q=L||xs(c)||fc(c);if(p=ot(p,4),x==null){var Z=c&&c.constructor;q?x=L?new Z:[]:pn(c)?x=Pa(Z)?sc(Na(c)):{}:x={}}return(q?Qn:Jo)(c,function(se,de,pe){return p(x,se,de,pe)}),x}function QF(c,p){return c==null?!0:rw(c,p)}function ZF(c,p,x){return c==null?c:Xx(c,p,aw(x))}function eU(c,p,x,L){return L=typeof L=="function"?L:n,c==null?c:Xx(c,p,aw(x),L)}function dc(c){return c==null?[]:a(c,jn(c))}function tU(c){return c==null?[]:a(c,$r(c))}function nU(c,p,x){return x===n&&(x=p,p=n),x!==n&&(x=Ui(x),x=x===x?x:0),p!==n&&(p=Ui(p),p=p===p?p:0),ql(Ui(c),p,x)}function rU(c,p,x){return p=ka(p),x===n?(x=p,p=0):x=ka(x),c=Ui(c),uz(c,p,x)}function iU(c,p,x){if(x&&typeof x!="boolean"&&Tr(c,p,x)&&(p=x=n),x===n&&(typeof p=="boolean"?(x=p,p=n):typeof c=="boolean"&&(x=c,c=n)),c===n&&p===n?(c=0,p=1):(c=ka(c),p===n?(p=c,c=0):p=ka(p)),c>p){var L=c;c=p,p=L}if(x||c%1||p%1){var q=Ix();return pr(c+q*(p-c+Di("1e-"+((q+"").length-1))),p)}return ew(c,p)}var oU=uc(function(c,p,x){return p=p.toLowerCase(),c+(x?rI(p):p)});function rI(c){return Tw(Ht(c).toLowerCase())}function iI(c){return c=Ht(c),c&&c.replace(Sl,D).replace(Ol,"")}function aU(c,p,x){c=Ht(c),p=ui(p);var L=c.length;x=x===n?L:ql(xt(x),0,L);var q=x;return x-=p.length,x>=0&&c.slice(x,q)==p}function sU(c){return c=Ht(c),c&&_i.test(c)?c.replace(Bn,$):c}function lU(c){return c=Ht(c),c&&gl.test(c)?c.replace(Ai,"\\$&"):c}var uU=uc(function(c,p,x){return c+(x?"-":"")+p.toLowerCase()}),cU=uc(function(c,p,x){return c+(x?" ":"")+p.toLowerCase()}),fU=sN("toLowerCase");function dU(c,p,x){c=Ht(c),p=xt(p);var L=p?si(c):0;if(!p||L>=p)return c;var q=(p-L)/2;return Wp(_p(q),x)+c+Wp(ws(q),x)}function hU(c,p,x){c=Ht(c),p=xt(p);var L=p?si(c):0;return p&&L<p?c+Wp(p-L,x):c}function pU(c,p,x){c=Ht(c),p=xt(p);var L=p?si(c):0;return p&&L<p?Wp(p-L,x)+c:c}function mU(c,p,x){return x||p==null?p=0:p&&(p=+p),EM(Ht(c).replace(oo,""),p||0)}function gU(c,p,x){return(x?Tr(c,p,x):p===n)?p=1:p=xt(p),tw(Ht(c),p)}function vU(){var c=arguments,p=Ht(c[0]);return c.length<3?p:p.replace(c[1],c[2])}var yU=uc(function(c,p,x){return c+(x?"_":"")+p.toLowerCase()});function wU(c,p,x){return x&&typeof x!="number"&&Tr(c,p,x)&&(p=x=n),x=x===n?ie:x>>>0,x?(c=Ht(c),c&&(typeof p=="string"||p!=null&&!xw(p))&&(p=ui(p),!p&&me(c))?Cs(Zn(c),0,x):c.split(p,x)):[]}var bU=uc(function(c,p,x){return c+(x?" ":"")+Tw(p)});function SU(c,p,x){return c=Ht(c),x=x==null?0:ql(xt(x),0,c.length),p=ui(p),c.slice(x,x+p.length)==p}function EU(c,p,x){var L=H.templateSettings;x&&Tr(c,p,x)&&(p=n),c=Ht(c),p=em({},p,L,pN);var q=em({},p.imports,L.imports,pN),Z=jn(q),se=a(q,Z),de,pe,xe=0,Ne=p.interpolate||Un,Te="__p += '",Ue=ec((p.escape||Un).source+"|"+Ne.source+"|"+(Ne===ro?bl:Un).source+"|"+(p.evaluate||Un).source+"|$","g"),tt="//# sourceURL="+(Kt.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++$f+"]")+`
`;c.replace(Ue,function(ut,_t,kt,fi,Or,di){return kt||(kt=fi),Te+=c.slice(xe,di).replace(Qa,ee),_t&&(de=!0,Te+=`' +
__e(`+_t+`) +
'`),Or&&(pe=!0,Te+=`';
`+Or+`;
__p += '`),kt&&(Te+=`' +
((__t = (`+kt+`)) == null ? '' : __t) +
'`),xe=di+ut.length,ut}),Te+=`';
`;var lt=Kt.call(p,"variable")&&p.variable;if(!lt)Te=`with (obj) {
`+Te+`
}
`;else if(wl.test(lt))throw new wt(u);Te=(pe?Te.replace(St,""):Te).replace(pt,"$1").replace(jt,"$1;"),Te="function("+(lt||"obj")+`) {
`+(lt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(de?", __e = _.escape":"")+(pe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Te+`return __p
}`;var It=aI(function(){return Mt(Z,tt+"return "+Te).apply(n,se)});if(It.source=Te,Cw(It))throw It;return It}function CU(c){return Ht(c).toLowerCase()}function xU(c){return Ht(c).toUpperCase()}function NU(c,p,x){if(c=Ht(c),c&&(x||p===n))return $l(c);if(!c||!(p=ui(p)))return c;var L=Zn(c),q=Zn(p),Z=d(L,q),se=g(L,q)+1;return Cs(L,Z,se).join("")}function IU(c,p,x){if(c=Ht(c),c&&(x||p===n))return c.slice(0,Ip(c)+1);if(!c||!(p=ui(p)))return c;var L=Zn(c),q=g(L,Zn(p))+1;return Cs(L,0,q).join("")}function TU(c,p,x){if(c=Ht(c),c&&(x||p===n))return c.replace(oo,"");if(!c||!(p=ui(p)))return c;var L=Zn(c),q=d(L,Zn(p));return Cs(L,q).join("")}function OU(c,p){var x=U,L=W;if(pn(p)){var q="separator"in p?p.separator:q;x="length"in p?xt(p.length):x,L="omission"in p?ui(p.omission):L}c=Ht(c);var Z=c.length;if(me(c)){var se=Zn(c);Z=se.length}if(x>=Z)return c;var de=x-si(L);if(de<1)return L;var pe=se?Cs(se,0,de).join(""):c.slice(0,de);if(q===n)return pe+L;if(se&&(de+=pe.length-de),xw(q)){if(c.slice(de).search(q)){var xe,Ne=pe;for(q.global||(q=ec(q.source,Ht(Ja.exec(q))+"g")),q.lastIndex=0;xe=q.exec(Ne);)var Te=xe.index;pe=pe.slice(0,Te===n?de:Te)}}else if(c.indexOf(ui(q),de)!=de){var Ue=pe.lastIndexOf(q);Ue>-1&&(pe=pe.slice(0,Ue))}return pe+L}function _U(c){return c=Ht(c),c&&dr.test(c)?c.replace(on,Ry):c}var AU=uc(function(c,p,x){return c+(x?" ":"")+p.toUpperCase()}),Tw=sN("toUpperCase");function oI(c,p,x){return c=Ht(c),p=x?n:p,p===n?Oe(c)?Tp(c):Hf(c):c.match(p)||[]}var aI=Ot(function(c,p){try{return $n(c,n,p)}catch(x){return Cw(x)?x:new wt(x)}}),RU=Aa(function(c,p){return Qn(p,function(x){x=Zo(x),Oa(c,x,Sw(c[x],c))}),c});function PU(c){var p=c==null?0:c.length,x=ot();return c=p?Xt(c,function(L){if(typeof L[1]!="function")throw new xr(s);return[x(L[0]),L[1]]}):[],Ot(function(L){for(var q=-1;++q<p;){var Z=c[q];if($n(Z[0],this,L))return $n(Z[1],this,L)}})}function kU(c){return iz(zi(c,w))}function Ow(c){return function(){return c}}function DU(c,p){return c==null||c!==c?p:c}var LU=uN(),MU=uN(!0);function Wr(c){return c}function _w(c){return Fx(typeof c=="function"?c:zi(c,w))}function zU(c){return $x(zi(c,w))}function BU(c,p){return Wx(c,zi(p,w))}var FU=Ot(function(c,p){return function(x){return td(x,c,p)}}),UU=Ot(function(c,p){return function(x){return td(c,x,p)}});function Aw(c,p,x){var L=jn(p),q=Lp(p,L);x==null&&!(pn(p)&&(q.length||!L.length))&&(x=p,p=c,c=this,q=Lp(p,jn(p)));var Z=!(pn(x)&&"chain"in x)||!!x.chain,se=Pa(c);return Qn(q,function(de){var pe=p[de];c[de]=pe,se&&(c.prototype[de]=function(){var xe=this.__chain__;if(Z||xe){var Ne=c(this.__wrapped__),Te=Ne.__actions__=Fr(this.__actions__);return Te.push({func:pe,args:arguments,thisArg:c}),Ne.__chain__=xe,Ne}return pe.apply(c,Br([this.value()],arguments))})}),c}function $U(){return Cn._===this&&(Cn._=Fy),this}function Rw(){}function WU(c){return c=xt(c),Ot(function(p){return jx(p,c)})}var jU=lw(Xt),KU=lw(Yu),qU=lw(Bl);function sI(c){return mw(c)?ds(Zo(c)):Sz(c)}function VU(c){return function(p){return c==null?n:Vl(c,p)}}var HU=fN(),GU=fN(!0);function Pw(){return[]}function kw(){return!1}function YU(){return{}}function XU(){return""}function JU(){return!0}function QU(c,p){if(c=xt(c),c<1||c>Y)return[];var x=ie,L=pr(c,ie);p=ot(p),c-=ie;for(var q=ps(L,p);++x<c;)p(x);return q}function ZU(c){return Ct(c)?Xt(c,Zo):ci(c)?[c]:Fr(TN(Ht(c)))}function e$(c){var p=++zy;return Ht(c)+p}var t$=$p(function(c,p){return c+p},0),n$=uw("ceil"),r$=$p(function(c,p){return c/p},1),i$=uw("floor");function o$(c){return c&&c.length?Dp(c,Wr,Gy):n}function a$(c,p){return c&&c.length?Dp(c,ot(p,2),Gy):n}function s$(c){return fs(c,Wr)}function l$(c,p){return fs(c,ot(p,2))}function u$(c){return c&&c.length?Dp(c,Wr,Qy):n}function c$(c,p){return c&&c.length?Dp(c,ot(p,2),Qy):n}var f$=$p(function(c,p){return c*p},1),d$=uw("round"),h$=$p(function(c,p){return c-p},0);function p$(c){return c&&c.length?hs(c,Wr):0}function m$(c,p){return c&&c.length?hs(c,ot(p,2)):0}return H.after=z2,H.ary=BN,H.assign=xF,H.assignIn=QN,H.assignInWith=em,H.assignWith=NF,H.at=IF,H.before=FN,H.bind=Sw,H.bindAll=RU,H.bindKey=UN,H.castArray=Y2,H.chain=LN,H.chunk=iB,H.compact=oB,H.concat=aB,H.cond=PU,H.conforms=kU,H.constant=Ow,H.countBy=p2,H.create=TF,H.curry=$N,H.curryRight=WN,H.debounce=jN,H.defaults=OF,H.defaultsDeep=_F,H.defer=B2,H.delay=F2,H.difference=sB,H.differenceBy=lB,H.differenceWith=uB,H.drop=cB,H.dropRight=fB,H.dropRightWhile=dB,H.dropWhile=hB,H.fill=pB,H.filter=g2,H.flatMap=w2,H.flatMapDeep=b2,H.flatMapDepth=S2,H.flatten=RN,H.flattenDeep=mB,H.flattenDepth=gB,H.flip=U2,H.flow=LU,H.flowRight=MU,H.fromPairs=vB,H.functions=MF,H.functionsIn=zF,H.groupBy=E2,H.initial=wB,H.intersection=bB,H.intersectionBy=SB,H.intersectionWith=EB,H.invert=FF,H.invertBy=UF,H.invokeMap=x2,H.iteratee=_w,H.keyBy=N2,H.keys=jn,H.keysIn=$r,H.map=Gp,H.mapKeys=WF,H.mapValues=jF,H.matches=zU,H.matchesProperty=BU,H.memoize=Xp,H.merge=KF,H.mergeWith=ZN,H.method=FU,H.methodOf=UU,H.mixin=Aw,H.negate=Jp,H.nthArg=WU,H.omit=qF,H.omitBy=VF,H.once=$2,H.orderBy=I2,H.over=jU,H.overArgs=W2,H.overEvery=KU,H.overSome=qU,H.partial=Ew,H.partialRight=KN,H.partition=T2,H.pick=HF,H.pickBy=eI,H.property=sI,H.propertyOf=VU,H.pull=IB,H.pullAll=kN,H.pullAllBy=TB,H.pullAllWith=OB,H.pullAt=_B,H.range=HU,H.rangeRight=GU,H.rearg=j2,H.reject=A2,H.remove=AB,H.rest=K2,H.reverse=ww,H.sampleSize=P2,H.set=YF,H.setWith=XF,H.shuffle=k2,H.slice=RB,H.sortBy=M2,H.sortedUniq=BB,H.sortedUniqBy=FB,H.split=wU,H.spread=q2,H.tail=UB,H.take=$B,H.takeRight=WB,H.takeRightWhile=jB,H.takeWhile=KB,H.tap=o2,H.throttle=V2,H.thru=Hp,H.toArray=YN,H.toPairs=tI,H.toPairsIn=nI,H.toPath=ZU,H.toPlainObject=JN,H.transform=JF,H.unary=H2,H.union=qB,H.unionBy=VB,H.unionWith=HB,H.uniq=GB,H.uniqBy=YB,H.uniqWith=XB,H.unset=QF,H.unzip=bw,H.unzipWith=DN,H.update=ZF,H.updateWith=eU,H.values=dc,H.valuesIn=tU,H.without=JB,H.words=oI,H.wrap=G2,H.xor=QB,H.xorBy=ZB,H.xorWith=e2,H.zip=t2,H.zipObject=n2,H.zipObjectDeep=r2,H.zipWith=i2,H.entries=tI,H.entriesIn=nI,H.extend=QN,H.extendWith=em,Aw(H,H),H.add=t$,H.attempt=aI,H.camelCase=oU,H.capitalize=rI,H.ceil=n$,H.clamp=nU,H.clone=X2,H.cloneDeep=Q2,H.cloneDeepWith=Z2,H.cloneWith=J2,H.conformsTo=eF,H.deburr=iI,H.defaultTo=DU,H.divide=r$,H.endsWith=aU,H.eq=vo,H.escape=sU,H.escapeRegExp=lU,H.every=m2,H.find=v2,H.findIndex=_N,H.findKey=AF,H.findLast=y2,H.findLastIndex=AN,H.findLastKey=RF,H.floor=i$,H.forEach=MN,H.forEachRight=zN,H.forIn=PF,H.forInRight=kF,H.forOwn=DF,H.forOwnRight=LF,H.get=Nw,H.gt=tF,H.gte=nF,H.has=BF,H.hasIn=Iw,H.head=PN,H.identity=Wr,H.includes=C2,H.indexOf=yB,H.inRange=rU,H.invoke=$F,H.isArguments=Yl,H.isArray=Ct,H.isArrayBuffer=rF,H.isArrayLike=Ur,H.isArrayLikeObject=Nn,H.isBoolean=iF,H.isBuffer=xs,H.isDate=oF,H.isElement=aF,H.isEmpty=sF,H.isEqual=lF,H.isEqualWith=uF,H.isError=Cw,H.isFinite=cF,H.isFunction=Pa,H.isInteger=qN,H.isLength=Qp,H.isMap=VN,H.isMatch=fF,H.isMatchWith=dF,H.isNaN=hF,H.isNative=pF,H.isNil=gF,H.isNull=mF,H.isNumber=HN,H.isObject=pn,H.isObjectLike=vn,H.isPlainObject=sd,H.isRegExp=xw,H.isSafeInteger=vF,H.isSet=GN,H.isString=Zp,H.isSymbol=ci,H.isTypedArray=fc,H.isUndefined=yF,H.isWeakMap=wF,H.isWeakSet=bF,H.join=CB,H.kebabCase=uU,H.last=Fi,H.lastIndexOf=xB,H.lowerCase=cU,H.lowerFirst=fU,H.lt=SF,H.lte=EF,H.max=o$,H.maxBy=a$,H.mean=s$,H.meanBy=l$,H.min=u$,H.minBy=c$,H.stubArray=Pw,H.stubFalse=kw,H.stubObject=YU,H.stubString=XU,H.stubTrue=JU,H.multiply=f$,H.nth=NB,H.noConflict=$U,H.noop=Rw,H.now=Yp,H.pad=dU,H.padEnd=hU,H.padStart=pU,H.parseInt=mU,H.random=iU,H.reduce=O2,H.reduceRight=_2,H.repeat=gU,H.replace=vU,H.result=GF,H.round=d$,H.runInContext=he,H.sample=R2,H.size=D2,H.snakeCase=yU,H.some=L2,H.sortedIndex=PB,H.sortedIndexBy=kB,H.sortedIndexOf=DB,H.sortedLastIndex=LB,H.sortedLastIndexBy=MB,H.sortedLastIndexOf=zB,H.startCase=bU,H.startsWith=SU,H.subtract=h$,H.sum=p$,H.sumBy=m$,H.template=EU,H.times=QU,H.toFinite=ka,H.toInteger=xt,H.toLength=XN,H.toLower=CU,H.toNumber=Ui,H.toSafeInteger=CF,H.toString=Ht,H.toUpper=xU,H.trim=NU,H.trimEnd=IU,H.trimStart=TU,H.truncate=OU,H.unescape=_U,H.uniqueId=e$,H.upperCase=AU,H.upperFirst=Tw,H.each=MN,H.eachRight=zN,H.first=PN,Aw(H,function(){var c={};return Jo(H,function(p,x){Kt.call(H.prototype,x)||(c[x]=p)}),c}(),{chain:!1}),H.VERSION=r,Qn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){H[c].placeholder=H}),Qn(["drop","take"],function(c,p){At.prototype[c]=function(x){x=x===n?1:kn(xt(x),0);var L=this.__filtered__&&!p?new At(this):this.clone();return L.__filtered__?L.__takeCount__=pr(x,L.__takeCount__):L.__views__.push({size:pr(x,ie),type:c+(L.__dir__<0?"Right":"")}),L},At.prototype[c+"Right"]=function(x){return this.reverse()[c](x).reverse()}}),Qn(["filter","map","takeWhile"],function(c,p){var x=p+1,L=x==V||x==ne;At.prototype[c]=function(q){var Z=this.clone();return Z.__iteratees__.push({iteratee:ot(q,3),type:x}),Z.__filtered__=Z.__filtered__||L,Z}}),Qn(["head","last"],function(c,p){var x="take"+(p?"Right":"");At.prototype[c]=function(){return this[x](1).value()[0]}}),Qn(["initial","tail"],function(c,p){var x="drop"+(p?"":"Right");At.prototype[c]=function(){return this.__filtered__?new At(this):this[x](1)}}),At.prototype.compact=function(){return this.filter(Wr)},At.prototype.find=function(c){return this.filter(c).head()},At.prototype.findLast=function(c){return this.reverse().find(c)},At.prototype.invokeMap=Ot(function(c,p){return typeof c=="function"?new At(this):this.map(function(x){return td(x,c,p)})}),At.prototype.reject=function(c){return this.filter(Jp(ot(c)))},At.prototype.slice=function(c,p){c=xt(c);var x=this;return x.__filtered__&&(c>0||p<0)?new At(x):(c<0?x=x.takeRight(-c):c&&(x=x.drop(c)),p!==n&&(p=xt(p),x=p<0?x.dropRight(-p):x.take(p-c)),x)},At.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},At.prototype.toArray=function(){return this.take(ie)},Jo(At.prototype,function(c,p){var x=/^(?:filter|find|map|reject)|While$/.test(p),L=/^(?:head|last)$/.test(p),q=H[L?"take"+(p=="last"?"Right":""):p],Z=L||/^find/.test(p);!q||(H.prototype[p]=function(){var se=this.__wrapped__,de=L?[1]:arguments,pe=se instanceof At,xe=de[0],Ne=pe||Ct(se),Te=function(_t){var kt=q.apply(H,Br([_t],de));return L&&Ue?kt[0]:kt};Ne&&x&&typeof xe=="function"&&xe.length!=1&&(pe=Ne=!1);var Ue=this.__chain__,tt=!!this.__actions__.length,lt=Z&&!Ue,It=pe&&!tt;if(!Z&&Ne){se=It?se:new At(this);var ut=c.apply(se,de);return ut.__actions__.push({func:Hp,args:[Te],thisArg:n}),new Mi(ut,Ue)}return lt&&It?c.apply(this,de):(ut=this.thru(Te),lt?L?ut.value()[0]:ut.value():ut)})}),Qn(["pop","push","shift","sort","splice","unshift"],function(c){var p=tc[c],x=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",L=/^(?:pop|shift)$/.test(c);H.prototype[c]=function(){var q=arguments;if(L&&!this.__chain__){var Z=this.value();return p.apply(Ct(Z)?Z:[],q)}return this[x](function(se){return p.apply(Ct(se)?se:[],q)})}}),Jo(At.prototype,function(c,p){var x=H[p];if(x){var L=x.name+"";Kt.call(ac,L)||(ac[L]=[]),ac[L].push({name:p,func:x})}}),ac[Up(n,E).name]=[{name:"wrapper",func:n}],At.prototype.clone=_M,At.prototype.reverse=AM,At.prototype.value=RM,H.prototype.at=a2,H.prototype.chain=s2,H.prototype.commit=l2,H.prototype.next=u2,H.prototype.plant=f2,H.prototype.reverse=d2,H.prototype.toJSON=H.prototype.valueOf=H.prototype.value=h2,H.prototype.first=H.prototype.head,Se&&(H.prototype[Se]=c2),H},gs=Dy();ho?((ho.exports=gs)._=gs,Pl._=gs):Cn._=gs}).call(An)})(Rg,Rg.exports);var Lu=Rg.exports,KR={};(function(e){var t=An&&An.__extends||function(){var f=function(a,l){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var C in g)g.hasOwnProperty(C)&&(d[C]=g[C])},f(a,l)};return function(a,l){f(a,l);function d(){this.constructor=a}a.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),n=An&&An.__assign||function(){return n=Object.assign||function(f){for(var a,l=1,d=arguments.length;l<d;l++){a=arguments[l];for(var g in a)Object.prototype.hasOwnProperty.call(a,g)&&(f[g]=a[g])}return f},n.apply(this,arguments)},r=An&&An.__spreadArrays||function(){for(var f=0,a=0,l=arguments.length;a<l;a++)f+=arguments[a].length;for(var d=Array(f),g=0,a=0;a<l;a++)for(var C=arguments[a],D=0,$=C.length;D<$;D++,g++)d[g]=C[D];return d};Object.defineProperty(e,"__esModule",{value:!0});var i;(function(f){f[f.RESTRICT=0]="RESTRICT",f[f.CASCADE=1]="CASCADE"})(i=e.ConstraintAction||(e.ConstraintAction={}));var o;(function(f){f[f.IMMEDIATE=0]="IMMEDIATE",f[f.DEFERRABLE=1]="DEFERRABLE"})(o=e.ConstraintTiming||(e.ConstraintTiming={}));var s;(function(f){f[f.INDEXED_DB=0]="INDEXED_DB",f[f.MEMORY=1]="MEMORY",f[f.LOCAL_STORAGE=2]="LOCAL_STORAGE",f[f.FIREBASE=3]="FIREBASE",f[f.WEB_SQL=4]="WEB_SQL",f[f.OBSERVABLE_STORE=5]="OBSERVABLE_STORE"})(s=e.DataStoreType||(e.DataStoreType={}));var u;(function(f){f[f.DESC=0]="DESC",f[f.ASC=1]="ASC"})(u=e.Order||(e.Order={}));var h;(function(f){f[f.ARRAY_BUFFER=0]="ARRAY_BUFFER",f[f.BOOLEAN=1]="BOOLEAN",f[f.DATE_TIME=2]="DATE_TIME",f[f.INTEGER=3]="INTEGER",f[f.NUMBER=4]="NUMBER",f[f.STRING=5]="STRING",f[f.OBJECT=6]="OBJECT"})(h=e.Type||(e.Type={}));var m=new Map([[h.ARRAY_BUFFER,null],[h.BOOLEAN,!1],[h.DATE_TIME,Object.freeze(new Date(0))],[h.INTEGER,0],[h.NUMBER,0],[h.STRING,""],[h.OBJECT,null]]),v;(function(f){f[f.READ_ONLY=0]="READ_ONLY",f[f.READ_WRITE=1]="READ_WRITE"})(v=e.TransactionType||(e.TransactionType={}));var w;(function(f){f[f.SYSTEM_ERROR=0]="SYSTEM_ERROR",f[f.VERSION_MISMATCH=1]="VERSION_MISMATCH",f[f.CONNECTION_CLOSED=2]="CONNECTION_CLOSED",f[f.TIMEOUT=3]="TIMEOUT",f[f.OPERATION_BLOCKED=4]="OPERATION_BLOCKED",f[f.QUOTA_EXCEEDED=5]="QUOTA_EXCEEDED",f[f.TOO_MANY_ROWS=6]="TOO_MANY_ROWS",f[f.SERVICE_NOT_FOUND=7]="SERVICE_NOT_FOUND",f[f.UNKNOWN_PLAN_NODE=8]="UNKNOWN_PLAN_NODE",f[f.DATA_ERROR=100]="DATA_ERROR",f[f.TABLE_NOT_FOUND=101]="TABLE_NOT_FOUND",f[f.DATA_CORRUPTION=102]="DATA_CORRUPTION",f[f.INVALID_ROW_ID=103]="INVALID_ROW_ID",f[f.INVALID_TX_ACCESS=105]="INVALID_TX_ACCESS",f[f.OUT_OF_SCOPE=106]="OUT_OF_SCOPE",f[f.INVALID_TX_STATE=107]="INVALID_TX_STATE",f[f.INCOMPATIBLE_DB=108]="INCOMPATIBLE_DB",f[f.ROW_ID_EXISTED=109]="ROW_ID_EXISTED",f[f.IMPORT_TO_NON_EMPTY_DB=110]="IMPORT_TO_NON_EMPTY_DB",f[f.DB_MISMATCH=111]="DB_MISMATCH",f[f.IMPORT_DATA_NOT_FOUND=112]="IMPORT_DATA_NOT_FOUND",f[f.ALREADY_CONNECTED=113]="ALREADY_CONNECTED",f[f.CONSTRAINT_ERROR=200]="CONSTRAINT_ERROR",f[f.DUPLICATE_KEYS=201]="DUPLICATE_KEYS",f[f.NOT_NULLABLE=202]="NOT_NULLABLE",f[f.FK_VIOLATION=203]="FK_VIOLATION",f[f.NOT_SUPPORTED=300]="NOT_SUPPORTED",f[f.FB_NO_RAW_TX=351]="FB_NO_RAW_TX",f[f.IDB_NOT_PROVIDED=352]="IDB_NOT_PROVIDED",f[f.WEBSQL_NOT_PROVIDED=353]="WEBSQL_NOT_PROVIDED",f[f.CANT_OPEN_WEBSQL_DB=354]="CANT_OPEN_WEBSQL_DB",f[f.NO_CHANGE_NOTIFICATION=355]="NO_CHANGE_NOTIFICATION",f[f.NO_WEBSQL_TX=356]="NO_WEBSQL_TX",f[f.NO_PRED_IN_TOSQL=357]="NO_PRED_IN_TOSQL",f[f.NOT_IMPL_IN_TOSQL=358]="NOT_IMPL_IN_TOSQL",f[f.LOCAL_STORAGE_NOT_PROVIDED=359]="LOCAL_STORAGE_NOT_PROVIDED",f[f.NOT_IMPLEMENTED=360]="NOT_IMPLEMENTED",f[f.CANT_OPEN_IDB=361]="CANT_OPEN_IDB",f[f.SYNTAX_ERROR=500]="SYNTAX_ERROR",f[f.UNBOUND_VALUE=501]="UNBOUND_VALUE",f[f.INVALID_NAME=502]="INVALID_NAME",f[f.NAME_IN_USE=503]="NAME_IN_USE",f[f.INVALID_AUTO_KEY_TYPE=504]="INVALID_AUTO_KEY_TYPE",f[f.INVALID_AUTO_KEY_COLUMN=505]="INVALID_AUTO_KEY_COLUMN",f[f.IMMEDIATE_EVAL_ONLY=506]="IMMEDIATE_EVAL_ONLY",f[f.COLUMN_NOT_FOUND=508]="COLUMN_NOT_FOUND",f[f.COLUMN_NOT_INDEXABLE=509]="COLUMN_NOT_INDEXABLE",f[f.BIND_ARRAY_OUT_OF_RANGE=510]="BIND_ARRAY_OUT_OF_RANGE",f[f.CANT_GET_IDB_TABLE=511]="CANT_GET_IDB_TABLE",f[f.CANT_GET_WEBSQL_TABLE=512]="CANT_GET_WEBSQL_TABLE",f[f.UNKNOWN_QUERY_CONTEXT=513]="UNKNOWN_QUERY_CONTEXT",f[f.UNKNOWN_NODE_TYPE=514]="UNKNOWN_NODE_TYPE",f[f.DUPLICATE_FROM=515]="DUPLICATE_FROM",f[f.DUPLICATE_WHERE=516]="DUPLICATE_WHERE",f[f.INVALID_DELETE=517]="INVALID_DELETE",f[f.INVALID_INSERT=518]="INVALID_INSERT",f[f.INVALID_INSERT_OR_REPLACE=519]="INVALID_INSERT_OR_REPLACE",f[f.DUPLICATE_INTO=520]="DUPLICATE_INTO",f[f.DUPLICATE_VALUES=521]="DUPLICATE_VALUES",f[f.INVALID_SELECT=522]="INVALID_SELECT",f[f.UNBOUND_LIMIT_SKIP=523]="UNBOUND_LIMIT_SKIP",f[f.INVALID_DISTINCT=524]="INVALID_DISTINCT",f[f.INVALID_GROUPBY=525]="INVALID_GROUPBY",f[f.INVALID_PROJECTION=526]="INVALID_PROJECTION",f[f.INVALID_AGGREGATION=527]="INVALID_AGGREGATION",f[f.DUPLICATE_LIMIT=528]="DUPLICATE_LIMIT",f[f.DUPLICATE_SKIP=529]="DUPLICATE_SKIP",f[f.DUPLICATE_GROUPBY=530]="DUPLICATE_GROUPBY",f[f.NEGATIVE_LIMIT_SKIP=531]="NEGATIVE_LIMIT_SKIP",f[f.INVALID_UPDATE=532]="INVALID_UPDATE",f[f.FK_LOOP=533]="FK_LOOP",f[f.FK_COLUMN_IN_USE=534]="FK_COLUMN_IN_USE",f[f.SCHEMA_FINALIZED=535]="SCHEMA_FINALIZED",f[f.INVALID_FK_TABLE=536]="INVALID_FK_TABLE",f[f.INVALID_FK_COLUMN=537]="INVALID_FK_COLUMN",f[f.INVALID_FK_COLUMN_TYPE=538]="INVALID_FK_COLUMN_TYPE",f[f.FK_COLUMN_NONUNIQUE=539]="FK_COLUMN_NONUNIQUE",f[f.INVALID_FK_REF=540]="INVALID_FK_REF",f[f.INVALID_OUTER_JOIN=541]="INVALID_OUTER_JOIN",f[f.MISSING_FROM_BEFORE_JOIN=542]="MISSING_FROM_BEFORE_JOIN",f[f.PK_CANT_BE_FK=543]="PK_CANT_BE_FK",f[f.DUPLICATE_PK=544]="DUPLICATE_PK",f[f.NULLABLE_PK=545]="NULLABLE_PK",f[f.DUPLICATE_NAME=546]="DUPLICATE_NAME",f[f.INVALID_WHERE=547]="INVALID_WHERE",f[f.FROM_AFTER_WHERE=548]="FROM_AFTER_WHERE",f[f.FROM_AFTER_ORDER_GROUPBY=549]="FROM_AFTER_ORDER_GROUPBY",f[f.INVALID_PREDICATE=550]="INVALID_PREDICATE",f[f.TEST_ERROR=900]="TEST_ERROR",f[f.ASSERTION=998]="ASSERTION",f[f.SIMULATED_ERROR=999]="SIMULATED_ERROR"})(w=e.ErrorCode||(e.ErrorCode={}));var b;(function(f){f[f.RHS=-1]="RHS",f[f.TIE=0]="TIE",f[f.LHS=1]="LHS"})(b||(b={}));var N;(function(f){f[f.DATA=0]="DATA",f[f.INDEX=1]="INDEX"})(N||(N={}));var T;(function(f){f[f.NO_CHILD=-1]="NO_CHILD",f[f.ALL=0]="ALL",f[f.FIRST_CHILD=1]="FIRST_CHILD"})(T||(T={}));var R;(function(f){f[f.EXCLUSIVE=0]="EXCLUSIVE",f[f.RESERVED_READ_ONLY=1]="RESERVED_READ_ONLY",f[f.RESERVED_READ_WRITE=2]="RESERVED_READ_WRITE",f[f.SHARED=3]="SHARED"})(R||(R={}));var S;(function(f){f[f.EXPORT_TASK=0]="EXPORT_TASK",f[f.IMPORT_TASK=0]="IMPORT_TASK",f[f.OBSERVER_QUERY_TASK=0]="OBSERVER_QUERY_TASK",f[f.EXTERNAL_CHANGE_TASK=1]="EXTERNAL_CHANGE_TASK",f[f.USER_QUERY_TASK=2]="USER_QUERY_TASK",f[f.TRANSACTION_TASK=2]="TRANSACTION_TASK"})(S||(S={}));var E;(function(f){f.AVG="AVG",f.COUNT="COUNT",f.DISTINCT="DISTINCT",f.GEOMEAN="GEOMEAN",f.MAX="MAX",f.MIN="MIN",f.STDDEV="STDDEV",f.SUM="SUM"})(E||(E={}));var I;(function(f){f.AND="and",f.OR="or"})(I||(I={}));var P=function(){function f(){}return f}(),O=function(){function f(a,l,d,g){this.from=a,this.to=l,this.excludeLower=f.isUnbound(this.from)?!1:d,this.excludeUpper=f.isUnbound(this.to)?!1:g}return f.isUnbound=function(a){return a===f.UNBOUND_VALUE},f.upperBound=function(a,l){return l===void 0&&(l=!1),new f(f.UNBOUND_VALUE,a,!1,l)},f.lowerBound=function(a,l){return l===void 0&&(l=!1),new f(a,f.UNBOUND_VALUE,l,!1)},f.only=function(a){return new f(a,a,!1,!1)},f.all=function(){return new f(f.UNBOUND_VALUE,f.UNBOUND_VALUE,!1,!1)},f.xor=function(a,l){return a?!l:l},f.compare=function(a,l){var d=f.compareKey(a.from,l.from,!0,a.excludeLower,l.excludeLower);return d===b.TIE&&(d=f.compareKey(a.to,l.to,!1,a.excludeUpper,l.excludeUpper)),d},f.getBoundingRange=function(a,l){var d=f.UNBOUND_VALUE,g=f.UNBOUND_VALUE,C=!1,D=!1;if(!f.isUnbound(a.from)&&!f.isUnbound(l.from)){var $=f.compareKey(a.from,l.from,!0);$!==b.LHS?(d=a.from,C=$!==b.TIE?a.excludeLower:a.excludeLower&&l.excludeLower):(d=l.from,C=l.excludeLower)}if(!f.isUnbound(a.to)&&!f.isUnbound(l.to)){var $=f.compareKey(a.to,l.to,!1);$!==b.RHS?(g=a.to,D=$!==b.TIE?a.excludeUpper:a.excludeUpper&&l.excludeUpper):(g=l.to,D=l.excludeUpper)}return new f(d,g,C,D)},f.and=function(a,l){if(!a.overlaps(l))return null;var d=f.compareKey(a.from,l.from,!0),g=d===b.TIE?a.excludeLower?a:l:d!==b.RHS?a:l,C;return f.isUnbound(a.to)||f.isUnbound(l.to)?C=f.isUnbound(a.to)?l:a:(d=f.compareKey(a.to,l.to,!1),C=d===b.TIE?a.excludeUpper?a:l:d===b.RHS?a:l),new f(g.from,C.to,g.excludeLower,C.excludeUpper)},f.complement=function(a){if(a.length===0)return f.EMPTY_RANGE;a.sort(f.compare);for(var l=new Array(a.length+1),d=0;d<l.length;d++)d===0?l[d]=f.upperBound(a[d].from,!0):d===l.length-1?l[d]=f.lowerBound(a[d-1].to,!0):l[d]=new f(a[d-1].to,a[d].from,!0,!0);return l},f.compareKey=function(a,l,d,g,C){g===void 0&&(g=!1),C===void 0&&(C=!1);var D=function(ee){return d?ee:ee===b.LHS?b.RHS:b.LHS},$=function(){return f.xor(g,C)?D(g?b.LHS:b.RHS):b.TIE};return f.isUnbound(a)?f.isUnbound(l)?$():D(b.RHS):f.isUnbound(l)?D(b.LHS):a<l?b.RHS:a===l?$():b.LHS},f.prototype.toString=function(){return(this.excludeLower?"(":"[")+(f.isUnbound(this.from)?"unbound":this.from)+", "+(f.isUnbound(this.to)?"unbound":this.to)+(this.excludeUpper?")":"]")},f.prototype.complement=function(){if(this.isAll())return f.EMPTY_RANGE;var a=null,l=null;return f.isUnbound(this.from)||(a=new f(f.UNBOUND_VALUE,this.from,!1,!this.excludeLower)),f.isUnbound(this.to)||(l=new f(this.to,f.UNBOUND_VALUE,!this.excludeUpper,!1)),[a,l].filter(function(d){return d!==null})},f.prototype.reverse=function(){return new f(this.to,this.from,this.excludeUpper,this.excludeLower)},f.prototype.overlaps=function(a){var l=f.compareKey(this.from,a.from,!0,this.excludeLower,a.excludeLower);if(l===b.TIE)return!0;var d=l===b.RHS?this:a,g=l===b.LHS?this:a;return f.isUnbound(d.to)||d.to>g.from||d.to===g.from&&!d.excludeUpper&&!g.excludeLower},f.prototype.isAll=function(){return f.isUnbound(this.from)&&f.isUnbound(this.to)},f.prototype.isOnly=function(){return this.from===this.to&&!f.isUnbound(this.from)&&!this.excludeLower&&!this.excludeUpper},f.prototype.contains=function(a){var l=f.isUnbound(this.from)||a>this.from||a===this.from&&!this.excludeLower,d=f.isUnbound(this.to)||a<this.to||a===this.to&&!this.excludeUpper;return l&&d},f.prototype.getBounded=function(a,l){if(f.isUnbound(this.from)&&!this.contains(a)||f.isUnbound(this.to)&&!this.contains(l))return null;var d=a,g=l,C=!1,D=!1;return!f.isUnbound(this.from)&&this.from>=a&&(d=this.from,C=this.excludeLower),!f.isUnbound(this.to)&&this.to<=l&&(g=this.to,D=this.excludeUpper),d>g||d===g&&(D||C)?null:new f(d,g,C,D)},f.prototype.equals=function(a){return this.from===a.from&&this.excludeLower===a.excludeLower&&this.to===a.to&&this.excludeUpper===a.excludeUpper},f.UNBOUND_VALUE=new P,f.EMPTY_RANGE=[],f}(),B=function(){function f(a,l){this.id_=a,this.payload_=l||this.defaultPayload()}return f.getNextId=function(){return f.nextId++},f.setNextId=function(a){f.nextId=a},f.setNextIdIfGreater=function(a){f.nextId=Math.max(f.nextId,a)},f.deserialize=function(a){return new f(a.id,a.value)},f.create=function(a){return new f(f.getNextId(),a||{})},f.binToHex=function(a){if(a===null)return null;var l=new Uint8Array(a),d="";return l.forEach(function(g){var C=g.toString(16);d+=C.length<2?"0"+C:C}),d},f.hexToBin=function(a){if(a===null||a==="")return null;a.length%2!==0&&(a="0"+a);for(var l=new ArrayBuffer(a.length/2),d=new Uint8Array(l),g=0,C=0;g<a.length;g+=2)d[C++]=Number("0x"+a.substr(g,2))&255;return l},f.prototype.id=function(){return this.id_},f.prototype.assignRowId=function(a){this.id_=a},f.prototype.payload=function(){return this.payload_},f.prototype.defaultPayload=function(){return{}},f.prototype.toDbPayload=function(){return this.payload_},f.prototype.serialize=function(){return{id:this.id_,value:this.toDbPayload()}},f.prototype.keyOfIndex=function(a){return a.substr(-1)==="#"?this.id_:null},f.DUMMY_ID=-1,f.nextId=f.DUMMY_ID+1,f}(),A=function(){function f(){this.debugMode=!1,this.memoryOnly=!1,this.exceptionUrl=f.url}return f.prototype.errorMessage=function(a){return a.toString()},f.url="http://google.github.io/lovefield/error_lookup/src/error_lookup.html?c=",f}(),z=function(){function f(){}return f.set=function(a){var l=a||new A;typeof l.exceptionUrl!="string"&&(l.exceptionUrl=A.url),typeof l.errorMessage!="function"&&(l.errorMessage=function(d){return d.toString()}),F.get().setOptions(l)},f}();e.options=z;var M=function(){function f(a){this.serviceId=a}return f.prototype.toString=function(){return this.serviceId},f.prototype.getAsType=function(){return{}},f}(),F=function(){function f(){this.services=new Map}return f.get=function(){return f.instance||(f.instance=new f),f.instance.opt||f.instance.setOptions(new A),f.instance},f.prototype.clear=function(){this.services.clear()},f.prototype.registerService=function(a,l){return this.services.set(a.toString(),l),l},f.prototype.getService=function(a){var l=this.services.get(a.toString());if(!l)throw new U(w.SERVICE_NOT_FOUND,a.toString());return l},f.prototype.isRegistered=function(a){return this.services.has(a.toString())},f.prototype.listServices=function(){return Array.from(this.services.keys())},f.prototype.getOptions=function(){return this.opt},f.prototype.setOptions=function(a){this.opt=a},f}(),U=function(){function f(a){for(var l=[],d=1;d<arguments.length;d++)l[d-1]=arguments[d];if(this.code=a,this.args=l,this.message=F.get().getOptions().exceptionUrl+a.toString(),l.length)for(var g=0;g<Math.min(4,l.length);++g){var C=encodeURIComponent(String(l[g]).slice(0,64));F.get().getOptions().exceptionUrl.length?this.message+="&p"+g+"="+C:this.message+="|"+C}}return f.prototype.toString=function(){var a=this,l=F.get().getOptions().errorMessage(this.code)||this.code.toString();return l.replace(/{([^}]+)}/g,function(d,g){return a.args[Number(g)]})},f}();function W(f,a){if(a===void 0&&(a="assertion failed"),F.get().getOptions().debugMode&&!f)throw new U(w.ASSERTION,a)}function G(f){return new te(f)}e.bind=G;var te=function(){function f(a){this.index=a}return f.prototype.getIndex=function(){return this.index},f}();e.Binder=te;function V(f,a){if(a.size>f.size)return!1;var l=!0;return a.forEach(function(d){return l=l&&f.has(d)}),l}function oe(f,a){return f.size===a.size&&V(f,a)}var ne=function(){function f(a,l,d){this.childTable=l;var g=a.ref.split(".");if(g.length!==2)throw new U(w.INVALID_FK_REF,d);this.childColumn=a.local,this.parentTable=g[0],this.parentColumn=g[1],this.name=l+"."+d,this.action=a.action||i.RESTRICT,this.timing=a.timing||o.IMMEDIATE}return f}(),J=function(){function f(a,l,d,g){this.tableName=a,this.name=l,this.isUnique=d,this.columns=g}return f.prototype.getNormalizedName=function(){return this.tableName+"."+this.name},f.prototype.hasNullableColumn=function(){return this.columns.some(function(a){return a.schema.isNullable()})},f}(),Y=function(){function f(a,l,d){this.primaryKey=a,this.notNullable=l,this.foreignKeys=d}return f.prototype.getPrimaryKey=function(){return this.primaryKey},f.prototype.getNotNullable=function(){return this.notNullable},f.prototype.getForeignKeys=function(){return this.foreignKeys},f}(),X=function(){function f(a,l){this.row=a,this.isPrefixApplied=l,this.id=f.getNextId()}return f.combineEntries=function(a,l,d,g){var C={},D=function(ee,ue){if(ee.isPrefixApplied){var me=ee.row.payload();Array.from(Object.keys(me)).forEach(function(Oe){C[Oe]=me[Oe]})}else W(!Object.prototype.hasOwnProperty.call(C,ue[0]),"Attempted to join table with itself, without using table alias, or same alias "+ue[0]+"is reused for multiple tables."),C[ue[0]]=ee.row.payload()};D(a,l),D(d,g);var $=new B(B.DUMMY_ID,C);return new f($,!0)},f.getNextId=function(){return f.nextId++},f.prototype.getField=function(a){var l=a,d=l.getAlias();return d!==null&&Object.prototype.hasOwnProperty.call(this.row.payload(),d)?this.row.payload()[d]:this.isPrefixApplied?this.row.payload()[l.getTable().getEffectiveName()][l.getName()]:this.row.payload()[l.getName()]},f.prototype.setField=function(a,l){var d=a,g=d.getAlias();if(g!==null){this.row.payload()[g]=l;return}if(this.isPrefixApplied){var C=d.getTable().getEffectiveName(),D=this.row.payload()[C];D==null&&(D={},this.row.payload()[C]=D),D[d.getName()]=l}else this.row.payload()[d.getName()]=l},f.nextId=0,f}(),re=function(){function f(a,l){this.entries=a,this.tables=new Set(l),this.aggregationResults=null}return f.createEmpty=function(){return f.emptyRelation===null&&(f.emptyRelation=new f([],[])),f.emptyRelation},f.intersect=function(a){if(a.length===0)return f.createEmpty();var l=a.reduce(function($,ee){return f.assertCompatible(a[0],ee),$+ee.entries.length},0),d=new Array(l),g=0,C=a.map(function($){var ee=new Map;return $.entries.forEach(function(ue){d[g++]=ue,ee.set(ue.id,ue)}),ee}),D=new Map;return d.forEach(function($){var ee=C.every(function(ue){return ue.has($.id)});ee&&D.set($.id,$)}),new f(Array.from(D.values()),Array.from(a[0].tables.values()))},f.union=function(a){if(a.length===0)return f.createEmpty();var l=new Map;return a.forEach(function(d){f.assertCompatible(a[0],d),d.entries.forEach(function(g){return l.set(g.id,g)})}),new f(Array.from(l.values()),Array.from(a[0].tables.values()))},f.fromRows=function(a,l){var d=l.length>1,g=a.map(function(C){return new X(C,d)});return new f(g,l)},f.assertCompatible=function(a,l){W(a.isCompatible(l),"Intersection/union operations only apply to compatible relations.")},f.prototype.isCompatible=function(a){return oe(this.tables,a.tables)},f.prototype.getTables=function(){return Array.from(this.tables.values())},f.prototype.isPrefixApplied=function(){return this.tables.size>1},f.prototype.getPayloads=function(){return this.entries.map(function(a){return a.row.payload()})},f.prototype.getRowIds=function(){return this.entries.map(function(a){return a.row.id()})},f.prototype.setAggregationResult=function(a,l){this.aggregationResults===null&&(this.aggregationResults=new Map),this.aggregationResults.set(a.getNormalizedName(),l)},f.prototype.getAggregationResult=function(a){W(this.aggregationResults!==null,"getAggregationResult called before any results have been calculated.");var l=a.getNormalizedName(),d=this.aggregationResults.get(l);return W(d!==void 0,"Could not find result for "+l),d},f.prototype.hasAggregationResult=function(a){return this.aggregationResults!==null&&this.aggregationResults.has(a.getNormalizedName())},f.emptyRelation=null,f}(),ie=function(){function f(){this.totalRows=0,this.maxKeyEncountered=0}return f.prototype.add=function(a,l){this.totalRows+=l,this.maxKeyEncountered=this.maxKeyEncountered===null||a>this.maxKeyEncountered?a:this.maxKeyEncountered},f.prototype.remove=function(a,l){this.totalRows-=l},f.prototype.clear=function(){this.totalRows=0},f.prototype.updateFromList=function(a){var l=this;this.clear(),a.forEach(function(d){return l.totalRows+=d.totalRows})},f}(),ce=function(){function f(){}return f.prototype.getUniqueId=function(){return this.uniqueId===void 0&&(this.uniqueId="lf_"+this.getUniqueNumber()),this.uniqueId},f.prototype.getUniqueNumber=function(){return this.uniqueNumber===void 0&&(this.uniqueNumber=++f.nextId),this.uniqueNumber},f.nextId=0,f}(),ye=function(){function f(){this.parent=null,this.children=null}return f.prototype.getParent=function(){return this.parent},f.prototype.setParent=function(a){this.parent=a},f.prototype.getRoot=function(){for(var a=this;a.parent!==null;)a=a.parent;return a},f.prototype.getDepth=function(){for(var a=0,l=this;l.parent!==null;)a++,l=l.parent;return a},f.prototype.isLeaf=function(){return this.children===null},f.prototype.getChildren=function(){return this.children||f.EMPTY_ARRAY},f.prototype.getChildAt=function(a){return this.children&&a>=0&&a<this.children.length?this.getChildren()[a]:null},f.prototype.getChildCount=function(){return this.getChildren().length},f.prototype.addChildAt=function(a,l){W(a.parent===null),a.parent=this,this.children===null?this.children=[a]:(W(l>=0&&l<=this.children.length),this.children.splice(l,0,a))},f.prototype.addChild=function(a){W(a.parent===null),a.parent=this,this.children===null?this.children=[a]:this.children.push(a)},f.prototype.removeChildAt=function(a){if(this.children){var l=this.children[a];if(l)return l.parent=null,this.children.splice(a,1),this.children.length===0&&(this.children=null),l}return null},f.prototype.removeChild=function(a){return this.children?this.removeChildAt(this.children.indexOf(a)):null},f.prototype.replaceChildAt=function(a,l){if(W(a.parent===null),this.children){var d=this.getChildAt(l);if(d)return d.parent=null,a.parent=this,this.children[l]=a,d}return null},f.prototype.traverse=function(a){a(this)!==!1&&this.getChildren().forEach(function(l){return l.traverse(a)})},f.EMPTY_ARRAY=[],f}(),ge=function(f){t(a,f);function a(){var l=f.call(this)||this;return l.id=a.nextId++,l}return a.prototype.setId=function(l){this.id=l},a.prototype.getId=function(){return this.id},a.nextId=0,a}(ye),fe;(function(f){f.BETWEEN="between",f.EQ="eq",f.GTE="gte",f.GT="gt",f.IN="in",f.LTE="lte",f.LT="lt",f.MATCH="match",f.NEQ="neq"})(fe||(fe={}));function Me(f){return f}function je(){var f=new Map;return f.set(h.BOOLEAN,function(a){return a===null?null:a?1:0}),f.set(h.DATE_TIME,function(a){return a===null?null:a.getTime()}),f.set(h.INTEGER,Me),f.set(h.NUMBER,Me),f.set(h.STRING,Me),f}function Ae(){var f=new Map;return f.set(fe.EQ,function(a,l){return a===l}),f.set(fe.NEQ,function(a,l){return a!==l}),f}function _e(){var f=Ae();return f.set(fe.BETWEEN,function(a,l){return a===null||l[0]===null||l[1]===null?!1:a>=l[0]&&a<=l[1]}),f.set(fe.GTE,function(a,l){return a===null||l===null?!1:a>=l}),f.set(fe.GT,function(a,l){return a===null||l===null?!1:a>l}),f.set(fe.IN,function(a,l){return l.indexOf(a)!==-1}),f.set(fe.LTE,function(a,l){return a===null||l===null?!1:a<=l}),f.set(fe.LT,function(a,l){return a===null||l===null?!1:a<l}),f}var be=_e;function De(){var f=_e();return f.set(fe.MATCH,function(a,l){if(a===null||l===null)return!1;var d=new RegExp(l);return d.test(a)}),f}function Re(){var f=new Map,a=function(l){if(l!==null)throw new U(w.INVALID_PREDICATE)};return f.set(fe.EQ,function(l,d){return a(d),l===null}),f.set(fe.NEQ,function(l,d){return a(d),l!==null}),f}function Ge(){var f=new Map;return f.set(fe.BETWEEN,function(a,l){return a===null||l[0]===null||l[1]===null?!1:a.getTime()>=l[0].getTime()&&a.getTime()<=l[1].getTime()}),f.set(fe.EQ,function(a,l){var d=a===null?-1:a.getTime(),g=l===null?-1:l.getTime();return d===g}),f.set(fe.GTE,function(a,l){return a===null||l===null?!1:a.getTime()>=l.getTime()}),f.set(fe.GT,function(a,l){return a===null||l===null?!1:a.getTime()>l.getTime()}),f.set(fe.IN,function(a,l){return l.some(function(d){return d.getTime()===a.getTime()})}),f.set(fe.LTE,function(a,l){return a===null||l===null?!1:a.getTime()<=l.getTime()}),f.set(fe.LT,function(a,l){return a===null||l===null?!1:a.getTime()<l.getTime()}),f.set(fe.NEQ,function(a,l){var d=a===null?-1:a.getTime(),g=l===null?-1:l.getTime();return d!==g}),f}var ht=function(){function f(){this.keyOfIndexConversionMap=je(),this.evalMaps=new Map;var a=be();this.evalMaps.set(h.BOOLEAN,Ae()),this.evalMaps.set(h.DATE_TIME,Ge()),this.evalMaps.set(h.NUMBER,a),this.evalMaps.set(h.INTEGER,a),this.evalMaps.set(h.STRING,De()),this.evalMaps.set(h.OBJECT,Re())}return f.get=function(){return f.instance=f.instance||new f,f.instance},f.prototype.getEvaluator=function(a,l){var d=this.evalMaps.get(a)||null;if(d===null)throw new U(w.INVALID_PREDICATE);var g=d.get(l)||null;if(g===null)throw new U(w.INVALID_PREDICATE);return g},f.prototype.getKeyOfIndexEvaluator=function(a){var l=this.keyOfIndexConversionMap.get(a)||null;if(l===null)throw new U(w.NOT_SUPPORTED);return l},f}(),Dt=function(){function f(a){this.ranges=[],a&&this.add(a)}return f.intersect=function(a,l){var d=a.getValues().map(function(C){return l.getValues().map(function(D){return O.and(C,D)})}),g=[];return d.forEach(function(C){return g=g.concat(C)}),new f(g.filter(function(C){return C!==null}))},f.prototype.toString=function(){return this.ranges.map(function(a){return a.toString()}).join(",")},f.prototype.containsKey=function(a){return this.ranges.some(function(l){return l.contains(a)})},f.prototype.getValues=function(){return this.ranges},f.prototype.add=function(a){if(a.length!==0){var l=this.ranges.concat(a);if(l.length===1){this.ranges=l;return}l.sort(O.compare);for(var d=[],g=l[0],C=1;C<l.length;++C)g.overlaps(l[C])?g=O.getBoundingRange(g,l[C]):(d.push(g),g=l[C]);d.push(g),this.ranges=d}},f.prototype.equals=function(a){return this.ranges.length===a.ranges.length?this.ranges.length===0||this.ranges.every(function(l,d){return l.equals(a.ranges[d])}):!1},f.prototype.getBoundingRange=function(){if(this.ranges.length<=1)return this.ranges.length===0?null:this.ranges[0];var a=this.ranges.length-1;return O.getBoundingRange(this.ranges[0],this.ranges[a])},f}(),He=function(f){t(a,f);function a(l,d,g){var C=f.call(this)||this;return C.column=l,C.value=d,C.evaluatorType=g,C.evaluatorFn=ht.get().getEvaluator(C.column.getType(),C.evaluatorType),C.isComplement=!1,C.binder=d,C}return a.prototype.eval=function(l){var d=this;if(this.checkBinding(),this.evaluatorType===fe.IN)return this.evalAsIn(l);var g=l.entries.filter(function(C){return d.evaluatorFn(C.getField(d.column),d.value)!==d.isComplement});return new re(g,l.getTables())},a.prototype.setComplement=function(l){this.isComplement=l},a.prototype.copy=function(){var l=new a(this.column,this.value,this.evaluatorType);return l.binder=this.binder,l.isComplement=this.isComplement,l.setId(this.getId()),l},a.prototype.getColumns=function(l){return l?(l.push(this.column),l):[this.column]},a.prototype.getTables=function(l){var d=l||new Set;return d.add(this.column.getTable()),d},a.prototype.setBinder=function(l){this.binder=l},a.prototype.bind=function(l){var d=function(D){if(l.length<=D)throw new U(w.BIND_ARRAY_OUT_OF_RANGE)};if(this.binder instanceof te){var g=this.binder.index;d(g),this.value=l[g]}else if(Array.isArray(this.binder)){var C=this.binder;this.value=C.map(function(D){return D instanceof te?(d(D.index),l[D.index]):D})}},a.prototype.toString=function(){return"value_pred("+this.column.getNormalizedName()+" "+this.evaluatorType+(this.isComplement?"(complement)":"")+" "+this.value+")"},a.prototype.peek=function(){return this.value},a.prototype.isKeyRangeCompatible=function(){return this.checkBinding(),this.value!==null&&(this.evaluatorType===fe.BETWEEN||this.evaluatorType===fe.IN||this.evaluatorType===fe.EQ||this.evaluatorType===fe.GT||this.evaluatorType===fe.GTE||this.evaluatorType===fe.LT||this.evaluatorType===fe.LTE)},a.prototype.toKeyRange=function(){W(this.isKeyRangeCompatible(),"Could not convert predicate to key range.");var l=null;if(this.evaluatorType===fe.BETWEEN){var d=this.value;l=new O(this.getValueAsKey(d[0]),this.getValueAsKey(d[1]),!1,!1)}else if(this.evaluatorType===fe.IN){var d=this.value,g=d.map(function($){return O.only($)});return new Dt(this.isComplement?O.complement(g):g)}else{var C=this.getValueAsKey(this.value);this.evaluatorType===fe.EQ?l=O.only(C):this.evaluatorType===fe.GTE?l=O.lowerBound(C):this.evaluatorType===fe.GT?l=O.lowerBound(C,!0):this.evaluatorType===fe.LTE?l=O.upperBound(C):l=O.upperBound(C,!0)}return new Dt(this.isComplement?l.complement():[l])},a.prototype.checkBinding=function(){var l=!1;if(!(this.value instanceof te))if(Array.isArray(this.value)){var d=this.value;l=!d.some(function(g){return g instanceof te})}else l=!0;if(!l)throw new U(w.UNBOUND_VALUE)},a.prototype.evalAsIn=function(l){var d=this;W(this.evaluatorType===fe.IN,"ValuePredicate#evalAsIn_() called for wrong predicate type.");var g=new Set(this.value),C=function($){return $===null?!1:g.has($)!==d.isComplement},D=l.entries.filter(function($){return C($.getField(d.column))});return new re(D,l.getTables())},a.prototype.getValueAsKey=function(l){return this.column.getType()===h.DATE_TIME?l.getTime():l},a}(ge),le=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.schema=l,d.clonedFrom=null,d.where=null,d.predicateMap=null,d}return a.buildPredicateMap=function(l){var d=new Map;return l.traverse(function(g){var C=g;d.set(C.getId(),C)}),d},a.prototype.getPredicate=function(l){this.predicateMap===null&&this.where!==null&&(this.predicateMap=a.buildPredicateMap(this.where));var d=this.predicateMap.get(l);return W(d!==void 0),d},a.prototype.bind=function(l){return W(this.clonedFrom===null),this},a.prototype.bindValuesInSearchCondition=function(l){var d=this.where;d!==null&&d.traverse(function(g){g instanceof He&&g.bind(l)})},a.prototype.cloneBase=function(l){l.where&&(this.where=l.where.copy()),this.clonedFrom=l},a}(ce),ve=function(f){t(a,f);function a(l,d){var g=f.call(this)||this;return g.numRelations=l,g.execType=d,g}return a.prototype.exec=function(l,d){switch(this.execType){case T.FIRST_CHILD:return this.execFirstChild(l,d);case T.ALL:return this.execAllChildren(l,d);default:return this.execNoChild(l,d)}},a.prototype.toString=function(){return"dummy_node"},a.prototype.toContextString=function(l){return this.toString()},a.prototype.assertInput=function(l){W(this.numRelations===a.ANY||l.length===this.numRelations)},a.prototype.execNoChild=function(l,d){var g=this;return new Promise(function(C,D){C(g.execInternal([],l,d))})},a.prototype.execFirstChild=function(l,d){var g=this;return this.getChildAt(0).exec(l,d).then(function(C){return g.assertInput(C),g.execInternal(C,l,d)})},a.prototype.execAllChildren=function(l,d){var g=this,C=this.getChildren().map(function(D){return D.exec(l,d)});return Promise.all(C).then(function(D){var $=[];return D.forEach(function(ee){ee.forEach(function(ue){return $.push(ue)})}),g.assertInput($),g.execInternal($,l,d)})},a.ANY=-1,a}(ye),Pe=function(){function f(a,l){this.rootNode=a,this.scope=l}return f.getCombinedScope=function(a){var l=new Set;return a.forEach(function(d){d.getScope().forEach(l.add.bind(l))}),l},f.prototype.getRoot=function(){return this.rootNode},f.prototype.getScope=function(){return this.scope},f}(),Ie=function(){function f(){this.exclusiveLock=null,this.reservedReadWriteLock=null,this.reservedReadOnlyLocks=null,this.sharedLocks=null}return f.prototype.releaseLock=function(a){this.exclusiveLock===a&&(this.exclusiveLock=null),this.reservedReadWriteLock===a&&(this.reservedReadWriteLock=null),this.reservedReadOnlyLocks&&this.reservedReadOnlyLocks.delete(a),this.sharedLocks&&this.sharedLocks.delete(a)},f.prototype.canAcquireLock=function(a,l){var d=this.reservedReadOnlyLocks===null||this.reservedReadOnlyLocks.size===0;if(l===R.EXCLUSIVE){var g=this.sharedLocks===null||this.sharedLocks.size===0;return g&&d&&this.exclusiveLock===null&&this.reservedReadWriteLock!==null&&this.reservedReadWriteLock===a}else return l===R.SHARED?this.exclusiveLock===null&&this.reservedReadWriteLock===null&&this.reservedReadOnlyLocks!==null&&this.reservedReadOnlyLocks.has(a):l===R.RESERVED_READ_ONLY?this.reservedReadWriteLock===null:d&&(this.reservedReadWriteLock===null||this.reservedReadWriteLock===a)},f.prototype.grantLock=function(a,l){l===R.EXCLUSIVE?(this.reservedReadWriteLock=null,this.exclusiveLock=a):l===R.SHARED?(this.sharedLocks===null&&(this.sharedLocks=new Set),this.sharedLocks.add(a),this.reservedReadOnlyLocks===null&&(this.reservedReadOnlyLocks=new Set),this.reservedReadOnlyLocks.delete(a)):l===R.RESERVED_READ_ONLY?(this.reservedReadOnlyLocks===null&&(this.reservedReadOnlyLocks=new Set),this.reservedReadOnlyLocks.add(a)):l===R.RESERVED_READ_WRITE&&(this.reservedReadWriteLock=a)},f}(),ze=function(){function f(){this.lockTable=new Map}return f.prototype.requestLock=function(a,l,d){var g=this.canAcquireLock(a,l,d);return g&&this.grantLock(a,l,d),g},f.prototype.releaseLock=function(a,l){var d=this;l.forEach(function(g){return d.getEntry(g).releaseLock(a)})},f.prototype.clearReservedLocks=function(a){var l=this;a.forEach(function(d){return l.getEntry(d).reservedReadWriteLock=null})},f.prototype.getEntry=function(a){var l=this.lockTable.get(a.getName())||null;return l===null&&(l=new Ie,this.lockTable.set(a.getName(),l)),l},f.prototype.grantLock=function(a,l,d){var g=this;l.forEach(function(C){return g.getEntry(C).grantLock(a,d)})},f.prototype.canAcquireLock=function(a,l,d){var g=this,C=!0;return l.forEach(function(D){if(C){var $=g.getEntry(D);C=$.canAcquireLock(a,d)}},this),C},f}(),$e=function(){function f(){var a=this;this.promise=new Promise(function(l,d){a.resolveFn=l,a.rejectFn=d})}return f.prototype.resolve=function(a){this.resolveFn(a)},f.prototype.reject=function(a){this.rejectFn(a)},f}(),mt=function(){function f(){}return f.binaryInsert=function(a,l,d){var g=f.binarySearch(a,l,d);return g<0?(a.splice(-(g+1),0,l),!0):!1},f.binaryRemove=function(a,l,d){var g=f.binarySearch(a,l,d);return g<0?!1:(a.splice(g,1),!0)},f.shuffle=function(a){for(var l=a.length-1;l>0;l--){var d=Math.floor(Math.random()*(l+1)),g=a[l];a[l]=a[d],a[d]=g}},f.clone=function(a){var l=a.length;if(l>0){var d=new Array(l);return a.forEach(function(g,C){return d[C]=g}),d}return[]},f.flatten=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var d=8192,g=[];return a.forEach(function(C){if(Array.isArray(C))for(var D=0;D<C.length;D+=d){var $=C.slice(D,D+d),ee=f.flatten.apply(null,$);ee.forEach(function(ue){return g.push(ue)})}else g.push(C)}),g},f.product=function(a){var l=a.some(function(D){return!D.length});if(l||a.length===0)return[];var d=new Array(a.length);d.fill(0);for(var g=[];d!==null;){g.push(d.map(function(D,$){return a[$][D]}));for(var C=d.length-1;C>=0;C--){if(W(d!==null),d[C]<a[C].length-1){d[C]++;break}if(C===0){d=null;break}d[C]=0}}return g},f.bucket=function(a,l){var d={};return a.forEach(function(g){var C=l(g);d[C]===void 0&&(d[C]=[]),d[C].push(g)}),d},f.binarySearch=function(a,l,d){for(var g=0,C=a.length,D=d||f.defaultComparator;g<C;){var $=g+C>>1;D(a[$],l)<0?g=$+1:C=$}return g===C&&a[g]===l?g:~g},f.defaultComparator=function(a,l){return a-l},f}(),Je=function(){function f(){this.queue=[]}return f.prototype.insert=function(a){mt.binaryInsert(this.queue,a,function(l,d){var g=l.getPriority()-d.getPriority();return g===0?l.getId()-d.getId():g})},f.prototype.getValues=function(){return this.queue.slice()},f.prototype.remove=function(a){var l=this.queue.indexOf(a);return l>=0&&this.queue.splice(l,1),l>=0},f}(),Nt=function(){function f(){this.queue=new Je,this.lockManager=new ze}return f.prototype.scheduleTask=function(a){return(a.getPriority()<S.USER_QUERY_TASK||a.getPriority()<S.TRANSACTION_TASK)&&this.lockManager.clearReservedLocks(a.getScope()),this.queue.insert(a),this.consumePending(),a.getResolver().promise},f.prototype.consumePending=function(){var a=this,l=this.queue.getValues();l.forEach(function(d){var g=!1;d.getType()===v.READ_ONLY?g=a.requestTwoPhaseLock(d,R.RESERVED_READ_ONLY,R.SHARED):g=a.requestTwoPhaseLock(d,R.RESERVED_READ_WRITE,R.EXCLUSIVE),g&&(a.queue.remove(d),a.execTask(d))})},f.prototype.requestTwoPhaseLock=function(a,l,d){var g=!1,C=this.lockManager.requestLock(a.getId(),a.getScope(),l);return C&&(g=this.lockManager.requestLock(a.getId(),a.getScope(),d)),g},f.prototype.execTask=function(a){a.exec().then(this.onTaskSuccess.bind(this,a),this.onTaskError.bind(this,a))},f.prototype.onTaskSuccess=function(a,l){this.lockManager.releaseLock(a.getId(),a.getScope()),a.getResolver().resolve(l),this.consumePending()},f.prototype.onTaskError=function(a,l){this.lockManager.releaseLock(a.getId(),a.getScope()),a.getResolver().reject(l),this.consumePending()},f}(),cn=function(){function f(){}return f.prototype.eq=function(a){throw new U(w.SYNTAX_ERROR)},f.prototype.neq=function(a){throw new U(w.SYNTAX_ERROR)},f.prototype.lt=function(a){throw new U(w.SYNTAX_ERROR)},f.prototype.lte=function(a){throw new U(w.SYNTAX_ERROR)},f.prototype.gt=function(a){throw new U(w.SYNTAX_ERROR)},f.prototype.gte=function(a){throw new U(w.SYNTAX_ERROR)},f.prototype.match=function(a){throw new U(w.SYNTAX_ERROR)},f.prototype.between=function(a,l){throw new U(w.SYNTAX_ERROR)},f.prototype.in=function(a){throw new U(w.SYNTAX_ERROR)},f.prototype.isNull=function(){throw new U(w.SYNTAX_ERROR)},f.prototype.isNotNull=function(){throw new U(w.SYNTAX_ERROR)},f}(),st=function(f){t(a,f);function a(l,d){var g=f.call(this)||this;return g.child=l,g.aggregatorType=d,g.alias=null,g}return a.prototype.getName=function(){return this.aggregatorType+"("+this.child.getName()+")"},a.prototype.getNormalizedName=function(){return this.aggregatorType+"("+this.child.getNormalizedName()+")"},a.prototype.getTable=function(){return this.child.getTable()},a.prototype.toString=function(){return this.getNormalizedName()},a.prototype.getType=function(){return this.child.getType()},a.prototype.getAlias=function(){return this.alias},a.prototype.getIndices=function(){return[]},a.prototype.getIndex=function(){return null},a.prototype.isNullable=function(){return!1},a.prototype.isUnique=function(){return!1},a.prototype.as=function(l){return this.alias=l,this},a.prototype.getColumnChain=function(){for(var l=[this],d=this;d instanceof a;)l.push(d.child),d=d.child;return l},a}(cn),nt=function(){function f(){}return f.map=function(a,l){var d=[],g=function($,ee){if($!==null){var ue=$.getChildCount()===ee.getChildCount();if(ue){var me=d.indexOf(ee);me!==-1&&d.splice(me,1)}}},C=null,D=null;return a.traverse(function($){var ee=l($);$.getParent()===null?D=ee:C.addChild(ee),g($.getParent(),C),$.getChildCount()>1&&d.push(ee),C=$.isLeaf()?d[d.length-1]:ee}),D},f.getLeafNodes=function(a){return f.find(a,function(l){return l.isLeaf()})},f.removeNode=function(a){var l=a.getParent(),d=0;l!==null&&(d=l.getChildren().indexOf(a),l.removeChild(a));var g=a.getChildren().slice();return g.forEach(function(C,D){a.removeChild(C),l!==null&&l.addChildAt(C,d+D)}),{children:g,parent:l}},f.insertNodeAt=function(a,l){var d=a.getChildren().slice();d.forEach(function(g){a.removeChild(g),l.addChild(g)}),a.addChild(l)},f.swapNodeWithChild=function(a){W(a.getChildCount()===1);var l=a.getChildAt(0);return W(l.getChildCount()===1),f.removeNode(a),f.insertNodeAt(l,a),l},f.pushNodeBelowChild=function(a,l,d){W(a.getChildCount()===1);var g=a.getChildAt(0);W(g.getChildCount()>1);var C=g.getChildren().slice(),D=C.some(function($){return l($)});return D?(f.removeNode(a),C.forEach(function($,ee){if(l($)){var ue=d(a);g.removeChildAt(ee),ue.addChild($),g.addChildAt(ue,ee)}}),g):a},f.replaceChainWithChain=function(a,l,d,g){var C=a.getParent();if(C!==null){var D=C.getChildren().indexOf(a);C.removeChildAt(D),C.addChildAt(d,D)}return l.getChildren().slice().forEach(function($){l.removeChild($),g.addChild($)}),d},f.replaceNodeWithChain=function(a,l,d){return f.replaceChainWithChain(a,a,l,d)},f.replaceChainWithNode=function(a,l,d){return f.replaceChainWithChain(a,l,d,d)},f.find=function(a,l,d){var g=[],C=function(D){l(D)&&g.push(D),(d==null||!d(D))&&D.getChildren().forEach(C)};return C(a),g},f.toString=function(a,l){var d=function(D){return D.toString()+`
`},g=l||d,C="";return a.traverse(function(D){for(var $=0;$<D.getDepth();$++)C+="-";C+=g(D)}),C},f}(),mn=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.operator=l,d.isComplement=!1,d}return a.prototype.eval=function(l){var d=this.getChildren().map(function(g){return g.eval(l)});return this.combineResults(d)},a.prototype.setComplement=function(l){this.isComplement!==l&&(this.isComplement=l,this.operator=this.operator===I.AND?I.OR:I.AND,this.getChildren().forEach(function(d){return d.setComplement(l)}))},a.prototype.copy=function(){var l=nt.map(this,function(d){if(d instanceof a){var g=new a(d.operator);return g.isComplement=d.isComplement,g.setId(d.getId()),g}else return d.copy()});return l},a.prototype.getColumns=function(l){var d=this,g=l||[];this.traverse(function(D){D!==d&&D.getColumns(g)});var C=new Set(g);return Array.from(C.values())},a.prototype.getTables=function(l){var d=this,g=l||new Set;return this.traverse(function(C){C!==d&&C.getTables(g)}),g},a.prototype.toString=function(){return"combined_pred_"+this.operator.toString()},a.prototype.toKeyRange=function(){if(W(this.isKeyRangeCompatible(),"Could not convert combined predicate to key range."),this.operator===I.OR){var l=new Dt;return this.getChildren().forEach(function(d){var g=d.toKeyRange().getValues();l.add(g)}),l}else return W(!1,"toKeyRange() called for an AND predicate."),new Dt},a.prototype.isKeyRangeCompatible=function(){return this.operator===I.OR?this.isKeyRangeCompatibleOr():!1},a.prototype.combineResults=function(l){return this.operator===I.AND?re.intersect(l):re.union(l)},a.prototype.isKeyRangeCompatibleOr=function(){var l=null;return this.getChildren().every(function(d){var g=d instanceof He&&d.isKeyRangeCompatible();return g?(l===null&&(l=d.column),l.getNormalizedName()===d.column.getNormalizedName()):!1})},a}(ge),fr=function(){function f(){}return f.and=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return f.createPredicate(I.AND,a)},f.or=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return f.createPredicate(I.OR,a)},f.not=function(a){return a.setComplement(!0),a},f.createPredicate=function(a,l){var d=new mn(a);return l.forEach(function(g){return d.addChild(g)}),d},f}();e.op=fr;var Ke=function(){function f(){this.map=new Map,this.count=0}return Object.defineProperty(f.prototype,"size",{get:function(){return this.count},enumerable:!0,configurable:!0}),f.prototype.has=function(a){return this.map.has(a)},f.prototype.set=function(a,l){var d=this.getSet(a);return d.has(l)||(d.add(l),this.count++),this},f.prototype.setMany=function(a,l){var d=this,g=this.getSet(a);return l.forEach(function(C){g.has(C)||(g.add(C),d.count++)}),this},f.prototype.merge=function(a){var l=this;return a.keys().forEach(function(d){return l.setMany(d,Array.from(a.getSet(d)))}),this},f.prototype.delete=function(a,l){var d=this.map.get(a)||null;if(d===null)return!1;var g=d.delete(l);return g&&(this.count--,d.size===0&&this.map.delete(a)),g},f.prototype.get=function(a){var l=this.map.get(a)||null;return l===null?null:Array.from(l)},f.prototype.clear=function(){this.map.clear(),this.count=0},f.prototype.keys=function(){return Array.from(this.map.keys())},f.prototype.values=function(){var a=[];return this.map.forEach(function(l,d){return a.push.apply(a,Array.from(l))}),a},f.prototype.getSet=function(a){var l=this.map.get(a)||null;return l===null&&(l=new Set,this.map.set(a,l)),l},f}(),hn=function(f){t(a,f);function a(l,d,g){var C=f.call(this)||this;C.leftColumn=l,C.rightColumn=d,C.evaluatorType=g,C.nullPayload=null;var D=ht.get();return C.evaluatorFn=D.getEvaluator(C.leftColumn.getType(),C.evaluatorType),C.keyOfIndexFn=D.getKeyOfIndexEvaluator(C.leftColumn.getType()),C}return a.prototype.copy=function(){var l=new a(this.leftColumn,this.rightColumn,this.evaluatorType);return l.setId(this.getId()),l},a.prototype.getColumns=function(l){return l!=null?(l.push(this.leftColumn),l.push(this.rightColumn),l):[this.leftColumn,this.rightColumn]},a.prototype.getTables=function(l){var d=l!=null?l:new Set;return d.add(this.leftColumn.getTable()),d.add(this.rightColumn.getTable()),d},a.prototype.reverse=function(){var l=this.evaluatorType;switch(this.evaluatorType){case fe.GT:l=fe.LT;break;case fe.LT:l=fe.GT;break;case fe.GTE:l=fe.LTE;break;case fe.LTE:l=fe.GTE;break}var d=new a(this.rightColumn,this.leftColumn,l);return d},a.prototype.eval=function(l){var d=this,g=l.entries.filter(function(C){var D=C.getField(d.leftColumn),$=C.getField(d.rightColumn);return d.evaluatorFn(D,$)},this);return new re(g,l.getTables())},a.prototype.toString=function(){return"join_pred("+this.leftColumn.getNormalizedName()+" "+this.evaluatorType+" "+this.rightColumn.getNormalizedName()+")"},a.prototype.evalRelationsNestedLoopJoin=function(l,d,g){var C=[l,d];g||(C=this.detectLeftRight(l,d)),l=C[0],d=C[1];for(var D=[],$=l.getTables(),ee=d.getTables(),ue=l.entries.length,me=d.entries.length,Oe=a.BLOCK_SIZE_EXPONENT,Fe=me+(1<<Oe)-1>>Oe,Ye=0;Ye<Fe;){for(var vt=0;vt<ue;vt++){var it=!1,Tt=l.entries[vt].getField(this.leftColumn);if(Tt!==null)for(var an=Math.min(Ye+1<<Oe,me),Ft=Ye<<Oe;Ft<an;Ft++){var Wn=this.evaluatorFn(Tt,d.entries[Ft].getField(this.rightColumn));if(Wn){it=!0;var si=X.combineEntries(l.entries[vt],$,d.entries[Ft],ee);D.push(si)}}g&&!it&&D.push(this.createCombinedEntryForUnmatched(l.entries[vt],$))}Ye++}var Zn=l.getTables().concat(d.getTables());return new re(D,Zn)},a.prototype.evalRelationsHashJoin=function(l,d,g){var C=this,D=[l,d];g||(D=this.detectLeftRight(l,d)),l=D[0],d=D[1];var $=l,ee=d,ue=this.leftColumn,me=this.rightColumn;g&&($=d,ee=l,ue=this.rightColumn,me=this.leftColumn);var Oe=new Ke,Fe=[];$.entries.forEach(function(Tt){var an=String(Tt.getField(ue));Oe.set(an,Tt)});var Ye=$.getTables(),vt=ee.getTables();ee.entries.forEach(function(Tt){var an=Tt.getField(me),Ft=String(an);an!==null&&Oe.has(Ft)?Oe.get(Ft).forEach(function(Wn){var si=X.combineEntries(Tt,vt,Wn,Ye);Fe.push(si)}):g&&Fe.push(C.createCombinedEntryForUnmatched(Tt,vt))},this);var it=l.getTables().concat(d.getTables());return new re(Fe,it)},a.prototype.evalRelationsIndexNestedLoopJoin=function(l,d,g,C){var D=this;W(this.evaluatorType===fe.EQ,"For now, index nested loop join can only be leveraged for EQ.");var $=g.indexedColumn.getTable(),ee=l,ue=d;l.getTables().indexOf($.getEffectiveName())!==-1&&(ee=d,ue=l);var me=[],Oe=ue.getTables(),Fe=ee.getTables();function Ye(it,Tt){var an=new X(Tt,Oe.length>1),Ft=X.combineEntries(it,Fe,an,Oe);me.push(Ft)}ee.entries.forEach(function(it){var Tt=D.keyOfIndexFn(it.getField(g.nonIndexedColumn)),an=g.index.get(Tt);if(an.length!==0)if(g.index.isUniqueKey())Ye(it,C.get(an[0]));else{var Ft=C.getMany(an);Ft.forEach(function(Wn){return Ye(it,Wn)})}},this);var vt=ee.getTables().concat(ue.getTables());return new re(me,vt)},a.prototype.setComplement=function(l){throw new U(w.ASSERTION,"Join predicate has no complement")},a.prototype.reverseSelf=function(){var l=this.leftColumn;this.leftColumn=this.rightColumn,this.rightColumn=l;var d=this.evaluatorType;switch(this.evaluatorType){case fe.GT:d=fe.LT;break;case fe.LT:d=fe.GT;break;case fe.GTE:d=fe.LTE;break;case fe.LTE:d=fe.GTE;break;default:return}this.evaluatorType=d,this.evaluatorFn=ht.get().getEvaluator(this.leftColumn.getType(),this.evaluatorType)},a.prototype.appliesToLeft=function(l){return l.getTables().indexOf(this.leftColumn.getTable().getEffectiveName())!==-1},a.prototype.appliesToRight=function(l){return l.getTables().indexOf(this.rightColumn.getTable().getEffectiveName())!==-1},a.prototype.assertRelationsApply=function(l,d){W(this.appliesToLeft(l),"Mismatch between join predicate left operand and right relation."),W(this.appliesToRight(d),"Mismatch between join predicate right operand and right relation.")},a.prototype.detectLeftRight=function(l,d){var g=null,C=null;return this.appliesToLeft(l)?(this.assertRelationsApply(l,d),g=l,C=d):(this.assertRelationsApply(d,l),g=d,C=l),g.entries.length>C.entries.length?(this.reverseSelf(),this.assertRelationsApply(C,g),[C,g]):[g,C]},a.prototype.createNullPayload=function(l){var d={};return l.getColumns().forEach(function(g){return d[g.getName()]=null}),d},a.prototype.createCombinedEntryForUnmatched=function(l,d){this.nullPayload===null&&(this.nullPayload=this.createNullPayload(this.rightColumn.getTable()));var g=new X(new B(B.DUMMY_ID,this.nullPayload),!1),C=X.combineEntries(l,d,g,[this.rightColumn.getTable().getEffectiveName()]);return C},a.BLOCK_SIZE_EXPONENT=8,a}(ge),rn=function(f){t(a,f);function a(l){return f.call(this,l)||this}return a.orderByToString=function(l){var d="";return l.forEach(function(g,C){d+=g.column.getNormalizedName()+" ",d+=g.order===u.ASC?"ASC":"DESC",C<l.length-1&&(d+=", ")}),d},a.prototype.getScope=function(){return new Set(this.from)},a.prototype.clone=function(){var l=new a(this.schema);return l.cloneBase(this),this.columns&&(l.columns=this.columns.slice()),this.from&&(l.from=this.from.slice()),l.limit=this.limit,l.skip=this.skip,this.orderBy&&(l.orderBy=this.orderBy.slice()),this.groupBy&&(l.groupBy=this.groupBy.slice()),this.limitBinder&&(l.limitBinder=this.limitBinder),this.skipBinder&&(l.skipBinder=this.skipBinder),l.outerJoinPredicates=this.outerJoinPredicates,l},a.prototype.bind=function(l){return f.prototype.bind.call(this,l),this.limitBinder!==void 0&&this.limitBinder!==null&&(this.limit=l[this.limitBinder.index]),this.skipBinder!==void 0&&this.skipBinder!==null&&(this.skip=l[this.skipBinder.index]),this.bindValuesInSearchCondition(l),this},a}(le),gn=function(){function f(a,l,d,g,C){this.success_=a,this.insertedRowCount_=l,this.updatedRowCount_=d,this.deletedRowCount_=g,this.changedTableCount_=C}return f.getDefault=function(){return new f(!1,0,0,0,0)},f.prototype.success=function(){return this.success_},f.prototype.insertedRowCount=function(){return this.insertedRowCount_},f.prototype.updatedRowCount=function(){return this.updatedRowCount_},f.prototype.deletedRowCount=function(){return this.deletedRowCount_},f.prototype.changedTableCount=function(){return this.changedTableCount_},f}(),Ze=function(f){t(a,f);function a(l,d){var g=f.call(this)||this;return g.global=l,g.backStore=l.getService(We.BACK_STORE),g.queries=d.map(function(C){return C.context}),g.plans=d.map(function(C){return C.plan}),g.combinedScope=Pe.getCombinedScope(g.plans),g.txType=g.detectType(),g.resolver=new $e,g}return a.prototype.exec=function(){var l=this,d=this.txType===v.READ_ONLY?void 0:new ao(this.global,this.combinedScope),g=[],C=this.plans.slice(),D=this.queries,$=function(){var ee=C.shift();if(ee){var ue=D[g.length];return ee.getRoot().exec(d,ue).then(function(me){return g.push(me[0]),$()})}return Promise.resolve(g)};return $().then(function(){return l.tx=l.backStore.createTx(l.txType,Array.from(l.combinedScope.values()),d),l.tx.commit()}).then(function(){return l.onSuccess(g),g},function(ee){throw d&&d.rollback(),ee})},a.prototype.getType=function(){return this.txType},a.prototype.getScope=function(){return this.combinedScope},a.prototype.getResolver=function(){return this.resolver},a.prototype.getId=function(){return this.getUniqueNumber()},a.prototype.stats=function(){var l=null;return this.tx&&(l=this.tx.stats()),l===null?gn.getDefault():l},a.prototype.onSuccess=function(l){},a.prototype.detectType=function(){return this.queries.some(function(l){return!(l instanceof rn)})?v.READ_WRITE:v.READ_ONLY},a}(ce),et=function(f){t(a,f);function a(l,d){var g=f.call(this,l,d)||this;return g.observerRegistry=l.getService(We.OBSERVER_REGISTRY),g}return a.prototype.getPriority=function(){return S.OBSERVER_QUERY_TASK},a.prototype.onSuccess=function(l){var d=this;this.queries.forEach(function(g,C){d.observerRegistry.updateResultsForQuery(g,l[C])})},a}(Ze),gt=function(f){t(a,f);function a(l,d){var g=f.call(this,l,d)||this;return g.runner=l.getService(We.RUNNER),g.observerRegistry=l.getService(We.OBSERVER_REGISTRY),g}return a.prototype.getPriority=function(){return S.USER_QUERY_TASK},a.prototype.onSuccess=function(l){this.getType()===v.READ_ONLY?this.notifyObserversDirectly(l):this.scheduleObserverTask()},a.prototype.notifyObserversDirectly=function(l){var d=this;this.queries.forEach(function(g,C){d.observerRegistry.updateResultsForQuery(g,l[C])})},a.prototype.scheduleObserverTask=function(){var l=this.observerRegistry.getTaskItemsForTables(Array.from(this.getScope().values()));l.length>0&&this.runner.scheduleTask(new et(this.global,l))},a}(Ze),St=function(){function f(a,l){this._name=a,this._version=l,this.tableMap=new Map,this._pragma={enableBundledMode:!1},this._info=void 0}return f.prototype.name=function(){return this._name},f.prototype.version=function(){return this._version},f.prototype.info=function(){return this._info===void 0&&(this._info=new pt(this)),this._info},f.prototype.tables=function(){return Array.from(this.tableMap.values())},f.prototype.table=function(a){var l=this.tableMap.get(a);if(!l)throw new U(w.TABLE_NOT_FOUND,a);return l},f.prototype.setTable=function(a){this.tableMap.set(a.getName(),a)},f.prototype.pragma=function(){return this._pragma},f}(),pt=function(){function f(a){var l=this;this.dbSchema=a,this.cascadeReferringFk=new Ke,this.restrictReferringFk=new Ke,this.parents=new Ke,this.colParent=new Map,this.children=new Ke,this.cascadeChildren=new Ke,this.restrictChildren=new Ke,this.colChild=new Ke,this.dbSchema.tables().forEach(function(d){var g=d,C=g.getName();g.getConstraint().getForeignKeys().forEach(function(D){l.parents.set(C,l.dbSchema.table(D.parentTable)),l.children.set(D.parentTable,g),D.action===i.RESTRICT?(l.restrictReferringFk.set(D.parentTable,D),l.restrictChildren.set(D.parentTable,g)):(l.cascadeReferringFk.set(D.parentTable,D),l.cascadeChildren.set(D.parentTable,g)),l.colParent.set(g.getName()+"."+D.childColumn,D.parentTable);var $=D.parentTable+"."+D.parentColumn;l.colChild.set($,g.getName())},l)},this)}return f.from=function(a){return a.info()},f.prototype.getReferencingForeignKeys=function(a,l){if(l!=null)return l===i.CASCADE?this.cascadeReferringFk.get(a):this.restrictReferringFk.get(a);var d=this.cascadeReferringFk.get(a),g=this.restrictReferringFk.get(a);return d===null&&g===null?null:(d||[]).concat(g||[])},f.prototype.getParentTables=function(a){return this.expandScope(a,this.parents)},f.prototype.getParentTablesByColumns=function(a){var l=this,d=new Set;a.forEach(function(C){var D=l.colParent.get(C);D&&d.add(D)},this);var g=Array.from(d.values());return g.map(function(C){return l.dbSchema.table(C)})},f.prototype.getChildTables=function(a,l){return l==null?this.expandScope(a,this.children):l===i.RESTRICT?this.expandScope(a,this.restrictChildren):this.expandScope(a,this.cascadeChildren)},f.prototype.getChildTablesByColumns=function(a){var l=this,d=new Set;a.forEach(function(C){var D=l.colChild.get(C);D&&D.forEach(function($){return d.add($)})},this);var g=Array.from(d.values());return g.map(function(C){return l.dbSchema.table(C)})},f.prototype.expandScope=function(a,l){var d=l.get(a);return d===null?[]:d},f}(),jt=function(f){t(a,f);function a(l){return f.call(this,l)||this}return a.prototype.getScope=function(){var l=new Set;return l.add(this.from),this.expandTableScope(this.from.getName(),l),l},a.prototype.clone=function(){var l=new a(this.schema);return l.cloneBase(this),l.from=this.from,l},a.prototype.bind=function(l){return f.prototype.bind.call(this,l),this.bindValuesInSearchCondition(l),this},a.prototype.expandTableScope=function(l,d){var g=this,C=pt.from(this.schema).getChildTables(l,i.CASCADE),D=pt.from(this.schema).getChildTables(l);D.forEach(d.add.bind(d)),C.forEach(function($){g.expandTableScope($.getName(),d)},this)},a}(le),on=function(f){t(a,f);function a(l){return f.call(this,l)||this}return a.prototype.getScope=function(){var l=new Set;l.add(this.into);var d=pt.from(this.schema);return d.getParentTables(this.into.getName()).forEach(l.add.bind(l)),this.allowReplace&&d.getChildTables(this.into.getName()).forEach(l.add.bind(l)),l},a.prototype.clone=function(){var l=new a(this.schema);return l.cloneBase(this),l.into=this.into,this.values&&(l.values=this.values instanceof te?this.values:this.values.slice()),l.allowReplace=this.allowReplace,l.binder=this.binder,l},a.prototype.bind=function(l){return f.prototype.bind.call(this,l),this.binder&&(this.binder instanceof te?this.values=l[this.binder.index]:this.values=this.binder.map(function(d){return d instanceof te?l[d.index]:d})),this},a}(le),Bn=function(f){t(a,f);function a(l){return f.call(this,l)||this}return a.prototype.getScope=function(){var l=new Set;l.add(this.table);var d=this.set.map(function(C){return C.column.getNormalizedName()}),g=pt.from(this.schema);return g.getParentTablesByColumns(d).forEach(l.add.bind(l)),g.getChildTablesByColumns(d).forEach(l.add.bind(l)),l},a.prototype.clone=function(){var l=new a(this.schema);return l.cloneBase(this),l.table=this.table,l.set=this.set?this.cloneSet(this.set):this.set,l},a.prototype.bind=function(l){return f.prototype.bind.call(this,l),this.set.forEach(function(d){d.binding!==void 0&&d.binding!==-1&&(d.value=l[d.binding])}),this.bindValuesInSearchCondition(l),this},a.prototype.cloneSet=function(l){return l.map(function(d){var g=n({},d);return g})},a}(le),dr=function(){function f(){}return f.toSql=function(a,l){l===void 0&&(l=!1);var d=a.getQuery();if(d instanceof on)return f.insertToSql(d,l);if(d instanceof jt)return f.deleteToSql(d,l);if(d instanceof Bn)return f.updateToSql(d,l);if(d instanceof rn)return f.selectToSql(d,l);throw new U(w.NOT_IMPL_IN_TOSQL,typeof d)},f.escapeSqlValue=function(a,l){var d=l;if(d==null)return"NULL";switch(a){case h.BOOLEAN:return d?1:0;case h.INTEGER:case h.NUMBER:return d;case h.ARRAY_BUFFER:return"'"+B.binToHex(d)+"'";default:return"'"+d.toString()+"'"}},f.insertToSql=function(a,l){var d=a.allowReplace?"INSERT OR REPLACE":"INSERT",g=a.into.getColumns();d+=" INTO "+a.into.getName()+"(",d+=g.map(function(D){return D.getName()}).join(", "),d+=") VALUES (";var C=a.values.map(function(D){var $=g.map(function(ee){var ue=D.payload()[ee.getName()];return l?ue!=null?"#":"NULL":f.escapeSqlValue(ee.getType(),ue)});return d+$.join(", ")+");"});return C.join(`
`)},f.evaluatorToSql=function(a){switch(a){case fe.BETWEEN:return"BETWEEN";case fe.EQ:return"=";case fe.GTE:return">=";case fe.GT:return">";case fe.IN:return"IN";case fe.LTE:return"<=";case fe.LT:return"<";case fe.MATCH:return"LIKE";case fe.NEQ:return"<>";default:return"UNKNOWN"}},f.valueToSql=function(a,l,d,g){if(a instanceof te)return"?"+a.getIndex().toString();if(g)return a!=null?"#":"NULL";if(l===fe.MATCH)return"'"+a.toString()+"'";if(l===fe.IN){var C=a,D=C.map(function($){return f.escapeSqlValue(d,$)});return"("+D.join(", ")+")"}else if(l===fe.BETWEEN)return f.escapeSqlValue(d,a[0])+" AND "+f.escapeSqlValue(d,a[1]);return f.escapeSqlValue(d,a).toString()},f.valuePredicateToSql=function(a,l){var d=a.column.getNormalizedName(),g=f.evaluatorToSql(a.evaluatorType),C=f.valueToSql(a.peek(),a.evaluatorType,a.column.getType(),l);return g==="="&&C==="NULL"?[d,"IS NULL"].join(" "):g==="<>"&&C==="NULL"?[d,"IS NOT NULL"].join(" "):[d,g,C].join(" ")},f.combinedPredicateToSql=function(a,l){var d=a.getChildren().map(function(C){return"("+f.parseSearchCondition(C,l)+")"}),g=a.operator===I.AND?" AND ":" OR ";return d.join(g)},f.joinPredicateToSql=function(a){return[a.leftColumn.getNormalizedName(),f.evaluatorToSql(a.evaluatorType),a.rightColumn.getNormalizedName()].join(" ")},f.parseSearchCondition=function(a,l){if(a instanceof He)return f.valuePredicateToSql(a,l);if(a instanceof mn)return f.combinedPredicateToSql(a,l);if(a instanceof hn)return f.joinPredicateToSql(a);throw new U(357,typeof a)},f.predicateToSql=function(a,l){var d=f.parseSearchCondition(a,l);return d?" WHERE "+d:""},f.deleteToSql=function(a,l){var d="DELETE FROM "+a.from.getName();return a.where&&(d+=f.predicateToSql(a.where,l)),d+=";",d},f.updateToSql=function(a,l){var d="UPDATE "+a.table.getName()+" SET ";return d+=a.set.map(function(g){var C=g.column,D=C.getNormalizedName()+" = ";return g.binding!==-1?D+"?"+g.binding.toString():D+f.escapeSqlValue(C.getType(),g.value).toString()}).join(", "),a.where&&(d+=f.predicateToSql(a.where,l)),d+=";",d},f.selectToSql=function(a,l){var d="*";a.columns.length&&(d=a.columns.map(function($){var ee=$;return ee.getAlias()?ee.getNormalizedName()+" AS "+ee.getAlias():ee.getNormalizedName()}).join(", "));var g="SELECT "+d+" FROM ";if(a.outerJoinPredicates&&a.outerJoinPredicates.size!==0?g+=f.getFromListForOuterJoin(a,l):(g+=f.getFromListForInnerJoin(a,l),a.where&&(g+=f.predicateToSql(a.where,l))),a.orderBy){var C=a.orderBy.map(function($){return $.column.getNormalizedName()+($.order===u.DESC?" DESC":" ASC")}).join(", ");g+=" ORDER BY "+C}if(a.groupBy){var D=a.groupBy.map(function($){return $.getNormalizedName()}).join(", ");g+=" GROUP BY "+D}return a.limit&&(g+=" LIMIT "+a.limit.toString()),a.skip&&(g+=" SKIP "+a.skip.toString()),g+=";",g},f.getTableNameToSql=function(a){var l=a;return l.getEffectiveName()!==l.getName()?l.getName()+" AS "+l.getEffectiveName():l.getName()},f.getFromListForOuterJoin=function(a,l){for(var d=nt.find(a.where,function(me){return me instanceof hn}),g=d.map(function(me){return f.joinPredicateToSql(me)}),C=f.getTableNameToSql(a.from[0]),D=1;D<a.from.length;D++){var $=f.getTableNameToSql(a.from[D]);a.outerJoinPredicates.has(d[g.length-D].getId())?C+=" LEFT OUTER JOIN "+$:C+=" INNER JOIN "+$,C+=" ON ("+g[g.length-D]+")"}var ee=a.where,ue=ee.getChildCount()>0?ee.getChildAt(0):ee;return ue instanceof hn||(C+=" WHERE "+f.parseSearchCondition(ue,l)),C},f.getFromListForInnerJoin=function(a,l){return a.from.map(f.getTableNameToSql).join(", ")},f}(),_i=function(){function f(a,l){this.global=a,this.queryEngine=a.getService(We.QUERY_ENGINE),this.runner=a.getService(We.RUNNER),this.query=l}return f.prototype.exec=function(){var a=this;try{this.assertExecPreconditions()}catch(l){return Promise.reject(l)}return new Promise(function(l,d){var g=new gt(a.global,[a.getTaskItem()]);a.runner.scheduleTask(g).then(function(C){return l(C[0].getPayloads())},d)})},f.prototype.explain=function(){var a=this,l=function(d){return d.toContextString(a.query)+`
`};return nt.toString(this.getPlan().getRoot(),l)},f.prototype.bind=function(a){return this.query.bind(a),this},f.prototype.toSql=function(a){return a===void 0&&(a=!1),dr.toSql(this,a)},f.prototype.assertExecPreconditions=function(){},f.prototype.getQuery=function(){return this.query.clone()},f.prototype.getObservableQuery=function(){return this.query},f.prototype.getTaskItem=function(){return{context:this.getQuery(),plan:this.getPlan()}},f.prototype.getObservableTaskItem=function(){return{context:this.getObservableQuery(),plan:this.getPlan()}},f.prototype.getPlan=function(){return(this.plan===void 0||this.plan===null)&&(this.plan=this.queryEngine.getPlan(this.query)),this.plan},f}(),ri=function(f){t(a,f);function a(l,d){var g=f.call(this,l,new rn(l.getService(We.SCHEMA)))||this;return g.fromAlreadyCalled=!1,g.whereAlreadyCalled=!1,g.query.columns=d,g.checkDistinctColumn(),g.checkAggregations(),g}return a.prototype.assertExecPreconditions=function(){f.prototype.assertExecPreconditions.call(this);var l=this.query;if(l.from===void 0||l.from===null)throw new U(w.INVALID_SELECT);if(l.limitBinder&&l.limit===void 0||l.skipBinder&&l.skip===void 0)throw new U(w.UNBOUND_LIMIT_SKIP);this.checkProjectionList()},a.prototype.from=function(){for(var l,d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];if(this.fromAlreadyCalled)throw new U(w.DUPLICATE_FROM);return this.fromAlreadyCalled=!0,(this.query.from===void 0||this.query.from===null)&&(this.query.from=[]),(l=this.query.from).push.apply(l,d),this},a.prototype.where=function(l){if(this.checkFrom(w.FROM_AFTER_WHERE),this.whereAlreadyCalled)throw new U(w.DUPLICATE_WHERE);return this.whereAlreadyCalled=!0,this.augmentWhereClause(l),this},a.prototype.innerJoin=function(l,d){if(this.checkFrom(w.MISSING_FROM_BEFORE_JOIN),this.whereAlreadyCalled)throw new U(w.INVALID_WHERE);return this.query.from.push(l),this.augmentWhereClause(d),this},a.prototype.leftOuterJoin=function(l,d){if(this.checkFrom(w.MISSING_FROM_BEFORE_JOIN),!(d instanceof hn))throw new U(w.INVALID_OUTER_JOIN);if(this.whereAlreadyCalled)throw new U(w.INVALID_WHERE);this.query.from.push(l),(this.query.outerJoinPredicates===null||this.query.outerJoinPredicates===void 0)&&(this.query.outerJoinPredicates=new Set);var g=d;return l.getEffectiveName()!==d.rightColumn.getTable().getEffectiveName()&&(g=d.reverse()),this.query.outerJoinPredicates.add(g.getId()),this.augmentWhereClause(g),this},a.prototype.limit=function(l){if(this.query.limit!==void 0||this.query.limitBinder)throw new U(w.DUPLICATE_LIMIT);if(l instanceof te)this.query.limitBinder=l;else{if(l<0)throw new U(w.NEGATIVE_LIMIT_SKIP);this.query.limit=l}return this},a.prototype.skip=function(l){if(this.query.skip!==void 0||this.query.skipBinder)throw new U(w.DUPLICATE_SKIP);if(l instanceof te)this.query.skipBinder=l;else{if(l<0)throw new U(w.NEGATIVE_LIMIT_SKIP);this.query.skip=l}return this},a.prototype.orderBy=function(l,d){return this.checkFrom(w.FROM_AFTER_ORDER_GROUPBY),this.query.orderBy===void 0&&(this.query.orderBy=[]),this.query.orderBy.push({column:l,order:d!=null?d:u.ASC}),this},a.prototype.groupBy=function(){for(var l,d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];if(this.checkFrom(w.FROM_AFTER_ORDER_GROUPBY),this.query.groupBy)throw new U(w.DUPLICATE_GROUPBY);return this.query.groupBy===void 0&&(this.query.groupBy=[]),(l=this.query.groupBy).push.apply(l,d),this},a.prototype.clone=function(){var l=new a(this.global,this.query.columns);return l.query=this.query.clone(),l.query.clonedFrom=null,l},a.prototype.checkDistinctColumn=function(){var l=this.query.columns.filter(function(g){return g instanceof st&&g.aggregatorType===E.DISTINCT}),d=l.length===0||l.length===1&&this.query.columns.length===1;if(!d)throw new U(w.INVALID_DISTINCT)},a.prototype.checkProjectionList=function(){this.query.groupBy?this.checkGroupByColumns():this.checkProjectionListNotMixed()},a.prototype.checkGroupByColumns=function(){var l=this.query.groupBy.some(function(d){var g=d.getType();return g===h.OBJECT||g===h.ARRAY_BUFFER});if(l)throw new U(w.INVALID_GROUPBY)},a.prototype.checkProjectionListNotMixed=function(){var l=this.query.columns.some(function(g){return g instanceof st}),d=this.query.columns.some(function(g){return!(g instanceof st)})||this.query.columns.length===0;if(l&&d)throw new U(w.INVALID_PROJECTION)},a.prototype.checkAggregations=function(){var l=this;this.query.columns.forEach(function(d){var g=!(d instanceof st)||l.isAggregationValid(d.aggregatorType,d.getType());if(!g)throw new U(w.INVALID_AGGREGATION,d.getNormalizedName())},this)},a.prototype.checkFrom=function(l){if(this.query.from===void 0||this.query.from===null)throw new U(l)},a.prototype.augmentWhereClause=function(l){if(this.query.where){var d=fr.and(l,this.query.where);this.query.where=d}else this.query.where=l},a.prototype.isAggregationValid=function(l,d){switch(l){case E.COUNT:case E.DISTINCT:return!0;case E.AVG:case E.GEOMEAN:case E.STDDEV:case E.SUM:return d===h.NUMBER||d===h.INTEGER;case E.MAX:case E.MIN:return d===h.NUMBER||d===h.INTEGER||d===h.STRING||d===h.DATE_TIME}return!1},a}(_i),Sr=function(){function f(){}return f.longestCommonSubsequence=function(a,l,d,g){var C=function(it,Tt){return it===Tt},D=function(it,Tt){return a[it]},$=d||C,ee=g||D,ue=a.length,me=l.length,Oe=[],Fe,Ye;for(Fe=0;Fe<ue+1;++Fe)Oe[Fe]=[],Oe[Fe][0]=0;for(Ye=0;Ye<me+1;++Ye)Oe[0][Ye]=0;for(Fe=1;Fe<ue+1;++Fe)for(Ye=1;Ye<me+1;++Ye)Oe[Fe][Ye]=$(a[Fe-1],l[Ye-1])?Oe[Fe-1][Ye-1]+1:Math.max(Oe[Fe-1][Ye],Oe[Fe][Ye-1]);var vt=[];for(Fe=ue,Ye=me;Fe>0&&Ye>0;)$(a[Fe-1],l[Ye-1])?(vt.unshift(ee(Fe-1,Ye-1)),Fe--,Ye--):Oe[Fe-1][Ye]>Oe[Fe][Ye-1]?Fe--:Ye--;return vt},f.sum=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return a.reduce(function(d,g){return d+g},0)},f.average=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return f.sum.apply(null,a)/a.length},f.standardDeviation=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];if(!a||a.length<2)return 0;var d=f.average.apply(null,a),g=f.sum.apply(null,a.map(function(C){return Math.pow(C-d,2)}))/(a.length-1);return Math.sqrt(g)},f}(),ro=function(){function f(a,l){this.query=a,this.observableResults=l,this.evalRegistry=ht.get(),this.columns=this.detectColumns()}return f.prototype.applyDiff=function(a,l){for(var d=a===null?[]:a.entries,g=Sr.longestCommonSubsequence(d,l.entries,this.comparator.bind(this),function(Fe,Ye){return d[Fe]}),C=[],D=0,$=0;$<d.length;$++){var ee=d[$];if(g[D]===ee){D++;continue}else{var ue=this.observableResults.splice(D,1),me=this.createChangeRecord($,ue,0,this.observableResults);C.push(me)}}var Oe=Sr.longestCommonSubsequence(d,l.entries,this.comparator.bind(this),function(Fe,Ye){return l.entries[Ye]});D=0;for(var $=0;$<l.entries.length;$++){var ee=l.entries[$];if(Oe[D]===ee){D++;continue}else{this.observableResults.splice($,0,ee.row.payload());var me=this.createChangeRecord($,[],1,this.observableResults);C.push(me)}}return C},f.prototype.detectColumns=function(){if(this.query.columns.length>0)return this.query.columns;var a=[];return this.query.from.forEach(function(l){var d=l;d.getColumns().forEach(function(g){return a.push(g)})}),a},f.prototype.comparator=function(a,l){var d=this;return this.columns.every(function(g){if(g.getType()===h.OBJECT||g.getType()===h.ARRAY_BUFFER)return a.getField(g)===l.getField(g);var C=d.evalRegistry.getEvaluator(g.getType(),fe.EQ);return C(a.getField(g),l.getField(g))},this)},f.prototype.createChangeRecord=function(a,l,d,g){return{addedCount:d,index:a,object:g,removed:l,type:"splice"}},f}(),io=function(){function f(a){this.builder=a,this.builder=a,this.observers=new Set,this.observable=[],this.lastResults=null;var l=a.getObservableQuery();this.diffCalculator=new ro(l,this.observable)}return f.prototype.addObserver=function(a){if(this.observers.has(a)){W(!1,"Attempted to register observer twice.");return}this.observers.add(a)},f.prototype.removeObserver=function(a){return this.observers.delete(a)},f.prototype.getTaskItem=function(){return this.builder.getObservableTaskItem()},f.prototype.hasObservers=function(){return this.observers.size>0},f.prototype.updateResults=function(a){var l=this.diffCalculator.applyDiff(this.lastResults,a);this.lastResults=a,l.length>0&&this.observers.forEach(function(d){return d(l)})},f}(),Xa=function(){function f(){this.entries=new Map}return f.prototype.addObserver=function(a,l){var d=a,g=this.getQueryId(d.getObservableQuery()),C=this.entries.get(g)||null;C===null&&(C=new io(d),this.entries.set(g,C)),C.addObserver(l)},f.prototype.removeObserver=function(a,l){var d=a,g=this.getQueryId(d.getObservableQuery()),C=this.entries.get(g);W(C!=null,"Attempted to unobserve a query that was not observed.");var D=C.removeObserver(l);W(D,"removeObserver: Inconsistent state detected."),C.hasObservers()||this.entries.delete(g)},f.prototype.getTaskItemsForTables=function(a){var l=new Set;a.forEach(function(g){return l.add(g.getName())});var d=[];return this.entries.forEach(function(g,C){var D=g.getTaskItem(),$=D.context.from.some(function(ee){return l.has(ee.getName())});$&&d.push(D)}),d},f.prototype.updateResultsForQuery=function(a,l){var d=this.getQueryId(a.clonedFrom!==void 0&&a.clonedFrom!==null?a.clonedFrom:a),g=this.entries.get(d)||null;return g!==null?(g.updateResults(l),!0):!1},f.prototype.getQueryId=function(a){return a.getUniqueId()},f}(),We=function(){function f(){}return f.BACK_STORE=new M("backstore"),f.CACHE=new M("cache"),f.INDEX_STORE=new M("indexstore"),f.QUERY_ENGINE=new M("engine"),f.RUNNER=new M("runner"),f.OBSERVER_REGISTRY=new M("observerregistry"),f.SCHEMA=new M("schema"),f}(),Ai=function(){function f(a){this.indexStore=a.getService(We.INDEX_STORE),this.schema=a.getService(We.SCHEMA),this.cache=a.getService(We.CACHE),this.foreignKeysParentIndices=new Map}return f.didColumnValueChange=function(a,l,d){var g=a===null?l!==null:l===null;return g||a.keyOfIndex(d)!==l.keyOfIndex(d)},f.prototype.findExistingRowIdInPkIndex=function(a,l){var d=a.getConstraint().getPrimaryKey();return d===null?null:this.findExistingRowIdInIndex(d,l)},f.prototype.checkNotNullable=function(a,l){var d=this,g=a.getConstraint().getNotNullable();l.forEach(function(C){g.forEach(function(D){var $=C.payload()[D.getName()];if($==null)throw new U(w.NOT_NULLABLE,D.getNormalizedName())},d)},this)},f.prototype.detectCascadeUpdates=function(a,l,d){var g=new Ke;return this.loopThroughReferringRows(d,l,function(C,D,$,ee){var ue=D.get($);ue.forEach(function(me){g.set(me,{fkSpec:C,originalUpdatedRow:ee[1]})})}),g},f.prototype.checkForeignKeysForInsert=function(a,l,d){if(l.length!==0){var g=l.map(function(C){return[null,C]});this.checkReferredKeys(a,g,d)}},f.prototype.checkForeignKeysForUpdate=function(a,l,d){l.length!==0&&(this.checkReferredKeys(a,l,d),this.checkReferringKeys(a,l,d,i.RESTRICT))},f.prototype.checkForeignKeysForDelete=function(a,l,d){if(l.length!==0){var g=l.map(function(C){return[C,null]});this.checkReferringKeys(a,g,d)}},f.prototype.detectCascadeDeletion=function(a,l){var d=this,g={rowIdsPerTable:new Ke,tableOrder:[]},C=new Ke;C.setMany(a.getName(),l.map(function(ee){return ee.id()}));var D=function(){var ee=new Ke;C.keys().forEach(function(ue){var me,Oe=d.schema.table(ue),Fe=C.get(ue),Ye=Fe.map(function(it){var Tt=d.cache.get(it);return[Tt,null]},d),vt=d.findReferringRowIds(Oe,Ye);vt!==null&&((me=g.tableOrder).unshift.apply(me,vt.keys()),ee.merge(vt))},$),C=ee,g.rowIdsPerTable.merge(C)},$=this;do D();while(C.size>0);return g},f.prototype.findExistingRowIdInIndex=function(a,l){var d=a.getNormalizedName(),g=l.keyOfIndex(d),C=this.indexStore.get(d),D=C.get(g);return D.length===0?null:D[0]},f.prototype.checkReferredKeys=function(a,l,d){var g=this,C=a.getConstraint().getForeignKeys();C.forEach(function(D){D.timing===d&&g.checkReferredKey(D,l)},this)},f.prototype.checkReferredKey=function(a,l){var d=this.getParentIndex(a);l.forEach(function(g){var C=f.didColumnValueChange(g[0],g[1],a.name);if(C){var D=g[1],$=D.keyOfIndex(a.name);if($!==null&&!d.containsKey($))throw new U(w.FK_VIOLATION,a.name)}},this)},f.prototype.findParentIndex=function(a){var l=this.schema.table(a.parentTable),d=l[a.parentColumn],g=d.getIndex();return this.indexStore.get(g.getNormalizedName())},f.prototype.getParentIndex=function(a){var l=this.foreignKeysParentIndices.get(a.name);return l===void 0&&(l=this.findParentIndex(a),this.foreignKeysParentIndices.set(a.name,l)),l},f.prototype.checkReferringKeys=function(a,l,d,g){var C=pt.from(this.schema).getReferencingForeignKeys(a.getName(),g);C!==null&&(C=C.filter(function(D){return D.timing===d}),C.length!==0&&this.loopThroughReferringRows(C,l,function(D,$,ee){if($.containsKey(ee))throw new U(w.FK_VIOLATION,D.name)}))},f.prototype.findReferringRowIds=function(a,l){var d=pt.from(this.schema).getReferencingForeignKeys(a.getName(),i.CASCADE);if(d===null)return null;var g=new Ke;return this.loopThroughReferringRows(d,l,function(C,D,$){var ee=D.get($);ee.length>0&&g.setMany(C.childTable,ee)}),g},f.prototype.loopThroughReferringRows=function(a,l,d){var g=this;a.forEach(function(C){var D=g.indexStore.get(C.name),$=g.getParentIndex(C);l.forEach(function(ee){var ue=f.didColumnValueChange(ee[0],ee[1],$.getName());if(ue){var me=ee[0],Oe=me.keyOfIndex($.getName());d(C,D,Oe,ee)}},g)},this)},f}(),gl=function(){function f(a){this.name=a,this.added=new Map,this.modified=new Map,this.deleted=new Map}return f.prototype.getName=function(){return this.name},f.prototype.getAdded=function(){return this.added},f.prototype.getModified=function(){return this.modified},f.prototype.getDeleted=function(){return this.deleted},f.prototype.add=function(a){if(this.deleted.has(a.id())){var l=[this.deleted.get(a.id()),a];this.modified.set(a.id(),l),this.deleted.delete(a.id())}else this.added.set(a.id(),a)},f.prototype.modify=function(a){var l=a[0],d=a[1];W(l.id()===d.id(),"Row ID mismatch between old/new values.");var g=l.id();if(this.added.has(g))this.added.set(g,d);else if(this.modified.has(g)){var C=[this.modified.get(g)[0],d];this.modified.set(g,C)}else this.modified.set(g,a)},f.prototype.delete=function(a){if(this.added.has(a.id()))this.added.delete(a.id());else if(this.modified.has(a.id())){var l=this.modified.get(a.id())[0];this.modified.delete(a.id()),this.deleted.set(a.id(),l)}else this.deleted.set(a.id(),a)},f.prototype.merge=function(a){var l=this;a.added.forEach(function(d,g){return l.add(d)}),a.modified.forEach(function(d,g){return l.modify(d)}),a.deleted.forEach(function(d,g){return l.delete(d)})},f.prototype.getAsModifications=function(){var a=[];return this.added.forEach(function(l,d){return a.push([null,l])}),this.modified.forEach(function(l,d){return a.push(l)}),this.deleted.forEach(function(l,d){return a.push([l,null])}),a},f.prototype.toString=function(){return"["+Array.from(this.added.keys()).toString()+"], "+("["+Array.from(this.modified.keys()).toString()+"], ")+("["+Array.from(this.deleted.keys()).toString()+"]")},f.prototype.getReverse=function(){var a=new f(this.name);return this.added.forEach(function(l,d){return a.delete(l)}),this.deleted.forEach(function(l,d){return a.add(l)}),this.modified.forEach(function(l,d){a.modify([l[1],l[0]])}),a},f.prototype.isEmpty=function(){return this.added.size===0&&this.deleted.size===0&&this.modified.size===0},f}(),oo=function(){function f(a){this.cache=a.getService(We.CACHE),this.indexStore=a.getService(We.INDEX_STORE),this.schema=a.getService(We.SCHEMA)}return f.prototype.update=function(a){var l=this;a.forEach(function(d){l.updateIndicesForDiff(d),l.updateCacheForDiff(d)},this)},f.prototype.updateTableIndicesForRow=function(a,l){var d=this,g=this.indexStore.getTableIndices(a.getName()),C=0;g.forEach(function(D){try{d.updateTableIndexForRow(D,l),C++}catch($){throw g.slice(0,C).forEach(function(ee){d.updateTableIndexForRow(ee,[l[1],l[0]])},d),$}},this)},f.prototype.updateCacheForDiff=function(a){var l=this,d=a.getName();a.getDeleted().forEach(function(g,C){return l.cache.remove(d,C)}),a.getAdded().forEach(function(g,C){return l.cache.set(d,g)}),a.getModified().forEach(function(g,C){return l.cache.set(d,g[1])})},f.prototype.updateIndicesForDiff=function(a){var l=this,d=this.schema.table(a.getName()),g=a.getAsModifications();g.forEach(function(C){l.updateTableIndicesForRow(d,C)},this)},f.prototype.updateTableIndexForRow=function(a,l){var d=l[1]===null?void 0:l[1].keyOfIndex(a.getName()),g=l[0]===null?void 0:l[0].keyOfIndex(a.getName());if(g===void 0&&d!==void 0)a.add(d,l[1].id());else if(g!==void 0&&d!==void 0){if(d===null||g===null){if(d===g)return}else if(a.comparator().compare(g,d)===b.TIE)return;a.add(d,l[1].id()),a.remove(g,l[0].id())}else g!==void 0&&d===void 0&&a.remove(g,l[0].id())},f}(),ao=function(){function f(a,l){var d=this;this.scope=new Map,l.forEach(function(g){return d.scope.set(g.getName(),g)}),this.schema=a.getService(We.SCHEMA),this.cache=a.getService(We.CACHE),this.indexStore=a.getService(We.INDEX_STORE),this.constraintChecker=new Ai(a),this.inMemoryUpdater=new oo(a),this.terminated=!1,this.pendingRollback=!1,this.tableDiffs=new Map}return f.prototype.getDiff=function(){return this.tableDiffs},f.prototype.getIndexDiff=function(){var a=this,l=Array.from(this.tableDiffs.keys()).map(function(g){return a.scope.get(g)}),d=[];return l.forEach(function(g){var C=g;if(C.persistentIndex()){var D=C.getIndices();D.forEach(function($){d.push(a.indexStore.get($.getNormalizedName()))},a),d.push(a.indexStore.get(C.getName()+".#"))}},this),d},f.prototype.getScope=function(){return this.scope},f.prototype.insert=function(a,l){var d=this,g=a;this.assertJournalWritable(),this.checkScope(g),this.constraintChecker.checkNotNullable(g,l),this.constraintChecker.checkForeignKeysForInsert(g,l,o.IMMEDIATE),l.forEach(function(C){d.modifyRow(g,[null,C])},this)},f.prototype.update=function(a,l){var d=this,g=a;this.assertJournalWritable(),this.checkScope(g),this.constraintChecker.checkNotNullable(g,l);var C=l.map(function(D){var $=d.cache.get(D.id());return[$,D]},this);this.updateByCascade(g,C),this.constraintChecker.checkForeignKeysForUpdate(g,C,o.IMMEDIATE),C.forEach(function(D){return d.modifyRow(g,D)})},f.prototype.insertOrReplace=function(a,l){var d=this,g=a;this.assertJournalWritable(),this.checkScope(g),this.constraintChecker.checkNotNullable(g,l),l.forEach(function(C){var D=null,$=d.constraintChecker.findExistingRowIdInPkIndex(g,C);if($!=null){D=d.cache.get($),C.assignRowId($);var ee=[D,C];d.constraintChecker.checkForeignKeysForUpdate(g,[ee],o.IMMEDIATE)}else d.constraintChecker.checkForeignKeysForInsert(g,[C],o.IMMEDIATE);d.modifyRow(g,[D,C])},this)},f.prototype.remove=function(a,l){var d=this,g=a;this.assertJournalWritable(),this.checkScope(g),this.removeByCascade(g,l),this.constraintChecker.checkForeignKeysForDelete(g,l,o.IMMEDIATE),l.forEach(function(C){d.modifyRow(g,[C,null])},this)},f.prototype.checkDeferredConstraints=function(){var a=this;this.tableDiffs.forEach(function(l,d){var g=a.scope.get(l.getName());a.constraintChecker.checkForeignKeysForInsert(g,Array.from(l.getAdded().values()),o.DEFERRABLE),a.constraintChecker.checkForeignKeysForDelete(g,Array.from(l.getDeleted().values()),o.DEFERRABLE),a.constraintChecker.checkForeignKeysForUpdate(g,Array.from(l.getModified().values()),o.DEFERRABLE)},this)},f.prototype.commit=function(){this.assertJournalWritable(),this.terminated=!0},f.prototype.rollback=function(){W(!this.terminated,"Attempted to rollback a terminated journal.");var a=Array.from(this.tableDiffs.values()).map(function(l){return l.getReverse()});this.inMemoryUpdater.update(a),this.terminated=!0,this.pendingRollback=!1},f.prototype.assertJournalWritable=function(){W(!this.pendingRollback,"Attempted to use journal that needs to be rolled back."),W(!this.terminated,"Attempted to commit a terminated journal.")},f.prototype.checkScope=function(a){if(!this.scope.has(a.getName()))throw new U(w.OUT_OF_SCOPE,a.getName())},f.prototype.modifyRow=function(a,l){var d=a.getName(),g=this.tableDiffs.get(d)||new gl(d);this.tableDiffs.set(d,g);try{this.inMemoryUpdater.updateTableIndicesForRow(a,l)}catch($){throw this.pendingRollback=!0,$}var C=l[0],D=l[1];C===null&&D!==null?(this.cache.set(d,D),g.add(D)):C!==null&&D!==null?(this.cache.set(d,D),g.modify(l)):C!==null&&D===null&&(this.cache.remove(d,C.id()),g.delete(C))},f.prototype.updateByCascade=function(a,l){var d=this,g=pt.from(this.schema).getReferencingForeignKeys(a.getName(),i.CASCADE);if(g!==null){var C=this.constraintChecker.detectCascadeUpdates(a,l,g);C.keys().forEach(function(D){var $=C.get(D);$.forEach(function(ee){var ue=d.schema.table(ee.fkSpec.childTable),me=d.cache.get(D),Oe=ue.deserializeRow(me.serialize());Oe.payload()[ee.fkSpec.childColumn]=ee.originalUpdatedRow.payload()[ee.fkSpec.parentColumn],d.modifyRow(ue,[me,Oe])},d)},this)}},f.prototype.removeByCascade=function(a,l){var d=this,g=pt.from(this.schema).getReferencingForeignKeys(a.getName(),i.CASCADE);if(g!==null){var C=this.constraintChecker.detectCascadeDeletion(a,l),D=C.rowIdsPerTable;C.tableOrder.forEach(function($){var ee=d.schema.table($),ue=D.get($).map(function(me){return d.cache.get(me)},d);d.constraintChecker.checkForeignKeysForDelete(ee,ue,o.IMMEDIATE),ue.forEach(function(me){d.modifyRow(ee,[me,null])},d)},this)}},f}(),Uo=function(){function f(a,l){this.txType=a,this.journal=l||null,this.resolver=new $e,this.success=!1,this.statsObject=null}return f.prototype.getJournal=function(){return this.journal},f.prototype.commit=function(){var a=this,l=this.txType===v.READ_ONLY?this.commitInternal():this.commitReadWrite();return l.then(function(d){return a.success=!0,d})},f.prototype.stats=function(){if(this.statsObject===null)if(!this.success)this.statsObject=gn.getDefault();else if(this.txType===v.READ_ONLY)this.statsObject=new gn(!0,0,0,0,0);else{var a=this.journal.getDiff(),l=0,d=0,g=0,C=0;a.forEach(function(D,$){C++,l+=D.getAdded().size,g+=D.getModified().size,d+=D.getDeleted().size}),this.statsObject=new gn(!0,l,g,d,C)}return this.statsObject},f.prototype.commitReadWrite=function(){var a=this;try{this.journal.checkDeferredConstraints()}catch(l){return Promise.reject(l)}return this.mergeIntoBackstore().then(function(l){return a.journal.commit(),l})},f.prototype.mergeIntoBackstore=function(){return this.mergeTableChanges(),this.mergeIndexChanges(),this.commitInternal()},f.prototype.mergeTableChanges=function(){var a=this,l=this.journal,d=l.getDiff();d.forEach(function(g,C){var D=l.getScope().get(C),$=a.getTable(D.getName(),D.deserializeRow.bind(D),N.DATA),ee=Array.from(g.getDeleted().values()).map(function(Oe){return Oe.id()}),ue=Array.from(g.getModified().values()).map(function(Oe){return Oe[1]}).concat(Array.from(g.getAdded().values())),me=ue.length>0;ee.length>0&&$.remove(ee,me).then(function(){},function(Oe){return a.resolver.reject(Oe)}),$.put(ue).then(function(){},function(Oe){return a.resolver.reject(Oe)})},this)},f.prototype.mergeIndexChanges=function(){var a=this,l=this.journal.getIndexDiff();l.forEach(function(d){var g=a.getTable(d.getName(),B.deserialize,N.INDEX);g.remove([]),g.put(d.serialize())},this)},f}(),Fn=function(){function f(a,l){l===void 0&&(l={}),this.id=a,this.payload=l}return f.deserialize=function(a){return new f(a.id,JSON.parse(a.value))},f.toPageIds=function(a){var l=new Set;return a.forEach(function(d){return l.add(f.toPageId(d))}),Array.from(l.values())},f.toPageId=function(a){return a>>f.BUNDLE_EXPONENT},f.getPageRange=function(a){return[a<<f.BUNDLE_EXPONENT,(a+1<<f.BUNDLE_EXPONENT)-1]},f.prototype.getId=function(){return this.id},f.prototype.getPayload=function(){return this.payload},f.prototype.setRows=function(a){var l=this;a.forEach(function(d){return l.payload[d.id()]=d.serialize()})},f.prototype.removeRows=function(a){var l=this;a.forEach(function(d){return delete l.payload[d]})},f.prototype.serialize=function(){return{id:this.id,value:JSON.stringify(this.payload)}},f.BUNDLE_EXPONENT=9,f}(),vl=function(){function f(a,l,d){this.store=a,this.deserializeFn=l,this.retrievePageFn=d}return f.forTableType=function(a,l,d,g){var C=g===N.DATA?f.getDataTablePage.bind(null,a):f.getIndexTablePage;return new f(l,d,C)},f.getDataTablePage=function(a,l,d){var g=a.getService(We.CACHE),C=Fn.getPageRange(d),D=g.getRange(l,C[0],C[1]),$=new Fn(d);return $.setRows(D),$},f.getIndexTablePage=function(a,l){return new Fn(l)},f.prototype.get=function(a){var l=this;return a.length===0?this.getAll():this.getPagesByRowIds(a).then(function(d){return a.map(function(g){var C=d.get(Fn.toPageId(g));return W(C!==void 0,"Containing page is empty"),l.deserializeFn(C.getPayload()[g])})})},f.prototype.put=function(a){var l=this;if(a.length===0)return Promise.resolve();var d=new Map;a.forEach(function(C){var D=Fn.toPageId(C.id()),$=d.get(D)||null;$===null&&($=l.retrievePageFn(l.store.name,D)),$.setRows([C]),d.set(D,$)},this);var g=Array.from(d.values()).map(function(C){return l.performWriteOp(function(){return l.store.put(C.serialize())})},this);return Promise.all(g).then(function(){})},f.prototype.remove=function(a,l){var d=this;if(a.length===0)return this.performWriteOp(function(){return d.store.clear()});var g=new Map;a.forEach(function(D){var $=Fn.toPageId(D),ee=g.get($)||null;ee===null&&(ee=d.retrievePageFn(d.store.name,$)),ee.removeRows([D]),g.set($,ee)},this);var C=Array.from(g.values()).map(function(D){return d.performWriteOp(function(){return Object.keys(D.getPayload()).length===0?d.store.delete(D.getId()):d.store.put(D.serialize())})},this);return Promise.all(C).then(function(){})},f.prototype.getPagesByRowIds=function(a){var l=this,d=new Map,g=new $e,C=Fn.toPageIds(a),D=C.map(function($,ee){return new Promise(function(ue,me){var Oe;try{Oe=l.store.get($)}catch(Fe){me(Fe);return}Oe.onerror=me,Oe.onsuccess=function(Fe){var Ye=Fn.deserialize(Fe.target.result);d.set(Ye.getId(),Ye),ue()}})},this);return Promise.all(D).then(function(){return g.resolve(d)}),g.promise},f.prototype.getAll=function(){var a=this;return new Promise(function(l,d){var g=[],C;try{C=a.store.openCursor()}catch(D){d(D);return}C.onerror=d,C.onsuccess=function(){var D=C.result;if(D){var $=Fn.deserialize(D.value),ee=$.getPayload();Object.keys(ee).forEach(function(ue){return g.push(a.deserializeFn(ee[ue]))}),D.continue()}else l(g)}})},f.prototype.performWriteOp=function(a){return new Promise(function(l,d){var g;try{g=a()}catch(C){d(C);return}g.onsuccess=function(C){return l()},g.onerror=d})},f}(),yl=function(f){t(a,f);function a(l,d){var g=f.call(this)||this;g.global=l,g.tableDiffs=d,g.observerRegistry=g.global.getService(We.OBSERVER_REGISTRY),g.runner=g.global.getService(We.RUNNER),g.inMemoryUpdater=new oo(g.global);var C=g.global.getService(We.SCHEMA),D=g.tableDiffs.map(function($){return C.table($.getName())});return g.scope=new Set(D),g.resolver=new $e,g}return a.prototype.exec=function(){return this.inMemoryUpdater.update(this.tableDiffs),this.scheduleObserverTask(),Promise.resolve([])},a.prototype.getType=function(){return v.READ_WRITE},a.prototype.getScope=function(){return this.scope},a.prototype.getResolver=function(){return this.resolver},a.prototype.getId=function(){return this.getUniqueNumber()},a.prototype.getPriority=function(){return S.EXTERNAL_CHANGE_TASK},a.prototype.scheduleObserverTask=function(){var l=this.observerRegistry.getTaskItemsForTables(Array.from(this.scope.values()));if(l.length!==0){var d=new et(this.global,l);this.runner.scheduleTask(d)}},a}(ce),wl=function(){function f(a){this.global=a,this.backStore=a.getService(We.BACK_STORE),this.runner=a.getService(We.RUNNER)}return f.prototype.startObserving=function(){this.backStore.subscribe(this.onChange.bind(this))},f.prototype.stopObserving=function(){this.backStore.unsubscribe(this.onChange.bind(this))},f.prototype.onChange=function(a){var l=new yl(this.global,a);this.runner.scheduleTask(l)},f}(),ya=function(){function f(a,l,d,g){this.version=a,this.db=l,this.tx=d,this.bundleMode=g}return f.convert=function(a){var l=null;return a instanceof ArrayBuffer?l=B.binToHex(a):a instanceof Date?l=a.getTime():l=a,l},f.prototype.getRawDBInstance=function(){return this.db},f.prototype.getRawTransaction=function(){return this.tx},f.prototype.dropTable=function(a){var l=this;return new Promise(function(d,g){try{l.db.deleteObjectStore(a)}catch(C){g(C);return}d()})},f.prototype.addTableColumn=function(a,l,d){var g=f.convert(d);return this.transformRows(a,function(C){C.payload()[l]=g})},f.prototype.dropTableColumn=function(a,l){return this.transformRows(a,function(d){delete d.payload()[l]})},f.prototype.renameTableColumn=function(a,l,d){return this.transformRows(a,function(g){g.payload()[d]=g.payload()[l],delete g.payload()[l]})},f.prototype.createRow=function(a){var l={};return Object.keys(a).forEach(function(d){l[d]=f.convert(a[d])}),B.create(l)},f.prototype.getVersion=function(){return this.version},f.prototype.dump=function(){for(var a=this.db.objectStoreNames,l=[],d=0;d<a.length;++d){var g=a.item(d);l.push(this.dumpTable(g))}return Promise.all(l).then(function(C){var D={};return C.forEach(function($,ee){D[a.item(ee)]=$}),D})},f.prototype.openCursorForWrite=function(a,l,d){var g=this;return new Promise(function(C,D){var $,ee;try{ee=g.tx.objectStore(a),$=ee.openCursor()}catch(ue){D(ue);return}$.onsuccess=function(ue){var me=$.result;me?(l(me),me.continue()):(d(ee),C())},$.onerror=D})},f.prototype.transformRows=function(a,l){var d=function(D){var $=B.deserialize(D.value);l($),D.update($.serialize())},g=function(D){var $=Fn.deserialize(D.value),ee=$.getPayload();Object.keys(ee).forEach(function(ue){var me=B.deserialize(ee[ue]);l(me),ee[ue]=me.serialize()}),D.update($.serialize())},C=function(){};return this.openCursorForWrite(a,this.bundleMode?g:d,C)},f.prototype.getTableRows=function(a){var l=this,d=[];return new Promise(function(g,C){var D;try{D=l.tx.objectStore(a).openCursor()}catch($){C($);return}D.onsuccess=function($){var ee=D.result;if(ee){if(l.bundleMode){var ue=Fn.deserialize(ee.value),me=ue.getPayload();Object.keys(me).forEach(function(Oe){d.push(me[Oe])})}else d.push(ee.value);ee.continue()}else g(d)},D.onerror=C})},f.prototype.dumpTable=function(a){return this.getTableRows(a).then(function(l){return l.map(function(d){return d.value})})},f}(),bl=function(){function f(a,l){this.store=a,this.deserializeFn=l}return f.prototype.get=function(a){var l=this;if(a.length===0)return this.store.getAll?this.getAllBulk():this.getAllWithCursor();var d=a.map(function(g,C){return new Promise(function(D,$){var ee;try{ee=l.store.get(g)}catch(ue){$(ue);return}ee.onerror=$,ee.onsuccess=function(ue){D(l.deserializeFn(ue.target.result))}})},this);return Promise.all(d)},f.prototype.put=function(a){var l=this;if(a.length===0)return Promise.resolve();var d=a.map(function(g){return l.performWriteOp(function(){return l.store.put(g.serialize())})},this);return Promise.all(d).then(function(){})},f.prototype.remove=function(a,l){var d=this,g=function(){var C=a.map(function(D){return d.performWriteOp(function(){return d.store.delete(D)})});return Promise.all(C).then(function(){})};return l?g():new Promise(function(C,D){var $=d.store.count();$.onsuccess=function(ee){if(a.length===0||ee.target.result===a.length){d.performWriteOp(function(){return d.store.clear()}).then(C,D);return}g().then(C,D)},$.onerror=D})},f.prototype.getAllWithCursor=function(){var a=this;return new Promise(function(l,d){var g=[],C;try{C=a.store.openCursor()}catch(D){d(D);return}C.onerror=d,C.onsuccess=function(){var D=C.result;D?(g.push(a.deserializeFn(D.value)),D.continue()):l(g)}})},f.prototype.getAllBulk=function(){var a=this;return new Promise(function(l,d){var g;try{g=a.store.getAll()}catch(C){d(C);return}g.onerror=d,g.onsuccess=function(){var C=g.result.map(function(D){return a.deserializeFn(D)});l(C)}})},f.prototype.performWriteOp=function(a){return new Promise(function(l,d){var g;try{g=a()}catch(C){d(C);return}g.onsuccess=function(C){return l()},g.onerror=d})},f}(),Ja=function(f){t(a,f);function a(l,d,g,C,D){var $=f.call(this,g,D)||this;return $.global=l,$.tx=d,$.bundleMode=C,$.tx.oncomplete=function(){$.resolver.resolve()},$.tx.onabort=function(ee){$.resolver.reject(ee)},$}return a.prototype.getTable=function(l,d,g){if(this.bundleMode){var C=g!=null?g:N.DATA;return vl.forTableType(this.global,this.tx.objectStore(l),d,C)}else return new bl(this.tx.objectStore(l),d)},a.prototype.abort=function(){this.tx.abort()},a.prototype.commitInternal=function(){return this.resolver.promise},a}(Uo),wa=function(){function f(a,l){this.global=a,this.schema=l,this.bundledMode=this.schema.pragma().enableBundledMode||!1}return f.prototype.init=function(a){var l=this,d=window.indexedDB;if(d==null)throw new U(w.IDB_NOT_PROVIDED);var g=a||function(C){return Promise.resolve()};return new Promise(function(C,D){var $;try{$=d.open(l.schema.name(),l.schema.version())}catch(ee){D(ee);return}$.onerror=function(ee){var ue=ee.target.error;D(new U(w.CANT_OPEN_IDB,ue.name,ue.message))},$.onupgradeneeded=function(ee){l.onUpgradeNeeded(g,ee).then(function(){},D)},$.onsuccess=function(ee){l.db=ee.target.result,l.scanRowId().then(function(ue){B.setNextIdIfGreater(ue+1),C(l.db)})}})},f.prototype.createTx=function(a,l,d){var g=this.db.transaction(this.getIndexedDBScope(l),a===v.READ_ONLY?"readonly":"readwrite");return new Ja(this.global,g,a,this.bundledMode,d)},f.prototype.close=function(){this.db.close()},f.prototype.getTableInternal=function(a){throw new U(w.CANT_GET_IDB_TABLE)},f.prototype.subscribe=function(a){},f.prototype.unsubscribe=function(a){},f.prototype.notify=function(a){},f.prototype.supportsImport=function(){return!0},f.prototype.peek=function(){return this.db},f.prototype.onUpgradeNeeded=function(a,l){var d=l.target.result,g=l.target.transaction,C=new ya(l.oldVersion,d,g,this.bundledMode);return this.removeIndexTables(d,g),this.createTables(d),a(C)},f.prototype.removeIndexTables=function(a,l){for(var d=[],g=0;g<a.objectStoreNames.length;++g){var C=a.objectStoreNames.item(g);C.indexOf(".")!==-1&&d.push(C)}d.forEach(function(D){try{a.deleteObjectStore(D)}catch{}})},f.prototype.createTables=function(a){var l=this;this.schema.tables().forEach(function(d){l.createObjectStoresForTable(a,d)},this)},f.prototype.createObjectStoresForTable=function(a,l){var d=this;if(a.objectStoreNames.contains(l.getName())||a.createObjectStore(l.getName(),{keyPath:"id"}),l.persistentIndex()){var g=l.getIndices();g.forEach(function(C){d.createIndexTable(a,C.getNormalizedName())},this),this.createIndexTable(a,l.getRowIdIndexName())}},f.prototype.createIndexTable=function(a,l){a.objectStoreNames.contains(l)||a.createObjectStore(l,{keyPath:"id"})},f.prototype.getIndexedDBScope=function(a){var l=new Set;return a.forEach(function(d){if(l.add(d.getName()),d.persistentIndex()){var g=d.getIndices();g.forEach(function(C){return l.add(C.getNormalizedName())}),l.add(d.getRowIdIndexName())}}),Array.from(l.values())},f.prototype.scanRowId=function(a){var l=this,d=this.schema.tables().map(function(ue){return ue.getName()}),g=this.db,C=0,D=function(ue){if(l.bundledMode){var me=Fn.deserialize(ue.value);return Object.keys(me.getPayload()).reduce(function(Oe,Fe){return Math.max(Oe,Number(Fe))},0)}return ue.key},$=function(ue){return new Promise(function(me,Oe){var Fe;try{var Ye=a||g.transaction([ue]);Fe=Ye.objectStore(ue).openCursor(void 0,"prev")}catch(vt){Oe(vt);return}Fe.onsuccess=function(vt){var it=vt.target.result;it&&(C=Math.max(C,D(it))),me(C)},Fe.onerror=function(){return me(C)}})},ee=function(){if(d.length===0)return Promise.resolve();var ue=d.shift();return $(ue).then(ee)};return new Promise(function(ue,me){ee().then(function(){return ue(C)})})},f}();(function(f){t(a,f);function a(l,d,g){var C=f.call(this,d,g)||this;return C.store=l,d===v.READ_ONLY&&C.resolver.resolve(),C}return a.prototype.getTable=function(l,d,g){return this.store.getTableInternal(l)},a.prototype.abort=function(){this.resolver.reject()},a.prototype.commitInternal=function(){return this.store.commit(),this.resolver.resolve(),this.resolver.promise},a})(Uo);var so=function(){function f(){this.data=new Map}return f.prototype.getSync=function(a){var l=this;if(a.length===0)return Array.from(this.data.values());var d=[];return a.forEach(function(g){var C=l.data.get(g)||null;C!==null&&d.push(C)},this),d},f.prototype.getData=function(){return this.data},f.prototype.get=function(a){return Promise.resolve(this.getSync(a))},f.prototype.putSync=function(a){var l=this;a.forEach(function(d){return l.data.set(d.id(),d)})},f.prototype.put=function(a){return this.putSync(a),Promise.resolve()},f.prototype.removeSync=function(a){var l=this;a.length===0||a.length===this.data.size?this.data.clear():a.forEach(function(d){return l.data.delete(d)})},f.prototype.remove=function(a){return this.removeSync(a),Promise.resolve()},f.prototype.getMaxRowId=function(){return this.data.size===0?0:Array.from(this.data.keys()).reduce(function(a,l){return a>l?a:l},0)},f}(),$o=function(){function f(a){this.schema=a,this.tables=new Map}return f.prototype.init=function(a){var l=this;return this.schema.tables().forEach(function(d){return l.initTable(d)},this),Promise.resolve()},f.prototype.getTableInternal=function(a){var l=this.tables.get(a)||null;if(l===null)throw new U(w.TABLE_NOT_FOUND,a);return l},f.prototype.createTx=function(a,l,d){return new Wo(this,a,d)},f.prototype.close=function(){},f.prototype.subscribe=function(a){},f.prototype.unsubscribe=function(a){},f.prototype.notify=function(a){},f.prototype.supportsImport=function(){return!0},f.prototype.peek=function(){return this.tables},f.prototype.createTable=function(a){this.tables.has(a)||this.tables.set(a,new so)},f.prototype.initTable=function(a){var l=this;this.createTable(a.getName()),a.persistentIndex()&&(a.getIndices().forEach(function(d){l.createTable(d.getNormalizedName())},this),this.createTable(a.getRowIdIndexName()))},f}(),Wo=function(f){t(a,f);function a(l,d,g){var C=f.call(this,d,g)||this;return C.store=l,d===v.READ_ONLY&&C.resolver.resolve(),C}return a.prototype.getTable=function(l,d,g){return this.store.getTableInternal(l)},a.prototype.abort=function(){this.resolver.reject()},a.prototype.commitInternal=function(){return this.resolver.resolve(),this.resolver.promise},a}(Uo),En=function(f){t(a,f);function a(l){var d=f.call(this,l)||this;return d.observer=null,d}return a.prototype.subscribe=function(l){this.observer===null&&(this.observer=l)},a.prototype.unsubscribe=function(l){this.observer=null},a.prototype.notify=function(l){this.observer!==null&&this.observer(l)},a.prototype.supportsImport=function(){return!1},a}($o),Sl=function(){function f(a,l,d){this.tx=a,this.deserializeFn=d,this.name='"'+l+'"'}return f.prototype.get=function(a){var l=a.length===0?"":"WHERE id IN ("+a.join(",")+")",d="SELECT id, value FROM "+this.name+" "+l,g=this.deserializeFn,C=function(D){for(var $=D,ee=$.rows.length,ue=new Array(ee),me=0;me<ee;++me)ue[me]=g({id:$.rows.item(me).id,value:JSON.parse($.rows.item(me).value)});return ue};return this.tx.queue(d,[],C)},f.prototype.put=function(a){var l=this;if(a.length===0)return Promise.resolve();var d="INSERT OR REPLACE INTO "+this.name+" (id, value) VALUES (?, ?)";return a.forEach(function(g){l.tx.queue(d,[g.id(),JSON.stringify(g.payload())])},this),Promise.resolve()},f.prototype.remove=function(a,l){var d=a.length===0?"":"WHERE id IN ("+a.join(",")+")",g="DELETE FROM "+this.name+" "+d;return this.tx.queue(g,[]),Promise.resolve()},f}(),Un=function(f){t(a,f);function a(l,d,g){var C=f.call(this,d,g)||this;return C.db=l,C.tables=new Map,C.commands=[],C}return a.escapeTableName=function(l){return l.replace(".",a.INDEX_MARK).replace("#","__s__")},a.prototype.getTable=function(l,d,g){var C=this.tables.get(l)||null;return C===null&&(C=new Sl(this,a.escapeTableName(l),d),this.tables.set(l,C)),C},a.prototype.queue=function(l,d,g){var C=new $e;return this.commands.push({params:d,resolver:C,statement:l,transform:g}),C.promise},a.prototype.abort=function(){this.commands=[]},a.prototype.commitInternal=function(){var l=this,d=null,g=this.resolver.reject.bind(this.resolver),C=function(ee,ue){return l.resolver.reject(ue),!1},D=[],$=function(ee,ue){if(d!==null){var me=ue;d.transform&&ue!==null&&ue!==void 0&&(me=d.transform(ue)),D.push(me),d.resolver.resolve(me)}if(l.commands.length>0){var Oe=l.commands.shift();d=Oe,ee.executeSql(Oe.statement,Oe.params,$,C)}else l.resolver.resolve(D)};return this.txType===v.READ_ONLY?this.db.readTransaction($,g):this.db.transaction($,g),this.resolver.promise},a.INDEX_MARK="__d__",a}(Uo),Qa=function(){function f(a,l,d){this.global=a,this.version=l,this.db=d}return f.queueListTables=function(a){var l='SELECT tbl_name FROM sqlite_master WHERE type="table"';a.queue(l,[],function(d){for(var g=d.rows,C=new Array(g.length),D=0;D<C.length;++D)C[D]=g.item(D).tbl_name;return C})},f.prototype.getRawDBInstance=function(){return this.db},f.prototype.getRawTransaction=function(){throw new U(w.NO_WEBSQL_TX)},f.prototype.dropTable=function(a){var l=this.createTx();return l.queue("DROP TABLE "+a,[]),l.commit()},f.prototype.addTableColumn=function(a,l,d){var g=ya.convert(d);return this.transformColumn(a,function(C){return C.value[l]=g,C})},f.prototype.dropTableColumn=function(a,l){return this.transformColumn(a,function(d){return delete d.value[l],d})},f.prototype.renameTableColumn=function(a,l,d){return this.transformColumn(a,function(g){return g.value[d]=g.value[l],delete g.value[l],g})},f.prototype.createRow=function(a){var l={};return Object.keys(a).forEach(function(d){l[d]=ya.convert(a[d])}),B.create(l)},f.prototype.getVersion=function(){return this.version},f.prototype.dump=function(){var a=this,l=new $e,d=this.createTx();f.queueListTables(d);var g={};return d.commit().then(function(C){var D=C,$=D[0].filter(function(ue){return ue!=="__lf_ver"&&ue!=="__WebKitDatabaseInfoTable__"}),ee=$.map(function(ue){return a.dumpTable(ue).then(function(me){return g[ue]=me})},a);Promise.all(ee).then(function(){return l.resolve(g)})}),l.promise},f.prototype.createTx=function(){return new Un(this.db,v.READ_WRITE,new ao(this.global,new Set))},f.prototype.dumpTable=function(a){var l=this.createTx();return l.queue("SELECT id, value FROM "+a,[]),l.commit().then(function(d){for(var g=d,C=g[0].rows.length,D=new Array(C),$=0;$<C;++$)D[$]={id:g[0].rows.item($).id,value:JSON.parse(g[0].rows.item($).value)};return Promise.resolve(D)})},f.prototype.transformColumn=function(a,l){var d=this.createTx(),g="UPDATE "+a+" SET value=? WHERE id=?";return this.dumpTable(a).then(function(C){return C.forEach(function(D){var $=l(D);d.queue(g,[JSON.stringify($.value),$.id])}),d.commit()})},f}(),Ri=function(){function f(a,l,d){this.global=a,this.schema=l,this.size=d||1}return f.escape=function(a){return'"'+a+'"'},f.prototype.init=function(a){var l=this;if(!window.openDatabase)throw new U(w.WEBSQL_NOT_PROVIDED);var d=function(C){return Promise.resolve()},g=a||d;return new Promise(function(C,D){var $=window.openDatabase(l.schema.name(),"",l.schema.name(),l.size);if($)l.db=$,l.checkVersion(g).then(function(){l.scanRowId().then(C,D)},function(ee){throw ee instanceof U?ee:new U(w.CANT_OPEN_WEBSQL_DB,ee.message)});else throw new U(w.CANT_OPEN_WEBSQL_DB)})},f.prototype.initialized=function(){return this.db!==void 0&&this.db!==null},f.prototype.createTx=function(a,l,d){if(this.db)return new Un(this.db,a,d);throw new U(w.CONNECTION_CLOSED)},f.prototype.close=function(){},f.prototype.getTableInternal=function(a){throw new U(w.CANT_GET_WEBSQL_TABLE)},f.prototype.subscribe=function(a){this.notSupported()},f.prototype.unsubscribe=function(a){this.notSupported()},f.prototype.notify=function(a){this.notSupported()},f.prototype.supportsImport=function(){return!0},f.prototype.getEmptyJournal=function(){return new ao(this.global,new Set)},f.prototype.checkVersion=function(a){var l=this,d="CREATE TABLE IF NOT EXISTS __lf_ver(id INTEGER PRIMARY KEY, v INTEGER)",g="SELECT v FROM __lf_ver WHERE id = 0",C=new $e,D=new Un(this.db,v.READ_WRITE,this.getEmptyJournal());return D.queue(d,[]),D.queue(g,[]),D.commit().then(function($){var ee=$,ue=0;ee[1].rows.length&&(ue=ee[1].rows.item(0).v),ue<l.schema.version()?l.onUpgrade(a,ue).then(C.resolve.bind(C)):ue>l.schema.version()?C.reject(new U(w.INCOMPATIBLE_DB)):C.resolve()},C.reject.bind(C)),C.promise},f.prototype.notSupported=function(){throw new U(w.NO_CHANGE_NOTIFICATION)},f.prototype.onUpgrade=function(a,l){var d=this;return this.preUpgrade().then(function(){var g=new Qa(d.global,l,d.db);return a(g)})},f.prototype.preUpgrade=function(){var a=this.schema.tables(),l=new Un(this.db,v.READ_WRITE,this.getEmptyJournal()),d=new Un(this.db,v.READ_WRITE,this.getEmptyJournal());return l.queue("INSERT OR REPLACE INTO __lf_ver VALUES (0, ?)",[this.schema.version()]),Qa.queueListTables(l),l.commit().then(function(g){var C=g,D=C[1];D.filter(function(ee){return ee.indexOf(Un.INDEX_MARK)!==-1}).forEach(function(ee){return d.queue("DROP TABLE "+f.escape(ee),[])});var $=[];return a.map(function(ee){if(D.indexOf(ee.getName())===-1&&$.push(ee.getName()),ee.persistentIndex()){ee.getIndices().forEach(function(me){var Oe=Un.escapeTableName(me.getNormalizedName());$.push(Oe)});var ue=Un.escapeTableName(ee.getRowIdIndexName());$.push(ue)}}),$.forEach(function(ee){d.queue("CREATE TABLE "+f.escape(ee)+"(id INTEGER PRIMARY KEY, value TEXT)",[])}),d.commit()})},f.prototype.scanRowId=function(){var a=this,l=0,d=new $e,g=function(D){var $=new Un(a.db,v.READ_ONLY);return $.queue("SELECT MAX(id) FROM "+f.escape(D),[]),$.commit().then(function(ee){var ue=ee,me=ue[0].rows.item(0)["MAX(id)"];l=Math.max(me,l)})},C=this.schema.tables().map(function(D){return g(D.getName())});return Promise.all(C).then(function(){B.setNextIdIfGreater(l+1),d.resolve()},function(D){d.reject(D)}),d.promise},f}(),El=function(){function f(){}return f.inspect=function(a,l,d,g){return a===null?f.listDb():l===null?f.listTables(a):f.inspectTable(a,l,d,g)},f.toString=function(a){var l="";try{l=JSON.stringify(a)}catch{}return l},f.getGlobal=function(a){var l=F.get(),d=new M("ns_"+a);return l.isRegistered(d)?l.getService(d):null},f.listDb=function(){var a=F.get(),l={};return a.listServices().forEach(function(d){if(d.substring(0,3)==="ns_"){var g=d.substring(3);l[g]=f.getGlobal(g).getService(We.SCHEMA).version()}}),f.toString(l)},f.listTables=function(a){var l=f.getGlobal(a),d={};if(l!=null){var g=l.getService(We.INDEX_STORE);l.getService(We.SCHEMA).tables().forEach(function(C){var D=C;d[D.getName()]=g.get(D.getRowIdIndexName()).stats().totalRows})}return f.toString(d)},f.inspectTable=function(a,l,d,g){var C=f.getGlobal(a),D=[];if(C!=null){var $=null;try{$=C.getService(We.SCHEMA).table(l)}catch{}if($!=null){var ee=C.getService(We.INDEX_STORE),ue=C.getService(We.CACHE),me=ee.get($.getRowIdIndexName()).getRange(void 0,!1,d,g);me.length&&(D=ue.getMany(me).map(function(Oe){return Oe.payload()}))}}return f.toString(D)},f}(),Za=function(){function f(a){var l=this;this.map=new Map,this.tableRows=new Map,a.tables().forEach(function(d){l.tableRows.set(d.getName(),new Set)},this)}return f.prototype.set=function(a,l){this.map.set(l.id(),l),this.getTableRowSet(a).add(l.id())},f.prototype.setMany=function(a,l){var d=this,g=this.getTableRowSet(a);l.forEach(function(C){d.map.set(C.id(),C),g.add(C.id())},this)},f.prototype.get=function(a){return this.map.get(a)||null},f.prototype.getMany=function(a){var l=this;return a.map(function(d){return l.get(d)})},f.prototype.getRange=function(a,l,d){var g=this,C=[],D=Math.min(l,d),$=Math.max(l,d),ee=this.getTableRowSet(a);if(ee.size<$-D)ee.forEach(function(Oe){if(Oe>=D&&Oe<=$){var Fe=g.map.get(Oe);W(Fe!=null,"Inconsistent cache 1"),C.push(Fe)}},this);else for(var ue=D;ue<=$;++ue)if(!!ee.has(ue)){var me=this.map.get(ue);W(me!=null,"Inconsistent cache 2"),C.push(me)}return C},f.prototype.remove=function(a,l){this.map.delete(l),this.getTableRowSet(a).delete(l)},f.prototype.removeMany=function(a,l){var d=this,g=this.getTableRowSet(a);l.forEach(function(C){d.map.delete(C),g.delete(C)},this)},f.prototype.getCount=function(a){return a?this.getTableRowSet(a).size:this.map.size},f.prototype.clear=function(){this.map.clear(),this.tableRows.clear()},f.prototype.getTableRowSet=function(a){var l=this.tableRows.get(a);return l},f}(),ba=function(){function f(){}return f.hashCode=function(a){for(var l=0,d=0;d<a.length;++d)l=(l<<5)-l+a.charCodeAt(d),l=l&l;return l},f.hashArray=function(a){var l=a.map(function(d){return d!=null?f.hashCode(d.toString()).toString(32):""});return l.join("_")},f.slice=function(a,l,d,g){var C=l?a.reverse():a;if(d==null&&g==null)return C;var D=Math.min(d!==void 0?d:C.length,C.length);if(D===0)return[];var $=Math.min(g||0,C.length);return C.slice($,$+D)},f}(),ii=function(){function f(a,l,d,g){this.name=a,this.comparatorObj=l,this.uniqueKeyOnly=d,this.root=void 0,this.statsObj=new ie,g?this.root=lo.fromData(this,g):this.clear()}return f.deserialize=function(a,l,d,g){var C=new f(l,a,d),D=lo.deserialize(g,C);return C.root=D,C},f.prototype.getName=function(){return this.name},f.prototype.toString=function(){return this.root.toString()},f.prototype.add=function(a,l){this.root=this.root.insert(a,l)},f.prototype.set=function(a,l){this.root=this.root.insert(a,l,!0)},f.prototype.remove=function(a,l){this.root=this.root.remove(a,l)},f.prototype.get=function(a){return this.root.get(a)},f.prototype.cost=function(a){if(a==null)return this.stats().totalRows;if(a instanceof O){if(a.isAll())return this.stats().totalRows;if(a.isOnly())return this.get(a.from).length}return this.getRange([a]).length},f.prototype.stats=function(){return this.statsObj},f.prototype.getRange=function(a,l,d,g){var C=this,D=this.root.getLeftMostNode().keys[0];if(D===void 0||d===0)return f.EMPTY;var $=l||!1,ee=d!=null?Math.min(d,this.stats().totalRows):this.stats().totalRows,ue=g||0,me=Math.min(Math.max(this.stats().totalRows-ue,0),ee);if(me===0)return f.EMPTY;if(a===void 0||a.length===1&&a[0]instanceof O&&a[0].isAll())return this.getAll(me,$,ee,ue);var Oe=this.comparator().sortKeyRanges(a),Fe=new Array($?this.stats().totalRows:me),Ye={count:0,limit:Fe.length,reverse:$,skip:ue},vt=this.comparator().keyDimensions()>1;return Oe.forEach(function(it){for(var Tt=C.comparator().rangeToKeys(it),an=C.comparator().isLeftOpen(it)?D:Tt[0],Ft=C.root.getContainingLeaf(an),Wn=0;Ft!=null&&Ye.count<Ye.limit;)vt?Ft.getRangeWithFilter(it,Ye,Fe):Ft.getRange(it,Ye,Fe),Ye.skip===0&&!Ft.isFirstKeyInRange(it)?Wn++:Wn=0,Ft=Wn===2?null:Ft.next},this),Fe.length>Ye.count&&Fe.splice(Ye.count,Fe.length-Ye.count),$?ba.slice(Fe,$,ee,ue):Fe},f.prototype.clear=function(){this.root=lo.create(this),this.stats().clear()},f.prototype.containsKey=function(a){return this.root.containsKey(a)},f.prototype.min=function(){return this.minMax(this.comparatorObj.min.bind(this.comparatorObj))},f.prototype.max=function(){return this.minMax(this.comparatorObj.max.bind(this.comparatorObj))},f.prototype.isUniqueKey=function(){return this.uniqueKeyOnly},f.prototype.comparator=function(){return this.comparatorObj},f.prototype.eq=function(a,l){return a!=null?this.comparator().compare(a,l)===b.TIE:!1},f.prototype.serialize=function(){return lo.serialize(this.root.getLeftMostNode())},f.prototype.getAll=function(a,l,d,g){var C=l?this.stats().totalRows-a-g:g,D=new Array(a),$={count:a,offset:C,startIndex:0};return this.root.fill($,D),l?D.reverse():D},f.prototype.checkNullKey=function(a,l){if(!this.comparator().comparable(a.keys[l]))if(Array.isArray(a.keys[l])){if(a.keys[l][0]===null)return null}else return null;return[a.keys[l],this.uniqueKeyOnly?[a.values[l]]:a.values[l]]},f.prototype.findLeftMost=function(){var a=this.root.getLeftMostNode(),l=0;do{if(l>=a.keys.length){a=a.next,l=0;continue}var d=this.checkNullKey(a,l);if(d!==null)return d;l++}while(a!==null);return null},f.prototype.findRightMost=function(){var a=this.root.getRightMostNode(),l=a.keys.length-1;do{if(l<0){a=a.prev,l=0;continue}var d=this.checkNullKey(a,l);if(d!==null)return d;l--}while(a!==null);return null},f.prototype.minMax=function(a){var l=this.findLeftMost(),d=this.findRightMost();return l===null||d===null?null:a(l[0],d[0])===b.LHS?l:d},f.EMPTY=[],f}(),lo=function(){function f(a,l){this.id=a,this.tree=l,this.height=0,this.parent=null,this.prev=null,this.next=null,this.keys=[],this.values=[],this.children=[],this.getContainingLeaf=l.comparator().keyDimensions()===1?this.getContainingLeafSingleKey:this.getContainingLeafMultiKey}return f.create=function(a){return new f(B.getNextId(),a)},f.serialize=function(a){for(var l=[],d=a;d;){var g={k:d.keys,v:d.values};l.push(new B(d.id,g)),d=d.next}return l},f.deserialize=function(a,l){for(var d=l.stats(),g=a.map(function(D){var $=new f(D.id(),l);return $.keys=D.payload().k,$.values=D.payload().v,$.keys.forEach(function(ee,ue){d.add(ee,l.isUniqueKey()?1:$.values[ue].length)}),$}),C=0;C<g.length-1;++C)f.associate(g[C],g[C+1]);return g.length>1?f.createInternals(g[0]):g[0]},f.fromData=function(a,l){var d=f.MAX_KEY_LEN;if(d=d*d*d,l.length>=d)throw new U(w.TOO_MANY_ROWS,d.toString());var g=f.createLeaves(a,l);return g=f.createInternals(g),g},f.dumpLevel=function(a){var l=a.id+"["+a.keys.join("|")+"]",d=a.children.map(function(ee){return ee.id}).join("|"),g=a.values.join("/"),C=function(ee){return ee!=null?ee.id.toString():"_"},D=C(a.prev)+"{";if(D+=a.isLeaf()?g:d,D=D+"}"+C(a.parent),a.next){var $=f.dumpLevel(a.next);l=l+"  "+$[0],D=D+"  "+$[1]}return[l,D]},f.associate=function(a,l){l&&(l.prev=a),a&&(a.next=l)},f.calcNodeLen=function(a){var l=f.MAX_KEY_LEN,d=f.MIN_KEY_LEN+1;return a>=l+d?l:a>=d&&a<=l?a:d},f.createLeaves=function(a,l){for(var d=l.length,g=0,C=f.create(a),D=C;d>0;){var $=f.calcNodeLen(d),ee=l.slice(g,g+$);if(C.keys=ee.map(function(me){return me.key}),C.values=ee.map(function(me){return me.value}),g+=$,d-=$,d>0){var ue=f.create(C.tree);f.associate(C,ue),C=ue}}return D},f.createParent=function(a){var l=a[0],d=f.create(l.tree);return d.height=l.height+1,d.children=a,a.forEach(function(g,C){g.parent=d,C>0&&d.keys.push(g.keys[0])}),d},f.createInternals=function(a){var l=a,d=[];do d.push(l),l=l.next;while(l);var g;if(d.length<=f.MAX_KEY_LEN+1)g=f.createParent(d);else{var C=d.length,D=0;for(g=f.create(a.tree),g.height=a.height+2;C>0;){var $=f.calcNodeLen(C),ee=d.slice(D,D+$),ue=f.createParent(ee);ue.parent=g,g.children.length&&(g.keys.push(ee[0].keys[0]),f.associate(g.children[g.children.length-1],ue)),g.children.push(ue),D+=$,C-=$}}return g},f.leftMostKey=function(a){return a.isLeaf()?a.keys[0]:f.leftMostKey(a.children[0])},f.prototype.toString=function(){var a="",l=f.dumpLevel(this);return a+=l[0]+`
`+l[1]+`
`,this.children.length&&(a+=this.children[0].toString()),a},f.prototype.getLeftMostNode=function(){return this.isLeaf()?this:this.children[0].getLeftMostNode()},f.prototype.getRightMostNode=function(){return this.isLeaf()?this:this.children[this.children.length-1].getRightMostNode()},f.prototype.get=function(a){var l=this.searchKey(a);if(this.isLeaf()){var d=ii.EMPTY;return this.tree.eq(this.keys[l],a)&&(d=d.concat(this.values[l])),d}else return l=this.tree.eq(this.keys[l],a)?l+1:l,this.children[l].get(a)},f.prototype.containsKey=function(a){var l=this.searchKey(a);return this.tree.eq(this.keys[l],a)?!0:this.isLeaf()?!1:this.children[l].containsKey(a)},f.prototype.remove=function(a,l){if(this.delete(a,-1,l),this.isRoot()){var d=this;return this.children.length===1&&(d=this.children[0],d.parent=null),d}return this},f.prototype.insert=function(a,l,d){d===void 0&&(d=!1);var g=this.searchKey(a);if(this.isLeaf()){if(this.tree.eq(this.keys[g],a)){if(d)this.tree.stats().remove(a,this.tree.isUniqueKey()?1:this.values[g].length),this.values[g]=this.tree.isUniqueKey()?l:[l];else{if(this.tree.isUniqueKey())throw new U(w.DUPLICATE_KEYS,this.tree.getName(),JSON.stringify(a));if(!mt.binaryInsert(this.values[g],l))throw new U(w.ROW_ID_EXISTED)}return this.tree.stats().add(a,1),this}return this.keys.splice(g,0,a),this.values.splice(g,0,this.tree.isUniqueKey()?l:[l]),this.tree.stats().add(a,1),this.keys.length===f.MAX_COUNT?this.splitLeaf():this}else{g=this.tree.eq(this.keys[g],a)?g+1:g;var C=this.children[g].insert(a,l,d);return!C.isLeaf()&&C.keys.length===1&&(this.keys.splice(g,0,C.keys[0]),C.children[1].parent=this,C.children[0].parent=this,this.children.splice(g,1,C.children[1]),this.children.splice(g,0,C.children[0])),this.keys.length===f.MAX_COUNT?this.splitInternal():this}},f.prototype.getRange=function(a,l,d){var g=this.tree.comparator(),C=0,D=this.keys.length-1,$=function(vt){return vt[0]?vt[1]?b.TIE:b.LHS:b.RHS},ee=this.keys,ue=$(g.compareRange(ee[C],a)),me=$(g.compareRange(ee[D],a));if(!(ue===b.LHS||ue===b.RHS&&me===b.RHS)){var Oe=function(vt,it){var Tt=vt+it>>1;return Tt===vt?Tt+1:Tt},Fe=function(vt,it,Tt){if(vt>=it)return Tt===b.TIE?it:-1;var an=$(g.compareRange(ee[vt],a));if(an===b.TIE)return vt;if(an===b.LHS)return-1;var Ft=Oe(vt,it);if(Ft===it)return Tt===b.TIE?it:-1;var Wn=$(g.compareRange(ee[Ft],a));return Wn===b.TIE?Fe(vt,Ft,Wn):Wn===b.RHS?Fe(Ft+1,it,Tt):Fe(vt+1,Ft,Wn)},Ye=function(vt,it){if(vt>=it)return vt;var Tt=$(g.compareRange(ee[it],a));if(Tt===b.TIE)return it;if(Tt===b.RHS)return vt;var an=Oe(vt,it);if(an===it)return vt;var Ft=$(g.compareRange(ee[an],a));return Ft===b.TIE?Ye(an,it):Ft===b.LHS?Ye(vt,an-1):-1};ue!==b.TIE&&(C=Fe(C+1,D,me)),C!==-1&&(D=Ye(C,D),D!==-1&&D>=C&&this.appendResults(l,d,C,D+1))}},f.prototype.getRangeWithFilter=function(a,l,d){for(var g=this.tree.comparator(),C=-1,D=0;D<this.keys.length;++D)if(g.isInRange(this.keys[D],a)){C=D;break}if(C!==-1)for(var D=C;D<this.keys.length&&l.count<l.limit;++D)!g.isInRange(this.keys[D],a)||this.appendResultsAt(l,d,D)},f.prototype.fill=function(a,l){if(this.isLeaf())for(var d=0;d<this.values.length&&a.count>0;++d){var g=this.values[d];if(a.offset>0){if(a.offset-=this.tree.isUniqueKey()?1:g.length,a.offset<0)for(var C=g.length+a.offset;C<g.length&&a.count>0;++C)l[a.startIndex++]=g[C],a.count--;continue}if(this.tree.isUniqueKey())l[a.startIndex++]=this.values[d],a.count--;else for(var C=0;C<g.length&&a.count>0;++C)l[a.startIndex++]=g[C],a.count--}else for(var d=0;d<this.children.length&&a.count>0;++d)this.children[d].fill(a,l)},f.prototype.isFirstKeyInRange=function(a){return this.tree.comparator().isFirstKeyInRange(this.keys[0],a)},f.prototype.isLeaf=function(){return this.height===0},f.prototype.isRoot=function(){return this.parent===null},f.prototype.fix=function(){this.keys=[];for(var a=1;a<this.children.length;++a)this.keys.push(f.leftMostKey(this.children[a]))},f.prototype.delete=function(a,l,d){var g=this.searchKey(a),C=this.isLeaf();if(C){if(!this.tree.eq(this.keys[g],a))return!1}else{var D=this.tree.eq(this.keys[g],a)?g+1:g;if(this.children[D].delete(a,D,d))this.fix();else return!1}if(this.keys.length>g&&this.tree.eq(this.keys[g],a)){if(d!==void 0&&!this.tree.isUniqueKey()&&C){mt.binaryRemove(this.values[g],d)&&this.tree.stats().remove(a,1);var $=this.values[g].length;if($)return!1}if(this.keys.splice(g,1),C){var ee=this.tree.isUniqueKey()?1:this.values[g].length;this.values.splice(g,1),this.tree.stats().remove(a,ee)}}return this.keys.length<f.MIN_KEY_LEN&&!this.isRoot()&&(this.steal()||this.merge(l)),!0},f.prototype.steal=function(){var a=null,l,d,g;if(this.next&&this.next.keys.length>f.MIN_KEY_LEN)a=this.next,l=0,d=0,g=this.keys.length+1;else if(this.prev&&this.prev.keys.length>f.MIN_KEY_LEN)a=this.prev,l=this.prev.keys.length-1,d=this.isLeaf()?l:l+1,g=0;else return!1;this.keys.splice(g,0,a.keys[l]),a.keys.splice(l,1);var C=this.isLeaf()?this.values:this.children,D=null;return this.isLeaf()?D=a.values:(D=a.children,D[d].parent=this),C.splice(g,0,D[d]),D.splice(d,1),a.isLeaf()||(a.fix(),this.fix()),!0},f.prototype.merge=function(a){var l,d,g,C,D,$;if(this.next&&this.next.keys.length<f.MAX_KEY_LEN)C=this.next,D=0,$=0;else if(this.prev)C=this.prev,D=C.keys.length,$=C.isLeaf()?C.values.length:C.children.length;else throw new U(w.ASSERTION);(l=C.keys).splice.apply(l,r([D,0],this.keys));var ee=null;this.isLeaf()?ee=this.values:(ee=this.children,ee.forEach(function(ue){return ue.parent=C})),C.isLeaf()?(d=C.values).splice.apply(d,r([$,0],ee)):(g=C.children).splice.apply(g,r([$,0],ee)),f.associate(this.prev,this.next),C.isLeaf()||C.fix(),a!==-1&&(this.parent.keys.splice(a,1),this.parent.children.splice(a,1))},f.prototype.splitLeaf=function(){var a=f.MIN_KEY_LEN,l=f.create(this.tree),d=f.create(this.tree);return d.height=1,d.keys=[this.keys[a]],d.children=[this,l],d.parent=this.parent,this.parent=d,l.keys=this.keys.splice(a),l.values=this.values.splice(a),l.parent=d,f.associate(l,this.next),f.associate(this,l),d},f.prototype.splitInternal=function(){var a=f.MIN_KEY_LEN,l=f.create(this.tree),d=f.create(this.tree);return l.parent=this.parent,l.height=this.height+1,l.keys=[this.keys[a]],l.children=[this,d],this.keys.splice(a,1),d.parent=l,d.height=this.height,d.keys=this.keys.splice(a),d.children=this.children.splice(a+1),d.children.forEach(function(g){return g.parent=d}),this.parent=l,f.associate(d,this.next),f.associate(this,d),l},f.prototype.searchKey=function(a){for(var l=0,d=this.keys.length,g=this.tree.comparator();l<d;){var C=l+d>>1;g.compare(this.keys[C],a)===b.RHS?l=C+1:d=C}return l},f.prototype.getContainingLeafSingleKey=function(a){if(!this.isLeaf()){var l=this.searchKey(a);return this.tree.eq(this.keys[l],a)&&l++,this.children[l].getContainingLeaf(a)}return this},f.prototype.getContainingLeafMultiKey=function(a){if(!this.isLeaf()){var l=this.searchKey(a);if(this.tree.eq(this.keys[l],a)){var d=a.some(function(g){return g===O.UNBOUND_VALUE});d||l++}return this.children[l].getContainingLeafMultiKey(a)}return this},f.prototype.appendResultsAt=function(a,l,d){if(this.tree.isUniqueKey()){if(!a.reverse&&a.skip){a.skip--;return}l[a.count++]=this.values[d]}else for(var g=this.values[d],C=0;C<g.length&&a.count<l.length;++C){if(!a.reverse&&a.skip){a.skip--;continue}l[a.count++]=g[C]}},f.prototype.appendResults=function(a,l,d,g){for(var C=d;C<g;++C){if(!a.reverse&&a.count>=a.limit)return;this.appendResultsAt(a,l,C)}},f.MAX_COUNT=512,f.MAX_KEY_LEN=f.MAX_COUNT-1,f.MIN_KEY_LEN=f.MAX_COUNT>>1,f}(),zr=function(){function f(a){this.compareFn=a===u.DESC?f.compareDescending:f.compareAscending,this.normalizeKeyRange=a===u.DESC?function(l){return l!=null?l.reverse():null}:function(l){return l||null},this.orderRange=a===u.DESC?f.orderRangeDescending:f.orderRangeAscending}return f.compareAscending=function(a,l){return a>l?b.LHS:a<l?b.RHS:b.TIE},f.compareDescending=function(a,l){return f.compareAscending(l,a)},f.orderRangeAscending=function(a,l){return O.compare(a,l)},f.orderRangeDescending=function(a,l){return O.compare(l,a)},f.prototype.compareRange=function(a,l){var d=0,g=1,C=this.normalizeKeyRange(l),D=[O.isUnbound(C.from),O.isUnbound(C.to)];if(!D[d]){var $=this.compareFn(a,C.from);D[d]=C.excludeLower?$===b.LHS:$!==b.RHS}if(!D[g]){var $=this.compareFn(a,C.to);D[g]=C.excludeUpper?$===b.RHS:$!==b.LHS}return D},f.prototype.compare=function(a,l){return this.compareFn(a,l)},f.prototype.min=function(a,l){return a<l?b.LHS:a===l?b.TIE:b.RHS},f.prototype.max=function(a,l){return a>l?b.LHS:a===l?b.TIE:b.RHS},f.prototype.isInRange=function(a,l){var d=this.compareRange(a,l);return d[0]&&d[1]},f.prototype.isFirstKeyInRange=function(a,l){return this.isInRange(a,l)},f.prototype.getAllRange=function(){return O.all()},f.prototype.orderKeyRange=function(a,l){return this.orderRange(a,l)},f.prototype.sortKeyRanges=function(a){var l=this;return a.filter(function(d){return d!==null}).sort(function(d,g){return l.orderKeyRange(d,g)})},f.prototype.isLeftOpen=function(a){return O.isUnbound(this.normalizeKeyRange(a).from)},f.prototype.rangeToKeys=function(a){var l=this.normalizeKeyRange(a);return[l.from,l.to]},f.prototype.comparable=function(a){return a!==null},f.prototype.keyDimensions=function(){return 1},f.prototype.toString=function(){return this.compare===f.compareDescending?"SimpleComparator_DESC":"SimpleComparator_ASC"},f}(),es=function(){function f(a){this.comparators=a.map(function(l){return new zr(l)})}return f.createOrders=function(a,l){for(var d=new Array(a),g=0;g<a;++g)d[g]=l;return d},f.prototype.compare=function(a,l){var d=a,g=l;return this.forEach(d,g,function(C,D,$){return D===O.UNBOUND_VALUE||$===O.UNBOUND_VALUE?b.TIE:C.compare(D,$)})},f.prototype.min=function(a,l){var d=a,g=l;return this.forEach(d,g,function(C,D,$){return C.min(D,$)})},f.prototype.max=function(a,l){var d=a,g=l;return this.forEach(d,g,function(C,D,$){return C.max(D,$)})},f.prototype.compareRange=function(a,l){for(var d=a,g=[!0,!0],C=0;C<this.comparators.length&&(g[0]||g[1]);++C){var D=this.comparators[C].compareRange(d[C],l[C]);g[0]=g[0]&&D[0],g[1]=g[1]&&D[1]}return g},f.prototype.isInRange=function(a,l){for(var d=a,g=!0,C=0;C<this.comparators.length&&g;++C)g=this.comparators[C].isInRange(d[C],l[C]);return g},f.prototype.isFirstKeyInRange=function(a,l){var d=a;return this.comparators[0].isInRange(d[0],l[0])},f.prototype.getAllRange=function(){return this.comparators.map(function(a){return a.getAllRange()})},f.prototype.sortKeyRanges=function(a){for(var l=this,d=a.filter(function(ue){return ue.every(function(me){return me!=null})}),g=new Array(this.comparators.length),C=function(ue){g[ue]=d.map(function(me){return me[ue]})},D=0;D<g.length;D++)C(D);g.forEach(function(ue,me){ue.sort(function(Oe,Fe){return l.comparators[me].orderKeyRange(Oe,Fe)})},this);for(var $=new Array(d.length),ee=function(ue){$[ue]=g.map(function(me){return me[ue]})},D=0;D<$.length;D++)ee(D);return $.sort(function(ue,me){for(var Oe=b.TIE,Fe=0;Fe<l.comparators.length&&Oe===b.TIE;++Fe)Oe=l.comparators[Fe].orderKeyRange(ue[Fe],me[Fe]);return Oe})},f.prototype.isLeftOpen=function(a){return this.comparators[0].isLeftOpen(a[0])},f.prototype.rangeToKeys=function(a){var l=this,d=a.map(function(C,D){return l.comparators[D].rangeToKeys(C)[0]}),g=a.map(function(C,D){return l.comparators[D].rangeToKeys(C)[1]});return[d,g]},f.prototype.comparable=function(a){var l=this;return a.every(function(d,g){return l.comparators[g].comparable(d)})},f.prototype.keyDimensions=function(){return this.comparators.length},f.prototype.forEach=function(a,l,d){for(var g=b.TIE,C=0;C<this.comparators.length&&g===b.TIE;++C)g=d(this.comparators[C],a[C],l[C]);return g},f}(),Cl=function(f){t(a,f);function a(l){var d=f.call(this,l)||this;return d.compareFn=l===u.DESC?a.compareDescending:a.compareAscending,d}return a.compareAscending=function(l,d){return l===null?d===null?b.TIE:b.RHS:d===null?b.LHS:zr.compareAscending(l,d)},a.compareDescending=function(l,d){return a.compareAscending(d,l)},a.prototype.isInRange=function(l,d){return l===null?d.isAll():f.prototype.isInRange.call(this,l,d)},a.prototype.min=function(l,d){var g=this.minMax(l,d);return g===null?f.prototype.min.call(this,l,d):g},a.prototype.max=function(l,d){var g=this.minMax(l,d);return g===null?f.prototype.max.call(this,l,d):g},a.prototype.minMax=function(l,d){return l===null?d===null?b.TIE:b.RHS:d===null?b.LHS:null},a}(zr),ts=function(f){t(a,f);function a(l){var d=f.call(this,l)||this;return d.comparators=l.map(function(g){return new Cl(g)}),d}return a}(es),ns=function(){function f(){}return f.create=function(a){if(a.columns.length===1)return new zr(a.columns[0].order);var l=a.columns.map(function(g){return g.order}),d=a.columns.some(function(g){return g.schema.isNullable()});return d?new ts(l):new es(l)},f}(),Sa=function(){function f(a){this.index=a,this.nulls=new Set,this.statsNull=new ie,this.statsObj=new ie}return f.deserialize=function(a,l){for(var d=-1,g=0;g<l.length;++g)if(l[g].id()===f.NULL_ROW_ID){d=g;break}if(d===-1)throw new U(w.DATA_CORRUPTION);var C=l[d].payload().v,D=l.slice(0);D.splice(d,1);var $=a(D),ee=new f($);return C.forEach(function(ue){return ee.nulls.add(ue)}),ee},f.prototype.getName=function(){return this.index.getName()},f.prototype.add=function(a,l){a===null?(this.nulls.add(l),this.statsNull.add(a,1)):this.index.add(a,l)},f.prototype.set=function(a,l){a===null?(this.nulls.clear(),this.statsNull.clear(),this.add(a,l)):this.index.set(a,l)},f.prototype.remove=function(a,l){a===null?l?(this.nulls.delete(l),this.statsNull.remove(a,1)):(this.nulls.clear(),this.statsNull.clear()):this.index.remove(a,l)},f.prototype.get=function(a){return a===null?Array.from(this.nulls.values()):this.index.get(a)},f.prototype.min=function(){return this.index.min()},f.prototype.max=function(){return this.index.max()},f.prototype.cost=function(a){return this.index.cost(a)},f.prototype.getRange=function(a,l,d,g){var C=this.index.getRange(a,l,d,g);return a!=null?C:C.concat(Array.from(this.nulls.values()))},f.prototype.clear=function(){this.nulls.clear(),this.index.clear()},f.prototype.containsKey=function(a){return a===null?this.nulls.size!==0:this.index.containsKey(a)},f.prototype.serialize=function(){var a=[new B(f.NULL_ROW_ID,{v:Array.from(this.nulls.values())})];return a.concat(this.index.serialize())},f.prototype.comparator=function(){return this.index.comparator()},f.prototype.isUniqueKey=function(){return this.index.isUniqueKey()},f.prototype.stats=function(){return this.statsObj.updateFromList([this.index.stats(),this.statsNull]),this.statsObj},f.NULL_ROW_ID=-2,f}(),Ea=function(){function f(a){this.name=a,this.rows=new Set,this.comparatorObj=new zr(u.ASC)}return f.deserialize=function(a,l){var d=new f(a),g=l[0].payload().v;return g.forEach(function(C){return d.add(C,C)}),d},f.prototype.getName=function(){return this.name},f.prototype.add=function(a,l){if(typeof a!="number")throw new U(w.INVALID_ROW_ID);this.rows.add(a)},f.prototype.set=function(a,l){this.add(a,l)},f.prototype.remove=function(a,l){this.rows.delete(a)},f.prototype.get=function(a){return this.containsKey(a)?[a]:f.EMPTY_ARRAY},f.prototype.min=function(){return this.minMax(this.comparatorObj.min.bind(this.comparatorObj))},f.prototype.max=function(){return this.minMax(this.comparatorObj.max.bind(this.comparatorObj))},f.prototype.cost=function(a){return this.rows.size},f.prototype.getRange=function(a,l,d,g){var C=this,D=a||[O.all()],$=Array.from(this.rows.values()).filter(function(ee){return D.some(function(ue){return C.comparatorObj.isInRange(ee,ue)})},this);return ba.slice($,l,d,g)},f.prototype.clear=function(){this.rows.clear()},f.prototype.containsKey=function(a){return this.rows.has(a)},f.prototype.serialize=function(){return[new B(f.ROW_ID,{v:Array.from(this.rows.values())})]},f.prototype.comparator=function(){return this.comparatorObj},f.prototype.isUniqueKey=function(){return!0},f.prototype.stats=function(){var a=new ie;return a.totalRows=this.rows.size,a},f.prototype.minMax=function(a){if(this.rows.size===0)return null;var l=Array.from(this.rows.values()).reduce(function(d,g){return d===null||a(g,d)===b.LHS?g:d});return[l,[l]]},f.ROW_ID=0,f.EMPTY_ARRAY=[],f}(),rs=function(){function f(a){this.backStore=a.getService(We.BACK_STORE),this.indexStore=a.getService(We.INDEX_STORE),this.cache=a.getService(We.CACHE)}return f.prototype.init=function(a){var l=this,d=a.tables(),g=function(){if(d.length===0)return Promise.resolve();var C=d.shift(),D=C.persistentIndex()?l.fetchTableWithPersistentIndices(C):l.fetchTable(C);return D.then(g)};return g()},f.prototype.fetchTable=function(a){var l=this,d=this.backStore.createTx(v.READ_ONLY,[a]),g=d.getTable(a.getName(),a.deserializeRow.bind(a),N.DATA),C=g.get([]).then(function(D){l.cache.setMany(a.getName(),D),l.reconstructNonPersistentIndices(a,D)});return d.commit(),C},f.prototype.reconstructNonPersistentIndices=function(a,l){var d=this.indexStore.getTableIndices(a.getName());l.forEach(function(g){d.forEach(function(C){var D=g.keyOfIndex(C.getName());C.add(D,g.id())})})},f.prototype.fetchTableWithPersistentIndices=function(a){var l=this,d=this.backStore.createTx(v.READ_ONLY,[a]),g=d.getTable(a.getName(),a.deserializeRow,N.DATA),C=g.get([]).then(function($){l.cache.setMany(a.getName(),$)}),D=a.getIndices().map(function($){return l.reconstructPersistentIndex($,d)}).concat(this.reconstructPersistentRowIdIndex(a,d));return d.commit(),Promise.all(D.concat(C)).then(function(){})},f.prototype.reconstructPersistentIndex=function(a,l){var d=this,g=l.getTable(a.getNormalizedName(),B.deserialize,N.INDEX),C=ns.create(a);return g.get([]).then(function(D){if(D.length>0)if(a.hasNullableColumn()){var $=ii.deserialize.bind(void 0,C,a.getNormalizedName(),a.isUnique),ee=Sa.deserialize($,D);d.indexStore.set(a.tableName,ee)}else{var ue=ii.deserialize(C,a.getNormalizedName(),a.isUnique,D);d.indexStore.set(a.tableName,ue)}})},f.prototype.reconstructPersistentRowIdIndex=function(a,l){var d=this,g=l.getTable(a.getRowIdIndexName(),B.deserialize,N.INDEX);return g.get([]).then(function(C){if(C.length>0){var D=Ea.deserialize(a.getRowIdIndexName(),C);d.indexStore.set(a.getName(),D)}})},f}(),uo=function(){function f(){this._alias=null}return f.prototype.getName=function(){return"#UnknownTable"},f.prototype.getColumns=function(){return[]},f.prototype.getIndices=function(){return[]},f.prototype.persistentIndex=function(){return!1},f.prototype.getAlias=function(){return this._alias},f.prototype.getEffectiveName=function(){return this._alias||this.getName()},f.prototype.getRowIdIndexName=function(){return"#UnknownTable.#"},f.prototype.createRow=function(a){throw new U(w.NOT_SUPPORTED)},f.prototype.deserializeRow=function(a){throw new U(w.NOT_SUPPORTED)},f.prototype.getConstraint=function(){return null},f.prototype.as=function(a){return this._alias=a,this},f.prototype.col=function(a){return null},f}(),jo=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.alias=l||null,d.table=new uo,d}return a.prototype.getName=function(){return"*"},a.prototype.getNormalizedName=function(){return this.getName()},a.prototype.toString=function(){return this.getNormalizedName()},a.prototype.getTable=function(){return this.table},a.prototype.getType=function(){return h.NUMBER},a.prototype.getAlias=function(){return this.alias},a.prototype.getIndices=function(){return[]},a.prototype.getIndex=function(){return null},a.prototype.isNullable=function(){return!1},a.prototype.isUnique=function(){return!1},a.prototype.as=function(l){var d=new a(l);return d.table=this.table,d},a}(cn),oi=function(){function f(){}return f.avg=function(a){return new st(a,E.AVG)},f.count=function(a){var l=a||new jo;return new st(l,E.COUNT)},f.distinct=function(a){return new st(a,E.DISTINCT)},f.max=function(a){return new st(a,E.MAX)},f.min=function(a){return new st(a,E.MIN)},f.stddev=function(a){return new st(a,E.STDDEV)},f.sum=function(a){return new st(a,E.SUM)},f.geomean=function(a){return new st(a,E.GEOMEAN)},f}();e.fn=oi;var Ko=function(){function f(){this.store=new Map,this.tableIndices=new Map}return f.prototype.init=function(a){var l=this,d=a.tables();return d.forEach(function(g){var C=[];l.tableIndices.set(g.getName(),C);var D=g.getRowIdIndexName(),$=l.get(D);if($===null){var ee=new Ea(D);C.push(ee),l.store.set(D,ee)}g.getIndices().forEach(function(ue){var me=l.createIndex(ue);C.push(me),l.store.set(ue.getNormalizedName(),me)},l)},this),Promise.resolve()},f.prototype.get=function(a){return this.store.get(a)||null},f.prototype.set=function(a,l){var d=this.tableIndices.get(a)||null;d===null&&(d=[],this.tableIndices.set(a,d));for(var g=-1,C=0;C<d.length;C++)if(d[C].getName()===l.getName()){g=C;break}g>=0&&d.length>0?d.splice(g,1,l):d.push(l),this.store.set(l.getName(),l)},f.prototype.getTableIndices=function(a){return this.tableIndices.get(a)||[]},f.prototype.createIndex=function(a){var l=ns.create(a),d=new ii(a.getNormalizedName(),l,a.isUnique);return a.hasNullableColumn()&&a.columns.length===1?new Sa(d):d},f}();function hr(f,a,l){if(a===null)return new He(f,a,l);var d=a;return d.getIndex&&d.getIndices?new hn(f,d,l):new He(f,a,l)}var Er=function(){function f(){}return f}(),Pn=function(f){t(a,f);function a(){return f.call(this)||this}return a}(ye),Cr=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.predicate=l,d}return a.prototype.toString=function(){return"select("+this.predicate.toString()+")"},a}(Pn),ai=function(f){t(a,f);function a(){return f.call(this)||this}return a.prototype.rewrite=function(l,d){return this.rootNode=l,this.traverse(this.rootNode),this.rootNode},a.prototype.traverse=function(l){var d=this;if(l instanceof Cr){W(l.getChildCount()===1,"SelectNode must have exactly one child.");var g=this.breakAndPredicate(l.predicate),C=this.createSelectNodeChain(g);nt.replaceNodeWithChain(l,C[0],C[1]),l===this.rootNode&&(this.rootNode=C[0]),l=C[0]}l.getChildren().forEach(function(D){return d.traverse(D)})},a.prototype.breakAndPredicate=function(l){var d=this;if(l.getChildCount()===0)return[l];var g=l;if(g.operator!==I.AND)return[l];var C=g.getChildren().slice().map(function(D){return g.removeChild(D),d.breakAndPredicate(D)});return mt.flatten(C)},a.prototype.createSelectNodeChain=function(l){var d=null,g=null;return l.map(function(C,D){var $=new Cr(C);D===0?d=$:g.addChild($),g=$},this),[d,g]},a}(Er),co=function(f){t(a,f);function a(){return f.call(this)||this}return a.prototype.toString=function(){return"cross_product"},a}(Pn),Uu=function(f){t(a,f);function a(){return f.call(this)||this}return a.prototype.rewrite=function(l,d){return d.from.length<3?l:(this.rootNode=l,this.traverse(this.rootNode),this.rootNode)},a.prototype.traverse=function(l){var d=this;if(l instanceof co)for(;l.getChildCount()>2;){for(var g=new co,C=0;C<2;C++){var D=l.removeChildAt(0);g.addChild(D)}l.addChildAt(g,0)}l.getChildren().forEach(function($){return d.traverse($)})},a}(Er),Pi=function(){function f(a){this.query=a,this.rootNode=null}return f.prototype.generate=function(){return this.rootNode===null&&(this.rootNode=this.generateInternal()),this.rootNode},f}(),qo=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.table=l,d}return a.prototype.toString=function(){return"delete("+this.table.getName()+")"},a}(Pn),fo=function(){function f(a,l,d){this.rootNode=a,this.queryContext=l,this.rewritePasses=d}return f.prototype.generate=function(){var a=this;return this.rewritePasses.forEach(function(l){a.rootNode=l.rewrite(a.rootNode,a.queryContext)},this),this.rootNode},f}(),Vo=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.table=l,d}return a.prototype.toString=function(){var l=this.table,d=l.getAlias()?" as "+l.getAlias():"";return"table_access("+this.table.getName()+d+")"},a}(Pn),$u=function(f){t(a,f);function a(l,d){var g=f.call(this,l)||this;return g.rewritePasses=d,g}return a.prototype.generateInternal=function(){var l=new qo(this.query.from),d=this.query.where?new Cr(this.query.where.copy()):null,g=new Vo(this.query.from);d===null?l.addChild(g):(d.addChild(g),l.addChild(d));var C=new fo(l,this.query,this.rewritePasses);return C.generate()},a}(Pi),xl=function(f){t(a,f);function a(l,d){var g=f.call(this)||this;return g.predicate=l,g.isOuterJoin=d,g}return a.prototype.toString=function(){return"join(type: "+(this.isOuterJoin?"outer":"inner")+", "+(this.predicate.toString()+")")},a}(Pn),Wu=function(f){t(a,f);function a(){return f.call(this)||this}return a.prototype.rewrite=function(l,d){var g=d;return g.from.length<2?l:(this.rootNode=l,this.traverse(this.rootNode,g),this.rootNode)},a.prototype.traverse=function(l,d){var g=this;if(l instanceof Cr&&l.predicate instanceof hn){W(l.getChildCount()===1,"SelectNode must have exactly one child.");var C=l.predicate.getId(),D=l.getChildAt(0);if(D instanceof co){var $=d.outerJoinPredicates&&d.outerJoinPredicates.has(C),ee=new xl(l.predicate,$);nt.replaceChainWithNode(l,D,ee),l===this.rootNode&&(this.rootNode=ee),l=ee}}l.getChildren().forEach(function(ue){return g.traverse(ue,d)})},a}(Er),is=function(f){t(a,f);function a(l,d){var g=f.call(this)||this;return g.table=l,g.values=d,g}return a.prototype.toString=function(){return"insert("+this.table.getName()+", R"+this.values.length+")"},a}(Pn),ki=function(f){t(a,f);function a(l,d){var g=f.call(this)||this;return g.table=l,g.values=d,g}return a.prototype.toString=function(){return"insertOrReplace("+this.table.getName()+", R"+this.values.length+")"},a}(Pn),ju=function(f){t(a,f);function a(l){return f.call(this,l)||this}return a.prototype.generateInternal=function(){return this.query.allowReplace?new ki(this.query.into,this.query.values):new is(this.query.into,this.query.values)},a}(Pi),Ku=function(){function f(a,l){this.rootNode=a,this.scope=l}return f.prototype.getRoot=function(){return this.rootNode},f.prototype.getScope=function(){return this.scope},f}(),Ff=function(f){t(a,f);function a(){var l=f.call(this)||this;return l.alreadyPushedDown=new Set,l}return a.prototype.rewrite=function(l,d){var g=d;return g.where===void 0||g.where===null?l:(this.clear(),this.rootNode=l,this.traverse(this.rootNode,g),this.clear(),this.rootNode)},a.prototype.clear=function(){this.alreadyPushedDown.clear()},a.prototype.traverse=function(l,d){var g=this,C=function($){$.getChildren().forEach(D)},D=function($){if(!g.alreadyPushedDown.has($)){if(!g.isCandidateNode($)){C($);return}var ee=$,ue=ee.predicate.getTables(),me=function(Fe){return g.doesReferToTables(Fe,ue)},Oe=g.pushDownNodeRec(d,ee,me);g.alreadyPushedDown.add(ee),Oe!==ee&&(Oe.getParent()===null&&(g.rootNode=Oe),D(Oe)),C(ee)}};D(l)},a.prototype.pushDownNodeRec=function(l,d,g){var C=this,D=d;if(this.shouldSwapWithChild(l,d))D=nt.swapNodeWithChild(d),this.pushDownNodeRec(l,d,g);else if(this.shouldPushBelowChild(d)){var $=[],ee=function(ue){var me=new Cr(ue.predicate);return $.push(me),me};D=nt.pushNodeBelowChild(d,g,ee),$.forEach(function(ue){return C.pushDownNodeRec(l,ue,g)})}return D},a.prototype.doesReferToTables=function(l,d){var g=new Set;return nt.getLeafNodes(l).forEach(function(C){return g.add(C.table)}),l instanceof Vo&&g.add(l.table),V(g,d)},a.prototype.isCandidateNode=function(l){return l instanceof Cr},a.prototype.shouldPushBelowChild=function(l){var d=l.getChildAt(0);return d instanceof co||d instanceof xl},a.prototype.shouldSwapWithChild=function(l,d){var g=d.getChildAt(0);if(!(g instanceof Cr))return!1;if(l.outerJoinPredicates===void 0||l.outerJoinPredicates===null)return!0;var C=d.predicate instanceof hn,D=l.outerJoinPredicates.has(g.predicate.getId());return C||!D},a}(Er),qu=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.columns=l,d}return a.prototype.toString=function(){return"aggregation("+this.columns.toString()+")"},a}(Pn),Nl=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.columns=l,d}return a.prototype.toString=function(){return"group_by("+this.columns.toString()+")"},a}(Pn),Il=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.limit=l,d}return a.prototype.toString=function(){return"limit("+this.limit+")"},a}(Pn),Vu=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.orderBy=l,d}return a.prototype.toString=function(){return"order_by("+rn.orderByToString(this.orderBy)+")"},a}(Pn),Tl=function(f){t(a,f);function a(l,d){var g=f.call(this)||this;return g.columns=l,g.groupByColumns=d,g}return a.prototype.toString=function(){var l=this.groupByColumns?this.groupByColumns.map(function(g){return g.getNormalizedName()}).join(", "):"",d=l.length?", groupBy("+l+")":"";return"project("+this.columns.toString()+d+")"},a}(Pn),Ol=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.skip=l,d}return a.prototype.toString=function(){return"skip("+this.skip+")"},a}(Pn),_l=function(f){t(a,f);function a(l,d){var g=f.call(this,l)||this;return g.rewritePasses=d,g.tableAccessNodes=null,g.crossProductNode=null,g.selectNode=null,g.groupByNode=null,g.aggregationNode=null,g.orderByNode=null,g.skipNode=null,g.limitNode=null,g.projectNode=null,g}return a.prototype.generateInternal=function(){this.generateNodes();var l=this.connectNodes(),d=new fo(l,this.query,this.rewritePasses);return d.generate()},a.prototype.generateNodes=function(){this.generateTableAccessNodes(),this.generateCrossProductNode(),this.generateSelectNode(),this.generateOrderByNode(),this.generateSkipNode(),this.generateLimitNode(),this.generateGroupByNode(),this.generateAggregationNode(),this.generateProjectNode()},a.prototype.connectNodes=function(){for(var l=[this.limitNode,this.skipNode,this.projectNode,this.orderByNode,this.aggregationNode,this.groupByNode,this.selectNode,this.crossProductNode],d=-1,g=null,C=0;C<l.length;C++){var D=l[C];D!==null&&(g===null?g=D:l[d].addChild(D),d=C)}return this.tableAccessNodes.forEach(function($){l[d].addChild($)}),g},a.prototype.generateTableAccessNodes=function(){this.tableAccessNodes=this.query.from.map(function(l){return new Vo(l)})},a.prototype.generateCrossProductNode=function(){this.query.from.length>=2&&(this.crossProductNode=new co)},a.prototype.generateSelectNode=function(){this.query.where&&(this.selectNode=new Cr(this.query.where.copy()))},a.prototype.generateOrderByNode=function(){this.query.orderBy&&(this.orderByNode=new Vu(this.query.orderBy))},a.prototype.generateSkipNode=function(){(this.query.skip&&this.query.skip>0||this.query.skipBinder)&&(this.skipNode=new Ol(this.query.skip))},a.prototype.generateLimitNode=function(){this.query.limit!==void 0&&this.query.limit!==null&&(this.limitNode=new Il(this.query.limit))},a.prototype.generateGroupByNode=function(){this.query.groupBy&&(this.groupByNode=new Nl(this.query.groupBy))},a.prototype.generateAggregationNode=function(){var l=this.query.columns.filter(function(d){return d instanceof st});this.query.orderBy&&this.query.orderBy.forEach(function(d){d.column instanceof st&&l.push(d.column)}),l.length>0&&(this.aggregationNode=new qu(l))},a.prototype.generateProjectNode=function(){this.projectNode=new Tl(this.query.columns||[],this.query.groupBy||null)},a}(Pi),Al=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.table=l,d}return a.prototype.toString=function(){return"update("+this.table.getName()+")"},a}(Pn),Hu=function(f){t(a,f);function a(l){return f.call(this,l)||this}return a.prototype.generateInternal=function(){var l=new Al(this.query.table),d=this.query.where!==null?new Cr(this.query.where.copy()):null,g=new Vo(this.query.table);return d===null?l.addChild(g):(d.addChild(g),l.addChild(d)),l},a}(Pi),Uf=function(){function f(){this.selectOptimizationPasses=[new ai,new Uu,new Ff,new Wu],this.deleteOptimizationPasses=[new ai]}return f.prototype.create=function(a){var l=null;if(a instanceof on)l=new ju(a);else if(a instanceof jt)l=new $u(a,this.deleteOptimizationPasses);else if(a instanceof rn)l=new _l(a,this.selectOptimizationPasses);else if(a instanceof Bn)l=new Hu(a);else throw new U(w.UNKNOWN_QUERY_CONTEXT);var d=l.generate();return new Ku(d,a.getScope())},f}(),os=function(){function f(a,l){this.relation=a,this.columns=l}return f.prototype.calculate=function(){var a=this;this.columns.forEach(function(l){for(var d=l.getColumnChain().reverse(),g=1;g<d.length;g++){var C=d[g],D=C.getColumnChain().slice(-1)[0],$=a.getInputRelationFor(C);if($.hasAggregationResult(C))return;var ee=a.evalAggregation(C.aggregatorType,$,D);a.relation.setAggregationResult(C,ee)}},this)},f.prototype.getInputRelationFor=function(a){return a.child instanceof st?this.relation.getAggregationResult(a.child):this.relation},f.prototype.evalAggregation=function(a,l,d){var g=null;switch(a){case E.MIN:g=this.reduce(l,d,function(D,$){var ee=D,ue=$;return ue<ee?ue:ee});break;case E.MAX:g=this.reduce(l,d,function(D,$){var ee=D,ue=$;return ue>ee?ue:ee});break;case E.DISTINCT:g=this.distinct(l,d);break;case E.COUNT:g=this.count(l,d);break;case E.SUM:g=this.sum(l,d);break;case E.AVG:{var C=this.count(l,d);C>0&&(g=this.sum(l,d)/C);break}case E.GEOMEAN:g=this.geomean(l,d);break;default:g=this.stddev(l,d);break}return g},f.prototype.reduce=function(a,l,d){return a.entries.reduce(function(g,C){var D=C.getField(l);return D===null?g:g===null?D:d(g,D)},null)},f.prototype.count=function(a,l){return l instanceof jo?a.entries.length:a.entries.reduce(function(d,g){return d+(g.getField(l)===null?0:1)},0)},f.prototype.sum=function(a,l){return this.reduce(a,l,function(d,g){var C=d,D=g;return D+C})},f.prototype.stddev=function(a,l){var d=[];return a.entries.forEach(function(g){var C=g.getField(l);C!==null&&d.push(C)}),d.length===0?null:Sr.standardDeviation.apply(null,d)},f.prototype.geomean=function(a,l){var d=0,g=a.entries.reduce(function(C,D){var $=D.getField(l);return $!==null&&$!==0?(d++,C+Math.log($)):C},0);return d===0?null:Math.pow(Math.E,g/d)},f.prototype.distinct=function(a,l){var d=new Map;return a.entries.forEach(function(g){var C=g.getField(l);d.set(C,g)}),new re(Array.from(d.values()),a.getTables())},f}(),$f=function(f){t(a,f);function a(l){var d=f.call(this,ve.ANY,T.FIRST_CHILD)||this;return d.aggregatedColumns=l,d}return a.prototype.toString=function(){var l=this.aggregatedColumns.map(function(d){return d.getNormalizedName()});return"aggregation("+l.toString()+")"},a.prototype.execInternal=function(l,d,g){var C=this;return l.forEach(function(D){var $=new os(D,C.aggregatedColumns);$.calculate()},this),l},a}(ve),Yt=function(f){t(a,f);function a(){return f.call(this,2,T.ALL)||this}return a.prototype.toString=function(){return"cross_product"},a.prototype.execInternal=function(l,d,g){return this.crossProduct(l[0],l[1])},a.prototype.crossProduct=function(l,d){var g=[],C=l.getTables(),D=d.getTables();l.entries.forEach(function(ee){d.entries.forEach(function(ue){var me=X.combineEntries(ee,C,ue,D);g.push(me)})});var $=l.getTables().concat(d.getTables());return[new re(g,$)]},a}(ve),Vt=function(f){t(a,f);function a(l){var d=f.call(this,1,T.FIRST_CHILD)||this;return d.table=l,d}return a.prototype.toString=function(){return"delete("+this.table.getName()+")"},a.prototype.execInternal=function(l,d,g){var C=l[0].entries.map(function(D){return D.row});return d.remove(this.table,C),[re.createEmpty()]},a}(ve),Ca=function(f){t(a,f);function a(l,d){var g=f.call(this,0,T.NO_CHILD)||this;return g.table=d,g.indexStore=l.getService(We.INDEX_STORE),g}return a.prototype.toString=function(){return"get_row_count("+this.table.getName()+")"},a.prototype.execInternal=function(l,d,g){var C=this.indexStore.get(this.table.getRowIdIndexName()),D=new re([],[this.table.getName()]);return D.setAggregationResult(oi.count(),C.stats().totalRows),[D]},a}(ve),Ho=function(f){t(a,f);function a(l,d){var g=f.call(this,0,T.NO_CHILD)||this;return g.table=d,g.cache=l.getService(We.CACHE),g.indexStore=l.getService(We.INDEX_STORE),g}return a.prototype.toString=function(){var l="",d=this.table;return d.getAlias()&&(l=" as "+d.getAlias()),"table_access("+this.table.getName()+l+")"},a.prototype.execInternal=function(l,d,g){var C=this.table,D=this.indexStore.get(C.getRowIdIndexName()).getRange();return[re.fromRows(this.cache.getMany(D),[C.getEffectiveName()])]},a}(ve),Wf=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.global=l,d}return a.prototype.rewrite=function(l,d){if(this.rootNode=l,!this.canOptimize(d))return l;var g=nt.find(l,function(D){return D instanceof Ho})[0],C=new Ca(this.global,g.table);return nt.replaceNodeWithChain(g,C,C),this.rootNode},a.prototype.canOptimize=function(l){var d=function(D){return D!=null},g=l.columns.length===1&&l.from.length===1&&!d(l.where)&&!d(l.limit)&&!d(l.skip)&&!d(l.groupBy);if(g){var C=l.columns[0];return C instanceof st&&C.aggregatorType===E.COUNT&&C.child instanceof jo}return!1},a}(Er),jf=function(f){t(a,f);function a(l){var d=f.call(this,1,T.FIRST_CHILD)||this;return d.groupByColumns=l,d}return a.prototype.toString=function(){var l=this.groupByColumns.map(function(d){return d.getNormalizedName()});return"groupBy("+l.toString()+")"},a.prototype.execInternal=function(l,d,g){return this.calculateGroupedRelations(l[0])},a.prototype.calculateGroupedRelations=function(l){var d=this,g=new Ke,C=function(D){var $=d.groupByColumns.map(function(ee){return D.getField(ee)});return $.join(",")};return l.entries.forEach(function(D){return g.set(C(D),D)}),g.keys().map(function(D){return new re(g.get(D),l.getTables())})},a}(ve),Di;(function(f){f.HASH="hash",f.INDEX_NESTED_LOOP="index_nested_loop",f.NESTED_LOOP="nested_loop"})(Di||(Di={}));var as=function(f){t(a,f);function a(l,d,g){var C=f.call(this,2,T.ALL)||this;return C.predicate=d,C.isOuterJoin=g,C.indexStore=l.getService(We.INDEX_STORE),C.cache=l.getService(We.CACHE),C.algorithm=C.predicate.evaluatorType===fe.EQ?Di.HASH:Di.NESTED_LOOP,C.indexJoinInfo=null,C}return a.prototype.toString=function(){return"join(type: "+(this.isOuterJoin?"outer":"inner")+", "+("impl: "+this.algorithm+", "+this.predicate.toString()+")")},a.prototype.execInternal=function(l,d,g){switch(this.algorithm){case Di.HASH:return[this.predicate.evalRelationsHashJoin(l[0],l[1],this.isOuterJoin)];case Di.INDEX_NESTED_LOOP:return[this.predicate.evalRelationsIndexNestedLoopJoin(l[0],l[1],this.indexJoinInfo,this.cache)];default:return[this.predicate.evalRelationsNestedLoopJoin(l[0],l[1],this.isOuterJoin)]}},a.prototype.markAsIndexJoin=function(l){this.algorithm=Di.INDEX_NESTED_LOOP;var d=this.indexStore.get(l.getIndex().getNormalizedName());this.indexJoinInfo={index:d,indexedColumn:l,nonIndexedColumn:l===this.predicate.leftColumn?this.predicate.rightColumn:this.predicate.leftColumn}},a}(ve),Rl=function(f){t(a,f);function a(l){var d=f.call(this,ve.ANY,T.NO_CHILD)||this;return d.relations=l,d}return a.prototype.toString=function(){return"no_op_step("+this.relations[0].getTables().join(",")+")"},a.prototype.execInternal=function(l,d,g){return this.relations},a}(ve),Kf=function(f){t(a,f);function a(){return f.call(this)||this}return a.prototype.rewrite=function(l,d){if(this.rootNode=l,!this.canOptimize(d))return l;var g=nt.find(l,function(C){return C instanceof as});return g.forEach(this.processJoinStep,this),this.rootNode},a.prototype.canOptimize=function(l){return l.from.length>1},a.prototype.processJoinStep=function(l){if(!(l.predicate.evaluatorType!==fe.EQ||l.isOuterJoin)){var d=function(ue){return ue.getEffectiveName()===l.predicate.rightColumn.getTable().getEffectiveName()?l.predicate.rightColumn:l.predicate.leftColumn},g=function(ue){if(!(ue instanceof Ho))return null;var me=d(ue.table);return me.getIndex()===null?null:me},C=g(l.getChildAt(0)),D=g(l.getChildAt(1));if(!(C===null&&D===null)){var $=D!==null?D:C;l.markAsIndexJoin($);var ee=new re([],[$.getTable().getEffectiveName()]);l.replaceChildAt(new Rl([ee]),$===C?0:1)}}},a}(Er),Cn=function(){function f(a,l){this.indexSchema=a,this.predicateMap=l,this.lastQueryContext=null,this.combinations=null}return f.prototype.getKeyRangeCombinations=function(a){if(this.lastQueryContext===a)return this.combinations;var l=this.calculateKeyRangeMap(a);return this.fillMissingKeyRanges(l),this.combinations=this.indexSchema.columns.length===1?Array.from(l.values())[0].getValues():this.calculateCartesianProduct(this.getSortedKeyRangeSets(l)),this.lastQueryContext=a,this.combinations},f.prototype.calculateKeyRangeMap=function(a){var l=this,d=new Map;return Array.from(this.predicateMap.keys()).forEach(function(g){var C=l.predicateMap.get(g),D=C.map(function(ee){return a.getPredicate(ee)},l),$=new Dt([O.all()]);D.forEach(function(ee){$=Dt.intersect($,ee.toKeyRange())}),d.set(g,$)},this),d},f.prototype.fillMissingKeyRanges=function(a){for(var l=function(){return new Dt([O.all()])},d=this.indexSchema.columns.length-1;d>=0;d--){var g=this.indexSchema.columns[d],C=a.get(g.schema.getName())||null;if(C!==null)break;a.set(g.schema.getName(),l())}},f.prototype.getSortedKeyRangeSets=function(a){var l=new Map,d=0;this.indexSchema.columns.forEach(function(C){l.set(C.schema.getName(),d),d++});var g=Array.from(a.keys()).sort(function(C,D){return(l.get(C)||0)-(l.get(D)||0)});return g.map(function(C){return a.get(C)})},f.prototype.calculateCartesianProduct=function(a){W(a.length>1,"Should only be called for cross-column indices.");var l=a.map(function(d){return d.getValues()});return mt.product(l)},f}(),Pl=function(){function f(a,l){this.indexStore=a,this.indexSchema=l,this.indexedColumnNames=new Set(this.indexSchema.columns.map(function(d){return d.schema.getName()})),this.predicateMap=null,this.keyRangeCalculator=null}return f.prototype.getPredicateIds=function(){return this.predicateMap?this.predicateMap.values():[]},f.prototype.getKeyRangeCalculator=function(){return W(this.predicateMap!==null),this.keyRangeCalculator===null&&(this.keyRangeCalculator=new Cn(this.indexSchema,this.predicateMap)),this.keyRangeCalculator},f.prototype.consumePredicates=function(a){var l=this;a.forEach(function(d){var g=d.getColumns()[0].getName();l.indexedColumnNames.has(g)&&(l.predicateMap===null&&(l.predicateMap=new Ke),l.predicateMap.set(g,d.getId()))},this)},f.prototype.isUsable=function(){var a=this;if(this.predicateMap===null)return!1;var l=!1,d=!0;return this.indexSchema.columns.every(function(g){var C=a.predicateMap.has(g.schema.getName());return l&&C?(d=!1,!1):(C||(l=!0),!0)},this),d},f.prototype.calculateCost=function(a){var l=this.getKeyRangeCalculator().getKeyRangeCombinations(a),d=this.indexStore.get(this.indexSchema.getNormalizedName());return l.reduce(function(g,C){return g+d.cost(C)},0)},f}(),ho=.02,kl=function(){function f(a,l){this.tableSchema=l,this.indexStore=a.getService(We.INDEX_STORE)}return f.prototype.chooseIndexFor=function(a,l){var d=l.filter(this.isCandidate,this);if(d.length===0)return null;var g=this.generateIndexRangeCandidates(d);if(g.length===0)return null;if(g.length===1)return g[0];var C=Number.MAX_VALUE;return g.reduce(function(D,$){var ee=$.calculateCost(a);return ee<C?(C=ee,$):D},null)},f.prototype.getIndexQueryThreshold=function(){var a=this.indexStore.get(this.tableSchema.getRowIdIndexName());return Math.floor(a.stats().totalRows*ho)},f.prototype.generateIndexRangeCandidates=function(a){var l=this,d=this.tableSchema.getIndices();return d.map(function(g){var C=new Pl(l.indexStore,g);return C.consumePredicates(a),C},this).filter(function(g){return g.isUsable()})},f.prototype.isCandidate=function(a){return a instanceof He?this.isCandidateValuePredicate(a):a instanceof mn?this.isCandidateCombinedPredicate(a):!1},f.prototype.isCandidateCombinedPredicate=function(a){if(!a.isKeyRangeCompatible())return!1;var l=a.getChildAt(0).column;return l.getTable()!==this.tableSchema?!1:a.getChildCount()<=this.getIndexQueryThreshold()},f.prototype.isCandidateValuePredicate=function(a){return!(!a.isKeyRangeCompatible()||a.column.getTable()!==this.tableSchema||a.evaluatorType===fe.IN&&a.peek().length>this.getIndexQueryThreshold())},f}(),po=function(f){t(a,f);function a(l,d,g,C){var D=f.call(this,0,T.NO_CHILD)||this;return D.index=d,D.keyRangeCalculator=g,D.reverseOrder=C,D.indexStore=l.getService(We.INDEX_STORE),D.useLimit=!1,D.useSkip=!1,D}return a.prototype.toString=function(){return"index_range_scan("+this.index.getNormalizedName()+", ?, "+(this.reverseOrder?"reverse":"natural")+(this.useLimit?", limit:?":"")+(this.useSkip?", skip:?":"")+")"},a.prototype.toContextString=function(l){var d=this.toString(),g=this.keyRangeCalculator.getKeyRangeCombinations(l);return d=d.replace("?",g.toString()),this.useLimit&&(d=d.replace("?",l.limit.toString())),this.useSkip&&(d=d.replace("?",l.skip.toString())),d},a.prototype.execInternal=function(l,d,g){var C=g,D=this.keyRangeCalculator.getKeyRangeCombinations(C),$=this.indexStore.get(this.index.getNormalizedName()),ee;D.length===1&&D[0]instanceof O&&D[0].isOnly()?ee=ba.slice($.get(D[0].from),!1,this.useLimit?C.limit:void 0,this.useSkip?C.skip:void 0):ee=$.getRange(D,this.reverseOrder,this.useLimit?C.limit:void 0,this.useSkip?C.skip:void 0);var ue=ee.map(function(me){return new B(me,{})});return[re.fromRows(ue,[this.index.tableName])]},a}(ve),fn=function(f){t(a,f);function a(l){var d=f.call(this,1,T.FIRST_CHILD)||this;return d.predicateId=l,d}return a.prototype.toString=function(){return"select(?)"},a.prototype.toContextString=function(l){var d=l.getPredicate(this.predicateId);return this.toString().replace("?",d.toString())},a.prototype.execInternal=function(l,d,g){var C=g.getPredicate(this.predicateId);return[C.eval(l[0])]},a}(ve),ss=function(f){t(a,f);function a(l,d){var g=f.call(this,1,T.FIRST_CHILD)||this;return g.table=d,g.cache=l.getService(We.CACHE),g}return a.prototype.toString=function(){return"table_access_by_row_id("+this.table.getName()+")"},a.prototype.execInternal=function(l,d,g){return[re.fromRows(this.cache.getMany(l[0].getRowIds()),[this.table.getEffectiveName()])]},a}(ve),Dl=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.global=l,d}return a.prototype.rewrite=function(l,d){var g=this;this.rootNode=l;var C=nt.find(l,function(D){return D instanceof Ho});return C.forEach(function(D){var $=g.findSelectSteps(D);if($.length!==0){var ee=new kl(g.global,D.table),ue=ee.chooseIndexFor(d,$.map(function(Oe){return d.getPredicate(Oe.predicateId)}));if(ue!==null){var me=new Map;$.forEach(function(Oe){me.set(Oe.predicateId,Oe)},g),g.rootNode=g.replaceWithIndexRangeScanStep(ue,me,D,d)}}},this),this.rootNode},a.prototype.findSelectSteps=function(l){for(var d=[],g=l.getParent();g;){if(g instanceof fn)d.push(g);else if(g instanceof as)break;g=g.getParent()}return d},a.prototype.replaceWithIndexRangeScanStep=function(l,d,g,C){var D=l.getPredicateIds(),$=D.map(function(me){return d.get(me)});$.forEach(nt.removeNode);var ee=new po(this.global,l.indexSchema,l.getKeyRangeCalculator(),!1),ue=new ss(this.global,g.table);return ue.addChild(ee),nt.replaceNodeWithChain(g,ue,ee),ee.getRoot()},a}(Er),Ll=function(f){t(a,f);function a(l,d){var g=f.call(this,0,T.NO_CHILD)||this;return g.table=d,g.indexStore=l.getService(We.INDEX_STORE),g}return a.assignAutoIncrementPks=function(l,d,g){var C=l,D=C.getConstraint().getPrimaryKey(),$=D===null?!1:D.columns[0].autoIncrement;if($){var ee=D.columns[0].schema.getName(),ue=g.get(D.getNormalizedName()),me=ue.stats().maxKeyEncountered,Oe=me===null?0:me;d.forEach(function(Fe){var Ye=Fe.payload()[ee];(Ye===0||Ye===null||Ye===void 0)&&(Oe++,Fe.payload()[ee]=Oe)})}},a.prototype.toString=function(){return"insert("+this.table.getName()+")"},a.prototype.execInternal=function(l,d,g){var C=g.values;return a.assignAutoIncrementPks(this.table,C,this.indexStore),d.insert(this.table,C),[re.fromRows(C,[this.table.getName()])]},a}(ve),Ml=function(f){t(a,f);function a(l,d){var g=f.call(this,0,T.NO_CHILD)||this;return g.table=d,g.indexStore=l.getService(We.INDEX_STORE),g}return a.prototype.toString=function(){return"insert_replace("+this.table.getName()+")"},a.prototype.execInternal=function(l,d,g){var C=g;return Ll.assignAutoIncrementPks(this.table,C.values,this.indexStore),d.insertOrReplace(this.table,C.values),[re.fromRows(C.values,[this.table.getName()])]},a}(ve),xa=function(f){t(a,f);function a(){return f.call(this,1,T.FIRST_CHILD)||this}return a.prototype.toString=function(){return"limit(?)"},a.prototype.toContextString=function(l){return this.toString().replace("?",l.limit.toString())},a.prototype.execInternal=function(l,d,g){return l[0].entries.splice(g.limit),l},a}(ve),Go=function(f){t(a,f);function a(l){var d=f.call(this,ve.ANY,T.FIRST_CHILD)||this;return d.orderBy=l,d}return a.prototype.toString=function(){return"order_by("+rn.orderByToString(this.orderBy)+")"},a.prototype.execInternal=function(l,d,g){if(l.length===1){var C=this.findDistinctColumn(l[0]),D=C===null?l[0]:l[0].getAggregationResult(C);D.entries.sort(this.entryComparatorFn.bind(this))}else l.sort(this.relationComparatorFn.bind(this));return l},a.prototype.findDistinctColumn=function(l){var d=null;return this.orderBy.every(function(g){var C=oi.distinct(g.column);return l.hasAggregationResult(C)?(d=C,!1):!0},this),d},a.prototype.comparator=function(l,d){var g,C=null,D=null,$=-1;do{$++;var ee=this.orderBy[$].column;g=this.orderBy[$].order,C=l(ee),D=d(ee)}while(C===D&&$+1<this.orderBy.length);var ue=C<D?-1:C>D?1:0;return ue=g===u.ASC?ue:-ue,ue},a.prototype.entryComparatorFn=function(l,d){return this.comparator(function(g){return l.getField(g)},function(g){return d.getField(g)})},a.prototype.relationComparatorFn=function(l,d){return this.comparator(function(g){return g instanceof st?l.getAggregationResult(g):l.entries[l.entries.length-1].getField(g)},function(g){return g instanceof st?d.getAggregationResult(g):d.entries[d.entries.length-1].getField(g)})},a}(ve),$n=function(){function f(a,l){this.relation=a,this.columns=l}return f.transformMany=function(a,l){var d=a.map(function(g){var C=new f(g,l),D=C.getTransformed();return D.entries[0]});return new re(d,a[0].getTables())},f.prototype.getTransformed=function(){var a=this.columns.some(function(l){return l instanceof st});return a?this.handleAggregatedColumns():this.handleNonAggregatedColumns()},f.prototype.handleAggregatedColumns=function(){var a=this;if(this.columns.length===1&&this.columns[0].aggregatorType===E.DISTINCT){var l=this.relation.getAggregationResult(this.columns[0]),d=l.entries.map(function(C){var D=new X(new B(B.DUMMY_ID,{}),a.relation.isPrefixApplied());return D.setField(a.columns[0],C.getField(a.columns[0].child)),D},this);return new re(d,[])}var g=new X(new B(B.DUMMY_ID,{}),this.relation.isPrefixApplied());return this.columns.forEach(function(C){var D=C instanceof st?a.relation.getAggregationResult(C):a.relation.entries[0].getField(C);g.setField(C,D)},this),new re([g],this.relation.getTables())},f.prototype.handleNonAggregatedColumns=function(){var a=this,l=new Array(this.relation.entries.length),d=this.relation.isPrefixApplied();return this.relation.entries.forEach(function(g,C){l[C]=new X(new B(g.row.id(),{}),d),a.columns.forEach(function(D){l[C].setField(D,g.getField(D))},a)},this),new re(l,this.relation.getTables())},f}(),Gu=function(f){t(a,f);function a(l,d){var g=f.call(this,ve.ANY,T.FIRST_CHILD)||this;return g.columns=l,g.groupByColumns=d,g}return a.prototype.toString=function(){var l="";if(this.groupByColumns){var d=this.groupByColumns.map(function(g){return g.getNormalizedName()}).join(", ");l=", groupBy("+d+")"}return"project("+this.columns.toString()+l+")"},a.prototype.execInternal=function(l,d,g){return l.length===0?[re.createEmpty()]:l.length===1?[this.execNonGroupByProjection(l[0])]:[this.execGroupByProjection(l)]},a.prototype.hasAggregators=function(){var l=this.columns.some(function(d){return d instanceof st});return l||this.groupByColumns!==null},a.prototype.execGroupByProjection=function(l){return $n.transformMany(l,this.columns)},a.prototype.execNonGroupByProjection=function(l){if(this.columns.length===0)return l;var d=new $n(l,this.columns);return d.getTransformed()},a}(ve),Qn=function(f){t(a,f);function a(){return f.call(this,1,T.FIRST_CHILD)||this}return a.prototype.toString=function(){return"skip(?)"},a.prototype.toContextString=function(l){return this.toString().replace("?",l.skip.toString())},a.prototype.execInternal=function(l,d,g){return[new re(l[0].entries.slice(g.skip),l[0].getTables())]},a}(ve),qf=function(f){t(a,f);function a(){return f.call(this)||this}return a.prototype.rewrite=function(l,d){var g=this;if(d.limit===void 0&&d.skip===void 0)return l;var C=this.findIndexRangeScanStep(l);if(C===null)return l;var D=nt.find(l,function($){return $ instanceof xa||$ instanceof Qn});return D.forEach(function($){g.mergeToIndexRangeScanStep($,C)},this),C.getRoot()},a.prototype.mergeToIndexRangeScanStep=function(l,d){return l instanceof xa?d.useLimit=!0:d.useSkip=!0,nt.removeNode(l).parent},a.prototype.findIndexRangeScanStep=function(l){var d=function(D){return D instanceof po},g=function(D){var $=D instanceof Gu&&D.hasAggregators();return $||D instanceof Go||D.getChildCount()!==1||D instanceof fn},C=nt.find(l,d,g);return C.length>0?C[0]:null},a}(Er),Yu=function(f){t(a,f);function a(){return f.call(this,ve.ANY,T.ALL)||this}return a.prototype.toString=function(){return"multi_index_range_scan()"},a.prototype.execInternal=function(l,d,g){var C=new Map;l.forEach(function($){$.entries.forEach(function(ee){C.set(ee.row.id(),ee)})});var D=Array.from(C.values());return[new re(D,l[0].getTables())]},a}(ve),Li=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.global=l,d}return a.prototype.rewrite=function(l,d){this.rootNode=l;var g=this.findOrPredicates(d);if(g.length===0)return this.rootNode;var C=null,D=null,$=0;do D=g[$++],C=this.findIndexRangeCandidates(D,d);while(C===null&&$<g.length);if(C===null)return this.rootNode;var ee=this.findTableAccessFullStep(C[0].indexSchema.tableName);return ee===null?this.rootNode:(this.rootNode=this.replaceWithIndexRangeScan(D,ee,C),this.rootNode)},a.prototype.findOrPredicates=function(l){var d=function(g){if(!(g instanceof fn))return!1;var C=l.getPredicate(g.predicateId);return C instanceof mn&&C.operator===I.OR};return nt.find(this.rootNode,d)},a.prototype.findTableAccessFullStep=function(l){return nt.find(this.rootNode,function(d){return d instanceof Ho&&d.table.getName()===l})[0]||null},a.prototype.findIndexRangeCandidates=function(l,d){var g=d.getPredicate(l.predicateId),C=g.getTables();if(C.size!==1)return null;var D=Array.from(C.values())[0],$=new kl(this.global,D),ee=null,ue=g.getChildren().every(function(me){var Oe=$.chooseIndexFor(d,[me]);return Oe!==null&&(ee===null?ee=[Oe]:ee.push(Oe)),Oe!==null});return ue?ee:null},a.prototype.replaceWithIndexRangeScan=function(l,d,g){var C=this,D=new ss(this.global,d.table),$=new Yu;return D.addChild($),g.forEach(function(ee){var ue=new po(C.global,ee.indexSchema,ee.getKeyRangeCalculator(),!1);$.addChild(ue)},this),nt.removeNode(l),nt.replaceNodeWithChain(d,D,$),$.getRoot()},a}(Er),ls=function(){function f(a){this.indexSchema=a}return f.prototype.getKeyRangeCombinations=function(a){return this.indexSchema.columns.length===1?[O.all()]:[this.indexSchema.columns.map(function(l){return O.all()})]},f}(),zl=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.global=l,d}return a.prototype.rewrite=function(l,d){var g=this.findOrderByStep(l,d);if(g===null)return l;var C=this.applyTableAccessFullOptimization(g);return C===g&&(C=this.applyIndexRangeScanStepOptimization(g)),C.getRoot()},a.prototype.applyTableAccessFullOptimization=function(l){var d=l,g=this.findTableAccessFullStep(l.getChildAt(0));if(g!==null){var C=this.findIndexCandidateForOrderBy(g.table,l.orderBy);if(C===null)return d;var D=new po(this.global,C.indexSchema,new ls(C.indexSchema),C.isReverse),$=new ss(this.global,g.table);$.addChild(D),nt.removeNode(l),d=nt.replaceNodeWithChain(g,$,D)}return d},a.prototype.applyIndexRangeScanStepOptimization=function(l){var d=l,g=this.findIndexRangeScanStep(l.getChildAt(0));if(g!==null){var C=this.getIndexCandidateForIndexSchema(g.index,l.orderBy);if(C===null)return d;g.reverseOrder=C.isReverse,d=nt.removeNode(l).parent}return d},a.prototype.findIndexRangeScanStep=function(l){var d=function(D){return D instanceof po},g=function(D){return D.getChildCount()!==1},C=nt.find(l,d,g);return C.length>0?C[0]:null},a.prototype.findTableAccessFullStep=function(l){var d=function(D){return D instanceof Ho},g=function(D){return D.getChildCount()!==1},C=nt.find(l,d,g);return C.length>0?C[0]:null},a.prototype.findOrderByStep=function(l,d){return d.orderBy===void 0?null:nt.find(l,function(g){return g instanceof Go})[0]},a.prototype.findIndexCandidateForOrderBy=function(l,d){for(var g=null,C=l.getIndices(),D=0;D<C.length&&g===null;D++)g=this.getIndexCandidateForIndexSchema(C[D],d);return g},a.prototype.getIndexCandidateForIndexSchema=function(l,d){var g=l.columns.length===d.length&&d.every(function(D,$){var ee=l.columns[$];return D.column.getName()===ee.schema.getName()});if(!g)return null;var C=this.checkOrder(d,l);return!C[0]&&!C[1]?null:{indexSchema:l,isReverse:C[1]}},a.prototype.checkOrder=function(l,d){var g=l.reduce(function(ue,me){return ue<<1|(me.order===u.DESC?0:1)},0),C=d.columns.reduce(function(ue,me){return ue<<1|(me.order===u.DESC?0:1)},0),D=g^C,$=D===0,ee=D===Math.pow(2,Math.max(l.length,d.columns.length))-1;return[$,ee]},a}(Er),Xt=function(){function f(a,l,d){this.rootNode=a,this.queryContext=l,this.rewritePasses=d}return f.prototype.generate=function(){var a=this;return this.rewritePasses.forEach(function(l){a.rootNode=l.rewrite(a.rootNode,a.queryContext)},this),this.rootNode},f}(),Br=function(f){t(a,f);function a(l){var d=f.call(this,1,T.FIRST_CHILD)||this;return d.table=l,d}return a.prototype.toString=function(){return"update("+this.table.getName()+")"},a.prototype.execInternal=function(l,d,g){var C=this,D=this.table,$=l[0].entries.map(function(ee){var ue=D.deserializeRow(ee.row.serialize());return g.set.forEach(function(me){ue.payload()[me.column.getName()]=me.value},C),ue},this);return d.update(D,$),[re.createEmpty()]},a}(ve),us=function(){function f(a){this.global=a,this.selectOptimizationPasses=[new Kf,new Dl(a),new Li(a),new zl(a),new qf,new Wf(a)],this.deleteOptimizationPasses=[new Dl(a)]}return f.prototype.create=function(a,l){var d=a.getRoot();if(d instanceof ki||d instanceof is)return this.createPlan(a,l);if(d instanceof Tl||d instanceof Il||d instanceof Ol)return this.createPlan(a,l,this.selectOptimizationPasses);if(d instanceof qo||d instanceof Al)return this.createPlan(a,l,this.deleteOptimizationPasses);throw new U(w.UNKNOWN_PLAN_NODE)},f.prototype.createPlan=function(a,l,d){var g=nt.map(a.getRoot(),this.mapFn.bind(this));if(d!=null){var C=new Xt(g,l,d);g=C.generate()}return new Pe(g,a.getScope())},f.prototype.mapFn=function(a){if(a instanceof Tl)return new Gu(a.columns,a.groupByColumns);if(a instanceof Nl)return new jf(a.columns);if(a instanceof qu)return new $f(a.columns);if(a instanceof Vu)return new Go(a.orderBy);if(a instanceof Ol)return new Qn;if(a instanceof Il)return new xa;if(a instanceof Cr)return new fn(a.predicate.getId());if(a instanceof co)return new Yt;if(a instanceof xl)return new as(this.global,a.predicate,a.isOuterJoin);if(a instanceof Vo)return new Ho(this.global,a.table);if(a instanceof qo)return new Vt(a.table);if(a instanceof Al)return new Br(a.table);if(a instanceof ki)return new Ml(this.global,a.table);if(a instanceof is)return new Ll(this.global,a.table);throw new U(w.UNKNOWN_NODE_TYPE)},f}(),Yo=function(){function f(a){this.logicalPlanFactory=new Uf,this.physicalPlanFactory=new us(a)}return f.prototype.getPlan=function(a){var l=this.logicalPlanFactory.create(a);return this.physicalPlanFactory.create(l,a)},f}(),Bl=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.global=l,d.schema=l.getService(We.SCHEMA),d.scope=new Set(d.schema.tables()),d.resolver=new $e,d}return a.prototype.execSync=function(){var l=this.global.getService(We.INDEX_STORE),d=this.global.getService(We.CACHE),g={};return this.schema.tables().forEach(function(C){var D=l.get(C.getRowIdIndexName()).getRange(),$=d.getMany(D).map(function(ee){return ee.payload()});g[C.getName()]=$}),{name:this.schema.name(),tables:g,version:this.schema.version()}},a.prototype.exec=function(){var l=this.execSync(),d=new X(new B(B.DUMMY_ID,l),!0);return Promise.resolve([new re([d],[])])},a.prototype.getType=function(){return v.READ_ONLY},a.prototype.getScope=function(){return this.scope},a.prototype.getResolver=function(){return this.resolver},a.prototype.getId=function(){return this.getUniqueNumber()},a.prototype.getPriority=function(){return S.EXPORT_TASK},a}(ce),Vf=function(f){t(a,f);function a(l,d){var g=f.call(this)||this;return g.global=l,g.data=d,g.schema=l.getService(We.SCHEMA),g.scope=new Set(g.schema.tables()),g.resolver=new $e,g.backStore=l.getService(We.BACK_STORE),g.cache=l.getService(We.CACHE),g.indexStore=l.getService(We.INDEX_STORE),g}return a.prototype.exec=function(){if(!this.backStore.supportsImport())throw new U(w.NOT_SUPPORTED);if(!this.isEmptyDB())throw new U(w.IMPORT_TO_NON_EMPTY_DB);if(this.schema.name()!==this.data.name||this.schema.version()!==this.data.version)throw new U(w.DB_MISMATCH);if(this.data.tables===void 0||this.data.tables===null)throw new U(w.IMPORT_DATA_NOT_FOUND);return this.import()},a.prototype.getType=function(){return v.READ_WRITE},a.prototype.getScope=function(){return this.scope},a.prototype.getResolver=function(){return this.resolver},a.prototype.getId=function(){return this.getUniqueNumber()},a.prototype.getPriority=function(){return S.IMPORT_TASK},a.prototype.isEmptyDB=function(){var l=this;return this.schema.tables().every(function(d){var g=d,C=l.indexStore.get(g.getRowIdIndexName());return!(C.stats().totalRows>0)})},a.prototype.import=function(){var l=this,d=new ao(this.global,this.scope),g=this.backStore.createTx(this.getType(),Array.from(this.scope.values()),d);return Object.keys(this.data.tables).forEach(function(C){var D=l.schema.table(C),$=l.data.tables[C],ee=$.map(function(Oe){return D.createRow(Oe)}),ue=g.getTable(C,D.deserializeRow,N.DATA);l.cache.setMany(C,ee);var me=l.indexStore.getTableIndices(C);ee.forEach(function(Oe){me.forEach(function(Fe){var Ye=Oe.keyOfIndex(Fe.getName());Fe.add(Ye,Oe.id())})}),ue.put(ee)},this),g.commit()},a}(ce),Xu=function(){function f(){this.supported=!1,this.indexedDb=!1,this.webSql=!1,this.localStorage=!1,this.agent="",this.browser="",this.version=[],this.versionMap=new Map,this.detect()}return f.get=function(){return f.instance===void 0&&(f.instance=new f),f.instance},f.prototype.getDetection=function(){return this.browser+" "+this.version.join(".")},f.prototype.detect=function(){this.detectNodeJS()||navigator&&(this.agent=navigator.userAgent,this.detectBrowser())},f.prototype.convertVersion=function(a){a!==void 0&&(this.version=a.split(".").map(function(l){var d=0;try{d=Number(l)}catch{}return d}))},f.prototype.detectNodeJS=function(){return typeof process!="undefined"&&process.version?(this.convertVersion(process.version.slice(1)),this.supported=this.version[0]>=7,this.browser="nodejs",this.indexedDb=!1,this.webSql=!1,!0):!1},f.prototype.detectBrowser=function(){if(!(this.isIE()||this.isAndroid())){this.localStorage=!0,this.detectVersion();var a=[this.isEdge.bind(this),this.isFirefox.bind(this),this.isChrome.bind(this),this.isSafari.bind(this),this.isIOS.bind(this)];a.some(function(l){return l()})}},f.prototype.detectVersion=function(){var a=new RegExp("(\\w[\\w ]+)/([^\\s]+)\\s*(?:\\((.*?)\\))?","g"),l=null;do if(l=a.exec(this.agent),l){var d=l[0];this.versionMap.set(l[1],d.slice(d.indexOf("/")+1))}while(l)},f.prototype.isChrome=function(){var a=!1;return this.agent.indexOf("Chrome")!==-1?(a=!0,this.convertVersion(this.versionMap.get("Chrome"))):this.agent.indexOf("CriOS")!==-1&&(a=!0,this.convertVersion(this.versionMap.get("CriOS"))),a?(this.browser="chrome",this.supported=this.version[0]>60,this.indexedDb=!0,this.webSql=!0,this.localStorage=!0,!0):!1},f.prototype.isEdge=function(){return this.agent.indexOf("Edge")!==-1?(this.browser="edge",this.supported=!0,this.indexedDb=!0,this.webSql=!1,this.convertVersion(this.versionMap.get("Edge")),!0):!1},f.prototype.isFirefox=function(){return this.agent.indexOf("Firefox")!==-1?(this.browser="firefox",this.convertVersion("Firefox"),this.supported=this.version[0]>60,this.indexedDb=!0,this.webSql=!1,this.localStorage=!0,!0):!1},f.prototype.isIE=function(){return this.agent.indexOf("Trident")!==-1||this.agent.indexOf("MSIE")!==-1?(this.browser="ie",!0):!1},f.prototype.isAndroid=function(){return this.agent.indexOf("Android")!==-1&&!this.isChrome()&&!this.isFirefox()?(this.browser="legacy_android",!0):!1},f.prototype.isSafari=function(){return this.agent.indexOf("Safari")!==-1?(this.browser="safari",this.convertVersion(this.versionMap.get("Version")),this.supported=this.version[0]>=10,this.indexedDb=this.supported,this.webSql=!0,!0):!1},f.prototype.isIOS=function(){return this.agent.indexOf("AppleWebKit")!==-1&&(this.agent.indexOf("iPad")!==-1||this.agent.indexOf("iPhone")!==-1)?(this.browser="ios_webview",this.convertVersion(this.versionMap.get("Version")),this.supported=this.version[0]>=10,this.indexedDb=this.supported,this.webSql=!0,!0):!1},f}();e.Capability=Xu;var Hf=function(f){t(a,f);function a(l){return f.call(this,l,new jt(l.getService(We.SCHEMA)))||this}return a.prototype.from=function(l){return this.assertFromPreconditions(),this.query.from=l,this},a.prototype.where=function(l){return this.assertWherePreconditions(),this.query.where=l,this},a.prototype.assertExecPreconditions=function(){if(f.prototype.assertExecPreconditions.call(this),this.query.from===void 0||this.query.from===null)throw new U(w.INVALID_DELETE)},a.prototype.assertFromPreconditions=function(){if(this.query.from)throw new U(w.DUPLICATE_FROM)},a.prototype.assertWherePreconditions=function(){if(this.query.from===void 0||this.query.from===null)throw new U(w.FROM_AFTER_WHERE);if(this.query.where)throw new U(w.DUPLICATE_WHERE)},a}(_i),Fl=function(f){t(a,f);function a(l,d){d===void 0&&(d=!1);var g=f.call(this,l,new on(l.getService(We.SCHEMA)))||this;return g.query.allowReplace=d,g}return a.prototype.assertExecPreconditions=function(){f.prototype.assertExecPreconditions.call(this);var l=this.query;if(l.into===void 0||l.into===null||l.values===void 0||l.values===null)throw new U(w.INVALID_INSERT);if(l.allowReplace&&l.into.getConstraint().getPrimaryKey()===null)throw new U(w.INVALID_INSERT_OR_REPLACE)},a.prototype.into=function(l){return this.assertIntoPreconditions(),this.query.into=l,this},a.prototype.values=function(l){return this.assertValuesPreconditions(),l instanceof te||l.some(function(d){return d instanceof te})?this.query.binder=l:this.query.values=l,this},a.prototype.assertIntoPreconditions=function(){if(this.query.into!==void 0&&this.query.into!==null)throw new U(w.DUPLICATE_INTO)},a.prototype.assertValuesPreconditions=function(){if(this.query.values!==void 0&&this.query.values!==null)throw new U(w.DUPLICATE_VALUES)},a}(_i),cs=function(f){t(a,f);function a(l,d){var g=f.call(this,l,new Bn(l.getService(We.SCHEMA)))||this;return g.query.table=d,g}return a.prototype.set=function(l,d){var g={binding:d instanceof te?d.index:-1,column:l,value:d};return this.query.set?this.query.set.push(g):this.query.set=[g],this},a.prototype.where=function(l){return this.assertWherePreconditions(),this.query.where=l,this},a.prototype.assertExecPreconditions=function(){if(f.prototype.assertExecPreconditions.call(this),this.query.set===void 0||this.query.set===null)throw new U(w.INVALID_UPDATE);var l=this.query.set.some(function(d){return d.value instanceof te});if(l)throw new U(w.UNBOUND_VALUE)},a.prototype.assertWherePreconditions=function(){if(this.query.where)throw new U(w.DUPLICATE_WHERE)},a}(_i),en;(function(f){f[f.CREATED=0]="CREATED",f[f.ACQUIRING_SCOPE=1]="ACQUIRING_SCOPE",f[f.ACQUIRED_SCOPE=2]="ACQUIRED_SCOPE",f[f.EXECUTING_QUERY=3]="EXECUTING_QUERY",f[f.EXECUTING_AND_COMMITTING=4]="EXECUTING_AND_COMMITTING",f[f.COMMITTING=5]="COMMITTING",f[f.ROLLING_BACK=6]="ROLLING_BACK",f[f.FINALIZED=7]="FINALIZED"})(en||(en={}));var Gf=function(){function f(){this.map=new Ke;var a=en;this.map.set(a.CREATED,a.ACQUIRING_SCOPE),this.map.set(a.CREATED,a.EXECUTING_AND_COMMITTING),this.map.set(a.ACQUIRING_SCOPE,a.ACQUIRED_SCOPE),this.map.set(a.ACQUIRED_SCOPE,a.EXECUTING_QUERY),this.map.set(a.ACQUIRED_SCOPE,a.COMMITTING),this.map.set(a.ACQUIRED_SCOPE,a.ROLLING_BACK),this.map.set(a.EXECUTING_QUERY,a.ACQUIRED_SCOPE),this.map.set(a.EXECUTING_QUERY,a.FINALIZED),this.map.set(a.EXECUTING_AND_COMMITTING,a.FINALIZED),this.map.set(a.COMMITTING,a.FINALIZED),this.map.set(a.ROLLING_BACK,a.FINALIZED)}return f.get=function(){return f.instance||(f.instance=new f),f.instance},f.prototype.get=function(a){return this.map.getSet(a)},f}(),Ju=function(f){t(a,f);function a(l,d){var g=f.call(this)||this;return g.global=l,g.backStore=l.getService(We.BACK_STORE),g.runner=l.getService(We.RUNNER),g.observerRegistry=l.getService(We.OBSERVER_REGISTRY),g.scope=new Set(d),g.journal=new ao(g.global,g.scope),g.resolver=new $e,g.execResolver=new $e,g.acquireScopeResolver=new $e,g}return a.prototype.exec=function(){return this.acquireScopeResolver.resolve(),this.execResolver.promise},a.prototype.getType=function(){return v.READ_WRITE},a.prototype.getScope=function(){return this.scope},a.prototype.getResolver=function(){return this.resolver},a.prototype.getId=function(){return this.getUniqueNumber()},a.prototype.getPriority=function(){return S.TRANSACTION_TASK},a.prototype.acquireScope=function(){return this.runner.scheduleTask(this),this.acquireScopeResolver.promise},a.prototype.attachQuery=function(l){var d=this,g=l.getTaskItem();return g.plan.getRoot().exec(this.journal,g.context).then(function(C){return C[0].getPayloads()},function(C){throw d.journal.rollback(),d.execResolver.resolve(),C})},a.prototype.commit=function(){var l=this;return this.tx=this.backStore.createTx(this.getType(),Array.from(this.scope.values()),this.journal),this.tx.commit().then(function(){l.scheduleObserverTask(),l.execResolver.resolve()},function(d){l.journal.rollback(),l.execResolver.reject(d)}),this.resolver.promise},a.prototype.rollback=function(){return this.journal.rollback(),this.execResolver.resolve(),this.resolver.promise},a.prototype.stats=function(){var l=null;return this.tx&&(l=this.tx.stats()),l===null?gn.getDefault():l},a.prototype.scheduleObserverTask=function(){var l=this.observerRegistry.getTaskItemsForTables(Array.from(this.scope.values()));if(l.length!==0){var d=new et(this.global,l);this.runner.scheduleTask(d)}},a}(ce),fs=function(){function f(a){this.global=a,this.runner=a.getService(We.RUNNER),this.task=null,this.state=en.CREATED,this.stateTransition=Gf.get()}return f.prototype.exec=function(a){var l=this;this.updateState(en.EXECUTING_AND_COMMITTING);var d=[];try{a.forEach(function(g){g.assertExecPreconditions(),d.push(g.getTaskItem())})}catch(g){return this.updateState(en.FINALIZED),Promise.reject(g)}return this.task=new gt(this.global,d),this.runner.scheduleTask(this.task).then(function(g){return l.updateState(en.FINALIZED),g.map(function(C){return C.getPayloads()})},function(g){throw l.updateState(en.FINALIZED),g})},f.prototype.begin=function(a){var l=this;return this.updateState(en.ACQUIRING_SCOPE),this.task=new Ju(this.global,a),this.task.acquireScope().then(function(){return l.updateState(en.ACQUIRED_SCOPE)})},f.prototype.attach=function(a){var l=this;this.updateState(en.EXECUTING_QUERY);try{a.assertExecPreconditions()}catch(d){return this.updateState(en.FINALIZED),Promise.reject(d)}return this.task.attachQuery(a).then(function(d){return l.updateState(en.ACQUIRED_SCOPE),d},function(d){throw l.updateState(en.FINALIZED),d})},f.prototype.commit=function(){var a=this;return this.updateState(en.COMMITTING),this.task.commit().then(function(l){return a.updateState(en.FINALIZED),l})},f.prototype.rollback=function(){var a=this;return this.updateState(en.ROLLING_BACK),this.task.rollback().then(function(l){return a.updateState(en.FINALIZED),l})},f.prototype.stats=function(){if(this.state!==en.FINALIZED)throw new U(w.INVALID_TX_ACCESS);return this.task.stats()},f.prototype.updateState=function(a){var l=this.stateTransition.get(this.state);if(l.has(a))this.state=a;else throw new U(w.INVALID_TX_STATE,this.state.toString(),a.toString())},f}(),ds=function(){function f(a){this.global=a,this.schema=a.getService(We.SCHEMA),this.isActive=!1,this.observeExternalChanges=!1}return f.prototype.init=function(a){var l=this;this.global.registerService(We.SCHEMA,this.schema),this.global.registerService(We.CACHE,new Za(this.schema));var d=this.createBackStore(this.schema,a);this.global.registerService(We.BACK_STORE,d);var g=new Ko;this.global.registerService(We.INDEX_STORE,g);var C=a?a.onUpgrade:void 0;return d.init(C).then(function(){return l.global.registerService(We.QUERY_ENGINE,new Yo(l.global)),l.runner=new Nt,l.global.registerService(We.RUNNER,l.runner),l.global.registerService(We.OBSERVER_REGISTRY,new Xa),g.init(l.schema)}).then(function(){if(l.observeExternalChanges){var D=new wl(l.global);D.startObserving()}a&&a.enableInspector&&window&&(window.top["#lfInspect"]=El.inspect,window.top["#lfRowId"]=B.getNextId);var $=new rs(l.global);return $.init(l.schema)}).then(function(){return l.isActive=!0,l})},f.prototype.getGlobal=function(){return this.global},f.prototype.getSchema=function(){return this.schema},f.prototype.select=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return this.checkActive(),new ri(this.global,a)},f.prototype.insert=function(){return this.checkActive(),new Fl(this.global)},f.prototype.insertOrReplace=function(){return this.checkActive(),new Fl(this.global,!0)},f.prototype.update=function(a){return this.checkActive(),new cs(this.global,a)},f.prototype.delete=function(){return this.checkActive(),new Hf(this.global)},f.prototype.observe=function(a,l){this.checkActive();var d=this.global.getService(We.OBSERVER_REGISTRY);d.addObserver(a,l)},f.prototype.unobserve=function(a,l){this.checkActive();var d=this.global.getService(We.OBSERVER_REGISTRY);d.removeObserver(a,l)},f.prototype.createTransaction=function(a){return this.checkActive(),new fs(this.global)},f.prototype.close=function(){try{var a=this.global.getService(We.BACK_STORE);a.close()}catch{}this.global.clear(),this.isActive=!1},f.prototype.export=function(){this.checkActive();var a=new Bl(this.global);return this.runner.scheduleTask(a).then(function(l){return l[0].getPayloads()[0]})},f.prototype.import=function(a){var l=a;this.checkActive();var d=new Vf(this.global,l);return this.runner.scheduleTask(d)},f.prototype.isOpen=function(){return this.isActive},f.prototype.checkActive=function(){if(!this.isActive)throw new U(w.CONNECTION_CLOSED)},f.prototype.createBackStore=function(a,l){var d;if(F.get().getOptions().memoryOnly)return d=new $o(a),d;var g;if(l===void 0||l.storeType===void 0){var C=Xu.get();g=C.indexedDb?s.INDEXED_DB:C.webSql?s.WEB_SQL:s.MEMORY}else g=l.storeType;switch(g){case s.INDEXED_DB:d=new wa(this.global,a);break;case s.MEMORY:d=new $o(a);break;case s.OBSERVABLE_STORE:d=new En(a);break;case s.WEB_SQL:d=new Ri(this.global,a,l?l.websqlDbSize:void 0);break;default:throw new U(w.NOT_SUPPORTED)}return d},f}(),Ul=function(){function f(a){this.name=a,this.visited=!1,this.onStack=!1,this.edges=new Set}return f}(),Qu=function(){function f(a,l,d,g,C,D){this.table=a,this.name=l,this.unique=d,this.nullable=g,this.type=C,this.alias=D||null,this.indices=[],this.index=void 0}return f.prototype.getName=function(){return this.name},f.prototype.getNormalizedName=function(){return this.table.getEffectiveName()+"."+this.name},f.prototype.toString=function(){return this.getNormalizedName()},f.prototype.getTable=function(){return this.table},f.prototype.getType=function(){return this.type},f.prototype.getAlias=function(){return this.alias},f.prototype.isNullable=function(){return this.nullable},f.prototype.isUnique=function(){return this.unique},f.prototype.getIndices=function(){var a=this;return this.table.getIndices().forEach(function(l){var d=l.columns.map(function(g){return g.schema.getName()});d.indexOf(a.name)!==-1&&a.indices.push(l)}),this.indices},f.prototype.getIndex=function(){var a=this;if(this.index===void 0){var l=this.getIndices().filter(function(d){return d.columns.length!==1?!1:d.columns[0].schema.getName()===a.name});this.index=l.length>0?l[0]:null}return this.index},f.prototype.eq=function(a){return hr(this,a,fe.EQ)},f.prototype.neq=function(a){return hr(this,a,fe.NEQ)},f.prototype.lt=function(a){return hr(this,a,fe.LT)},f.prototype.lte=function(a){return hr(this,a,fe.LTE)},f.prototype.gt=function(a){return hr(this,a,fe.GT)},f.prototype.gte=function(a){return hr(this,a,fe.GTE)},f.prototype.match=function(a){return hr(this,a,fe.MATCH)},f.prototype.between=function(a,l){return hr(this,[a,l],fe.BETWEEN)},f.prototype.in=function(a){return hr(this,a,fe.IN)},f.prototype.isNull=function(){return this.eq(null)},f.prototype.isNotNull=function(){return this.neq(null)},f.prototype.as=function(a){return new f(this.table,this.name,this.unique,this.nullable,this.type,a)},f}(),Zu=function(f){t(a,f);function a(l,d,g,C,D){var $=f.call(this,C,D)||this;return $.functionMap=l,$.columns=d,$.payload_=D||$.defaultPayload(),$}return a.prototype.defaultPayload=function(){if(this.columns===void 0)return null;var l={};return this.columns.forEach(function(d){l[d.getName()]=d.isNullable()?null:m.get(d.getType())}),l},a.prototype.toDbPayload=function(){var l=this,d={};return this.columns.forEach(function(g){var C=g.getName(),D=g.getType(),$=l.payload()[C];D===h.ARRAY_BUFFER?$=$?B.binToHex($):null:D===h.DATE_TIME?$=$?$.getTime():null:D===h.OBJECT&&($=$||null),d[C]=$}),d},a.prototype.keyOfIndex=function(l){var d=f.prototype.keyOfIndex.call(this,l);if(d===null){var g=this.functionMap.get(l);if(g)return g(this.payload())}return d},a}(B),hs=function(){function f(a,l,d,g,C){var D=this;this._name=a,this._indices=d,this._usePersistentIndex=g,this._columns=[],l.forEach(function($){var ee=new Qu(D,$.name,$.unique,$.nullable,$.type);D[$.name]=ee,D._columns.push(ee)},this),this._referencingFK=null,this._functionMap=null,this._constraint=null,this._evalRegistry=ht.get(),this._alias=C||null}return f.prototype.getName=function(){return this._name},f.prototype.getAlias=function(){return this._alias},f.prototype.getEffectiveName=function(){return this._alias||this._name},f.prototype.getIndices=function(){return this._indices||f.EMPTY_INDICES},f.prototype.getColumns=function(){return this._columns},f.prototype.getConstraint=function(){return this._constraint},f.prototype.persistentIndex=function(){return this._usePersistentIndex},f.prototype.as=function(a){var l=this._columns.map(function(g){return{name:g.getName(),nullable:g.isNullable(),type:g.getType(),unique:g.isUnique()}}),d=new f(this._name,l,this._indices,this._usePersistentIndex,a);return d._referencingFK=this._referencingFK,d._constraint=this._constraint,d._alias=a,d},f.prototype.col=function(a){return this[a]},f.prototype.getRowIdIndexName=function(){return this._name+"."+f.ROW_ID_INDEX_PATTERN},f.prototype.createRow=function(a){return new Zu(this._functionMap,this._columns,this._indices,B.getNextId(),a)},f.prototype.deserializeRow=function(a){var l={};return this._columns.forEach(function(d){var g=d.getName(),C=d.getType(),D=a.value[g];C===h.ARRAY_BUFFER?D=B.hexToBin(D):C===h.DATE_TIME&&(D=D!==null?new Date(D):null),l[g]=D}),new Zu(this._functionMap,this._columns,this._indices,a.id,l)},f.prototype.constructIndices=function(a,l,d,g,C){var D=this;if(l.size===0){this._constraint=new Y(null,[],[]);return}var $=new Map;this._columns.forEach(function(me){return $.set(me.getName(),me)}),this._indices=Array.from(l.keys()).map(function(me){return new J(D._name,me,d.has(me),D.generateIndexedColumns(l,$,me))}),this._functionMap=new Map,this._indices.forEach(function(me){return D._functionMap.set(me.getNormalizedName(),D.getKeyOfIndexFn($,me))});var ee=a===null?null:new J(this._name,a,!0,this.generateIndexedColumns(l,$,a)),ue=this._columns.filter(function(me){return!g.has(me.getName())});this._constraint=new Y(ee,ue,C)},f.prototype.generateIndexedColumns=function(a,l,d){var g=a.get(d);if(g)return g.map(function(C){return{autoIncrement:C.autoIncrement,order:C.order,schema:l.get(C.name)}});throw new U(w.ASSERTION)},f.prototype.getSingleKeyFn=function(a,l){var d=a.get(l.getName());if(d){var g=d.getType(),C=this._evalRegistry.getKeyOfIndexEvaluator(g);return function(D){return C(D[l.getName()])}}throw new U(w.ASSERTION)},f.prototype.getMultiKeyFn=function(a,l){var d=this,g=l.map(function(C){return d.getSingleKeyFn(a,C.schema)});return function(C){return g.map(function(D){return D(C)})}},f.prototype.getKeyOfIndexFn=function(a,l){return l.columns.length===1?this.getSingleKeyFn(a,l.columns[0].schema):this.getMultiKeyFn(a,l.columns)},f.ROW_ID_INDEX_PATTERN="#",f.EMPTY_INDICES=[],f}(),ps=function(){function f(a){this.checkNamingRules(a),this.name=a,this.columns=new Map,this.uniqueColumns=new Set,this.uniqueIndices=new Set,this.nullable=new Set,this.pkName=null,this.indices=new Map,this.persistIndex=!1,this.fkSpecs=[]}return f.toPascal=function(a){return a[0].toUpperCase()+a.substring(1)},f.prototype.addColumn=function(a,l){return this.checkNamingRules(a),this.checkNameConflicts(a),this.columns.set(a,l),f.NULLABLE_TYPES_BY_DEFAULT.has(l)&&this.addNullable([a]),this},f.prototype.addPrimaryKey=function(a,l){l===void 0&&(l=!1),this.pkName="pk"+f.toPascal(this.name),this.checkNamingRules(this.pkName),this.checkNameConflicts(this.pkName);var d=this.normalizeColumns(a,!0,void 0,l);return this.checkPrimaryKey(d),d.length===1&&this.uniqueColumns.add(d[0].name),this.uniqueIndices.add(this.pkName),this.indices.set(this.pkName,d),this},f.prototype.addForeignKey=function(a,l){this.checkNamingRules(a),this.checkNameConflicts(a),l.action===void 0&&(l.action=i.RESTRICT),l.timing===void 0&&(l.timing=o.IMMEDIATE);var d=new ne(l,this.name,a);if(d.action===i.CASCADE&&d.timing===o.DEFERRABLE)throw new U(w.IMMEDIATE_EVAL_ONLY);if(!this.columns.has(d.childColumn))throw new U(w.INVALID_FK_REF,this.name+"."+a);return this.fkSpecs.push(d),this.addIndex(a,[d.childColumn],this.uniqueColumns.has(d.childColumn)),this},f.prototype.addUnique=function(a,l){this.checkNamingRules(a),this.checkNameConflicts(a);var d=this.normalizeColumns(l,!0);return d.length===1&&(this.uniqueColumns.add(d[0].name),this.markFkIndexForColumnUnique(d[0].name)),this.indices.set(a,d),this.uniqueIndices.add(a),this},f.prototype.addNullable=function(a){var l=this;return this.normalizeColumns(a,!1).forEach(function(d){return l.nullable.add(d.name)}),this},f.prototype.addIndex=function(a,l,d,g){return d===void 0&&(d=!1),g===void 0&&(g=u.ASC),this.checkNamingRules(a),this.checkNameConflicts(a),this.indices.set(a,this.normalizeColumns(l,!0,g)),d&&this.uniqueIndices.add(a),this},f.prototype.persistentIndex=function(a){this.persistIndex=a},f.prototype.getSchema=function(){var a=this;this.checkPrimaryKeyNotForeignKey(),this.checkPrimaryKeyDuplicateIndex(),this.checkPrimaryKeyNotNullable();var l=Array.from(this.columns.keys()).map(function(g){return{name:g,nullable:a.nullable.has(g)||!1,type:a.columns.get(g),unique:a.uniqueColumns.has(g)||!1}}),d=new hs(this.name,l,null,this.persistIndex);return d.constructIndices(this.pkName,this.indices,this.uniqueIndices,this.nullable,this.fkSpecs),d},f.prototype.getFkSpecs=function(){return this.fkSpecs},f.prototype.checkNamingRules=function(a){if(!/^[A-Za-z_][A-Za-z0-9_]*$/.test(a))throw new U(w.INVALID_NAME,a)},f.prototype.checkNameConflicts=function(a){if(a===this.name)throw new U(w.DUPLICATE_NAME,a);if(this.columns.has(a)||this.indices.has(a)||this.uniqueIndices.has(a))throw new U(w.NAME_IN_USE,this.name+"."+a)},f.prototype.checkPrimaryKey=function(a){var l=this,d=!1;if(a.forEach(function(g){var C=l.columns.get(g.name);if(d=d||g.autoIncrement,g.autoIncrement&&C!==h.INTEGER)throw new U(w.INVALID_AUTO_KEY_TYPE)}),d&&a.length>1)throw new U(w.INVALID_AUTO_KEY_COLUMN)},f.prototype.checkPrimaryKeyNotForeignKey=function(){if(this.pkName!==null){var a=this.indices.get(this.pkName);if(a){var l=a.map(function(C){return C.name}),d=0,g=this.fkSpecs.some(function(C,D){return d=D,l.indexOf(C.childColumn)!==-1});if(g)throw new U(w.PK_CANT_BE_FK,this.fkSpecs[d].name)}}},f.prototype.checkPrimaryKeyDuplicateIndex=function(){var a=this;if(this.pkName!==null){var l=this.indices.get(this.pkName);if(l){var d=function(C){return C.name},g=JSON.stringify(l.map(d));this.indices.forEach(function(C,D){if(D!==a.pkName&&JSON.stringify(C.map(d))===g)throw new U(w.DUPLICATE_PK,a.name+"."+D)})}}},f.prototype.checkPrimaryKeyNotNullable=function(){var a=this;if(this.pkName!==null){var l=this.indices.get(this.pkName);l&&l.forEach(function(d){if(a.nullable.has(d.name))throw new U(w.NULLABLE_PK,a.name+"."+d.name)})}},f.prototype.normalizeColumns=function(a,l,d,g){var C=this;d===void 0&&(d=u.ASC),g===void 0&&(g=!1);var D=null;if(typeof a[0]=="string"){var $=a;D=$.map(function(ee){return{autoIncrement:g||!1,name:ee,order:d}})}else D=a;return D.forEach(function(ee){if(!C.columns.has(ee.name))throw new U(w.COLUMN_NOT_FOUND,C.name,ee.name);if(l){var ue=C.columns.get(ee.name);if(ue===h.ARRAY_BUFFER||ue===h.OBJECT)throw new U(w.COLUMN_NOT_INDEXABLE,C.name,ee.name)}}),D},f.prototype.markFkIndexForColumnUnique=function(a){var l=this;this.fkSpecs.forEach(function(d){d.childColumn===a&&l.uniqueIndices.add(d.name.split(".")[1])})},f.NULLABLE_TYPES_BY_DEFAULT=new Set([h.ARRAY_BUFFER,h.OBJECT]),f}();e.TableBuilder=ps;var ms=function(){function f(a,l){this.schema=new St(a,l),this.tableBuilders=new Map,this.finalized=!1,this.db=null,this.connectInProgress=!1}return f.prototype.getSchema=function(){return this.finalized||this.finalize(),this.schema},f.prototype.getGlobal=function(){var a=new M("ns_"+this.schema.name()),l=F.get(),d;return l.isRegistered(a)?d=l.getService(a):(d=new F,l.registerService(a,d)),d},f.prototype.connect=function(a){var l=this;if(this.connectInProgress||this.db!==null&&this.db.isOpen())throw new U(w.ALREADY_CONNECTED);if(this.connectInProgress=!0,this.db===null){var d=this.getGlobal();d.isRegistered(We.SCHEMA)||d.registerService(We.SCHEMA,this.getSchema()),this.db=new ds(d)}return this.db.init(a).then(function(g){return l.connectInProgress=!1,g},function(g){throw l.connectInProgress=!1,l.db.close(),g})},f.prototype.createTable=function(a){if(this.tableBuilders.has(a))throw new U(w.NAME_IN_USE,a);if(this.finalized)throw new U(w.SCHEMA_FINALIZED);this.tableBuilders.set(a,new ps(a));var l=this.tableBuilders.get(a);if(!l)throw new U(w.ASSERTION,"Builder.createTable");return l},f.prototype.setPragma=function(a){if(this.finalized)throw new U(w.SCHEMA_FINALIZED);return this.schema._pragma=a,this},f.prototype.checkFkCycle=function(){var a=this,l=new Map;this.schema.tables().forEach(function(d){l.set(d.getName(),new Ul(d.getName()))},this),this.tableBuilders.forEach(function(d,g){d.getFkSpecs().forEach(function(C){var D=l.get(C.parentTable);D&&D.edges.add(g)})}),Array.from(l.values()).forEach(function(d){return a.checkCycleUtil(d,l)})},f.prototype.checkForeignKeyValidity=function(a){var l=this;a.getFkSpecs().forEach(function(d){var g=d.parentTable,C=l.tableBuilders.get(g);if(!C)throw new U(w.INVALID_FK_TABLE);var D=C.getSchema(),$=d.parentColumn;if(!Object.prototype.hasOwnProperty.call(D,$))throw new U(w.INVALID_FK_COLUMN);var ee=a.getSchema(),ue=d.childColumn;if(ee[ue].getType()!==D[$].getType())throw new U(w.INVALID_FK_COLUMN_TYPE,d.name);if(!D[$].isUnique())throw new U(w.FK_COLUMN_NONUNIQUE,d.name)},this)},f.prototype.checkForeignKeyChain=function(a){var l=this,d=a.getFkSpecs();d.forEach(function(g){var C=l.tableBuilders.get(g.parentTable);C&&C.getFkSpecs().forEach(function(D){if(D.childColumn===g.parentColumn)throw new U(w.FK_COLUMN_IN_USE,g.name)},l)},this)},f.prototype.finalize=function(){var a=this;this.finalized||(this.tableBuilders.forEach(function(l,d){a.checkForeignKeyValidity(l),a.schema.setTable(l.getSchema())}),Array.from(this.tableBuilders.values()).forEach(this.checkForeignKeyChain,this),this.checkFkCycle(),this.tableBuilders.clear(),this.finalized=!0)},f.prototype.checkCycleUtil=function(a,l){var d=this;a.visited||(a.visited=!0,a.onStack=!0,a.edges.forEach(function(g){var C=l.get(g);if(C){if(!C.visited)d.checkCycleUtil(C,l);else if(C.onStack&&a!==C)throw new U(w.FK_LOOP)}},this)),a.onStack=!1},f}();e.Builder=ms;var $l=function(){function f(){}return f.create=function(a,l){return new ms(a,l)},f}();e.schema=$l})(KR);const qR=KR,gK={debugMode:!1,memoryOnly:!0};qR.options.set(gK);var Ee=qR,Lt=(e=>(e.Collection="Collection",e.CollectionItem="CollectionItem",e.Column="Column",e.ColumnConstraint="ColumnConstraint",e.Directory="Directory",e.DoctrineColumnType="DoctrineColumnType",e.Entity="Entity",e.Example="Example",e.ExampleMap="ExampleMap",e.File="File",e.Index="Index",e.IndexColumn="IndexColumn",e.Module="Module",e.ModuleAction="ModuleAction",e.ModuleActionResponse="ModuleActionResponse",e.ParameterMap="ParameterMap",e.Path="Path",e.PathMethod="PathMethod",e.Relation="Relation",e.Request="Request",e.Response="Response",e.Server="Server",e.ServerMap="ServerMap",e.ServerVariable="ServerVariable",e.TypeFormat="TypeFormat",e.Variable="Variable",e.Wu="Wu",e.WuColumn="WuColumn",e.WuColumnConstraint="WuColumnConstraint",e.WuParameter="WuParameter",e))(Lt||{});function vK(e){let t="Collection",n=ta(e,t).addColumn("valueDescription",Ee.Type.STRING).addColumn("tagDescription",Ee.Type.STRING);t="CollectionItem",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addColumn("name",Ee.Type.STRING).addColumn("value",Ee.Type.STRING).addColumn("tag",Ee.Type.STRING).addPrimaryKey(["id"],!0),ct(n,t,"Collection"),rr(n,t,[Rt("Collection"),"name"]),t="Directory",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addColumn("opened",Ee.Type.BOOLEAN).addColumn("name",Ee.Type.STRING).addColumn("description",Ee.Type.STRING).addColumn("parentId",Ee.Type.INTEGER).addPrimaryKey(["id"],!0).addNullable(["parentId"]),rr(n,t,["parentId","name"]),t="DoctrineColumnType",n=ta(e,t).addColumn("fakeMethod",Ee.Type.STRING).addColumn("fakeText",Ee.Type.STRING).addColumn("oapiFormat",Ee.Type.STRING).addColumn("oapiType",Ee.Type.STRING).addColumn("phpType",Ee.Type.STRING).addColumn("raField",Ee.Type.STRING).addColumn("raInput",Ee.Type.STRING),t="File",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addColumn("name",Ee.Type.STRING).addColumn("color",Ee.Type.STRING).addColumn("layer",Ee.Type.STRING).addColumn("description",Ee.Type.STRING).addColumn("nameSpacePattern",Ee.Type.STRING).addColumn("fileNamePattern",Ee.Type.STRING).addPrimaryKey(["id"],!0),ct(n,t,"Directory"),rr(n,t,["name"]),t="Entity",n=ta(e,t).addColumn("isTable",Ee.Type.BOOLEAN).addColumn("table",Ee.Type.STRING).addColumn("opened",Ee.Type.BOOLEAN).addColumn("openedColumn",Ee.Type.BOOLEAN).addColumn("x",Ee.Type.INTEGER).addColumn("y",Ee.Type.INTEGER),t="TypeFormat",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addPrimaryKey(["id"],!0).addColumn("type",Ee.Type.STRING).addColumn("format",Ee.Type.STRING).addColumn("isArray",Ee.Type.BOOLEAN).addColumn("nullable",Ee.Type.BOOLEAN).addColumn("ownerId",Ee.Type.INTEGER).addNullable(["ownerId"]),ct(n,t,"Variable"),ct(n,t,"Wu"),ct(n,t,"WuParameter"),ct(n,t,"WuParameter","forWuParameterId",!0),ct(n,t,"Column","ownerColumnId",!0),ct(n,t,"Request","ownerRequestId",!0),ct(n,t,"Response","ownerResponseId",!0),ct(n,t,"Wu","ownerWuId",!0),ct(n,t,"Wu","ownerWuChildId",!0),n.addNullable([Rt("Variable"),Rt("WuParameter")]),t="Column",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addPrimaryKey(["id"],!0).addColumn("name",Ee.Type.STRING).addColumn("type",Ee.Type.STRING).addColumn("length",Ee.Type.INTEGER).addColumn("scale",Ee.Type.INTEGER).addColumn("unsigned",Ee.Type.BOOLEAN).addColumn("nullable",Ee.Type.BOOLEAN).addColumn("comment",Ee.Type.STRING).addColumn("default",Ee.Type.STRING).addColumn("fillable",Ee.Type.BOOLEAN).addColumn("hidden",Ee.Type.BOOLEAN).addColumn("ro",Ee.Type.BOOLEAN).addColumn("wo",Ee.Type.BOOLEAN).addColumn("cast",Ee.Type.STRING).addColumn("fakeRaw",Ee.Type.BOOLEAN).addColumn("fakeUnique",Ee.Type.BOOLEAN).addColumn("fakeMethod",Ee.Type.STRING).addColumn("fakeText",Ee.Type.STRING).addColumn("inTable",Ee.Type.BOOLEAN).addColumn("allowReserved",Ee.Type.BOOLEAN).addColumn("color",Ee.Type.STRING).addColumn("deprecated",Ee.Type.BOOLEAN).addColumn("description",Ee.Type.BOOLEAN).addColumn("example",Ee.Type.STRING).addColumn("explode",Ee.Type.BOOLEAN).addColumn("required",Ee.Type.BOOLEAN).addColumn("style",Ee.Type.STRING).addColumn("raField",Ee.Type.STRING).addColumn("raInput",Ee.Type.STRING),ct(n,t,"Entity"),rr(n,t,[Rt("Entity"),"name"]),t="ColumnConstraint",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addColumn("name",Ee.Type.STRING).addColumn("parameter",Ee.Type.STRING).addPrimaryKey(["id"],!0),ct(n,t,"Column"),t="Relation",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addColumn("type",Ee.Type.STRING).addColumn("name0",Ee.Type.STRING).addColumn("name1",Ee.Type.STRING).addPrimaryKey(["id"],!0),ct(n,t,"Entity","entity0Id"),ct(n,t,"Entity","entity1Id"),ct(n,t,"Column","column1Id"),t="Index",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addColumn("type",Ee.Type.STRING).addPrimaryKey(["id"],!0),ct(n,t,"Entity"),t="IndexColumn",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addColumn("sort",Ee.Type.INTEGER).addPrimaryKey(["id"],!0),ct(n,t,"Column"),ct(n,t,"Index"),rr(n,t,[Rt("Column"),Rt("Index")]),t="Wu",n=ta(e,t).addColumn("type",Ee.Type.STRING).addColumn("example",Ee.Type.STRING).addColumn("isRequest",Ee.Type.BOOLEAN).addColumn("isMap",Ee.Type.BOOLEAN),ct(n,t,"Entity"),t="WuColumn",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addColumn("alias",Ee.Type.STRING).addPrimaryKey(["id"],!0),ct(n,t,"Wu"),ct(n,t,"Column"),t="WuColumnConstraint",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addPrimaryKey(["id"],!0),ct(n,t,"ColumnConstraint"),ct(n,t,"WuColumn"),t="WuParameter",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addColumn("name",Ee.Type.STRING).addColumn("description",Ee.Type.STRING).addColumn("isWu",Ee.Type.BOOLEAN).addPrimaryKey(["id"],!0),ct(n,t,"Wu"),rr(n,t,[Rt("Wu"),"name"]),t="Module",n=ta(e,t).addColumn("prefix",Ee.Type.STRING),ct(n,t,"File"),ct(n,t,"Directory"),ct(n,t,"Directory","testDirectoryId"),rr(n,t,["prefix"]),t="Path",n=VR(e,t).addColumn("summary",Ee.Type.STRING),ct(n,t,"Module"),ct(n,t,"Entity"),rr(n,t,[Rt("Module"),"name"]),t="ModuleAction",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addColumn("deprecated",Ee.Type.BOOLEAN).addColumn("inOapi",Ee.Type.BOOLEAN).addColumn("inRoute",Ee.Type.BOOLEAN).addColumn("description",Ee.Type.STRING).addColumn("filezz",Ee.Type.OBJECT).addColumn("name",Ee.Type.STRING).addColumn("operationId",Ee.Type.STRING).addColumn("summary",Ee.Type.STRING).addColumn("routeName",Ee.Type.STRING).addPrimaryKey(["id"],!0),ct(n,t,"Directory"),ct(n,t,"Request"),ct(n,t,"Entity"),ct(n,t,"Module"),rr(n,t,["operationId"]),rr(n,t,[Rt("Entity"),Rt("Module"),"name"]),t="ParameterMap",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addColumn("alias",Ee.Type.STRING).addPrimaryKey(["id"],!0),ct(n,t,"Column"),ct(n,t,"Path"),ct(n,t,"Request"),ct(n,t,"Response"),rr(n,t,[Rt("Column"),Rt("Path"),Rt("Request"),Rt("Response")]).addNullable([Rt("Path"),Rt("Request"),Rt("Response")]),t="Request",n=ta(e,t).addColumn("example",Ee.Type.STRING).addColumn("mediaType",Ee.Type.STRING).addColumn("required",Ee.Type.BOOLEAN),t="Response",n=ta(e,t).addColumn("example",Ee.Type.STRING).addColumn("mediaType",Ee.Type.STRING),t="ModuleActionResponse",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addColumn("description",Ee.Type.STRING).addColumn("status",Ee.Type.STRING).addPrimaryKey(["id"],!0),ct(n,t,"ModuleAction"),ct(n,t,"Response"),rr(n,t,[Rt("ModuleAction"),"status"]),t="Example",n=ta(e,t).addColumn("summary",Ee.Type.STRING).addColumn("value",Ee.Type.STRING),t="ExampleMap",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addPrimaryKey(["id"],!0),ct(n,t,"Example"),ct(n,t,"Request"),ct(n,t,"Response"),rr(n,t,[Rt("Example"),Rt("Request"),Rt("Response")]).addNullable([Rt("Request"),Rt("Response")]),t="Server",n=ta(e,t).addColumn("global",Ee.Type.BOOLEAN),t="ServerMap",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addPrimaryKey(["id"],!0),ct(n,t,"Path"),ct(n,t,"Request"),ct(n,t,"Server"),rr(n,t,[Rt("Path"),Rt("Request"),Rt("Server")]).addNullable([Rt("Path"),Rt("Request")]),t="Variable",n=ta(e,t).addColumn("default",Ee.Type.STRING).addColumn("enum",Ee.Type.OBJECT).addColumn("type",Ee.Type.STRING),t="ServerVariable",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addPrimaryKey(["id"],!0),ct(n,t,"Server"),ct(n,t,"Variable"),rr(n,t,[Rt("Server"),Rt("Variable")]),t="PathMethod",n=e.createTable(t).addColumn("method",Ee.Type.STRING).addColumn("middlewarezz",Ee.Type.OBJECT).addColumn("id",Ee.Type.INTEGER).addPrimaryKey(["id"],!0),ct(n,t,"ModuleAction"),ct(n,t,"Path"),rr(n,t,["method",Rt("Path")])}function VR(e,t){return e.createTable(t).addColumn("id",Ee.Type.INTEGER).addColumn("name",Ee.Type.STRING).addColumn("color",Ee.Type.STRING).addColumn("description",Ee.Type.STRING).addColumn("reserved",Ee.Type.BOOLEAN).addPrimaryKey(["id"],!0)}function ta(e,t){const n=VR(e,t);return rr(n,t,["name"]),n}function ct(e,t,n,r,i=!1){const o=r!=null?r:Rt(n);return e.addColumn(o,Ee.Type.INTEGER).addForeignKey(`fk_${t}_${o}`,{action:Ee.ConstraintAction.CASCADE,local:o,ref:n+".id"}),i?e.addNullable([o]):e}function Rt(e){return Lu.lowerFirst(e)+"Id"}function rr(e,t,n){return e.addUnique(`uk_${t}_${n.join("_")}`,n)}var PE={exports:{}},HR=function(t,n){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(n,i)}},yK=HR,kE=Object.prototype.toString,DE=function(e){return function(t){var n=kE.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function Mu(e){return e=e.toLowerCase(),function(n){return DE(n)===e}}function LE(e){return Array.isArray(e)}function Pg(e){return typeof e=="undefined"}function wK(e){return e!==null&&!Pg(e)&&e.constructor!==null&&!Pg(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}var GR=Mu("ArrayBuffer");function bK(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&GR(e.buffer),t}function SK(e){return typeof e=="string"}function EK(e){return typeof e=="number"}function YR(e){return e!==null&&typeof e=="object"}function jm(e){if(DE(e)!=="object")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}var CK=Mu("Date"),xK=Mu("File"),NK=Mu("Blob"),IK=Mu("FileList");function ME(e){return kE.call(e)==="[object Function]"}function TK(e){return YR(e)&&ME(e.pipe)}function OK(e){var t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||kE.call(e)===t||ME(e.toString)&&e.toString()===t)}var _K=Mu("URLSearchParams");function AK(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function RK(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function zE(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),LE(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function W0(){var e={};function t(i,o){jm(e[o])&&jm(i)?e[o]=W0(e[o],i):jm(i)?e[o]=W0({},i):LE(i)?e[o]=i.slice():e[o]=i}for(var n=0,r=arguments.length;n<r;n++)zE(arguments[n],t);return e}function PK(e,t,n){return zE(t,function(i,o){n&&typeof i=="function"?e[o]=yK(i,n):e[o]=i}),e}function kK(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}function DK(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)}function LK(e,t,n){var r,i,o,s={};t=t||{};do{for(r=Object.getOwnPropertyNames(e),i=r.length;i-- >0;)o=r[i],s[o]||(t[o]=e[o],s[o]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t}function MK(e,t,n){e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return r!==-1&&r===n}function zK(e){if(!e)return null;var t=e.length;if(Pg(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n}var BK=function(e){return function(t){return e&&t instanceof e}}(typeof Uint8Array!="undefined"&&Object.getPrototypeOf(Uint8Array)),cr={isArray:LE,isArrayBuffer:GR,isBuffer:wK,isFormData:OK,isArrayBufferView:bK,isString:SK,isNumber:EK,isObject:YR,isPlainObject:jm,isUndefined:Pg,isDate:CK,isFile:xK,isBlob:NK,isFunction:ME,isStream:TK,isURLSearchParams:_K,isStandardBrowserEnv:RK,forEach:zE,merge:W0,extend:PK,trim:AK,stripBOM:kK,inherits:DK,toFlatObject:LK,kindOf:DE,kindOfTest:Mu,endsWith:MK,toArray:zK,isTypedArray:BK,isFileList:IK},pc=cr;function UT(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var XR=function(t,n,r){if(!n)return t;var i;if(r)i=r(n);else if(pc.isURLSearchParams(n))i=n.toString();else{var o=[];pc.forEach(n,function(h,m){h===null||typeof h=="undefined"||(pc.isArray(h)?m=m+"[]":h=[h],pc.forEach(h,function(w){pc.isDate(w)?w=w.toISOString():pc.isObject(w)&&(w=JSON.stringify(w)),o.push(UT(m)+"="+UT(w))}))}),i=o.join("&")}if(i){var s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t},FK=cr;function kv(){this.handlers=[]}kv.prototype.use=function(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};kv.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};kv.prototype.forEach=function(t){FK.forEach(this.handlers,function(r){r!==null&&t(r)})};var UK=kv,$K=cr,WK=function(t,n){$K.forEach(t,function(i,o){o!==n&&o.toUpperCase()===n.toUpperCase()&&(t[n]=i,delete t[o])})},JR=cr;function nf(e,t,n,r,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}JR.inherits(nf,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var QR=nf.prototype,ZR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(e){ZR[e]={value:e}});Object.defineProperties(nf,ZR);Object.defineProperty(QR,"isAxiosError",{value:!0});nf.from=function(e,t,n,r,i,o){var s=Object.create(QR);return JR.toFlatObject(e,s,function(h){return h!==Error.prototype}),nf.call(s,e.message,t,n,r,i),s.name=e.name,o&&Object.assign(s,o),s};var If=nf,eP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bo=cr;function jK(e,t){t=t||new FormData;var n=[];function r(o){return o===null?"":bo.isDate(o)?o.toISOString():bo.isArrayBuffer(o)||bo.isTypedArray(o)?typeof Blob=="function"?new Blob([o]):Buffer.from(o):o}function i(o,s){if(bo.isPlainObject(o)||bo.isArray(o)){if(n.indexOf(o)!==-1)throw Error("Circular reference detected in "+s);n.push(o),bo.forEach(o,function(h,m){if(!bo.isUndefined(h)){var v=s?s+"."+m:m,w;if(h&&!s&&typeof h=="object"){if(bo.endsWith(m,"{}"))h=JSON.stringify(h);else if(bo.endsWith(m,"[]")&&(w=bo.toArray(h))){w.forEach(function(b){!bo.isUndefined(b)&&t.append(v,r(b))});return}}i(h,v)}}),n.pop()}else t.append(s,r(o))}return i(e),t}var tP=jK,ib=If,KK=function(t,n,r){var i=r.config.validateStatus;!r.status||!i||i(r.status)?t(r):n(new ib("Request failed with status code "+r.status,[ib.ERR_BAD_REQUEST,ib.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))},pm=cr,qK=pm.isStandardBrowserEnv()?function(){return{write:function(n,r,i,o,s,u){var h=[];h.push(n+"="+encodeURIComponent(r)),pm.isNumber(i)&&h.push("expires="+new Date(i).toGMTString()),pm.isString(o)&&h.push("path="+o),pm.isString(s)&&h.push("domain="+s),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(n){var r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),VK=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},HK=function(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t},GK=VK,YK=HK,nP=function(t,n){return t&&!GK(n)?YK(t,n):n},ob=cr,XK=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],JK=function(t){var n={},r,i,o;return t&&ob.forEach(t.split(`
`),function(u){if(o=u.indexOf(":"),r=ob.trim(u.substr(0,o)).toLowerCase(),i=ob.trim(u.substr(o+1)),r){if(n[r]&&XK.indexOf(r)>=0)return;r==="set-cookie"?n[r]=(n[r]?n[r]:[]).concat([i]):n[r]=n[r]?n[r]+", "+i:i}}),n},$T=cr,QK=$T.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),r;function i(o){var s=o;return t&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){var u=$T.isString(s)?i(s):s;return u.protocol===r.protocol&&u.host===r.host}}():function(){return function(){return!0}}(),j0=If,ZK=cr;function rP(e){j0.call(this,e==null?"canceled":e,j0.ERR_CANCELED),this.name="CanceledError"}ZK.inherits(rP,j0,{__CANCEL__:!0});var Dv=rP,e5=function(t){var n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""},bd=cr,t5=KK,n5=qK,r5=XR,i5=nP,o5=JK,a5=QK,s5=eP,La=If,l5=Dv,u5=e5,WT=function(t){return new Promise(function(r,i){var o=t.data,s=t.headers,u=t.responseType,h;function m(){t.cancelToken&&t.cancelToken.unsubscribe(h),t.signal&&t.signal.removeEventListener("abort",h)}bd.isFormData(o)&&bd.isStandardBrowserEnv()&&delete s["Content-Type"];var v=new XMLHttpRequest;if(t.auth){var w=t.auth.username||"",b=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.Authorization="Basic "+btoa(w+":"+b)}var N=i5(t.baseURL,t.url);v.open(t.method.toUpperCase(),r5(N,t.params,t.paramsSerializer),!0),v.timeout=t.timeout;function T(){if(!!v){var E="getAllResponseHeaders"in v?o5(v.getAllResponseHeaders()):null,I=!u||u==="text"||u==="json"?v.responseText:v.response,P={data:I,status:v.status,statusText:v.statusText,headers:E,config:t,request:v};t5(function(B){r(B),m()},function(B){i(B),m()},P),v=null}}if("onloadend"in v?v.onloadend=T:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(T)},v.onabort=function(){!v||(i(new La("Request aborted",La.ECONNABORTED,t,v)),v=null)},v.onerror=function(){i(new La("Network Error",La.ERR_NETWORK,t,v,v)),v=null},v.ontimeout=function(){var I=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",P=t.transitional||s5;t.timeoutErrorMessage&&(I=t.timeoutErrorMessage),i(new La(I,P.clarifyTimeoutError?La.ETIMEDOUT:La.ECONNABORTED,t,v)),v=null},bd.isStandardBrowserEnv()){var R=(t.withCredentials||a5(N))&&t.xsrfCookieName?n5.read(t.xsrfCookieName):void 0;R&&(s[t.xsrfHeaderName]=R)}"setRequestHeader"in v&&bd.forEach(s,function(I,P){typeof o=="undefined"&&P.toLowerCase()==="content-type"?delete s[P]:v.setRequestHeader(P,I)}),bd.isUndefined(t.withCredentials)||(v.withCredentials=!!t.withCredentials),u&&u!=="json"&&(v.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&v.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&v.upload&&v.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(h=function(E){!v||(i(!E||E&&E.type?new l5:E),v.abort(),v=null)},t.cancelToken&&t.cancelToken.subscribe(h),t.signal&&(t.signal.aborted?h():t.signal.addEventListener("abort",h))),o||(o=null);var S=u5(N);if(S&&["http","https","file"].indexOf(S)===-1){i(new La("Unsupported protocol "+S+":",La.ERR_BAD_REQUEST,t));return}v.send(o)})},c5=null,qn=cr,jT=WK,KT=If,f5=eP,d5=tP,h5={"Content-Type":"application/x-www-form-urlencoded"};function qT(e,t){!qn.isUndefined(e)&&qn.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function p5(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=WT),e}function m5(e,t,n){if(qn.isString(e))try{return(t||JSON.parse)(e),qn.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}var Lv={transitional:f5,adapter:p5(),transformRequest:[function(t,n){if(jT(n,"Accept"),jT(n,"Content-Type"),qn.isFormData(t)||qn.isArrayBuffer(t)||qn.isBuffer(t)||qn.isStream(t)||qn.isFile(t)||qn.isBlob(t))return t;if(qn.isArrayBufferView(t))return t.buffer;if(qn.isURLSearchParams(t))return qT(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var r=qn.isObject(t),i=n&&n["Content-Type"],o;if((o=qn.isFileList(t))||r&&i==="multipart/form-data"){var s=this.env&&this.env.FormData;return d5(o?{"files[]":t}:t,s&&new s)}else if(r||i==="application/json")return qT(n,"application/json"),m5(t);return t}],transformResponse:[function(t){var n=this.transitional||Lv.transitional,r=n&&n.silentJSONParsing,i=n&&n.forcedJSONParsing,o=!r&&this.responseType==="json";if(o||i&&qn.isString(t)&&t.length)try{return JSON.parse(t)}catch(s){if(o)throw s.name==="SyntaxError"?KT.from(s,KT.ERR_BAD_RESPONSE,this,null,this.response):s}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:c5},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};qn.forEach(["delete","get","head"],function(t){Lv.headers[t]={}});qn.forEach(["post","put","patch"],function(t){Lv.headers[t]=qn.merge(h5)});var BE=Lv,g5=cr,v5=BE,y5=function(t,n,r){var i=this||v5;return g5.forEach(r,function(s){t=s.call(i,t,n)}),t},iP=function(t){return!!(t&&t.__CANCEL__)},VT=cr,ab=y5,w5=iP,b5=BE,S5=Dv;function sb(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new S5}var E5=function(t){sb(t),t.headers=t.headers||{},t.data=ab.call(t,t.data,t.headers,t.transformRequest),t.headers=VT.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),VT.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var n=t.adapter||b5.adapter;return n(t).then(function(i){return sb(t),i.data=ab.call(t,i.data,i.headers,t.transformResponse),i},function(i){return w5(i)||(sb(t),i&&i.response&&(i.response.data=ab.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},hi=cr,oP=function(t,n){n=n||{};var r={};function i(v,w){return hi.isPlainObject(v)&&hi.isPlainObject(w)?hi.merge(v,w):hi.isPlainObject(w)?hi.merge({},w):hi.isArray(w)?w.slice():w}function o(v){if(hi.isUndefined(n[v])){if(!hi.isUndefined(t[v]))return i(void 0,t[v])}else return i(t[v],n[v])}function s(v){if(!hi.isUndefined(n[v]))return i(void 0,n[v])}function u(v){if(hi.isUndefined(n[v])){if(!hi.isUndefined(t[v]))return i(void 0,t[v])}else return i(void 0,n[v])}function h(v){if(v in n)return i(t[v],n[v]);if(v in t)return i(void 0,t[v])}var m={url:s,method:s,data:s,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h};return hi.forEach(Object.keys(t).concat(Object.keys(n)),function(w){var b=m[w]||o,N=b(w);hi.isUndefined(N)&&b!==h||(r[w]=N)}),r},aP={version:"0.27.2"},C5=aP.version,Ts=If,FE={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){FE[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var HT={};FE.transitional=function(t,n,r){function i(o,s){return"[Axios v"+C5+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return function(o,s,u){if(t===!1)throw new Ts(i(s," has been removed"+(n?" in "+n:"")),Ts.ERR_DEPRECATED);return n&&!HT[s]&&(HT[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,s,u):!0}};function x5(e,t,n){if(typeof e!="object")throw new Ts("options must be an object",Ts.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],s=t[o];if(s){var u=e[o],h=u===void 0||s(u,o,e);if(h!==!0)throw new Ts("option "+o+" must be "+h,Ts.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ts("Unknown option "+o,Ts.ERR_BAD_OPTION)}}var N5={assertOptions:x5,validators:FE},sP=cr,I5=XR,GT=UK,YT=E5,Mv=oP,T5=nP,lP=N5,mc=lP.validators;function rf(e){this.defaults=e,this.interceptors={request:new GT,response:new GT}}rf.prototype.request=function(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Mv(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var r=n.transitional;r!==void 0&&lP.assertOptions(r,{silentJSONParsing:mc.transitional(mc.boolean),forcedJSONParsing:mc.transitional(mc.boolean),clarifyTimeoutError:mc.transitional(mc.boolean)},!1);var i=[],o=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(n)===!1||(o=o&&N.synchronous,i.unshift(N.fulfilled,N.rejected))});var s=[];this.interceptors.response.forEach(function(N){s.push(N.fulfilled,N.rejected)});var u;if(!o){var h=[YT,void 0];for(Array.prototype.unshift.apply(h,i),h=h.concat(s),u=Promise.resolve(n);h.length;)u=u.then(h.shift(),h.shift());return u}for(var m=n;i.length;){var v=i.shift(),w=i.shift();try{m=v(m)}catch(b){w(b);break}}try{u=YT(m)}catch(b){return Promise.reject(b)}for(;s.length;)u=u.then(s.shift(),s.shift());return u};rf.prototype.getUri=function(t){t=Mv(this.defaults,t);var n=T5(t.baseURL,t.url);return I5(n,t.params,t.paramsSerializer)};sP.forEach(["delete","get","head","options"],function(t){rf.prototype[t]=function(n,r){return this.request(Mv(r||{},{method:t,url:n,data:(r||{}).data}))}});sP.forEach(["post","put","patch"],function(t){function n(r){return function(o,s,u){return this.request(Mv(u||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}rf.prototype[t]=n(),rf.prototype[t+"Form"]=n(!0)});var O5=rf,_5=Dv;function of(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var n=this;this.promise.then(function(r){if(!!n._listeners){var i,o=n._listeners.length;for(i=0;i<o;i++)n._listeners[i](r);n._listeners=null}}),this.promise.then=function(r){var i,o=new Promise(function(s){n.subscribe(s),i=s}).then(r);return o.cancel=function(){n.unsubscribe(i)},o},e(function(i){n.reason||(n.reason=new _5(i),t(n.reason))})}of.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};of.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};of.prototype.unsubscribe=function(t){if(!!this._listeners){var n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}};of.source=function(){var t,n=new of(function(i){t=i});return{token:n,cancel:t}};var A5=of,R5=function(t){return function(r){return t.apply(null,r)}},P5=cr,k5=function(t){return P5.isObject(t)&&t.isAxiosError===!0},XT=cr,D5=HR,Km=O5,L5=oP,M5=BE;function uP(e){var t=new Km(e),n=D5(Km.prototype.request,t);return XT.extend(n,Km.prototype,t),XT.extend(n,t),n.create=function(i){return uP(L5(e,i))},n}var Qr=uP(M5);Qr.Axios=Km;Qr.CanceledError=Dv;Qr.CancelToken=A5;Qr.isCancel=iP;Qr.VERSION=aP.version;Qr.toFormData=tP;Qr.AxiosError=If;Qr.Cancel=Qr.CanceledError;Qr.all=function(t){return Promise.all(t)};Qr.spread=R5;Qr.isAxiosError=k5;PE.exports=Qr;PE.exports.default=Qr;var cP=PE.exports;const xx=class{};let Dn=xx;ea(Dn,"Name","Laravel Builder"),ea(Dn,"Name2","laravel-builder"),ea(Dn,"Folder",xx.Name2),ea(Dn,"PackageName","googee/laravel-builder"),ea(Dn,"ScriptCode",`function run(data) {
    /** @type {LB.DataForScript} */
    const ddd = data

    /**
     * write code below
     * it will be executed before generating files
     */
}
`);let ma=fP();function fP(){return cP.create({baseURL:location.origin+"/"+Dn.Name2,timeout:11e3})}function z5(){return ma=fP(),B5()}function B5(){return ma.get("")}function F5(e,t=!1){return ma.put("",{content:e,backup:t})}function UE(e,t){return ma.put("file",{file:e,content:t})}function dP(e){return ma.get("file",{params:{folder:e}})}function U5(){return ma.get("dbschema")}function $5(){return ma.get("dbmigration")}function W5(e){return ma.post("migration",{step:e})}function j5(){return ma.post("migration/file")}function K5(e){return ma.delete("migration/file",{data:{file:e}})}const zv=".js",Bv=".txt",JT="code-factory.js",kg="code-helper.js",QT="code-validation.js";function Fv(e){return Dn.Folder+"/"+e}function ol(e,t){return`file-${e.id+t}`}function al(e){return Dn.Folder+"/code/"+e}const ZT=37;function q5(e,t){if(e.version===ZT)e.version=ZT+1;else return}function Gs(e,t,n=new Map){return e.forEach(function(r){const i=r[t];let o=n.get(i);o===void 0&&(o=[],n.set(i,o)),o.push(r)}),n}function Vr(e,t=new Map){return e.forEach(n=>t.set(n.id,n)),t}function $E(e,t=new Map){return e.forEach(n=>t.set(n.id,n.name)),t}const eO=38;function V5(e,t){if(e.version===eO)e.version=eO+1;else return;const n=$E(e.tables.Directory);e.tables.ModuleAction.forEach(function(r){var i;r.name=(i=n.get(r.directoryId))!=null?i:""})}const tO=39;function H5(e,t){if(e.version===tO)e.version=tO+1;else return;const n=e.tables,r=Vr(e.tables.File),i=Gs(n.ModuleActionFile,"moduleActionId");delete n.ModuleActionFile,e.tables.ModuleAction.forEach(function(o){var s;o.filezz=[],(s=i.get(o.id))==null||s.forEach(function(u){const h=r.get(u.fileId);h&&o.filezz.push({...h,isExtra:!1})})})}const nO=40;function G5(e,t){if(e.version===nO)e.version=nO+1;else return;e.tables.Column.forEach(o=>o.hidden=!1);const n="TypeFormat";if(e.tables.Collection.find(o=>o.name===n))return;const r=t.db.tables.Collection.find(o=>o.name===n);if(r===void 0)throw new Error(`Collection ${n} not found`);e.tables.Collection.push(r);const i=t.db.tables.CollectionItem.filter(o=>o.collectionId===r.id);e.tables.CollectionItem.push(...i)}const rO=41;function Y5(e,t){if(e.version===rO)e.version=rO+1;else return;e.tables.ModuleAction.forEach(n=>n.routeName="")}const iO=42;function X5(e,t){if(e.version===iO)e.version=iO+1;else return;e.tables.ModuleAction.forEach(n=>{n.inOapi=!0,n.inRoute=!0})}const J5=37,WE=43;function Q5(e,t,n){if(e.version!==WE){if(t&&Z5(e,t),e.version<J5)throw new Error(`data version ${e.version} is no longer supported`);q5(e),V5(e),H5(e),G5(e,n),Y5(e),X5(e)}}function Z5(e,t){const n="000"+e.version,r=new Date().toISOString().replaceAll(":","_");UE(Fv(`v${n.slice(-3)}-${r}.json`),t)}const jE=Ee.schema.create("LB",WE);vK(jE);let lb;async function Wt(){return lb===void 0&&(lb=await jE.connect()),lb}function eq(e){const t=jE.getGlobal().getService(new nq("indexstore")),n=e.getConstraint().getPrimaryKey();return t.get(n.getNormalizedName()).stats().maxKeyEncountered}function rp(){return Wt().then(e=>e.export()).then(e=>e)}function tq(e){return Wt().then(t=>t.import(e))}class nq{constructor(t){this.serviceId=t}toString(){return this.serviceId}getAsType(){return{}}}function rq(e,t,n){return hP(e,t,[n]).then(r=>{if(r.length===0)throw new Error(`fail to create item in ${t}`);return r[0]})}function hP(e,t,n){if(n.length===0)return Promise.resolve([]);const r=e.getSchema().table(t);{const o=eq(r),s=1e3;o<s&&n.forEach((u,h)=>u.id=s+h)}const i=n.map(o=>r.createRow(o));return e.insert().into(r).values(i).exec()}function iq(e,t,n,r){const i=e.getSchema().table(t);return e.delete().from(i).where(i.col(r).eq(n)).exec()}function oq(e,t,n,r="id"){const i=e.getSchema().table(t);return e.delete().from(i).where(i.col(r).in(n)).exec()}function aq(e,t){const n=e.getSchema().table(t);return e.select().from(n).exec()}function sq(e,t,n,r){const i=e.getSchema().table(t);return e.select().from(i).where(i.col(r).in(n)).exec()}function lq(e,t,n,r){const i=e.getSchema().table(t);return e.select().from(i).where(i.col(r).eq(n)).exec()}function uq(e,t,n,r="id"){const i=e.getSchema().table(t);return e.select().from(i).where(i.col(r).eq(n)).exec().then(s=>{if(s.length===0)throw new Error(`${t} ${r} ${n} not found`);return s[0]})}function cq(e,t,n){return pP(e,t,[n]).then(r=>{if(r.length===0)throw new Error(`fail to update ${t}`);return r[0]})}function pP(e,t,n){const r=e.getSchema().table(t),i=[];return n.forEach(o=>i.push(r.createRow(o))),e.insertOrReplace().into(r).values(i).exec()}function fq(e,t,n,r,i){const o=e.getSchema().table(t);return e.update(o).set(o.col(n),r).where(o.col(n).eq(i)).exec()}class Gt{constructor(t,n){this.dbcf=t,this.schema=n}create(t){return this.dbcf().then(n=>rq(n,this.schema,t))}createMany(t){return this.dbcf().then(n=>hP(n,this.schema,t))}delete(t){return this.deleteMany([t])}deleteChildzz(t,n){return this.dbcf().then(r=>iq(r,this.schema,t,n))}deleteMany(t){return this.dbcf().then(n=>oq(n,this.schema,t))}findAll(){return this.dbcf().then(t=>aq(t,this.schema))}findAllBelongTo(t,n){return this.dbcf().then(r=>sq(r,this.schema,t,n))}findChildzz(t,n){return this.dbcf().then(r=>lq(r,this.schema,t,n))}observeAll(t){return this.dbcf().then(n=>{const r=n.getSchema().table(this.schema),i=n.select().from(r);n.observe(i,function(){i.exec().then(o=>{t(o)})})})}read(t){return this.dbcf().then(n=>uq(n,this.schema,t))}update(t){return this.dbcf().then(n=>cq(n,this.schema,t))}updateMany(t){return this.dbcf().then(n=>pP(n,this.schema,t))}updateManyColumn(t,n,r){return this.dbcf().then(i=>fq(i,this.schema,t,n,r))}}const oO=Lt.Relation;class dq{constructor(t){ea(this,"crud");this.crud=hq(t,oO)}create(t){return this.crud.create(t)}delete(t){return this.crud.delete(t)}findAll(){return this.crud.findAll()}findAllBelongTo(t){return this.crud.dbcf().then(n=>{const r=n.getSchema().table(oO);return n.select().from(r).where(Ee.op.or(r.col("entity0Id").in(t),r.col("entity1Id").in(t))).exec()})}observeAll(t){return this.crud.observeAll(t)}update(t){return this.crud.update(t)}}function hq(e,t){return new Gt(e,t)}function K0(){return new Gt(Wt,Lt.Collection)}function Oh(){return new Gt(Wt,Lt.CollectionItem)}function Zr(){return new Gt(Wt,Lt.Column)}function _h(){return new Gt(Wt,Lt.ColumnConstraint)}function Ah(){return new Gt(Wt,Lt.Directory)}function Dg(){return new Gt(Wt,Lt.DoctrineColumnType)}function Hi(){return new Gt(Wt,Lt.Entity)}function Lg(){return new Gt(Wt,Lt.Example)}function ub(){return new Gt(Wt,Lt.ExampleMap)}function Mg(){return new Gt(Wt,Lt.File)}function rh(){return new Gt(Wt,Lt.Index)}function ih(){return new Gt(Wt,Lt.IndexColumn)}function Kc(){return new Gt(Wt,Lt.Module)}function vi(){return new Gt(Wt,Lt.ModuleAction)}function Ac(){return new Gt(Wt,Lt.ModuleActionResponse)}function Ld(){return new Gt(Wt,Lt.ParameterMap)}function Rh(){return new Gt(Wt,Lt.Path)}function oh(){return new Gt(Wt,Lt.PathMethod)}function Eu(){return new dq(Wt)}function Uv(){return new Gt(Wt,Lt.Request)}function zg(){return new Gt(Wt,Lt.Response)}function Bg(){return new Gt(Wt,Lt.Server)}function cb(){return new Gt(Wt,Lt.ServerMap)}function fb(){return new Gt(Wt,Lt.ServerVariable)}function Yn(){return new Gt(Wt,Lt.TypeFormat)}function Fg(){return new Gt(Wt,Lt.Variable)}function Cu(){return new Gt(Wt,Lt.Wu)}function qm(){return new Gt(Wt,Lt.WuColumn)}function db(){return new Gt(Wt,Lt.WuColumnConstraint)}function Ug(){return new Gt(Wt,Lt.WuParameter)}function Ga(e,t,n,r){function i(o){e({itemzz:o}),r&&r(o)}return{itemzz:[],observed:!1,find(o){return t().itemzz.find(s=>s.id===o)},observe(){t().observed||(e({observed:!0}),n.observeAll(i),n.findAll().then(i))},setItem(o){e(s=>({itemzz:s.itemzz.filter(h=>h.id!==o.id).concat(o)}))}}}function ti(e,t,n,r){const i=Ga(e,t,n);function o(s){t().sorting&&s.sort((u,h)=>u.name.localeCompare(h.name)),e({itemzz:s}),r&&r(s)}return{...i,sorting:!1,findByName(s){return t().itemzz.find(u=>u.name===s)},observe(){t().observed||(e({observed:!0}),n.observeAll(o),n.findAll().then(o))}}}const KE=yt(function(e,t){return{...ti(e,t,K0()),sorting:!0}}),qE=yt(function(e,t){return Ga(e,t,Oh())});var yi=(e=>(e.white="#fff",e.red="#f00",e.pink="#f0f",e.orange="#f80",e.yellow="#ff0",e.green="#0f0",e.aqua="#0ff",e.blue="#00f",e.navy="#08f",e.violet="#80f",e))(yi||{});const mP=Object.values(yi);function q0(e,t){return e===t?e:"#fff"}function V0(e){return e==="#fff"?"#333":e}function Lo(e){return{item:void 0,keyword:"",tab:"",color:yi.white,search(n){e({keyword:n})},setColor(n){e({color:n})},setItem(n){e({item:n})},setTab(n){e({tab:n})}}}const gP=yt(function(e){return Lo(e)});function pq(e){return cP.isAxiosError(e)}function VE(e){return typeof e=="string"?e:pq(e)?e.response&&e.response.data&&e.response.data.message?e.response.data.message:e.message:e instanceof Error?e.message:e instanceof Object&&"message"in e?VE(e.message):JSON.stringify(e)}const pv=class{constructor(t,n,r){ea(this,"id");ea(this,"date",new Date);this.text=t,this.color=n,this.detail=r,pv.index+=1,this.id=pv.index}};let Vm=pv;ea(Vm,"index",0);const Be=yt(function(e,t){return{itemzz:[],list:[],create(r,i="",o=3222,s){const u=new Vm(r.slice(0,333),i,s);e(h=>({itemzz:h.itemzz.concat(u),list:h.list.concat(u)})),o>0&&setTimeout(()=>t().dismiss(u.id),o)},dismiss(r){e(i=>({list:i.list.filter(s=>s.id!==r)}))},showDanger(r,i){t().create(r,"text-danger",0,i)},showError(r){const i=VE(r),o=typeof r=="string"?void 0:JSON.stringify(r);t().showDanger(i,o)},showOK(){t().showSuccess("OK")},showSuccess(r){t().create(r,"text-success")},showWarning(r){t().create(r,"text-warning",0)}}});var vP={exports:{}};/*!
* sweetalert2 v11.7.3
* Released under the MIT License.
*/(function(e,t){(function(n,r){e.exports=r()})(An,function(){var n={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const r="swal2-",i=_=>{const k={};for(const j in _)k[_[j]]=r+_[j];return k},o=i(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),s=i(["success","warning","info","question","error"]),u="SweetAlert2:",h=_=>{const k=[];for(let j=0;j<_.length;j++)k.indexOf(_[j])===-1&&k.push(_[j]);return k},m=_=>_.charAt(0).toUpperCase()+_.slice(1),v=_=>{console.warn(`${u} ${typeof _=="object"?_.join(" "):_}`)},w=_=>{console.error(`${u} ${_}`)},b=[],N=_=>{b.includes(_)||(b.push(_),v(_))},T=(_,k)=>{N(`"${_}" is deprecated and will be removed in the next major release. Please use "${k}" instead.`)},R=_=>typeof _=="function"?_():_,S=_=>_&&typeof _.toPromise=="function",E=_=>S(_)?_.toPromise():Promise.resolve(_),I=_=>_&&Promise.resolve(_)===_,P=()=>document.body.querySelector(`.${o.container}`),O=_=>{const k=P();return k?k.querySelector(_):null},B=_=>O(`.${_}`),A=()=>B(o.popup),z=()=>B(o.icon),M=()=>B(o["icon-content"]),F=()=>B(o.title),U=()=>B(o["html-container"]),W=()=>B(o.image),G=()=>B(o["progress-steps"]),te=()=>B(o["validation-message"]),V=()=>O(`.${o.actions} .${o.confirm}`),oe=()=>O(`.${o.actions} .${o.cancel}`),ne=()=>O(`.${o.actions} .${o.deny}`),J=()=>B(o["input-label"]),Y=()=>O(`.${o.loader}`),X=()=>B(o.actions),re=()=>B(o.footer),ie=()=>B(o["timer-progress-bar"]),ce=()=>B(o.close),ye=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,ge=()=>{const _=Array.from(A().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((j,ae)=>{const Se=parseInt(j.getAttribute("tabindex")),Qe=parseInt(ae.getAttribute("tabindex"));return Se>Qe?1:Se<Qe?-1:0}),k=Array.from(A().querySelectorAll(ye)).filter(j=>j.getAttribute("tabindex")!=="-1");return h(_.concat(k)).filter(j=>Je(j))},fe=()=>be(document.body,o.shown)&&!be(document.body,o["toast-shown"])&&!be(document.body,o["no-backdrop"]),Me=()=>A()&&be(A(),o.toast),je=()=>A().hasAttribute("data-loading"),Ae={previousBodyPadding:null},_e=(_,k)=>{if(_.textContent="",k){const ae=new DOMParser().parseFromString(k,"text/html");Array.from(ae.querySelector("head").childNodes).forEach(Se=>{_.appendChild(Se)}),Array.from(ae.querySelector("body").childNodes).forEach(Se=>{Se instanceof HTMLVideoElement||Se instanceof HTMLAudioElement?_.appendChild(Se.cloneNode(!0)):_.appendChild(Se)})}},be=(_,k)=>{if(!k)return!1;const j=k.split(/\s+/);for(let ae=0;ae<j.length;ae++)if(!_.classList.contains(j[ae]))return!1;return!0},De=(_,k)=>{Array.from(_.classList).forEach(j=>{!Object.values(o).includes(j)&&!Object.values(s).includes(j)&&!Object.values(k.showClass).includes(j)&&_.classList.remove(j)})},Re=(_,k,j)=>{if(De(_,k),k.customClass&&k.customClass[j]){if(typeof k.customClass[j]!="string"&&!k.customClass[j].forEach){v(`Invalid type of customClass.${j}! Expected string or iterable object, got "${typeof k.customClass[j]}"`);return}He(_,k.customClass[j])}},Ge=(_,k)=>{if(!k)return null;switch(k){case"select":case"textarea":case"file":return _.querySelector(`.${o.popup} > .${o[k]}`);case"checkbox":return _.querySelector(`.${o.popup} > .${o.checkbox} input`);case"radio":return _.querySelector(`.${o.popup} > .${o.radio} input:checked`)||_.querySelector(`.${o.popup} > .${o.radio} input:first-child`);case"range":return _.querySelector(`.${o.popup} > .${o.range} input`);default:return _.querySelector(`.${o.popup} > .${o.input}`)}},ht=_=>{if(_.focus(),_.type!=="file"){const k=_.value;_.value="",_.value=k}},Dt=(_,k,j)=>{!_||!k||(typeof k=="string"&&(k=k.split(/\s+/).filter(Boolean)),k.forEach(ae=>{Array.isArray(_)?_.forEach(Se=>{j?Se.classList.add(ae):Se.classList.remove(ae)}):j?_.classList.add(ae):_.classList.remove(ae)}))},He=(_,k)=>{Dt(_,k,!0)},le=(_,k)=>{Dt(_,k,!1)},ve=(_,k)=>{const j=Array.from(_.children);for(let ae=0;ae<j.length;ae++){const Se=j[ae];if(Se instanceof HTMLElement&&be(Se,k))return Se}},Pe=(_,k,j)=>{j===`${parseInt(j)}`&&(j=parseInt(j)),j||parseInt(j)===0?_.style[k]=typeof j=="number"?`${j}px`:j:_.style.removeProperty(k)},Ie=function(_){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";_.style.display=k},ze=_=>{_.style.display="none"},$e=(_,k,j,ae)=>{const Se=_.querySelector(k);Se&&(Se.style[j]=ae)},mt=function(_,k){let j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";k?Ie(_,j):ze(_)},Je=_=>!!(_&&(_.offsetWidth||_.offsetHeight||_.getClientRects().length)),Nt=()=>!Je(V())&&!Je(ne())&&!Je(oe()),cn=_=>_.scrollHeight>_.clientHeight,st=_=>{const k=window.getComputedStyle(_),j=parseFloat(k.getPropertyValue("animation-duration")||"0"),ae=parseFloat(k.getPropertyValue("transition-duration")||"0");return j>0||ae>0},nt=function(_){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const j=ie();Je(j)&&(k&&(j.style.transition="none",j.style.width="100%"),setTimeout(()=>{j.style.transition=`width ${_/1e3}s linear`,j.style.width="0%"},10))},mn=()=>{const _=ie(),k=parseInt(window.getComputedStyle(_).width);_.style.removeProperty("transition"),_.style.width="100%";const j=parseInt(window.getComputedStyle(_).width),ae=k/j*100;_.style.width=`${ae}%`},fr=100,Ke={},hn=()=>{Ke.previousActiveElement instanceof HTMLElement?(Ke.previousActiveElement.focus(),Ke.previousActiveElement=null):document.body&&document.body.focus()},rn=_=>new Promise(k=>{if(!_)return k();const j=window.scrollX,ae=window.scrollY;Ke.restoreFocusTimeout=setTimeout(()=>{hn(),k()},fr),window.scrollTo(j,ae)}),gn=()=>typeof window=="undefined"||typeof document=="undefined",Ze=`
 <div aria-labelledby="${o.title}" aria-describedby="${o["html-container"]}" class="${o.popup}" tabindex="-1">
   <button type="button" class="${o.close}"></button>
   <ul class="${o["progress-steps"]}"></ul>
   <div class="${o.icon}"></div>
   <img class="${o.image}" />
   <h2 class="${o.title}" id="${o.title}"></h2>
   <div class="${o["html-container"]}" id="${o["html-container"]}"></div>
   <input class="${o.input}" />
   <input type="file" class="${o.file}" />
   <div class="${o.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${o.select}"></select>
   <div class="${o.radio}"></div>
   <label for="${o.checkbox}" class="${o.checkbox}">
     <input type="checkbox" />
     <span class="${o.label}"></span>
   </label>
   <textarea class="${o.textarea}"></textarea>
   <div class="${o["validation-message"]}" id="${o["validation-message"]}"></div>
   <div class="${o.actions}">
     <div class="${o.loader}"></div>
     <button type="button" class="${o.confirm}"></button>
     <button type="button" class="${o.deny}"></button>
     <button type="button" class="${o.cancel}"></button>
   </div>
   <div class="${o.footer}"></div>
   <div class="${o["timer-progress-bar-container"]}">
     <div class="${o["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),et=()=>{const _=P();return _?(_.remove(),le([document.documentElement,document.body],[o["no-backdrop"],o["toast-shown"],o["has-column"]]),!0):!1},gt=()=>{Ke.currentInstance.resetValidationMessage()},St=()=>{const _=A(),k=ve(_,o.input),j=ve(_,o.file),ae=_.querySelector(`.${o.range} input`),Se=_.querySelector(`.${o.range} output`),Qe=ve(_,o.select),qt=_.querySelector(`.${o.checkbox} input`),Nr=ve(_,o.textarea);k.oninput=gt,j.onchange=gt,Qe.onchange=gt,qt.onchange=gt,Nr.oninput=gt,ae.oninput=()=>{gt(),Se.value=ae.value},ae.onchange=()=>{gt(),Se.value=ae.value}},pt=_=>typeof _=="string"?document.querySelector(_):_,jt=_=>{const k=A();k.setAttribute("role",_.toast?"alert":"dialog"),k.setAttribute("aria-live",_.toast?"polite":"assertive"),_.toast||k.setAttribute("aria-modal","true")},on=_=>{window.getComputedStyle(_).direction==="rtl"&&He(P(),o.rtl)},Bn=_=>{const k=et();if(gn()){w("SweetAlert2 requires document to initialize");return}const j=document.createElement("div");j.className=o.container,k&&He(j,o["no-transition"]),_e(j,Ze);const ae=pt(_.target);ae.appendChild(j),jt(_),on(ae),St()},dr=(_,k)=>{_ instanceof HTMLElement?k.appendChild(_):typeof _=="object"?_i(_,k):_&&_e(k,_)},_i=(_,k)=>{_.jquery?ri(k,_):_e(k,_.toString())},ri=(_,k)=>{if(_.textContent="",0 in k)for(let j=0;j in k;j++)_.appendChild(k[j].cloneNode(!0));else _.appendChild(k.cloneNode(!0))},Sr=(()=>{if(gn())return!1;const _=document.createElement("div"),k={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const j in k)if(Object.prototype.hasOwnProperty.call(k,j)&&typeof _.style[j]!="undefined")return k[j];return!1})(),ro=()=>{const _=document.createElement("div");_.className=o["scrollbar-measure"],document.body.appendChild(_);const k=_.getBoundingClientRect().width-_.clientWidth;return document.body.removeChild(_),k},io=(_,k)=>{const j=X(),ae=Y();!k.showConfirmButton&&!k.showDenyButton&&!k.showCancelButton?ze(j):Ie(j),Re(j,k,"actions"),Xa(j,ae,k),_e(ae,k.loaderHtml),Re(ae,k,"loader")};function Xa(_,k,j){const ae=V(),Se=ne(),Qe=oe();Ai(ae,"confirm",j),Ai(Se,"deny",j),Ai(Qe,"cancel",j),We(ae,Se,Qe,j),j.reverseButtons&&(j.toast?(_.insertBefore(Qe,ae),_.insertBefore(Se,ae)):(_.insertBefore(Qe,k),_.insertBefore(Se,k),_.insertBefore(ae,k)))}function We(_,k,j,ae){if(!ae.buttonsStyling){le([_,k,j],o.styled);return}He([_,k,j],o.styled),ae.confirmButtonColor&&(_.style.backgroundColor=ae.confirmButtonColor,He(_,o["default-outline"])),ae.denyButtonColor&&(k.style.backgroundColor=ae.denyButtonColor,He(k,o["default-outline"])),ae.cancelButtonColor&&(j.style.backgroundColor=ae.cancelButtonColor,He(j,o["default-outline"]))}function Ai(_,k,j){mt(_,j[`show${m(k)}Button`],"inline-block"),_e(_,j[`${k}ButtonText`]),_.setAttribute("aria-label",j[`${k}ButtonAriaLabel`]),_.className=o[k],Re(_,j,`${k}Button`),He(_,j[`${k}ButtonClass`])}const gl=(_,k)=>{const j=ce();_e(j,k.closeButtonHtml),Re(j,k,"closeButton"),mt(j,k.showCloseButton),j.setAttribute("aria-label",k.closeButtonAriaLabel)},oo=(_,k)=>{const j=P();!j||(ao(j,k.backdrop),Uo(j,k.position),Fn(j,k.grow),Re(j,k,"container"))};function ao(_,k){typeof k=="string"?_.style.background=k:k||He([document.documentElement,document.body],o["no-backdrop"])}function Uo(_,k){k in o?He(_,o[k]):(v('The "position" parameter is not valid, defaulting to "center"'),He(_,o.center))}function Fn(_,k){if(k&&typeof k=="string"){const j=`grow-${k}`;j in o&&He(_,o[j])}}const vl=["input","file","range","select","radio","checkbox","textarea"],yl=(_,k)=>{const j=A(),ae=n.innerParams.get(_),Se=!ae||k.input!==ae.input;vl.forEach(Qe=>{const qt=ve(j,o[Qe]);bl(Qe,k.inputAttributes),qt.className=o[Qe],Se&&ze(qt)}),k.input&&(Se&&wl(k),Ja(k))},wl=_=>{if(!En[_.input]){w(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${_.input}"`);return}const k=$o(_.input),j=En[_.input](k,_);Ie(k),_.inputAutoFocus&&setTimeout(()=>{ht(j)})},ya=_=>{for(let k=0;k<_.attributes.length;k++){const j=_.attributes[k].name;["type","value","style"].includes(j)||_.removeAttribute(j)}},bl=(_,k)=>{const j=Ge(A(),_);if(!!j){ya(j);for(const ae in k)j.setAttribute(ae,k[ae])}},Ja=_=>{const k=$o(_.input);typeof _.customClass=="object"&&He(k,_.customClass.input)},wa=(_,k)=>{(!_.placeholder||k.inputPlaceholder)&&(_.placeholder=k.inputPlaceholder)},so=(_,k,j)=>{if(j.inputLabel){_.id=o.input;const ae=document.createElement("label"),Se=o["input-label"];ae.setAttribute("for",_.id),ae.className=Se,typeof j.customClass=="object"&&He(ae,j.customClass.inputLabel),ae.innerText=j.inputLabel,k.insertAdjacentElement("beforebegin",ae)}},$o=_=>ve(A(),o[_]||o.input),Wo=(_,k)=>{["string","number"].includes(typeof k)?_.value=`${k}`:I(k)||v(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof k}"`)},En={};En.text=En.email=En.password=En.number=En.tel=En.url=(_,k)=>(Wo(_,k.inputValue),so(_,_,k),wa(_,k),_.type=k.input,_),En.file=(_,k)=>(so(_,_,k),wa(_,k),_),En.range=(_,k)=>{const j=_.querySelector("input"),ae=_.querySelector("output");return Wo(j,k.inputValue),j.type=k.input,Wo(ae,k.inputValue),so(j,_,k),_},En.select=(_,k)=>{if(_.textContent="",k.inputPlaceholder){const j=document.createElement("option");_e(j,k.inputPlaceholder),j.value="",j.disabled=!0,j.selected=!0,_.appendChild(j)}return so(_,_,k),_},En.radio=_=>(_.textContent="",_),En.checkbox=(_,k)=>{const j=Ge(A(),"checkbox");j.value="1",j.id=o.checkbox,j.checked=Boolean(k.inputValue);const ae=_.querySelector("span");return _e(ae,k.inputPlaceholder),j},En.textarea=(_,k)=>{Wo(_,k.inputValue),wa(_,k),so(_,_,k);const j=ae=>parseInt(window.getComputedStyle(ae).marginLeft)+parseInt(window.getComputedStyle(ae).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const ae=parseInt(window.getComputedStyle(A()).width),Se=()=>{const Qe=_.offsetWidth+j(_);Qe>ae?A().style.width=`${Qe}px`:A().style.width=null};new MutationObserver(Se).observe(_,{attributes:!0,attributeFilter:["style"]})}}),_};const Sl=(_,k)=>{const j=U();Re(j,k,"htmlContainer"),k.html?(dr(k.html,j),Ie(j,"block")):k.text?(j.textContent=k.text,Ie(j,"block")):ze(j),yl(_,k)},Un=(_,k)=>{const j=re();mt(j,k.footer),k.footer&&dr(k.footer,j),Re(j,k,"footer")},Qa=(_,k)=>{const j=n.innerParams.get(_),ae=z();if(j&&k.icon===j.icon){ii(ae,k),Ri(ae,k);return}if(!k.icon&&!k.iconHtml){ze(ae);return}if(k.icon&&Object.keys(s).indexOf(k.icon)===-1){w(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${k.icon}"`),ze(ae);return}Ie(ae),ii(ae,k),Ri(ae,k),He(ae,k.showClass.icon)},Ri=(_,k)=>{for(const j in s)k.icon!==j&&le(_,s[j]);He(_,s[k.icon]),lo(_,k),El(),Re(_,k,"icon")},El=()=>{const _=A(),k=window.getComputedStyle(_).getPropertyValue("background-color"),j=_.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let ae=0;ae<j.length;ae++)j[ae].style.backgroundColor=k},Za=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,ba=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,ii=(_,k)=>{let j=_.innerHTML,ae;k.iconHtml?ae=zr(k.iconHtml):k.icon==="success"?(ae=Za,j=j.replace(/ style=".*?"/g,"")):k.icon==="error"?ae=ba:ae=zr({question:"?",warning:"!",info:"i"}[k.icon]),j.trim()!==ae.trim()&&_e(_,ae)},lo=(_,k)=>{if(!!k.iconColor){_.style.color=k.iconColor,_.style.borderColor=k.iconColor;for(const j of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])$e(_,j,"backgroundColor",k.iconColor);$e(_,".swal2-success-ring","borderColor",k.iconColor)}},zr=_=>`<div class="${o["icon-content"]}">${_}</div>`,es=(_,k)=>{const j=W();if(!k.imageUrl){ze(j);return}Ie(j,""),j.setAttribute("src",k.imageUrl),j.setAttribute("alt",k.imageAlt),Pe(j,"width",k.imageWidth),Pe(j,"height",k.imageHeight),j.className=o.image,Re(j,k,"image")},Cl=(_,k)=>{const j=P(),ae=A();k.toast?(Pe(j,"width",k.width),ae.style.width="100%",ae.insertBefore(Y(),z())):Pe(ae,"width",k.width),Pe(ae,"padding",k.padding),k.color&&(ae.style.color=k.color),k.background&&(ae.style.background=k.background),ze(te()),ts(ae,k)},ts=(_,k)=>{_.className=`${o.popup} ${Je(_)?k.showClass.popup:""}`,k.toast?(He([document.documentElement,document.body],o["toast-shown"]),He(_,o.toast)):He(_,o.modal),Re(_,k,"popup"),typeof k.customClass=="string"&&He(_,k.customClass),k.icon&&He(_,o[`icon-${k.icon}`])},ns=(_,k)=>{const j=G();if(!k.progressSteps||k.progressSteps.length===0){ze(j);return}Ie(j),j.textContent="",k.currentProgressStep>=k.progressSteps.length&&v("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),k.progressSteps.forEach((ae,Se)=>{const Qe=Sa(ae);if(j.appendChild(Qe),Se===k.currentProgressStep&&He(Qe,o["active-progress-step"]),Se!==k.progressSteps.length-1){const qt=Ea(k);j.appendChild(qt)}})},Sa=_=>{const k=document.createElement("li");return He(k,o["progress-step"]),_e(k,_),k},Ea=_=>{const k=document.createElement("li");return He(k,o["progress-step-line"]),_.progressStepsDistance&&Pe(k,"width",_.progressStepsDistance),k},rs=(_,k)=>{const j=F();mt(j,k.title||k.titleText,"block"),k.title&&dr(k.title,j),k.titleText&&(j.innerText=k.titleText),Re(j,k,"title")},uo=(_,k)=>{Cl(_,k),oo(_,k),ns(_,k),Qa(_,k),es(_,k),rs(_,k),gl(_,k),Sl(_,k),io(_,k),Un(_,k),typeof k.didRender=="function"&&k.didRender(A())};function jo(){const _=n.innerParams.get(this);if(!_)return;const k=n.domCache.get(this);ze(k.loader),Me()?_.icon&&Ie(z()):oi(k),le([k.popup,k.actions],o.loading),k.popup.removeAttribute("aria-busy"),k.popup.removeAttribute("data-loading"),k.confirmButton.disabled=!1,k.denyButton.disabled=!1,k.cancelButton.disabled=!1}const oi=_=>{const k=_.popup.getElementsByClassName(_.loader.getAttribute("data-button-to-replace"));k.length?Ie(k[0],"inline-block"):Nt()&&ze(_.actions)};function Ko(_){const k=n.innerParams.get(_||this),j=n.domCache.get(_||this);return j?Ge(j.popup,k.input):null}const hr=()=>Je(A()),Er=()=>V()&&V().click(),Pn=()=>ne()&&ne().click(),Cr=()=>oe()&&oe().click(),ai=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),co=_=>{_.keydownTarget&&_.keydownHandlerAdded&&(_.keydownTarget.removeEventListener("keydown",_.keydownHandler,{capture:_.keydownListenerCapture}),_.keydownHandlerAdded=!1)},Uu=(_,k,j,ae)=>{co(k),j.toast||(k.keydownHandler=Se=>Vo(_,Se,ae),k.keydownTarget=j.keydownListenerCapture?window:A(),k.keydownListenerCapture=j.keydownListenerCapture,k.keydownTarget.addEventListener("keydown",k.keydownHandler,{capture:k.keydownListenerCapture}),k.keydownHandlerAdded=!0)},Pi=(_,k)=>{const j=ge();if(j.length){_=_+k,_===j.length?_=0:_===-1&&(_=j.length-1),j[_].focus();return}A().focus()},qo=["ArrowRight","ArrowDown"],fo=["ArrowLeft","ArrowUp"],Vo=(_,k,j)=>{const ae=n.innerParams.get(_);!ae||k.isComposing||k.keyCode===229||(ae.stopKeydownPropagation&&k.stopPropagation(),k.key==="Enter"?$u(_,k,ae):k.key==="Tab"?xl(k):[...qo,...fo].includes(k.key)?Wu(k.key):k.key==="Escape"&&is(k,ae,j))},$u=(_,k,j)=>{if(!!R(j.allowEnterKey)&&k.target&&_.getInput()&&k.target instanceof HTMLElement&&k.target.outerHTML===_.getInput().outerHTML){if(["textarea","file"].includes(j.input))return;Er(),k.preventDefault()}},xl=_=>{const k=_.target,j=ge();let ae=-1;for(let Se=0;Se<j.length;Se++)if(k===j[Se]){ae=Se;break}_.shiftKey?Pi(ae,-1):Pi(ae,1),_.stopPropagation(),_.preventDefault()},Wu=_=>{const k=V(),j=ne(),ae=oe(),Se=[k,j,ae];if(document.activeElement instanceof HTMLElement&&!Se.includes(document.activeElement))return;const Qe=qo.includes(_)?"nextElementSibling":"previousElementSibling";let qt=document.activeElement;for(let Nr=0;Nr<X().children.length;Nr++){if(qt=qt[Qe],!qt)return;if(qt instanceof HTMLButtonElement&&Je(qt))break}qt instanceof HTMLButtonElement&&qt.focus()},is=(_,k,j)=>{R(k.allowEscapeKey)&&(_.preventDefault(),j(ai.esc))};var ki={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const ju=()=>{Array.from(document.body.children).forEach(k=>{k===P()||k.contains(P())||(k.hasAttribute("aria-hidden")&&k.setAttribute("data-previous-aria-hidden",k.getAttribute("aria-hidden")),k.setAttribute("aria-hidden","true"))})},Ku=()=>{Array.from(document.body.children).forEach(k=>{k.hasAttribute("data-previous-aria-hidden")?(k.setAttribute("aria-hidden",k.getAttribute("data-previous-aria-hidden")),k.removeAttribute("data-previous-aria-hidden")):k.removeAttribute("aria-hidden")})},Ff=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!be(document.body,o.iosfix)){const k=document.body.scrollTop;document.body.style.top=`${k*-1}px`,He(document.body,o.iosfix),Nl(),qu()}},qu=()=>{const _=navigator.userAgent,k=!!_.match(/iPad/i)||!!_.match(/iPhone/i),j=!!_.match(/WebKit/i);k&&j&&!_.match(/CriOS/i)&&A().scrollHeight>window.innerHeight-44&&(P().style.paddingBottom=`${44}px`)},Nl=()=>{const _=P();let k;_.ontouchstart=j=>{k=Il(j)},_.ontouchmove=j=>{k&&(j.preventDefault(),j.stopPropagation())}},Il=_=>{const k=_.target,j=P();return Vu(_)||Tl(_)?!1:k===j||!cn(j)&&k instanceof HTMLElement&&k.tagName!=="INPUT"&&k.tagName!=="TEXTAREA"&&!(cn(U())&&U().contains(k))},Vu=_=>_.touches&&_.touches.length&&_.touches[0].touchType==="stylus",Tl=_=>_.touches&&_.touches.length>1,Ol=()=>{if(be(document.body,o.iosfix)){const _=parseInt(document.body.style.top,10);le(document.body,o.iosfix),document.body.style.top="",document.body.scrollTop=_*-1}},_l=()=>{Ae.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(Ae.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Ae.previousBodyPadding+ro()}px`)},Al=()=>{Ae.previousBodyPadding!==null&&(document.body.style.paddingRight=`${Ae.previousBodyPadding}px`,Ae.previousBodyPadding=null)};function Hu(_,k,j,ae){Me()?Di(_,ae):(rn(j).then(()=>Di(_,ae)),co(Ke)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(k.setAttribute("style","display:none !important"),k.removeAttribute("class"),k.innerHTML=""):k.remove(),fe()&&(Al(),Ol(),Ku()),Uf()}function Uf(){le([document.documentElement,document.body],[o.shown,o["height-auto"],o["no-backdrop"],o["toast-shown"]])}function os(_){_=Ho(_);const k=ki.swalPromiseResolve.get(this),j=Yt(this);this.isAwaitingPromise()?_.isDismissed||(Ca(this),k(_)):j&&k(_)}function $f(){return!!n.awaitingPromise.get(this)}const Yt=_=>{const k=A();if(!k)return!1;const j=n.innerParams.get(_);if(!j||be(k,j.hideClass.popup))return!1;le(k,j.showClass.popup),He(k,j.hideClass.popup);const ae=P();return le(ae,j.showClass.backdrop),He(ae,j.hideClass.backdrop),Wf(_,k,j),!0};function Vt(_){const k=ki.swalPromiseReject.get(this);Ca(this),k&&k(_)}const Ca=_=>{_.isAwaitingPromise()&&(n.awaitingPromise.delete(_),n.innerParams.get(_)||_._destroy())},Ho=_=>typeof _=="undefined"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},_),Wf=(_,k,j)=>{const ae=P(),Se=Sr&&st(k);typeof j.willClose=="function"&&j.willClose(k),Se?jf(_,k,ae,j.returnFocus,j.didClose):Hu(_,ae,j.returnFocus,j.didClose)},jf=(_,k,j,ae,Se)=>{Ke.swalCloseEventFinishedCallback=Hu.bind(null,_,j,ae,Se),k.addEventListener(Sr,function(Qe){Qe.target===k&&(Ke.swalCloseEventFinishedCallback(),delete Ke.swalCloseEventFinishedCallback)})},Di=(_,k)=>{setTimeout(()=>{typeof k=="function"&&k.bind(_.params)(),_._destroy()})};function as(_,k,j){const ae=n.domCache.get(_);k.forEach(Se=>{ae[Se].disabled=j})}function Rl(_,k){if(!!_)if(_.type==="radio"){const ae=_.parentNode.parentNode.querySelectorAll("input");for(let Se=0;Se<ae.length;Se++)ae[Se].disabled=k}else _.disabled=k}function Kf(){as(this,["confirmButton","denyButton","cancelButton"],!1)}function Cn(){as(this,["confirmButton","denyButton","cancelButton"],!0)}function Pl(){Rl(this.getInput(),!1)}function ho(){Rl(this.getInput(),!0)}function kl(_){const k=n.domCache.get(this),j=n.innerParams.get(this);_e(k.validationMessage,_),k.validationMessage.className=o["validation-message"],j.customClass&&j.customClass.validationMessage&&He(k.validationMessage,j.customClass.validationMessage),Ie(k.validationMessage);const ae=this.getInput();ae&&(ae.setAttribute("aria-invalid",!0),ae.setAttribute("aria-describedby",o["validation-message"]),ht(ae),He(ae,o.inputerror))}function po(){const _=n.domCache.get(this);_.validationMessage&&ze(_.validationMessage);const k=this.getInput();k&&(k.removeAttribute("aria-invalid"),k.removeAttribute("aria-describedby"),le(k,o.inputerror))}const fn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},ss=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Dl={},Ll=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Ml=_=>Object.prototype.hasOwnProperty.call(fn,_),xa=_=>ss.indexOf(_)!==-1,Go=_=>Dl[_],$n=_=>{Ml(_)||v(`Unknown parameter "${_}"`)},Gu=_=>{Ll.includes(_)&&v(`The parameter "${_}" is incompatible with toasts`)},Qn=_=>{Go(_)&&T(_,Go(_))},qf=_=>{_.backdrop===!1&&_.allowOutsideClick&&v('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const k in _)$n(k),_.toast&&Gu(k),Qn(k)};function Yu(_){const k=A(),j=n.innerParams.get(this);if(!k||be(k,j.hideClass.popup)){v("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const ae=Li(_),Se=Object.assign({},j,ae);uo(this,Se),n.innerParams.set(this,Se),Object.defineProperties(this,{params:{value:Object.assign({},this.params,_),writable:!1,enumerable:!0}})}const Li=_=>{const k={};return Object.keys(_).forEach(j=>{xa(j)?k[j]=_[j]:v(`Invalid parameter to update: ${j}`)}),k};function ls(){const _=n.domCache.get(this),k=n.innerParams.get(this);if(!k){Xt(this);return}_.popup&&Ke.swalCloseEventFinishedCallback&&(Ke.swalCloseEventFinishedCallback(),delete Ke.swalCloseEventFinishedCallback),typeof k.didDestroy=="function"&&k.didDestroy(),zl(this)}const zl=_=>{Xt(_),delete _.params,delete Ke.keydownHandler,delete Ke.keydownTarget,delete Ke.currentInstance},Xt=_=>{_.isAwaitingPromise()?(Br(n,_),n.awaitingPromise.set(_,!0)):(Br(ki,_),Br(n,_))},Br=(_,k)=>{for(const j in _)_[j].delete(k)};var us=Object.freeze({__proto__:null,_destroy:ls,close:os,closeModal:os,closePopup:os,closeToast:os,disableButtons:Cn,disableInput:ho,disableLoading:jo,enableButtons:Kf,enableInput:Pl,getInput:Ko,handleAwaitingPromise:Ca,hideLoading:jo,isAwaitingPromise:$f,rejectPromise:Vt,resetValidationMessage:po,showValidationMessage:kl,update:Yu});const Yo=_=>{let k=A();k||new Na,k=A();const j=Y();Me()?ze(z()):Bl(k,_),Ie(j),k.setAttribute("data-loading","true"),k.setAttribute("aria-busy","true"),k.focus()},Bl=(_,k)=>{const j=X(),ae=Y();!k&&Je(V())&&(k=V()),Ie(j),k&&(ze(k),ae.setAttribute("data-button-to-replace",k.className)),ae.parentNode.insertBefore(ae,k),He([_,j],o.loading)},Vf=(_,k)=>{k.input==="select"||k.input==="radio"?en(_,k):["text","email","number","tel","textarea"].includes(k.input)&&(S(k.inputValue)||I(k.inputValue))&&(Yo(V()),Gf(_,k))},Xu=(_,k)=>{const j=_.getInput();if(!j)return null;switch(k.input){case"checkbox":return Hf(j);case"radio":return Fl(j);case"file":return cs(j);default:return k.inputAutoTrim?j.value.trim():j.value}},Hf=_=>_.checked?1:0,Fl=_=>_.checked?_.value:null,cs=_=>_.files.length?_.getAttribute("multiple")!==null?_.files:_.files[0]:null,en=(_,k)=>{const j=A(),ae=Se=>{Ju[k.input](j,fs(Se),k)};S(k.inputOptions)||I(k.inputOptions)?(Yo(V()),E(k.inputOptions).then(Se=>{_.hideLoading(),ae(Se)})):typeof k.inputOptions=="object"?ae(k.inputOptions):w(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof k.inputOptions}`)},Gf=(_,k)=>{const j=_.getInput();ze(j),E(k.inputValue).then(ae=>{j.value=k.input==="number"?`${parseFloat(ae)||0}`:`${ae}`,Ie(j),j.focus(),_.hideLoading()}).catch(ae=>{w(`Error in inputValue promise: ${ae}`),j.value="",Ie(j),j.focus(),_.hideLoading()})},Ju={select:(_,k,j)=>{const ae=ve(_,o.select),Se=(Qe,qt,Nr)=>{const er=document.createElement("option");er.value=Nr,_e(er,qt),er.selected=ds(Nr,j.inputValue),Qe.appendChild(er)};k.forEach(Qe=>{const qt=Qe[0],Nr=Qe[1];if(Array.isArray(Nr)){const er=document.createElement("optgroup");er.label=qt,er.disabled=!1,ae.appendChild(er),Nr.forEach(ys=>Se(er,ys[1],ys[0]))}else Se(ae,Nr,qt)}),ae.focus()},radio:(_,k,j)=>{const ae=ve(_,o.radio);k.forEach(Qe=>{const qt=Qe[0],Nr=Qe[1],er=document.createElement("input"),ys=document.createElement("label");er.type="radio",er.name=o.radio,er.value=qt,ds(qt,j.inputValue)&&(er.checked=!0);const ws=document.createElement("span");_e(ws,Nr),ws.className=o.label,ys.appendChild(er),ys.appendChild(ws),ae.appendChild(ys)});const Se=ae.querySelectorAll("input");Se.length&&Se[0].focus()}},fs=_=>{const k=[];return typeof Map!="undefined"&&_ instanceof Map?_.forEach((j,ae)=>{let Se=j;typeof Se=="object"&&(Se=fs(Se)),k.push([ae,Se])}):Object.keys(_).forEach(j=>{let ae=_[j];typeof ae=="object"&&(ae=fs(ae)),k.push([j,ae])}),k},ds=(_,k)=>k&&k.toString()===_.toString(),Ul=_=>{const k=n.innerParams.get(_);_.disableButtons(),k.input?hs(_,"confirm"):a(_,!0)},Qu=_=>{const k=n.innerParams.get(_);_.disableButtons(),k.returnInputValueOnDeny?hs(_,"deny"):ms(_,!1)},Zu=(_,k)=>{_.disableButtons(),k(ai.cancel)},hs=(_,k)=>{const j=n.innerParams.get(_);if(!j.input){w(`The "input" parameter is needed to be set when using returnInputValueOn${m(k)}`);return}const ae=Xu(_,j);j.inputValidator?ps(_,ae,k):_.getInput().checkValidity()?k==="deny"?ms(_,ae):a(_,ae):(_.enableButtons(),_.showValidationMessage(j.validationMessage))},ps=(_,k,j)=>{const ae=n.innerParams.get(_);_.disableInput(),Promise.resolve().then(()=>E(ae.inputValidator(k,ae.validationMessage))).then(Qe=>{_.enableButtons(),_.enableInput(),Qe?_.showValidationMessage(Qe):j==="deny"?ms(_,k):a(_,k)})},ms=(_,k)=>{const j=n.innerParams.get(_||void 0);j.showLoaderOnDeny&&Yo(ne()),j.preDeny?(n.awaitingPromise.set(_||void 0,!0),Promise.resolve().then(()=>E(j.preDeny(k,j.validationMessage))).then(Se=>{Se===!1?(_.hideLoading(),Ca(_)):_.close({isDenied:!0,value:typeof Se=="undefined"?k:Se})}).catch(Se=>f(_||void 0,Se))):_.close({isDenied:!0,value:k})},$l=(_,k)=>{_.close({isConfirmed:!0,value:k})},f=(_,k)=>{_.rejectPromise(k)},a=(_,k)=>{const j=n.innerParams.get(_||void 0);j.showLoaderOnConfirm&&Yo(),j.preConfirm?(_.resetValidationMessage(),n.awaitingPromise.set(_||void 0,!0),Promise.resolve().then(()=>E(j.preConfirm(k,j.validationMessage))).then(Se=>{Je(te())||Se===!1?(_.hideLoading(),Ca(_)):$l(_,typeof Se=="undefined"?k:Se)}).catch(Se=>f(_||void 0,Se))):$l(_,k)},l=(_,k,j)=>{n.innerParams.get(_).toast?d(_,k,j):(D(k),$(k),ee(_,k,j))},d=(_,k,j)=>{k.popup.onclick=()=>{const ae=n.innerParams.get(_);ae&&(g(ae)||ae.timer||ae.input)||j(ai.close)}},g=_=>_.showConfirmButton||_.showDenyButton||_.showCancelButton||_.showCloseButton;let C=!1;const D=_=>{_.popup.onmousedown=()=>{_.container.onmouseup=function(k){_.container.onmouseup=void 0,k.target===_.container&&(C=!0)}}},$=_=>{_.container.onmousedown=()=>{_.popup.onmouseup=function(k){_.popup.onmouseup=void 0,(k.target===_.popup||_.popup.contains(k.target))&&(C=!0)}}},ee=(_,k,j)=>{k.container.onclick=ae=>{const Se=n.innerParams.get(_);if(C){C=!1;return}ae.target===k.container&&R(Se.allowOutsideClick)&&j(ai.backdrop)}},ue=_=>typeof _=="object"&&_.jquery,me=_=>_ instanceof Element||ue(_),Oe=_=>{const k={};return typeof _[0]=="object"&&!me(_[0])?Object.assign(k,_[0]):["title","html","icon"].forEach((j,ae)=>{const Se=_[ae];typeof Se=="string"||me(Se)?k[j]=Se:Se!==void 0&&w(`Unexpected type of ${j}! Expected "string" or "Element", got ${typeof Se}`)}),k};function Fe(){const _=this;for(var k=arguments.length,j=new Array(k),ae=0;ae<k;ae++)j[ae]=arguments[ae];return new _(...j)}function Ye(_){class k extends this{_main(ae,Se){return super._main(ae,Object.assign({},_,Se))}}return k}const vt=()=>Ke.timeout&&Ke.timeout.getTimerLeft(),it=()=>{if(Ke.timeout)return mn(),Ke.timeout.stop()},Tt=()=>{if(Ke.timeout){const _=Ke.timeout.start();return nt(_),_}},an=()=>{const _=Ke.timeout;return _&&(_.running?it():Tt())},Ft=_=>{if(Ke.timeout){const k=Ke.timeout.increase(_);return nt(k,!0),k}},Wn=()=>Ke.timeout&&Ke.timeout.isRunning();let si=!1;const Zn={};function Ip(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Zn[_]=this,si||(document.body.addEventListener("click",Ry),si=!0)}const Ry=_=>{for(let k=_.target;k&&k!==document;k=k.parentNode)for(const j in Zn){const ae=k.getAttribute(j);if(ae){Zn[j].fire({template:ae});return}}};var Py=Object.freeze({__proto__:null,argsToParams:Oe,bindClickHandler:Ip,clickCancel:Cr,clickConfirm:Er,clickDeny:Pn,enableLoading:Yo,fire:Fe,getActions:X,getCancelButton:oe,getCloseButton:ce,getConfirmButton:V,getContainer:P,getDenyButton:ne,getFocusableElements:ge,getFooter:re,getHtmlContainer:U,getIcon:z,getIconContent:M,getImage:W,getInputLabel:J,getLoader:Y,getPopup:A,getProgressSteps:G,getTimerLeft:vt,getTimerProgressBar:ie,getTitle:F,getValidationMessage:te,increaseTimer:Ft,isDeprecatedParameter:Go,isLoading:je,isTimerRunning:Wn,isUpdatableParameter:xa,isValidParameter:Ml,isVisible:hr,mixin:Ye,resumeTimer:Tt,showLoading:Yo,stopTimer:it,toggleTimer:an});class ky{constructor(k,j){this.callback=k,this.remaining=j,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(k){const j=this.running;return j&&this.stop(),this.remaining+=k,j&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Tp=["swal-title","swal-html","swal-footer"],Dy=_=>{const k=typeof _.template=="string"?document.querySelector(_.template):_.template;if(!k)return{};const j=k.content;return xn(j),Object.assign(gs(j),he(j),Ce(j),we(j),qe(j),wt(j),Mt(j,Tp))},gs=_=>{const k={};return Array.from(_.querySelectorAll("swal-param")).forEach(ae=>{Pt(ae,["name","value"]);const Se=ae.getAttribute("name"),Qe=ae.getAttribute("value");typeof fn[Se]=="boolean"?k[Se]=Qe!=="false":typeof fn[Se]=="object"?k[Se]=JSON.parse(Qe):k[Se]=Qe}),k},he=_=>{const k={};return Array.from(_.querySelectorAll("swal-function-param")).forEach(ae=>{const Se=ae.getAttribute("name"),Qe=ae.getAttribute("value");k[Se]=new Function(`return ${Qe}`)()}),k},Ce=_=>{const k={};return Array.from(_.querySelectorAll("swal-button")).forEach(ae=>{Pt(ae,["type","color","aria-label"]);const Se=ae.getAttribute("type");k[`${Se}ButtonText`]=ae.innerHTML,k[`show${m(Se)}Button`]=!0,ae.hasAttribute("color")&&(k[`${Se}ButtonColor`]=ae.getAttribute("color")),ae.hasAttribute("aria-label")&&(k[`${Se}ButtonAriaLabel`]=ae.getAttribute("aria-label"))}),k},we=_=>{const k={},j=_.querySelector("swal-image");return j&&(Pt(j,["src","width","height","alt"]),j.hasAttribute("src")&&(k.imageUrl=j.getAttribute("src")),j.hasAttribute("width")&&(k.imageWidth=j.getAttribute("width")),j.hasAttribute("height")&&(k.imageHeight=j.getAttribute("height")),j.hasAttribute("alt")&&(k.imageAlt=j.getAttribute("alt"))),k},qe=_=>{const k={},j=_.querySelector("swal-icon");return j&&(Pt(j,["type","color"]),j.hasAttribute("type")&&(k.icon=j.getAttribute("type")),j.hasAttribute("color")&&(k.iconColor=j.getAttribute("color")),k.iconHtml=j.innerHTML),k},wt=_=>{const k={},j=_.querySelector("swal-input");j&&(Pt(j,["type","label","placeholder","value"]),k.input=j.getAttribute("type")||"text",j.hasAttribute("label")&&(k.inputLabel=j.getAttribute("label")),j.hasAttribute("placeholder")&&(k.inputPlaceholder=j.getAttribute("placeholder")),j.hasAttribute("value")&&(k.inputValue=j.getAttribute("value")));const ae=Array.from(_.querySelectorAll("swal-input-option"));return ae.length&&(k.inputOptions={},ae.forEach(Se=>{Pt(Se,["value"]);const Qe=Se.getAttribute("value"),qt=Se.innerHTML;k.inputOptions[Qe]=qt})),k},Mt=(_,k)=>{const j={};for(const ae in k){const Se=k[ae],Qe=_.querySelector(Se);Qe&&(Pt(Qe,[]),j[Se.replace(/^swal-/,"")]=Qe.innerHTML.trim())}return j},xn=_=>{const k=Tp.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(_.children).forEach(j=>{const ae=j.tagName.toLowerCase();k.includes(ae)||v(`Unrecognized element <${ae}>`)})},Pt=(_,k)=>{Array.from(_.attributes).forEach(j=>{k.indexOf(j.name)===-1&&v([`Unrecognized attribute "${j.name}" on <${_.tagName.toLowerCase()}>.`,`${k.length?`Allowed attributes are: ${k.join(", ")}`:"To set the value, use HTML within the element."}`])})},ec=10,Ly=_=>{const k=P(),j=A();typeof _.willOpen=="function"&&_.willOpen(j);const Se=window.getComputedStyle(document.body).overflowY;vs(k,j,_),setTimeout(()=>{tc(k,j)},ec),fe()&&(My(k,_.scrollbarPadding,Se),ju()),!Me()&&!Ke.previousActiveElement&&(Ke.previousActiveElement=document.activeElement),typeof _.didOpen=="function"&&setTimeout(()=>_.didOpen(j)),le(k,o["no-transition"])},xr=_=>{const k=A();if(_.target!==k)return;const j=P();k.removeEventListener(Sr,xr),j.style.overflowY="auto"},tc=(_,k)=>{Sr&&st(k)?(_.style.overflowY="hidden",k.addEventListener(Sr,xr)):_.style.overflowY="auto"},My=(_,k,j)=>{Ff(),k&&j!=="hidden"&&_l(),setTimeout(()=>{_.scrollTop=0})},vs=(_,k,j)=>{He(_,j.showClass.backdrop),k.style.setProperty("opacity","0","important"),Ie(k,"grid"),setTimeout(()=>{He(k,j.showClass.popup),k.style.removeProperty("opacity")},ec),He([document.documentElement,document.body],o.shown),j.heightAuto&&j.backdrop&&!j.toast&&He([document.documentElement,document.body],o["height-auto"])};var Wl={email:(_,k)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(_)?Promise.resolve():Promise.resolve(k||"Invalid email address"),url:(_,k)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(_)?Promise.resolve():Promise.resolve(k||"Invalid URL")};function nc(_){_.inputValidator||Object.keys(Wl).forEach(k=>{_.input===k&&(_.inputValidator=Wl[k])})}function Kt(_){(!_.target||typeof _.target=="string"&&!document.querySelector(_.target)||typeof _.target!="string"&&!_.target.appendChild)&&(v('Target parameter is not valid, defaulting to "body"'),_.target="body")}function zy(_){nc(_),_.showLoaderOnConfirm&&!_.preConfirm&&v(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Kt(_),typeof _.title=="string"&&(_.title=_.title.split(`
`).join("<br />")),Bn(_)}let li;class mo{constructor(){if(typeof window=="undefined")return;li=this;for(var k=arguments.length,j=new Array(k),ae=0;ae<k;ae++)j[ae]=arguments[ae];const Se=Object.freeze(this.constructor.argsToParams(j));Object.defineProperties(this,{params:{value:Se,writable:!1,enumerable:!0,configurable:!0}});const Qe=li._main(li.params);n.promise.set(this,Qe)}_main(k){let j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};qf(Object.assign({},j,k)),Ke.currentInstance&&(Ke.currentInstance._destroy(),fe()&&Ku()),Ke.currentInstance=li;const ae=Fy(k,j);zy(ae),Object.freeze(ae),Ke.timeout&&(Ke.timeout.stop(),delete Ke.timeout),clearTimeout(Ke.restoreFocusTimeout);const Se=Uy(li);return uo(li,ae),n.innerParams.set(li,ae),By(li,Se,ae)}then(k){return n.promise.get(this).then(k)}finally(k){return n.promise.get(this).finally(k)}}const By=(_,k,j)=>new Promise((ae,Se)=>{const Qe=qt=>{_.close({isDismissed:!0,dismiss:qt})};ki.swalPromiseResolve.set(_,ae),ki.swalPromiseReject.set(_,Se),k.confirmButton.onclick=()=>{Ul(_)},k.denyButton.onclick=()=>{Qu(_)},k.cancelButton.onclick=()=>{Zu(_,Qe)},k.closeButton.onclick=()=>{Qe(ai.close)},l(_,k,Qe),Uu(_,Ke,j,Qe),Vf(_,j),Ly(j),rc(Ke,j,Qe),Xo(k,j),setTimeout(()=>{k.container.scrollTop=0})}),Fy=(_,k)=>{const j=Dy(_),ae=Object.assign({},fn,k,j,_);return ae.showClass=Object.assign({},fn.showClass,ae.showClass),ae.hideClass=Object.assign({},fn.hideClass,ae.hideClass),ae},Uy=_=>{const k={popup:A(),container:P(),actions:X(),confirmButton:V(),denyButton:ne(),cancelButton:oe(),loader:Y(),closeButton:ce(),validationMessage:te(),progressSteps:G()};return n.domCache.set(_,k),k},rc=(_,k,j)=>{const ae=ie();ze(ae),k.timer&&(_.timeout=new ky(()=>{j("timer"),delete _.timeout},k.timer),k.timerProgressBar&&(Ie(ae),Re(ae,k,"timerProgressBar"),setTimeout(()=>{_.timeout&&_.timeout.running&&nt(k.timer)})))},Xo=(_,k)=>{if(!k.toast){if(!R(k.allowEnterKey)){Op();return}ic(_,k)||Pi(-1,1)}},ic=(_,k)=>k.focusDeny&&Je(_.denyButton)?(_.denyButton.focus(),!0):k.focusCancel&&Je(_.cancelButton)?(_.cancelButton.focus(),!0):k.focusConfirm&&Je(_.confirmButton)?(_.confirmButton.focus(),!0):!1,Op=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window!="undefined"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const _=new Date,k=localStorage.getItem("swal-initiation");k?(_.getTime()-Date.parse(k))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const j=document.createElement("audio");j.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",j.loop=!0,document.body.appendChild(j),setTimeout(()=>{j.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${_}`)}Object.assign(mo.prototype,us),Object.assign(mo,Py),Object.keys(us).forEach(_=>{mo[_]=function(){if(li)return li[_](...arguments)}}),mo.DismissReason=ai,mo.version="11.7.3";const Na=mo;return Na.default=Na,Na}),typeof An!="undefined"&&An.Sweetalert2&&(An.swal=An.sweetAlert=An.Swal=An.SweetAlert=An.Sweetalert2),typeof document!="undefined"&&function(n,r){var i=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=r);else try{i.innerHTML=r}catch{i.innerText=r}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')})(vP);var HE=vP.exports;function Lr(e="Are you sure?"){return HE.fire({cancelButtonColor:"#ccc",confirmButtonColor:"#09f",icon:"warning",showCancelButton:!0,text:e})}function Mn(e,t,n=!1,r){return HE.fire({cancelButtonColor:"#ccc",confirmButtonColor:"#09f",input:n?"number":"text",inputValue:t,inputValidator:r,showCancelButton:!0,text:e})}var $v={exports:{}},ip={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mq=Q.exports,yP=60103;ip.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var aO=Symbol.for;yP=aO("react.element"),ip.Fragment=aO("react.fragment")}var gq=mq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vq=Object.prototype.hasOwnProperty,yq={key:!0,ref:!0,__self:!0,__source:!0};function wP(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)vq.call(t,r)&&!yq.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:yP,type:e,key:o,ref:s,props:i,_owner:gq.current}}ip.jsx=wP;ip.jsxs=wP;$v.exports=ip;const y=$v.exports.jsx,K=$v.exports.jsxs,Qt=$v.exports.Fragment;function wq(e){const t=Be(),[n,r]=Q.exports.useState({...e.item});function i(o){r(o),Oh().update(o).then(r).catch(t.showError)}return K("tr",{children:[y("td",{children:K("div",{className:"btn-group",children:[y("span",{onClick:()=>{Lr().then(o=>{if(o.isConfirmed)return Oh().delete(n.id)}).catch(t.showError)},className:"btn btn-outline-primary danger",children:"-"}),y("span",{onClick:()=>Mn("Please input the name",n.name).then(o=>{if(o.isConfirmed)return i({...n,name:o.value})}).catch(t.showError),className:"btn btn-outline-primary",children:n.name})]})}),y("td",{children:y("input",{value:n.value,onChange:o=>i({...n,value:o.target.value}),className:"form-control",type:"text"})}),y("td",{children:y("input",{value:n.tag,onChange:o=>i({...n,tag:o.target.value}),className:"form-control",type:"text"})})]})}function Tf(e){return{isOpen:!1,itemId:0,message:"",title:"",close(){e({isOpen:!1,itemId:0})},open(n,r="",i=""){e({isOpen:!0,itemId:n,title:r,message:i})}}}function sO(e){}const GE=yt(function(e){return{...Tf(e),callback:sO,openCB(n,r="",i="paste JSON array here",o=sO){e({isOpen:!0,itemId:n,title:r,message:i,callback:o})}}});function lO(e,t,n="",r=""){return{collectionId:e,name:t,value:n,tag:r}}function bq(){const e=GE(),t=gP(),n=qE(),r=Be(),[i,o]=Q.exports.useState([]);return Q.exports.useEffect(()=>{if(t.item===void 0){o([]);return}o(n.itemzz.filter(s=>{var u;return s.collectionId===((u=t.item)==null?void 0:u.id)}))},[t.item,n.itemzz]),t.item===void 0?null:K("table",{className:"table",children:[y("thead",{children:K("tr",{children:[y("th",{children:"name"}),K("th",{children:["value",t.item.valueDescription?` (${t.item.valueDescription})`:""]}),K("th",{children:["tag",t.item.tagDescription?` (${t.item.tagDescription})`:""]})]})}),y("tbody",{children:i.map(s=>y(wq,{item:s},s.id))}),y("tfoot",{children:K("tr",{children:[y("td",{children:y("button",{onClick:()=>Mn("Please input the name","").then(s=>{if(s.isConfirmed)return Oh().create(lO(t.item.id,s.value))}).catch(r.showError),className:"btn btn-outline-primary",type:"button",children:"+"})}),y("td",{children:y("span",{onClick:function(){e.openCB(t.item.id,"import CollectionItem",void 0,function(s){if(s!=="")try{const u=JSON.parse(s);if(Array.isArray(u)===!1){r.showDanger("text is not JSON array");return}const h=u.map(m=>{var v,w,b;return typeof m=="string"&&(m={name:m}),lO(t.item.id,(v=m.name)!=null?v:"",(w=m.value)!=null?w:"",(b=m.tag)!=null?b:"")});Oh().createMany(h).catch(r.showError)}catch(u){r.showError(u)}})},className:"btn btn-outline-primary",children:"import"})}),y("td",{})]})})]})}const bP="^[a-zA-Z_][a-zA-Z0-9_]*$",Sq=new RegExp(bP);function Eq(e){return!!(e&&e.match(Sq))}function ei(e,t){return HE.fire({cancelButtonColor:"#ccc",confirmButtonColor:"#09f",input:"text",inputValue:t,inputValidator(n){return Eq(n)?null:`Invalid name. /${bP}/`},showCancelButton:!0,text:e})}function YE(e){const t=e.useItemPageStore(),n=Be();function r(i){t.setItem(i),e.makeCRUD().update(i).then(o=>t.setItem(o)).catch(n.showError)}return K("div",{className:"input-group mb-3",children:[e.item.reserved?y("span",{className:"btn btn-outline-secondary",children:e.item.name}):K(Qt,{children:[y("button",{onClick:function(){Lr().then(function(i){var o;i.isConfirmed&&((o=e.onDeleteBefore)!=null?o:function(){return Promise.resolve()})().then(()=>e.makeCRUD().delete(e.item.id).catch(n.showError))}).catch(n.showError)},className:"btn btn-outline-primary danger",type:"button",children:"-"}),y("button",{onClick:function(){e.showDialog(e.message,e.item.name).then(i=>{if(i.isConfirmed)return r({...e.item,name:i.value})}).catch(n.showError)},className:"btn btn-outline-primary",type:"button",children:e.item.name})]}),y("input",{value:e.item.description,onChange:i=>r({...e.item,description:i.target.value}),type:"text",className:"form-control",placeholder:"description"})]})}function XE(e){return new RegExp(e.split("").join(".*"),"i")}function SP(e){var t;return K("div",{className:"hover-trigger "+((t=e.className)!=null?t:""),children:[y("div",{children:y("span",{className:"color-button active",style:{backgroundColor:q0(e.color,e.color),borderColor:V0(e.color)}})}),y("div",{className:"hover-list",children:mP.map(n=>y("div",{children:y("span",{className:"color-button "+(n===e.color?"active":""),onClick:()=>e.setColor(n),style:{backgroundColor:q0(n,e.color),borderColor:V0(n)}})},n))})]})}function Wv(e){const t=e.useStore(),[n,r]=Q.exports.useState([]);Q.exports.useEffect(()=>{r(i())},[t.color,t.keyword,e.itemzz]);function i(){if(t.color===yi.white&&t.keyword==="")return[...e.itemzz];const o=XE(t.keyword);return t.color===yi.white?e.itemzz.filter(s=>s.name.match(o)):t.keyword===""?e.itemzz.filter(s=>s.color===t.color):e.itemzz.filter(s=>s.color===t.color&&s.name.match(o))}return K("div",{className:"col-3 py-3 h100 overflow-auto "+e.className,children:[K("div",{className:"d-flex align-items-center",children:[y("h1",{className:"inline",children:e.title}),y(SP,{color:t.color,setColor:t.setColor,className:"mx-1"}),e.button]}),y("input",{value:t.keyword,onChange:o=>t.search(o.target.value),className:"form-control mb-3",type:"text"}),y("ul",{className:"list-group overflow-hidden",children:n.map(o=>{var s;return y("li",{onClick:()=>t.setItem(o),className:(((s=t.item)==null?void 0:s.id)===o.id?"active ":"")+"list-group-item list-group-item-action pointer",children:o.name},o.id)})})]})}function zu(e){var u;const t=e.useItemPageStore(),n=e.useItemzzStore(),r=Be(),i=`Please input the ${e.title} name`;let o=Mn;e.validateName&&(o=ei),Q.exports.useEffect(()=>{if(t.item===void 0)return;const h=n.find(t.item.id);t.setItem(h)},[n.itemzz]);function s(){var h;if(!(e.onCreateClick===void 0&&e.onCreate===void 0))return y("button",{onClick:(h=e.onCreateClick)!=null?h:function(){o(i,"").then(m=>{if(m.isConfirmed&&m.value&&e.onCreate)return e.onCreate(m.value)}).catch(r.showError)},className:"btn btn-outline-primary",type:"button",children:"+"})}return K(Qt,{children:[y(Wv,{className:e.className,title:e.title,button:s(),itemzz:(u=e.itemzz)!=null?u:n.itemzz,useStore:e.useItemPageStore}),K("div",{className:"col-9 py-3 h100 overflow-auto "+e.className,children:[t.item===void 0?null:y(YE,{item:t.item,makeCRUD:e.makeCRUD,message:i,showDialog:o,useItemPageStore:e.useItemPageStore,validateName:e.validateName}),e.children]})]})}function Mo(e,t={}){return{color:yi.white,description:"",name:e,reserved:!1,...t}}function Cq(e){return{...Mo(e),valueDescription:"",tagDescription:""}}function JE(){const e=GE(),[t,n]=Q.exports.useState("");return K(Du,{isOpen:e.isOpen,onRequestClose:e.close,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:[K("div",{className:"mb-3",children:[y("h3",{className:"inline me-3",children:e.title}),y("button",{onClick:function(){e.callback(t)},className:"btn btn-outline-primary",type:"button",children:"import"})]}),y("div",{children:y("textarea",{value:t,onChange:r=>n(r.target.value),rows:11,placeholder:e.message,className:"form-control"})})]})}function xq(){const e=Be();return K("div",{className:"row",children:[y(zu,{makeCRUD:K0,onCreate:function(t){K0().create(Cq(t)).catch(e.showError)},useItemPageStore:gP,useItemzzStore:KE,title:at.Collection,children:y(bq,{})}),y(JE,{})]})}function Nq(){const e=Q.exports.createContext(void 0);return{Provider:({initialStore:i,createStore:o,children:s})=>{const u=Q.exports.useRef();return u.current||(i&&(console.warn("Provider initialStore is deprecated and will be removed in the next version."),o||(o=()=>i)),u.current=o()),Q.exports.createElement(e.Provider,{value:u.current},s)},useStore:(i,o=Object.is)=>{const s=Q.exports.useContext(e);if(!s)throw new Error("Seems like you have not used zustand provider as an ancestor.");return s(i,o)},useStoreApi:()=>{const i=Q.exports.useContext(e);if(!i)throw new Error("Seems like you have not used zustand provider as an ancestor.");return Q.exports.useMemo(()=>({getState:i.getState,setState:i.setState,subscribe:i.subscribe,destroy:i.destroy}),[i])}}}var Iq={value:()=>{}};function jv(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Hm(n)}function Hm(e){this._=e}function Tq(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Hm.prototype=jv.prototype={constructor:Hm,on:function(e,t){var n=this._,r=Tq(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=Oq(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=uO(n[i],e.name,t);else if(t==null)for(i in n)n[i]=uO(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Hm(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function Oq(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function uO(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Iq,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var H0="http://www.w3.org/1999/xhtml",cO={svg:"http://www.w3.org/2000/svg",xhtml:H0,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Kv(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),cO.hasOwnProperty(t)?{space:cO[t],local:e}:e}function _q(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===H0&&t.documentElement.namespaceURI===H0?t.createElement(e):t.createElementNS(n,e)}}function Aq(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function EP(e){var t=Kv(e);return(t.local?Aq:_q)(t)}function Rq(){}function QE(e){return e==null?Rq:function(){return this.querySelector(e)}}function Pq(e){typeof e!="function"&&(e=QE(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,u=r[i]=new Array(s),h,m,v=0;v<s;++v)(h=o[v])&&(m=e.call(h,h.__data__,v,o))&&("__data__"in h&&(m.__data__=h.__data__),u[v]=m);return new Si(r,this._parents)}function kq(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Dq(){return[]}function CP(e){return e==null?Dq:function(){return this.querySelectorAll(e)}}function Lq(e){return function(){return kq(e.apply(this,arguments))}}function Mq(e){typeof e=="function"?e=Lq(e):e=CP(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],u=s.length,h,m=0;m<u;++m)(h=s[m])&&(r.push(e.call(h,h.__data__,m,s)),i.push(h));return new Si(r,i)}function xP(e){return function(){return this.matches(e)}}function NP(e){return function(t){return t.matches(e)}}var zq=Array.prototype.find;function Bq(e){return function(){return zq.call(this.children,e)}}function Fq(){return this.firstElementChild}function Uq(e){return this.select(e==null?Fq:Bq(typeof e=="function"?e:NP(e)))}var $q=Array.prototype.filter;function Wq(){return Array.from(this.children)}function jq(e){return function(){return $q.call(this.children,e)}}function Kq(e){return this.selectAll(e==null?Wq:jq(typeof e=="function"?e:NP(e)))}function qq(e){typeof e!="function"&&(e=xP(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,u=r[i]=[],h,m=0;m<s;++m)(h=o[m])&&e.call(h,h.__data__,m,o)&&u.push(h);return new Si(r,this._parents)}function IP(e){return new Array(e.length)}function Vq(){return new Si(this._enter||this._groups.map(IP),this._parents)}function $g(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}$g.prototype={constructor:$g,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Hq(e){return function(){return e}}function Gq(e,t,n,r,i,o){for(var s=0,u,h=t.length,m=o.length;s<m;++s)(u=t[s])?(u.__data__=o[s],r[s]=u):n[s]=new $g(e,o[s]);for(;s<h;++s)(u=t[s])&&(i[s]=u)}function Yq(e,t,n,r,i,o,s){var u,h,m=new Map,v=t.length,w=o.length,b=new Array(v),N;for(u=0;u<v;++u)(h=t[u])&&(b[u]=N=s.call(h,h.__data__,u,t)+"",m.has(N)?i[u]=h:m.set(N,h));for(u=0;u<w;++u)N=s.call(e,o[u],u,o)+"",(h=m.get(N))?(r[u]=h,h.__data__=o[u],m.delete(N)):n[u]=new $g(e,o[u]);for(u=0;u<v;++u)(h=t[u])&&m.get(b[u])===h&&(i[u]=h)}function Xq(e){return e.__data__}function Jq(e,t){if(!arguments.length)return Array.from(this,Xq);var n=t?Yq:Gq,r=this._parents,i=this._groups;typeof e!="function"&&(e=Hq(e));for(var o=i.length,s=new Array(o),u=new Array(o),h=new Array(o),m=0;m<o;++m){var v=r[m],w=i[m],b=w.length,N=Qq(e.call(v,v&&v.__data__,m,r)),T=N.length,R=u[m]=new Array(T),S=s[m]=new Array(T),E=h[m]=new Array(b);n(v,w,R,S,E,N,t);for(var I=0,P=0,O,B;I<T;++I)if(O=R[I]){for(I>=P&&(P=I+1);!(B=S[P])&&++P<T;);O._next=B||null}}return s=new Si(s,r),s._enter=u,s._exit=h,s}function Qq(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Zq(){return new Si(this._exit||this._groups.map(IP),this._parents)}function eV(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function tV(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),u=new Array(i),h=0;h<s;++h)for(var m=n[h],v=r[h],w=m.length,b=u[h]=new Array(w),N,T=0;T<w;++T)(N=m[T]||v[T])&&(b[T]=N);for(;h<i;++h)u[h]=n[h];return new Si(u,this._parents)}function nV(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function rV(e){e||(e=iV);function t(w,b){return w&&b?e(w.__data__,b.__data__):!w-!b}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],u=s.length,h=i[o]=new Array(u),m,v=0;v<u;++v)(m=s[v])&&(h[v]=m);h.sort(t)}return new Si(i,this._parents).order()}function iV(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function oV(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function aV(){return Array.from(this)}function sV(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function lV(){let e=0;for(const t of this)++e;return e}function uV(){return!this.node()}function cV(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,u;o<s;++o)(u=i[o])&&e.call(u,u.__data__,o,i);return this}function fV(e){return function(){this.removeAttribute(e)}}function dV(e){return function(){this.removeAttributeNS(e.space,e.local)}}function hV(e,t){return function(){this.setAttribute(e,t)}}function pV(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function mV(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function gV(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function vV(e,t){var n=Kv(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?dV:fV:typeof t=="function"?n.local?gV:mV:n.local?pV:hV)(n,t))}function TP(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function yV(e){return function(){this.style.removeProperty(e)}}function wV(e,t,n){return function(){this.style.setProperty(e,t,n)}}function bV(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function SV(e,t,n){return arguments.length>1?this.each((t==null?yV:typeof t=="function"?bV:wV)(e,t,n==null?"":n)):af(this.node(),e)}function af(e,t){return e.style.getPropertyValue(t)||TP(e).getComputedStyle(e,null).getPropertyValue(t)}function EV(e){return function(){delete this[e]}}function CV(e,t){return function(){this[e]=t}}function xV(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function NV(e,t){return arguments.length>1?this.each((t==null?EV:typeof t=="function"?xV:CV)(e,t)):this.node()[e]}function OP(e){return e.trim().split(/^|\s+/)}function ZE(e){return e.classList||new _P(e)}function _P(e){this._node=e,this._names=OP(e.getAttribute("class")||"")}_P.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function AP(e,t){for(var n=ZE(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function RP(e,t){for(var n=ZE(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function IV(e){return function(){AP(this,e)}}function TV(e){return function(){RP(this,e)}}function OV(e,t){return function(){(t.apply(this,arguments)?AP:RP)(this,e)}}function _V(e,t){var n=OP(e+"");if(arguments.length<2){for(var r=ZE(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?OV:t?IV:TV)(n,t))}function AV(){this.textContent=""}function RV(e){return function(){this.textContent=e}}function PV(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function kV(e){return arguments.length?this.each(e==null?AV:(typeof e=="function"?PV:RV)(e)):this.node().textContent}function DV(){this.innerHTML=""}function LV(e){return function(){this.innerHTML=e}}function MV(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function zV(e){return arguments.length?this.each(e==null?DV:(typeof e=="function"?MV:LV)(e)):this.node().innerHTML}function BV(){this.nextSibling&&this.parentNode.appendChild(this)}function FV(){return this.each(BV)}function UV(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $V(){return this.each(UV)}function WV(e){var t=typeof e=="function"?e:EP(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function jV(){return null}function KV(e,t){var n=typeof e=="function"?e:EP(e),r=t==null?jV:typeof t=="function"?t:QE(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function qV(){var e=this.parentNode;e&&e.removeChild(this)}function VV(){return this.each(qV)}function HV(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function GV(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function YV(e){return this.select(e?GV:HV)}function XV(e){return arguments.length?this.property("__data__",e):this.node().__data__}function JV(e){return function(t){e.call(this,t,this.__data__)}}function QV(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function ZV(e){return function(){var t=this.__on;if(!!t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function eH(e,t,n){return function(){var r=this.__on,i,o=JV(t);if(r){for(var s=0,u=r.length;s<u;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function tH(e,t,n){var r=QV(e+""),i,o=r.length,s;if(arguments.length<2){var u=this.node().__on;if(u){for(var h=0,m=u.length,v;h<m;++h)for(i=0,v=u[h];i<o;++i)if((s=r[i]).type===v.type&&s.name===v.name)return v.value}return}for(u=t?eH:ZV,i=0;i<o;++i)this.each(u(r[i],t,n));return this}function PP(e,t,n){var r=TP(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function nH(e,t){return function(){return PP(this,e,t)}}function rH(e,t){return function(){return PP(this,e,t.apply(this,arguments))}}function iH(e,t){return this.each((typeof t=="function"?rH:nH)(e,t))}function*oH(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var kP=[null];function Si(e,t){this._groups=e,this._parents=t}function op(){return new Si([[document.documentElement]],kP)}function aH(){return this}Si.prototype=op.prototype={constructor:Si,select:Pq,selectAll:Mq,selectChild:Uq,selectChildren:Kq,filter:qq,data:Jq,enter:Vq,exit:Zq,join:eV,merge:tV,selection:aH,order:nV,sort:rV,call:oV,nodes:aV,node:sV,size:lV,empty:uV,each:cV,attr:vV,style:SV,property:NV,classed:_V,text:kV,html:zV,raise:FV,lower:$V,append:WV,insert:KV,remove:VV,clone:YV,datum:XV,on:tH,dispatch:iH,[Symbol.iterator]:oH};function Co(e){return typeof e=="string"?new Si([[document.querySelector(e)]],[document.documentElement]):new Si([[e]],kP)}function sH(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ra(e,t){if(e=sH(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const lH={passive:!1},Ph={capture:!0,passive:!1};function hb(e){e.stopImmediatePropagation()}function qc(e){e.preventDefault(),e.stopImmediatePropagation()}function DP(e){var t=e.document.documentElement,n=Co(e).on("dragstart.drag",qc,Ph);"onselectstart"in t?n.on("selectstart.drag",qc,Ph):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function LP(e,t){var n=e.document.documentElement,r=Co(e).on("dragstart.drag",null);t&&(r.on("click.drag",qc,Ph),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var mm=e=>()=>e;function G0(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:u,dx:h,dy:m,dispatch:v}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:m,enumerable:!0,configurable:!0},_:{value:v}})}G0.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function uH(e){return!e.ctrlKey&&!e.button}function cH(){return this.parentNode}function fH(e,t){return t==null?{x:e.x,y:e.y}:t}function dH(){return navigator.maxTouchPoints||"ontouchstart"in this}function hH(){var e=uH,t=cH,n=fH,r=dH,i={},o=jv("start","drag","end"),s=0,u,h,m,v,w=0;function b(O){O.on("mousedown.drag",N).filter(r).on("touchstart.drag",S).on("touchmove.drag",E,lH).on("touchend.drag touchcancel.drag",I).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function N(O,B){if(!(v||!e.call(this,O,B))){var A=P(this,t.call(this,O,B),O,B,"mouse");!A||(Co(O.view).on("mousemove.drag",T,Ph).on("mouseup.drag",R,Ph),DP(O.view),hb(O),m=!1,u=O.clientX,h=O.clientY,A("start",O))}}function T(O){if(qc(O),!m){var B=O.clientX-u,A=O.clientY-h;m=B*B+A*A>w}i.mouse("drag",O)}function R(O){Co(O.view).on("mousemove.drag mouseup.drag",null),LP(O.view,m),qc(O),i.mouse("end",O)}function S(O,B){if(!!e.call(this,O,B)){var A=O.changedTouches,z=t.call(this,O,B),M=A.length,F,U;for(F=0;F<M;++F)(U=P(this,z,O,B,A[F].identifier,A[F]))&&(hb(O),U("start",O,A[F]))}}function E(O){var B=O.changedTouches,A=B.length,z,M;for(z=0;z<A;++z)(M=i[B[z].identifier])&&(qc(O),M("drag",O,B[z]))}function I(O){var B=O.changedTouches,A=B.length,z,M;for(v&&clearTimeout(v),v=setTimeout(function(){v=null},500),z=0;z<A;++z)(M=i[B[z].identifier])&&(hb(O),M("end",O,B[z]))}function P(O,B,A,z,M,F){var U=o.copy(),W=ra(F||A,B),G,te,V;if((V=n.call(O,new G0("beforestart",{sourceEvent:A,target:b,identifier:M,active:s,x:W[0],y:W[1],dx:0,dy:0,dispatch:U}),z))!=null)return G=V.x-W[0]||0,te=V.y-W[1]||0,function oe(ne,J,Y){var X=W,re;switch(ne){case"start":i[M]=oe,re=s++;break;case"end":delete i[M],--s;case"drag":W=ra(Y||J,B),re=s;break}U.call(ne,O,new G0(ne,{sourceEvent:J,subject:V,target:b,identifier:M,active:re,x:W[0]+G,y:W[1]+te,dx:W[0]-X[0],dy:W[1]-X[1],dispatch:U}),z)}}return b.filter=function(O){return arguments.length?(e=typeof O=="function"?O:mm(!!O),b):e},b.container=function(O){return arguments.length?(t=typeof O=="function"?O:mm(O),b):t},b.subject=function(O){return arguments.length?(n=typeof O=="function"?O:mm(O),b):n},b.touchable=function(O){return arguments.length?(r=typeof O=="function"?O:mm(!!O),b):r},b.on=function(){var O=o.on.apply(o,arguments);return O===o?b:O},b.clickDistance=function(O){return arguments.length?(w=(O=+O)*O,b):Math.sqrt(w)},b}function eC(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function MP(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ap(){}var kh=.7,Wg=1/kh,Vc="\\s*([+-]?\\d+)\\s*",Dh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ua="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pH=/^#([0-9a-f]{3,8})$/,mH=new RegExp(`^rgb\\(${Vc},${Vc},${Vc}\\)$`),gH=new RegExp(`^rgb\\(${ua},${ua},${ua}\\)$`),vH=new RegExp(`^rgba\\(${Vc},${Vc},${Vc},${Dh}\\)$`),yH=new RegExp(`^rgba\\(${ua},${ua},${ua},${Dh}\\)$`),wH=new RegExp(`^hsl\\(${Dh},${ua},${ua}\\)$`),bH=new RegExp(`^hsla\\(${Dh},${ua},${ua},${Dh}\\)$`),fO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};eC(ap,Lh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:dO,formatHex:dO,formatHex8:SH,formatHsl:EH,formatRgb:hO,toString:hO});function dO(){return this.rgb().formatHex()}function SH(){return this.rgb().formatHex8()}function EH(){return zP(this).formatHsl()}function hO(){return this.rgb().formatRgb()}function Lh(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=pH.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?pO(t):n===3?new Gr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?gm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?gm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=mH.exec(e))?new Gr(t[1],t[2],t[3],1):(t=gH.exec(e))?new Gr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=vH.exec(e))?gm(t[1],t[2],t[3],t[4]):(t=yH.exec(e))?gm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=wH.exec(e))?vO(t[1],t[2]/100,t[3]/100,1):(t=bH.exec(e))?vO(t[1],t[2]/100,t[3]/100,t[4]):fO.hasOwnProperty(e)?pO(fO[e]):e==="transparent"?new Gr(NaN,NaN,NaN,0):null}function pO(e){return new Gr(e>>16&255,e>>8&255,e&255,1)}function gm(e,t,n,r){return r<=0&&(e=t=n=NaN),new Gr(e,t,n,r)}function CH(e){return e instanceof ap||(e=Lh(e)),e?(e=e.rgb(),new Gr(e.r,e.g,e.b,e.opacity)):new Gr}function Y0(e,t,n,r){return arguments.length===1?CH(e):new Gr(e,t,n,r==null?1:r)}function Gr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}eC(Gr,Y0,MP(ap,{brighter(e){return e=e==null?Wg:Math.pow(Wg,e),new Gr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?kh:Math.pow(kh,e),new Gr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gr(mu(this.r),mu(this.g),mu(this.b),jg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mO,formatHex:mO,formatHex8:xH,formatRgb:gO,toString:gO}));function mO(){return`#${cu(this.r)}${cu(this.g)}${cu(this.b)}`}function xH(){return`#${cu(this.r)}${cu(this.g)}${cu(this.b)}${cu((isNaN(this.opacity)?1:this.opacity)*255)}`}function gO(){const e=jg(this.opacity);return`${e===1?"rgb(":"rgba("}${mu(this.r)}, ${mu(this.g)}, ${mu(this.b)}${e===1?")":`, ${e})`}`}function jg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function mu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function cu(e){return e=mu(e),(e<16?"0":"")+e.toString(16)}function vO(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new xo(e,t,n,r)}function zP(e){if(e instanceof xo)return new xo(e.h,e.s,e.l,e.opacity);if(e instanceof ap||(e=Lh(e)),!e)return new xo;if(e instanceof xo)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,u=o-i,h=(o+i)/2;return u?(t===o?s=(n-r)/u+(n<r)*6:n===o?s=(r-t)/u+2:s=(t-n)/u+4,u/=h<.5?o+i:2-o-i,s*=60):u=h>0&&h<1?0:s,new xo(s,u,h,e.opacity)}function NH(e,t,n,r){return arguments.length===1?zP(e):new xo(e,t,n,r==null?1:r)}function xo(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}eC(xo,NH,MP(ap,{brighter(e){return e=e==null?Wg:Math.pow(Wg,e),new xo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?kh:Math.pow(kh,e),new xo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Gr(pb(e>=240?e-240:e+120,i,r),pb(e,i,r),pb(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new xo(yO(this.h),vm(this.s),vm(this.l),jg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=jg(this.opacity);return`${e===1?"hsl(":"hsla("}${yO(this.h)}, ${vm(this.s)*100}%, ${vm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function yO(e){return e=(e||0)%360,e<0?e+360:e}function vm(e){return Math.max(0,Math.min(1,e||0))}function pb(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}var BP=e=>()=>e;function IH(e,t){return function(n){return e+n*t}}function TH(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function OH(e){return(e=+e)==1?FP:function(t,n){return n-t?TH(t,n,e):BP(isNaN(t)?n:t)}}function FP(e,t){var n=t-e;return n?IH(e,n):BP(isNaN(e)?t:e)}var wO=function e(t){var n=OH(t);function r(i,o){var s=n((i=Y0(i)).r,(o=Y0(o)).r),u=n(i.g,o.g),h=n(i.b,o.b),m=FP(i.opacity,o.opacity);return function(v){return i.r=s(v),i.g=u(v),i.b=h(v),i.opacity=m(v),i+""}}return r.gamma=e,r}(1);function Os(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var X0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mb=new RegExp(X0.source,"g");function _H(e){return function(){return e}}function AH(e){return function(t){return e(t)+""}}function RH(e,t){var n=X0.lastIndex=mb.lastIndex=0,r,i,o,s=-1,u=[],h=[];for(e=e+"",t=t+"";(r=X0.exec(e))&&(i=mb.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),u[s]?u[s]+=o:u[++s]=o),(r=r[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,h.push({i:s,x:Os(r,i)})),n=mb.lastIndex;return n<t.length&&(o=t.slice(n),u[s]?u[s]+=o:u[++s]=o),u.length<2?h[0]?AH(h[0].x):_H(t):(t=h.length,function(m){for(var v=0,w;v<t;++v)u[(w=h[v]).i]=w.x(m);return u.join("")})}var bO=180/Math.PI,J0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function UP(e,t,n,r,i,o){var s,u,h;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(h=e*n+t*r)&&(n-=e*h,r-=t*h),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,h/=u),e*r<t*n&&(e=-e,t=-t,h=-h,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*bO,skewX:Math.atan(h)*bO,scaleX:s,scaleY:u}}var ym;function PH(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?J0:UP(t.a,t.b,t.c,t.d,t.e,t.f)}function kH(e){return e==null||(ym||(ym=document.createElementNS("http://www.w3.org/2000/svg","g")),ym.setAttribute("transform",e),!(e=ym.transform.baseVal.consolidate()))?J0:(e=e.matrix,UP(e.a,e.b,e.c,e.d,e.e,e.f))}function $P(e,t,n,r){function i(m){return m.length?m.pop()+" ":""}function o(m,v,w,b,N,T){if(m!==w||v!==b){var R=N.push("translate(",null,t,null,n);T.push({i:R-4,x:Os(m,w)},{i:R-2,x:Os(v,b)})}else(w||b)&&N.push("translate("+w+t+b+n)}function s(m,v,w,b){m!==v?(m-v>180?v+=360:v-m>180&&(m+=360),b.push({i:w.push(i(w)+"rotate(",null,r)-2,x:Os(m,v)})):v&&w.push(i(w)+"rotate("+v+r)}function u(m,v,w,b){m!==v?b.push({i:w.push(i(w)+"skewX(",null,r)-2,x:Os(m,v)}):v&&w.push(i(w)+"skewX("+v+r)}function h(m,v,w,b,N,T){if(m!==w||v!==b){var R=N.push(i(N)+"scale(",null,",",null,")");T.push({i:R-4,x:Os(m,w)},{i:R-2,x:Os(v,b)})}else(w!==1||b!==1)&&N.push(i(N)+"scale("+w+","+b+")")}return function(m,v){var w=[],b=[];return m=e(m),v=e(v),o(m.translateX,m.translateY,v.translateX,v.translateY,w,b),s(m.rotate,v.rotate,w,b),u(m.skewX,v.skewX,w,b),h(m.scaleX,m.scaleY,v.scaleX,v.scaleY,w,b),m=v=null,function(N){for(var T=-1,R=b.length,S;++T<R;)w[(S=b[T]).i]=S.x(N);return w.join("")}}}var DH=$P(PH,"px, ","px)","deg)"),LH=$P(kH,", ",")",")"),MH=1e-12;function SO(e){return((e=Math.exp(e))+1/e)/2}function zH(e){return((e=Math.exp(e))-1/e)/2}function BH(e){return((e=Math.exp(2*e))-1)/(e+1)}var FH=function e(t,n,r){function i(o,s){var u=o[0],h=o[1],m=o[2],v=s[0],w=s[1],b=s[2],N=v-u,T=w-h,R=N*N+T*T,S,E;if(R<MH)E=Math.log(b/m)/t,S=function(z){return[u+z*N,h+z*T,m*Math.exp(t*z*E)]};else{var I=Math.sqrt(R),P=(b*b-m*m+r*R)/(2*m*n*I),O=(b*b-m*m-r*R)/(2*b*n*I),B=Math.log(Math.sqrt(P*P+1)-P),A=Math.log(Math.sqrt(O*O+1)-O);E=(A-B)/t,S=function(z){var M=z*E,F=SO(B),U=m/(n*I)*(F*BH(t*M+B)-zH(B));return[u+U*N,h+U*T,m*F/SO(t*M+B)]}}return S.duration=E*1e3*t/Math.SQRT2,S}return i.rho=function(o){var s=Math.max(.001,+o),u=s*s,h=u*u;return e(s,u,h)},i}(Math.SQRT2,2,4),sf=0,Md=0,Sd=0,WP=1e3,Kg,zd,qg=0,xu=0,qv=0,Mh=typeof performance=="object"&&performance.now?performance:Date,jP=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function tC(){return xu||(jP(UH),xu=Mh.now()+qv)}function UH(){xu=0}function Vg(){this._call=this._time=this._next=null}Vg.prototype=KP.prototype={constructor:Vg,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?tC():+n)+(t==null?0:+t),!this._next&&zd!==this&&(zd?zd._next=this:Kg=this,zd=this),this._call=e,this._time=n,Q0()},stop:function(){this._call&&(this._call=null,this._time=1/0,Q0())}};function KP(e,t,n){var r=new Vg;return r.restart(e,t,n),r}function $H(){tC(),++sf;for(var e=Kg,t;e;)(t=xu-e._time)>=0&&e._call.call(void 0,t),e=e._next;--sf}function EO(){xu=(qg=Mh.now())+qv,sf=Md=0;try{$H()}finally{sf=0,jH(),xu=0}}function WH(){var e=Mh.now(),t=e-qg;t>WP&&(qv-=t,qg=e)}function jH(){for(var e,t=Kg,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Kg=n);zd=e,Q0(r)}function Q0(e){if(!sf){Md&&(Md=clearTimeout(Md));var t=e-xu;t>24?(e<1/0&&(Md=setTimeout(EO,e-Mh.now()-qv)),Sd&&(Sd=clearInterval(Sd))):(Sd||(qg=Mh.now(),Sd=setInterval(WH,WP)),sf=1,jP(EO))}}function CO(e,t,n){var r=new Vg;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var KH=jv("start","end","cancel","interrupt"),qH=[],qP=0,xO=1,Z0=2,Gm=3,NO=4,eS=5,Ym=6;function Vv(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;VH(e,n,{name:t,index:r,group:i,on:KH,tween:qH,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:qP})}function nC(e,t){var n=zo(e,t);if(n.state>qP)throw new Error("too late; already scheduled");return n}function ga(e,t){var n=zo(e,t);if(n.state>Gm)throw new Error("too late; already running");return n}function zo(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function VH(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=KP(o,0,n.time);function o(m){n.state=xO,n.timer.restart(s,n.delay,n.time),n.delay<=m&&s(m-n.delay)}function s(m){var v,w,b,N;if(n.state!==xO)return h();for(v in r)if(N=r[v],N.name===n.name){if(N.state===Gm)return CO(s);N.state===NO?(N.state=Ym,N.timer.stop(),N.on.call("interrupt",e,e.__data__,N.index,N.group),delete r[v]):+v<t&&(N.state=Ym,N.timer.stop(),N.on.call("cancel",e,e.__data__,N.index,N.group),delete r[v])}if(CO(function(){n.state===Gm&&(n.state=NO,n.timer.restart(u,n.delay,n.time),u(m))}),n.state=Z0,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Z0){for(n.state=Gm,i=new Array(b=n.tween.length),v=0,w=-1;v<b;++v)(N=n.tween[v].value.call(e,e.__data__,n.index,n.group))&&(i[++w]=N);i.length=w+1}}function u(m){for(var v=m<n.duration?n.ease.call(null,m/n.duration):(n.timer.restart(h),n.state=eS,1),w=-1,b=i.length;++w<b;)i[w].call(e,v);n.state===eS&&(n.on.call("end",e,e.__data__,n.index,n.group),h())}function h(){n.state=Ym,n.timer.stop(),delete r[t];for(var m in r)return;delete e.__transition}}function Xm(e,t){var n=e.__transition,r,i,o=!0,s;if(!!n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>Z0&&r.state<eS,r.state=Ym,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function HH(e){return this.each(function(){Xm(this,e)})}function GH(e,t){var n,r;return function(){var i=ga(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,u=r.length;s<u;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function YH(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=ga(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var u={name:t,value:n},h=0,m=i.length;h<m;++h)if(i[h].name===t){i[h]=u;break}h===m&&i.push(u)}o.tween=i}}function XH(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=zo(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?GH:YH)(n,e,t))}function rC(e,t,n){var r=e._id;return e.each(function(){var i=ga(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return zo(i,r).value[t]}}function VP(e,t){var n;return(typeof t=="number"?Os:t instanceof Lh?wO:(n=Lh(t))?(t=n,wO):RH)(e,t)}function JH(e){return function(){this.removeAttribute(e)}}function QH(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ZH(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function eG(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function tG(e,t,n){var r,i,o;return function(){var s,u=n(this),h;return u==null?void this.removeAttribute(e):(s=this.getAttribute(e),h=u+"",s===h?null:s===r&&h===i?o:(i=h,o=t(r=s,u)))}}function nG(e,t,n){var r,i,o;return function(){var s,u=n(this),h;return u==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),h=u+"",s===h?null:s===r&&h===i?o:(i=h,o=t(r=s,u)))}}function rG(e,t){var n=Kv(e),r=n==="transform"?LH:VP;return this.attrTween(e,typeof t=="function"?(n.local?nG:tG)(n,r,rC(this,"attr."+e,t)):t==null?(n.local?QH:JH)(n):(n.local?eG:ZH)(n,r,t))}function iG(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function oG(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function aG(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&oG(e,o)),n}return i._value=t,i}function sG(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&iG(e,o)),n}return i._value=t,i}function lG(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Kv(e);return this.tween(n,(r.local?aG:sG)(r,t))}function uG(e,t){return function(){nC(this,e).delay=+t.apply(this,arguments)}}function cG(e,t){return t=+t,function(){nC(this,e).delay=t}}function fG(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?uG:cG)(t,e)):zo(this.node(),t).delay}function dG(e,t){return function(){ga(this,e).duration=+t.apply(this,arguments)}}function hG(e,t){return t=+t,function(){ga(this,e).duration=t}}function pG(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?dG:hG)(t,e)):zo(this.node(),t).duration}function mG(e,t){if(typeof t!="function")throw new Error;return function(){ga(this,e).ease=t}}function gG(e){var t=this._id;return arguments.length?this.each(mG(t,e)):zo(this.node(),t).ease}function vG(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;ga(this,e).ease=n}}function yG(e){if(typeof e!="function")throw new Error;return this.each(vG(this._id,e))}function wG(e){typeof e!="function"&&(e=xP(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,u=r[i]=[],h,m=0;m<s;++m)(h=o[m])&&e.call(h,h.__data__,m,o)&&u.push(h);return new Va(r,this._parents,this._name,this._id)}function bG(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),u=0;u<o;++u)for(var h=t[u],m=n[u],v=h.length,w=s[u]=new Array(v),b,N=0;N<v;++N)(b=h[N]||m[N])&&(w[N]=b);for(;u<r;++u)s[u]=t[u];return new Va(s,this._parents,this._name,this._id)}function SG(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function EG(e,t,n){var r,i,o=SG(t)?nC:ga;return function(){var s=o(this,e),u=s.on;u!==r&&(i=(r=u).copy()).on(t,n),s.on=i}}function CG(e,t){var n=this._id;return arguments.length<2?zo(this.node(),n).on.on(e):this.each(EG(n,e,t))}function xG(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function NG(){return this.on("end.remove",xG(this._id))}function IG(e){var t=this._name,n=this._id;typeof e!="function"&&(e=QE(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var u=r[s],h=u.length,m=o[s]=new Array(h),v,w,b=0;b<h;++b)(v=u[b])&&(w=e.call(v,v.__data__,b,u))&&("__data__"in v&&(w.__data__=v.__data__),m[b]=w,Vv(m[b],t,n,b,m,zo(v,n)));return new Va(o,this._parents,t,n)}function TG(e){var t=this._name,n=this._id;typeof e!="function"&&(e=CP(e));for(var r=this._groups,i=r.length,o=[],s=[],u=0;u<i;++u)for(var h=r[u],m=h.length,v,w=0;w<m;++w)if(v=h[w]){for(var b=e.call(v,v.__data__,w,h),N,T=zo(v,n),R=0,S=b.length;R<S;++R)(N=b[R])&&Vv(N,t,n,R,b,T);o.push(b),s.push(v)}return new Va(o,s,t,n)}var OG=op.prototype.constructor;function _G(){return new OG(this._groups,this._parents)}function AG(e,t){var n,r,i;return function(){var o=af(this,e),s=(this.style.removeProperty(e),af(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function HP(e){return function(){this.style.removeProperty(e)}}function RG(e,t,n){var r,i=n+"",o;return function(){var s=af(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function PG(e,t,n){var r,i,o;return function(){var s=af(this,e),u=n(this),h=u+"";return u==null&&(h=u=(this.style.removeProperty(e),af(this,e))),s===h?null:s===r&&h===i?o:(i=h,o=t(r=s,u))}}function kG(e,t){var n,r,i,o="style."+t,s="end."+o,u;return function(){var h=ga(this,e),m=h.on,v=h.value[o]==null?u||(u=HP(t)):void 0;(m!==n||i!==v)&&(r=(n=m).copy()).on(s,i=v),h.on=r}}function DG(e,t,n){var r=(e+="")=="transform"?DH:VP;return t==null?this.styleTween(e,AG(e,r)).on("end.style."+e,HP(e)):typeof t=="function"?this.styleTween(e,PG(e,r,rC(this,"style."+e,t))).each(kG(this._id,e)):this.styleTween(e,RG(e,r,t),n).on("end.style."+e,null)}function LG(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function MG(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&LG(e,s,n)),r}return o._value=t,o}function zG(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,MG(e,t,n==null?"":n))}function BG(e){return function(){this.textContent=e}}function FG(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function UG(e){return this.tween("text",typeof e=="function"?FG(rC(this,"text",e)):BG(e==null?"":e+""))}function $G(e){return function(t){this.textContent=e.call(this,t)}}function WG(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&$G(i)),t}return r._value=e,r}function jG(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,WG(e))}function KG(){for(var e=this._name,t=this._id,n=GP(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],u=s.length,h,m=0;m<u;++m)if(h=s[m]){var v=zo(h,t);Vv(h,e,n,m,s,{time:v.time+v.delay+v.duration,delay:0,duration:v.duration,ease:v.ease})}return new Va(r,this._parents,e,n)}function qG(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var u={value:s},h={value:function(){--i===0&&o()}};n.each(function(){var m=ga(this,r),v=m.on;v!==e&&(t=(e=v).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(h)),m.on=t}),i===0&&o()})}var VG=0;function Va(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function GP(){return++VG}var Ma=op.prototype;Va.prototype={constructor:Va,select:IG,selectAll:TG,selectChild:Ma.selectChild,selectChildren:Ma.selectChildren,filter:wG,merge:bG,selection:_G,transition:KG,call:Ma.call,nodes:Ma.nodes,node:Ma.node,size:Ma.size,empty:Ma.empty,each:Ma.each,on:CG,attr:rG,attrTween:lG,style:DG,styleTween:zG,text:UG,textTween:jG,remove:NG,tween:XH,delay:fG,duration:pG,ease:gG,easeVarying:yG,end:qG,[Symbol.iterator]:Ma[Symbol.iterator]};function HG(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var GG={time:null,delay:0,duration:250,ease:HG};function YG(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function XG(e){var t,n;e instanceof Va?(t=e._id,e=e._name):(t=GP(),(n=GG).time=tC(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],u=s.length,h,m=0;m<u;++m)(h=s[m])&&Vv(h,e,t,m,s,n||YG(h,t));return new Va(r,this._parents,e,t)}op.prototype.interrupt=HH;op.prototype.transition=XG;var wm=e=>()=>e;function JG(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function $a(e,t,n){this.k=e,this.x=t,this.y=n}$a.prototype={constructor:$a,scale:function(e){return e===1?this:new $a(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new $a(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var gu=new $a(1,0,0);$a.prototype;function gb(e){e.stopImmediatePropagation()}function Ed(e){e.preventDefault(),e.stopImmediatePropagation()}function QG(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function ZG(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function IO(){return this.__zoom||gu}function e4(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function t4(){return navigator.maxTouchPoints||"ontouchstart"in this}function n4(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function r4(){var e=QG,t=ZG,n=n4,r=e4,i=t4,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],u=250,h=FH,m=jv("start","zoom","end"),v,w,b,N=500,T=150,R=0,S=10;function E(V){V.property("__zoom",IO).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",F).on("dblclick.zoom",U).filter(i).on("touchstart.zoom",W).on("touchmove.zoom",G).on("touchend.zoom touchcancel.zoom",te).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}E.transform=function(V,oe,ne,J){var Y=V.selection?V.selection():V;Y.property("__zoom",IO),V!==Y?B(V,oe,ne,J):Y.interrupt().each(function(){A(this,arguments).event(J).start().zoom(null,typeof oe=="function"?oe.apply(this,arguments):oe).end()})},E.scaleBy=function(V,oe,ne,J){E.scaleTo(V,function(){var Y=this.__zoom.k,X=typeof oe=="function"?oe.apply(this,arguments):oe;return Y*X},ne,J)},E.scaleTo=function(V,oe,ne,J){E.transform(V,function(){var Y=t.apply(this,arguments),X=this.__zoom,re=ne==null?O(Y):typeof ne=="function"?ne.apply(this,arguments):ne,ie=X.invert(re),ce=typeof oe=="function"?oe.apply(this,arguments):oe;return n(P(I(X,ce),re,ie),Y,s)},ne,J)},E.translateBy=function(V,oe,ne,J){E.transform(V,function(){return n(this.__zoom.translate(typeof oe=="function"?oe.apply(this,arguments):oe,typeof ne=="function"?ne.apply(this,arguments):ne),t.apply(this,arguments),s)},null,J)},E.translateTo=function(V,oe,ne,J,Y){E.transform(V,function(){var X=t.apply(this,arguments),re=this.__zoom,ie=J==null?O(X):typeof J=="function"?J.apply(this,arguments):J;return n(gu.translate(ie[0],ie[1]).scale(re.k).translate(typeof oe=="function"?-oe.apply(this,arguments):-oe,typeof ne=="function"?-ne.apply(this,arguments):-ne),X,s)},J,Y)};function I(V,oe){return oe=Math.max(o[0],Math.min(o[1],oe)),oe===V.k?V:new $a(oe,V.x,V.y)}function P(V,oe,ne){var J=oe[0]-ne[0]*V.k,Y=oe[1]-ne[1]*V.k;return J===V.x&&Y===V.y?V:new $a(V.k,J,Y)}function O(V){return[(+V[0][0]+ +V[1][0])/2,(+V[0][1]+ +V[1][1])/2]}function B(V,oe,ne,J){V.on("start.zoom",function(){A(this,arguments).event(J).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(J).end()}).tween("zoom",function(){var Y=this,X=arguments,re=A(Y,X).event(J),ie=t.apply(Y,X),ce=ne==null?O(ie):typeof ne=="function"?ne.apply(Y,X):ne,ye=Math.max(ie[1][0]-ie[0][0],ie[1][1]-ie[0][1]),ge=Y.__zoom,fe=typeof oe=="function"?oe.apply(Y,X):oe,Me=h(ge.invert(ce).concat(ye/ge.k),fe.invert(ce).concat(ye/fe.k));return function(je){if(je===1)je=fe;else{var Ae=Me(je),_e=ye/Ae[2];je=new $a(_e,ce[0]-Ae[0]*_e,ce[1]-Ae[1]*_e)}re.zoom(null,je)}})}function A(V,oe,ne){return!ne&&V.__zooming||new z(V,oe)}function z(V,oe){this.that=V,this.args=oe,this.active=0,this.sourceEvent=null,this.extent=t.apply(V,oe),this.taps=0}z.prototype={event:function(V){return V&&(this.sourceEvent=V),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(V,oe){return this.mouse&&V!=="mouse"&&(this.mouse[1]=oe.invert(this.mouse[0])),this.touch0&&V!=="touch"&&(this.touch0[1]=oe.invert(this.touch0[0])),this.touch1&&V!=="touch"&&(this.touch1[1]=oe.invert(this.touch1[0])),this.that.__zoom=oe,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(V){var oe=Co(this.that).datum();m.call(V,this.that,new JG(V,{sourceEvent:this.sourceEvent,target:E,type:V,transform:this.that.__zoom,dispatch:m}),oe)}};function M(V,...oe){if(!e.apply(this,arguments))return;var ne=A(this,oe).event(V),J=this.__zoom,Y=Math.max(o[0],Math.min(o[1],J.k*Math.pow(2,r.apply(this,arguments)))),X=ra(V);if(ne.wheel)(ne.mouse[0][0]!==X[0]||ne.mouse[0][1]!==X[1])&&(ne.mouse[1]=J.invert(ne.mouse[0]=X)),clearTimeout(ne.wheel);else{if(J.k===Y)return;ne.mouse=[X,J.invert(X)],Xm(this),ne.start()}Ed(V),ne.wheel=setTimeout(re,T),ne.zoom("mouse",n(P(I(J,Y),ne.mouse[0],ne.mouse[1]),ne.extent,s));function re(){ne.wheel=null,ne.end()}}function F(V,...oe){if(b||!e.apply(this,arguments))return;var ne=V.currentTarget,J=A(this,oe,!0).event(V),Y=Co(V.view).on("mousemove.zoom",ce,!0).on("mouseup.zoom",ye,!0),X=ra(V,ne),re=V.clientX,ie=V.clientY;DP(V.view),gb(V),J.mouse=[X,this.__zoom.invert(X)],Xm(this),J.start();function ce(ge){if(Ed(ge),!J.moved){var fe=ge.clientX-re,Me=ge.clientY-ie;J.moved=fe*fe+Me*Me>R}J.event(ge).zoom("mouse",n(P(J.that.__zoom,J.mouse[0]=ra(ge,ne),J.mouse[1]),J.extent,s))}function ye(ge){Y.on("mousemove.zoom mouseup.zoom",null),LP(ge.view,J.moved),Ed(ge),J.event(ge).end()}}function U(V,...oe){if(!!e.apply(this,arguments)){var ne=this.__zoom,J=ra(V.changedTouches?V.changedTouches[0]:V,this),Y=ne.invert(J),X=ne.k*(V.shiftKey?.5:2),re=n(P(I(ne,X),J,Y),t.apply(this,oe),s);Ed(V),u>0?Co(this).transition().duration(u).call(B,re,J,V):Co(this).call(E.transform,re,J,V)}}function W(V,...oe){if(!!e.apply(this,arguments)){var ne=V.touches,J=ne.length,Y=A(this,oe,V.changedTouches.length===J).event(V),X,re,ie,ce;for(gb(V),re=0;re<J;++re)ie=ne[re],ce=ra(ie,this),ce=[ce,this.__zoom.invert(ce),ie.identifier],Y.touch0?!Y.touch1&&Y.touch0[2]!==ce[2]&&(Y.touch1=ce,Y.taps=0):(Y.touch0=ce,X=!0,Y.taps=1+!!v);v&&(v=clearTimeout(v)),X&&(Y.taps<2&&(w=ce[0],v=setTimeout(function(){v=null},N)),Xm(this),Y.start())}}function G(V,...oe){if(!!this.__zooming){var ne=A(this,oe).event(V),J=V.changedTouches,Y=J.length,X,re,ie,ce;for(Ed(V),X=0;X<Y;++X)re=J[X],ie=ra(re,this),ne.touch0&&ne.touch0[2]===re.identifier?ne.touch0[0]=ie:ne.touch1&&ne.touch1[2]===re.identifier&&(ne.touch1[0]=ie);if(re=ne.that.__zoom,ne.touch1){var ye=ne.touch0[0],ge=ne.touch0[1],fe=ne.touch1[0],Me=ne.touch1[1],je=(je=fe[0]-ye[0])*je+(je=fe[1]-ye[1])*je,Ae=(Ae=Me[0]-ge[0])*Ae+(Ae=Me[1]-ge[1])*Ae;re=I(re,Math.sqrt(je/Ae)),ie=[(ye[0]+fe[0])/2,(ye[1]+fe[1])/2],ce=[(ge[0]+Me[0])/2,(ge[1]+Me[1])/2]}else if(ne.touch0)ie=ne.touch0[0],ce=ne.touch0[1];else return;ne.zoom("touch",n(P(re,ie,ce),ne.extent,s))}}function te(V,...oe){if(!!this.__zooming){var ne=A(this,oe).event(V),J=V.changedTouches,Y=J.length,X,re;for(gb(V),b&&clearTimeout(b),b=setTimeout(function(){b=null},N),X=0;X<Y;++X)re=J[X],ne.touch0&&ne.touch0[2]===re.identifier?delete ne.touch0:ne.touch1&&ne.touch1[2]===re.identifier&&delete ne.touch1;if(ne.touch1&&!ne.touch0&&(ne.touch0=ne.touch1,delete ne.touch1),ne.touch0)ne.touch0[1]=this.__zoom.invert(ne.touch0[0]);else if(ne.end(),ne.taps===2&&(re=ra(re,this),Math.hypot(w[0]-re[0],w[1]-re[1])<S)){var ie=Co(this).on("dblclick.zoom");ie&&ie.apply(this,arguments)}}}return E.wheelDelta=function(V){return arguments.length?(r=typeof V=="function"?V:wm(+V),E):r},E.filter=function(V){return arguments.length?(e=typeof V=="function"?V:wm(!!V),E):e},E.touchable=function(V){return arguments.length?(i=typeof V=="function"?V:wm(!!V),E):i},E.extent=function(V){return arguments.length?(t=typeof V=="function"?V:wm([[+V[0][0],+V[0][1]],[+V[1][0],+V[1][1]]]),E):t},E.scaleExtent=function(V){return arguments.length?(o[0]=+V[0],o[1]=+V[1],E):[o[0],o[1]]},E.translateExtent=function(V){return arguments.length?(s[0][0]=+V[0][0],s[1][0]=+V[1][0],s[0][1]=+V[0][1],s[1][1]=+V[1][1],E):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},E.constrain=function(V){return arguments.length?(n=V,E):n},E.duration=function(V){return arguments.length?(u=+V,E):u},E.interpolate=function(V){return arguments.length?(h=V,E):h},E.on=function(){var V=m.on.apply(m,arguments);return V===m?E:V},E.clickDistance=function(V){return arguments.length?(R=(V=+V)*V,E):Math.sqrt(R)},E.tapDistance=function(V){return arguments.length?(S=+V,E):S},E}function Jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function YP(e,t){if(!!e){if(typeof e=="string")return tS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tS(e,t)}}function i4(e){if(Array.isArray(e))return e}function o4(e,t){var n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,u;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(h){o=!0,u=h}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw u}}return r}}function a4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $t(e,t){return i4(e)||o4(e,t)||YP(e,t)||a4()}var lf;(function(e){e.Strict="strict",e.Loose="loose"})(lf||(lf={}));var TO;(function(e){e.Lines="lines",e.Dots="dots"})(TO||(TO={}));var Hc;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Hc||(Hc={}));var Rs;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Rs||(Rs={}));var Hg;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Hg||(Hg={}));var Ve;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Ve||(Ve={}));var iC=function(t){return{width:t.offsetWidth,height:t.offsetHeight}},Gc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.min(Math.max(t,n),r)},XP=function(t,n){return{x:Gc(t.x,n[0][0],n[1][0]),y:Gc(t.y,n[0][1],n[1][1])}},JP=function(t){var n,r;return((n=t.getRootNode)===null||n===void 0?void 0:n.call(t))||((r=window)===null||r===void 0?void 0:r.document)},s4=function(t,n){return{x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x2,n.x2),y2:Math.max(t.y2,n.y2)}},Gg=function(t){var n=t.x,r=t.y,i=t.width,o=t.height;return{x:n,y:r,x2:n+i,y2:r+o}},l4=function(t){var n=t.x,r=t.y,i=t.x2,o=t.y2;return{x:n,y:r,width:i-n,height:o-r}},QP=function(t){return!isNaN(t)&&isFinite(t)},ar=Symbol("internals");function OO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(n),!0).forEach(function(r){Jt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _O(e,t){var n=e.find(function(m){return m.id===t.parentNode});if(n){var r=t.position.x+t.width-n.width,i=t.position.y+t.height-n.height;if(r>0||i>0||t.position.x<0||t.position.y<0){var o,s;if(n.style=Bd({},n.style)||{},n.style.width=(o=n.style.width)!==null&&o!==void 0?o:n.width,n.style.height=(s=n.style.height)!==null&&s!==void 0?s:n.height,r>0&&(n.style.width+=r),i>0&&(n.style.height+=i),t.position.x<0){var u=Math.abs(t.position.x);n.position.x=n.position.x-u,n.style.width+=u,t.position.x=0}if(t.position.y<0){var h=Math.abs(t.position.y);n.position.y=n.position.y-h,n.style.height+=h,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function ZP(e,t){if(e.some(function(r){return r.type==="reset"}))return e.filter(function(r){return r.type==="reset"}).map(function(r){return r.item});var n=e.filter(function(r){return r.type==="add"}).map(function(r){return r.item});return t.reduce(function(r,i){var o=e.find(function(h){return h.id===i.id});if(o)switch(o.type){case"select":return r.push(Bd(Bd({},i),{},{selected:o.selected})),r;case"position":{var s=Bd({},i);return typeof o.position!="undefined"&&(s.position=o.position),typeof o.positionAbsolute!="undefined"&&(s.positionAbsolute=o.positionAbsolute),typeof o.dragging!="undefined"&&(s.dragging=o.dragging),s.expandParent&&_O(r,s),r.push(s),r}case"dimensions":{var u=Bd({},i);return typeof o.dimensions!="undefined"&&(u.width=o.dimensions.width,u.height=o.dimensions.height),u.expandParent&&_O(r,u),r.push(u),r}case"remove":return r}return r.push(i),r},n)}function ek(e,t){return ZP(e,t)}function u4(e,t){return ZP(e,t)}var _s=function(t,n){return{id:t,type:"select",selected:n}};function Rc(e,t){return e.reduce(function(n,r){var i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(_s(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(_s(r.id,!1))),n},[])}function AO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AO(Object(n),!0).forEach(function(r){Jt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var RO=function(t,n,r){var i=n.querySelectorAll(t);if(!i||!i.length)return null;var o=Array.from(i),s=n.getBoundingClientRect();return o.map(function(u){var h=u.getBoundingClientRect();return tk({id:u.getAttribute("data-handleid"),position:u.getAttribute("data-handlepos"),x:(h.left-s.left)/r,y:(h.top-s.top)/r},iC(u))})};function Cd(e,t,n){return n===void 0?n:function(r){var i=t().nodeInternals.get(e);n(r,tk({},i))}}function nk(e){var t=e.id,n=e.store,r=n.getState(),i=r.addSelectedNodes,o=r.unselectNodesAndEdges,s=r.multiSelectionActive,u=r.nodeInternals,h=u.get(t);n.setState({nodesSelectionActive:!1}),h.selected?h.selected&&s&&o({nodes:[h]}):i([t])}function PO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ah(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PO(Object(n),!0).forEach(function(r){Jt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var c4=function(t){return"id"in t&&"source"in t&&"target"in t},f4=function(t){var n=t.source,r=t.sourceHandle,i=t.target,o=t.targetHandle;return"reactflow__edge-".concat(n).concat(r||"","-").concat(i).concat(o||"")},nS=function(t,n){if(typeof t=="undefined")return"";if(typeof t=="string")return t;var r=n?"".concat(n,"__"):"";return"".concat(r).concat(Object.keys(t).sort().map(function(i){return"".concat(i,"=").concat(t[i])}).join("&"))},d4=function(t,n){return n.some(function(r){return r.source===t.source&&r.target===t.target&&(r.sourceHandle===t.sourceHandle||!r.sourceHandle&&!t.sourceHandle)&&(r.targetHandle===t.targetHandle||!r.targetHandle&&!t.targetHandle)})},h4=function(t,n){if(!t.source||!t.target)return n;var r;return c4(t)?r=ah({},t):r=ah(ah({},t),{},{id:f4(t)}),d4(r,n)?n:n.concat(r)},rk=function(t,n,r,i){var o=t.x,s=t.y,u=$t(n,3),h=u[0],m=u[1],v=u[2],w=$t(i,2),b=w[0],N=w[1],T={x:(o-h)/v,y:(s-m)/v};return r?{x:b*Math.round(T.x/b),y:N*Math.round(T.y/N)}:T},oC=function(t){if(t.length===0)return{x:0,y:0,width:0,height:0};var n=t.reduce(function(r,i){var o=i.positionAbsolute,s=i.position,u=i.width,h=i.height;return s4(r,Gg({x:o?o.x:s.x,y:o?o.y:s.y,width:u||0,height:h||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return l4(n)},ik=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[0,0,1],i=$t(r,3),o=i[0],s=i[1],u=i[2],h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,v=Gg({x:(n.x-o)/u,y:(n.y-s)/u,width:n.width/u,height:n.height/u}),w=[];return t.forEach(function(b){var N=b.positionAbsolute,T=b.width,R=b.height,S=b.selectable,E=S===void 0?!0:S;if(m&&!E)return!1;var I=Gg(ah(ah({},N),{},{width:T||0,height:R||0})),P=Math.max(0,Math.min(v.x2,I.x2)-Math.max(v.x,I.x)),O=Math.max(0,Math.min(v.y2,I.y2)-Math.max(v.y,I.y)),B=Math.ceil(P*O),A=typeof T=="undefined"||typeof R=="undefined"||T===null||R===null,z=h&&B>0,M=(T||0)*(R||0),F=A||z||B>=M;F&&w.push(b)}),w},ok=function(t,n){var r=t.map(function(i){return i.id});return n.filter(function(i){return r.includes(i.source)||r.includes(i.target)})},ak=function(t,n,r,i,o){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:.1,u=n/(t.width*(1+s)),h=r/(t.height*(1+s)),m=Math.min(u,h),v=Gc(m,i,o),w=t.x+t.width/2,b=t.y+t.height/2,N=n/2-w*v,T=r/2-b*v;return[N,T,v]},Zl=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.transition().duration(n)};function kO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kO(Object(n),!0).forEach(function(r){Jt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sk(e,t,n,r){var i,o,s,u,h,m,v,w,b,N,T,R;if(!e.parentNode)return r;var S=t.get(e.parentNode);return sk(S,t,n,{x:((i=r.x)!==null&&i!==void 0?i:0)+((o=(s=S.position)===null||s===void 0?void 0:s.x)!==null&&o!==void 0?o:0),y:((u=r.y)!==null&&u!==void 0?u:0)+((h=(m=S.position)===null||m===void 0?void 0:m.y)!==null&&h!==void 0?h:0),z:((v=(w=S[ar])===null||w===void 0?void 0:w.z)!==null&&v!==void 0?v:0)>((b=r.z)!==null&&b!==void 0?b:0)?(N=(T=S[ar])===null||T===void 0?void 0:T.z)!==null&&N!==void 0?N:0:(R=r.z)!==null&&R!==void 0?R:0})}function vb(e,t){var n=new Map,r={};return e.forEach(function(i){var o,s=QP(i.zIndex)?i.zIndex:i.selected?1e3:0,u=t.get(i.id),h=Pc(Pc({width:u==null?void 0:u.width,height:u==null?void 0:u.height},i),{},{positionAbsolute:{x:i.position.x,y:i.position.y}});i.parentNode&&(h.parentNode=i.parentNode,r[i.parentNode]=!0),Object.defineProperty(h,ar,{enumerable:!1,value:{handleBounds:u==null||(o=u[ar])===null||o===void 0?void 0:o.handleBounds,z:s}}),n.set(i.id,h)}),n.forEach(function(i){if(i.parentNode&&!n.has(i.parentNode))throw new Error("Parent node ".concat(i.parentNode," not found"));if(i.parentNode||r[i.id]){var o,s,u=sk(i,n,r,Pc(Pc({},i.position),{},{z:(o=(s=i[ar])===null||s===void 0?void 0:s.z)!==null&&o!==void 0?o:0})),h=u.x,m=u.y,v=u.z;i.positionAbsolute={x:h,y:m},i[ar].z=v,r[i.id]&&(i[ar].isParent=!0)}}),n}function lk(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e(),r=n.nodeInternals,i=n.width,o=n.height,s=n.minZoom,u=n.maxZoom,h=n.d3Zoom,m=n.d3Selection,v=n.fitViewOnInitDone,w=n.fitViewOnInit;if((t.initial&&!v&&w||!t.initial)&&h&&m){var b=Array.from(r.values()).filter(function(M){return t.includeHiddenNodes?M.width&&M.height:!M.hidden}),N=b.every(function(M){return M.width&&M.height});if(b.length>0&&N){var T,R,S,E=oC(b),I=ak(E,i,o,(T=t.minZoom)!==null&&T!==void 0?T:s,(R=t.maxZoom)!==null&&R!==void 0?R:u,(S=t.padding)!==null&&S!==void 0?S:.1),P=$t(I,3),O=P[0],B=P[1],A=P[2],z=gu.translate(O,B).scale(A);return typeof t.duration=="number"&&t.duration>0?h.transform(Zl(m,t.duration),z):h.transform(m,z),!0}}return!1}function p4(e,t){return e.forEach(function(n){var r=t.get(n.id);if(r){var i;t.set(r.id,Pc(Pc({},r),{},(i={},Jt(i,ar,r[ar]),Jt(i,"selected",n.selected),i)))}}),new Map(t)}function m4(e,t){return t.map(function(n){var r=e.find(function(i){return i.id===n.id});return r&&(n.selected=r.selected),n})}function bm(e){var t=e.changedNodes,n=e.changedEdges,r=e.get,i=e.set,o=r(),s=o.nodeInternals,u=o.edges,h=o.onNodesChange,m=o.onEdgesChange,v=o.hasDefaultNodes,w=o.hasDefaultEdges;t!=null&&t.length&&(v&&i({nodeInternals:p4(t,s)}),h==null||h(t)),n!=null&&n.length&&(w&&i({edges:m4(n,u)}),m==null||m(n))}var DO=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],LO={width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:DO,nodeExtent:DO,nodesSelectionActive:!1,userSelectionActive:!1,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionMode:lf.Strict,domNode:null,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,elementsSelectable:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,multiSelectionActive:!1,reactFlowVersion:"10.3.12",connectionStartHandle:null,connectOnClick:!0};function MO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function na(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(n),!0).forEach(function(r){Jt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var aC=Nq(),g4=aC.Provider,ur=aC.useStore,ni=aC.useStoreApi,v4=function(){return yt(function(t,n){return na(na({},LO),{},{setNodes:function(i){t({nodeInternals:vb(i,n().nodeInternals)})},setEdges:function(i){var o=n(),s=o.defaultEdgeOptions,u=s===void 0?{}:s;t({edges:i.map(function(h){return na(na({},u),h)})})},setDefaultNodesAndEdges:function(i,o){var s=typeof i!="undefined",u=typeof o!="undefined",h=s?vb(i,new Map):new Map,m=u?o:[];t({nodeInternals:h,edges:m,hasDefaultNodes:s,hasDefaultEdges:u})},updateNodeDimensions:function(i){var o=n(),s=o.onNodesChange,u=o.nodeInternals,h=o.fitViewOnInit,m=o.fitViewOnInitDone,v=o.fitViewOnInitOptions,w=o.domNode,b=w==null?void 0:w.querySelector(".react-flow__viewport");if(!!b){var N=window.getComputedStyle(b),T=new window.DOMMatrixReadOnly(N.transform),R=T.m22,S=i.reduce(function(I,P){var O=u.get(P.id);if(O){var B=iC(P.nodeElement),A=!!(B.width&&B.height&&(O.width!==B.width||O.height!==B.height||P.forceUpdate));A&&(u.set(O.id,na(na({},O),{},Jt({},ar,na(na({},O[ar]),{},{handleBounds:{source:RO(".source",P.nodeElement,R),target:RO(".target",P.nodeElement,R)}})),B)),I.push({id:O.id,type:"dimensions",dimensions:B}))}return I},[]),E=m||h&&!m&&lk(n,na({initial:!0},v));t({nodeInternals:new Map(u),fitViewOnInitDone:E}),(S==null?void 0:S.length)>0&&(s==null||s(S))}},updateNodePositions:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u=n(),h=u.onNodesChange,m=u.nodeInternals,v=u.hasDefaultNodes;if(v||h){var w=i.map(function(T){var R={id:T.id,type:"position",dragging:s};return o&&(R.positionAbsolute=T.positionAbsolute,R.position=T.position),R});if(w!=null&&w.length){if(v){var b=ek(w,Array.from(m.values())),N=vb(b,m);t({nodeInternals:N})}h==null||h(w)}}},addSelectedNodes:function(i){var o=n(),s=o.multiSelectionActive,u=o.nodeInternals,h=o.edges,m,v=null;s?m=i.map(function(w){return _s(w,!0)}):(m=Rc(Array.from(u.values()),i),v=Rc(h,[])),bm({changedNodes:m,changedEdges:v,get:n,set:t})},addSelectedEdges:function(i){var o=n(),s=o.multiSelectionActive,u=o.edges,h=o.nodeInternals,m,v=null;s?m=i.map(function(w){return _s(w,!0)}):(m=Rc(u,i),v=Rc(Array.from(h.values()),[])),bm({changedNodes:v,changedEdges:m,get:n,set:t})},unselectNodesAndEdges:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=i.nodes,s=i.edges,u=n(),h=u.nodeInternals,m=u.edges,v=o||Array.from(h.values()),w=s||m,b=v.map(function(T){return T.selected=!1,_s(T.id,!1)}),N=w.map(function(T){return _s(T.id,!1)});bm({changedNodes:b,changedEdges:N,get:n,set:t})},setMinZoom:function(i){var o=n(),s=o.d3Zoom,u=o.maxZoom;s==null||s.scaleExtent([i,u]),t({minZoom:i})},setMaxZoom:function(i){var o=n(),s=o.d3Zoom,u=o.minZoom;s==null||s.scaleExtent([u,i]),t({maxZoom:i})},setTranslateExtent:function(i){var o=n(),s=o.d3Zoom;s==null||s.translateExtent(i),t({translateExtent:i})},resetSelectedElements:function(){var i=n(),o=i.nodeInternals,s=i.edges,u=Array.from(o.values()),h=u.filter(function(v){return v.selected}).map(function(v){return _s(v.id,!1)}),m=s.filter(function(v){return v.selected}).map(function(v){return _s(v.id,!1)});bm({changedNodes:h,changedEdges:m,get:n,set:t})},setNodeExtent:function(i){var o=n(),s=o.nodeInternals;s.forEach(function(u){u.positionAbsolute=XP(u.position,i)}),t({nodeExtent:i,nodeInternals:new Map(s)})},reset:function(){return t(na({},LO))}})})};function Ei(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}function y4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Hv(e,t){if(e==null)return{};var n=y4(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}function w4(e){if(Array.isArray(e))return tS(e)}function b4(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function S4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vu(e){return w4(e)||b4(e)||YP(e)||S4()}var E4={zoomIn:function(){},zoomOut:function(){},zoomTo:function(t){},getZoom:function(){return 1},setViewport:function(t){},getViewport:function(){return{x:0,y:0,zoom:1}},fitView:function(){},setCenter:function(t,n){},fitBounds:function(t){},project:function(t){return t},initialized:!1},C4=function(t){return{d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}},x4=function(){var t=ni(),n=ur(C4,Ei),r=n.d3Zoom,i=n.d3Selection,o=Q.exports.useMemo(function(){return i&&r?{zoomIn:function(u){return r.scaleBy(Zl(i,u==null?void 0:u.duration),1.2)},zoomOut:function(u){return r.scaleBy(Zl(i,u==null?void 0:u.duration),1/1.2)},zoomTo:function(u,h){return r.scaleTo(Zl(i,h==null?void 0:h.duration),u)},getZoom:function(){return t.getState().transform[2]},setViewport:function(u,h){var m,v,w,b=$t(t.getState().transform,3),N=b[0],T=b[1],R=b[2],S=gu.translate((m=u.x)!==null&&m!==void 0?m:N,(v=u.y)!==null&&v!==void 0?v:T).scale((w=u.zoom)!==null&&w!==void 0?w:R);r.transform(Zl(i,h==null?void 0:h.duration),S)},getViewport:function(){var u=$t(t.getState().transform,3),h=u[0],m=u[1],v=u[2];return{x:h,y:m,zoom:v}},fitView:function(u){return lk(t.getState,u)},setCenter:function(u,h,m){var v=t.getState(),w=v.width,b=v.height,N=v.maxZoom,T=typeof(m==null?void 0:m.zoom)!="undefined"?m.zoom:N,R=w/2-u*T,S=b/2-h*T,E=gu.translate(R,S).scale(T);r.transform(Zl(i,m==null?void 0:m.duration),E)},fitBounds:function(u,h){var m,v=t.getState(),w=v.width,b=v.height,N=v.minZoom,T=v.maxZoom,R=ak(u,w,b,N,T,(m=h==null?void 0:h.padding)!==null&&m!==void 0?m:.1),S=$t(R,3),E=S[0],I=S[1],P=S[2],O=gu.translate(E,I).scale(P);r.transform(Zl(i,h==null?void 0:h.duration),O)},project:function(u){var h=t.getState(),m=h.transform,v=h.snapToGrid,w=h.snapGrid;return rk(u,m,v,w)},initialized:!0}:E4},[r,i]);return o},N4=["initialized"];function zO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(n),!0).forEach(function(r){Jt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I4(){var e=x4(),t=e.initialized,n=Hv(e,N4),r=ni(),i=Q.exports.useCallback(function(){var N=r.getState(),T=N.nodeInternals,R=Array.from(T.values());return R.map(function(S){return gc({},S)})},[]),o=Q.exports.useCallback(function(N){var T=r.getState(),R=T.nodeInternals;return R.get(N)},[]),s=Q.exports.useCallback(function(){var N=r.getState(),T=N.edges,R=T===void 0?[]:T;return R.map(function(S){return gc({},S)})},[]),u=Q.exports.useCallback(function(N){var T=r.getState(),R=T.edges,S=R===void 0?[]:R;return S.find(function(E){return E.id===N})},[]),h=Q.exports.useCallback(function(N){var T=r.getState(),R=T.nodeInternals,S=T.setNodes,E=T.hasDefaultNodes,I=T.onNodesChange,P=Array.from(R.values()),O=typeof N=="function"?N(P):N;if(E)S(O);else if(I){var B=O.length===0?P.map(function(A){return{type:"remove",id:A.id}}):O.map(function(A){return{item:A,type:"reset"}});I(B)}},[]),m=Q.exports.useCallback(function(N){var T=r.getState(),R=T.edges,S=R===void 0?[]:R,E=T.setEdges,I=T.hasDefaultEdges,P=T.onEdgesChange,O=typeof N=="function"?N(S):N;if(I)E(O);else if(P){var B=O.length===0?S.map(function(A){return{type:"remove",id:A.id}}):O.map(function(A){return{item:A,type:"reset"}});P(B)}},[]),v=Q.exports.useCallback(function(N){var T=Array.isArray(N)?N:[N],R=r.getState(),S=R.nodeInternals,E=R.setNodes,I=R.hasDefaultNodes,P=R.onNodesChange;if(I){var O=Array.from(S.values()),B=[].concat(O,vu(T));E(B)}else if(P){var A=T.map(function(z){return{item:z,type:"add"}});P(A)}},[]),w=Q.exports.useCallback(function(N){var T=Array.isArray(N)?N:[N],R=r.getState(),S=R.edges,E=S===void 0?[]:S,I=R.setEdges,P=R.hasDefaultEdges,O=R.onEdgesChange;if(P)I([].concat(vu(E),vu(T)));else if(O){var B=T.map(function(A){return{item:A,type:"add"}});O(B)}},[]),b=Q.exports.useCallback(function(){var N=r.getState(),T=N.nodeInternals,R=N.edges,S=R===void 0?[]:R,E=N.transform,I=Array.from(T.values()),P=$t(E,3),O=P[0],B=P[1],A=P[2];return{nodes:I.map(function(z){return gc({},z)}),edges:S.map(function(z){return gc({},z)}),viewport:{x:O,y:B,zoom:A}}},[]);return gc(gc({},n),{},{viewportInitialized:t,getNodes:i,getNode:o,getEdges:s,getEdge:u,setNodes:h,setEdges:m,addNodes:v,addEdges:w,toObject:b})}function va(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=va(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var T4=["paid-pro","paid-sponsor","paid-enterprise","paid-custom"];function O4(e){var t=e.proOptions,n=e.position,r=n===void 0?"bottom-right":n;if(t!=null&&t.account&&T4.includes(t==null?void 0:t.account)&&t!==null&&t!==void 0&&t.hideAttribution)return null;var i="".concat(r).split("-");return y("div",{className:va(["react-flow__attribution"].concat(vu(i))),"data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev/pricing",children:y("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer",children:"React Flow"})})}var _4=["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"];function BO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function A4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BO(Object(n),!0).forEach(function(r){Jt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var R4=function(t){var n=t.x,r=t.y,i=t.label,o=t.labelStyle,s=o===void 0?{}:o,u=t.labelShowBg,h=u===void 0?!0:u,m=t.labelBgStyle,v=m===void 0?{}:m,w=t.labelBgPadding,b=w===void 0?[2,4]:w,N=t.labelBgBorderRadius,T=N===void 0?2:N,R=t.children,S=t.className,E=Hv(t,_4),I=Q.exports.useRef(null),P=Q.exports.useState({x:0,y:0,width:0,height:0}),O=$t(P,2),B=O[0],A=O[1],z=va(["react-flow__edge-textwrapper",S]);return Q.exports.useEffect(function(){if(I.current){var M=I.current.getBBox();A({x:M.x,y:M.y,width:M.width,height:M.height})}},[i]),typeof i=="undefined"||!i?null:K("g",{...A4({transform:"translate(".concat(n-B.width/2," ").concat(r-B.height/2,")"),className:z},E),children:[h&&y("rect",{width:B.width+2*b[0],x:-b[0],y:-b[1],height:B.height+2*b[1],className:"react-flow__edge-textbg",style:v,rx:T,ry:T}),y("text",{className:"react-flow__edge-text",y:B.height/2,dy:"0.3em",ref:I,style:s,children:i}),R]})},P4=Q.exports.memo(R4),Gv=function(e){var t=e.path,n=e.centerX,r=e.centerY,i=e.label,o=e.labelStyle,s=e.labelShowBg,u=e.labelBgStyle,h=e.labelBgPadding,m=e.labelBgBorderRadius,v=e.style,w=e.markerEnd,b=e.markerStart,N=i?y(P4,{x:n,y:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:u,labelBgPadding:h,labelBgBorderRadius:m}):null;return K(Qt,{children:[y("path",{style:v,d:t,className:"react-flow__edge-path",markerEnd:w,markerStart:b}),N]})};function Yg(e){var t=e.pos,n=e.x1,r=e.y1,i=e.x2,o=e.y2,s,u;switch(t){case Ve.Left:case Ve.Right:s=.5*(n+i),u=r;break;case Ve.Top:case Ve.Bottom:s=n,u=.5*(r+o);break}return[s,u]}function uk(e){var t=e.sourceX,n=e.sourceY,r=e.sourcePosition,i=r===void 0?Ve.Bottom:r,o=e.targetX,s=e.targetY,u=e.targetPosition,h=u===void 0?Ve.Top:u,m=Yg({pos:i,x1:t,y1:n,x2:o,y2:s}),v=$t(m,2),w=v[0],b=v[1],N=Yg({pos:h,x1:o,y1:s,x2:t,y2:n}),T=$t(N,2),R=T[0],S=T[1];return"M".concat(t,",").concat(n," C").concat(w,",").concat(b," ").concat(R,",").concat(S," ").concat(o,",").concat(s)}function k4(e){var t=e.sourceX,n=e.sourceY,r=e.sourcePosition,i=r===void 0?Ve.Bottom:r,o=e.targetX,s=e.targetY,u=e.targetPosition,h=u===void 0?Ve.Top:u,m=Yg({pos:i,x1:t,y1:n,x2:o,y2:s}),v=$t(m,2),w=v[0],b=v[1],N=Yg({pos:h,x1:o,y1:s,x2:t,y2:n}),T=$t(N,2),R=T[0],S=T[1],E=t*.125+w*.375+R*.375+o*.125,I=n*.125+b*.375+S*.375+s*.125,P=Math.abs(E-t),O=Math.abs(I-n);return[E,I,P,O]}var ck=Q.exports.memo(function(e){var t=e.sourceX,n=e.sourceY,r=e.targetX,i=e.targetY,o=e.sourcePosition,s=o===void 0?Ve.Bottom:o,u=e.targetPosition,h=u===void 0?Ve.Top:u,m=e.label,v=e.labelStyle,w=e.labelShowBg,b=e.labelBgStyle,N=e.labelBgPadding,T=e.labelBgBorderRadius,R=e.style,S=e.markerEnd,E=e.markerStart,I={sourceX:t,sourceY:n,sourcePosition:s,targetX:r,targetY:i,targetPosition:h},P=uk(I),O=k4(I),B=$t(O,2),A=B[0],z=B[1];return y(Gv,{path:P,centerX:A,centerY:z,label:m,labelStyle:v,labelShowBg:w,labelBgStyle:b,labelBgPadding:N,labelBgBorderRadius:T,style:R,markerEnd:S,markerStart:E})});function FO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function D4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FO(Object(n),!0).forEach(function(r){Jt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var UO=[Ve.Left,Ve.Right],fk=function(t){var n=t.sourceX,r=t.sourceY,i=t.targetX,o=t.targetY,s=t.sourcePosition,u=s===void 0?Ve.Bottom:s,h=t.targetPosition,m=h===void 0?Ve.Top:h,v=UO.includes(u),w=UO.includes(m),b=v&&!w||w&&!v;if(b){var N=v?Math.abs(i-n):0,T=n>i?n-N:n+N,R=v?0:Math.abs(o-r),S=r<o?r+R:r-R;return[T,S,N,R]}var E=Math.abs(i-n)/2,I=i<n?i+E:i-E,P=Math.abs(o-r)/2,O=o<r?o+P:o-P;return[I,O,E,P]};function xd(e,t,n){return n===void 0?n:function(r){var i=t().edges.find(function(o){return o.id===e});n(r,D4({},i))}}var yb=function(t,n,r){return"L ".concat(t,",").concat(n-r,"Q ").concat(t,",").concat(n," ").concat(t+r,",").concat(n)},wb=function(t,n,r){return"L ".concat(t+r,",").concat(n,"Q ").concat(t,",").concat(n," ").concat(t,",").concat(n-r)},bb=function(t,n,r){return"L ".concat(t,",").concat(n-r,"Q ").concat(t,",").concat(n," ").concat(t-r,",").concat(n)},Sb=function(t,n,r){return"L ".concat(t-r,",").concat(n,"Q ").concat(t,",").concat(n," ").concat(t,",").concat(n-r)},Eb=function(t,n,r){return"L ".concat(t+r,",").concat(n,"Q ").concat(t,",").concat(n," ").concat(t,",").concat(n+r)},Cb=function(t,n,r){return"L ".concat(t,",").concat(n+r,"Q ").concat(t,",").concat(n," ").concat(t+r,",").concat(n)},xb=function(t,n,r){return"L ".concat(t,",").concat(n+r,"Q ").concat(t,",").concat(n," ").concat(t-r,",").concat(n)},Nb=function(t,n,r){return"L ".concat(t-r,",").concat(n,"Q ").concat(t,",").concat(n," ").concat(t,",").concat(n+r)};function rS(e){var t=e.sourceX,n=e.sourceY,r=e.sourcePosition,i=r===void 0?Ve.Bottom:r,o=e.targetX,s=e.targetY,u=e.targetPosition,h=u===void 0?Ve.Top:u,m=e.borderRadius,v=m===void 0?5:m,w=e.centerX,b=e.centerY,N=fk({sourceX:t,sourceY:n,targetX:o,targetY:s}),T=$t(N,4),R=T[0],S=T[1],E=T[2],I=T[3],P=Math.min(v,Math.abs(o-t)),O=Math.min(v,Math.abs(s-n)),B=Math.min(P,O,E,I),A=[Ve.Left,Ve.Right],z=typeof w!="undefined"?w:R,M=typeof b!="undefined"?b:S,F=null,U=null;return t<=o?(F=n<=s?yb(t,M,B):Cb(t,M,B),U=n<=s?Nb(o,M,B):Sb(o,M,B)):(F=n<s?bb(t,M,B):xb(t,M,B),U=n<s?Eb(o,M,B):wb(o,M,B)),A.includes(i)&&A.includes(h)?t<=o?(F=n<=s?Nb(z,n,B):Sb(z,n,B),U=n<=s?yb(z,s,B):Cb(z,s,B)):(i===Ve.Right&&h===Ve.Left||i===Ve.Left&&h===Ve.Right||i===Ve.Left&&h===Ve.Left)&&(F=n<=s?Eb(z,n,B):wb(z,n,B),U=n<=s?bb(z,s,B):xb(z,s,B)):A.includes(i)&&!A.includes(h)?(t<=o?F=n<=s?Nb(o,n,B):Sb(o,n,B):F=n<=s?Eb(o,n,B):wb(o,n,B),U=""):!A.includes(i)&&A.includes(h)&&(t<=o?F=n<=s?yb(t,s,B):Cb(t,s,B):F=n<=s?bb(t,s,B):xb(t,s,B),U=""),"M ".concat(t,",").concat(n).concat(F).concat(U,"L ").concat(o,",").concat(s)}var sC=Q.exports.memo(function(e){var t=e.sourceX,n=e.sourceY,r=e.targetX,i=e.targetY,o=e.label,s=e.labelStyle,u=e.labelShowBg,h=e.labelBgStyle,m=e.labelBgPadding,v=e.labelBgBorderRadius,w=e.style,b=e.sourcePosition,N=b===void 0?Ve.Bottom:b,T=e.targetPosition,R=T===void 0?Ve.Top:T,S=e.markerEnd,E=e.markerStart,I=e.borderRadius,P=I===void 0?5:I,O=fk({sourceX:t,sourceY:n,targetX:r,targetY:i,sourcePosition:N,targetPosition:R}),B=$t(O,2),A=B[0],z=B[1],M=rS({sourceX:t,sourceY:n,sourcePosition:N,targetX:r,targetY:i,targetPosition:R,borderRadius:P});return y(Gv,{path:M,centerX:A,centerY:z,label:o,labelStyle:s,labelShowBg:u,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:v,style:w,markerEnd:S,markerStart:E})});function $O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function WO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$O(Object(n),!0).forEach(function(r){Jt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var dk=Q.exports.memo(function(e){return y(sC,{...WO(WO({},e),{},{borderRadius:0})})}),hk=Q.exports.memo(function(e){var t=e.sourceX,n=e.sourceY,r=e.targetX,i=e.targetY,o=e.label,s=e.labelStyle,u=e.labelShowBg,h=e.labelBgStyle,m=e.labelBgPadding,v=e.labelBgBorderRadius,w=e.style,b=e.markerEnd,N=e.markerStart,T=Math.abs(i-n)/2,R=i<n?i+T:i-T,S=Math.abs(r-t)/2,E=r<t?r+S:r-S,I="M ".concat(t,",").concat(n,"L ").concat(r,",").concat(i);return y(Gv,{path:I,centerX:E,centerY:R,label:o,labelStyle:s,labelShowBg:u,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:v,style:w,markerEnd:b,markerStart:N})});function Sm(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Xg(e){var t=e.pos,n=e.x1,r=e.y1,i=e.x2,o=e.y2,s=e.c,u,h;switch(t){case Ve.Left:u=n-Sm(n-i,s),h=r;break;case Ve.Right:u=n+Sm(i-n,s),h=r;break;case Ve.Top:u=n,h=r-Sm(r-o,s);break;case Ve.Bottom:u=n,h=r+Sm(o-r,s);break}return[u,h]}function pk(e){var t=e.sourceX,n=e.sourceY,r=e.sourcePosition,i=r===void 0?Ve.Bottom:r,o=e.targetX,s=e.targetY,u=e.targetPosition,h=u===void 0?Ve.Top:u,m=e.curvature,v=m===void 0?.25:m,w=Xg({pos:i,x1:t,y1:n,x2:o,y2:s,c:v}),b=$t(w,2),N=b[0],T=b[1],R=Xg({pos:h,x1:o,y1:s,x2:t,y2:n,c:v}),S=$t(R,2),E=S[0],I=S[1];return"M".concat(t,",").concat(n," C").concat(N,",").concat(T," ").concat(E,",").concat(I," ").concat(o,",").concat(s)}function L4(e){var t=e.sourceX,n=e.sourceY,r=e.sourcePosition,i=r===void 0?Ve.Bottom:r,o=e.targetX,s=e.targetY,u=e.targetPosition,h=u===void 0?Ve.Top:u,m=e.curvature,v=m===void 0?.25:m,w=Xg({pos:i,x1:t,y1:n,x2:o,y2:s,c:v}),b=$t(w,2),N=b[0],T=b[1],R=Xg({pos:h,x1:o,y1:s,x2:t,y2:n,c:v}),S=$t(R,2),E=S[0],I=S[1],P=t*.125+N*.375+E*.375+o*.125,O=n*.125+T*.375+I*.375+s*.125,B=Math.abs(P-t),A=Math.abs(O-n);return[P,O,B,A]}var iS=Q.exports.memo(function(e){var t=e.sourceX,n=e.sourceY,r=e.targetX,i=e.targetY,o=e.sourcePosition,s=o===void 0?Ve.Bottom:o,u=e.targetPosition,h=u===void 0?Ve.Top:u,m=e.label,v=e.labelStyle,w=e.labelShowBg,b=e.labelBgStyle,N=e.labelBgPadding,T=e.labelBgBorderRadius,R=e.style,S=e.markerEnd,E=e.markerStart,I=e.curvature,P={sourceX:t,sourceY:n,sourcePosition:s,targetX:r,targetY:i,targetPosition:h,curvature:I},O=pk(P),B=L4(P),A=$t(B,2),z=A[0],M=A[1];return y(Gv,{path:O,centerX:z,centerY:M,label:m,labelStyle:v,labelShowBg:w,labelBgStyle:b,labelBgPadding:N,labelBgBorderRadius:T,style:R,markerEnd:S,markerStart:E})}),lC=Q.exports.createContext(null),M4=lC.Provider;lC.Consumer;function oS(e,t,n,r,i,o,s){var u=s.elementFromPoint(e.clientX,e.clientY),h=(u==null?void 0:u.classList.contains("target"))||!1,m=(u==null?void 0:u.classList.contains("source"))||!1,v={elementBelow:u,isValid:!1,connection:{source:null,target:null,sourceHandle:null,targetHandle:null},isHoveringHandle:!1};if(u&&(h||m)){v.isHoveringHandle=!0;var w=u.getAttribute("data-nodeid"),b=u.getAttribute("data-handleid"),N=n?{source:w,sourceHandle:b,target:r,targetHandle:i}:{source:r,sourceHandle:i,target:w,targetHandle:b};v.connection=N;var T=t===lf.Strict?n&&m||!n&&h:!0;T&&(v.isValid=o(N))}return v}function jO(e){e==null||e.classList.remove("react-flow__handle-valid"),e==null||e.classList.remove("react-flow__handle-connecting")}function mk(e){var t=e.event,n=e.handleId,r=e.nodeId,i=e.onConnect,o=e.isTarget,s=e.getState,u=e.setState,h=e.isValidConnection,m=e.elementEdgeUpdaterType,v=e.onEdgeUpdateEnd,w=t.target.closest(".react-flow"),b=JP(t.target);if(!b)return;var N=b.elementFromPoint(t.clientX,t.clientY),T=N==null?void 0:N.classList.contains("target"),R=N==null?void 0:N.classList.contains("source");if(!w||!T&&!R&&!m)return;var S=s(),E=S.onConnectStart,I=S.connectionMode,P=m||(T?"target":"source"),O=w.getBoundingClientRect(),B;u({connectionPosition:{x:t.clientX-O.left,y:t.clientY-O.top},connectionNodeId:r,connectionHandleId:n,connectionHandleType:P}),E==null||E(t,{nodeId:r,handleId:n,handleType:P});function A(M){u({connectionPosition:{x:M.clientX-O.left,y:M.clientY-O.top}});var F=oS(M,I,o,r,n,h,b),U=F.connection,W=F.elementBelow,G=F.isValid,te=F.isHoveringHandle;if(!te)return jO(B);U.source!==U.target&&W&&(B=W,W.classList.add("react-flow__handle-connecting"),W.classList.toggle("react-flow__handle-valid",G))}function z(M){var F=s(),U=F.onConnectStop,W=F.onConnectEnd,G=oS(M,I,o,r,n,h,b),te=G.connection,V=G.isValid;U==null||U(M),V&&(i==null||i(te)),W==null||W(M),m&&v&&v(M),jO(B),u({connectionNodeId:null,connectionHandleId:null,connectionHandleType:null}),b.removeEventListener("mousemove",A),b.removeEventListener("mouseup",z)}b.addEventListener("mousemove",A),b.addEventListener("mouseup",z)}var z4=["type","position","isValidConnection","isConnectable","id","onConnect","children","className","onMouseDown"];function KO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ib(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(n),!0).forEach(function(r){Jt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var B4=function(){return!0},F4=function(t){return{connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick}},gk=Q.exports.forwardRef(function(e,t){var n=e.type,r=n===void 0?"source":n,i=e.position,o=i===void 0?Ve.Top:i,s=e.isValidConnection,u=s===void 0?B4:s,h=e.isConnectable,m=h===void 0?!0:h,v=e.id,w=e.onConnect,b=e.children,N=e.className,T=e.onMouseDown,R=Hv(e,z4),S=ni(),E=Q.exports.useContext(lC),I=ur(F4,Ei),P=I.connectionStartHandle,O=I.connectOnClick,B=v||null,A=r==="target",z=function(W){var G=S.getState(),te=G.defaultEdgeOptions,V=G.onConnect,oe=G.hasDefaultEdges,ne=Ib(Ib({},te),W);if(oe){var J=S.getState(),Y=J.edges;S.setState({edges:h4(ne,Y)})}V==null||V(ne),w==null||w(ne)},M=function(W){W.button===0&&mk({event:W,handleId:B,nodeId:E,onConnect:z,isTarget:A,getState:S.getState,setState:S.setState,isValidConnection:u}),T==null||T(W)},F=function(W){var G=S.getState(),te=G.onClickConnectStart,V=G.onClickConnectStop,oe=G.onClickConnectEnd,ne=G.connectionMode;if(!P){te==null||te(W,{nodeId:E,handleId:B,handleType:r}),S.setState({connectionStartHandle:{nodeId:E,type:r,handleId:B}});return}var J=JP(W.target),Y=oS(W,ne,P.type==="target",P.nodeId,P.handleId||null,u,J),X=Y.connection,re=Y.isValid;V==null||V(W),re&&z(X),oe==null||oe(W),S.setState({connectionStartHandle:null})};return y("div",{...Ib({"data-handleid":B,"data-nodeid":E,"data-handlepos":o,className:va(["react-flow__handle","react-flow__handle-".concat(o),"nodrag",N,{source:!A,target:A,connectable:m,connecting:(P==null?void 0:P.nodeId)===E&&(P==null?void 0:P.handleId)===B&&(P==null?void 0:P.type)===r}]),onMouseDown:M,onClick:O?F:void 0,ref:t},R),children:b})});gk.displayName="Handle";var zs=Q.exports.memo(gk),vk=function(t){var n=t.data,r=t.isConnectable,i=t.targetPosition,o=i===void 0?Ve.Top:i,s=t.sourcePosition,u=s===void 0?Ve.Bottom:s;return K(Qt,{children:[y(zs,{type:"target",position:o,isConnectable:r}),n==null?void 0:n.label,y(zs,{type:"source",position:u,isConnectable:r})]})};vk.displayName="DefaultNode";var aS=Q.exports.memo(vk),yk=function(t){var n=t.data,r=t.isConnectable,i=t.sourcePosition,o=i===void 0?Ve.Bottom:i;return K(Qt,{children:[n==null?void 0:n.label,y(zs,{type:"source",position:o,isConnectable:r})]})};yk.displayName="InputNode";var wk=Q.exports.memo(yk),bk=function(t){var n=t.data,r=t.isConnectable,i=t.targetPosition,o=i===void 0?Ve.Top:i;return K(Qt,{children:[y(zs,{type:"target",position:o,isConnectable:r}),n==null?void 0:n.label]})};bk.displayName="OutputNode";var Sk=Q.exports.memo(bk),U4=function(t){return{selectedNodes:Array.from(t.nodeInternals.values()).filter(function(n){return n.selected}),selectedEdges:t.edges.filter(function(n){return n.selected})}},$4=function(t,n){var r=t.selectedNodes.map(function(u){return u.id}),i=n.selectedNodes.map(function(u){return u.id}),o=t.selectedEdges.map(function(u){return u.id}),s=n.selectedEdges.map(function(u){return u.id});return Ei(r,i)&&Ei(o,s)};function W4(e){var t=e.onSelectionChange,n=ur(U4,$4),r=n.selectedNodes,i=n.selectedEdges;return Q.exports.useEffect(function(){t({nodes:r,edges:i})},[r,i]),null}var j4=Q.exports.memo(W4),K4=function(t){return{setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset}};function Ns(e,t){Q.exports.useEffect(function(){typeof e!="undefined"&&t(e)},[e])}function tn(e,t,n){Q.exports.useEffect(function(){typeof t!="undefined"&&n(Jt({},e,t))},[t])}var q4=function(t){var n=t.nodes,r=t.edges,i=t.defaultNodes,o=t.defaultEdges,s=t.onConnect,u=t.onConnectStart,h=t.onConnectStop,m=t.onConnectEnd,v=t.onClickConnectStart,w=t.onClickConnectStop,b=t.onClickConnectEnd,N=t.nodesDraggable,T=t.nodesConnectable,R=t.minZoom,S=t.maxZoom,E=t.nodeExtent,I=t.onNodesChange,P=t.onEdgesChange,O=t.elementsSelectable,B=t.connectionMode,A=t.snapGrid,z=t.snapToGrid,M=t.translateExtent,F=t.connectOnClick,U=t.defaultEdgeOptions,W=t.fitView,G=t.fitViewOptions,te=t.onNodesDelete,V=t.onEdgesDelete,oe=t.onNodeDrag,ne=t.onNodeDragStart,J=t.onNodeDragStop,Y=t.onSelectionDrag,X=t.onSelectionDragStart,re=t.onSelectionDragStop,ie=ur(K4,Ei),ce=ie.setNodes,ye=ie.setEdges,ge=ie.setDefaultNodesAndEdges,fe=ie.setMinZoom,Me=ie.setMaxZoom,je=ie.setTranslateExtent,Ae=ie.setNodeExtent,_e=ie.reset,be=ni();return Q.exports.useEffect(function(){return ge(i,o),function(){_e()}},[]),tn("defaultEdgeOptions",U,be.setState),tn("connectionMode",B,be.setState),tn("onConnect",s,be.setState),tn("onConnectStart",u,be.setState),tn("onConnectStop",h,be.setState),tn("onConnectEnd",m,be.setState),tn("onClickConnectStart",v,be.setState),tn("onClickConnectStop",w,be.setState),tn("onClickConnectEnd",b,be.setState),tn("nodesDraggable",N,be.setState),tn("nodesConnectable",T,be.setState),tn("elementsSelectable",O,be.setState),tn("snapToGrid",z,be.setState),tn("snapGrid",A,be.setState),tn("onNodesChange",I,be.setState),tn("onEdgesChange",P,be.setState),tn("connectOnClick",F,be.setState),tn("fitViewOnInit",W,be.setState),tn("fitViewOnInitOptions",G,be.setState),tn("onNodesDelete",te,be.setState),tn("onEdgesDelete",V,be.setState),tn("onNodeDrag",oe,be.setState),tn("onNodeDragStart",ne,be.setState),tn("onNodeDragStop",J,be.setState),tn("onSelectionDrag",Y,be.setState),tn("onSelectionDragStart",X,be.setState),tn("onSelectionDragStop",re,be.setState),Ns(n,ce),Ns(r,ye),Ns(i,ce),Ns(o,ye),Ns(R,fe),Ns(S,Me),Ns(M,je),Ns(E,Ae),null},V4=".react-flow{height:100%;overflow:hidden;position:relative;width:100%}.react-flow__container{height:100%;left:0;position:absolute;top:0;width:100%}.react-flow__pane{z-index:1}.react-flow__viewport{pointer-events:none;transform-origin:0 0;z-index:2}.react-flow__renderer{z-index:4}.react-flow__selectionpane{z-index:5}.react-flow .react-flow__edges{overflow:visible;pointer-events:none}.react-flow .react-flow__connectionline{z-index:1001}.react-flow__edge{pointer-events:visibleStroke}.react-flow__edge.inactive{pointer-events:none}@-webkit-keyframes dashdraw{0%{stroke-dashoffset:10}}@keyframes dashdraw{0%{stroke-dashoffset:10}}.react-flow__edge-path{fill:none}.react-flow__edge-textwrapper{pointer-events:all}.react-flow__edge-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__connection{pointer-events:none}.react-flow__connection .animated{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__connection-path{fill:none}.react-flow__nodes{pointer-events:none;transform-origin:0 0}.react-flow__node{box-sizing:border-box;pointer-events:all;position:absolute;transform-origin:0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__nodesselection{pointer-events:none;transform-origin:left top;z-index:3}.react-flow__nodesselection-rect{cursor:-webkit-grab;cursor:grab;pointer-events:all;position:absolute}.react-flow__handle{pointer-events:none;position:absolute}.react-flow__handle.connectable{pointer-events:all}.react-flow__handle-bottom{bottom:-4px;left:50%;top:auto;transform:translate(-50%)}.react-flow__handle-top{left:50%;top:-4px;transform:translate(-50%)}.react-flow__handle-left{left:-4px;top:50%;transform:translateY(-50%)}.react-flow__handle-right{right:-4px;top:50%;transform:translateY(-50%)}.react-flow__edgeupdater{cursor:move;pointer-events:all}.react-flow__controls{bottom:20px;left:15px;position:absolute;z-index:5}.react-flow__controls-button{border:none;height:24px;width:24px}.react-flow__controls-button svg{width:100%}.react-flow__minimap{bottom:20px;position:absolute;right:15px;z-index:5}.react-flow__attribution{background:hsla(0,0%,100%,.5);color:#999;font-size:10px;padding:2px 3px;position:absolute;z-index:1000}.react-flow__attribution a{color:#555;text-decoration:none}.react-flow__attribution.top{top:0}.react-flow__attribution.bottom{bottom:0}.react-flow__attribution.left{left:0}.react-flow__attribution.right{right:0}.react-flow__attribution.center{left:50%;transform:translateX(-50%)}",H4=V4,G4=".react-flow__edge.selected .react-flow__edge-path{stroke:#555}.react-flow__edge.animated path{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__edge.updating .react-flow__edge-path{stroke:#777}.react-flow__edge-path{stroke:#b1b1b7;stroke-width:1}.react-flow__edge-text{font-size:10px}.react-flow__edge-textbg{fill:#fff}.react-flow__connection-path{stroke:#b1b1b7;stroke-width:1}.react-flow__node{cursor:-webkit-grab;cursor:grab}.react-flow__node-default,.react-flow__node-group,.react-flow__node-input,.react-flow__node-output{background:#fff;border:1px solid #1a192b;border-radius:3px;color:#222;font-size:12px;padding:10px;text-align:center;width:150px}.react-flow__node-default.selected,.react-flow__node-group.selected,.react-flow__node-input.selected,.react-flow__node-output.selected{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-default .react-flow__handle,.react-flow__node-group .react-flow__handle,.react-flow__node-input .react-flow__handle,.react-flow__node-output .react-flow__handle{background:#1a192b}.react-flow__node-default.selectable:hover,.react-flow__node-group.selectable:hover,.react-flow__node-input.selectable:hover,.react-flow__node-output.selectable:hover{box-shadow:0 1px 4px 1px rgba(0,0,0,.08)}.react-flow__node-default.selectable.selected,.react-flow__node-group.selectable.selected,.react-flow__node-input.selectable.selected,.react-flow__node-output.selectable.selected{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-group{background:hsla(0,0%,94%,.25);border-color:#1a192b}.react-flow__nodesselection-rect,.react-flow__selection{background:rgba(0,89,220,.08);border:1px dotted rgba(0,89,220,.8)}.react-flow__handle{background:#555;border:1px solid #fff;border-radius:100%;height:6px;width:6px}.react-flow__handle.connectable{cursor:crosshair}.react-flow__minimap{background-color:#fff}.react-flow__controls{box-shadow:0 0 2px 1px rgba(0,0,0,.08)}.react-flow__controls-button{align-items:center;background:#fefefe;border-bottom:1px solid #eee;box-sizing:content-box;cursor:pointer;display:flex;height:16px;justify-content:center;padding:5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:16px}.react-flow__controls-button svg{max-height:12px;max-width:12px}.react-flow__controls-button:hover{background:#f4f4f4}",Y4=G4,X4=function(t,n,r){return r===Ve.Left?t-n:r===Ve.Right?t+n:t},J4=function(t,n,r){return r===Ve.Top?t-n:r===Ve.Bottom?t+n:t},qO=function(t){var n=t.className,r=t.position,i=t.centerX,o=t.centerY,s=t.radius,u=s===void 0?10:s;return y("circle",{className:va(["react-flow__edgeupdater",n]),cx:X4(i,u,r),cy:J4(o,u,r),r:u,stroke:"transparent",fill:"transparent"})},vc=function(e){var t=function(r){var i=r.id,o=r.className,s=r.type,u=r.data,h=r.onClick,m=r.onEdgeDoubleClick,v=r.selected,w=r.animated,b=r.label,N=r.labelStyle,T=r.labelShowBg,R=r.labelBgStyle,S=r.labelBgPadding,E=r.labelBgBorderRadius,I=r.style,P=r.source,O=r.target,B=r.sourceX,A=r.sourceY,z=r.targetX,M=r.targetY,F=r.sourcePosition,U=r.targetPosition,W=r.elementsSelectable,G=r.hidden,te=r.sourceHandleId,V=r.targetHandleId,oe=r.onContextMenu,ne=r.onMouseEnter,J=r.onMouseMove,Y=r.onMouseLeave,X=r.edgeUpdaterRadius,re=r.onEdgeUpdate,ie=r.onEdgeUpdateStart,ce=r.onEdgeUpdateEnd,ye=r.markerEnd,ge=r.markerStart,fe=r.rfId,Me=Q.exports.useState(!1),je=$t(Me,2),Ae=je[0],_e=je[1],be=ni(),De=function(nt){var mn=be.getState(),fr=mn.edges,Ke=mn.addSelectedEdges,hn=fr.find(function(rn){return rn.id===i});W&&(be.setState({nodesSelectionActive:!1}),Ke([i])),h==null||h(nt,hn)},Re=xd(i,be.getState,m),Ge=xd(i,be.getState,oe),ht=xd(i,be.getState,ne),Dt=xd(i,be.getState,J),He=xd(i,be.getState,Y),le=function(nt,mn){var fr=mn?O:P,Ke=(mn?V:te)||null,hn=mn?"target":"source",rn=function(){return!0},gn=mn,Ze=be.getState().edges.find(function(St){return St.id===i});ie==null||ie(nt,Ze,hn);var et=ce?function(St){return ce(St,Ze,hn)}:void 0,gt=function(pt){return re==null?void 0:re(Ze,pt)};mk({event:nt,handleId:Ke,nodeId:fr,onConnect:gt,isTarget:gn,getState:be.getState,setState:be.setState,isValidConnection:rn,elementEdgeUpdaterType:hn,onEdgeUpdateEnd:et})},ve=function(nt){return le(nt,!0)},Pe=function(nt){return le(nt,!1)},Ie=function(){return _e(!0)},ze=function(){return _e(!1)},$e=Q.exports.useMemo(function(){return"url(#".concat(nS(ge,fe),")")},[ge,fe]),mt=Q.exports.useMemo(function(){return"url(#".concat(nS(ye,fe),")")},[ye,fe]);if(G)return null;var Je=!W&&!h,Nt=typeof re!="undefined",cn=va(["react-flow__edge","react-flow__edge-".concat(s),o,{selected:v,animated:w,inactive:Je,updating:Ae}]);return K("g",{className:cn,onClick:De,onDoubleClick:Re,onContextMenu:Ge,onMouseEnter:ht,onMouseMove:Dt,onMouseLeave:He,children:[y(e,{id:i,source:P,target:O,selected:v,animated:w,label:b,labelStyle:N,labelShowBg:T,labelBgStyle:R,labelBgPadding:S,labelBgBorderRadius:E,data:u,style:I,sourceX:B,sourceY:A,targetX:z,targetY:M,sourcePosition:F,targetPosition:U,sourceHandleId:te,targetHandleId:V,markerStart:$e,markerEnd:mt}),Nt&&y("g",{onMouseDown:ve,onMouseEnter:Ie,onMouseOut:ze,children:y(qO,{position:F,centerX:B,centerY:A,radius:X})}),Nt&&y("g",{onMouseDown:Pe,onMouseEnter:Ie,onMouseOut:ze,children:y(qO,{position:U,centerX:z,centerY:M,radius:X})})]})};return t.displayName="EdgeWrapper",Q.exports.memo(t)};function VO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(n),!0).forEach(function(r){Jt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Q4(e){var t={default:vc(e.default||iS),straight:vc(e.bezier||hk),step:vc(e.step||dk),smoothstep:vc(e.step||sC),simplebezier:vc(e.simplebezier||ck)},n={},r=Object.keys(e).filter(function(i){return!["default","bezier"].includes(i)}).reduce(function(i,o){return i[o]=vc(e[o]||iS),i},n);return HO(HO({},t),r)}function GO(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=((n==null?void 0:n.x)||0)+t.x,i=((n==null?void 0:n.y)||0)+t.y,o=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case Ve.Top:return{x:r+o/2,y:i};case Ve.Right:return{x:r+o,y:i+s/2};case Ve.Bottom:return{x:r+o/2,y:i+s};case Ve.Left:return{x:r,y:i+s/2}}}function YO(e,t){if(!e)return null;var n=null;return e.length===1||!t?n=e[0]:t&&(n=e.find(function(r){return r.id===t})),typeof n=="undefined"?null:n}var Z4=function(t,n,r,i,o,s){var u=GO(r,t,n),h=GO(s,i,o);return{sourceX:u.x,sourceY:u.y,targetX:h.x,targetY:h.y}};function e6(e){var t=e.sourcePos,n=e.targetPos,r=e.sourceWidth,i=e.sourceHeight,o=e.targetWidth,s=e.targetHeight,u=e.width,h=e.height,m=e.transform,v={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x+r,n.x+o),y2:Math.max(t.y+i,n.y+s)};v.x===v.x2&&(v.x2+=1),v.y===v.y2&&(v.y2+=1);var w=Gg({x:(0-m[0])/m[2],y:(0-m[1])/m[2],width:u/m[2],height:h/m[2]}),b=Math.max(0,Math.min(w.x2,v.x2)-Math.max(w.x,v.x)),N=Math.max(0,Math.min(w.y2,v.y2)-Math.max(w.y,v.y)),T=Math.ceil(b*N);return T>0}function XO(e,t){var n,r,i,o,s,u=e.get(t),h=(u==null||(n=u[ar])===null||n===void 0?void 0:n.handleBounds)||null,m=!u||!h||!u.width||!u.height||typeof((r=u.positionAbsolute)===null||r===void 0?void 0:r.x)=="undefined"||typeof((i=u.positionAbsolute)===null||i===void 0?void 0:i.y)=="undefined";return[{x:(u==null||(o=u.positionAbsolute)===null||o===void 0?void 0:o.x)||0,y:(u==null||(s=u.positionAbsolute)===null||s===void 0?void 0:s.y)||0,width:(u==null?void 0:u.width)||0,height:(u==null?void 0:u.height)||0},h,!m]}var t6=typeof document!="undefined"?document:null,Jg=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{target:t6},n=Q.exports.useState(!1),r=$t(n,2),i=r[0],o=r[1],s=Q.exports.useRef(new Set([])),u=Q.exports.useMemo(function(){if(e!==null){var w=Array.isArray(e)?e:[e],b=w.filter(function(T){return typeof T=="string"}).map(function(T){return T.split("+")}),N=b.reduce(function(T,R){return T.concat.apply(T,vu(R))},[]);return[b,N]}return[[],[]]},[e]),h=$t(u,2),m=h[0],v=h[1];return Q.exports.useEffect(function(){if(e!==null){var w,b,N=function(E){if(ZO(E))return!1;var I=QO(E.code,v);s.current.add(E[I]),JO(m,s.current,!1)&&(E.preventDefault(),o(!0))},T=function(E){if(ZO(E))return!1;var I=QO(E.code,v);JO(m,s.current,!0)?(o(!1),s.current.clear()):s.current.delete(E[I])},R=function(){s.current.clear(),o(!1)};return t==null||(w=t.target)===null||w===void 0||w.addEventListener("keydown",N),t==null||(b=t.target)===null||b===void 0||b.addEventListener("keyup",T),window.addEventListener("blur",R),function(){var S,E;t==null||(S=t.target)===null||S===void 0||S.removeEventListener("keydown",N),t==null||(E=t.target)===null||E===void 0||E.removeEventListener("keyup",T),window.removeEventListener("blur",R)}}},[e,o]),i};function JO(e,t,n){return e.filter(function(r){return n||r.length===t.size}).some(function(r){return r.every(function(i){return t.has(i)})})}function QO(e,t){return t.includes(e)?"code":"key"}function ZO(e){var t=e.target;return["INPUT","SELECT","TEXTAREA"].includes(t==null?void 0:t.nodeName)||(t==null?void 0:t.hasAttribute("contenteditable"))}var n6=function(t){return{onNodesChange:t.onNodesChange,onEdgesChange:t.onEdgesChange}},r6=function(e){var t=e.deleteKeyCode,n=e.multiSelectionKeyCode,r=ni(),i=ur(n6,Ei),o=i.onNodesChange,s=i.onEdgesChange,u=Jg(t),h=Jg(n);Q.exports.useEffect(function(){var m=r.getState(),v=m.nodeInternals,w=m.edges,b=m.hasDefaultNodes,N=m.hasDefaultEdges,T=m.onNodesDelete,R=m.onEdgesDelete,S=Array.from(v.values()),E=S.reduce(function(M,F){return(!F.selected&&F.parentNode&&M.find(function(U){return U.id===F.parentNode})||F.selected)&&M.push(F),M},[]),I=w.filter(function(M){return M.selected});if(u&&(E||I)){var P=ok(E,w),O=[].concat(vu(I),vu(P)),B=O.reduce(function(M,F){return M.includes(F.id)||M.push(F.id),M},[]);if((N||b)&&(N&&r.setState({edges:w.filter(function(M){return!B.includes(M.id)})}),b&&(E.forEach(function(M){v.delete(M.id)}),r.setState({nodeInternals:new Map(v)}))),B.length>0&&(R==null||R(O),s)){var A=B.map(function(M){return{id:M,type:"remove"}});s(A)}if(E.length>0&&(T==null||T(E),o)){var z=E.map(function(M){return{id:M.id,type:"remove"}});o(z)}r.setState({nodesSelectionActive:!1})}},[u,o,s]),Q.exports.useEffect(function(){r.setState({multiSelectionActive:h})},[h])};function i6(e){var t=ni();Q.exports.useEffect(function(){var n,r=function(){if(!!e.current){var o=iC(e.current);t.setState({width:o.width||500,height:o.height||500})}};return r(),window.onresize=r,e.current&&(n=new ResizeObserver(function(){return r()}),n.observe(e.current)),function(){window.onresize=null,n&&e.current&&n.unobserve(e.current)}},[])}var o6=function(t,n){return t.x!==n.x||t.y!==n.y||t.zoom!==n.k},Tb=function(t){return{x:t.x,y:t.y,zoom:t.k}},Em=function(t,n){return t.target.closest(".".concat(n))},a6=function(t){return{d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler}},s6=function(t){var n=t.onMove,r=t.onMoveStart,i=t.onMoveEnd,o=t.zoomOnScroll,s=o===void 0?!0:o,u=t.zoomOnPinch,h=u===void 0?!0:u,m=t.panOnScroll,v=m===void 0?!1:m,w=t.panOnScrollSpeed,b=w===void 0?.5:w,N=t.panOnScrollMode,T=N===void 0?Hc.Free:N,R=t.zoomOnDoubleClick,S=R===void 0?!0:R,E=t.selectionKeyPressed,I=t.elementsSelectable,P=t.panOnDrag,O=P===void 0?!0:P,B=t.defaultPosition,A=B===void 0?[0,0]:B,z=t.defaultZoom,M=z===void 0?1:z,F=t.zoomActivationKeyCode,U=t.preventScrolling,W=U===void 0?!0:U,G=t.children,te=t.noWheelClassName,V=t.noPanClassName,oe=ni(),ne=Q.exports.useRef(!1),J=Q.exports.useRef(null),Y=Q.exports.useRef({x:0,y:0,zoom:0}),X=ur(a6,Ei),re=X.d3Zoom,ie=X.d3Selection,ce=X.d3ZoomHandler,ye=Jg(F);return i6(J),Q.exports.useEffect(function(){if(J.current){var ge,fe=oe.getState(),Me=fe.minZoom,je=fe.maxZoom,Ae=fe.translateExtent,_e=r4().scaleExtent([Me,je]).translateExtent(Ae),be=Co(J.current).call(_e),De=Gc(A[0],Ae[0][0],Ae[1][0]),Re=Gc(A[1],Ae[0][1],Ae[1][1]),Ge=Gc(M,Me,je),ht=gu.translate(De,Re).scale(Ge);_e.transform(be,ht),oe.setState({d3Zoom:_e,d3Selection:be,d3ZoomHandler:be.on("wheel.zoom"),transform:[De,Re,Ge],domNode:(ge=be.node())===null||ge===void 0?void 0:ge.closest(".react-flow")})}},[]),Q.exports.useEffect(function(){ie&&re&&(v&&!ye?ie.on("wheel",function(ge){if(Em(ge,te))return!1;ge.preventDefault(),ge.stopImmediatePropagation();var fe=ie.property("__zoom").k||1;if(ge.ctrlKey&&h){var Me=ra(ge),je=-ge.deltaY*(ge.deltaMode===1?.05:ge.deltaMode?1:.002)*10,Ae=fe*Math.pow(2,je);re.scaleTo(ie,Ae,Me);return}var _e=ge.deltaMode===1?20:1,be=T===Hc.Vertical?0:ge.deltaX*_e,De=T===Hc.Horizontal?0:ge.deltaY*_e;re.translateBy(ie,-(be/fe)*b,-(De/fe)*b)}).on("wheel.zoom",null):typeof ce!="undefined"&&ie.on("wheel",function(ge){if(!W||Em(ge,te))return null;ge.preventDefault()}).on("wheel.zoom",ce))},[v,T,ie,re,ce,ye,h,W,te]),Q.exports.useEffect(function(){re&&(E&&!ne.current?re.on("zoom",null):E||re.on("zoom",function(ge){if(oe.setState({transform:[ge.transform.x,ge.transform.y,ge.transform.k]}),n){var fe=Tb(ge.transform);n(ge.sourceEvent,fe)}}))},[E,re,n]),Q.exports.useEffect(function(){re&&re.on("start",function(ge){if(ne.current=!0,r){var fe=Tb(ge.transform);Y.current=fe,r(ge.sourceEvent,fe)}})},[re,r]),Q.exports.useEffect(function(){re&&re.on("end",function(ge){if(ne.current=!1,i&&o6(Y.current,ge.transform)){var fe=Tb(ge.transform);Y.current=fe,i(ge.sourceEvent,fe)}})},[re,i]),Q.exports.useEffect(function(){re&&re.filter(function(ge){var fe=ye||s,Me=h&&ge.ctrlKey;return!O&&!fe&&!v&&!S&&!h||E||!S&&ge.type==="dblclick"||Em(ge,te)&&ge.type==="wheel"||Em(ge,V)&&ge.type!=="wheel"||!h&&ge.ctrlKey&&ge.type==="wheel"||!fe&&!v&&!Me&&ge.type==="wheel"||!O&&(ge.type==="mousedown"||ge.type==="touchstart")?!1:(!ge.ctrlKey||ge.type==="wheel")&&!ge.button})},[re,s,h,v,S,O,E,I,ye]),y("div",{className:"react-flow__renderer react-flow__container",ref:J,children:G})};function e_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function t_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e_(Object(n),!0).forEach(function(r){Jt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n_(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}var l6=function(t){return{userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable}},r_={startX:0,startY:0,x:0,y:0,width:0,height:0,draw:!1},u6=Q.exports.memo(function(e){var t=e.selectionKeyPressed,n=ni(),r=Q.exports.useRef(0),i=Q.exports.useRef(0),o=Q.exports.useRef(),s=Q.exports.useState(r_),u=$t(s,2),h=u[0],m=u[1],v=ur(l6,Ei),w=v.userSelectionActive,b=v.elementsSelectable,N=w||t;if(!b||!N)return null;var T=function(){m(r_),n.setState({userSelectionActive:!1}),r.current=0,i.current=0},R=function(O){var B=O.target.closest(".react-flow");o.current=B.getBoundingClientRect();var A=n_(O,o.current);m({width:0,height:0,startX:A.x,startY:A.y,x:A.x,y:A.y,draw:!0}),n.setState({userSelectionActive:!0,nodesSelectionActive:!1})},S=function(O){var B,A;if(!(!t||!h.draw||!o.current)){var z=n_(O,o.current),M=(B=h.startX)!==null&&B!==void 0?B:0,F=(A=h.startY)!==null&&A!==void 0?A:0,U=t_(t_({},h),{},{x:z.x<M?z.x:M,y:z.y<F?z.y:F,width:Math.abs(z.x-M),height:Math.abs(z.y-F)}),W=n.getState(),G=W.nodeInternals,te=W.edges,V=W.transform,oe=W.onNodesChange,ne=W.onEdgesChange,J=Array.from(G.values()),Y=ik(G,U,V,!1,!0),X=ok(Y,te).map(function(ye){return ye.id}),re=Y.map(function(ye){return ye.id});if(r.current!==re.length){r.current=re.length;var ie=Rc(J,re);ie.length&&(oe==null||oe(ie))}if(i.current!==X.length){i.current=X.length;var ce=Rc(te,X);ce.length&&(ne==null||ne(ce))}m(U)}},E=function(){n.setState({nodesSelectionActive:r.current>0}),T()},I=function(){n.setState({nodesSelectionActive:!1}),T()};return y("div",{className:"react-flow__selectionpane react-flow__container",onMouseDown:R,onMouseMove:S,onMouseUp:E,onMouseLeave:I,children:h.draw&&y("div",{className:"react-flow__selection react-flow__container",style:{width:h.width,height:h.height,transform:"translate(".concat(h.x,"px, ").concat(h.y,"px)")}})})});function i_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function o_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i_(Object(n),!0).forEach(function(r){Jt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ek(e,t){if(!e.parentNode)return!1;var n=t.get(e.parentNode);return n?n.selected?!0:Ek(n,t):!1}function a_(e,t,n){var r=e;do{var i;if((i=r)!==null&&i!==void 0&&i.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function c6(e,t,n){return Array.from(e.values()).filter(function(r){return(r.selected||r.id===n)&&(!r.parentNode||!Ek(r,e))}).map(function(r){var i,o,s,u;return{id:r.id,position:r.position||{x:0,y:0},positionAbsolute:r.positionAbsolute||{x:0,y:0},distance:{x:t.x-((i=(o=r.positionAbsolute)===null||o===void 0?void 0:o.x)!==null&&i!==void 0?i:0),y:t.y-((s=(u=r.positionAbsolute)===null||u===void 0?void 0:u.y)!==null&&s!==void 0?s:0)},delta:{x:0,y:0},extent:r.extent,parentNode:r.parentNode,width:r.width,height:r.height}})}function f6(e,t,n,r){var i=e.extent||r,o={x:t.x-e.distance.x,y:t.y-e.distance.y};if(e.extent==="parent")if(e.parentNode&&e.width&&e.height){var s=n.get(e.parentNode);i=s!=null&&s.positionAbsolute&&s!==null&&s!==void 0&&s.width&&s!==null&&s!==void 0&&s.height?[[s.positionAbsolute.x,s.positionAbsolute.y],[s.positionAbsolute.x+s.width-e.width,s.positionAbsolute.y+s.height-e.height]]:i}else i=r;else if(e.extent&&e.parentNode){var u,h,m,v,w=n.get(e.parentNode),b=(u=w==null||(h=w.positionAbsolute)===null||h===void 0?void 0:h.x)!==null&&u!==void 0?u:0,N=(m=w==null||(v=w.positionAbsolute)===null||v===void 0?void 0:v.y)!==null&&m!==void 0?m:0;i=[[e.extent[0][0]+b,e.extent[0][1]+N],[e.extent[1][0]+b,e.extent[1][1]+N]]}var T={x:0,y:0};if(e.parentNode){var R,S,E,I,P=n.get(e.parentNode);T={x:(R=P==null||(S=P.positionAbsolute)===null||S===void 0?void 0:S.x)!==null&&R!==void 0?R:0,y:(E=P==null||(I=P.positionAbsolute)===null||I===void 0?void 0:I.y)!==null&&E!==void 0?E:0}}return e.positionAbsolute=i?XP(o,i):o,e.position={x:e.positionAbsolute.x-T.x,y:e.positionAbsolute.y-T.y},e}function Ob(e){var t=e.nodeId,n=e.dragItems,r=e.nodeInternals,i=n.map(function(o){var s=r.get(o.id);return o_(o_({},s),{},{position:o.position,positionAbsolute:o.positionAbsolute})});return[t?i.find(function(o){return o.id===t}):i[0],i]}function _b(e){return function(t,n,r){return e==null?void 0:e(t,r)}}function Ck(e){var t=e.nodeRef,n=e.disabled,r=n===void 0?!1:n,i=e.noDragClassName,o=e.handleSelector,s=e.nodeId,u=e.isSelectable,h=e.selectNodesOnDrag,m=Q.exports.useState(!1),v=$t(m,2),w=v[0],b=v[1],N=ni(),T=Q.exports.useRef(),R=Q.exports.useRef({x:null,y:null}),S=Q.exports.useCallback(function(E){var I=E.sourceEvent,P=N.getState(),O=P.transform,B=P.snapGrid,A=P.snapToGrid,z=I.touches?I.touches[0].clientX:I.clientX,M=I.touches?I.touches[0].clientY:I.clientY,F=rk({x:z,y:M},O,A,B);return F},[]);return Q.exports.useEffect(function(){if(t!=null&&t.current){var E=Co(t.current);if(r)E.on(".drag",null);else{var I=hH().on("start",function(P){var O=N.getState(),B=O.nodeInternals,A=O.multiSelectionActive,z=O.unselectNodesAndEdges,M=O.onNodeDragStart,F=O.onSelectionDragStart,U=s?M:_b(F);if(!h&&!A&&s){var W;(W=B.get(s))!==null&&W!==void 0&&W.selected||z()}s&&u&&h&&nk({id:s,store:N});var G=S(P);if(R.current=G,T.current=c6(B,G,s),U&&T.current){var te=Ob({nodeId:s,dragItems:T.current,nodeInternals:B}),V=$t(te,2),oe=V[0],ne=V[1];U(P.sourceEvent,oe,ne)}}).on("drag",function(P){var O=N.getState(),B=O.updateNodePositions,A=O.nodeInternals,z=O.nodeExtent,M=O.onNodeDrag,F=O.onSelectionDrag,U=S(P);if((R.current.x!==U.x||R.current.y!==U.y)&&T.current){R.current=U,T.current=T.current.map(function(ne){return f6(ne,U,A,z)});var W=s?M:_b(F);if(B(T.current,!0,!0),b(!0),W){var G=Ob({nodeId:s,dragItems:T.current,nodeInternals:A}),te=$t(G,2),V=te[0],oe=te[1];W(P.sourceEvent,V,oe)}}P.on("end",function(ne){if(b(!1),T.current){var J=N.getState(),Y=J.updateNodePositions,X=J.nodeInternals,re=J.onNodeDragStop,ie=J.onSelectionDragStop,ce=s?re:_b(ie);if(Y(T.current,!1,!1),ce){var ye=Ob({nodeId:s,dragItems:T.current,nodeInternals:X}),ge=$t(ye,2),fe=ge[0],Me=ge[1];ce(ne.sourceEvent,fe,Me)}}})}).filter(function(P){var O=P.target,B=!P.button&&(!i||!a_(O,".".concat(i),t))&&(!o||a_(O,o,t));return B});return E.call(I),function(){E.on(".drag",null)}}}},[t,r,i,o,u,N,s,h,S]),w}function s_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function d6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s_(Object(n),!0).forEach(function(r){Jt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var h6=function(t){return d6({transformString:"translate(".concat(t.transform[0],"px,").concat(t.transform[1],"px) scale(").concat(t.transform[2],")"),userSelectionActive:t.userSelectionActive},oC(Array.from(t.nodeInternals.values()).filter(function(n){return n.selected})))},p6=function(t){var n=Array.from(t.nodeInternals.values()).filter(function(r){return r.selected});return oC(n)};function m6(e){var t=e.onSelectionContextMenu,n=e.noPanClassName,r=ni(),i=ur(h6,Ei),o=i.transformString,s=i.userSelectionActive,u=ur(p6,Ei),h=u.width,m=u.height,v=u.x,w=u.y,b=Q.exports.useRef(null);if(Ck({nodeRef:b}),s||!h||!m)return null;var N=t?function(T){var R=Array.from(r.getState().nodeInternals.values()).filter(function(S){return S.selected});t(T,R)}:void 0;return y("div",{className:va(["react-flow__nodesselection","react-flow__container",n]),style:{transform:o},children:y("div",{ref:b,className:"react-flow__nodesselection-rect",onContextMenu:N,style:{width:h,height:m,top:w,left:v}})})}var g6=Q.exports.memo(m6),v6=function(t){return t.nodesSelectionActive},xk=function(t){var n=t.children,r=t.onPaneClick,i=t.onPaneContextMenu,o=t.onPaneScroll,s=t.deleteKeyCode,u=t.onMove,h=t.onMoveStart,m=t.onMoveEnd,v=t.selectionKeyCode,w=t.multiSelectionKeyCode,b=t.zoomActivationKeyCode,N=t.elementsSelectable,T=t.zoomOnScroll,R=t.zoomOnPinch,S=t.panOnScroll,E=t.panOnScrollSpeed,I=t.panOnScrollMode,P=t.zoomOnDoubleClick,O=t.panOnDrag,B=t.defaultPosition,A=t.defaultZoom,z=t.preventScrolling,M=t.onSelectionContextMenu,F=t.noWheelClassName,U=t.noPanClassName,W=ni(),G=ur(v6),te=Jg(v);r6({deleteKeyCode:s,multiSelectionKeyCode:w});var V=function(Y){r==null||r(Y),W.getState().resetSelectedElements(),W.setState({nodesSelectionActive:!1})},oe=i?function(J){return i(J)}:void 0,ne=o?function(J){return o(J)}:void 0;return K(s6,{onMove:u,onMoveStart:h,onMoveEnd:m,selectionKeyPressed:te,elementsSelectable:N,zoomOnScroll:T,zoomOnPinch:R,panOnScroll:S,panOnScrollSpeed:E,panOnScrollMode:I,zoomOnDoubleClick:P,panOnDrag:O,defaultPosition:B,defaultZoom:A,zoomActivationKeyCode:b,preventScrolling:z,noWheelClassName:F,noPanClassName:U,children:[n,y(u6,{selectionKeyPressed:te}),G&&y(g6,{onSelectionContextMenu:M,noPanClassName:U}),y("div",{className:"react-flow__pane react-flow__container",onClick:V,onContextMenu:oe,onWheel:ne})]})};xk.displayName="FlowRenderer";var y6=Q.exports.memo(xk);function w6(e){var t=ur(Q.exports.useCallback(function(n){return e?ik(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):Array.from(n.nodeInternals.values())},[e]));return t}var b6=function(t){return{nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions}},Nk=function(t){var n=ur(b6,Ei),r=n.nodesDraggable,i=n.nodesConnectable,o=n.elementsSelectable,s=n.updateNodeDimensions,u=w6(t.onlyRenderVisibleElements),h=Q.exports.useRef(),m=Q.exports.useMemo(function(){if(typeof ResizeObserver=="undefined")return null;var v=new ResizeObserver(function(w){var b=w.map(function(N){return{id:N.target.getAttribute("data-id"),nodeElement:N.target,forceUpdate:!0}});s(b)});return h.current=v,v},[]);return Q.exports.useEffect(function(){return function(){var v;h==null||(v=h.current)===null||v===void 0||v.disconnect()}},[]),y("div",{className:"react-flow__nodes react-flow__container",children:u.map(function(v){var w,b,N,T,R,S,E,I=v.type||"default";t.nodeTypes[I]||(I="default");var P=t.nodeTypes[I]||t.nodeTypes.default,O=!!(v.draggable||r&&typeof v.draggable=="undefined"),B=!!(v.selectable||o&&typeof v.selectable=="undefined"),A=!!(v.connectable||i&&typeof v.connectable=="undefined");return y(P,{id:v.id,className:v.className,style:v.style,type:I,data:v.data,sourcePosition:v.sourcePosition||Ve.Bottom,targetPosition:v.targetPosition||Ve.Top,hidden:v.hidden,xPos:(w=(b=v.positionAbsolute)===null||b===void 0?void 0:b.x)!==null&&w!==void 0?w:0,yPos:(N=(T=v.positionAbsolute)===null||T===void 0?void 0:T.y)!==null&&N!==void 0?N:0,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!v.selected,isDraggable:O,isSelectable:B,isConnectable:A,resizeObserver:m,dragHandle:v.dragHandle,zIndex:(R=(S=v[ar])===null||S===void 0?void 0:S.z)!==null&&R!==void 0?R:0,isParent:!!((E=v[ar])!==null&&E!==void 0&&E.isParent),noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!v.width&&!!v.height},v.id)})})};Nk.displayName="NodeRenderer";var S6=Q.exports.memo(Nk),yc;function l_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function u_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l_(Object(n),!0).forEach(function(r){Jt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var E6=(yc={},Jt(yc,Ve.Left,Ve.Right),Jt(yc,Ve.Right,Ve.Left),Jt(yc,Ve.Top,Ve.Bottom),Jt(yc,Ve.Bottom,Ve.Top),yc),C6=function(e){var t,n,r,i,o,s=e.connectionNodeId,u=e.connectionHandleType,h=e.connectionLineStyle,m=e.connectionLineType,v=m===void 0?Rs.Bezier:m,w=e.isConnectable,b=e.CustomConnectionLineComponent,N=ur(Q.exports.useCallback(function(X){return{fromNode:X.nodeInternals.get(s),handleId:X.connectionHandleId,toX:(X.connectionPosition.x-X.transform[0])/X.transform[2],toY:(X.connectionPosition.y-X.transform[1])/X.transform[2]}},[s]),Ei),T=N.fromNode,R=N.handleId,S=N.toX,E=N.toY,I=T==null||(t=T[ar])===null||t===void 0?void 0:t.handleBounds;if(!T||!w||!(I!=null&&I[u]))return null;var P=I[u],O=R?P.find(function(X){return X.id===R}):P[0],B=O?O.x+O.width/2:((n=T==null?void 0:T.width)!==null&&n!==void 0?n:0)/2,A=O?O.y+O.height/2:(r=T==null?void 0:T.height)!==null&&r!==void 0?r:0,z=((T==null||(i=T.positionAbsolute)===null||i===void 0?void 0:i.x)||0)+B,M=((T==null||(o=T.positionAbsolute)===null||o===void 0?void 0:o.y)||0)+A,F=O==null?void 0:O.position;if(!F)return null;var U=E6[F],W,G,te,V,oe,ne;switch(u){case"source":W=z,G=M,te=F,V=S,oe=E,ne=U;break;case"target":W=S,G=E,te=U,V=z,oe=M,ne=F;break}if(b)return y("g",{className:"react-flow__connection",children:y(b,{connectionLineType:v,connectionLineStyle:h,fromNode:T,fromHandle:O,fromX:z,fromY:M,toX:S,toY:E,fromPosition:F,toPosition:U,sourcePosition:te,targetPosition:ne,sourceNode:T,sourceHandle:O,targetX:V,targetY:oe,sourceX:W,sourceY:G})});var J="",Y={sourceX:W,sourceY:G,sourcePosition:te,targetX:V,targetY:oe,targetPosition:ne};return v===Rs.Bezier?J=pk(Y):v===Rs.Step?J=rS(u_(u_({},Y),{},{borderRadius:0})):v===Rs.SmoothStep?J=rS(Y):v===Rs.SimpleBezier?J=uk(Y):J="M".concat(W,",").concat(G," ").concat(V,",").concat(oe),y("g",{className:"react-flow__connection",children:y("path",{d:J,className:"react-flow__connection-path",style:h})})};function sS(e){return sS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sS(e)}var Cm,x6=function(t){var n=t.color,r=n===void 0?"none":n,i=t.strokeWidth,o=i===void 0?1:i;return y("polyline",{stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:o,fill:"none",points:"-5,-4 0,0 -5,4"})},N6=function(t){var n=t.color,r=n===void 0?"none":n,i=t.strokeWidth,o=i===void 0?1:i;return y("polyline",{stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:o,fill:r,points:"-5,-4 0,0 -5,4 -5,-4"})},c_=(Cm={},Jt(Cm,Hg.Arrow,x6),Jt(Cm,Hg.ArrowClosed,N6),Cm);function I6(e){var t=Q.exports.useMemo(function(){var n=c_.hasOwnProperty(e);return n?c_[e]:function(){return null}},[e]);return t}function f_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function T6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f_(Object(n),!0).forEach(function(r){Jt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var O6=function(t){var n=t.id,r=t.type,i=t.color,o=t.width,s=o===void 0?12.5:o,u=t.height,h=u===void 0?12.5:u,m=t.markerUnits,v=m===void 0?"strokeWidth":m,w=t.strokeWidth,b=t.orient,N=b===void 0?"auto":b,T=I6(r);return Yr.createElement("marker",{className:"react-flow__arrowhead",id:n,markerWidth:"".concat(s),markerHeight:"".concat(h),viewBox:"-10 -10 20 20",markerUnits:v,orient:N,refX:"0",refY:"0"},Yr.createElement(T,{color:i,strokeWidth:w}))},_6=function(t){var n=t.defaultColor,r=t.rfId;return function(i){var o=[];return i.edges.reduce(function(s,u){return[u.markerStart,u.markerEnd].forEach(function(h){if(h&&sS(h)==="object"){var m=nS(h,r);o.includes(m)||(s.push(T6({id:m,color:h.color||n},h)),o.push(m))}}),s},[]).sort(function(s,u){return s.id.localeCompare(u.id)})}},Ik=function(t){var n=t.defaultColor,r=t.rfId,i=ur(Q.exports.useCallback(_6({defaultColor:n,rfId:r}),[n,r]),function(o,s){return!(o.length!==s.length||o.some(function(u,h){return u.id!==s[h].id}))});return y("defs",{children:i.map(function(o){return y(O6,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id)})})};Ik.displayName="MarkerDefinitions";var A6=Q.exports.memo(Ik),R6=[{level:0,isMaxLevel:!0,edges:[]}];function P6(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=-1,i=e.reduce(function(s,u){var h=QP(u.zIndex),m=h?u.zIndex:0;if(n){var v,w,b,N;m=h?u.zIndex:Math.max(((v=t.get(u.source))===null||v===void 0||(w=v[ar])===null||w===void 0?void 0:w.z)||0,((b=t.get(u.target))===null||b===void 0||(N=b[ar])===null||N===void 0?void 0:N.z)||0)}return s[m]?s[m].push(u):s[m]=[u],r=m>r?m:r,s},{}),o=Object.entries(i).map(function(s){var u=$t(s,2),h=u[0],m=u[1],v=+h;return{edges:m,level:v,isMaxLevel:v===r}});return o.length===0?R6:o}function k6(e,t,n){var r=ur(Q.exports.useCallback(function(i){return e?i.edges.filter(function(o){var s=t.get(o.source),u=t.get(o.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(u==null?void 0:u.width)&&(u==null?void 0:u.height)&&e6({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:u.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:u.width,targetHeight:u.height,width:i.width,height:i.height,transform:i.transform})}):i.edges},[e,t]));return P6(r,t,n)}var D6=function(t){return{connectionNodeId:t.connectionNodeId,connectionHandleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals}},Tk=function(t){var n=ur(D6,Ei),r=n.connectionNodeId,i=n.connectionHandleType,o=n.nodesConnectable,s=n.elementsSelectable,u=n.width,h=n.height,m=n.connectionMode,v=n.nodeInternals,w=k6(t.onlyRenderVisibleElements,v,t.elevateEdgesOnSelect);if(!u)return null;var b=t.connectionLineType,N=t.defaultMarkerColor,T=t.connectionLineStyle,R=t.connectionLineComponent,S=t.connectionLineContainerStyle,E=r&&i;return K(Qt,{children:[w.map(function(I){var P=I.level,O=I.edges,B=I.isMaxLevel;return K("svg",{style:{zIndex:P},width:u,height:h,className:"react-flow__edges react-flow__container",children:[B&&y(A6,{defaultColor:N,rfId:t.rfId}),y("g",{children:O.map(function(A){var z=XO(v,A.source),M=$t(z,3),F=M[0],U=M[1],W=M[2],G=XO(v,A.target),te=$t(G,3),V=te[0],oe=te[1],ne=te[2];if(!W||!ne)return null;var J=A.type||"default",Y=t.edgeTypes[J]||t.edgeTypes.default,X=m===lf.Strict?oe.target:oe.target||oe.source,re=YO(U.source,A.sourceHandle||null),ie=YO(X,A.targetHandle||null),ce=(re==null?void 0:re.position)||Ve.Bottom,ye=(ie==null?void 0:ie.position)||Ve.Top;if(!re||!ie)return null;var ge=Z4(F,re,ce,V,ie,ye),fe=ge.sourceX,Me=ge.sourceY,je=ge.targetX,Ae=ge.targetY;return y(Y,{id:A.id,className:va([A.className,t.noPanClassName]),type:J,data:A.data,selected:!!A.selected,animated:!!A.animated,hidden:!!A.hidden,label:A.label,labelStyle:A.labelStyle,labelShowBg:A.labelShowBg,labelBgStyle:A.labelBgStyle,labelBgPadding:A.labelBgPadding,labelBgBorderRadius:A.labelBgBorderRadius,style:A.style,source:A.source,target:A.target,sourceHandleId:A.sourceHandle,targetHandleId:A.targetHandle,markerEnd:A.markerEnd,markerStart:A.markerStart,sourceX:fe,sourceY:Me,targetX:je,targetY:Ae,sourcePosition:ce,targetPosition:ye,elementsSelectable:s,onEdgeUpdate:t.onEdgeUpdate,onContextMenu:t.onEdgeContextMenu,onMouseEnter:t.onEdgeMouseEnter,onMouseMove:t.onEdgeMouseMove,onMouseLeave:t.onEdgeMouseLeave,onClick:t.onEdgeClick,edgeUpdaterRadius:t.edgeUpdaterRadius,onEdgeDoubleClick:t.onEdgeDoubleClick,onEdgeUpdateStart:t.onEdgeUpdateStart,onEdgeUpdateEnd:t.onEdgeUpdateEnd,rfId:t.rfId},A.id)})})]},P)}),E&&y("svg",{style:S,width:u,height:h,className:"react-flow__edges react-flow__connectionline react-flow__container",children:y(C6,{connectionNodeId:r,connectionHandleType:i,connectionLineStyle:T,connectionLineType:b,isConnectable:o,CustomConnectionLineComponent:R})})]})};Tk.displayName="EdgeRenderer";var L6=Q.exports.memo(Tk),M6=function(t){return"translate(".concat(t.transform[0],"px,").concat(t.transform[1],"px) scale(").concat(t.transform[2],")")};function z6(e){var t=e.children,n=ur(M6);return y("div",{className:"react-flow__viewport react-flow__container",style:{transform:n},children:t})}function B6(e){var t=I4(),n=Q.exports.useRef(!1);Q.exports.useEffect(function(){!n.current&&t.viewportInitialized&&e&&(setTimeout(function(){return e(t)},1),n.current=!0)},[e,t.viewportInitialized])}var Ok=function(t){var n=t.nodeTypes,r=t.edgeTypes,i=t.onMove,o=t.onMoveStart,s=t.onMoveEnd,u=t.onInit,h=t.onNodeClick,m=t.onEdgeClick,v=t.onNodeDoubleClick,w=t.onEdgeDoubleClick,b=t.onNodeMouseEnter,N=t.onNodeMouseMove,T=t.onNodeMouseLeave,R=t.onNodeContextMenu,S=t.onSelectionContextMenu,E=t.connectionLineType,I=t.connectionLineStyle,P=t.connectionLineComponent,O=t.connectionLineContainerStyle,B=t.selectionKeyCode,A=t.multiSelectionKeyCode,z=t.zoomActivationKeyCode,M=t.deleteKeyCode,F=t.onlyRenderVisibleElements,U=t.elementsSelectable,W=t.selectNodesOnDrag,G=t.defaultZoom,te=t.defaultPosition,V=t.preventScrolling,oe=t.defaultMarkerColor,ne=t.zoomOnScroll,J=t.zoomOnPinch,Y=t.panOnScroll,X=t.panOnScrollSpeed,re=t.panOnScrollMode,ie=t.zoomOnDoubleClick,ce=t.panOnDrag,ye=t.onPaneClick,ge=t.onPaneScroll,fe=t.onPaneContextMenu,Me=t.onEdgeUpdate,je=t.onEdgeContextMenu,Ae=t.onEdgeMouseEnter,_e=t.onEdgeMouseMove,be=t.onEdgeMouseLeave,De=t.edgeUpdaterRadius,Re=t.onEdgeUpdateStart,Ge=t.onEdgeUpdateEnd,ht=t.noDragClassName,Dt=t.noWheelClassName,He=t.noPanClassName,le=t.elevateEdgesOnSelect,ve=t.id;return B6(u),y(y6,{onPaneClick:ye,onPaneContextMenu:fe,onPaneScroll:ge,deleteKeyCode:M,selectionKeyCode:B,multiSelectionKeyCode:A,zoomActivationKeyCode:z,elementsSelectable:U,onMove:i,onMoveStart:o,onMoveEnd:s,zoomOnScroll:ne,zoomOnPinch:J,zoomOnDoubleClick:ie,panOnScroll:Y,panOnScrollSpeed:X,panOnScrollMode:re,panOnDrag:ce,defaultPosition:te,defaultZoom:G,onSelectionContextMenu:S,preventScrolling:V,noDragClassName:ht,noWheelClassName:Dt,noPanClassName:He,children:K(z6,{children:[y(L6,{edgeTypes:r,onEdgeClick:m,onEdgeDoubleClick:w,connectionLineType:E,connectionLineStyle:I,connectionLineComponent:P,connectionLineContainerStyle:O,onEdgeUpdate:Me,onlyRenderVisibleElements:F,onEdgeContextMenu:je,onEdgeMouseEnter:Ae,onEdgeMouseMove:_e,onEdgeMouseLeave:be,onEdgeUpdateStart:Re,onEdgeUpdateEnd:Ge,edgeUpdaterRadius:De,defaultMarkerColor:oe,noPanClassName:He,elevateEdgesOnSelect:!!le,rfId:ve}),y(S6,{nodeTypes:n,onNodeClick:h,onNodeDoubleClick:v,onNodeMouseEnter:b,onNodeMouseMove:N,onNodeMouseLeave:T,onNodeContextMenu:R,selectNodesOnDrag:W,onlyRenderVisibleElements:F,noPanClassName:He,noDragClassName:ht})]})})};Ok.displayName="GraphView";var F6=Q.exports.memo(Ok),_k=function(){return null};_k.displayName="GroupNode";function d_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function h_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d_(Object(n),!0).forEach(function(r){Jt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Nd=function(e){var t=function(r){var i=r.id,o=r.type,s=r.data,u=r.xPos,h=r.yPos,m=r.selected,v=r.onClick,w=r.onMouseEnter,b=r.onMouseMove,N=r.onMouseLeave,T=r.onContextMenu,R=r.onDoubleClick,S=r.style,E=r.className,I=r.isDraggable,P=r.isSelectable,O=r.isConnectable,B=r.selectNodesOnDrag,A=r.sourcePosition,z=r.targetPosition,M=r.hidden,F=r.resizeObserver,U=r.dragHandle,W=r.zIndex,G=r.isParent,te=r.noPanClassName,V=r.noDragClassName,oe=r.initialized,ne=ni(),J=Q.exports.useRef(null),Y=Q.exports.useRef(A),X=Q.exports.useRef(z),re=Q.exports.useRef(o),ie=P||I||v||w||b||N,ce=Cd(i,ne.getState,w),ye=Cd(i,ne.getState,b),ge=Cd(i,ne.getState,N),fe=Cd(i,ne.getState,T),Me=Cd(i,ne.getState,R),je=function(be){if(P&&(!B||!I)&&nk({id:i,store:ne}),v){var De=ne.getState().nodeInternals.get(i);v(be,h_({},De))}};Q.exports.useEffect(function(){if(J.current&&!M){var _e=J.current;return F==null||F.observe(_e),function(){return F==null?void 0:F.unobserve(_e)}}},[M]),Q.exports.useEffect(function(){var _e=re.current!==o,be=Y.current!==A,De=X.current!==z;J.current&&(_e||be||De)&&(_e&&(re.current=o),be&&(Y.current=A),De&&(X.current=z),ne.getState().updateNodeDimensions([{id:i,nodeElement:J.current,forceUpdate:!0}]))},[i,o,A,z]);var Ae=Ck({nodeRef:J,disabled:M||!I,noDragClassName:V,handleSelector:U,nodeId:i,isSelectable:P,selectNodesOnDrag:B});return M?null:y("div",{className:va(["react-flow__node","react-flow__node-".concat(o),te,E,{selected:m,selectable:P,parent:G}]),ref:J,style:h_({zIndex:W,transform:"translate(".concat(u,"px,").concat(h,"px)"),pointerEvents:ie?"all":"none",visibility:oe?"visible":"hidden"},S),onMouseEnter:ce,onMouseMove:ye,onMouseLeave:ge,onContextMenu:fe,onClick:je,onDoubleClick:Me,"data-id":i,children:y(M4,{value:i,children:y(e,{id:i,data:s,type:o,xPos:u,yPos:h,selected:m,isConnectable:O,sourcePosition:A,targetPosition:z,dragging:Ae,dragHandle:U,zIndex:W})})})};return t.displayName="NodeWrapper",Q.exports.memo(t)};function p_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function m_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p_(Object(n),!0).forEach(function(r){Jt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U6(e){var t={input:Nd(e.input||wk),default:Nd(e.default||aS),output:Nd(e.output||Sk),group:Nd(e.group||_k)},n={},r=Object.keys(e).filter(function(i){return!["input","default","output","group"].includes(i)}).reduce(function(i,o){return i[o]=Nd(e[o]||aS),i},n);return m_(m_({},t),r)}function g_(e,t){Q.exports.useRef(null);var n=Q.exports.useMemo(function(){return t(e)},[e]);return n}function v_(e){if(!(!e||typeof document=="undefined")){var t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");t.appendChild(n),n.appendChild(document.createTextNode(e))}}var Ak=function(t){var n=t.children,r=!0;try{ni()}catch{r=!1}return r?y(Qt,{children:n}):y(g4,{createStore:v4,children:n})};Ak.displayName="ReactFlowWrapper";var $6=["nodes","edges","defaultNodes","defaultEdges","className","nodeTypes","edgeTypes","onNodeClick","onEdgeClick","onInit","onMove","onMoveStart","onMoveEnd","onConnect","onConnectStart","onConnectStop","onConnectEnd","onClickConnectStart","onClickConnectStop","onClickConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onNodesDelete","onEdgesDelete","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","deleteKeyCode","selectionKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","elementsSelectable","minZoom","maxZoom","defaultZoom","defaultPosition","translateExtent","preventScrolling","nodeExtent","defaultMarkerColor","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","panOnDrag","onPaneClick","onPaneScroll","onPaneContextMenu","children","onEdgeUpdate","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdateStart","onEdgeUpdateEnd","edgeUpdaterRadius","onNodesChange","onEdgesChange","noDragClassName","noWheelClassName","noPanClassName","fitView","fitViewOptions","connectOnClick","attributionPosition","proOptions","defaultEdgeOptions","elevateEdgesOnSelect"];function y_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function w_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y_(Object(n),!0).forEach(function(r){Jt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}v_(H4),v_(Y4);var W6={input:wk,default:aS,output:Sk},j6={default:iS,straight:hk,step:dk,smoothstep:sC,simplebezier:ck},K6=[15,15],q6=[0,0],Rk=Q.exports.forwardRef(function(e,t){var n=e.nodes,r=e.edges,i=e.defaultNodes,o=e.defaultEdges,s=e.className,u=e.nodeTypes,h=u===void 0?W6:u,m=e.edgeTypes,v=m===void 0?j6:m,w=e.onNodeClick,b=e.onEdgeClick,N=e.onInit,T=e.onMove,R=e.onMoveStart,S=e.onMoveEnd,E=e.onConnect,I=e.onConnectStart,P=e.onConnectStop,O=e.onConnectEnd,B=e.onClickConnectStart,A=e.onClickConnectStop,z=e.onClickConnectEnd,M=e.onNodeMouseEnter,F=e.onNodeMouseMove,U=e.onNodeMouseLeave,W=e.onNodeContextMenu,G=e.onNodeDoubleClick,te=e.onNodeDragStart,V=e.onNodeDrag,oe=e.onNodeDragStop,ne=e.onNodesDelete,J=e.onEdgesDelete,Y=e.onSelectionChange,X=e.onSelectionDragStart,re=e.onSelectionDrag,ie=e.onSelectionDragStop,ce=e.onSelectionContextMenu,ye=e.connectionMode,ge=ye===void 0?lf.Strict:ye,fe=e.connectionLineType,Me=fe===void 0?Rs.Bezier:fe,je=e.connectionLineStyle,Ae=e.connectionLineComponent,_e=e.connectionLineContainerStyle,be=e.deleteKeyCode,De=be===void 0?"Backspace":be,Re=e.selectionKeyCode,Ge=Re===void 0?"Shift":Re,ht=e.multiSelectionKeyCode,Dt=ht===void 0?"Meta":ht,He=e.zoomActivationKeyCode,le=He===void 0?"Meta":He,ve=e.snapToGrid,Pe=ve===void 0?!1:ve,Ie=e.snapGrid,ze=Ie===void 0?K6:Ie,$e=e.onlyRenderVisibleElements,mt=$e===void 0?!1:$e,Je=e.selectNodesOnDrag,Nt=Je===void 0?!0:Je,cn=e.nodesDraggable,st=e.nodesConnectable,nt=e.elementsSelectable,mn=e.minZoom,fr=e.maxZoom,Ke=e.defaultZoom,hn=Ke===void 0?1:Ke,rn=e.defaultPosition,gn=rn===void 0?q6:rn,Ze=e.translateExtent,et=e.preventScrolling,gt=et===void 0?!0:et,St=e.nodeExtent,pt=e.defaultMarkerColor,jt=pt===void 0?"#b1b1b7":pt,on=e.zoomOnScroll,Bn=on===void 0?!0:on,dr=e.zoomOnPinch,_i=dr===void 0?!0:dr,ri=e.panOnScroll,Sr=ri===void 0?!1:ri,ro=e.panOnScrollSpeed,io=ro===void 0?.5:ro,Xa=e.panOnScrollMode,We=Xa===void 0?Hc.Free:Xa,Ai=e.zoomOnDoubleClick,gl=Ai===void 0?!0:Ai,oo=e.panOnDrag,ao=oo===void 0?!0:oo,Uo=e.onPaneClick,Fn=e.onPaneScroll,vl=e.onPaneContextMenu,yl=e.children,wl=e.onEdgeUpdate,ya=e.onEdgeContextMenu,bl=e.onEdgeDoubleClick,Ja=e.onEdgeMouseEnter,wa=e.onEdgeMouseMove,so=e.onEdgeMouseLeave,$o=e.onEdgeUpdateStart,Wo=e.onEdgeUpdateEnd,En=e.edgeUpdaterRadius,Sl=En===void 0?10:En,Un=e.onNodesChange,Qa=e.onEdgesChange,Ri=e.noDragClassName,El=Ri===void 0?"nodrag":Ri,Za=e.noWheelClassName,ba=Za===void 0?"nowheel":Za,ii=e.noPanClassName,lo=ii===void 0?"nopan":ii,zr=e.fitView,es=zr===void 0?!1:zr,Cl=e.fitViewOptions,ts=e.connectOnClick,ns=ts===void 0?!0:ts,Sa=e.attributionPosition,Ea=e.proOptions,rs=e.defaultEdgeOptions,uo=e.elevateEdgesOnSelect,jo=uo===void 0?!1:uo,oi=Hv(e,$6),Ko=g_(h,U6),hr=g_(v,Q4);return y("div",{...w_(w_({},oi),{},{ref:t,className:va(["react-flow",s])}),children:K(Ak,{children:[y(F6,{onInit:N,onMove:T,onMoveStart:R,onMoveEnd:S,onNodeClick:w,onEdgeClick:b,onNodeMouseEnter:M,onNodeMouseMove:F,onNodeMouseLeave:U,onNodeContextMenu:W,onNodeDoubleClick:G,nodeTypes:Ko,edgeTypes:hr,connectionLineType:Me,connectionLineStyle:je,connectionLineComponent:Ae,connectionLineContainerStyle:_e,selectionKeyCode:Ge,deleteKeyCode:De,multiSelectionKeyCode:Dt,zoomActivationKeyCode:le,onlyRenderVisibleElements:mt,selectNodesOnDrag:Nt,defaultZoom:hn,defaultPosition:gn,preventScrolling:gt,zoomOnScroll:Bn,zoomOnPinch:_i,zoomOnDoubleClick:gl,panOnScroll:Sr,panOnScrollSpeed:io,panOnScrollMode:We,panOnDrag:ao,onPaneClick:Uo,onPaneScroll:Fn,onPaneContextMenu:vl,onSelectionContextMenu:ce,onEdgeUpdate:wl,onEdgeContextMenu:ya,onEdgeDoubleClick:bl,onEdgeMouseEnter:Ja,onEdgeMouseMove:wa,onEdgeMouseLeave:so,onEdgeUpdateStart:$o,onEdgeUpdateEnd:Wo,edgeUpdaterRadius:Sl,defaultMarkerColor:jt,noDragClassName:El,noWheelClassName:ba,noPanClassName:lo,elevateEdgesOnSelect:jo,id:oi==null?void 0:oi.id}),y(q4,{nodes:n,edges:r,defaultNodes:i,defaultEdges:o,onConnect:E,onConnectStart:I,onConnectStop:P,onConnectEnd:O,onClickConnectStart:B,onClickConnectStop:A,onClickConnectEnd:z,nodesDraggable:cn,nodesConnectable:st,elementsSelectable:nt,minZoom:mn,maxZoom:fr,nodeExtent:St,onNodesChange:Un,onEdgesChange:Qa,snapToGrid:Pe,snapGrid:ze,connectionMode:ge,translateExtent:Ze,connectOnClick:ns,defaultEdgeOptions:rs,fitView:es,fitViewOptions:Cl,onNodesDelete:ne,onEdgesDelete:J,onNodeDragStart:te,onNodeDrag:V,onNodeDragStop:oe,onSelectionDrag:re,onSelectionDragStart:X,onSelectionDragStop:ie}),Y&&y(j4,{onSelectionChange:Y}),yl,y(O4,{proOptions:Ea,position:Sa})]})})});Rk.displayName="ReactFlow";const Ii=yt(function(e,t){return{...ti(e,t,Hi()),sorting:!0,add(r){e(i=>({itemzz:[...i.itemzz,r]}))}}}),Yv=yt(function(e){return Tf(e)}),uC=yt(function(e){return Tf(e)}),cC=yt(function(e){return Tf(e)}),Mr=yt(function(e,t){return ti(e,t,Zr())}),Of=yt(function(e,t){return{...ti(e,t,Dg()),sorting:!0}});function fu(e){var t,n;return K("select",{className:"form-select "+((t=e.className)!=null?t:""),value:e.value,onChange:function(r){e.change(r.target.value)},children:[K("option",{disabled:!e.allowEmpty,hidden:!e.allowEmpty,value:"",children:["-- ",(n=e.verb)!=null?n:e.isAdd?"add":"select"," --"]}),e.itemzz.map(r=>y("option",{value:r[0],children:r[1]},r[0]))]})}function Ao(e){return y(fu,{allowEmpty:e.allowEmpty,className:e.className,isAdd:e.isAdd,itemzz:e.itemzz.map(t=>[t,t]),value:e.value,verb:e.verb,change:e.change})}function b_(e,t,n,r=0){return function(i){let o=parseFloat(i.target.value);isNaN(o)&&(o=r),n({...t,[e]:o})}}function V6(e){return K("div",{children:[y("div",{className:"mb-3",children:K("div",{className:"form-check form-switch",children:[y("input",{checked:e.item.nullable,onChange:function(t){const n=t.target.checked;e.update({...e.item,nullable:n})},className:"form-check-input",type:"checkbox",role:"switch",id:"nullableSwitchCheck"}),y("label",{className:"form-check-label",htmlFor:"nullableSwitchCheck",children:"nullable"})]})}),y("div",{className:"mb-3",children:K("div",{className:"form-check form-switch",children:[y("input",{checked:e.item.unsigned,onChange:t=>e.update({...e.item,unsigned:t.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"unsignedSwitchCheck"}),y("label",{className:"form-check-label",htmlFor:"unsignedSwitchCheck",children:"unsigned"})]})}),K("div",{className:"mb-3",children:[y("label",{className:"form-label",children:"length"}),y("input",{value:e.item.length,onChange:b_("length",e.item,e.update),type:"number",min:0,className:"form-control"})]}),K("div",{className:"mb-3",children:[y("label",{className:"form-label",children:"scale"}),y("input",{value:e.item.scale,onChange:b_("scale",e.item,e.update),type:"number",min:0,className:"form-control"})]}),e.children,K("div",{className:"mb-3",children:[y("label",{className:"form-label",children:"comment"}),y("textarea",{value:e.item.comment,onChange:t=>e.update({...e.item,comment:t.target.value}),rows:3,className:"form-control"})]})]})}function Pk(){const e=Mr(),t=Of(),n=Yv(),r=Be(),[i,o]=Q.exports.useState();if(Q.exports.useEffect(()=>{n.itemId!==0&&o(e.find(n.itemId))},[n.isOpen,n.itemId]),i===void 0)return null;const s=t.itemzz.map(m=>m.name);function u(){ei("Please input the column name",i.name).then(m=>{if(m.isConfirmed)return h({...i,name:m.value})}).catch(r.showError)}function h(m){o(m),Zr().update(m).then(o).catch(r.showError)}return K(Du,{isOpen:n.isOpen,onRequestClose:n.close,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:[K("div",{className:"mb-3",children:[y("button",{onClick:u,className:"btn btn-outline-primary",type:"button",children:i.name}),K("div",{className:"form-check form-switch inline wa ms-3",children:[y("input",{checked:i.inTable,onChange:m=>h({...i,inTable:m.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"inTableSwitchCheck"}),y("label",{className:"form-check-label",htmlFor:"inTableSwitchCheck",children:"inTable"})]})]}),K(V6,{item:i,update:h,children:[K("div",{className:"mb-3",children:[y("label",{className:"form-label",children:"type"}),y(Ao,{itemzz:s,value:i.type,change:m=>h({...i,type:m})})]}),K("div",{className:"mb-3",children:[y("label",{className:"form-label",children:"default"}),y("input",{value:i.default,onChange:m=>h({...i,default:m.target.value}),type:"text",className:"form-control"})]})]})]})}function Ya(e){var t;return y("div",{className:"color-button-group "+((t=e.className)!=null?t:""),children:mP.map(n=>y("span",{className:"color-button "+(n===e.color?"active":""),onClick:()=>e.setColor(n),style:{backgroundColor:q0(n,e.color),borderColor:V0(n)}},n))})}function H6(){const e=cC(),t=Ii(),n=Be(),[r,i]=Q.exports.useState();if(Q.exports.useEffect(()=>{e.itemId!==0&&i(t.find(e.itemId))},[e.isOpen,e.itemId]),r===void 0)return null;function o(){ei("Please input the Entity name",r.name).then(u=>{u.isConfirmed&&s({...r,name:u.value})}).catch(n.showError)}function s(u){i(u),Hi().update(u).then(i).catch(n.showError)}return K(Du,{isOpen:e.isOpen,onRequestClose:e.close,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:[y("div",{className:"mb-3",children:y("button",{disabled:r.reserved,onClick:o,className:"btn btn-outline-primary",type:"button",children:r.name})}),K("div",{className:"mb-3",children:[y("label",{className:"form-label",children:"color"}),y(Ya,{color:r.color,setColor:u=>s({...r,color:u})})]}),K("div",{className:"mb-3",children:[y("label",{className:"form-label",children:"description"}),y("textarea",{value:r.description,onChange:u=>s({...r,description:u.target.value}),rows:3,className:"form-control"})]})]})}function G6(e){}const fl=yt(function(e){return{...Tf(e),namezz:[],callback:G6,openCB(n,r,i){e({isOpen:!0,namezz:r,title:n,callback:i})}}});function Xv(){const e=fl(),[t,n]=Q.exports.useState(""),r=XE(t);return K(Du,{isOpen:e.isOpen,onRequestClose:e.close,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:[y("h3",{children:e.title}),y("div",{className:"mb-3",children:y("input",{value:t,onChange:function(i){n(i.target.value)},autoFocus:!0,type:"text",className:"form-control"})}),y("ul",{className:"list-group",children:e.namezz.filter(i=>i.match(r)).map(i=>y("li",{onClick:function(){e.close(),e.callback(i)},className:"list-group-item pointer",children:i},i))})]})}var Ro=(e=>(e.OneToMany="OneToMany",e.OneToOne="OneToOne",e))(Ro||{});const Y6=Object.keys(Ro),X6=new Map;Y6.forEach(e=>X6.set(e,e));function zh(e,t=!1){return t?"belongs to":e==="OneToMany"?"has many":"has one"}const sp=yt(function(e,t){return Ga(e,t,Eu())});function _n(e){var t,n;return K("select",{className:"form-select "+((t=e.className)!=null?t:""),value:e.value,onChange:function(r){const i=parseInt(r.target.value);e.change(i,e.itemzz.find(o=>o.id===i))},children:[K("option",{disabled:!0,hidden:!0,value:0,children:["-- ",(n=e.verb)!=null?n:e.isAdd?"add":"select"," --"]}),e.itemzz.map(r=>y("option",{value:r.id,children:r.name},r.id))]})}function J6(){const e=Mr(),t=sp(),n=Ii(),r=uC(),i=Be(),[o,s]=Q.exports.useState(),[u,h]=Q.exports.useState(""),[m,v]=Q.exports.useState("");if(Q.exports.useEffect(()=>{var S,E,I,P;if(r.itemId===0)return;const R=t.find(r.itemId);R!==void 0&&(s(R),h((E=(S=n.find(R.entity0Id))==null?void 0:S.name)!=null?E:""),v((P=(I=n.find(R.entity1Id))==null?void 0:I.name)!=null?P:""))},[r.isOpen,r.itemId]),o===void 0)return null;const w=e.itemzz.filter(R=>R.entityId===o.entity1Id);function b(){ei("Please input the name",o.name0).then(R=>{R.isConfirmed&&T({...o,name0:R.value})}).catch(i.showError)}function N(){ei("Please input the name",o.name1).then(R=>{R.isConfirmed&&T({...o,name1:R.value})}).catch(i.showError)}function T(R){Eu().update(R).then(s).catch(i.showError)}return y(Du,{isOpen:r.isOpen,onRequestClose:r.close,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:K("table",{className:"table",children:[y("thead",{children:K("tr",{children:[y("td",{children:"Entity"}),y("td",{children:"relation"}),y("td",{children:"name"}),y("td",{children:"foreign key"})]})}),K("tbody",{children:[K("tr",{children:[y("td",{children:u}),y("td",{className:"text-secondary",children:zh(o.type)}),y("td",{children:y("button",{onClick:b,className:"btn btn-outline-primary",type:"button",children:o.name0})}),y("td",{})]}),K("tr",{children:[y("td",{children:m}),y("td",{className:"text-secondary",children:zh(o.type,!0)}),y("td",{children:y("button",{onClick:N,className:"btn btn-outline-primary",type:"button",children:o.name1})}),y("td",{children:y(_n,{itemzz:w,value:o.column1Id,change:function(R,S){T({...o,column1Id:R})}})})]})]})]})})}function Q6(){const e=Yv(),t=uC(),n=cC();return K(Qt,{children:[e.isOpen?y(Pk,{}):null,y(Xv,{}),t.isOpen?y(J6,{}):null,n.isOpen?y(H6,{}):null]})}function kk(e,t,n,r="",i=0,o=[],s,u="",h=""){var m,v,w,b;return{...Mo(t),entityId:e,name:t,type:n,length:i,scale:0,default:r,comment:h,unsigned:!1,nullable:!1,cast:"",fillable:!1,hidden:!1,ro:o.findIndex(N=>N.name===t)>-1,wo:!1,fakeRaw:!0,fakeUnique:!1,fakeMethod:(m=s==null?void 0:s.fakeMethod)!=null?m:"",fakeText:(v=s==null?void 0:s.fakeText)!=null?v:"",inTable:!0,allowReserved:!1,deprecated:!1,description:"",example:"",explode:!1,required:!0,style:u,raField:(w=s==null?void 0:s.raField)!=null?w:"TextField",raInput:(b=s==null?void 0:s.raInput)!=null?b:"TextField"}}var dt=(e=>(e.any="any",e.boolean="boolean",e.integer="integer",e.number="number",e.string="string",e.Enum="Enum",e.WuParameter="WuParameter",e.Wu="Wu",e))(dt||{});const lS=Object.keys(dt);var Dk=(e=>(e.allOf="allOf",e.anyOf="anyOf",e.oneOf="oneOf",e))(Dk||{});const Lk=Object.keys(Dk),Z6=["integer","number","string"];var Mk=(e=>(e.delete="delete",e.get="get",e.head="head",e.options="options",e.patch="patch",e.post="post",e.put="put",e.trace="trace",e))(Mk||{});const eY=Object.keys(Mk),tY=new Map([["Create","post"],["Delete","delete"],["Update","put"]]);var zk=(e=>(e.deepObject="deepObject",e.form="form",e.label="label",e.matrix="matrix",e.pipeDelimited="pipeDelimited",e.simple="simple",e.spaceDelimited="spaceDelimited",e))(zk||{});const nY=Object.keys(zk);function rY(e){return["Enum","WuParameter","Wu"].includes(e)}function iY(e){return oY(e)||aY(e)||Bk(e)||fC(e)}function oY(e){const t=Object.keys(e);if(t.length>2)return!1;const n=new Set(["description","nullable"]);return t.every(r=>n.has(r))}function aY(e){return"items"in e}function Bk(e){return"type"in e}function fC(e){return!!Lk.find(t=>t in e)}function Fk(e){return"$ref"in e}function sY(e){return{type:"array",items:e}}function Uk(e=[],t){const n=[];return e.forEach(r=>{(Fk(r)||iY(r))&&$k(r,n,t)}),{[t]:n}}function uS(e){return{...e,type:"object"}}function $k(e,t,n){if(fC(e)&&n in e){e[n].forEach(o=>$k(o,t,n));return}t.push(e)}function dl(e=dt.string,t=1,n=null,r=null,i=null,o=null,s=null,u=""){return{isArray:!1,nullable:!1,type:e,format:u,forWuParameterId:o,ownerId:i,variableId:r,wuId:t,wuParameterId:n,ownerColumnId:s,ownerRequestId:null,ownerResponseId:null,ownerWuId:null,ownerWuChildId:null}}function Pr(e){const t=KE.getState().findByName(e);if(t===void 0)throw new Error(`Collection ${e} not found`);return qE.getState().itemzz.filter(n=>n.collectionId===t.id)}function lp(e,t,n,r="",i=0,o="",s=""){const u=Pr("ReadOnlyColumn"),h=Of.getState().findByName(n);return Zr().create(kk(e,t,n,r,i,u,h,o,s)).then(m=>[m,dl(h==null?void 0:h.oapiType,1,null,null,null,null,m.id,h==null?void 0:h.oapiFormat)])}function lY(e){const t=Yv(),n=Be();function r(){Lr().then(i=>{if(i.isConfirmed)return Zr().delete(e.item.id)}).catch(n.showError)}return K("tr",{children:[K("td",{className:"text-secondary ps-3",children:[y("button",{onClick:r,className:"button danger",type:"button",children:"-"}),e.item.type]}),y("td",{children:y("span",{onClick:function(){t.open(e.item.id)},className:"button",children:e.item.name})})]})}function uY(e){const t=Be();return K("table",{className:"table table-sm table-borderless py0",children:[K("caption",{children:[y("span",{onClick:()=>ei("Please input the column name","").then(n=>{if(n.isConfirmed)return lp(e.item.id,n.value,dt.integer).then(([r,i])=>Yn().create(i))}).catch(t.showError),className:"button",children:"+ column"}),y("span",{className:"mx-1",children:e.columnzz.length}),y("span",{onClick:()=>Hi().update({...e.item,openedColumn:!e.item.openedColumn}).catch(t.showError),className:"button px-1",children:"\u02C5"})]}),e.item.openedColumn?y("tbody",{children:e.columnzz.map(n=>y(lY,{item:n,entityId:e.item.id},n.name))}):null]})}function cY(e,t,n,r,i,o){return Zr().findChildzz(n,Rt(Lt.Entity)).then(u=>{const h=u.find(m=>m.name===o);return h?s(h.id):lp(n,o,dt.integer).then(([m,v])=>Yn().create(v).then(()=>s(m.id)))});function s(u){return Eu().create(Kk(e,t,n,r,i,u))}}function Wk(e,t,n){const r=jk(e,n),i=e===Ro.OneToMany?Rt(t.name):"id";return cY(e,t.id,n.id,r,Lu.lowerFirst(t.name),i)}function fY(e,t,n,r){const i=jk(e,n),o=Lu.lowerFirst(t.name);return Eu().create(Kk(e,t.id,n.id,i,o,r))}function jk(e,t){return Lu.lowerFirst(t.name)+(e===Ro.OneToMany?"zz":"")}function Kk(e,t,n,r,i,o){return{type:e,name0:r,name1:i,entity0Id:t,entity1Id:n,column1Id:o}}function dY(e){const t=uC(),n=Be(),r=e.entityId!==e.item.entity0Id;return K("tr",{children:[K("td",{className:"text-secondary ps-3",children:[y("button",{onClick:function(){Lr().then(i=>{if(i.isConfirmed)return Eu().delete(e.item.id)}).catch(n.showError)},className:"button danger",type:"button",children:"-"}),zh(e.item.type,r)]}),y("td",{children:y("span",{onClick:()=>t.open(e.item.id),className:"button",children:r?e.item.name1:e.item.name0})})]})}function hY(e){const t=fl(),n=sp(),r=Ii(),i=Be(),[o,s]=Q.exports.useState([]);Q.exports.useEffect(()=>{s(n.itemzz.filter(h=>h.entity0Id===e.entity.id||h.entity1Id===e.entity.id))},[n.itemzz]);function u(h){t.openCB(`${e.entity.name} ${zh(h)}`,r.itemzz.map(m=>m.name),function(m){const v=r.findByName(m);if(v===void 0)throw new Error("Entity not found");return Wk(h,e.entity,v).catch(i.showError)})}return K("table",{className:"table table-sm table-borderless py0",children:[K("caption",{children:[y("span",{onClick:function(){u(Ro.OneToMany)},className:"button",children:"+ relation"}),y("span",{onClick:function(){u(Ro.OneToOne)},className:"button mx-2",children:"1..1"})]}),y("tbody",{children:o.map(h=>y(dY,{entityId:e.entity.id,item:h},h.id))})]})}function pY(e){const t=Mr(),n=cC(),r=Be(),[i,o]=Q.exports.useState([]);return Q.exports.useEffect(()=>{o(t.itemzz.filter(s=>s.entityId===e.data.id&&s.inTable))},[t.itemzz]),K("div",{className:"EntityNode",children:[K("div",{className:"d-flex justify-content-center",children:[e.data.reserved?null:y("span",{onClick:function(){Lr().then(s=>{if(s.isConfirmed)return Hi().delete(e.data.id)}).catch(r.showError)},className:"button danger px-1",children:"-"}),y("span",{onClick:()=>n.open(e.data.id),className:"button mx-1",children:e.data.name}),y("button",{onClick:()=>Hi().update({...e.data,opened:!e.data.opened}).catch(r.showError),className:"button px-1",type:"button",children:"\u02C5"})]}),e.data.opened?K(Qt,{children:[y(uY,{columnzz:i,item:e.data}),y(hY,{entity:e.data})]}):null,y(zs,{type:"source",position:Ve.Left,id:"sourceLeft"+e.data.id,isConnectable:!1}),y(zs,{type:"source",position:Ve.Right,id:"sourceRight"+e.data.id,isConnectable:!1}),y(zs,{type:"target",position:Ve.Left,id:"targetLeft"+e.data.id,isConnectable:!1}),y(zs,{type:"target",position:Ve.Right,id:"targetRight"+e.data.id,isConnectable:!1})]})}const mY={EntityNode:pY};function dC(e,t="",n=""){return{...Mo(e),description:t,table:n,x:222+Math.floor(Math.random()*111),y:11,isTable:!0,opened:!0,openedColumn:!0}}function qk(e){return Hi().create(dC(e)).then(t=>lp(t.id,"id",dt.integer).then(([n,r])=>Yn().create(r)))}function gY(){const e=sp(),t=Ii(),n=Be(),[r,i]=Q.exports.useState([]),[o,s]=Q.exports.useState([]),u=Q.exports.useMemo(()=>mY,[]);Q.exports.useEffect(()=>{m()},[t.itemzz]),Q.exports.useEffect(()=>{h()},[e.itemzz]);function h(){try{const N=e.itemzz.filter(T=>T.entity0Id!==T.entity1Id).map(T=>{const R=t.find(T.entity0Id),S=t.find(T.entity1Id);let E="sourceLeft",I="targetRight";return Math.abs(R.x-S.x)<222?E="sourceRight":R.x<S.x&&(E="sourceRight",I="targetLeft"),{id:"relation"+T.id,source:R.name,target:S.name,sourceHandle:E+T.entity0Id,targetHandle:I+T.entity1Id}});i(N)}catch(N){console.error(N),n.showError(N),i([])}}function m(){const N=t.itemzz.map(T=>({id:T.name,type:"EntityNode",position:{x:T.x,y:T.y},targetPosition:Ve.Top,data:T}));s(N)}const v=Q.exports.useCallback(N=>s(T=>ek(N,T)),[s]),w=Q.exports.useCallback(N=>i(T=>u4(N,T)),[i]);function b(N,T){const R={...T.data,x:T.position.x,y:T.position.y};Hi().update(R).then(S=>t.setItem(S)).then(()=>h()).catch(n.showError)}return K("div",{className:"h100",children:[y("div",{style:{position:"fixed",top:"66px",zIndex:1},children:y("button",{onClick:()=>ei("Please input the Entity name","").then(N=>{if(N.isConfirmed)return qk(N.value)}).catch(n.showError),className:"btn btn-outline-primary",type:"button",children:"+"})}),y(Rk,{nodes:o,edges:r,nodeTypes:u,maxZoom:1,onNodesChange:v,onEdgesChange:w,onNodeDragStop:b}),y(Q6,{})]})}function vY(e,t=""){return{...Mo(e),fakeMethod:"",fakeText:"",oapiFormat:"",oapiType:"",phpType:t,raField:"",raInput:""}}const S_=yt(function(e){return Lo(e)});var Jv=(e=>(e.edit="edit",e.open="open",e.refresh="refresh",e))(Jv||{});function hC(e,t,n){if(window.JavaBridge===void 0)throw new Error("window.JavaBridge is undefined. only available in JetBrains IDE.");const r=JSON.stringify({action:e,key:t,data:n});window.JavaBridge.send(r)}function yY(e,t){return hC(Jv.edit,e,t)}function wY(e){return hC(Jv.open,e,"")}function Qv(){return hC(Jv.refresh,"","")}function kr(e){return Pv().ide?y("span",{className:"btn btn-link "+e.className,onClick:()=>wY(e.href),children:e.children}):y("a",{className:e.className,href:e.href,target:"_blank",children:e.children})}function bY(e){const t=Be(),n=Pr("FakerMethod").map(s=>[s.name,s.name]),r=lS.slice(0,5).map(s=>[s,s]),i=Pr("RAC").map(s=>[s.name,s.name]);function o(s){Dg().update(s).catch(t.showError)}return K("table",{className:"table",children:[K("caption",{children:[y(kr,{className:"me-3",href:"https://www.doctrine-project.org/projects/doctrine-dbal/en/latest/reference/types.html#mapping-matrix",children:"Doctrine Column Type"}),"when creating a column with this type, clone the following properties to the column."]}),K("tbody",{children:[K("tr",{children:[y("td",{className:"w111",children:"fakeMethod"}),y("td",{children:y(fu,{allowEmpty:!0,className:"wa",itemzz:n,value:e.item.fakeMethod,change:s=>o({...e.item,fakeMethod:s})})})]}),K("tr",{children:[y("td",{children:"fakeText"}),y("td",{children:y("input",{value:e.item.fakeText,onChange:s=>o({...e.item,fakeText:s.target.value}),className:"form-control wa",type:"text"})})]}),K("tr",{children:[y("td",{children:"oapiFormat"}),y("td",{children:y("input",{value:e.item.oapiFormat,onChange:s=>o({...e.item,oapiFormat:s.target.value}),className:"form-control wa",type:"text"})})]}),K("tr",{children:[y("td",{children:"oapiType"}),y("td",{children:y(fu,{className:"wa",itemzz:r,value:e.item.oapiType,change:s=>o({...e.item,oapiType:s})})})]}),K("tr",{children:[y("td",{children:"phpType"}),y("td",{children:y("input",{value:e.item.phpType,onChange:s=>o({...e.item,phpType:s.target.value}),className:"form-control wa",type:"text"})})]}),K("tr",{children:[y("td",{children:"raField"}),y("td",{children:y(fu,{className:"wa",itemzz:i,value:e.item.raField,change:function(s){o({...e.item,raField:s})}})})]}),K("tr",{children:[y("td",{children:"raInput"}),y("td",{children:y(fu,{className:"wa",itemzz:i,value:e.item.raInput,change:function(s){o({...e.item,raInput:s})}})})]})]})]})}function SY(){const e=S_(),t=Be();return K("div",{className:"row",children:[y(zu,{makeCRUD:Dg,onCreate:function(n){Dg().create(vY(n)).catch(t.showError)},useItemPageStore:S_,useItemzzStore:Of,title:at.Doctrine,children:e.item===void 0?void 0:y(bY,{item:e.item})}),y(JE,{})]})}const Bu=yt(function(e){return{...Lo(e),fileColor:"#fff",tab:"Column",setFileColor(n){e({fileColor:n})}}});function _f(e){return y("ul",{className:"nav nav-tabs mb-3",children:e.tabzz.map(t=>y("li",{onClick:function(){e.setTab(t)},className:"nav-item nav-item-fill",children:y("span",{className:t===e.tab?"nav-link active":"nav-link",children:t})},t))})}function EY(e){const t=fl(),n=Be(),[r,i]=Q.exports.useState(e.item);function o(s){return i(s),Zr().update(s).then(i).catch(n.showError)}return K("tr",{children:[y("td",{children:r.name}),K("td",{children:[K("div",{className:"form-check form-switch inline",children:[y("input",{checked:r.fillable,onChange:s=>o({...r,fillable:s.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"fillableSwitchCheck"+r.id}),y("label",{className:"form-check-label",htmlFor:"fillableSwitchCheck"+r.id})]}),K("div",{className:"form-check form-switch inline",children:[y("input",{checked:r.hidden,onChange:s=>o({...r,hidden:s.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"hiddenSwitchCheck"+r.id}),y("label",{className:"form-check-label",htmlFor:"hiddenSwitchCheck"+r.id})]}),K("div",{className:"form-check form-switch inline ms-3",children:[y("input",{checked:r.ro,onChange:s=>o({...r,ro:s.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"roSwitchCheck"+r.id}),y("label",{className:"form-check-label",htmlFor:"roSwitchCheck"+r.id})]}),K("div",{className:"form-check form-switch inline ms-3",children:[y("input",{checked:r.wo,onChange:s=>o({...r,wo:s.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"woSwitchCheck"+r.id}),y("label",{className:"form-check-label",htmlFor:"woSwitchCheck"+r.id})]})]}),y("td",{children:r.type}),y("td",{children:K("div",{role:"group",className:"input-group",children:[y("div",{className:"input-group-prepend",children:y("button",{onClick:function(){const s=Pr("ModelFieldTypeCast");t.openCB("Please select one item",s.map(u=>u.name),function(u){return o({...r,cast:u})})},type:"button",className:"btn btn-outline-primary",children:"+"})}),y("input",{value:r.cast,onChange:s=>o({...r,cast:s.target.value}),type:"text",className:"form-control"})]})})]})}function CY(e){const t=Mr(),[n,r]=Q.exports.useState([]);return Q.exports.useEffect(()=>{r(t.itemzz.filter(i=>i.entityId===e.entity.id))},[e.entity,t.itemzz]),K("table",{className:"table",children:[K("caption",{children:[y("h3",{className:"inline me-3",children:"Cast"}),y(kr,{href:"https://laravel.com/docs/9.x/eloquent-mutators",children:"doc"})]}),y("thead",{children:K("tr",{children:[y("th",{children:"column"}),y("th",{children:"fillable / hidden / read only / write only"}),y("th",{children:"type"}),y("th",{children:"cast"})]})}),y("tbody",{children:n.map(i=>y(EY,{item:i},i.id))})]})}const Ti=yt(function(e,t){return ti(e,t,Mg())});function Vk(e){const t=new Map;return e.forEach(n=>t.set(n.id,{...n,childzz:[]})),e.forEach(n=>{const r=t.get(n.parentId);if(r){const i=t.get(n.id);i.parent=r,r.childzz.push(i)}}),t}function Id(e,t){const n=Object.keys(t),r=Object.values(t);return new Function(...n,`return \`${e}\`;`)(...r)}function cS(e,t){function n(b,N,T){return o(b,N,T).slice(0,-4)}function r(b,N,T){const R={file:b,entity:N,action:T},S=[b.fileNamePattern];b.nameSpacePattern&&S.push(b.nameSpacePattern);const E=e.get(b.directoryId);E&&m(E,S);const I=S.reverse().join("/");return Id(I,R).replaceAll("/","\\").slice(0,-4)}function i(b,N,T){const R={entity:N,action:T};R.directory=b;const E=m(b,[]).reverse().join("/");return w(Id(E,R))}function o(b,N,T){return Id(b.fileNamePattern,{entity:N,action:T})}function s(b,N,T){const R={file:b,entity:N,action:T},S=[b.fileNamePattern];b.nameSpacePattern&&S.push(b.nameSpacePattern);const E=e.get(b.directoryId);E&&m(E,S);const I=S.reverse().join("/");return w(Id(I,R))}function u(b,N,T){const R={entity:N,action:T};R.directory=b;const E=m(b,[]).reverse().join("/");return Id(E,R).replaceAll("/","\\")}function h(b,N,T){const R=r(b,N,T);return R.slice(0,R.lastIndexOf("\\"))}function m(b,N){return v(b,[]).forEach(T=>N.push(T.name)),N}function v(b,N){let T=e.get(b.id);for(;T&&T.parentId!==null;)N.push(T),T=T.parent;return N}function w(b){let N="";return Object.keys(t).forEach(R=>{b.startsWith(R.replaceAll("\\","/"))&&R.length>N.length&&(N=R)}),N.length?t[N]+b.slice(N.length):b}return{getClassName:n,getClassFullName:r,getDirectoryFullName:i,getFileName:o,getFileFullName:s,getFullNameSpace:u,getFullNameSpaceOfFile:h,makeNameSpacezz:m,replacePSR4:w}}function E_(e){const t=Vr(e.tables.Column),n=new Map;e.tables.WuColumn.forEach(u=>{let h=n.get(u.wuId);h===void 0&&(h=[],n.set(u.wuId,h));const m=t.get(u.columnId);let v=m.name;u.alias&&(v=u.alias),h.push({...m,name:v,alias:v,wuColumnId:u.id})});const r=Gs(e.tables.TypeFormat,"ownerId"),i=Vr(e.tables.Wu),o=Gs(e.tables.TypeFormat,"ownerWuChildId"),s=Gs(e.tables.WuParameter,"wuId");return{cicm:t,tfzzm:r,wiczzm:n,wiwm:i,wiwkzzm:o,wiwpzzm:s}}function Hk(e,t,n){return fS(pC(e,!1,t,E_(n)),E_(n),new Set)}function fS(e,t,n){var u,h,m;if(e.type!==dt.Wu)return[];const r=t.wiwm.get(e.wuId);if(r===void 0)throw new Error(`Wu ${e.wuId} not found.`);n.has(r.id)&&dS("circular reference detected.",r),n.add(r.id);const i=(u=t.wiwpzzm.get(r.id))!=null?u:[];i.length>e.argumentzz.length&&dS(`Wu ${r.name} require ${i.length} argument.`,r);let o=(h=t.wiczzm.get(r.id))!=null?h:[];return((m=t.wiwkzzm.get(r.id))!=null?m:[]).forEach(function(v){if(v.type===dt.Wu){const w=pC(v,i.length>0,e.argumentzz,t);o=o.concat(fS(w,t,n));return}if(v.type===dt.WuParameter){const w=Gk(v,i,r),b=e.argumentzz[w];if(b.type===dt.Wu){o=o.concat(fS(b,t,n));return}}}),o}function Gk(e,t,n){const r=t.findIndex(i=>i.id===e.wuParameterId);return r===-1&&dS(`WuParameter ${e.wuParameterId} not found`,n),r}function xY(e,t,n,r){var u,h;const i=(u=r.wiwpzzm.get(e.wuId))!=null?u:[];if(i.length===0)return[];if(e.type!==dt.Wu)return[];const o=r.wiwm.get(e.wuId);return o===void 0?[]:((h=r.tfzzm.get(e.id))!=null?h:[]).map(function(m){if(t){if(m.type===dt.Wu)return pC(m,!0,n,r);if(m.type===dt.WuParameter){const v=Gk(m,i,o);return n[v]}}return{...m,argumentzz:[]}})}function pC(e,t,n,r){return{...e,argumentzz:xY(e,t,n,r)}}function dS(e,t){throw new Error(e+` error found in Wu ${t.name}`)}function NY(e,t){const n=t.tables.TypeFormat.find(i=>i.ownerResponseId===e);if(n===void 0)return[];const r=t.tables.TypeFormat.find(i=>i.ownerId===n.id&&i.type===dt.Wu);return r===void 0?[]:Hk(r,[],t)}function IY(e){return new Function("return "+e)()}function Qg(e,t){return IY(e)(t)}function Yk(e,t,n,r,i,o){const s=[h()];return e.isArray&&s.push("[]"),e.nullable&&s.push(" | null"),s.join("");function u(v){return o+v}function h(){var v,w;if(e.type===dt.Enum){const b=n.find(N=>{var T;return((T=e.variableId)!=null?T:0)===N.id});if(b===void 0)throw new Error(`Enum ${(v=e.variableId)!=null?v:""} not found`);return u(b.name)}if(e.type===dt.WuParameter){const b=r.find(N=>{var T;return((T=e.wuParameterId)!=null?T:0)===N.id});if(b===void 0)throw new Error(`WuParameter ${(w=e.wuParameterId)!=null?w:""} not found`);return u(b.name)}return e.type===dt.Wu?u(m()):e.type}function m(){const v=i.find(N=>e.wuId===N.id);if(v===void 0)throw new Error(`Wu ${e.wuId} not found`);const w=t.filter(N=>N.ownerId===e.id);if(w.length===0)return v.name;const b=w.map(N=>Yk(N,t,n,r,i,o));return`${v.name}<${b.join(", ")}>`}}function TY(e,t,n=void 0,r=void 0,i,o){return dP(Fv("code")).then(s=>rp().then(u=>{const h=Rg.exports.cloneDeep(u),m=s.data.data,v=Vk(u.tables.Directory),w=cS(v,o),b={file:e,entity:t,module:n,ma:r,db:h,dependencyzz:[],fileMap:m,getResponseContentColumnzz:NY,getTypeFormatColumnzz:Hk,lodash:Lu,makeChildzzMap:Gs,makeIdItemMap:Vr,makeIdNameMap:$E,makeTypeFormatText:Yk,tree:w,treeMap:v,action:i,helper:{}};kg in m&&Qg(m[kg],b);const N=ol(e,zv);N in m?Qg(m[N],b):console.warn(N+" does not exist");const T=ol(e,Bv);if(T in m){Rm.configure({autoescape:!1}),Rm.renderString(m[T],b);const R=new Set(b.dependencyzz);R.delete(w.getClassFullName(e,t,i)),b.dependencyzz=Array.from(R).sort((I,P)=>I.localeCompare(P));const S=Rm.renderString(m[T],b),E=w.getFileFullName(e,t,i);return UE(E,S).then(I=>(Qv(),I))}throw new Error(T+" not exist")}))}const Zg=yt(function(e){return{psr4:{"App\\":"app/","Database\\Entity\\":"database/Entity/","Database\\Factories\\":"database/factories/","Database\\Seeders\\":"database/seeders/","Tests\\":"tests/"},setPsr4(t){t["Database\\Entity\\"]="database/Entity/",e({psr4:t})}}}),to=yt(function(e,t){const n=Ga(e,t,Ah(),function(o){const s=Vk(o),u=cS(s,Zg.getState().psr4);e({treeHelper:u,treeMap:s})}),r=new Map,i=cS(r,Zg.getState().psr4);return{...n,treeHelper:i,treeMap:r}});function ha(e){var n;const t=Be();return y("button",{onClick:()=>{try{yY(e.file,e.content)}catch(r){t.showError(r)}},className:"btn btn-outline-success",children:(n=e.text)!=null?n:"edit"})}function Fu(e){const t=to(),n=Zg(),r=Be(),i=t.treeHelper.getFileName(e.file,e.entity,e.action),o=t.treeHelper.getFileFullName(e.file,e.entity,e.action);return K("div",{className:"btn-group "+e.className,children:[y("button",{onClick:()=>{TY(e.file,e.entity,e.module,e.ma,e.action,n.psr4).then(s=>r.showSuccess(s.data.data)).catch(r.showError)},type:"button",className:"btn btn-outline-warning",children:"\u25BC"}),y(ha,{content:"",file:o,text:e.fullName?o:i})]})}function OY(e){const t=[];return e.item.name==="id"&&t.push("primary key"),e.item.nullable&&t.push("nullable"),e.item.unsigned&&t.push("unsigned"),e.item.length&&t.push("length: "+e.item.length),e.item.scale&&t.push("scale: "+e.item.scale),e.item.comment&&t.push(e.item.comment),t.length===0&&t.push("----"),y("div",{className:"pointer",children:t.map(n=>y("div",{children:n},n))})}function _Y(e){const t=Yv(),n=Of(),r=fl(),i=Be(),[o,s]=Q.exports.useState(e.item);Q.exports.useEffect(()=>{s(e.item)},[e.item]);function u(h){s(h),Zr().update(h).then(s).catch(i.showError)}return K("tr",{children:[K("td",{children:[K("div",{className:"form-check form-switch inline",children:[y("input",{checked:o.inTable,onChange:h=>u({...o,inTable:h.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"inTableSwitchCheck"+o.id}),y("label",{className:"form-check-label",htmlFor:"inTableSwitchCheck"+o.id})]}),K("div",{className:"btn-group",children:[y("button",{onClick:()=>Lr().then(h=>{if(h.isConfirmed)return Zr().delete(o.id)}).catch(i.showError),className:"btn btn-outline-primary danger",type:"button",children:"-"}),y("button",{onClick:()=>ei("Please input the Column name",o.name).then(h=>{if(h.isConfirmed)return u({...o,name:h.value})}).catch(i.showError),className:"btn btn-outline-primary",type:"button",children:o.name})]})]}),y("td",{children:y("button",{onClick:()=>{const h=n.itemzz.map(m=>m.name);r.openCB("Select a type",h,function(m){return u({...o,type:m})})},className:"btn btn-outline-primary",type:"button",children:o.type})}),y("td",{children:y("input",{value:o.default,onChange:h=>u({...o,default:h.target.value}),type:"text",className:"form-control"})}),y("td",{onClick:function(){t.open(o.id)},children:y(OY,{item:o})})]})}function AY(e){const t=Mr(),n=Ti(),r=GE(),i=Be(),[o,s]=Q.exports.useState([]),u=Pr("CommonColumnName"),h=Pr("CommonColumnType"),m=n.itemzz.find(w=>w.name==="ModelBase");Q.exports.useEffect(()=>{s(t.itemzz.filter(w=>w.entityId===e.entity.id))},[e.entity,t.itemzz]);function v(w,b,N,T=""){return lp(e.entity.id,w,b,N,b==="decimal"?11:0,"",T).then(([R,S])=>Yn().create(S)).catch(i.showError)}return K("table",{className:"table",children:[K("caption",{children:[y("h3",{className:"inline me-3",children:"Column"}),m===void 0?y("span",{className:"text-danger",children:"File ModelBase not found"}):y(Fu,{action:"",file:m,fullName:!0,entity:e.entity})]}),y("thead",{children:K("tr",{children:[y("th",{children:"inTable / name"}),y("th",{children:"type"}),y("th",{children:"default"}),y("th",{})]})}),y("tbody",{children:o.map(w=>y(_Y,{item:w},w.id))}),y("tfoot",{children:K("tr",{children:[y("td",{children:y(_n,{isAdd:!0,itemzz:u,value:0,change:(w,b)=>{b&&v(b.name,b.tag,b.value)}})}),y("td",{children:y(_n,{isAdd:!0,itemzz:h,value:0,change:(w,b)=>{b&&v(b.name,b.tag,b.value)}})}),y("td",{children:y("span",{onClick:function(){r.openCB(e.entity.id,"import column",void 0,function(w){if(w!=="")try{const b=JSON.parse(w);if(Array.isArray(b)===!1){i.showDanger("text is not JSON array");return}b.forEach(N=>{var T,R,S;typeof N=="string"&&(N={name:N}),v((T=N.name)!=null?T:"",(R=N.type)!=null?R:"","",(S=N.comment)!=null?S:"")})}catch(b){i.showError(b)}})},className:"btn btn-outline-primary",children:"import"})}),y("td",{})]})})]})}function RY(e){const t=Be();return K("table",{className:"table td0-tar",children:[y("caption",{children:y("h3",{className:"inline me-3",children:"Detail"})}),K("tbody",{children:[K("tr",{children:[y("td",{children:"color"}),y("td",{children:y(Ya,{color:e.item.color,setColor:n=>Hi().update({...e.item,color:n}).catch(t.showError)})})]}),K("tr",{children:[y("td",{children:"isTable"}),y("td",{children:K("div",{className:"form-check form-switch",children:[y("input",{checked:e.item.isTable,onChange:n=>Hi().update({...e.item,isTable:n.target.checked}).catch(t.showError),className:"form-check-input",type:"checkbox",role:"switch",id:"isTableSwitchCheck"+e.item.id}),y("label",{className:"form-check-label",htmlFor:"isTableSwitchCheck"+e.item.id})]})})]}),K("tr",{children:[y("td",{children:"table"}),K("td",{children:[y("button",{onClick:()=>Mn("Please input the table name",e.item.table).then(n=>{if(n.isConfirmed)return Hi().update({...e.item,table:n.value})}).catch(t.showError),className:"btn btn-outline-primary",type:"button",children:e.item.table?e.item.table:e.item.name}),y("span",{className:"ms-2",children:"leave it empty to use the Entity name as table name"})]})]})]})]})}var Nu=(e=>(e.Action="Action",e.Cache="Cache",e.Command="Command",e.Controller="Controller",e.Entity="Entity",e.Event="Event",e.Factory="Factory",e.Model="Model",e.Repository="Repository",e.Request="Request",e.Response="Response",e.Service="Service",e.Test="Test",e.View="View",e))(Nu||{});const PY=Object.keys(Nu);function Xk(e,t){return dP(Fv("code")).then(n=>rp().then(r=>{const i=n.data.data;if(!(e in i))throw new Error(e+" not found");const o={db:r,fileMap:i,entity:t,result:[]};return kg in i&&Qg(i[kg],o),Qg(i[e],o),o}))}function uf(e){var t;return K("button",{disabled:e.waiting||e.disabled,className:(t=e.className)!=null?t:"btn btn-outline-primary",onClick:e.onClick,type:"button",children:[e.waiting?y("div",{className:"spinner-border spinner-border-sm text-secondary me-1",role:"status"}):null,e.children]})}function kY(e){const t=fl(),n=Be(),[r,i]=Q.exports.useState(e.item);function o(){const u=Pr("FakerMethod").map(h=>h.name);t.openCB("Select a method",u,function(h){s({...r,fakeMethod:h}).catch(n.showError)})}function s(u){return i(u),Zr().update(u).then(i).catch(n.showError)}return K("tr",{children:[y("td",{children:r.name}),K("td",{children:[K("div",{className:"form-check form-switch inline",children:[y("input",{checked:r.fakeRaw===!1,onChange:u=>s({...r,fakeRaw:u.target.checked===!1}),className:"form-check-input",type:"checkbox",role:"switch",id:"fakeRowSwitchCheck"+r.id}),y("label",{className:"form-check-label",htmlFor:"fakeRowSwitchCheck"+r.id})]}),r.fakeRaw?null:K(Qt,{children:[K("div",{className:"form-check form-switch inline",children:[y("input",{checked:r.fakeUnique,onChange:u=>s({...r,fakeUnique:u.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"fakeUniqueSwitchCheck"+r.id}),y("label",{className:"form-check-label",htmlFor:"fakeUniqueSwitchCheck"+r.id,children:"unique"})]}),y("button",{onClick:o,className:"btn btn-outline-primary ms-1",children:r.fakeMethod===""?"+":r.fakeMethod})]})]}),y("td",{children:y("input",{value:r.fakeText,onChange:u=>s({...r,fakeText:u.target.value}),type:"text",className:"form-control"})})]})}function DY(e){const t=Mr(),n=Ti(),r=Be(),[i,o]=Q.exports.useState([]),[s,u]=Q.exports.useState(!1),h=n.itemzz.find(m=>m.name===Nu.Factory);return Q.exports.useEffect(()=>{o(t.itemzz.filter(m=>m.entityId===e.entity.id))},[e.entity,t.itemzz]),K("table",{className:"table",children:[K("caption",{children:[y("h3",{className:"inline me-3",children:"Factory"}),h===void 0?K("span",{className:"text-danger",children:["File ",Nu.Factory," not found"]}):y(Fu,{action:"",className:"me-3",file:h,fullName:!0,entity:e.entity}),y(kr,{href:"https://laravel.com/docs/9.x/eloquent-factories",children:"doc"})]}),y("thead",{children:K("tr",{children:[y("th",{children:"column"}),y("th",{children:"Faker"}),y("th",{children:"PHP expression"})]})}),y("tbody",{children:i.map(m=>y(kY,{item:m},m.id))}),y("tfoot",{children:y("tr",{children:K("td",{colSpan:3,children:[K("div",{className:"btn-group me-3",children:[y(ha,{file:al(JT),content:Dn.ScriptCode}),y(uf,{waiting:s,onClick:function(){u(!0),Xk(JT,e.entity).then(m=>Zr().updateMany(m.result)).then(()=>{u(!1),r.showSuccess("Select other Entity to see changes")}).catch(m=>{u(!1),r.showError(m)})},children:"Run"})]}),"set fake value (select other Entity to see changes)"]})})})]})}function Jk(e){const t=to();function n(r){const i=t.treeHelper.getFileFullName(r,e.entity,""),o=i.lastIndexOf("/");return o===-1?"/":i.slice(0,o)}return K("tr",{children:[K("td",{children:[K("div",{className:"btn-group me-2",children:[y(ha,{file:al(ol(e.item,zv)),content:Dn.ScriptCode}),y(ha,{file:al(ol(e.item,Bv)),content:""})]}),e.item.name]}),K("td",{children:[y("div",{children:n(e.item)}),y(Fu,{action:"",file:e.item,entity:e.entity,ma:e.ma,module:e.module})]})]})}function Qk(e){const t=Ti(),n=Bu(),[r,i]=Q.exports.useState([]),[o,s]=Q.exports.useState("");return Q.exports.useEffect(()=>{if(o.length){const u=XE(o);i(t.itemzz.filter(h=>h.name.match(u)).sort((h,m)=>h.directoryId===m.directoryId?h.name.localeCompare(m.name):h.directoryId-m.directoryId));return}if(n.fileColor==="#fff"){i(t.itemzz);return}i(t.itemzz.filter(u=>u.color===n.fileColor).sort((u,h)=>u.directoryId===h.directoryId?u.name.localeCompare(h.name):u.directoryId-h.directoryId))},[n.fileColor,o]),K("table",{className:"table table-sm table-striped",children:[K("caption",{children:[y("h3",{className:"inline me-3",children:"File"}),y("span",{children:"generate files"}),y(Ya,{color:n.fileColor,setColor:u=>n.setFileColor(u)}),y("input",{className:"form-control",value:o,onChange:function(u){s(u.target.value)},type:"text"})]}),y("thead",{children:K("tr",{children:[y("td",{children:"edit script / template"}),y("td",{children:"file"})]})}),y("tbody",{children:r.map(u=>y(Jk,{entity:e.entity,item:u,ma:e.ma,module:e.module},u.id))})]})}var Zk=(e=>(e.index="index",e.unique="unique",e))(Zk||{});const C_=Object.keys(Zk),eD=yt(function(e,t){return Ga(e,t,rh())});function Rr(e,t){return`-- ${e} ${t} not found --`}function LY(e){var n,r;const t=Be();return K(Qt,{children:[y("button",{onClick:function(){ih().delete(e.item.id).then(()=>e.refresh()).catch(t.showError)},className:"button danger",type:"button",children:"-"}),(r=(n=e.cicm.get(e.item.columnId))==null?void 0:n.name)!=null?r:Rr("Column",e.item.columnId)]})}function hS(e,t){return hS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hS(e,t)}function tD(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,hS(e,t)}function MY(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function N_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x_(Object(n),!0).forEach(function(r){MY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kr(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var I_=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Ab=function(){return Math.random().toString(36).substring(7).split("").join(".")},T_={INIT:"@@redux/INIT"+Ab(),REPLACE:"@@redux/REPLACE"+Ab(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ab()}};function zY(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function nD(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Kr(0));if(typeof t=="function"&&typeof n=="undefined"&&(n=t,t=void 0),typeof n!="undefined"){if(typeof n!="function")throw new Error(Kr(1));return n(nD)(e,t)}if(typeof e!="function")throw new Error(Kr(2));var i=e,o=t,s=[],u=s,h=!1;function m(){u===s&&(u=s.slice())}function v(){if(h)throw new Error(Kr(3));return o}function w(R){if(typeof R!="function")throw new Error(Kr(4));if(h)throw new Error(Kr(5));var S=!0;return m(),u.push(R),function(){if(!!S){if(h)throw new Error(Kr(6));S=!1,m();var I=u.indexOf(R);u.splice(I,1),s=null}}}function b(R){if(!zY(R))throw new Error(Kr(7));if(typeof R.type=="undefined")throw new Error(Kr(8));if(h)throw new Error(Kr(9));try{h=!0,o=i(o,R)}finally{h=!1}for(var S=s=u,E=0;E<S.length;E++){var I=S[E];I()}return R}function N(R){if(typeof R!="function")throw new Error(Kr(10));i=R,b({type:T_.REPLACE})}function T(){var R,S=w;return R={subscribe:function(I){if(typeof I!="object"||I===null)throw new Error(Kr(11));function P(){I.next&&I.next(v())}P();var O=S(P);return{unsubscribe:O}}},R[I_]=function(){return this},R}return b({type:T_.INIT}),r={dispatch:b,subscribe:w,getState:v,replaceReducer:N},r[I_]=T,r}function O_(e,t){return function(){return t(e.apply(this,arguments))}}function __(e,t){if(typeof e=="function")return O_(e,t);if(typeof e!="object"||e===null)throw new Error(Kr(16));var n={};for(var r in e){var i=e[r];typeof i=="function"&&(n[r]=O_(i,t))}return n}function rD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function BY(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(Kr(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},u=t.map(function(h){return h(s)});return o=rD.apply(void 0,u)(i.dispatch),N_(N_({},i),{},{dispatch:o})}}}var iD=Yr.createContext(null);function FY(e){e()}var oD=FY,UY=function(t){return oD=t},$Y=function(){return oD};function WY(){var e=$Y(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e(function(){for(var i=t;i;)i.callback(),i=i.next})},get:function(){for(var i=[],o=t;o;)i.push(o),o=o.next;return i},subscribe:function(i){var o=!0,s=n={callback:i,next:null,prev:n};return s.prev?s.prev.next=s:t=s,function(){!o||t===null||(o=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var A_={notify:function(){},get:function(){return[]}};function aD(e,t){var n,r=A_;function i(w){return h(),r.subscribe(w)}function o(){r.notify()}function s(){v.onStateChange&&v.onStateChange()}function u(){return Boolean(n)}function h(){n||(n=t?t.addNestedSub(s):e.subscribe(s),r=WY())}function m(){n&&(n(),n=void 0,r.clear(),r=A_)}var v={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:s,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:function(){return r}};return v}var sD=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?Q.exports.useLayoutEffect:Q.exports.useEffect;function jY(e){var t=e.store,n=e.context,r=e.children,i=Q.exports.useMemo(function(){var u=aD(t);return{store:t,subscription:u}},[t]),o=Q.exports.useMemo(function(){return t.getState()},[t]);sD(function(){var u=i.subscription;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==t.getState()&&u.notifyNestedSubs(),function(){u.tryUnsubscribe(),u.onStateChange=null}},[i,o]);var s=n||iD;return y(s.Provider,{value:i,children:r})}function ev(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var lD={exports:{}},Zt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jn=typeof Symbol=="function"&&Symbol.for,mC=Jn?Symbol.for("react.element"):60103,gC=Jn?Symbol.for("react.portal"):60106,Zv=Jn?Symbol.for("react.fragment"):60107,ey=Jn?Symbol.for("react.strict_mode"):60108,ty=Jn?Symbol.for("react.profiler"):60114,ny=Jn?Symbol.for("react.provider"):60109,ry=Jn?Symbol.for("react.context"):60110,vC=Jn?Symbol.for("react.async_mode"):60111,iy=Jn?Symbol.for("react.concurrent_mode"):60111,oy=Jn?Symbol.for("react.forward_ref"):60112,ay=Jn?Symbol.for("react.suspense"):60113,KY=Jn?Symbol.for("react.suspense_list"):60120,sy=Jn?Symbol.for("react.memo"):60115,ly=Jn?Symbol.for("react.lazy"):60116,qY=Jn?Symbol.for("react.block"):60121,VY=Jn?Symbol.for("react.fundamental"):60117,HY=Jn?Symbol.for("react.responder"):60118,GY=Jn?Symbol.for("react.scope"):60119;function Oi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case mC:switch(e=e.type,e){case vC:case iy:case Zv:case ty:case ey:case ay:return e;default:switch(e=e&&e.$$typeof,e){case ry:case oy:case ly:case sy:case ny:return e;default:return t}}case gC:return t}}}function uD(e){return Oi(e)===iy}Zt.AsyncMode=vC;Zt.ConcurrentMode=iy;Zt.ContextConsumer=ry;Zt.ContextProvider=ny;Zt.Element=mC;Zt.ForwardRef=oy;Zt.Fragment=Zv;Zt.Lazy=ly;Zt.Memo=sy;Zt.Portal=gC;Zt.Profiler=ty;Zt.StrictMode=ey;Zt.Suspense=ay;Zt.isAsyncMode=function(e){return uD(e)||Oi(e)===vC};Zt.isConcurrentMode=uD;Zt.isContextConsumer=function(e){return Oi(e)===ry};Zt.isContextProvider=function(e){return Oi(e)===ny};Zt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===mC};Zt.isForwardRef=function(e){return Oi(e)===oy};Zt.isFragment=function(e){return Oi(e)===Zv};Zt.isLazy=function(e){return Oi(e)===ly};Zt.isMemo=function(e){return Oi(e)===sy};Zt.isPortal=function(e){return Oi(e)===gC};Zt.isProfiler=function(e){return Oi(e)===ty};Zt.isStrictMode=function(e){return Oi(e)===ey};Zt.isSuspense=function(e){return Oi(e)===ay};Zt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Zv||e===iy||e===ty||e===ey||e===ay||e===KY||typeof e=="object"&&e!==null&&(e.$$typeof===ly||e.$$typeof===sy||e.$$typeof===ny||e.$$typeof===ry||e.$$typeof===oy||e.$$typeof===VY||e.$$typeof===HY||e.$$typeof===GY||e.$$typeof===qY)};Zt.typeOf=Oi;lD.exports=Zt;var yC=lD.exports,YY={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},XY={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},JY={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},cD={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},wC={};wC[yC.ForwardRef]=JY;wC[yC.Memo]=cD;function R_(e){return yC.isMemo(e)?cD:wC[e.$$typeof]||YY}var QY=Object.defineProperty,ZY=Object.getOwnPropertyNames,P_=Object.getOwnPropertySymbols,e8=Object.getOwnPropertyDescriptor,t8=Object.getPrototypeOf,k_=Object.prototype;function fD(e,t,n){if(typeof t!="string"){if(k_){var r=t8(t);r&&r!==k_&&fD(e,r,n)}var i=ZY(t);P_&&(i=i.concat(P_(t)));for(var o=R_(e),s=R_(t),u=0;u<i.length;++u){var h=i[u];if(!XY[h]&&!(n&&n[h])&&!(s&&s[h])&&!(o&&o[h])){var m=e8(t,h);try{QY(e,h,m)}catch{}}}}return e}var D_=fD,dD={exports:{}},nn={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy=60103,cy=60106,up=60107,cp=60108,fp=60114,dp=60109,hp=60110,pp=60112,mp=60113,bC=60120,gp=60115,vp=60116,hD=60121,pD=60122,mD=60117,gD=60129,vD=60131;if(typeof Symbol=="function"&&Symbol.for){var nr=Symbol.for;uy=nr("react.element"),cy=nr("react.portal"),up=nr("react.fragment"),cp=nr("react.strict_mode"),fp=nr("react.profiler"),dp=nr("react.provider"),hp=nr("react.context"),pp=nr("react.forward_ref"),mp=nr("react.suspense"),bC=nr("react.suspense_list"),gp=nr("react.memo"),vp=nr("react.lazy"),hD=nr("react.block"),pD=nr("react.server.block"),mD=nr("react.fundamental"),gD=nr("react.debug_trace_mode"),vD=nr("react.legacy_hidden")}function Bo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case uy:switch(e=e.type,e){case up:case fp:case cp:case mp:case bC:return e;default:switch(e=e&&e.$$typeof,e){case hp:case pp:case vp:case gp:case dp:return e;default:return t}}case cy:return t}}}var n8=dp,r8=uy,i8=pp,o8=up,a8=vp,s8=gp,l8=cy,u8=fp,c8=cp,f8=mp;nn.ContextConsumer=hp;nn.ContextProvider=n8;nn.Element=r8;nn.ForwardRef=i8;nn.Fragment=o8;nn.Lazy=a8;nn.Memo=s8;nn.Portal=l8;nn.Profiler=u8;nn.StrictMode=c8;nn.Suspense=f8;nn.isAsyncMode=function(){return!1};nn.isConcurrentMode=function(){return!1};nn.isContextConsumer=function(e){return Bo(e)===hp};nn.isContextProvider=function(e){return Bo(e)===dp};nn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===uy};nn.isForwardRef=function(e){return Bo(e)===pp};nn.isFragment=function(e){return Bo(e)===up};nn.isLazy=function(e){return Bo(e)===vp};nn.isMemo=function(e){return Bo(e)===gp};nn.isPortal=function(e){return Bo(e)===cy};nn.isProfiler=function(e){return Bo(e)===fp};nn.isStrictMode=function(e){return Bo(e)===cp};nn.isSuspense=function(e){return Bo(e)===mp};nn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===up||e===fp||e===gD||e===cp||e===mp||e===bC||e===vD||typeof e=="object"&&e!==null&&(e.$$typeof===vp||e.$$typeof===gp||e.$$typeof===dp||e.$$typeof===hp||e.$$typeof===pp||e.$$typeof===mD||e.$$typeof===hD||e[0]===pD)};nn.typeOf=Bo;dD.exports=nn;var d8=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],h8=["reactReduxForwardedRef"],p8=[],m8=[null,null];function g8(e,t){var n=e[1];return[t.payload,n+1]}function L_(e,t,n){sD(function(){return e.apply(void 0,t)},n)}function v8(e,t,n,r,i,o,s){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,s())}function y8(e,t,n,r,i,o,s,u,h,m){if(!!e){var v=!1,w=null,b=function(){if(!v){var R=t.getState(),S,E;try{S=r(R,i.current)}catch(I){E=I,w=I}E||(w=null),S===o.current?s.current||h():(o.current=S,u.current=S,s.current=!0,m({type:"STORE_UPDATED",payload:{error:E}}))}};n.onStateChange=b,n.trySubscribe(),b();var N=function(){if(v=!0,n.tryUnsubscribe(),n.onStateChange=null,w)throw w};return N}}var w8=function(){return[null,0]};function b8(e,t){t===void 0&&(t={});var n=t,r=n.getDisplayName,i=r===void 0?function(P){return"ConnectAdvanced("+P+")"}:r,o=n.methodName,s=o===void 0?"connectAdvanced":o,u=n.renderCountProp,h=u===void 0?void 0:u,m=n.shouldHandleStateChanges,v=m===void 0?!0:m,w=n.storeKey,b=w===void 0?"store":w;n.withRef;var N=n.forwardRef,T=N===void 0?!1:N,R=n.context,S=R===void 0?iD:R,E=ev(n,d8),I=S;return function(O){var B=O.displayName||O.name||"Component",A=i(B),z=ft({},E,{getDisplayName:i,methodName:s,renderCountProp:h,shouldHandleStateChanges:v,storeKey:b,displayName:A,wrappedComponentName:B,WrappedComponent:O}),M=E.pure;function F(V){return e(V.dispatch,z)}var U=M?Q.exports.useMemo:function(V){return V()};function W(V){var oe=Q.exports.useMemo(function(){var Pe=V.reactReduxForwardedRef,Ie=ev(V,h8);return[V.context,Pe,Ie]},[V]),ne=oe[0],J=oe[1],Y=oe[2],X=Q.exports.useMemo(function(){return ne&&ne.Consumer&&dD.exports.isContextConsumer(Yr.createElement(ne.Consumer,null))?ne:I},[ne,I]),re=Q.exports.useContext(X),ie=Boolean(V.store)&&Boolean(V.store.getState)&&Boolean(V.store.dispatch);Boolean(re)&&Boolean(re.store);var ce=ie?V.store:re.store,ye=Q.exports.useMemo(function(){return F(ce)},[ce]),ge=Q.exports.useMemo(function(){if(!v)return m8;var Pe=aD(ce,ie?null:re.subscription),Ie=Pe.notifyNestedSubs.bind(Pe);return[Pe,Ie]},[ce,ie,re]),fe=ge[0],Me=ge[1],je=Q.exports.useMemo(function(){return ie?re:ft({},re,{subscription:fe})},[ie,re,fe]),Ae=Q.exports.useReducer(g8,p8,w8),_e=Ae[0],be=_e[0],De=Ae[1];if(be&&be.error)throw be.error;var Re=Q.exports.useRef(),Ge=Q.exports.useRef(Y),ht=Q.exports.useRef(),Dt=Q.exports.useRef(!1),He=U(function(){return ht.current&&Y===Ge.current?ht.current:ye(ce.getState(),Y)},[ce,be,Y]);L_(v8,[Ge,Re,Dt,Y,He,ht,Me]),L_(y8,[v,ce,fe,ye,Ge,Re,Dt,ht,Me,De],[ce,fe,ye]);var le=Q.exports.useMemo(function(){return y(O,{...He,ref:J})},[J,O,He]),ve=Q.exports.useMemo(function(){return v?y(X.Provider,{value:je,children:le}):le},[X,le,je]);return ve}var G=M?Yr.memo(W):W;if(G.WrappedComponent=O,G.displayName=W.displayName=A,T){var te=Yr.forwardRef(function(oe,ne){return y(G,{...oe,reactReduxForwardedRef:ne})});return te.displayName=A,te.WrappedComponent=O,D_(te,O)}return D_(G,O)}}function M_(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Rb(e,t){if(M_(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!M_(e[n[i]],t[n[i]]))return!1;return!0}function S8(e,t){var n={},r=function(s){var u=e[s];typeof u=="function"&&(n[s]=function(){return t(u.apply(void 0,arguments))})};for(var i in e)r(i);return n}function SC(e){return function(n,r){var i=e(n,r);function o(){return i}return o.dependsOnOwnProps=!1,o}}function z_(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?Boolean(e.dependsOnOwnProps):e.length!==1}function yD(e,t){return function(r,i){i.displayName;var o=function(u,h){return o.dependsOnOwnProps?o.mapToProps(u,h):o.mapToProps(u)};return o.dependsOnOwnProps=!0,o.mapToProps=function(u,h){o.mapToProps=e,o.dependsOnOwnProps=z_(e);var m=o(u,h);return typeof m=="function"&&(o.mapToProps=m,o.dependsOnOwnProps=z_(m),m=o(u,h)),m},o}}function E8(e){return typeof e=="function"?yD(e):void 0}function C8(e){return e?void 0:SC(function(t){return{dispatch:t}})}function x8(e){return e&&typeof e=="object"?SC(function(t){return S8(e,t)}):void 0}var N8=[E8,C8,x8];function I8(e){return typeof e=="function"?yD(e):void 0}function T8(e){return e?void 0:SC(function(){return{}})}var O8=[I8,T8];function _8(e,t,n){return ft({},n,e,t)}function A8(e){return function(n,r){r.displayName;var i=r.pure,o=r.areMergedPropsEqual,s=!1,u;return function(m,v,w){var b=e(m,v,w);return s?(!i||!o(b,u))&&(u=b):(s=!0,u=b),u}}}function R8(e){return typeof e=="function"?A8(e):void 0}function P8(e){return e?void 0:function(){return _8}}var k8=[R8,P8],D8=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function L8(e,t,n,r){return function(o,s){return n(e(o,s),t(r,s),s)}}function M8(e,t,n,r,i){var o=i.areStatesEqual,s=i.areOwnPropsEqual,u=i.areStatePropsEqual,h=!1,m,v,w,b,N;function T(P,O){return m=P,v=O,w=e(m,v),b=t(r,v),N=n(w,b,v),h=!0,N}function R(){return w=e(m,v),t.dependsOnOwnProps&&(b=t(r,v)),N=n(w,b,v),N}function S(){return e.dependsOnOwnProps&&(w=e(m,v)),t.dependsOnOwnProps&&(b=t(r,v)),N=n(w,b,v),N}function E(){var P=e(m,v),O=!u(P,w);return w=P,O&&(N=n(w,b,v)),N}function I(P,O){var B=!s(O,v),A=!o(P,m);return m=P,v=O,B&&A?R():B?S():A?E():N}return function(O,B){return h?I(O,B):T(O,B)}}function z8(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=ev(t,D8),s=n(e,o),u=r(e,o),h=i(e,o),m=o.pure?M8:L8;return m(s,u,h,e,o)}var B8=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Pb(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(o,s){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+s.wrappedComponentName+".")}}function F8(e,t){return e===t}function U8(e){var t=e===void 0?{}:e,n=t.connectHOC,r=n===void 0?b8:n,i=t.mapStateToPropsFactories,o=i===void 0?O8:i,s=t.mapDispatchToPropsFactories,u=s===void 0?N8:s,h=t.mergePropsFactories,m=h===void 0?k8:h,v=t.selectorFactory,w=v===void 0?z8:v;return function(N,T,R,S){S===void 0&&(S={});var E=S,I=E.pure,P=I===void 0?!0:I,O=E.areStatesEqual,B=O===void 0?F8:O,A=E.areOwnPropsEqual,z=A===void 0?Rb:A,M=E.areStatePropsEqual,F=M===void 0?Rb:M,U=E.areMergedPropsEqual,W=U===void 0?Rb:U,G=ev(E,B8),te=Pb(N,o,"mapStateToProps"),V=Pb(T,u,"mapDispatchToProps"),oe=Pb(R,m,"mergeProps");return r(w,ft({methodName:"connect",getDisplayName:function(J){return"Connect("+J+")"},shouldHandleStateChanges:Boolean(N),initMapStateToProps:te,initMapDispatchToProps:V,initMergeProps:oe,pure:P,areStatesEqual:B,areOwnPropsEqual:z,areStatePropsEqual:F,areMergedPropsEqual:W},G))}}var wD=U8();UY(mv.exports.unstable_batchedUpdates);function $8(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function bD(e,t){var n=Q.exports.useState(function(){return{inputs:t,result:e()}})[0],r=Q.exports.useRef(!0),i=Q.exports.useRef(n),o=r.current||Boolean(t&&i.current.inputs&&$8(t,i.current.inputs)),s=o?i.current:{inputs:t,result:e()};return Q.exports.useEffect(function(){r.current=!1,i.current=s},[s]),s.result}function W8(e,t){return bD(function(){return e},t)}var zt=bD,rt=W8,j8=!0,kb="Invariant failed";function K8(e,t){if(!e){if(j8)throw new Error(kb);var n=typeof t=="function"?t():t,r=n?kb+": "+n:kb;throw new Error(r)}}var To=function(t){var n=t.top,r=t.right,i=t.bottom,o=t.left,s=r-o,u=i-n,h={top:n,right:r,bottom:i,left:o,width:s,height:u,x:o,y:n,center:{x:(r+o)/2,y:(i+n)/2}};return h},EC=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},B_=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},q8=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Db={top:0,right:0,bottom:0,left:0},CC=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?Db:r,o=t.border,s=o===void 0?Db:o,u=t.padding,h=u===void 0?Db:u,m=To(EC(n,i)),v=To(B_(n,s)),w=To(B_(v,h));return{marginBox:m,borderBox:To(n),paddingBox:v,contentBox:w,margin:i,border:s,padding:h}},$i=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&K8(!1),i},V8=function(){return{x:window.pageXOffset,y:window.pageYOffset}},tv=function(t,n){var r=t.borderBox,i=t.border,o=t.margin,s=t.padding,u=q8(r,n);return CC({borderBox:u,border:i,margin:o,padding:s})},nv=function(t,n){return n===void 0&&(n=V8()),tv(t,n)},SD=function(t,n){var r={top:$i(n.marginTop),right:$i(n.marginRight),bottom:$i(n.marginBottom),left:$i(n.marginLeft)},i={top:$i(n.paddingTop),right:$i(n.paddingRight),bottom:$i(n.paddingBottom),left:$i(n.paddingLeft)},o={top:$i(n.borderTopWidth),right:$i(n.borderRightWidth),bottom:$i(n.borderBottomWidth),left:$i(n.borderLeftWidth)};return CC({borderBox:t,margin:r,padding:i,border:o})},ED=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return SD(n,r)},F_=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function H8(e,t){return!!(e===t||F_(e)&&F_(t))}function G8(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!H8(e[n],t[n]))return!1;return!0}function Vn(e,t){t===void 0&&(t=G8);var n,r=[],i,o=!1;function s(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];return o&&n===this&&t(u,r)||(i=e.apply(this,u),o=!0,n=this,r=u),i}return s}var Y8=function(t){var n=[],r=null,i=function(){for(var s=arguments.length,u=new Array(s),h=0;h<s;h++)u[h]=arguments[h];n=u,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){!r||(cancelAnimationFrame(r),r=null)},i},Bh=Y8;function CD(e,t){}CD.bind(null,"warn");CD.bind(null,"error");function Ys(){}function X8(e,t){return ft({},e,{},t)}function qi(e,t,n){var r=t.map(function(i){var o=X8(n,i.options);return e.addEventListener(i.eventName,i.fn,o),function(){e.removeEventListener(i.eventName,i.fn,o)}});return function(){r.forEach(function(o){o()})}}var J8="Invariant failed";function rv(e){this.message=e}rv.prototype.toString=function(){return this.message};function Le(e,t){if(!e)throw new rv(J8)}var Q8=function(e){tD(t,e);function t(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o))||this,r.callbacks=null,r.unbind=Ys,r.onWindowError=function(u){var h=r.getCallbacks();h.isDragging()&&h.tryAbort();var m=u.error;m instanceof rv&&u.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(u){r.callbacks=u},r}var n=t.prototype;return n.componentDidMount=function(){this.unbind=qi(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(i){if(i instanceof rv){this.setState({});return}throw i},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(Yr.Component),Z8=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,iv=function(t){return t+1},e9=function(t){return`
  You have lifted an item in position `+iv(t.source.index)+`
`},xD=function(t,n){var r=t.droppableId===n.droppableId,i=iv(t.index),o=iv(n.index);return r?`
      You have moved the item from position `+i+`
      to position `+o+`
    `:`
    You have moved the item from position `+i+`
    in list `+t.droppableId+`
    to list `+n.droppableId+`
    in position `+o+`
  `},ND=function(t,n,r){var i=n.droppableId===r.droppableId;return i?`
      The item `+t+`
      has been combined with `+r.draggableId:`
      The item `+t+`
      in list `+n.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},t9=function(t){var n=t.destination;if(n)return xD(t.source,n);var r=t.combine;return r?ND(t.draggableId,t.source,r):"You are over an area that cannot be dropped on"},U_=function(t){return`
  The item has returned to its starting position
  of `+iv(t.index)+`
`},n9=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+U_(t.source)+`
    `;var n=t.destination,r=t.combine;return n?`
      You have dropped the item.
      `+xD(t.source,n)+`
    `:r?`
      You have dropped the item.
      `+ND(t.draggableId,t.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+U_(t.source)+`
  `},Jm={dragHandleUsageInstructions:Z8,onDragStart:e9,onDragUpdate:t9,onDragEnd:n9},Xn={x:0,y:0},sr=function(t,n){return{x:t.x+n.x,y:t.y+n.y}},mi=function(t,n){return{x:t.x-n.x,y:t.y-n.y}},Xs=function(t,n){return t.x===n.x&&t.y===n.y},Af=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},Iu=function(t,n,r){var i;return r===void 0&&(r=0),i={},i[t]=n,i[t==="x"?"y":"x"]=r,i},Fh=function(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))},$_=function(t,n){return Math.min.apply(Math,n.map(function(r){return Fh(t,r)}))},ID=function(t){return function(n){return{x:t(n.x),y:t(n.y)}}},r9=function(e,t){var n=To({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n},yp=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},W_=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},i9={top:0,right:0,bottom:0,left:0},o9=function(t,n){return n?yp(t,n.scroll.diff.displacement):t},a9=function(t,n,r){if(r&&r.increasedBy){var i;return ft({},t,(i={},i[n.end]=t[n.end]+r.increasedBy[n.line],i))}return t},s9=function(t,n){return n&&n.shouldClipSubject?r9(n.pageMarginBox,t):To(t)},cf=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,i=e.frame,o=o9(t.marginBox,i),s=a9(o,r,n),u=s9(s,i);return{page:t,withPlaceholder:n,active:u}},xC=function(e,t){e.frame||Le(!1);var n=e.frame,r=mi(t,n.scroll.initial),i=Af(r),o=ft({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}}),s=cf({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o}),u=ft({},e,{frame:o,subject:s});return u};function ov(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function NC(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function hl(e,t){if(e.find)return e.find(t);var n=NC(e,t);if(n!==-1)return e[n]}function TD(e){return Array.prototype.slice.call(e)}var OD=Vn(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),_D=Vn(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),fy=Vn(function(e){return ov(e)}),l9=Vn(function(e){return ov(e)}),Rf=Vn(function(e,t){var n=l9(t).filter(function(r){return e===r.descriptor.droppableId}).sort(function(r,i){return r.descriptor.index-i.descriptor.index});return n});function IC(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function dy(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var hy=Vn(function(e,t){return t.filter(function(n){return n.descriptor.id!==e.descriptor.id})}),u9=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.previousImpact;if(!r.isCombineEnabled)return null;var s=IC(o);if(!s)return null;function u(R){var S={type:"COMBINE",combine:{draggableId:R,droppableId:r.descriptor.id}};return ft({},o,{at:S})}var h=o.displaced.all,m=h.length?h[0]:null;if(t)return m?u(m):null;var v=hy(n,i);if(!m){if(!v.length)return null;var w=v[v.length-1];return u(w.descriptor.id)}var b=NC(v,function(R){return R.descriptor.id===m});b===-1&&Le(!1);var N=b-1;if(N<0)return null;var T=v[N];return u(T.descriptor.id)},Pf=function(e,t){return e.descriptor.droppableId===t.descriptor.id},AD={point:Xn,value:0},Uh={invisible:{},visible:{},all:[]},c9={displaced:Uh,displacedBy:AD,at:null},Gi=function(e,t){return function(n){return e<=n&&n<=t}},RD=function(e){var t=Gi(e.top,e.bottom),n=Gi(e.left,e.right);return function(r){var i=t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right);if(i)return!0;var o=t(r.top)||t(r.bottom),s=n(r.left)||n(r.right),u=o&&s;if(u)return!0;var h=r.top<e.top&&r.bottom>e.bottom,m=r.left<e.left&&r.right>e.right,v=h&&m;if(v)return!0;var w=h&&s||m&&o;return w}},f9=function(e){var t=Gi(e.top,e.bottom),n=Gi(e.left,e.right);return function(r){var i=t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right);return i}},TC={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},PD={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},d9=function(e){return function(t){var n=Gi(t.top,t.bottom),r=Gi(t.left,t.right);return function(i){return e===TC?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)}}},h9=function(t,n){var r=n.frame?n.frame.scroll.diff.displacement:Xn;return yp(t,r)},p9=function(t,n,r){return n.subject.active?r(n.subject.active)(t):!1},m9=function(t,n,r){return r(n)(t)},OC=function(t){var n=t.target,r=t.destination,i=t.viewport,o=t.withDroppableDisplacement,s=t.isVisibleThroughFrameFn,u=o?h9(n,r):n;return p9(u,r,s)&&m9(u,i,s)},g9=function(t){return OC(ft({},t,{isVisibleThroughFrameFn:RD}))},kD=function(t){return OC(ft({},t,{isVisibleThroughFrameFn:f9}))},v9=function(t){return OC(ft({},t,{isVisibleThroughFrameFn:d9(t.destination.axis)}))},y9=function(t,n,r){if(typeof r=="boolean")return r;if(!n)return!0;var i=n.invisible,o=n.visible;if(i[t])return!1;var s=o[t];return s?s.shouldAnimate:!0};function w9(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return To(EC(n,r))}function $h(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,i=e.viewport,o=e.forceShouldAnimate,s=e.last;return t.reduce(function(h,m){var v=w9(m,r),w=m.descriptor.id;h.all.push(w);var b=g9({target:v,destination:n,viewport:i,withDroppableDisplacement:!0});if(!b)return h.invisible[m.descriptor.id]=!0,h;var N=y9(w,s,o),T={draggableId:w,shouldAnimate:N};return h.visible[w]=T,h},{all:[],visible:{},invisible:{}})}function b9(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function j_(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,i=e.destination,o=b9(t,{inHomeList:n});return{displaced:Uh,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function av(e){var t=e.draggable,n=e.insideDestination,r=e.destination,i=e.viewport,o=e.displacedBy,s=e.last,u=e.index,h=e.forceShouldAnimate,m=Pf(t,r);if(u==null)return j_({insideDestination:n,inHomeList:m,displacedBy:o,destination:r});var v=hl(n,function(R){return R.descriptor.index===u});if(!v)return j_({insideDestination:n,inHomeList:m,displacedBy:o,destination:r});var w=hy(t,n),b=n.indexOf(v),N=w.slice(b),T=$h({afterDragging:N,destination:r,displacedBy:o,last:s,viewport:i.frame,forceShouldAnimate:h});return{displaced:T,displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:u}}}}function sl(e,t){return Boolean(t.effected[e])}var S9=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,i=e.combine,o=e.afterCritical;if(!n.isCombineEnabled)return null;var s=i.draggableId,u=r[s],h=u.descriptor.index,m=sl(s,o);return m?t?h:h-1:t?h+1:h},E9=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,i=e.location;if(!r.length)return null;var o=i.index,s=t?o+1:o-1,u=r[0].descriptor.index,h=r[r.length-1].descriptor.index,m=n?h:h+1;return s<u||s>m?null:s},C9=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,i=e.draggables,o=e.destination,s=e.insideDestination,u=e.previousImpact,h=e.viewport,m=e.afterCritical,v=u.at;if(v||Le(!1),v.type==="REORDER"){var w=E9({isMovingForward:t,isInHomeList:n,location:v.destination,insideDestination:s});return w==null?null:av({draggable:r,insideDestination:s,destination:o,viewport:h,last:u.displaced,displacedBy:u.displacedBy,index:w})}var b=S9({isMovingForward:t,destination:o,displaced:u.displaced,draggables:i,combine:v.combine,afterCritical:m});return b==null?null:av({draggable:r,insideDestination:s,destination:o,viewport:h,last:u.displaced,displacedBy:u.displacedBy,index:b})},x9=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,i=e.displacedBy,o=Boolean(t.visible[r]||t.invisible[r]);return sl(r,n)?o?Xn:Af(i.point):o?i.point:Xn},N9=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,i=dy(n);i||Le(!1);var o=i.draggableId,s=r[o].page.borderBox.center,u=x9({displaced:n.displaced,afterCritical:t,combineWith:o,displacedBy:n.displacedBy});return sr(s,u)},DD=function(t,n){return n.margin[t.start]+n.borderBox[t.size]/2},I9=function(t,n){return n.margin[t.end]+n.borderBox[t.size]/2},_C=function(t,n,r){return n[t.crossAxisStart]+r.margin[t.crossAxisStart]+r.borderBox[t.crossAxisSize]/2},K_=function(t){var n=t.axis,r=t.moveRelativeTo,i=t.isMoving;return Iu(n.line,r.marginBox[n.end]+DD(n,i),_C(n,r.marginBox,i))},q_=function(t){var n=t.axis,r=t.moveRelativeTo,i=t.isMoving;return Iu(n.line,r.marginBox[n.start]-I9(n,i),_C(n,r.marginBox,i))},T9=function(t){var n=t.axis,r=t.moveInto,i=t.isMoving;return Iu(n.line,r.contentBox[n.start]+DD(n,i),_C(n,r.contentBox,i))},O9=function(e){var t=e.impact,n=e.draggable,r=e.draggables,i=e.droppable,o=e.afterCritical,s=Rf(i.descriptor.id,r),u=n.page,h=i.axis;if(!s.length)return T9({axis:h,moveInto:i.page,isMoving:u});var m=t.displaced,v=t.displacedBy,w=m.all[0];if(w){var b=r[w];if(sl(w,o))return q_({axis:h,moveRelativeTo:b.page,isMoving:u});var N=tv(b.page,v.point);return q_({axis:h,moveRelativeTo:N,isMoving:u})}var T=s[s.length-1];if(T.descriptor.id===n.descriptor.id)return u.borderBox.center;if(sl(T.descriptor.id,o)){var R=tv(T.page,Af(o.displacedBy.point));return K_({axis:h,moveRelativeTo:R,isMoving:u})}return K_({axis:h,moveRelativeTo:T.page,isMoving:u})},pS=function(e,t){var n=e.frame;return n?sr(t,n.scroll.diff.displacement):t},_9=function(t){var n=t.impact,r=t.draggable,i=t.droppable,o=t.draggables,s=t.afterCritical,u=r.page.borderBox.center,h=n.at;return!i||!h?u:h.type==="REORDER"?O9({impact:n,draggable:r,draggables:o,droppable:i,afterCritical:s}):N9({impact:n,draggables:o,afterCritical:s})},py=function(e){var t=_9(e),n=e.droppable,r=n?pS(n,t):t;return r},LD=function(e,t){var n=mi(t,e.scroll.initial),r=Af(n),i=To({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),o={frame:i,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}};return o};function V_(e,t){return e.map(function(n){return t[n]})}function A9(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}var R9=function(e){var t=e.impact,n=e.viewport,r=e.destination,i=e.draggables,o=e.maxScrollChange,s=LD(n,sr(n.scroll.current,o)),u=r.frame?xC(r,sr(r.frame.scroll.current,o)):r,h=t.displaced,m=$h({afterDragging:V_(h.all,i),destination:r,displacedBy:t.displacedBy,viewport:s.frame,last:h,forceShouldAnimate:!1}),v=$h({afterDragging:V_(h.all,i),destination:u,displacedBy:t.displacedBy,viewport:n.frame,last:h,forceShouldAnimate:!1}),w={},b={},N=[h,m,v];h.all.forEach(function(R){var S=A9(R,N);if(S){b[R]=S;return}w[R]=!0});var T=ft({},t,{displaced:{all:h.all,invisible:w,visible:b}});return T},P9=function(e,t){return sr(e.scroll.diff.displacement,t)},AC=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=e.viewport,i=P9(r,t),o=mi(i,n.page.borderBox.center);return sr(n.client.borderBox.center,o)},MD=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,i=e.viewport,o=e.withDroppableDisplacement,s=e.onlyOnMainAxis,u=s===void 0?!1:s,h=mi(r,t.page.borderBox.center),m=yp(t.page.borderBox,h),v={target:m,destination:n,withDroppableDisplacement:o,viewport:i};return u?v9(v):kD(v)},k9=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.draggables,o=e.previousImpact,s=e.viewport,u=e.previousPageBorderBoxCenter,h=e.previousClientSelection,m=e.afterCritical;if(!r.isEnabled)return null;var v=Rf(r.descriptor.id,i),w=Pf(n,r),b=u9({isMovingForward:t,draggable:n,destination:r,insideDestination:v,previousImpact:o})||C9({isMovingForward:t,isInHomeList:w,draggable:n,draggables:i,destination:r,insideDestination:v,previousImpact:o,viewport:s,afterCritical:m});if(!b)return null;var N=py({impact:b,draggable:n,droppable:r,draggables:i,afterCritical:m}),T=MD({draggable:n,destination:r,newPageBorderBoxCenter:N,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(T){var R=AC({pageBorderBoxCenter:N,draggable:n,viewport:s});return{clientSelection:R,impact:b,scrollJumpRequest:null}}var S=mi(N,u),E=R9({impact:b,viewport:s,destination:r,draggables:i,maxScrollChange:S});return{clientSelection:h,impact:E,scrollJumpRequest:S}},_r=function(t){var n=t.subject.active;return n||Le(!1),n},D9=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,i=e.droppables,o=e.viewport,s=r.subject.active;if(!s)return null;var u=r.axis,h=Gi(s[u.start],s[u.end]),m=fy(i).filter(function(w){return w!==r}).filter(function(w){return w.isEnabled}).filter(function(w){return Boolean(w.subject.active)}).filter(function(w){return RD(o.frame)(_r(w))}).filter(function(w){var b=_r(w);return t?s[u.crossAxisEnd]<b[u.crossAxisEnd]:b[u.crossAxisStart]<s[u.crossAxisStart]}).filter(function(w){var b=_r(w),N=Gi(b[u.start],b[u.end]);return h(b[u.start])||h(b[u.end])||N(s[u.start])||N(s[u.end])}).sort(function(w,b){var N=_r(w)[u.crossAxisStart],T=_r(b)[u.crossAxisStart];return t?N-T:T-N}).filter(function(w,b,N){return _r(w)[u.crossAxisStart]===_r(N[0])[u.crossAxisStart]});if(!m.length)return null;if(m.length===1)return m[0];var v=m.filter(function(w){var b=Gi(_r(w)[u.start],_r(w)[u.end]);return b(n[u.line])});return v.length===1?v[0]:v.length>1?v.sort(function(w,b){return _r(w)[u.start]-_r(b)[u.start]})[0]:m.sort(function(w,b){var N=$_(n,W_(_r(w))),T=$_(n,W_(_r(b)));return N!==T?N-T:_r(w)[u.start]-_r(b)[u.start]})[0]},H_=function(t,n){var r=t.page.borderBox.center;return sl(t.descriptor.id,n)?mi(r,n.displacedBy.point):r},L9=function(t,n){var r=t.page.borderBox;return sl(t.descriptor.id,n)?yp(r,Af(n.displacedBy.point)):r},M9=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,i=e.insideDestination,o=e.afterCritical,s=i.filter(function(u){return kD({target:L9(u,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(u,h){var m=Fh(t,pS(r,H_(u,o))),v=Fh(t,pS(r,H_(h,o)));return m<v?-1:v<m?1:u.descriptor.index-h.descriptor.index});return s[0]||null},wp=Vn(function(t,n){var r=n[t.line];return{value:r,point:Iu(t.line,r)}}),z9=function(t,n,r){var i=t.axis;if(t.descriptor.mode==="virtual")return Iu(i.line,n[i.line]);var o=t.subject.page.contentBox[i.size],s=Rf(t.descriptor.id,r),u=s.reduce(function(v,w){return v+w.client.marginBox[i.size]},0),h=u+n[i.line],m=h-o;return m<=0?null:Iu(i.line,m)},zD=function(t,n){return ft({},t,{scroll:ft({},t.scroll,{max:n})})},BD=function(t,n,r){var i=t.frame;Pf(n,t)&&Le(!1),t.subject.withPlaceholder&&Le(!1);var o=wp(t.axis,n.displaceBy).point,s=z9(t,o,r),u={placeholderSize:o,increasedBy:s,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!i){var h=cf({page:t.subject.page,withPlaceholder:u,axis:t.axis,frame:t.frame});return ft({},t,{subject:h})}var m=s?sr(i.scroll.max,s):i.scroll.max,v=zD(i,m),w=cf({page:t.subject.page,withPlaceholder:u,axis:t.axis,frame:v});return ft({},t,{subject:w,frame:v})},B9=function(t){var n=t.subject.withPlaceholder;n||Le(!1);var r=t.frame;if(!r){var i=cf({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return ft({},t,{subject:i})}var o=n.oldFrameMaxScroll;o||Le(!1);var s=zD(r,o),u=cf({page:t.subject.page,axis:t.axis,frame:s,withPlaceholder:null});return ft({},t,{subject:u,frame:s})},F9=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,i=e.draggable,o=e.draggables,s=e.destination,u=e.viewport,h=e.afterCritical;if(!n){if(r.length)return null;var m={displaced:Uh,displacedBy:AD,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},v=py({impact:m,draggable:i,droppable:s,draggables:o,afterCritical:h}),w=Pf(i,s)?s:BD(s,i,o),b=MD({draggable:i,destination:w,newPageBorderBoxCenter:v,viewport:u.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return b?m:null}var N=Boolean(t[s.axis.line]<=n.page.borderBox.center[s.axis.line]),T=function(){var S=n.descriptor.index;return n.descriptor.id===i.descriptor.id||N?S:S+1}(),R=wp(s.axis,i.displaceBy);return av({draggable:i,insideDestination:r,destination:s,viewport:u,displacedBy:R,last:Uh,index:T})},U9=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,i=e.isOver,o=e.draggables,s=e.droppables,u=e.viewport,h=e.afterCritical,m=D9({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:s,viewport:u});if(!m)return null;var v=Rf(m.descriptor.id,o),w=M9({pageBorderBoxCenter:n,viewport:u,destination:m,insideDestination:v,afterCritical:h}),b=F9({previousPageBorderBoxCenter:n,destination:m,draggable:r,draggables:o,moveRelativeTo:w,insideDestination:v,viewport:u,afterCritical:h});if(!b)return null;var N=py({impact:b,draggable:r,droppable:m,draggables:o,afterCritical:h}),T=AC({pageBorderBoxCenter:N,draggable:r,viewport:u});return{clientSelection:T,impact:b,scrollJumpRequest:null}},wi=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},$9=function(t,n){var r=wi(t);return r?n[r]:null},W9=function(e){var t=e.state,n=e.type,r=$9(t.impact,t.dimensions.droppables),i=Boolean(r),o=t.dimensions.droppables[t.critical.droppable.id],s=r||o,u=s.axis.direction,h=u==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||u==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(h&&!i)return null;var m=n==="MOVE_DOWN"||n==="MOVE_RIGHT",v=t.dimensions.draggables[t.critical.draggable.id],w=t.current.page.borderBoxCenter,b=t.dimensions,N=b.draggables,T=b.droppables;return h?k9({isMovingForward:m,previousPageBorderBoxCenter:w,draggable:v,destination:s,draggables:N,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):U9({isMovingForward:m,previousPageBorderBoxCenter:w,draggable:v,isOver:s,draggables:N,droppables:T,viewport:t.viewport,afterCritical:t.afterCritical})};function eu(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function FD(e){var t=Gi(e.top,e.bottom),n=Gi(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function j9(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function K9(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,i=n.page.borderBox.center,o=r.map(function(s){var u=s.axis,h=Iu(s.axis.line,t.center[u.line],s.page.borderBox.center[u.crossAxisLine]);return{id:s.descriptor.id,distance:Fh(i,h)}}).sort(function(s,u){return u.distance-s.distance});return o[0]?o[0].id:null}function q9(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,i=fy(r).filter(function(o){if(!o.isEnabled)return!1;var s=o.subject.active;if(!s||!j9(t,s))return!1;if(FD(s)(t.center))return!0;var u=o.axis,h=s.center[u.crossAxisLine],m=t[u.crossAxisStart],v=t[u.crossAxisEnd],w=Gi(s[u.crossAxisStart],s[u.crossAxisEnd]),b=w(m),N=w(v);return!b&&!N?!0:b?m<h:v>h});return i.length?i.length===1?i[0].descriptor.id:K9({pageBorderBox:t,draggable:n,candidates:i}):null}var UD=function(t,n){return To(yp(t,n))},V9=function(e,t){var n=e.frame;return n?UD(t,n.scroll.diff.value):t};function $D(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}function H9(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var G9=function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.last,s=e.viewport,u=e.afterCritical,h=r.axis,m=wp(r.axis,n.displaceBy),v=m.value,w=t[h.start],b=t[h.end],N=hy(n,i),T=hl(N,function(S){var E=S.descriptor.id,I=S.page.borderBox.center[h.line],P=sl(E,u),O=$D({displaced:o,id:E});return P?O?b<=I:w<I-v:O?b<=I+v:w<I}),R=H9({draggable:n,closest:T,inHomeList:Pf(n,r)});return av({draggable:n,insideDestination:i,destination:r,viewport:s,last:o,displacedBy:m,index:R})},Y9=4,X9=function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,i=e.destination,o=e.insideDestination,s=e.afterCritical;if(!i.isCombineEnabled)return null;var u=i.axis,h=wp(i.axis,t.displaceBy),m=h.value,v=n[u.start],w=n[u.end],b=hy(t,o),N=hl(b,function(R){var S=R.descriptor.id,E=R.page.borderBox,I=E[u.size],P=I/Y9,O=sl(S,s),B=$D({displaced:r.displaced,id:S});return O?B?w>E[u.start]+P&&w<E[u.end]-P:v>E[u.start]-m+P&&v<E[u.end]-m-P:B?w>E[u.start]+m+P&&w<E[u.end]+m-P:v>E[u.start]+P&&v<E[u.end]-P});if(!N)return null;var T={displacedBy:h,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:N.descriptor.id,droppableId:i.descriptor.id}}};return T},WD=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,i=e.droppables,o=e.previousImpact,s=e.viewport,u=e.afterCritical,h=UD(n.page.borderBox,t),m=q9({pageBorderBox:h,draggable:n,droppables:i});if(!m)return c9;var v=i[m],w=Rf(v.descriptor.id,r),b=V9(v,h);return X9({pageBorderBoxWithDroppableScroll:b,draggable:n,previousImpact:o,destination:v,insideDestination:w,afterCritical:u})||G9({pageBorderBoxWithDroppableScroll:b,draggable:n,destination:v,insideDestination:w,last:o.displaced,viewport:s,afterCritical:u})},RC=function(e,t){var n;return ft({},e,(n={},n[t.descriptor.id]=t,n))},J9=function(t){var n=t.previousImpact,r=t.impact,i=t.droppables,o=wi(n),s=wi(r);if(!o||o===s)return i;var u=i[o];if(!u.subject.withPlaceholder)return i;var h=B9(u);return RC(i,h)},Q9=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,i=e.previousImpact,o=e.impact,s=J9({previousImpact:i,impact:o,droppables:r}),u=wi(o);if(!u)return s;var h=r[u];if(Pf(t,h)||h.subject.withPlaceholder)return s;var m=BD(h,t,n);return RC(s,m)},sh=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,i=e.viewport,o=e.impact,s=e.scrollJumpRequest,u=i||t.viewport,h=r||t.dimensions,m=n||t.current.client.selection,v=mi(m,t.initial.client.selection),w={offset:v,selection:m,borderBoxCenter:sr(t.initial.client.borderBoxCenter,v)},b={selection:sr(w.selection,u.scroll.current),borderBoxCenter:sr(w.borderBoxCenter,u.scroll.current),offset:sr(w.offset,u.scroll.diff.value)},N={client:w,page:b};if(t.phase==="COLLECTING")return ft({phase:"COLLECTING"},t,{dimensions:h,viewport:u,current:N});var T=h.draggables[t.critical.draggable.id],R=o||WD({pageOffset:b.offset,draggable:T,draggables:h.draggables,droppables:h.droppables,previousImpact:t.impact,viewport:u,afterCritical:t.afterCritical}),S=Q9({draggable:T,impact:R,previousImpact:t.impact,draggables:h.draggables,droppables:h.droppables}),E=ft({},t,{current:N,dimensions:{draggables:h.draggables,droppables:S},impact:R,viewport:u,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null});return E};function Z9(e,t){return e.map(function(n){return t[n]})}var jD=function(e){var t=e.impact,n=e.viewport,r=e.draggables,i=e.destination,o=e.forceShouldAnimate,s=t.displaced,u=Z9(s.all,r),h=$h({afterDragging:u,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:s});return ft({},t,{displaced:h})},KD=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,o=e.viewport,s=e.afterCritical,u=py({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:s});return AC({pageBorderBoxCenter:u,draggable:n,viewport:o})},qD=function(e){var t=e.state,n=e.dimensions,r=e.viewport;t.movementMode!=="SNAP"&&Le(!1);var i=t.impact,o=r||t.viewport,s=n||t.dimensions,u=s.draggables,h=s.droppables,m=u[t.critical.draggable.id],v=wi(i);v||Le(!1);var w=h[v],b=jD({impact:i,viewport:o,destination:w,draggables:u}),N=KD({impact:b,draggable:m,droppable:w,draggables:u,viewport:o,afterCritical:t.afterCritical});return sh({impact:b,clientSelection:N,state:t,dimensions:s,viewport:o})},e7=function(e){return{index:e.index,droppableId:e.droppableId}},VD=function(e){var t=e.draggable,n=e.home,r=e.draggables,i=e.viewport,o=wp(n.axis,t.displaceBy),s=Rf(n.descriptor.id,r),u=s.indexOf(t);u===-1&&Le(!1);var h=s.slice(u+1),m=h.reduce(function(N,T){return N[T.descriptor.id]=!0,N},{}),v={inVirtualList:n.descriptor.mode==="virtual",displacedBy:o,effected:m},w=$h({afterDragging:h,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),b={displaced:w,displacedBy:o,at:{type:"REORDER",destination:e7(t.descriptor)}};return{impact:b,afterCritical:v}},t7=function(e,t){return{draggables:e.draggables,droppables:RC(e.droppables,t)}},n7=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,i=tv(t.client,n),o=nv(i,r),s=ft({},t,{placeholder:ft({},t.placeholder,{client:i}),client:i,page:o});return s},r7=function(e){var t=e.frame;return t||Le(!1),t},i7=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,i=r.scroll.diff.value;return t.map(function(o){var s=o.descriptor.droppableId,u=n[s],h=r7(u),m=h.scroll.diff.value,v=sr(i,m),w=n7({draggable:o,offset:v,initialWindowScroll:r.scroll.initial});return w})},o7=function(e){var t=e.state,n=e.published,r=n.modified.map(function(P){var O=t.dimensions.droppables[P.droppableId],B=xC(O,P.scroll);return B}),i=ft({},t.dimensions.droppables,{},OD(r)),o=_D(i7({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),s=ft({},t.dimensions.draggables,{},o);n.removals.forEach(function(P){delete s[P]});var u={droppables:i,draggables:s},h=wi(t.impact),m=h?u.droppables[h]:null,v=u.draggables[t.critical.draggable.id],w=u.droppables[t.critical.droppable.id],b=VD({draggable:v,home:w,draggables:s,viewport:t.viewport}),N=b.impact,T=b.afterCritical,R=m&&m.isCombineEnabled?t.impact:N,S=WD({pageOffset:t.current.page.offset,draggable:u.draggables[t.critical.draggable.id],draggables:u.draggables,droppables:u.droppables,previousImpact:R,viewport:t.viewport,afterCritical:T}),E=ft({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:S,onLiftImpact:N,dimensions:u,afterCritical:T,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return E;var I=ft({phase:"DROP_PENDING"},E,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return I},mS=function(t){return t.movementMode==="SNAP"},Lb=function(t,n,r){var i=t7(t.dimensions,n);return!mS(t)||r?sh({state:t,dimensions:i}):qD({state:t,dimensions:i})};function Mb(e){return e.isDragging&&e.movementMode==="SNAP"?ft({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var G_={phase:"IDLE",completed:null,shouldFlush:!1},a7=function(e,t){if(e===void 0&&(e=G_),t.type==="FLUSH")return ft({},G_,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Le(!1);var n=t.payload,r=n.critical,i=n.clientSelection,o=n.viewport,s=n.dimensions,u=n.movementMode,h=s.draggables[r.draggable.id],m=s.droppables[r.droppable.id],v={selection:i,borderBoxCenter:h.client.borderBox.center,offset:Xn},w={client:v,page:{selection:sr(v.selection,o.scroll.initial),borderBoxCenter:sr(v.selection,o.scroll.initial),offset:sr(v.selection,o.scroll.diff.value)}},b=fy(s.droppables).every(function(De){return!De.isFixedOnPage}),N=VD({draggable:h,home:m,draggables:s.draggables,viewport:o}),T=N.impact,R=N.afterCritical,S={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:u,dimensions:s,initial:w,current:w,isWindowScrollAllowed:b,impact:T,afterCritical:R,onLiftImpact:T,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null};return S}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Le(!1);var E=ft({phase:"COLLECTING"},e,{phase:"COLLECTING"});return E}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Le(!1),o7({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;eu(e)||Le(!1);var I=t.payload.client;return Xs(I,e.current.client.selection)?e:sh({state:e,clientSelection:I,impact:mS(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Mb(e);eu(e)||Le(!1);var P=t.payload,O=P.id,B=P.newScroll,A=e.dimensions.droppables[O];if(!A)return e;var z=xC(A,B);return Lb(e,z,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;eu(e)||Le(!1);var M=t.payload,F=M.id,U=M.isEnabled,W=e.dimensions.droppables[F];W||Le(!1),W.isEnabled===U&&Le(!1);var G=ft({},W,{isEnabled:U});return Lb(e,G,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;eu(e)||Le(!1);var te=t.payload,V=te.id,oe=te.isCombineEnabled,ne=e.dimensions.droppables[V];ne||Le(!1),ne.isCombineEnabled===oe&&Le(!1);var J=ft({},ne,{isCombineEnabled:oe});return Lb(e,J,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;eu(e)||Le(!1),e.isWindowScrollAllowed||Le(!1);var Y=t.payload.newScroll;if(Xs(e.viewport.scroll.current,Y))return Mb(e);var X=LD(e.viewport,Y);return mS(e)?qD({state:e,viewport:X}):sh({state:e,viewport:X})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!eu(e))return e;var re=t.payload.maxScroll;if(Xs(re,e.viewport.scroll.max))return e;var ie=ft({},e.viewport,{scroll:ft({},e.viewport.scroll,{max:re})});return ft({phase:"DRAGGING"},e,{viewport:ie})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Le(!1);var ce=W9({state:e,type:t.type});return ce?sh({state:e,impact:ce.impact,clientSelection:ce.clientSelection,scrollJumpRequest:ce.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var ye=t.payload.reason;e.phase!=="COLLECTING"&&Le(!1);var ge=ft({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:ye});return ge}if(t.type==="DROP_ANIMATE"){var fe=t.payload,Me=fe.completed,je=fe.dropDuration,Ae=fe.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Le(!1);var _e={phase:"DROP_ANIMATING",completed:Me,dropDuration:je,newHomeClientOffset:Ae,dimensions:e.dimensions};return _e}if(t.type==="DROP_COMPLETE"){var be=t.payload.completed;return{phase:"IDLE",completed:be,shouldFlush:!1}}return e},s7=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},l7=function(t){return{type:"LIFT",payload:t}},u7=function(t){return{type:"INITIAL_PUBLISH",payload:t}},c7=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},f7=function(){return{type:"COLLECTION_STARTING",payload:null}},d7=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},h7=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},p7=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},HD=function(t){return{type:"MOVE",payload:t}},m7=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},g7=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},v7=function(){return{type:"MOVE_UP",payload:null}},y7=function(){return{type:"MOVE_DOWN",payload:null}},w7=function(){return{type:"MOVE_RIGHT",payload:null}},b7=function(){return{type:"MOVE_LEFT",payload:null}},PC=function(){return{type:"FLUSH",payload:null}},S7=function(t){return{type:"DROP_ANIMATE",payload:t}},kC=function(t){return{type:"DROP_COMPLETE",payload:t}},GD=function(t){return{type:"DROP",payload:t}},E7=function(t){return{type:"DROP_PENDING",payload:t}},YD=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},C7=function(e){return function(t){var n=t.getState,r=t.dispatch;return function(i){return function(o){if(o.type!=="LIFT"){i(o);return}var s=o.payload,u=s.id,h=s.clientSelection,m=s.movementMode,v=n();v.phase==="DROP_ANIMATING"&&r(kC({completed:v.completed})),n().phase!=="IDLE"&&Le(!1),r(PC()),r(s7({draggableId:u,movementMode:m}));var w={shouldPublishImmediately:m==="SNAP"},b={draggableId:u,scrollOptions:w},N=e.startPublishing(b),T=N.critical,R=N.dimensions,S=N.viewport;r(u7({critical:T,dimensions:R,clientSelection:h,movementMode:m,viewport:S}))}}}},x7=function(e){return function(){return function(t){return function(n){n.type==="INITIAL_PUBLISH"&&e.dragging(),n.type==="DROP_ANIMATE"&&e.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&e.resting(),t(n)}}}},DC={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Wh={opacity:{drop:0,combining:.7},scale:{drop:.75}},LC={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Xl=LC.outOfTheWay+"s "+DC.outOfTheWay,lh={fluid:"opacity "+Xl,snap:"transform "+Xl+", opacity "+Xl,drop:function(t){var n=t+"s "+DC.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+Xl,placeholder:"height "+Xl+", width "+Xl+", margin "+Xl},Y_=function(t){return Xs(t,Xn)?null:"translate("+t.x+"px, "+t.y+"px)"},gS={moveTo:Y_,drop:function(t,n){var r=Y_(t);return r?n?r+" scale("+Wh.scale.drop+")":r:null}},vS=LC.minDropTime,XD=LC.maxDropTime,N7=XD-vS,X_=1500,I7=.6,T7=function(e){var t=e.current,n=e.destination,r=e.reason,i=Fh(t,n);if(i<=0)return vS;if(i>=X_)return XD;var o=i/X_,s=vS+N7*o,u=r==="CANCEL"?s*I7:s;return Number(u.toFixed(2))},O7=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,i=e.viewport,o=e.afterCritical,s=r.draggables,u=r.droppables,h=wi(t),m=h?u[h]:null,v=u[n.descriptor.droppableId],w=KD({impact:t,draggable:n,draggables:s,afterCritical:o,droppable:m||v,viewport:i}),b=mi(w,n.client.borderBox.center);return b},_7=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,i=e.home,o=e.viewport,s=e.onLiftImpact;if(!r.at||n!=="DROP"){var u=jD({draggables:t,impact:s,destination:i,viewport:o,forceShouldAnimate:!0});return{impact:u,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var h=ft({},r,{displaced:Uh});return{impact:h,didDropInsideDroppable:!0}},A7=function(e){var t=e.getState,n=e.dispatch;return function(r){return function(i){if(i.type!=="DROP"){r(i);return}var o=t(),s=i.payload.reason;if(o.phase==="COLLECTING"){n(E7({reason:s}));return}if(o.phase!=="IDLE"){var u=o.phase==="DROP_PENDING"&&o.isWaiting;u&&Le(!1),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||Le(!1);var h=o.critical,m=o.dimensions,v=m.draggables[o.critical.draggable.id],w=_7({reason:s,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),b=w.impact,N=w.didDropInsideDroppable,T=N?IC(b):null,R=N?dy(b):null,S={index:h.draggable.index,droppableId:h.droppable.id},E={draggableId:v.descriptor.id,type:v.descriptor.type,source:S,reason:s,mode:o.movementMode,destination:T,combine:R},I=O7({impact:b,draggable:v,dimensions:m,viewport:o.viewport,afterCritical:o.afterCritical}),P={critical:o.critical,afterCritical:o.afterCritical,result:E,impact:b},O=!Xs(o.current.client.offset,I)||Boolean(E.combine);if(!O){n(kC({completed:P}));return}var B=T7({current:o.current.client.offset,destination:I,reason:s}),A={newHomeClientOffset:I,dropDuration:B,completed:P};n(S7(A))}}}},JD=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function R7(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||e()}}}function P7(e){var t=e.onWindowScroll;function n(){t(JD())}var r=Bh(n),i=R7(r),o=Ys;function s(){return o!==Ys}function u(){s()&&Le(!1),o=qi(window,[i])}function h(){s()||Le(!1),r.cancel(),o(),o=Ys}return{start:u,stop:h,isActive:s}}var k7=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},D7=function(e){var t=P7({onWindowScroll:function(r){e.dispatch(m7({newScroll:r}))}});return function(n){return function(r){!t.isActive()&&r.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&k7(r)&&t.stop(),n(r)}}},L7=function(e){var t=!1,n=!1,r=setTimeout(function(){n=!0}),i=function(s){t||n||(t=!0,e(s),clearTimeout(r))};return i.wasCalled=function(){return t},i},M7=function(){var e=[],t=function(o){var s=NC(e,function(m){return m.timerId===o});s===-1&&Le(!1);var u=e.splice(s,1),h=u[0];h.callback()},n=function(o){var s=setTimeout(function(){return t(s)}),u={timerId:s,callback:o};e.push(u)},r=function(){if(!!e.length){var o=[].concat(e);e.length=0,o.forEach(function(s){clearTimeout(s.timerId),s.callback()})}};return{add:n,flush:r}},z7=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.droppableId===n.droppableId&&t.index===n.index},B7=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.draggableId===n.draggableId&&t.droppableId===n.droppableId},F7=function(t,n){if(t===n)return!0;var r=t.draggable.id===n.draggable.id&&t.draggable.droppableId===n.draggable.droppableId&&t.draggable.type===n.draggable.type&&t.draggable.index===n.draggable.index,i=t.droppable.id===n.droppable.id&&t.droppable.type===n.droppable.type;return r&&i},Td=function(t,n){n()},xm=function(t,n){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:n}},zb=function(t,n,r,i){if(!t){r(i(n));return}var o=L7(r),s={announce:o};t(n,s),o.wasCalled()||r(i(n))},U7=function(e,t){var n=M7(),r=null,i=function(b,N){r&&Le(!1),Td("onBeforeCapture",function(){var T=e().onBeforeCapture;if(T){var R={draggableId:b,mode:N};T(R)}})},o=function(b,N){r&&Le(!1),Td("onBeforeDragStart",function(){var T=e().onBeforeDragStart;T&&T(xm(b,N))})},s=function(b,N){r&&Le(!1);var T=xm(b,N);r={mode:N,lastCritical:b,lastLocation:T.source,lastCombine:null},n.add(function(){Td("onDragStart",function(){return zb(e().onDragStart,T,t,Jm.onDragStart)})})},u=function(b,N){var T=IC(N),R=dy(N);r||Le(!1);var S=!F7(b,r.lastCritical);S&&(r.lastCritical=b);var E=!z7(r.lastLocation,T);E&&(r.lastLocation=T);var I=!B7(r.lastCombine,R);if(I&&(r.lastCombine=R),!(!S&&!E&&!I)){var P=ft({},xm(b,r.mode),{combine:R,destination:T});n.add(function(){Td("onDragUpdate",function(){return zb(e().onDragUpdate,P,t,Jm.onDragUpdate)})})}},h=function(){r||Le(!1),n.flush()},m=function(b){r||Le(!1),r=null,Td("onDragEnd",function(){return zb(e().onDragEnd,b,t,Jm.onDragEnd)})},v=function(){if(!!r){var b=ft({},xm(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});m(b)}};return{beforeCapture:i,beforeStart:o,start:s,update:u,flush:h,drop:m,abort:v}},$7=function(e,t){var n=U7(e,t);return function(r){return function(i){return function(o){if(o.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(o.type==="INITIAL_PUBLISH"){var s=o.payload.critical;n.beforeStart(s,o.payload.movementMode),i(o),n.start(s,o.payload.movementMode);return}if(o.type==="DROP_COMPLETE"){var u=o.payload.completed.result;n.flush(),i(o),n.drop(u);return}if(i(o),o.type==="FLUSH"){n.abort();return}var h=r.getState();h.phase==="DRAGGING"&&n.update(h.critical,h.impact)}}}},W7=function(e){return function(t){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){t(n);return}var r=e.getState();r.phase!=="DROP_ANIMATING"&&Le(!1),e.dispatch(kC({completed:r.completed}))}}},j7=function(e){var t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return function(i){return function(o){if((o.type==="FLUSH"||o.type==="DROP_COMPLETE"||o.type==="DROP_ANIMATION_FINISHED")&&r(),i(o),o.type==="DROP_ANIMATE"){var s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var h=e.getState();h.phase==="DROP_ANIMATING"&&e.dispatch(YD())}};n=requestAnimationFrame(function(){n=null,t=qi(window,[s])})}}}},K7=function(e){return function(){return function(t){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&e.stopPublishing(),t(n)}}}},q7=function(e){var t=!1;return function(){return function(n){return function(r){if(r.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(r.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){t=!1;var i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},V7=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},H7=function(e){return function(t){return function(n){return function(r){if(V7(r)){e.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);var i=t.getState();i.phase!=="DRAGGING"&&Le(!1),e.start(i);return}n(r),e.scroll(t.getState())}}}},G7=function(e){return function(t){return function(n){if(t(n),n.type==="PUBLISH_WHILE_DRAGGING"){var r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(GD({reason:r.reason})))}}}},Y7=rD,X7=function(e){var t=e.dimensionMarshal,n=e.focusMarshal,r=e.styleMarshal,i=e.getResponders,o=e.announce,s=e.autoScroller;return nD(a7,Y7(BY(x7(r),K7(t),C7(t),A7,W7,j7,G7,H7(s),D7,q7(n),$7(i,o))))},Bb=function(){return{additions:{},removals:{},modified:{}}};function J7(e){var t=e.registry,n=e.callbacks,r=Bb(),i=null,o=function(){i||(n.collectionStarting(),i=requestAnimationFrame(function(){i=null;var v=r,w=v.additions,b=v.removals,N=v.modified,T=Object.keys(w).map(function(E){return t.draggable.getById(E).getDimension(Xn)}).sort(function(E,I){return E.descriptor.index-I.descriptor.index}),R=Object.keys(N).map(function(E){var I=t.droppable.getById(E),P=I.callbacks.getScrollWhileDragging();return{droppableId:E,scroll:P}}),S={additions:T,removals:Object.keys(b),modified:R};r=Bb(),n.publish(S)}))},s=function(v){var w=v.descriptor.id;r.additions[w]=v,r.modified[v.descriptor.droppableId]=!0,r.removals[w]&&delete r.removals[w],o()},u=function(v){var w=v.descriptor;r.removals[w.id]=!0,r.modified[w.droppableId]=!0,r.additions[w.id]&&delete r.additions[w.id],o()},h=function(){!i||(cancelAnimationFrame(i),i=null,r=Bb())};return{add:s,remove:u,stop:h}}var QD=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,i=e.width,o=mi({x:n,y:t},{x:i,y:r}),s={x:Math.max(0,o.x),y:Math.max(0,o.y)};return s},ZD=function(){var e=document.documentElement;return e||Le(!1),e},eL=function(){var e=ZD(),t=QD({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},Q7=function(){var e=JD(),t=eL(),n=e.y,r=e.x,i=ZD(),o=i.clientWidth,s=i.clientHeight,u=r+o,h=n+s,m=To({top:n,left:r,right:u,bottom:h}),v={frame:m,scroll:{initial:e,current:e,max:t,diff:{value:Xn,displacement:Xn}}};return v},Z7=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry,i=Q7(),o=i.scroll.current,s=t.droppable,u=r.droppable.getAllByType(s.type).map(function(w){return w.callbacks.getDimensionAndWatchScroll(o,n)}),h=r.draggable.getAllByType(t.draggable.type).map(function(w){return w.getDimension(o)}),m={draggables:_D(h),droppables:OD(u)},v={dimensions:m,critical:t,viewport:i};return v};function J_(e,t,n){if(n.descriptor.id===t.id||n.descriptor.type!==t.type)return!1;var r=e.droppable.getById(n.descriptor.droppableId);return r.descriptor.mode==="virtual"}var eX=function(e,t){var n=null,r=J7({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(N,T){e.droppable.exists(N)||Le(!1),n&&t.updateDroppableIsEnabled({id:N,isEnabled:T})},o=function(N,T){!n||(e.droppable.exists(N)||Le(!1),t.updateDroppableIsCombineEnabled({id:N,isCombineEnabled:T}))},s=function(N,T){!n||(e.droppable.exists(N)||Le(!1),t.updateDroppableScroll({id:N,newScroll:T}))},u=function(N,T){!n||e.droppable.getById(N).callbacks.scroll(T)},h=function(){if(!!n){r.stop();var N=n.critical.droppable;e.droppable.getAllByType(N.type).forEach(function(T){return T.callbacks.dragStopped()}),n.unsubscribe(),n=null}},m=function(N){n||Le(!1);var T=n.critical.draggable;N.type==="ADDITION"&&J_(e,T,N.value)&&r.add(N.value),N.type==="REMOVAL"&&J_(e,T,N.value)&&r.remove(N.value)},v=function(N){n&&Le(!1);var T=e.draggable.getById(N.draggableId),R=e.droppable.getById(T.descriptor.droppableId),S={draggable:T.descriptor,droppable:R.descriptor},E=e.subscribe(m);return n={critical:S,unsubscribe:E},Z7({critical:S,registry:e,scrollOptions:N.scrollOptions})},w={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:o,scrollDroppable:u,updateDroppableScroll:s,startPublishing:v,stopPublishing:h};return w},tL=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},tX=function(e){window.scrollBy(e.x,e.y)},nX=Vn(function(e){return fy(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),rX=function(t,n){var r=hl(nX(n),function(i){return i.frame||Le(!1),FD(i.frame.pageMarginBox)(t)});return r},iX=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var i=r[n];return i.frame?i:null}var o=rX(t,r);return o},Js={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},oX=function(e,t){var n=e[t.size]*Js.startFromPercentage,r=e[t.size]*Js.maxScrollAtPercentage,i={startScrollingFrom:n,maxScrollValueAt:r};return i},nL=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,i=n-t;if(i===0)return 0;var o=r-t,s=o/i;return s},MC=1,aX=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return Js.maxPixelScroll;if(e===t.startScrollingFrom)return MC;var n=nL({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=1-n,i=Js.maxPixelScroll*Js.ease(r);return Math.ceil(i)},Q_=Js.durationDampening.accelerateAt,Z_=Js.durationDampening.stopDampeningAt,sX=function(e,t){var n=t,r=Z_,i=Date.now(),o=i-n;if(o>=Z_)return e;if(o<Q_)return MC;var s=nL({startOfRange:Q_,endOfRange:r,current:o}),u=e*Js.ease(s);return Math.ceil(u)},e1=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,i=e.shouldUseTimeDampening,o=aX(t,n);return o===0?0:i?Math.max(sX(o,r),MC):o},t1=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,i=e.axis,o=e.shouldUseTimeDampening,s=oX(t,i),u=n[i.end]<n[i.start];return u?e1({distanceToEdge:n[i.end],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o}):-1*e1({distanceToEdge:n[i.start],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o})},lX=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,i=n.height>t.height,o=n.width>t.width;return!o&&!i?r:o&&i?null:{x:o?0:r.x,y:i?0:r.y}},uX=ID(function(e){return e===0?0:e}),rL=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,i=e.center,o=e.shouldUseTimeDampening,s={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},u=t1({container:n,distanceToEdges:s,dragStartTime:t,axis:TC,shouldUseTimeDampening:o}),h=t1({container:n,distanceToEdges:s,dragStartTime:t,axis:PD,shouldUseTimeDampening:o}),m=uX({x:h,y:u});if(Xs(m,Xn))return null;var v=lX({container:n,subject:r,proposedScroll:m});return v?Xs(v,Xn)?null:v:null},cX=ID(function(e){return e===0?0:e>0?1:-1}),zC=function(){var e=function(n,r){return n<0?n:n>r?n-r:0};return function(t){var n=t.current,r=t.max,i=t.change,o=sr(n,i),s={x:e(o.x,r.x),y:e(o.y,r.y)};return Xs(s,Xn)?null:s}}(),iL=function(t){var n=t.max,r=t.current,i=t.change,o={x:Math.max(r.x,n.x),y:Math.max(r.y,n.y)},s=cX(i),u=zC({max:o,current:r,change:s});return!u||s.x!==0&&u.x===0||s.y!==0&&u.y===0},BC=function(t,n){return iL({current:t.scroll.current,max:t.scroll.max,change:n})},fX=function(t,n){if(!BC(t,n))return null;var r=t.scroll.max,i=t.scroll.current;return zC({current:i,max:r,change:n})},FC=function(t,n){var r=t.frame;return r?iL({current:r.scroll.current,max:r.scroll.max,change:n}):!1},dX=function(t,n){var r=t.frame;return!r||!FC(t,n)?null:zC({current:r.scroll.current,max:r.scroll.max,change:n})},hX=function(e){var t=e.viewport,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,s=rL({dragStartTime:i,container:t.frame,subject:n,center:r,shouldUseTimeDampening:o});return s&&BC(t,s)?s:null},pX=function(e){var t=e.droppable,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,s=t.frame;if(!s)return null;var u=rL({dragStartTime:i,container:s.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o});return u&&FC(t,u)?u:null},n1=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,i=e.scrollWindow,o=e.scrollDroppable,s=t.current.page.borderBoxCenter,u=t.dimensions.draggables[t.critical.draggable.id],h=u.page.marginBox;if(t.isWindowScrollAllowed){var m=t.viewport,v=hX({dragStartTime:n,viewport:m,subject:h,center:s,shouldUseTimeDampening:r});if(v){i(v);return}}var w=iX({center:s,destination:wi(t.impact),droppables:t.dimensions.droppables});if(!!w){var b=pX({dragStartTime:n,droppable:w,subject:h,center:s,shouldUseTimeDampening:r});b&&o(w.descriptor.id,b)}},mX=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=Bh(t),i=Bh(n),o=null,s=function(v){o||Le(!1);var w=o,b=w.shouldUseTimeDampening,N=w.dragStartTime;n1({state:v,scrollWindow:r,scrollDroppable:i,dragStartTime:N,shouldUseTimeDampening:b})},u=function(v){o&&Le(!1);var w=Date.now(),b=!1,N=function(){b=!0};n1({state:v,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:N,scrollDroppable:N}),o={dragStartTime:w,shouldUseTimeDampening:b},b&&s(v)},h=function(){!o||(r.cancel(),i.cancel(),o=null)};return{start:u,stop:h,scroll:s}},gX=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,i=function(m,v){var w=sr(m.current.client.selection,v);t({client:w})},o=function(m,v){if(!FC(m,v))return v;var w=dX(m,v);if(!w)return n(m.descriptor.id,v),null;var b=mi(v,w);n(m.descriptor.id,b);var N=mi(v,b);return N},s=function(m,v,w){if(!m||!BC(v,w))return w;var b=fX(v,w);if(!b)return r(w),null;var N=mi(w,b);r(N);var T=mi(w,N);return T},u=function(m){var v=m.scrollJumpRequest;if(!!v){var w=wi(m.impact);w||Le(!1);var b=o(m.dimensions.droppables[w],v);if(!!b){var N=m.viewport,T=s(m.isWindowScrollAllowed,N,b);!T||i(m,T)}}};return u},vX=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,i=mX({scrollWindow:n,scrollDroppable:t}),o=gX({move:r,scrollWindow:n,scrollDroppable:t}),s=function(m){if(m.phase==="DRAGGING"){if(m.movementMode==="FLUID"){i.scroll(m);return}!m.scrollJumpRequest||o(m)}},u={scroll:s,start:i.start,stop:i.stop};return u},ff="data-rbd",df=function(){var e=ff+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),yS=function(){var e=ff+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),yX=function(){var e=ff+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),r1={contextId:ff+"-scroll-container-context-id"},wX=function(t){return function(n){return"["+n+'="'+t+'"]'}},Od=function(t,n){return t.map(function(r){var i=r.styles[n];return i?r.selector+" { "+i+" }":""}).join(" ")},bX="pointer-events: none;",SX=function(e){var t=wX(e),n=function(){var u=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(df.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:u,dragging:bX,dropAnimating:u}}}(),r=function(){var u=`
      transition: `+lh.outOfTheWay+`;
    `;return{selector:t(yS.contextId),styles:{dragging:u,dropAnimating:u,userCancel:u}}}(),i={selector:t(yX.contextId),styles:{always:"overflow-anchor: none;"}},o={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},s=[r,n,i,o];return{always:Od(s,"always"),resting:Od(s,"resting"),dragging:Od(s,"dragging"),dropAnimating:Od(s,"dropAnimating"),userCancel:Od(s,"userCancel")}},bi=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?Q.exports.useLayoutEffect:Q.exports.useEffect,Fb=function(){var t=document.querySelector("head");return t||Le(!1),t},i1=function(t){var n=document.createElement("style");return t&&n.setAttribute("nonce",t),n.type="text/css",n};function EX(e,t){var n=zt(function(){return SX(e)},[e]),r=Q.exports.useRef(null),i=Q.exports.useRef(null),o=rt(Vn(function(w){var b=i.current;b||Le(!1),b.textContent=w}),[]),s=rt(function(w){var b=r.current;b||Le(!1),b.textContent=w},[]);bi(function(){!r.current&&!i.current||Le(!1);var w=i1(t),b=i1(t);return r.current=w,i.current=b,w.setAttribute(ff+"-always",e),b.setAttribute(ff+"-dynamic",e),Fb().appendChild(w),Fb().appendChild(b),s(n.always),o(n.resting),function(){var N=function(R){var S=R.current;S||Le(!1),Fb().removeChild(S),R.current=null};N(r),N(i)}},[t,s,o,n.always,n.resting,e]);var u=rt(function(){return o(n.dragging)},[o,n.dragging]),h=rt(function(w){if(w==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),m=rt(function(){!i.current||o(n.resting)},[o,n.resting]),v=zt(function(){return{dragging:u,dropping:h,resting:m}},[u,h,m]);return v}var oL=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function my(e){return e instanceof oL(e).HTMLElement}function CX(e,t){var n="["+df.contextId+'="'+e+'"]',r=TD(document.querySelectorAll(n));if(!r.length)return null;var i=hl(r,function(o){return o.getAttribute(df.draggableId)===t});return!i||!my(i)?null:i}function xX(e){var t=Q.exports.useRef({}),n=Q.exports.useRef(null),r=Q.exports.useRef(null),i=Q.exports.useRef(!1),o=rt(function(b,N){var T={id:b,focus:N};return t.current[b]=T,function(){var S=t.current,E=S[b];E!==T&&delete S[b]}},[]),s=rt(function(b){var N=CX(e,b);N&&N!==document.activeElement&&N.focus()},[e]),u=rt(function(b,N){n.current===b&&(n.current=N)},[]),h=rt(function(){r.current||!i.current||(r.current=requestAnimationFrame(function(){r.current=null;var b=n.current;b&&s(b)}))},[s]),m=rt(function(b){n.current=null;var N=document.activeElement;!N||N.getAttribute(df.draggableId)===b&&(n.current=b)},[]);bi(function(){return i.current=!0,function(){i.current=!1;var b=r.current;b&&cancelAnimationFrame(b)}},[]);var v=zt(function(){return{register:o,tryRecordFocus:m,tryRestoreFocusRecorded:h,tryShiftRecord:u}},[o,m,h,u]);return v}function NX(){var e={draggables:{},droppables:{}},t=[];function n(w){return t.push(w),function(){var N=t.indexOf(w);N!==-1&&t.splice(N,1)}}function r(w){t.length&&t.forEach(function(b){return b(w)})}function i(w){return e.draggables[w]||null}function o(w){var b=i(w);return b||Le(!1),b}var s={register:function(b){e.draggables[b.descriptor.id]=b,r({type:"ADDITION",value:b})},update:function(b,N){var T=e.draggables[N.descriptor.id];!T||T.uniqueId===b.uniqueId&&(delete e.draggables[N.descriptor.id],e.draggables[b.descriptor.id]=b)},unregister:function(b){var N=b.descriptor.id,T=i(N);!T||b.uniqueId===T.uniqueId&&(delete e.draggables[N],r({type:"REMOVAL",value:b}))},getById:o,findById:i,exists:function(b){return Boolean(i(b))},getAllByType:function(b){return ov(e.draggables).filter(function(N){return N.descriptor.type===b})}};function u(w){return e.droppables[w]||null}function h(w){var b=u(w);return b||Le(!1),b}var m={register:function(b){e.droppables[b.descriptor.id]=b},unregister:function(b){var N=u(b.descriptor.id);!N||b.uniqueId===N.uniqueId&&delete e.droppables[b.descriptor.id]},getById:h,findById:u,exists:function(b){return Boolean(u(b))},getAllByType:function(b){return ov(e.droppables).filter(function(N){return N.descriptor.type===b})}};function v(){e.draggables={},e.droppables={},t.length=0}return{draggable:s,droppable:m,subscribe:n,clean:v}}function IX(){var e=zt(NX,[]);return Q.exports.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var UC=Yr.createContext(null),sv=function(){var e=document.body;return e||Le(!1),e},TX={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},OX=function(t){return"rbd-announcement-"+t};function _X(e){var t=zt(function(){return OX(e)},[e]),n=Q.exports.useRef(null);Q.exports.useEffect(function(){var o=document.createElement("div");return n.current=o,o.id=t,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),ft(o.style,TX),sv().appendChild(o),function(){setTimeout(function(){var h=sv();h.contains(o)&&h.removeChild(o),o===n.current&&(n.current=null)})}},[t]);var r=rt(function(i){var o=n.current;if(o){o.textContent=i;return}},[]);return r}var AX=0,RX={separator:"::"};function $C(e,t){return t===void 0&&(t=RX),zt(function(){return""+e+t.separator+AX++},[t.separator,e])}function PX(e){var t=e.contextId,n=e.uniqueId;return"rbd-hidden-text-"+t+"-"+n}function kX(e){var t=e.contextId,n=e.text,r=$C("hidden-text",{separator:"-"}),i=zt(function(){return PX({contextId:t,uniqueId:r})},[r,t]);return Q.exports.useEffect(function(){var s=document.createElement("div");return s.id=i,s.textContent=n,s.style.display="none",sv().appendChild(s),function(){var h=sv();h.contains(s)&&h.removeChild(s)}},[i,n]),i}var gy=Yr.createContext(null);function aL(e){var t=Q.exports.useRef(e);return Q.exports.useEffect(function(){t.current=e}),t}function DX(){var e=null;function t(){return Boolean(e)}function n(s){return s===e}function r(s){e&&Le(!1);var u={abandon:s};return e=u,u}function i(){e||Le(!1),e=null}function o(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:o}}var LX=9,MX=13,WC=27,sL=32,zX=33,BX=34,FX=35,UX=36,$X=37,WX=38,jX=39,KX=40,Nm,qX=(Nm={},Nm[MX]=!0,Nm[LX]=!0,Nm),lL=function(e){qX[e.keyCode]&&e.preventDefault()},vy=function(){var e="visibilitychange";if(typeof document=="undefined")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],n=hl(t,function(r){return"on"+r in document});return n||e}(),uL=0,o1=5;function VX(e,t){return Math.abs(t.x-e.x)>=o1||Math.abs(t.y-e.y)>=o1}var a1={type:"IDLE"};function HX(e){var t=e.cancel,n=e.completed,r=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(s){var u=s.button,h=s.clientX,m=s.clientY;if(u===uL){var v={x:h,y:m},w=r();if(w.type==="DRAGGING"){s.preventDefault(),w.actions.move(v);return}w.type!=="PENDING"&&Le(!1);var b=w.point;if(!!VX(b,v)){s.preventDefault();var N=w.actions.fluidLift(v);i({type:"DRAGGING",actions:N})}}}},{eventName:"mouseup",fn:function(s){var u=r();if(u.type!=="DRAGGING"){t();return}s.preventDefault(),u.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(s){r().type==="DRAGGING"&&s.preventDefault(),t()}},{eventName:"keydown",fn:function(s){var u=r();if(u.type==="PENDING"){t();return}if(s.keyCode===WC){s.preventDefault(),t();return}lL(s)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(s){var u=r();if(u.type==="IDLE"&&Le(!1),u.actions.shouldRespectForcePress()){t();return}s.preventDefault()}},{eventName:vy,fn:t}]}function GX(e){var t=Q.exports.useRef(a1),n=Q.exports.useRef(Ys),r=zt(function(){return{eventName:"mousedown",fn:function(w){if(!w.defaultPrevented&&w.button===uL&&!(w.ctrlKey||w.metaKey||w.shiftKey||w.altKey)){var b=e.findClosestDraggableId(w);if(!!b){var N=e.tryGetLock(b,s,{sourceEvent:w});if(!!N){w.preventDefault();var T={x:w.clientX,y:w.clientY};n.current(),m(N,T)}}}}}},[e]),i=zt(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(w){if(!w.defaultPrevented){var b=e.findClosestDraggableId(w);if(!!b){var N=e.findOptionsForDraggable(b);!N||N.shouldRespectForcePress||!e.canGetLock(b)||w.preventDefault()}}}}},[e]),o=rt(function(){var w={passive:!1,capture:!0};n.current=qi(window,[i,r],w)},[i,r]),s=rt(function(){var v=t.current;v.type!=="IDLE"&&(t.current=a1,n.current(),o())},[o]),u=rt(function(){var v=t.current;s(),v.type==="DRAGGING"&&v.actions.cancel({shouldBlockNextClick:!0}),v.type==="PENDING"&&v.actions.abort()},[s]),h=rt(function(){var w={capture:!0,passive:!1},b=HX({cancel:u,completed:s,getPhase:function(){return t.current},setPhase:function(T){t.current=T}});n.current=qi(window,b,w)},[u,s]),m=rt(function(w,b){t.current.type!=="IDLE"&&Le(!1),t.current={type:"PENDING",point:b,actions:w},h()},[h]);bi(function(){return o(),function(){n.current()}},[o])}var wc;function YX(){}var XX=(wc={},wc[BX]=!0,wc[zX]=!0,wc[UX]=!0,wc[FX]=!0,wc);function JX(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:function(o){if(o.keyCode===WC){o.preventDefault(),n();return}if(o.keyCode===sL){o.preventDefault(),r();return}if(o.keyCode===KX){o.preventDefault(),e.moveDown();return}if(o.keyCode===WX){o.preventDefault(),e.moveUp();return}if(o.keyCode===jX){o.preventDefault(),e.moveRight();return}if(o.keyCode===$X){o.preventDefault(),e.moveLeft();return}if(XX[o.keyCode]){o.preventDefault();return}lL(o)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:vy,fn:n}]}function QX(e){var t=Q.exports.useRef(YX),n=zt(function(){return{eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==sL)return;var s=e.findClosestDraggableId(o);if(!s)return;var u=e.tryGetLock(s,v,{sourceEvent:o});if(!u)return;o.preventDefault();var h=!0,m=u.snapLift();t.current();function v(){h||Le(!1),h=!1,t.current(),r()}t.current=qi(window,JX(m,v),{capture:!0,passive:!1})}}},[e]),r=rt(function(){var o={passive:!1,capture:!0};t.current=qi(window,[n],o)},[n]);bi(function(){return r(),function(){t.current()}},[r])}var Ub={type:"IDLE"},ZX=120,eJ=.15;function tJ(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(n().type!=="DRAGGING"){t();return}i.keyCode===WC&&i.preventDefault(),t()}},{eventName:vy,fn:t}]}function nJ(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(o){var s=r();if(s.type!=="DRAGGING"){t();return}s.hasMoved=!0;var u=o.touches[0],h=u.clientX,m=u.clientY,v={x:h,y:m};o.preventDefault(),s.actions.move(v)}},{eventName:"touchend",fn:function(o){var s=r();if(s.type!=="DRAGGING"){t();return}o.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(o){if(r().type!=="DRAGGING"){t();return}o.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(o){var s=r();s.type==="IDLE"&&Le(!1);var u=o.touches[0];if(!!u){var h=u.force>=eJ;if(!!h){var m=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){m&&t();return}if(m){if(s.hasMoved){o.preventDefault();return}t();return}o.preventDefault()}}}},{eventName:vy,fn:t}]}function rJ(e){var t=Q.exports.useRef(Ub),n=Q.exports.useRef(Ys),r=rt(function(){return t.current},[]),i=rt(function(N){t.current=N},[]),o=zt(function(){return{eventName:"touchstart",fn:function(N){if(!N.defaultPrevented){var T=e.findClosestDraggableId(N);if(!!T){var R=e.tryGetLock(T,u,{sourceEvent:N});if(!!R){var S=N.touches[0],E=S.clientX,I=S.clientY,P={x:E,y:I};n.current(),w(R,P)}}}}}},[e]),s=rt(function(){var N={capture:!0,passive:!1};n.current=qi(window,[o],N)},[o]),u=rt(function(){var b=t.current;b.type!=="IDLE"&&(b.type==="PENDING"&&clearTimeout(b.longPressTimerId),i(Ub),n.current(),s())},[s,i]),h=rt(function(){var b=t.current;u(),b.type==="DRAGGING"&&b.actions.cancel({shouldBlockNextClick:!0}),b.type==="PENDING"&&b.actions.abort()},[u]),m=rt(function(){var N={capture:!0,passive:!1},T={cancel:h,completed:u,getPhase:r},R=qi(window,nJ(T),N),S=qi(window,tJ(T),N);n.current=function(){R(),S()}},[h,r,u]),v=rt(function(){var N=r();N.type!=="PENDING"&&Le(!1);var T=N.actions.fluidLift(N.point);i({type:"DRAGGING",actions:T,hasMoved:!1})},[r,i]),w=rt(function(N,T){r().type!=="IDLE"&&Le(!1);var R=setTimeout(v,ZX);i({type:"PENDING",point:T,actions:N,longPressTimerId:R}),m()},[m,r,i,v]);bi(function(){return s(),function(){n.current();var T=r();T.type==="PENDING"&&(clearTimeout(T.longPressTimerId),i(Ub))}},[r,s,i]),bi(function(){var N=qi(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return N},[])}var iJ={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function cL(e,t){if(t==null)return!1;var n=Boolean(iJ[t.tagName.toLowerCase()]);if(n)return!0;var r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:cL(e,t.parentElement)}function oJ(e,t){var n=t.target;return my(n)?cL(e,n):!1}var aJ=function(e){return To(e.getBoundingClientRect()).center};function sJ(e){return e instanceof oL(e).Element}var lJ=function(){var e="matches";if(typeof document=="undefined")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],n=hl(t,function(r){return r in Element.prototype});return n||e}();function fL(e,t){return e==null?null:e[lJ](t)?e:fL(e.parentElement,t)}function uJ(e,t){return e.closest?e.closest(t):fL(e,t)}function cJ(e){return"["+df.contextId+'="'+e+'"]'}function fJ(e,t){var n=t.target;if(!sJ(n))return null;var r=cJ(e),i=uJ(n,r);return!i||!my(i)?null:i}function dJ(e,t){var n=fJ(e,t);return n?n.getAttribute(df.draggableId):null}function hJ(e,t){var n="["+yS.contextId+'="'+e+'"]',r=TD(document.querySelectorAll(n)),i=hl(r,function(o){return o.getAttribute(yS.id)===t});return!i||!my(i)?null:i}function pJ(e){e.preventDefault()}function Im(e){var t=e.expected,n=e.phase,r=e.isLockActive;return e.shouldWarn,!(!r()||t!==n)}function dL(e){var t=e.lockAPI,n=e.store,r=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var o=r.draggable.findById(i);return!(!o||!o.options.isEnabled||!tL(n.getState(),i))}function mJ(e){var t=e.lockAPI,n=e.contextId,r=e.store,i=e.registry,o=e.draggableId,s=e.forceSensorStop,u=e.sourceEvent,h=dL({lockAPI:t,store:r,registry:i,draggableId:o});if(!h)return null;var m=i.draggable.getById(o),v=hJ(n,m.descriptor.id);if(!v||u&&!m.options.canDragInteractiveElements&&oJ(v,u))return null;var w=t.claim(s||Ys),b="PRE_DRAG";function N(){return m.options.shouldRespectForcePress}function T(){return t.isActive(w)}function R(A,z){Im({expected:A,phase:b,isLockActive:T,shouldWarn:!0})&&r.dispatch(z())}var S=R.bind(null,"DRAGGING");function E(A){function z(){t.release(),b="COMPLETED"}b!=="PRE_DRAG"&&(z(),b!=="PRE_DRAG"&&Le(!1)),r.dispatch(l7(A.liftActionArgs)),b="DRAGGING";function M(F,U){if(U===void 0&&(U={shouldBlockNextClick:!1}),A.cleanup(),U.shouldBlockNextClick){var W=qi(window,[{eventName:"click",fn:pJ,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(W)}z(),r.dispatch(GD({reason:F}))}return ft({isActive:function(){return Im({expected:"DRAGGING",phase:b,isLockActive:T,shouldWarn:!1})},shouldRespectForcePress:N,drop:function(U){return M("DROP",U)},cancel:function(U){return M("CANCEL",U)}},A.actions)}function I(A){var z=Bh(function(F){S(function(){return HD({client:F})})}),M=E({liftActionArgs:{id:o,clientSelection:A,movementMode:"FLUID"},cleanup:function(){return z.cancel()},actions:{move:z}});return ft({},M,{move:z})}function P(){var A={moveUp:function(){return S(v7)},moveRight:function(){return S(w7)},moveDown:function(){return S(y7)},moveLeft:function(){return S(b7)}};return E({liftActionArgs:{id:o,clientSelection:aJ(v),movementMode:"SNAP"},cleanup:Ys,actions:A})}function O(){var A=Im({expected:"PRE_DRAG",phase:b,isLockActive:T,shouldWarn:!0});A&&t.release()}var B={isActive:function(){return Im({expected:"PRE_DRAG",phase:b,isLockActive:T,shouldWarn:!1})},shouldRespectForcePress:N,fluidLift:I,snapLift:P,abort:O};return B}var gJ=[GX,QX,rJ];function vJ(e){var t=e.contextId,n=e.store,r=e.registry,i=e.customSensors,o=e.enableDefaultSensors,s=[].concat(o?gJ:[],i||[]),u=Q.exports.useState(function(){return DX()})[0],h=rt(function(I,P){I.isDragging&&!P.isDragging&&u.tryAbandon()},[u]);bi(function(){var I=n.getState(),P=n.subscribe(function(){var O=n.getState();h(I,O),I=O});return P},[u,n,h]),bi(function(){return u.tryAbandon},[u.tryAbandon]);for(var m=rt(function(E){return dL({lockAPI:u,registry:r,store:n,draggableId:E})},[u,r,n]),v=rt(function(E,I,P){return mJ({lockAPI:u,registry:r,contextId:t,store:n,draggableId:E,forceSensorStop:I,sourceEvent:P&&P.sourceEvent?P.sourceEvent:null})},[t,u,r,n]),w=rt(function(E){return dJ(t,E)},[t]),b=rt(function(E){var I=r.draggable.findById(E);return I?I.options:null},[r.draggable]),N=rt(function(){!u.isClaimed()||(u.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(PC()))},[u,n]),T=rt(u.isClaimed,[u]),R=zt(function(){return{canGetLock:m,tryGetLock:v,findClosestDraggableId:w,findOptionsForDraggable:b,tryReleaseLock:N,isLockClaimed:T}},[m,v,w,b,N,T]),S=0;S<s.length;S++)s[S](R)}var yJ=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function _d(e){return e.current||Le(!1),e.current}function wJ(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,i=e.nonce,o=e.dragHandleUsageInstructions,s=Q.exports.useRef(null),u=aL(e),h=rt(function(){return yJ(u.current)},[u]),m=_X(t),v=kX({contextId:t,text:o}),w=EX(t,i),b=rt(function(F){_d(s).dispatch(F)},[]),N=zt(function(){return __({publishWhileDragging:c7,updateDroppableScroll:d7,updateDroppableIsEnabled:h7,updateDroppableIsCombineEnabled:p7,collectionStarting:f7},b)},[b]),T=IX(),R=zt(function(){return eX(T,N)},[T,N]),S=zt(function(){return vX(ft({scrollWindow:tX,scrollDroppable:R.scrollDroppable},__({move:HD},b)))},[R.scrollDroppable,b]),E=xX(t),I=zt(function(){return X7({announce:m,autoScroller:S,dimensionMarshal:R,focusMarshal:E,getResponders:h,styleMarshal:w})},[m,S,R,E,h,w]);s.current=I;var P=rt(function(){var F=_d(s),U=F.getState();U.phase!=="IDLE"&&F.dispatch(PC())},[]),O=rt(function(){var F=_d(s).getState();return F.isDragging||F.phase==="DROP_ANIMATING"},[]),B=zt(function(){return{isDragging:O,tryAbort:P}},[O,P]);n(B);var A=rt(function(F){return tL(_d(s).getState(),F)},[]),z=rt(function(){return eu(_d(s).getState())},[]),M=zt(function(){return{marshal:R,focus:E,contextId:t,canLift:A,isMovementAllowed:z,dragHandleUsageInstructionsId:v,registry:T}},[t,R,v,E,A,z,T]);return vJ({contextId:t,store:I,registry:T,customSensors:r,enableDefaultSensors:e.enableDefaultSensors!==!1}),Q.exports.useEffect(function(){return P},[P]),y(gy.Provider,{value:M,children:y(jY,{context:UC,store:I,children:e.children})})}var bJ=0;function SJ(){return zt(function(){return""+bJ++},[])}function EJ(e){var t=SJ(),n=e.dragHandleUsageInstructions||Jm.dragHandleUsageInstructions;return y(Q8,{children:function(r){return y(wJ,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,children:e.children})}})}var hL=function(t){return function(n){return t===n}},CJ=hL("scroll"),xJ=hL("auto"),s1=function(t,n){return n(t.overflowX)||n(t.overflowY)},NJ=function(t){var n=window.getComputedStyle(t),r={overflowX:n.overflowX,overflowY:n.overflowY};return s1(r,CJ)||s1(r,xJ)},IJ=function(){return!1},TJ=function e(t){return t==null?null:t===document.body?IJ()?t:null:t===document.documentElement?null:NJ(t)?t:e(t.parentElement)},wS=function(e){return{x:e.scrollLeft,y:e.scrollTop}},OJ=function e(t){if(!t)return!1;var n=window.getComputedStyle(t);return n.position==="fixed"?!0:e(t.parentElement)},_J=function(e){var t=TJ(e),n=OJ(e);return{closestScrollable:t,isFixedOnPage:n}},AJ=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,i=e.isFixedOnPage,o=e.direction,s=e.client,u=e.page,h=e.closest,m=function(){if(!h)return null;var N=h.scrollSize,T=h.client,R=QD({scrollHeight:N.scrollHeight,scrollWidth:N.scrollWidth,height:T.paddingBox.height,width:T.paddingBox.width});return{pageMarginBox:h.page.marginBox,frameClient:T,scrollSize:N,shouldClipSubject:h.shouldClipSubject,scroll:{initial:h.scroll,current:h.scroll,max:R,diff:{value:Xn,displacement:Xn}}}}(),v=o==="vertical"?TC:PD,w=cf({page:u,withPlaceholder:null,axis:v,frame:m}),b={descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:v,isEnabled:n,client:s,page:u,frame:m,subject:w};return b},RJ=function(t,n){var r=ED(t);if(!n||t!==n)return r;var i=r.paddingBox.top-n.scrollTop,o=r.paddingBox.left-n.scrollLeft,s=i+n.scrollHeight,u=o+n.scrollWidth,h={top:i,right:u,bottom:s,left:o},m=EC(h,r.border),v=CC({borderBox:m,margin:r.margin,border:r.border,padding:r.padding});return v},PJ=function(e){var t=e.ref,n=e.descriptor,r=e.env,i=e.windowScroll,o=e.direction,s=e.isDropDisabled,u=e.isCombineEnabled,h=e.shouldClipSubject,m=r.closestScrollable,v=RJ(t,m),w=nv(v,i),b=function(){if(!m)return null;var T=ED(m),R={scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth};return{client:T,page:nv(T,i),scroll:wS(m),scrollSize:R,shouldClipSubject:h}}(),N=AJ({descriptor:n,isEnabled:!s,isCombineEnabled:u,isFixedOnPage:r.isFixedOnPage,direction:o,client:v,page:w,closest:b});return N},kJ={passive:!1},DJ={passive:!0},l1=function(e){return e.shouldPublishImmediately?kJ:DJ};function lv(e){var t=Q.exports.useContext(e);return t||Le(!1),t}var Tm=function(t){return t&&t.env.closestScrollable||null};function LJ(e){var t=Q.exports.useRef(null),n=lv(gy),r=$C("droppable"),i=n.registry,o=n.marshal,s=aL(e),u=zt(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),h=Q.exports.useRef(u),m=zt(function(){return Vn(function(O,B){t.current||Le(!1);var A={x:O,y:B};o.updateDroppableScroll(u.id,A)})},[u.id,o]),v=rt(function(){var O=t.current;return!O||!O.env.closestScrollable?Xn:wS(O.env.closestScrollable)},[]),w=rt(function(){var O=v();m(O.x,O.y)},[v,m]),b=zt(function(){return Bh(w)},[w]),N=rt(function(){var O=t.current,B=Tm(O);O&&B||Le(!1);var A=O.scrollOptions;if(A.shouldPublishImmediately){w();return}b()},[b,w]),T=rt(function(O,B){t.current&&Le(!1);var A=s.current,z=A.getDroppableRef();z||Le(!1);var M=_J(z),F={ref:z,descriptor:u,env:M,scrollOptions:B};t.current=F;var U=PJ({ref:z,descriptor:u,env:M,windowScroll:O,direction:A.direction,isDropDisabled:A.isDropDisabled,isCombineEnabled:A.isCombineEnabled,shouldClipSubject:!A.ignoreContainerClipping}),W=M.closestScrollable;return W&&(W.setAttribute(r1.contextId,n.contextId),W.addEventListener("scroll",N,l1(F.scrollOptions))),U},[n.contextId,u,N,s]),R=rt(function(){var O=t.current,B=Tm(O);return O&&B||Le(!1),wS(B)},[]),S=rt(function(){var O=t.current;O||Le(!1);var B=Tm(O);t.current=null,B&&(b.cancel(),B.removeAttribute(r1.contextId),B.removeEventListener("scroll",N,l1(O.scrollOptions)))},[N,b]),E=rt(function(O){var B=t.current;B||Le(!1);var A=Tm(B);A||Le(!1),A.scrollTop+=O.y,A.scrollLeft+=O.x},[]),I=zt(function(){return{getDimensionAndWatchScroll:T,getScrollWhileDragging:R,dragStopped:S,scroll:E}},[S,T,R,E]),P=zt(function(){return{uniqueId:r,descriptor:u,callbacks:I}},[I,u,r]);bi(function(){return h.current=P.descriptor,i.droppable.register(P),function(){t.current&&S(),i.droppable.unregister(P)}},[I,u,S,P,o,i.droppable]),bi(function(){!t.current||o.updateDroppableIsEnabled(h.current.id,!e.isDropDisabled)},[e.isDropDisabled,o]),bi(function(){!t.current||o.updateDroppableIsCombineEnabled(h.current.id,e.isCombineEnabled)},[e.isCombineEnabled,o])}function $b(){}var u1={width:0,height:0,margin:i9},MJ=function(t){var n=t.isAnimatingOpenOnMount,r=t.placeholder,i=t.animate;return n||i==="close"?u1:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},zJ=function(t){var n=t.isAnimatingOpenOnMount,r=t.placeholder,i=t.animate,o=MJ({isAnimatingOpenOnMount:n,placeholder:r,animate:i});return{display:r.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?lh.placeholder:null}};function BJ(e){var t=Q.exports.useRef(null),n=rt(function(){!t.current||(clearTimeout(t.current),t.current=null)},[]),r=e.animate,i=e.onTransitionEnd,o=e.onClose,s=e.contextId,u=Q.exports.useState(e.animate==="open"),h=u[0],m=u[1];Q.exports.useEffect(function(){return h?r!=="open"?(n(),m(!1),$b):t.current?$b:(t.current=setTimeout(function(){t.current=null,m(!1)}),n):$b},[r,h,n]);var v=rt(function(b){b.propertyName==="height"&&(i(),r==="close"&&o())},[r,o,i]),w=zJ({isAnimatingOpenOnMount:h,animate:e.animate,placeholder:e.placeholder});return Yr.createElement(e.placeholder.tagName,{style:w,"data-rbd-placeholder-context-id":s,onTransitionEnd:v,ref:e.innerRef})}var FJ=Yr.memo(BJ),jC=Yr.createContext(null),UJ=function(e){tD(t,e);function t(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o))||this,r.state={isVisible:Boolean(r.props.on),data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}t.getDerivedStateFromProps=function(i,o){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(i.on),data:i.on,animate:"none"}};var n=t.prototype;return n.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},t}(Yr.PureComponent),c1={dragging:5e3,dropAnimating:4500},$J=function(t,n){return n?lh.drop(n.duration):t?lh.snap:lh.fluid},WJ=function(t,n){return t?n?Wh.opacity.drop:Wh.opacity.combining:null},jJ=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function KJ(e){var t=e.dimension,n=t.client,r=e.offset,i=e.combineWith,o=e.dropping,s=Boolean(i),u=jJ(e),h=Boolean(o),m=h?gS.drop(r,s):gS.moveTo(r),v={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:$J(u,o),transform:m,opacity:WJ(s,h),zIndex:h?c1.dropAnimating:c1.dragging,pointerEvents:"none"};return v}function qJ(e){return{transform:gS.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function VJ(e){return e.type==="DRAGGING"?KJ(e):qJ(e)}function HJ(e,t,n){n===void 0&&(n=Xn);var r=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=SD(i,r),s=nv(o,n),u={client:o,tagName:t.tagName.toLowerCase(),display:r.display},h={x:o.marginBox.width,y:o.marginBox.height},m={descriptor:e,placeholder:u,displaceBy:h,client:o,page:s};return m}function GJ(e){var t=$C("draggable"),n=e.descriptor,r=e.registry,i=e.getDraggableRef,o=e.canDragInteractiveElements,s=e.shouldRespectForcePress,u=e.isEnabled,h=zt(function(){return{canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:u}},[o,u,s]),m=rt(function(N){var T=i();return T||Le(!1),HJ(n,T,N)},[n,i]),v=zt(function(){return{uniqueId:t,descriptor:n,options:h,getDimension:m}},[n,m,h,t]),w=Q.exports.useRef(v),b=Q.exports.useRef(!0);bi(function(){return r.draggable.register(w.current),function(){return r.draggable.unregister(w.current)}},[r.draggable]),bi(function(){if(b.current){b.current=!1;return}var N=w.current;w.current=v,r.draggable.update(v,N)},[v,r.draggable])}function YJ(e){e.preventDefault()}function XJ(e){var t=Q.exports.useRef(null),n=rt(function(F){t.current=F},[]),r=rt(function(){return t.current},[]),i=lv(gy),o=i.contextId,s=i.dragHandleUsageInstructionsId,u=i.registry,h=lv(jC),m=h.type,v=h.droppableId,w=zt(function(){return{id:e.draggableId,index:e.index,type:m,droppableId:v}},[e.draggableId,e.index,m,v]),b=e.children,N=e.draggableId,T=e.isEnabled,R=e.shouldRespectForcePress,S=e.canDragInteractiveElements,E=e.isClone,I=e.mapped,P=e.dropAnimationFinished;if(!E){var O=zt(function(){return{descriptor:w,registry:u,getDraggableRef:r,canDragInteractiveElements:S,shouldRespectForcePress:R,isEnabled:T}},[w,u,r,S,R,T]);GJ(O)}var B=zt(function(){return T?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":N,"data-rbd-drag-handle-context-id":o,draggable:!1,onDragStart:YJ}:null},[o,s,N,T]),A=rt(function(F){I.type==="DRAGGING"&&(!I.dropping||F.propertyName==="transform"&&P())},[P,I]),z=zt(function(){var F=VJ(I),U=I.type==="DRAGGING"&&I.dropping?A:null,W={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":o,"data-rbd-draggable-id":N,style:F,onTransitionEnd:U},dragHandleProps:B};return W},[o,B,N,I,A,n]),M=zt(function(){return{draggableId:w.id,type:w.type,source:{index:w.index,droppableId:w.droppableId}}},[w.droppableId,w.id,w.index,w.type]);return b(z,I.snapshot,M)}var pL=function(e,t){return e===t},mL=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null},JJ=function(t){return t.combine?t.combine.draggableId:null},QJ=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function ZJ(){var e=Vn(function(i,o){return{x:i,y:o}}),t=Vn(function(i,o,s,u,h){return{isDragging:!0,isClone:o,isDropAnimating:Boolean(h),dropAnimation:h,mode:i,draggingOver:s,combineWith:u,combineTargetFor:null}}),n=Vn(function(i,o,s,u,h,m,v){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:h,combineWith:m,mode:o,offset:i,dimension:s,forceShouldAnimate:v,snapshot:t(o,u,h,m,null)}}}),r=function(o,s){if(o.isDragging){if(o.critical.draggable.id!==s.draggableId)return null;var u=o.current.client.offset,h=o.dimensions.draggables[s.draggableId],m=wi(o.impact),v=QJ(o.impact),w=o.forceShouldAnimate;return n(e(u.x,u.y),o.movementMode,h,s.isClone,m,v,w)}if(o.phase==="DROP_ANIMATING"){var b=o.completed;if(b.result.draggableId!==s.draggableId)return null;var N=s.isClone,T=o.dimensions.draggables[s.draggableId],R=b.result,S=R.mode,E=mL(R),I=JJ(R),P=o.dropDuration,O={duration:P,curve:DC.drop,moveTo:o.newHomeClientOffset,opacity:I?Wh.opacity.drop:null,scale:I?Wh.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:T,dropping:O,draggingOver:E,combineWith:I,mode:S,forceShouldAnimate:null,snapshot:t(S,N,E,I,O)}}}return null};return r}function gL(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var eQ={mapped:{type:"SECONDARY",offset:Xn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:gL(null)}};function tQ(){var e=Vn(function(s,u){return{x:s,y:u}}),t=Vn(gL),n=Vn(function(s,u,h){return u===void 0&&(u=null),{mapped:{type:"SECONDARY",offset:s,combineTargetFor:u,shouldAnimateDisplacement:h,snapshot:t(u)}}}),r=function(u){return u?n(Xn,u,!0):null},i=function(u,h,m,v){var w=m.displaced.visible[u],b=Boolean(v.inVirtualList&&v.effected[u]),N=dy(m),T=N&&N.draggableId===u?h:null;if(!w){if(!b)return r(T);if(m.displaced.invisible[u])return null;var R=Af(v.displacedBy.point),S=e(R.x,R.y);return n(S,T,!0)}if(b)return r(T);var E=m.displacedBy.point,I=e(E.x,E.y);return n(I,T,w.shouldAnimate)},o=function(u,h){if(u.isDragging)return u.critical.draggable.id===h.draggableId?null:i(h.draggableId,u.critical.draggable.id,u.impact,u.afterCritical);if(u.phase==="DROP_ANIMATING"){var m=u.completed;return m.result.draggableId===h.draggableId?null:i(h.draggableId,m.result.draggableId,m.impact,m.afterCritical)}return null};return o}var nQ=function(){var t=ZJ(),n=tQ(),r=function(o,s){return t(o,s)||n(o,s)||eQ};return r},rQ={dropAnimationFinished:YD},iQ=wD(nQ,rQ,null,{context:UC,pure:!0,areStatePropsEqual:pL})(XJ);function vL(e){var t=lv(jC),n=t.isUsingCloneFor;return n===e.draggableId&&!e.isClone?null:y(iQ,{...e})}function oQ(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return y(vL,{...e,isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r})}function aQ(e){var t=Q.exports.useContext(gy);t||Le(!1);var n=t.contextId,r=t.isMovementAllowed,i=Q.exports.useRef(null),o=Q.exports.useRef(null),s=e.children,u=e.droppableId,h=e.type,m=e.mode,v=e.direction,w=e.ignoreContainerClipping,b=e.isDropDisabled,N=e.isCombineEnabled,T=e.snapshot,R=e.useClone,S=e.updateViewportMaxScroll,E=e.getContainerForClone,I=rt(function(){return i.current},[]),P=rt(function(W){i.current=W},[]);rt(function(){return o.current},[]);var O=rt(function(W){o.current=W},[]),B=rt(function(){r()&&S({maxScroll:eL()})},[r,S]);LJ({droppableId:u,type:h,mode:m,direction:v,isDropDisabled:b,isCombineEnabled:N,ignoreContainerClipping:w,getDroppableRef:I});var A=y(UJ,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder,children:function(W){var G=W.onClose,te=W.data,V=W.animate;return y(FJ,{placeholder:te,onClose:G,innerRef:O,animate:V,contextId:n,onTransitionEnd:B})}}),z=zt(function(){return{innerRef:P,placeholder:A,droppableProps:{"data-rbd-droppable-id":u,"data-rbd-droppable-context-id":n}}},[n,u,A,P]),M=R?R.dragging.draggableId:null,F=zt(function(){return{droppableId:u,type:h,isUsingCloneFor:M}},[u,M,h]);function U(){if(!R)return null;var W=R.dragging,G=R.render,te=y(vL,{draggableId:W.draggableId,index:W.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0,children:function(V,oe){return G(V,oe,W)}});return TR.createPortal(te,E())}return K(jC.Provider,{value:F,children:[s(z,T),U()]})}var Wb=function(t,n){return t===n.droppable.type},f1=function(t,n){return n.draggables[t.draggable.id]},sQ=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=ft({},t,{shouldAnimatePlaceholder:!1}),r=Vn(function(s){return{draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}}}),i=Vn(function(s,u,h,m,v,w){var b=v.descriptor.id,N=v.descriptor.droppableId===s;if(N){var T=w?{render:w,dragging:r(v.descriptor)}:null,R={isDraggingOver:h,draggingOverWith:h?b:null,draggingFromThisWith:b,isUsingPlaceholder:!0};return{placeholder:v.placeholder,shouldAnimatePlaceholder:!1,snapshot:R,useClone:T}}if(!u)return n;if(!m)return t;var S={isDraggingOver:h,draggingOverWith:b,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:v.placeholder,shouldAnimatePlaceholder:!0,snapshot:S,useClone:null}}),o=function(u,h){var m=h.droppableId,v=h.type,w=!h.isDropDisabled,b=h.renderClone;if(u.isDragging){var N=u.critical;if(!Wb(v,N))return n;var T=f1(N,u.dimensions),R=wi(u.impact)===m;return i(m,w,R,R,T,b)}if(u.phase==="DROP_ANIMATING"){var S=u.completed;if(!Wb(v,S.critical))return n;var E=f1(S.critical,u.dimensions);return i(m,w,mL(S.result)===m,wi(S.impact)===m,E,b)}if(u.phase==="IDLE"&&u.completed&&!u.shouldFlush){var I=u.completed;if(!Wb(v,I.critical))return n;var P=wi(I.impact)===m,O=Boolean(I.impact.at&&I.impact.at.type==="COMBINE"),B=I.critical.droppable.id===m;return P?O?t:n:B?t:n}return n};return o},lQ={updateViewportMaxScroll:g7};function uQ(){return document.body||Le(!1),document.body}var cQ={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:uQ},yL=wD(sQ,lQ,null,{context:UC,pure:!0,areStatePropsEqual:pL})(aQ);yL.defaultProps=cQ;function fQ(e){const t=Be(),[n,r]=Q.exports.useState([]);Q.exports.useEffect(()=>{i()},[e.indexId]);function i(){ih().findAllBelongTo([e.indexId],"indexId").then(o=>r(o.sort((s,u)=>s.sort-u.sort))).catch(t.showError)}return K("div",{children:[y("div",{children:y(_n,{className:"wa",isAdd:!0,itemzz:e.columnzz,value:0,change:function(o){ih().create({indexId:e.indexId,columnId:o,sort:n.length}).then(()=>i()).catch(t.showError)}})}),y(EJ,{onDragEnd:o=>{if(o.destination===void 0||o.source.index===o.destination.index||n.length<2)return;const s=[...n],[u]=s.splice(o.source.index,1);s.splice(o.destination.index,0,u),s.forEach((h,m)=>h.sort=m),ih().updateMany(s).then(()=>i()).catch(t.showError)},children:y(yL,{droppableId:"IndexColumnListDroppable",children:(o,s)=>K("ul",{className:"list-unstyled",ref:o.innerRef,...o.droppableProps,children:[n.map((u,h)=>y(oQ,{draggableId:u.id.toString(),index:h,children:(m,v)=>y("li",{ref:m.innerRef,...m.draggableProps,...m.dragHandleProps,children:y(LY,{cicm:e.cicm,item:u,refresh:i})})},u.id)),o.placeholder]})})})]})}function dQ(e){const t=Mr(),n=eD(),r=Be(),[i,o]=Q.exports.useState([]),[s,u]=Q.exports.useState([]),h=Vr(i);Q.exports.useEffect(()=>{o(t.itemzz.filter(v=>v.entityId===e.entity.id))},[e.entity,t.itemzz]),Q.exports.useEffect(()=>{u(n.itemzz.filter(v=>v.entityId===e.entity.id))},[e.entity,n.itemzz]);function m(v){rh().update(v).catch(r.showError)}return K("table",{className:"table",children:[y("caption",{children:y("h3",{className:"inline me-3",children:"Index"})}),y("thead",{children:K("tr",{children:[y("th",{className:"w222",children:"type"}),y("th",{children:"column"})]})}),y("tbody",{children:s.map(v=>K("tr",{children:[y("td",{children:K("div",{className:"input-group",children:[y("button",{onClick:function(){Lr().then(w=>{if(w.isConfirmed)return rh().delete(v.id)}).catch(r.showError)},className:"btn btn-outline-primary danger",type:"button",children:"-"}),y(Ao,{itemzz:C_,value:v.type,change:function(w){m({...v,type:w})}})]})}),y("td",{children:y(fQ,{cicm:h,columnzz:i,indexId:v.id})})]},v.id))}),y("tfoot",{children:K("tr",{children:[y("td",{children:y(Ao,{isAdd:!0,itemzz:C_,value:"",change:function(v){rh().create({entityId:e.entity.id,type:v}).catch(r.showError)}})}),y("td",{})]})})]})}function hQ(e){const t=Be();function n(r){Zr().update(r).catch(t.showError)}return K("tr",{children:[y("td",{children:e.item.name}),y("td",{children:y(fu,{itemzz:e.nnzz,value:e.item.raField,change:function(r){n({...e.item,raField:r})}})}),y("td",{children:y(fu,{itemzz:e.nnzz,value:e.item.raInput,change:function(r){n({...e.item,raInput:r})}})})]})}function pQ(e){const t=Mr(),[n,r]=Q.exports.useState([]),i=Pr("RAC").map(o=>[o.name,o.name]);return Q.exports.useEffect(()=>{r(t.itemzz.filter(o=>o.entityId===e.entity.id))},[e.entity,t.itemzz]),K("table",{className:"table",children:[K("caption",{children:[y("h3",{className:"inline me-3",children:"React-Admin Component"}),y(kr,{href:"https://marmelab.com/react-admin/documentation.html",children:"doc"})]}),y("thead",{children:K("tr",{children:[y("th",{className:"w111",children:"name"}),y("th",{children:"field"}),y("th",{children:"input"})]})}),y("tbody",{children:n.map(o=>y(hQ,{entity:e.entity,item:o,nnzz:i},o.id))})]})}function mQ(e){const t=Be(),n=e.item.entity0Id===e.item.entity1Id,r=e.entity.id!==e.item.entity0Id||n,i=r?e.item.name1:e.item.name0;function o(u,h){ei("Please input the name",u).then(m=>{if(m.isConfirmed){const v={...e.item};return h?v.name1=m.value:v.name0=m.value,s(v)}}).catch(t.showError)}function s(u){return Eu().update(u)}return K("tr",{children:[y("td",{className:"text-secondary",children:K("div",{className:"d-flex",children:[y("div",{className:"me-1",children:y("button",{onClick:function(){Lr().then(u=>{if(u.isConfirmed)return Eu().delete(e.item.id)}).catch(t.showError)},className:"btn btn-outline-primary danger",type:"button",children:"-"})}),K("div",{children:[y("div",{className:"mt-1",children:zh(e.item.type,r)}),n&&e.item.type===Ro.OneToMany?y("div",{className:"mt-4",children:"has many"}):null]})]})}),K("td",{children:[y("div",{children:y("button",{className:"btn btn-outline-primary",type:"button",onClick:function(){o(i,r)},children:i})}),n&&e.item.type===Ro.OneToMany?y("div",{className:"mt-3",children:y("button",{className:"btn btn-outline-primary",type:"button",onClick:function(){o(e.item.name0,!1)},children:e.item.name0})}):null]}),y("td",{children:r?y(_n,{itemzz:e.columnzz,value:e.item.column1Id,change:function(u){s({...e.item,column1Id:u}).catch(t.showError)}}):null})]})}function gQ(e){const t=Mr(),n=sp(),r=Ii(),i=Be(),[o,s]=Q.exports.useState([]),u=t.itemzz.filter(m=>m.inTable&&m.entityId===e.entity.id);Q.exports.useEffect(()=>{s(n.itemzz.filter(m=>m.entity0Id===e.entity.id||m.entity1Id===e.entity.id))},[e.entity,n.itemzz]);function h(m,v){const w=r.find(v);w&&Wk(m,e.entity,w).catch(i.showError)}return K("table",{className:"table",children:[y("caption",{children:y("h3",{className:"inline me-3",children:"Relation"})}),y("thead",{children:K("tr",{children:[y("th",{className:"w222"}),y("th",{children:"name"}),y("th",{children:"foreign key"})]})}),y("tbody",{children:o.map(m=>y(mQ,{columnzz:u,item:m,entity:e.entity},m.id))}),y("tfoot",{children:K("tr",{children:[y("td",{children:y(_n,{itemzz:r.itemzz,value:0,verb:"has many",change:m=>{h(Ro.OneToMany,m)}})}),y("td",{children:y(_n,{itemzz:r.itemzz,value:0,verb:"has one",change:m=>{h(Ro.OneToOne,m)}})}),y("td",{})]})})]})}const KC=yt(function(e,t){return Ga(e,t,_h())});function vQ(e){const t=Be();return K("tr",{children:[y("td",{children:K("div",{className:"btn-group",children:[y("button",{onClick:()=>_h().delete(e.item.id).catch(t.showError),className:"btn btn-outline-primary danger",type:"button",children:"-"}),y("button",{className:"btn btn-outline-secondary",type:"button",children:e.item.name})]})}),y("td",{children:y("input",{value:e.item.parameter,onChange:n=>_h().update({...e.item,parameter:n.target.value}).catch(t.showError),type:"text",className:"form-control"})})]})}function yQ(e){const t=new Set;e.constraintzz.forEach(o=>t.add(o.tag));const n=Array.from(t);n.sort((o,s)=>o.localeCompare(s));const[r,i]=Q.exports.useState(n[0]);return K("div",{className:"d-flex",children:[y("ul",{className:"list-group w111",children:n.map(o=>y("li",{onClick:function(){i(o)},className:(r===o?"active ":"")+"list-group-item list-group-item-action pointer",children:o},o))}),y("div",{className:"ms-3",children:e.constraintzz.filter(o=>o.tag===r).map(o=>y("div",{children:K("div",{onClick:function(){e.add(o.name)},className:"btn btn-outline-primary mb-1",children:["+ ",o.name]})},o.id))})]})}function wL(e){const t=KC(),n=Be(),[r,i]=Q.exports.useState([]),[o,s]=Q.exports.useState(!1);return Q.exports.useEffect(()=>{i(t.itemzz.filter(u=>u.columnId===e.column.id))},[e.column,t.itemzz]),y(Qt,{children:o?K("div",{children:[y("button",{onClick:()=>s(!1),className:"btn btn-outline-primary",type:"button",children:"OK"}),y("table",{className:"table",children:y("tbody",{children:r.map(u=>y(vQ,{item:u},u.id))})}),y(yQ,{add:function(u){_h().create({columnId:e.column.id,name:u,parameter:""}).catch(n.showError)},constraintzz:e.constraintzz})]}):K("ul",{onClick:()=>s(!0),className:"pointer",children:[r.length===0?y("li",{children:"----"}):null,r.map(u=>K("li",{children:[u.name,u.parameter?K("span",{children:[":",u.parameter]}):null]},u.id))]})})}function wQ(e){const t=Mr(),n=Be(),[r,i]=Q.exports.useState([]),[o,s]=Q.exports.useState(!1),u=Pr("ValidationRule");return Q.exports.useEffect(()=>{i(t.itemzz.filter(h=>h.entityId===e.entity.id))},[e.entity,t.itemzz]),K("table",{className:"table",children:[K("caption",{children:[y("h3",{className:"inline me-3",children:"Validation"}),y("span",{className:"me-3",children:"request constraint"}),y(kr,{href:"https://laravel.com/docs/9.x/validation",children:"doc"})]}),y("thead",{children:K("tr",{children:[y("th",{className:"w111",children:"name"}),y("th",{children:"constraint"})]})}),y("tbody",{children:r.map(h=>K("tr",{children:[y("td",{children:h.name}),y("td",{children:y(wL,{constraintzz:u,column:h})})]},h.id))}),y("tfoot",{children:K("tr",{children:[y("td",{children:K("div",{className:"btn-group",children:[y(ha,{file:al(QT),content:Dn.ScriptCode}),y(uf,{waiting:o,onClick:function(){s(!0),Xk(QT,e.entity).then(h=>_h().updateMany(h.result)).then(()=>{s(!1),n.showOK()}).catch(h=>{s(!1),n.showError(h)})},children:"Run"})]})}),y("td",{children:"set constraint"})]})})]})}var bL=(e=>(e.Cast="Cast",e.Column="Column",e.Detail="Detail",e.Factory="Factory",e.File="File",e.Index="Index",e.Relation="Relation",e.Validation="Validation",e.RAC="RAC",e))(bL||{});function bQ(){const e=Bu(),t=Object.keys(bL);if(e.item===void 0)return null;function n(){return e.item===void 0?null:e.tab==="Cast"?y(CY,{entity:e.item}):e.tab==="Column"?y(AY,{entity:e.item}):e.tab==="Detail"?y(RY,{item:e.item}):e.tab==="Factory"?y(DY,{entity:e.item}):e.tab==="File"?y(Qk,{entity:e.item}):e.tab==="Index"?y(dQ,{entity:e.item}):e.tab==="Relation"?y(gQ,{entity:e.item}):e.tab==="Validation"?y(wQ,{entity:e.item}):e.tab==="RAC"?y(pQ,{entity:e.item}):null}return K("div",{children:[y(_f,{tab:e.tab,tabzz:t,setTab:e.setTab}),n()]})}function d1(e){}const qC=yt(function(e){return{...Tf(e),callback:d1,openCB(n,r=d1){e({isOpen:!0,title:n,callback:r})},setItemId(n){e({itemId:n})}}});function SL(e){const t=qC(),r=to().itemzz.filter(i=>i.parentId===e.item.id).sort((i,o)=>i.name.localeCompare(o.name));return K("div",{className:"ms-4",children:[y("div",{onClick:function(){t.setItemId(e.item.id)},className:(e.item.id===t.itemId?"active ":"")+"button yellow",children:e.item.name}),r.map(i=>y(SL,{item:i},i.id))]})}function EL(){const e=qC(),n=to().itemzz.find(r=>r.parentId===null);return K(Du,{isOpen:e.isOpen,onRequestClose:e.close,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:[y("h3",{children:e.title}),y("button",{disabled:e.itemId===0,onClick:function(){e.callback(e.itemId),e.close()},className:"btn btn-outline-primary",type:"button",children:"OK"}),y("div",{children:n===void 0?"no root":y(SL,{item:n})})]})}function SQ(){const e=Be();return K("div",{className:"row",children:[y(zu,{makeCRUD:Hi,onCreate:function(t){qk(t).catch(e.showError)},useItemPageStore:Bu,useItemzzStore:Ii,title:at.Entity,children:y(bQ,{})}),y(Pk,{}),y(EL,{}),y(JE,{}),y(Xv,{})]})}function EQ(e){return{...Mo(e),summary:"",value:""}}const bS=yt(function(e){return Lo(e)}),VC=yt(function(e,t){return{...ti(e,t,Lg()),sorting:!0}});function CQ(e){const t=bS(),n=Be();function r(i){t.setItem(i),Lg().update(i).then(o=>t.setItem(o)).catch(n.showError)}return y("table",{className:"table td0-tar",children:K("tbody",{children:[K("tr",{children:[y("td",{children:"color"}),y("td",{children:y(Ya,{color:e.item.color,setColor:i=>r({...e.item,color:i})})})]}),K("tr",{children:[y("td",{children:"summary"}),y("td",{children:y("input",{value:e.item.summary,onChange:i=>r({...e.item,summary:i.target.value}),className:"form-control",type:"text"})})]}),K("tr",{children:[y("td",{children:"value"}),y("td",{children:y("textarea",{rows:11,value:e.item.value,onChange:i=>r({...e.item,value:i.target.value}),className:"form-control"})})]})]})})}function xQ(){const e=bS(),t=Be();return y("div",{className:"row",children:y(zu,{makeCRUD:Lg,useItemPageStore:bS,useItemzzStore:VC,title:at.Example,validateName:!1,onCreate:function(n){Lg().create(EQ(n)).catch(t.showError)},children:e.item?y(CQ,{item:e.item}):void 0})})}const hf=yt(function(e){return Lo(e)});function NQ(e,t,n){return{...Mo(e),moduleId:n,entityId:t,description:"",summary:""}}function IQ(e,t,n){let r="/".concat(e.name);return n.find(i=>i.moduleId===t.id&&i.name===r)&&(r+="/{id}"),n.find(i=>i.moduleId===t.id&&i.name===r)&&(r="/".concat(e.name).concat("_Page")),n.find(i=>i.moduleId===t.id&&i.name===r)&&(r="/".concat(e.name).concat("/")+new Date().getTime()),NQ(r,e.id,t.id)}function tu(e){const t=Ii.getState().findByName(e);return t===void 0?[]:Mr.getState().itemzz.filter(n=>n.entityId===t.id)}function TQ(e){return tu(at.ParameterInPath).find(t=>t.name===e)}function HC(e){return e.replace("ParameterIn","").toLowerCase()}var pi=(e=>(e.Module="Module",e.Path="Path",e.Action="Action",e.Request="Request",e.Response="Response",e.File="File",e))(pi||{});const pl=yt(function(e){return{action:"",ma:void 0,path:void 0,step:"File",setAction(n,r){e({action:n,ma:r})},setPath(n){e({path:n})},setStep(n){e({step:n})}}}),CL=yt(function(e,t){return ti(e,t,Rh())});function xL(e){return K("div",{className:"list-group",children:[e.children,e.itemzz.map(function(t){var n;return y("button",{className:"list-group-item list-group-item-action"+(((n=e.item)==null?void 0:n.id)===t.id?" active":""),onClick:()=>e.select(t),children:t.name},t.id)})]})}const OQ=pi.Path;function _Q(e){const t=Ti(),n=pl(),r=CL(),i=Be();Q.exports.useEffect(()=>{var h,m;if(((h=n.path)==null?void 0:h.entityId)===e.entity.id&&((m=n.path)==null?void 0:m.moduleId)===e.module.id)return;const u=r.itemzz.find(v=>v.entityId===e.entity.id&&v.moduleId===e.module.id);n.setPath(u)},[e.entity,e.module]);const o=t.find(e.module.fileId),s=r.itemzz.filter(u=>u.moduleId===e.module.id&&u.entityId===e.entity.id);return K("div",{children:[K("div",{className:"d-flex",children:[y("h3",{children:OQ}),y("div",{children:y("button",{className:"btn btn-outline-primary ms-3",type:"button",onClick:function(){const u=IQ(e.entity,e.module,r.itemzz);return Rh().create(u).then(function(h){if(n.path===void 0&&n.setPath(h),u.name.includes("/{id}")){const m=TQ("id");return m===void 0?void 0:Ld().create({alias:"",columnId:m.id,pathId:h.id,requestId:null,responseId:null})}}).catch(i.showError)},children:"+"})}),y("div",{children:o===void 0?K("span",{className:"text-danger ms-3",children:["route file ",e.module.fileId," not found"]}):y(Fu,{action:"",className:"ms-3",file:o,fullName:!0,entity:e.entity,module:e.module})})]}),y(xL,{item:n.path,itemzz:s,select:u=>n.setPath(u)})]})}function h1(e,t,n){return{deprecated:!1,inOapi:!0,inRoute:!0,name:e.name,description:"",routeName:"",filezz:[],summary:n.name+" "+Lu.lowerCase(e.name)+" "+t.name,operationId:n.name+"_"+e.name+t.name,directoryId:e.id,entityId:t.id,moduleId:n.id,requestId:1}}const GC=yt(function(e,t){return Ga(e,t,vi())}),AQ=pi.Action;function RQ(e){var N,T,R;const t=to(),n=pl(),r=GC(),i=Be(),o=(R=(T=(N=t.treeMap.get(e.module.directoryId))==null?void 0:N.childzz)==null?void 0:T.slice().sort((S,E)=>S.name.localeCompare(E.name)))!=null?R:[],s=o.find(S=>n.action===S.name),u=r.itemzz.filter(S=>S.directoryId===e.module.directoryId&&S.entityId===e.entity.id);Q.exports.useEffect(()=>{var S,E;((S=n.path)==null?void 0:S.entityId)===e.entity.id&&((E=n.path)==null?void 0:E.moduleId)===e.module.id||(n.setPath(void 0),s?n.setAction(s.name,h(s)):n.setAction(""))},[e.entity,e.module]);function h(S){return r.itemzz.find(E=>E.entityId===e.entity.id&&E.moduleId===e.module.id&&E.directoryId===S.id)}function m(S,E){let I="nav-link";return s&&S.id===s.id?(I+=" active",E===void 0&&(I+=" bg-white text-secondary border-primary"),I):(E===void 0&&(I+=" text-secondary"),I)}function v(){ei("please input the action name","").then(function(S){if(S.isConfirmed&&S.value){const E=t.find(e.module.directoryId);if(E){const I={...E,name:S.value};vi().create(h1(I,e.entity,e.module)).catch(i.showError)}}})}function w(S,E){return s===void 0||s.id!==S.id||E?null:y("span",{onClick:function(){vi().create(h1(s,e.entity,e.module)).then(function(I){var P;if(n.setAction(n.action,I),n.path){const O=(P=tY.get(s.name.slice(0,6)))!=null?P:"get";return oh().create({pathId:n.path.id,moduleActionId:I.id,method:O,middlewarezz:[]})}}).catch(i.showError)},className:"badge bg-success rounded-pill",children:"+"})}function b(S){const E=h(S);return y("li",{onClick:function(){n.setAction(S.name,E)},className:"nav-item nav-item-fill",children:K("span",{className:m(S,E),children:[S.name," ",w(S,E)]})},S.id)}return K("div",{children:[K("div",{className:"d-flex",children:[y("h3",{children:AQ}),y("div",{children:y("button",{className:"btn btn-outline-primary ms-3",type:"button",onClick:v,children:"+"})})]}),K("ul",{className:"nav nav-tabs",children:[o.map(b),u.map(function(S){return y("li",{className:"nav-item nav-item-fill",onClick:function(){n.setAction(S.name,S)},children:y("span",{className:"nav-link "+(n.action===S.name?"active border-primary":"text-primary"),children:S.name})},"ma"+S.id)})]})]})}function PQ(e){return{...Mo(e),directoryId:10,fileId:53,testDirectoryId:10,prefix:"/"+e}}const NL=yt(function(e,t){return ti(e,t,Kc())});function kQ(){return K("div",{children:[K("div",{className:"d-flex",children:[y("h3",{children:"Module"}),y("div",{children:y("button",{className:"btn btn-outline-primary ms-3",type:"button",onClick:function(){Mn("please input the module name","").then(function(e){e.isConfirmed&&e.value&&Kc().create(PQ(e.value)).catch(Be.getState().showError)})},children:"+"})})]}),y(xL,{item:hf.getState().item,itemzz:NL.getState().itemzz,select:e=>hf.getState().setItem(e)})]})}function DQ(){var o,s;const e=Bu(),t=Ii(),n=fl(),r=hf();function i(){const u=t.itemzz.map(h=>h.name);n.openCB("select an Entity",u,function(h){const m=t.findByName(h);m!==void 0&&e.setItem(m)})}return K("div",{className:"d-flex flex-column py-3",style:{gap:"2rem"},children:[K("div",{children:[y("h3",{children:"Entity"}),y("div",{children:y("button",{onClick:i,className:"btn btn-outline-primary",type:"button",children:(s=(o=e.item)==null?void 0:o.name)!=null?s:"-- select an Entity --"})})]}),y(kQ,{}),e.item===void 0||r.item===void 0?null:y(_Q,{entity:e.item,module:r.item}),e.item===void 0||r.item===void 0?null:y(RQ,{entity:e.item,module:r.item})]})}function IL(e){return{...Mo(e),example:"",mediaType:"application/json"}}function LQ(e){return{required:!0,...IL(e)}}function MQ(e,t){return`${t.name}_${e}_${Nu.Request}`}function zQ(e,t){return`${t.name}_${e}_${Nu.Response}`}function BQ(e,t,n){return`${t.name}_${e}_`+(n?"Form":"DTO")}function TL(e,t,n,r){const i=r.findByName(e);if(i)return Promise.resolve(i);const o=OL(e,t.id,n);return o.color=n?yi.pink:yi.orange,Cu().create(o).then(s=>{const u=dl();return u.ownerWuId=s.id,Yn().create(u).then(()=>s)})}function FQ(e,t,n,r){const i=BQ(e,t,n);return TL(i,t,n,r)}function OL(e,t,n=!1){return{...Mo(e),entityId:t,type:"allOf",isRequest:n,description:"",example:"",isMap:!1}}const YC=yt(function(e,t){return{...ti(e,t,Uv()),sorting:!0}}),no=yt(function(e,t){return Ga(e,t,Yn())}),bp=yt(function(e,t){return{...Ga(e,t,qm()),add(r){e(i=>({itemzz:[...i.itemzz,r]}))}}}),ll=yt(function(e,t){return{...ti(e,t,Cu()),sorting:!0,add(r){e(i=>({itemzz:[...i.itemzz,r]}))}}});function XC(e){var v,w,b;const t=Be(),[n,r]=Q.exports.useState([]),i={pathId:(v=e.pathId)!=null?v:null,requestId:(w=e.requestId)!=null?w:null,responseId:(b=e.responseId)!=null?b:null},o=u(),s=$E(o);Q.exports.useEffect(()=>{m()},[e.pathId,e.requestId,e.responseId]);function u(){return e.responseId?tu(at.ParameterInHeader):[...tu(at.ParameterInCookie),...tu(at.ParameterInHeader),...tu(at.ParameterInPath),...tu(at.ParameterInQuery)]}function h(N){return K(Qt,{children:[K("option",{value:N,disabled:!0,children:["-- ",HC(N)," --"]}),tu(N).map(T=>y("option",{value:T.id,children:T.name},T.id))]})}function m(){Ld().findAll().then(N=>r(N.filter(function(T){return T.pathId===i.pathId&&T.requestId===i.requestId&&T.responseId===i.responseId}))).catch(t.showError)}return K("table",{className:"table",children:[y("thead",{children:K("tr",{children:[y("th",{children:K("select",{className:"form-select wa",value:0,onChange:function(N){const T=parseInt(N.target.value);Ld().create({alias:"",columnId:T,pathId:i.pathId,requestId:i.requestId,responseId:i.responseId}).then(m).catch(t.showError)},children:[y("option",{value:0,disabled:!0,hidden:!0,children:"-- add --"}),h(at.ParameterInHeader),e.responseId?null:K(Qt,{children:[h(at.ParameterInCookie),h(at.ParameterInPath),h(at.ParameterInQuery)]})]})}),y("th",{className:"align-middle",children:"alias"})]})}),y("tbody",{children:n.map(N=>{var T;return K("tr",{className:"mb-1",children:[y("td",{children:K("div",{className:"input-group",children:[y("button",{className:"btn btn-outline-danger",type:"button",onClick:function(){Ld().delete(N.id).then(m).catch(t.showError)},children:"-"}),y("button",{className:"btn btn-outline-secondary",type:"button",children:(T=s.get(N.columnId))!=null?T:"-- not found --"})]})}),y("td",{children:y("input",{className:"form-control",type:"text",value:N.alias,onChange:function(R){Ld().update({...N,alias:R.target.value}).then(m).catch(t.showError)}})})]},N.id)})})]})}function _L(e,t,n,r,i){const o=[s()];return e.isArray&&o.push("[]"),e.nullable&&o.push(" | null"),o.join("");function s(){var h,m;if(e.type===dt.Enum){const v=n.find(w=>{var b;return((b=e.variableId)!=null?b:0)===w.id});return v===void 0?Rr("Enum",(h=e.variableId)!=null?h:""):`Enum ${v.name}`}if(e.type===dt.WuParameter){const v=r.find(w=>{var b;return((b=e.wuParameterId)!=null?b:0)===w.id});return v===void 0?Rr("WuParameter",(m=e.wuParameterId)!=null?m:""):v.name}return e.type===dt.Wu?u():e.type}function u(){const h=i.find(w=>e.wuId===w.id);if(h===void 0)return Rr("Wu",e.wuId);const m=t.filter(w=>w.ownerId===e.id);if(m.length===0)return h.name;const v=m.map(w=>_L(w,t,n,r,i));return`${h.name}<${v.join(", ")}>`}}const Sp=yt(function(e,t){return ti(e,t,Fg())}),ml=yt(function(e,t){return{...ti(e,t,Ug()),add(r){e(i=>({itemzz:[...i.itemzz,r]}))}}});function AL(e){return Yn().deleteChildzz(e,"ownerId").then(t=>console.log("delete argument ",t))}function UQ(e){var n;const t=Sp();return y(_n,{className:"wa inline",itemzz:t.itemzz,value:(n=e.item.variableId)!=null?n:0,change:function(r){e.update({...e.item,variableId:r})}})}function $Q(e){var i;const t=ml(),[n,r]=Q.exports.useState([]);return Q.exports.useEffect(()=>{r(t.itemzz.filter(o=>o.wuId===e.wuId))},[e.wuId]),y(_n,{className:"wa inline",itemzz:n,value:(i=e.item.wuParameterId)!=null?i:0,change:function(o){e.update({...e.item,wuParameterId:o})}})}function RL(e){const t=no(),n=ml(),[r,i]=Q.exports.useState([]),[o,s]=Q.exports.useState([]);return Q.exports.useEffect(()=>{i(n.itemzz.filter(u=>u.wuId===e.item.wuId)),s(t.itemzz.filter(u=>u.ownerId===e.item.id))},[e.item,t.itemzz]),r.length===0?null:K("div",{children:["<",r.map((u,h)=>{const m=o[h];return m===void 0?K("span",{className:"text-danger",children:["argument ",u.name," is missing"]},u.id):y("div",{className:"mt-1",children:y(Ep,{id:u.id,item:m,wuId:e.wuId,children:K("div",{className:"text-secondary me-2",children:[u.name,u.isWu&&m.type!==dt.Wu?y("span",{className:"text-danger ms-1",children:"must be Wu"}):null]})})},u.id)}),">"]})}function WQ(e,t){return Yn().create(dl(e.isWu?dt.Wu:dt.any,1,null,null,t,e.id))}async function JC(e,t){const n=ml.getState().itemzz.filter(i=>i.wuId===e);if(n.length===0)return[];const r=[];for(const i of n){const o=await WQ(i,t);r.push(o)}return r}function jQ(e){const t=ll();return K("div",{className:e.className,children:[y(_n,{className:"wa inline",itemzz:t.itemzz,value:e.item.wuId,change:function(n){if(n===e.item.wuId)return;const r=e.item;e.update({...e.item,wuId:n}).then(()=>AL(r.id)).then(function(){return JC(n,r.id)})}}),y(RL,{item:e.item,wuId:e.wuId})]})}function KQ(e){return e.item.type===dt.Enum?y(UQ,{item:e.item,update:e.update}):e.item.type===dt.WuParameter?e.wuId===void 0?y("span",{className:"text-danger",children:"only available in Wu page"}):y($Q,{item:e.item,wuId:e.wuId,update:e.update}):y(jQ,{item:e.item,wuId:e.wuId,update:e.update})}function Ep(e){const t=Be();if(e.wuId===void 0&&e.item.type===dt.WuParameter)return y("span",{className:"text-danger",children:"WuParameter is only available in Wu page"});function n(){return e.wuId?lS:lS.filter(s=>s!==dt.WuParameter)}function r(){if([dt.any,dt.boolean].includes(e.item.type))return null;if(rY(e.item.type))return y(KQ,{item:e.item,wuId:e.wuId,update:i});const s=Pr("TypeFormat").map(u=>u.name);return y("div",{children:y(Ao,{allowEmpty:!0,className:"wa",itemzz:s,value:e.item.format,change:u=>i({...e.item,format:u})})})}function i(s){return Yn().update(s).catch(t.showError)}function o(s){if(s===e.item.type)return;const u={...e.item,type:s},h=e.item.type;return h===dt.Wu&&(u.wuId=1),h===dt.WuParameter&&(u.wuParameterId=null),h===dt.Enum&&(u.variableId=null),i(u).then(function(){if(h===dt.Wu)return AL(e.item.id)}).catch(t.showError)}return K("div",{children:[K("div",{className:"d-flex mt-2",children:[y("div",{children:e.children}),y("div",{children:K("div",{className:"form-check form-switch",children:[y("input",{checked:e.item.isArray,onChange:s=>i({...e.item,isArray:s.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"isArraySwitchCheck"+e.id}),e.item.isArray?y("label",{className:"form-check-label",htmlFor:"isArraySwitchCheck"+e.id,children:"array"}):null]})}),y("div",{children:K("div",{className:"form-check form-switch ms-2",children:[y("input",{checked:e.item.nullable,onChange:s=>i({...e.item,nullable:s.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"nullableSwitchCheck"+e.id}),e.item.nullable?y("label",{className:"form-check-label",htmlFor:"nullableSwitchCheck"+e.id,children:"nullable"}):null]})})]}),K("div",{className:"d-flex mt-2",children:[y("div",{children:y(Ao,{className:"wa me-1",itemzz:n(),value:e.item.type,change:o})}),y("div",{children:r()})]})]})}function PL(e){const t=no(),n=Sp(),r=ml(),i=ll(),[o,s]=Q.exports.useState(!1);if(o)return K("div",{children:[y("div",{children:y("button",{className:"btn btn-outline-primary",type:"button",onClick:()=>s(!1),children:"OK"})}),y(Ep,{id:e.id,item:e.item,wuId:e.wuId})]});const u=_L(e.item,t.itemzz,n.itemzz,r.itemzz,i.itemzz);let h=u.indexOf("<");return h===-1&&(h=u.length),K("span",{className:e.isRoot?"pointer":"",onClick:()=>e.isRoot?s(!0):null,children:[u.slice(0,h),u.slice(h)]})}function qQ(e){const t=KC(),n=Be(),[r,i]=Q.exports.useState([]),[o,s]=Q.exports.useState([]);Q.exports.useEffect(()=>{i(t.itemzz.filter(m=>m.columnId===e.wc.columnId)),u()},[]);function u(){db().findAllBelongTo([e.wc.id],Rt(Lt.WuColumn)).then(m=>s(m)).catch(n.showError)}function h(m){const v=o.find(w=>w.columnConstraintId===m.id&&w.wuColumnId===e.wc.id);return y("td",{children:K("div",{className:"form-check form-switch inline",children:[y("input",{checked:v!==void 0,onChange:function(){if(v){db().delete(v.id).then(u).catch(n.showError);return}db().create({wuColumnId:e.wc.id,columnConstraintId:m.id}).then(u).catch(n.showError)},className:"form-check-input",type:"checkbox",role:"switch",id:"wccSwitchCheck"+m.id}),K("label",{className:"form-check-label text-secondary",htmlFor:"wccSwitchCheck"+m.id,children:[m.name,m.parameter?":"+m.parameter:""]})]})})}return y("table",{className:"table table-borderless table-sm",children:y("tbody",{children:r.map(m=>y("tr",{children:h(m)},m.id))})})}function VQ(e){const t=Be(),n=no();function r(){if(e.wc){qm().delete(e.wc.id).catch(t.showError);return}qm().create({wuId:e.wu.id,columnId:e.item.id,alias:""}).catch(t.showError)}function i(){if(e.wc===void 0)return null;if(e.wu.isRequest)return y(qQ,{wc:e.wc});const o=n.itemzz.find(s=>s.ownerColumnId===e.item.id);return o===void 0?y("div",{children:Rr("TypeFormat","")}):y(PL,{id:e.item.id,isRoot:!0,item:o,wuId:e.wu.id})}return K("tr",{children:[K("td",{children:[K("div",{className:"form-check form-switch inline",children:[y("input",{checked:e.wc!==void 0,onChange:r,className:"form-check-input",type:"checkbox",role:"switch",id:"includeSwitchCheck"+e.item.id}),y("label",{className:"form-check-label text-secondary",htmlFor:"includeSwitchCheck"+e.item.id,children:e.wc?"":e.item.name})]}),e.wc?y("input",{value:e.wc.alias,onChange:o=>qm().update({...e.wc,alias:o.target.value}).catch(t.showError),type:"text",className:"form-control inline wa",placeholder:e.item.name}):null]}),y("td",{children:i()})]})}function QC(e){const t=Mr(),n=Be(),r=bp(),[i,o]=Q.exports.useState([]),[s,u]=Q.exports.useState(new Map);Q.exports.useEffect(()=>{o(t.itemzz.filter(w=>w.entityId===e.item.entityId));const v=r.itemzz.filter(w=>w.wuId===e.item.id);u(new Map(v.map(w=>[w.columnId,w])))},[t.itemzz,e.item,r.itemzz]);function h(v){const w=s.get(v.id);return`${e.item.id} ${w==null?void 0:w.id} ${v.id}`}function m(){return e.noCaption?null:e.caption?e.caption:K("caption",{children:[y("h3",{className:"inline me-3",children:"Column"}),K("div",{className:"form-check form-switch inline",children:[y("input",{checked:e.item.isRequest,onChange:function(v){Cu().update({...e.item,isRequest:v.target.checked}).catch(n.showError)},className:"form-check-input",type:"checkbox",role:"switch",id:"isRequestSwitchCheck"}),y("label",{className:"form-check-label",htmlFor:"isRequestSwitchCheck",children:"isRequest"})]}),y(kr,{className:"ms-3",href:"https://spec.openapis.org/oas/v3.0.3#schema-object",children:"doc"})]})}return K("table",{className:"table td0-tal",children:[m(),y("thead",{children:K("tr",{children:[y("th",{className:"w333",children:"include / alias (can be empty)"}),K("th",{children:[e.item.isRequest?"include constraint":"isArray / nullable / type / format",e.item.isRequest?null:y(kr,{className:"ms-3",href:"https://spec.openapis.org/oas/v3.0.3#data-types",children:"doc"})]})]})}),y("tbody",{children:i.map(v=>y(VQ,{isRequest:e.item.isRequest,item:v,wc:s.get(v.id),wu:e.item},h(v)))})]})}const jb=pi.Request;function HQ(e){const t=pl(),n=YC(),r=Be(),i=no(),o=bp(),s=ll(),[u,h]=Q.exports.useState(),m=MQ(e.action,e.entity),v=n.find(e.ma.requestId);if(Q.exports.useEffect(()=>{if(v===void 0){h(void 0);return}const b=i.itemzz.find(N=>N.ownerRequestId===v.id);b!==void 0&&(b.type===dt.Wu?h(s.find(b.wuId)):h(void 0))},[e.ma.requestId]),e.step!==jb){const b=o.itemzz.filter(N=>N.wuId===(u==null?void 0:u.id));return K("div",{className:"my-3",children:[y("h3",{className:"pointer hover-blue text-secondary",onClick:()=>t.setStep(jb),children:jb}),v===void 0?null:K("div",{className:"mt-3",children:[v.name," ",u===void 0||v.id===1?null:b.length===0?y("span",{className:"text-danger",children:"(0 fields)"}):K("span",{className:"text-secondary",children:["(",b.length," fields)"]})]})]})}function w(){return FQ(e.action,e.entity,!0,s).then(b=>(h(b),r.showSuccess(`Wu ${b.name} created`),Uv().create(LQ(m)).then(N=>{r.showSuccess(`Request ${N.name} created`);const T=dl(dt.Wu,b.id);return T.ownerRequestId=N.id,Yn().create(T).then(()=>vi().update({...e.ma,requestId:N.id}).then(R=>t.setAction(e.action,R)))}))).catch(r.showError)}return K("div",{children:[y("div",{className:"my-2",children:n.findByName(m)?null:K("span",{onClick:w,className:"btn btn-outline-primary",children:["+ ",m]})}),y("div",{children:y(_n,{className:"wa",itemzz:n.itemzz,value:e.ma.requestId,change:function(b){vi().update({...e.ma,requestId:b}).then(N=>t.setAction(e.action,N)).catch(r.showError)}})}),u===void 0?null:K(Qt,{children:[y("h3",{className:"my-3",children:u.name}),y(QC,{item:u,noCaption:!0})]}),y("h3",{children:"Parameter"}),y(XC,{requestId:e.ma.requestId})]})}const ZC=yt(function(e,t){return ti(e,t,Bg())});function ex(e){const t=Be();function n(r){if(!(e.fieldName in r))throw new Error(`field ${e.fieldName} not exists`);const o=r[e.fieldName],s=e.source.find(u=>u.id===o);return s?s.name:`${e.fieldName} ${o} not found`}return K("ul",{className:"list-unstyled",children:[K("li",{className:"mb-1",children:[e.title?y("h3",{className:"inline me-3",children:e.title}):null,y(_n,{isAdd:!0,itemzz:e.source,value:0,change:function(r){e.create(r).catch(t.showError)},className:"inline wa"})]}),e.itemzz.map(r=>y("li",{className:"mb-1",children:K("button",{onClick:function(){return e.delete(r.id).catch(t.showError)},className:"btn btn-outline-primary danger",type:"button",children:["- ",n(r)]})},r.id))]})}function kL(e){const t=ZC(),n=Be(),[r,i]=Q.exports.useState([]);Q.exports.useEffect(()=>{o()},[e.requestId,e.pathId]);function o(){cb().findAll().then(s=>i(s.filter(function(u){return u.requestId===e.requestId&&u.pathId===e.pathId}))).catch(n.showError)}return y(ex,{fieldName:"serverId",itemzz:r,source:t.itemzz.filter(s=>s.global===!1),create:function(s){return cb().create({serverId:s,pathId:e.pathId,requestId:e.requestId}).then(o)},delete:function(s){return cb().delete(s).then(o)}})}function GQ(e){const t=Be(),[n,r]=Q.exports.useState(e.ma);Q.exports.useEffect(()=>{r(e.ma)},[e.ma]);function i(o){r(o),vi().update(o).then(r).catch(t.showError)}return K("table",{className:"table td0-tar",children:[y("caption",{children:e.children}),K("tbody",{children:[K("tr",{children:[y("td",{children:"deprecated"}),y("td",{children:K("div",{className:"form-check form-switch",children:[y("input",{checked:n.deprecated,onChange:o=>i({...n,deprecated:o.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"deprecatedSwitchCheck"+n.id}),y("label",{className:"form-check-label",htmlFor:"deprecatedSwitchCheck"+n.id})]})})]}),K("tr",{children:[y("td",{children:"inOapi"}),K("td",{children:[K("div",{className:"form-check form-switch inline",children:[y("input",{checked:n.inOapi,onChange:o=>i({...n,inOapi:o.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"inOapiSwitchCheck"+n.id}),y("label",{className:"form-check-label",htmlFor:"inOapiSwitchCheck"+n.id})]}),y("span",{children:"if true, it will be included in OpenApi document"})]})]}),K("tr",{children:[y("td",{children:"inRoute"}),K("td",{children:[K("div",{className:"form-check form-switch inline",children:[y("input",{checked:n.inRoute,onChange:o=>i({...n,inRoute:o.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"inRouteSwitchCheck"+n.id}),y("label",{className:"form-check-label",htmlFor:"inRouteSwitchCheck"+n.id})]}),y("span",{children:"if true, it will be included in route file"})]})]}),K("tr",{children:[y("td",{children:"server"}),y("td",{children:y(kL,{requestId:e.ma.requestId,pathId:null})}),y("td",{})]}),K("tr",{children:[y("td",{children:"summary"}),y("td",{children:y("input",{value:n.summary,onChange:o=>i({...n,summary:o.target.value}),type:"text",className:"form-control"})})]}),K("tr",{children:[y("td",{children:"routeName"}),y("td",{children:y("input",{value:n.routeName,onChange:o=>i({...n,routeName:o.target.value}),type:"text",className:"form-control"})})]}),K("tr",{children:[y("td",{children:"operationId"}),y("td",{children:y("button",{className:"btn btn-outline-primary",type:"button",onClick:function(){ei("Please input an unique operationId",n.operationId).then(o=>{if(o.isConfirmed)return vi().update({...n,operationId:o.value}).then(r)}).catch(t.showError)},children:n.operationId})})]}),K("tr",{children:[y("td",{children:"description"}),y("td",{children:y("textarea",{value:n.description,onChange:o=>i({...n,description:o.target.value}),className:"form-control"})})]})]})]})}function yy(e){var n;const t=Be();return K("div",{className:"btn-group "+((n=e.className)!=null?n:""),children:[y("button",{disabled:e.canDelete===!1,onClick:function(){Lr().then(r=>e.onDelete(r.isConfirmed)).catch(t.showError)},className:"btn btn-outline-primary danger",type:"button",children:"-"}),y("button",{disabled:e.canChange===!1,onClick:e.onChange,className:"btn btn-outline-primary",type:"button",children:e.name}),e.children]})}function YQ(e){const t=pl(),n=Be();return y(GQ,{action:e.ma.name,entity:e.entity,ma:e.ma,children:y(yy,{name:e.ma.name,onChange:function(){ei("Please input the path",e.ma.name).then(r=>{if(r.isConfirmed)return vi().update({...e.ma,name:r.value}).then(i=>t.setAction(i.name,i))}).catch(n.showError)},onDelete:function(r){r&&vi().delete(e.ma.id).then(()=>t.setAction("")).catch(n.showError)}})})}function XQ(e){const t=Ti(),n=pl(),r=fl(),i=Be(),o=Vr(e.ma.filezz),s=e.ma.filezz.filter(m=>m.isExtra&&m.directoryId===e.directoryId);function u(m){return K(Qt,{children:[y("button",{onClick:function(){vi().update({...e.ma,filezz:e.ma.filezz.filter(v=>v.id!==m.id)}).then(v=>n.setAction(v.name,v)).catch(i.showError)},className:"btn btn-outline-danger",type:"button",children:"-"}),y(Fu,{action:e.action,className:"ms-3",entity:e.entity,file:m,ma:e.ma,module:e.module})]})}function h(){const m=t.itemzz.map(v=>v.name);r.openCB("select a file",m,function(v){const w=t.findByName(v);w!==void 0&&Mn("please input the fileNamePattern",w.fileNamePattern).then(function(b){if(b.isConfirmed&&b.value){const N={...w,directoryId:e.directoryId,isExtra:!0,fileNamePattern:b.value,id:w.id};return e.isTest?N.nameSpacePattern=e.entity.name:N.nameSpacePattern=e.ma.name,vi().update({...e.ma,filezz:[...e.ma.filezz,N]}).then(T=>n.setAction(T.name,T))}}).catch(i.showError)})}return K("tbody",{children:[e.source.map(m=>{const v=o.get(m.id);return K("tr",{children:[K("td",{children:[K("div",{className:"btn-group me-2",children:[y(ha,{file:al(ol(m,zv)),content:Dn.ScriptCode}),y(ha,{file:al(ol(m,Bv)),content:""})]}),m.name]}),y("td",{children:v===void 0?y("button",{className:"btn btn-outline-primary",type:"button",onClick:function(){const w={...m,isExtra:!1,directoryId:e.directoryId};e.isTest===!1&&(w.nameSpacePattern=e.ma.name),vi().update({...e.ma,filezz:[...e.ma.filezz,w]}).then(b=>n.setAction(b.name,b)).catch(i.showError)},children:"+"}):u(v)})]},m.id)}),s.map(function(m){return K("tr",{children:[y("td",{}),y("td",{children:u(m)})]},m.id)}),K("tr",{children:[y("td",{}),y("td",{children:y("button",{className:"btn btn-outline-success",type:"button",onClick:h,children:"+"})})]})]})}function p1(e){const t=to(),n=Ti(),r=t.find(e.directoryId),i=n.itemzz.filter(o=>e.isTest?o.directoryId===e.module.testDirectoryId:o.directoryId===e.ma.directoryId||o.directoryId===e.module.directoryId).sort((o,s)=>o.directoryId===s.directoryId?o.name.localeCompare(s.name):o.directoryId-s.directoryId);return K("table",{className:"table",children:[K("caption",{children:[y("span",{className:"me-3",children:"Directory:"}),r?t.treeHelper.getDirectoryFullName(r,e.entity,e.action):`Directory ${e.directoryId} not found`,e.isTest?"/"+e.entity.name:""]}),y("thead",{children:K("tr",{children:[y("td",{className:"w-50",children:"edit script / template"}),y("td",{children:"file"})]})}),y(XQ,{action:e.action,directoryId:e.directoryId,entity:e.entity,isTest:e.isTest,ma:e.ma,module:e.module,source:i})]})}function JQ(e){const t=Ti(),[n,r]=Q.exports.useState([]);return Q.exports.useEffect(()=>{r(t.itemzz.filter(i=>i.layer===Nu.View))},[]),y("table",{className:"table",children:y("tbody",{children:n.map(i=>y(Jk,{entity:e.entity,item:i,ma:e.ma,module:e.module},i.id))})})}const Kb=pi.File;var DL=(e=>(e.All="All",e.Crud="Crud",e.Test="Test",e.View="View",e))(DL||{});function QQ(e){const t=to(),n=pl(),[r,i]=Q.exports.useState("Crud"),o=Object.keys(DL);return e.step!==Kb?K("table",{className:"table",children:[y("caption",{children:y("h3",{className:"pointer hover-blue",onClick:()=>n.setStep(Kb),children:Kb})}),y("tbody",{children:e.ma.filezz.sort((s,u)=>{if(s.directoryId===u.directoryId){const h=t.treeHelper.getFileName(s,e.entity,e.action),m=t.treeHelper.getFileName(u,e.entity,e.action);return h.localeCompare(m)}return s.directoryId-u.directoryId}).map(s=>y("tr",{children:y("td",{children:y(Fu,{action:e.action,file:s,fullName:!0,ma:e.ma,entity:e.entity})})},s.id))})]}):K("div",{children:[y(_f,{tab:r,tabzz:o,setTab:i}),r==="All"?y(Qk,{entity:e.entity,ma:e.ma,module:e.module}):null,r==="Crud"?y(p1,{action:e.action,directoryId:e.module.directoryId,entity:e.entity,isTest:!1,ma:e.ma,module:e.module}):null,r==="Test"?y(p1,{action:e.action,directoryId:e.module.testDirectoryId,entity:e.entity,isTest:!0,ma:e.ma,module:e.module}):null,r==="View"?y(JQ,{entity:e.entity,ma:e.ma,module:e.module}):null]})}function ZQ(e){const t=qC(),n=to(),r=Ti(),i=hf(),o=Be(),s=dC(""),u=n.find(e.item.directoryId),h=n.find(e.item.testDirectoryId);function m(w){t.openCB("Please select a Directory",function(b){const N={...e.item};w?N.testDirectoryId=b:N.directoryId=b,v(N)})}function v(w){Kc().update(w).then(b=>i.setItem(b)).catch(o.showError)}return K("table",{className:"table td0-tar",children:[K("caption",{children:[e.children,y(yy,{name:e.item.name,onChange:function(){Mn("Please input the path",e.item.name).then(w=>{if(w.isConfirmed)return Kc().update({...e.item,name:w.value}).then(i.setItem)}).catch(o.showError)},onDelete:function(w){w&&Kc().delete(e.item.id).then(()=>i.setItem()).catch(o.showError)}})]}),K("tbody",{children:[K("tr",{children:[y("td",{className:"w111",children:"color"}),y("td",{children:y(Ya,{color:e.item.color,setColor:w=>v({...e.item,color:w})})})]}),K("tr",{children:[y("td",{children:"URI prefix"}),y("td",{children:y("button",{className:"btn btn-outline-primary",type:"button",onClick:function(){Mn("Please input the Module name",e.item.prefix).then(function(w){if(w.isConfirmed)return v({...e.item,prefix:w.value})}).catch(o.showError)},children:e.item.prefix})})]}),K("tr",{children:[y("td",{children:"directory"}),y("td",{children:y("button",{className:"btn btn-outline-"+(u?"primary":"danger"),type:"button",onClick:function(){m(!1)},children:u?n.treeHelper.getDirectoryFullName(u,s,""):`Directory ${e.item.directoryId} not found`})})]}),K("tr",{children:[y("td",{children:"test directory"}),y("td",{children:y("button",{className:"btn btn-outline-"+(h?"primary":"danger"),type:"button",onClick:function(){m(!0)},children:h?n.treeHelper.getDirectoryFullName(h,s,""):`Directory ${e.item.testDirectoryId} not found`})})]}),K("tr",{children:[y("td",{children:"route file"}),y("td",{children:y(_n,{className:"wa",itemzz:r.itemzz,value:e.item.fileId,change:function(w){v({...e.item,fileId:w})}})})]})]})]})}const eZ=yt(function(e){return{...Lo(e),moduleId:1,setModuleId(t){e({moduleId:t,item:void 0})}}});function tZ(e){return K("ul",{className:"list-unstyled",children:[K("li",{className:"mb-1",children:[e.title?y("h3",{className:"inline me-3",children:e.title}):null,y(Ao,{isAdd:!0,itemzz:e.source,value:"",change:function(t){e.create(t)}})]}),e.itemzz.map(t=>y("li",{className:"mb-1",children:K("button",{className:"btn btn-outline-primary danger",type:"button",onClick:function(){e.delete(t)},children:["- ",t]})},t))]})}function nZ(e){return y(tZ,{itemzz:e.item.middlewarezz,source:e.middlewarezz,create:function(t){const n=new Set(e.item.middlewarezz);if(n.has(t))return;const r=Array.from(n.values());r.push(t),r.sort(),e.update({...e.item,middlewarezz:r})},delete:function(t){const n=e.item.middlewarezz.indexOf(t);if(n===-1)return;const r=[...e.item.middlewarezz];r.splice(n,1),e.update({...e.item,middlewarezz:r})}})}function rZ(e){const t=Be();function n(o){oh().update(o).then(()=>e.refresh()).catch(t.showError)}const r=e.itemzz.find(o=>o.method===e.method);if(r===void 0)return K("tr",{children:[y("td",{children:e.method}),y("td",{children:y(_n,{className:"wa inline",itemzz:e.mazz,value:0,change:function(o){oh().create({pathId:e.path.id,moduleActionId:o,method:e.method,middlewarezz:[]}).then(()=>e.refresh()).catch(t.showError)}})}),y("td",{})]});const i=e.mazz.find(o=>o.id===r.moduleActionId);return i===void 0?y("tr",{children:y("td",{colSpan:3,children:K("span",{className:"text-danger",children:["ModuleAction ",r.moduleActionId," not found"]})})}):K("tr",{children:[y("td",{children:e.method}),K("td",{children:[y("button",{className:"btn btn-outline-primary danger me-1",type:"button",onClick:function(){oh().delete(r.id).then(()=>e.refresh()).catch(t.showError)},children:"-"}),y(_n,{className:"wa inline",itemzz:e.mazz,value:i.id,change:function(o){n({...r,moduleActionId:o})}})]}),y("td",{children:y(nZ,{item:r,middlewarezz:e.middlewarezz,path:e.path,update:n})})]})}function iZ(e){const t=GC(),n=Be(),[r,i]=Q.exports.useState([]),o=Pr("Middleware").map(h=>h.name),s=t.itemzz.filter(h=>h.entityId===e.item.entityId&&h.moduleId===e.item.moduleId).sort((h,m)=>h.name.localeCompare(m.name));Q.exports.useEffect(()=>{u()},[e.item]);function u(){oh().findAll().then(h=>i(h.filter(m=>m.pathId===e.item.id))).catch(n.showError)}return y(Qt,{children:eY.map(h=>y(rZ,{itemzz:r,mazz:s,method:h,middlewarezz:o,path:e.item,refresh:u},h))})}function oZ(e){const t=eZ(),n=Be();function r(i){t.setItem(i),Rh().update(i).then(o=>t.setItem(o)).catch(n.showError)}return K("table",{className:"table td0-tar",children:[K("caption",{children:[e.children,y("span",{className:"ms-3",children:"if Controller exists, then the path will be add to the route file"})]}),K("tbody",{children:[K("tr",{children:[y("td",{className:"w111",children:"parameter"}),y("td",{children:y(XC,{pathId:e.item.id})}),y("td",{})]}),K("tr",{children:[y("td",{children:"server"}),y("td",{colSpan:2,children:y(kL,{requestId:null,pathId:e.item.id})})]}),K("tr",{children:[y("td",{children:"summary"}),y("td",{colSpan:2,children:y("input",{value:e.item.summary,onChange:i=>r({...e.item,summary:i.target.value}),className:"form-control",type:"text"})})]}),K("tr",{children:[y("td",{children:"description"}),y("td",{colSpan:2,children:y("textarea",{className:"form-control",value:e.item.description,onChange:i=>r({...e.item,description:i.target.value})})})]}),y(iZ,{item:e.item,module:e.module})]})]})}function aZ(e){const t=pl(),n=Be();return y(oZ,{entity:e.entity,item:e.path,module:e.module,children:y(yy,{name:e.path.name,onChange:function(){Mn("Please input the path",e.path.name).then(r=>{if(r.isConfirmed)return Rh().update({...e.path,name:r.value}).then(t.setPath)}).catch(n.showError)},onDelete:function(r){r&&Rh().delete(e.path.id).then(()=>t.setPath()).catch(n.showError)}})})}function m1(e,t,n=2){return{status:e,responseId:n,moduleActionId:t,description:""}}const wy=yt(function(e,t){return{...ti(e,t,zg()),sorting:!0}});function sZ(e){var u,h;const t=wy(),n=Be(),r=no(),i=t.find(e.item.responseId);function o(){if(i===void 0)return y("span",{className:"text-danger",children:Rr("",e.item.responseId)});const m=r.itemzz.find(v=>v.ownerResponseId===i.id);return m===void 0?y("div",{children:Rr("TypeFormat","")}):y(PL,{id:e.item.id,item:m})}function s(m){return Ac().update(m).then(e.refresh).catch(n.showError)}return K("tr",{children:[y("td",{children:K("div",{className:"input-group",children:[y("button",{onClick:function(){Lr().then(m=>{if(m.isConfirmed)return Ac().delete(e.item.id).then(e.refresh)}).catch(n.showError)},className:"btn btn-outline-primary danger",type:"button",children:"-"}),y(_n,{itemzz:e.statuszz,value:(h=(u=e.statuszz.find(m=>m.name===e.item.status))==null?void 0:u.id)!=null?h:0,change:function(m,v){var w;s({...e.item,status:(w=v==null?void 0:v.name)!=null?w:""})}})]})}),y("td",{children:y(_n,{className:"wa",itemzz:t.itemzz,value:e.item.responseId,change:function(m){s({...e.item,responseId:m})}})}),y("td",{children:o()})]})}const lZ=pi.Response;function uZ(e){const t=wy(),n=Be(),r=no(),i=bp(),o=ll(),[s,u]=Q.exports.useState([]),h=zQ(e.action,e.entity),m=Pr("HttpStatus");let v=!1;const w=s.find(S=>S.status==="200"),b=N();if(Q.exports.useEffect(()=>(R().catch(n.showError),function(){v=!0}),[e.ma,e.entity]),e.step!==lZ){let S=function(){if(b===void 0)return null;const E=i.itemzz.filter(I=>I.wuId===(b==null?void 0:b.id));return E.length===0?K("span",{className:"text-danger",children:["(",b.name," 0 fields)"]}):K("span",{className:"text-secondary",children:["(",b.name," ",E.length," fields)"]})};return y(Qt,{children:y("table",{className:"table table-borderless table-sm",children:K("tbody",{children:[w===void 0?y("tr",{children:y("td",{colSpan:2,children:y("div",{className:"text-danger",children:"Response 200 is missing"})})}):null,s.map(E=>{var I;return K("tr",{children:[y("td",{className:"w111",children:E.status}),K("td",{children:[(I=t.find(E.responseId))==null?void 0:I.name," ",E.id===(w==null?void 0:w.id)?S():null]})]},E.status)})]})})})}function N(){if(w===void 0)return;const S=r.itemzz.find(E=>E.ownerResponseId===(w==null?void 0:w.responseId));if(S&&S.type===dt.Wu){const E=r.itemzz.find(I=>I.ownerId===S.id);if(E&&E.type===dt.Wu)return o.find(E.wuId)}}function T(){return zg().create(IL(h)).then(S=>{var O,B,A,z,M;n.showSuccess(`Response ${S.name} created`);const I=(M=(z=new Map([["ReadMany",(O=o.findByName("ApiItemzz"))==null?void 0:O.id],["ReadPage",(B=o.findByName("ApiPage"))==null?void 0:B.id]]).get(e.action))!=null?z:(A=o.findByName("ApiItem"))==null?void 0:A.id)!=null?M:1,P=dl(dt.Wu,I);return P.ownerResponseId=S.id,Yn().create(P).then(function(F){return JC(I,F.id).then(function(U){if(U.length!==0)return TL(e.entity.name,e.entity,!1,o).then(W=>Yn().update({...U[0],wuId:W.id})).then(()=>n.showSuccess(`Wu ${e.entity.name} created`))})}).then(function(){return w===void 0?Ac().create(m1("200",e.ma.id,S.id)).then(function(){n.showSuccess("Response 200 created")}):Ac().update({...w,responseId:S.id}).then(function(){})})}).then(R).catch(n.showError)}function R(){return Ac().findAll().then(S=>{if(v)return;const E=S.filter(I=>I.moduleActionId===e.ma.id);u(E)})}return K(Qt,{children:[K("table",{className:"table td0-tal",children:[y("caption",{children:y("div",{children:t.findByName(h)?null:K("span",{onClick:T,className:"btn btn-outline-primary",children:["+ ",h]})})}),y("thead",{children:K("tr",{children:[y("th",{children:"status"}),y("th",{children:"name"}),y("th",{children:"content"})]})}),y("tbody",{children:s.map(S=>y(sZ,{item:S,refresh:R,statuszz:m},S.status))}),y("tfoot",{children:K("tr",{children:[y("td",{children:y(_n,{isAdd:!0,itemzz:m,value:0,change:function(S,E){var I;Ac().create(m1((I=E==null?void 0:E.name)!=null?I:"",e.ma.id)).then(R).catch(n.showError)}})}),y("td",{}),y("td",{})]})})]}),w&&b?y(QC,{item:b,caption:y("caption",{children:K("h3",{className:"text-dark",children:["Wu ",b.name]})})}):null]})}function cZ(){const e=Bu(),t=pl(),n=hf();if(Q.exports.useEffect(()=>{n.item===void 0&&Kc().findAll().then(o=>n.setItem(o[0]))},[]),e.item===void 0)return null;const r=Object.keys(pi);let i="white";return n.item&&(i=n.item.color+2),K("div",{children:[y("div",{className:"position-fixed bg-white w-100",style:{zIndex:111},children:y("div",{className:"pt-3 ps-3 d-flex align-items-baseline",style:{backgroundColor:i},children:y(_f,{tab:t.step,tabzz:r,setTab:function(o){t.setStep(o)}})})}),y("div",{style:{height:"77px"}}),n.item&&t.step===pi.Module?y(ZQ,{item:n.item}):null,n.item&&t.path&&t.step===pi.Path?y(aZ,{entity:e.item,module:n.item,path:t.path}):null,n.item&&t.ma&&t.step===pi.Action?y(YQ,{entity:e.item,ma:t.ma,module:n.item}):null,t.ma&&n.item&&t.path&&t.step===pi.Request?y(HQ,{action:t.action,entity:e.item,ma:t.ma,module:n.item,step:t.step}):null,t.ma&&n.item&&t.path&&t.step===pi.Response?y(uZ,{action:t.action,entity:e.item,ma:t.ma,module:n.item,step:t.step}):null,t.ma&&n.item&&t.step===pi.File?y(QQ,{action:t.action,entity:e.item,ma:t.ma,module:n.item,step:t.step}):null]})}function fZ(){return K("div",{className:"row",children:[y("div",{className:"col-3 h100 overflow-auto",children:y(DQ,{})}),y("div",{className:"col-9 h100 overflow-auto",children:y(cZ,{})}),y(EL,{}),y(Xv,{})]})}function dZ(){window.bridge={error(e,t){console.log(e,t)},send(e){console.log(e)}}}function No(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function pf(e){return!!e&&!!e[Ci]}function Tu(e){return!!e&&(function(t){if(!t||typeof t!="object")return!1;var n=Object.getPrototypeOf(t);if(n===null)return!0;var r=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return r===Object||typeof r=="function"&&Function.toString.call(r)===bZ}(e)||Array.isArray(e)||!!e[C1]||!!e.constructor[C1]||tx(e)||nx(e))}function jh(e,t,n){n===void 0&&(n=!1),kf(e)===0?(n?Object.keys:sx)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function kf(e){var t=e[Ci];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:tx(e)?2:nx(e)?3:0}function SS(e,t){return kf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function hZ(e,t){return kf(e)===2?e.get(t):e[t]}function LL(e,t,n){var r=kf(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function pZ(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function tx(e){return yZ&&e instanceof Map}function nx(e){return wZ&&e instanceof Set}function nu(e){return e.o||e.t}function rx(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=SZ(e);delete t[Ci];for(var n=sx(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function ix(e,t){return t===void 0&&(t=!1),ox(e)||pf(e)||!Tu(e)||(kf(e)>1&&(e.set=e.add=e.clear=e.delete=mZ),Object.freeze(e),t&&jh(e,function(n,r){return ix(r,!0)},!0)),e}function mZ(){No(2)}function ox(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function ca(e){var t=EZ[e];return t||No(18,e),t}function g1(){return Kh}function qb(e,t){t&&(ca("Patches"),e.u=[],e.s=[],e.v=t)}function uv(e){ES(e),e.p.forEach(gZ),e.p=null}function ES(e){e===Kh&&(Kh=e.l)}function v1(e){return Kh={p:[],l:Kh,h:e,m:!0,_:0}}function gZ(e){var t=e[Ci];t.i===0||t.i===1?t.j():t.O=!0}function Vb(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||ca("ES5").S(t,e,r),r?(n[Ci].P&&(uv(t),No(4)),Tu(e)&&(e=cv(t,e),t.l||fv(t,e)),t.u&&ca("Patches").M(n[Ci].t,e,t.u,t.s)):e=cv(t,n,[]),uv(t),t.u&&t.v(t.u,t.s),e!==ML?e:void 0}function cv(e,t,n){if(ox(t))return t;var r=t[Ci];if(!r)return jh(t,function(o,s){return y1(e,r,t,o,s,n)},!0),t;if(r.A!==e)return t;if(!r.P)return fv(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=rx(r.k):r.o;jh(r.i===3?new Set(i):i,function(o,s){return y1(e,r,i,o,s,n)}),fv(e,i,!1),n&&e.u&&ca("Patches").R(r,n,e.u,e.s)}return r.o}function y1(e,t,n,r,i,o){if(pf(i)){var s=cv(e,i,o&&t&&t.i!==3&&!SS(t.D,r)?o.concat(r):void 0);if(LL(n,r,s),!pf(s))return;e.m=!1}if(Tu(i)&&!ox(i)){if(!e.h.F&&e._<1)return;cv(e,i),t&&t.A.l||fv(e,i)}}function fv(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&ix(t,n)}function Hb(e,t){var n=e[Ci];return(n?nu(n):e)[t]}function w1(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function CS(e){e.P||(e.P=!0,e.l&&CS(e.l))}function Gb(e){e.o||(e.o=rx(e.t))}function xS(e,t,n){var r=tx(t)?ca("MapSet").N(t,n):nx(t)?ca("MapSet").T(t,n):e.g?function(i,o){var s=Array.isArray(i),u={i:s?1:0,A:o?o.A:g1(),P:!1,I:!1,D:{},l:o,t:i,k:null,o:null,j:null,C:!1},h=u,m=NS;s&&(h=[u],m=Fd);var v=Proxy.revocable(h,m),w=v.revoke,b=v.proxy;return u.k=b,u.j=w,b}(t,n):ca("ES5").J(t,n);return(n?n.A:g1()).p.push(r),r}function vZ(e){return pf(e)||No(22,e),function t(n){if(!Tu(n))return n;var r,i=n[Ci],o=kf(n);if(i){if(!i.P&&(i.i<4||!ca("ES5").K(i)))return i.t;i.I=!0,r=b1(n,o),i.I=!1}else r=b1(n,o);return jh(r,function(s,u){i&&hZ(i.t,s)===u||LL(r,s,t(u))}),o===3?new Set(r):r}(e)}function b1(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return rx(e)}var S1,Kh,ax=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",yZ=typeof Map!="undefined",wZ=typeof Set!="undefined",E1=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",ML=ax?Symbol.for("immer-nothing"):((S1={})["immer-nothing"]=!0,S1),C1=ax?Symbol.for("immer-draftable"):"__$immer_draftable",Ci=ax?Symbol.for("immer-state"):"__$immer_state",bZ=""+Object.prototype.constructor,sx=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,SZ=Object.getOwnPropertyDescriptors||function(e){var t={};return sx(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},EZ={},NS={get:function(e,t){if(t===Ci)return e;var n=nu(e);if(!SS(n,t))return function(i,o,s){var u,h=w1(o,s);return h?"value"in h?h.value:(u=h.get)===null||u===void 0?void 0:u.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Tu(r)?r:r===Hb(e.t,t)?(Gb(e),e.o[t]=xS(e.A.h,r,e)):r},has:function(e,t){return t in nu(e)},ownKeys:function(e){return Reflect.ownKeys(nu(e))},set:function(e,t,n){var r=w1(nu(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Hb(nu(e),t),o=i==null?void 0:i[Ci];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(pZ(n,i)&&(n!==void 0||SS(e.t,t)))return!0;Gb(e),CS(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return Hb(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,Gb(e),CS(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=nu(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){No(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){No(12)}},Fd={};jh(NS,function(e,t){Fd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Fd.deleteProperty=function(e,t){return Fd.set.call(this,e,t,void 0)},Fd.set=function(e,t,n){return NS.set.call(this,e[0],t,n,e[0])};var CZ=function(){function e(n){var r=this;this.g=E1,this.F=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var u=o;o=i;var h=r;return function(R){var S=this;R===void 0&&(R=u);for(var E=arguments.length,I=Array(E>1?E-1:0),P=1;P<E;P++)I[P-1]=arguments[P];return h.produce(R,function(O){var B;return(B=o).call.apply(B,[S,O].concat(I))})}}var m;if(typeof o!="function"&&No(6),s!==void 0&&typeof s!="function"&&No(7),Tu(i)){var v=v1(r),w=xS(r,i,void 0),b=!0;try{m=o(w),b=!1}finally{b?uv(v):ES(v)}return typeof Promise!="undefined"&&m instanceof Promise?m.then(function(R){return qb(v,s),Vb(R,v)},function(R){throw uv(v),R}):(qb(v,s),Vb(m,v))}if(!i||typeof i!="object"){if((m=o(i))===void 0&&(m=i),m===ML&&(m=void 0),r.F&&ix(m,!0),s){var N=[],T=[];ca("Patches").M(i,m,N,T),s(N,T)}return m}No(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(m){for(var v=arguments.length,w=Array(v>1?v-1:0),b=1;b<v;b++)w[b-1]=arguments[b];return r.produceWithPatches(m,function(N){return i.apply(void 0,[N].concat(w))})};var s,u,h=r.produce(i,o,function(m,v){s=m,u=v});return typeof Promise!="undefined"&&h instanceof Promise?h.then(function(m){return[m,s,u]}):[h,s,u]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Tu(n)||No(8),pf(n)&&(n=vZ(n));var r=v1(this),i=xS(this,n,void 0);return i[Ci].C=!0,ES(r),i},t.finishDraft=function(n,r){var i=n&&n[Ci],o=i.A;return qb(o,r),Vb(void 0,o)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!E1&&No(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=ca("Patches").$;return pf(n)?s(n,r):this.produce(n,function(u){return s(u,r)})},e}(),xi=new CZ,xZ=xi.produce;xi.produceWithPatches.bind(xi);xi.setAutoFreeze.bind(xi);xi.setUseProxies.bind(xi);xi.applyPatches.bind(xi);xi.createDraft.bind(xi);xi.finishDraft.bind(xi);var Om=xZ;const lx=Symbol.for("yaml.alias"),IS=Symbol.for("yaml.document"),Qs=Symbol.for("yaml.map"),zL=Symbol.for("yaml.pair"),by=Symbol.for("yaml.scalar"),Df=Symbol.for("yaml.seq"),Zi=Symbol.for("yaml.node.type"),Lf=e=>!!e&&typeof e=="object"&&e[Zi]===lx,ux=e=>!!e&&typeof e=="object"&&e[Zi]===IS,Cp=e=>!!e&&typeof e=="object"&&e[Zi]===Qs,zn=e=>!!e&&typeof e=="object"&&e[Zi]===zL,Sn=e=>!!e&&typeof e=="object"&&e[Zi]===by,xp=e=>!!e&&typeof e=="object"&&e[Zi]===Df;function Rn(e){if(e&&typeof e=="object")switch(e[Zi]){case Qs:case Df:return!0}return!1}function Hn(e){if(e&&typeof e=="object")switch(e[Zi]){case lx:case Qs:case by:case Df:return!0}return!1}const NZ=e=>(Sn(e)||Rn(e))&&!!e.anchor;class cx{constructor(t){Object.defineProperty(this,Zi,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}}const ru=Symbol("break visit"),IZ=Symbol("skip children"),uh=Symbol("remove node");function Ou(e,t){const n=TZ(t);ux(e)?kc(null,e.contents,n,Object.freeze([e]))===uh&&(e.contents=null):kc(null,e,n,Object.freeze([]))}Ou.BREAK=ru;Ou.SKIP=IZ;Ou.REMOVE=uh;function kc(e,t,n,r){const i=OZ(e,t,n,r);if(Hn(i)||zn(i))return _Z(e,r,i),kc(e,i,n,r);if(typeof i!="symbol"){if(Rn(t)){r=Object.freeze(r.concat(t));for(let o=0;o<t.items.length;++o){const s=kc(o,t.items[o],n,r);if(typeof s=="number")o=s-1;else{if(s===ru)return ru;s===uh&&(t.items.splice(o,1),o-=1)}}}else if(zn(t)){r=Object.freeze(r.concat(t));const o=kc("key",t.key,n,r);if(o===ru)return ru;o===uh&&(t.key=null);const s=kc("value",t.value,n,r);if(s===ru)return ru;s===uh&&(t.value=null)}}return i}function TZ(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function OZ(e,t,n,r){var i,o,s,u,h;if(typeof n=="function")return n(e,t,r);if(Cp(t))return(i=n.Map)==null?void 0:i.call(n,e,t,r);if(xp(t))return(o=n.Seq)==null?void 0:o.call(n,e,t,r);if(zn(t))return(s=n.Pair)==null?void 0:s.call(n,e,t,r);if(Sn(t))return(u=n.Scalar)==null?void 0:u.call(n,e,t,r);if(Lf(t))return(h=n.Alias)==null?void 0:h.call(n,e,t,r)}function _Z(e,t,n){const r=t[t.length-1];if(Rn(r))r.items[e]=n;else if(zn(r))e==="key"?r.key=n:r.value=n;else if(ux(r))r.contents=n;else{const i=Lf(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const AZ={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},RZ=e=>e.replace(/[!,[\]{}]/g,t=>AZ[t]);class Hr{constructor(t,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Hr.defaultYaml,t),this.tags=Object.assign({},Hr.defaultTags,n)}clone(){const t=new Hr(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new Hr(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Hr.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Hr.defaultTags);break}return t}add(t,n){this.atNextDocument&&(this.yaml={explicit:Hr.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Hr.defaultTags),this.atNextDocument=!1);const r=t.trim().split(/[ \t]+/),i=r.shift();switch(i){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[o,s]=r;return this.tags[o]=s,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[o]=r;if(o==="1.1"||o==="1.2")return this.yaml.version=o,!0;{const s=/^\d+\.\d+$/.test(o);return n(6,`Unsupported YAML version ${o}`,s),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(t,n){if(t==="!")return"!";if(t[0]!=="!")return n(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const s=t.slice(2,-1);return s==="!"||s==="!!"?(n(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&n("Verbatim tags must end with a >"),s)}const[,r,i]=t.match(/^(.*!)([^!]*)$/);i||n(`The ${t} tag has no suffix`);const o=this.tags[r];return o?o+decodeURIComponent(i):r==="!"?t:(n(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[n,r]of Object.entries(this.tags))if(t.startsWith(r))return n+RZ(t.substring(r.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let i;if(t&&r.length>0&&Hn(t.contents)){const o={};Ou(t.contents,(s,u)=>{Hn(u)&&u.tag&&(o[u.tag]=!0)}),i=Object.keys(o)}else i=[];for(const[o,s]of r)o==="!!"&&s==="tag:yaml.org,2002:"||(!t||i.some(u=>u.startsWith(s)))&&n.push(`%TAG ${o} ${s}`);return n.join(`
`)}}Hr.defaultYaml={explicit:!1,version:"1.2"};Hr.defaultTags={"!!":"tag:yaml.org,2002:"};function BL(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(n)}return!0}function FL(e){const t=new Set;return Ou(e,{Value(n,r){r.anchor&&t.add(r.anchor)}}),t}function UL(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function PZ(e,t){const n=[],r=new Map;let i=null;return{onAnchor:o=>{n.push(o),i||(i=FL(e));const s=UL(t,i);return i.add(s),s},setAnchors:()=>{for(const o of n){const s=r.get(o);if(typeof s=="object"&&s.anchor&&(Sn(s.node)||Rn(s.node)))s.node.anchor=s.anchor;else{const u=new Error("Failed to resolve repeated object (this should not happen)");throw u.source=o,u}}},sourceObjects:r}}class $L extends cx{constructor(t){super(lx),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let n;return Ou(t,{Node:(r,i)=>{if(i===this)return Ou.BREAK;i.anchor===this.source&&(n=i)}}),n}toJSON(t,n){if(!n)return{source:this.source};const{anchors:r,doc:i,maxAliasCount:o}=n,s=this.resolve(i);if(!s){const h=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(h)}const u=r.get(s);if(!u||u.res===void 0){const h="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(h)}if(o>=0&&(u.count+=1,u.aliasCount===0&&(u.aliasCount=Qm(i,s,r)),u.count*u.aliasCount>o)){const h="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(h)}return u.res}toString(t,n,r){const i=`*${this.source}`;if(t){if(BL(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const o=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(o)}if(t.implicitKey)return`${i} `}return i}}function Qm(e,t,n){if(Lf(t)){const r=t.resolve(e),i=n&&r&&n.get(r);return i?i.count*i.aliasCount:0}else if(Rn(t)){let r=0;for(const i of t.items){const o=Qm(e,i,n);o>r&&(r=o)}return r}else if(zn(t)){const r=Qm(e,t.key,n),i=Qm(e,t.value,n);return Math.max(r,i)}return 1}function fa(e,t,n){if(Array.isArray(e))return e.map((r,i)=>fa(r,String(i),n));if(e&&typeof e.toJSON=="function"){if(!n||!NZ(e))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=o=>{r.res=o,delete n.onCreate};const i=e.toJSON(t,n);return n.onCreate&&n.onCreate(i),i}return typeof e=="bigint"&&!(n!=null&&n.keep)?Number(e):e}const WL=e=>!e||typeof e!="function"&&typeof e!="object";class Ut extends cx{constructor(t){super(by),this.value=t}toJSON(t,n){return n!=null&&n.keep?this.value:fa(this.value,t,n)}toString(){return String(this.value)}}Ut.BLOCK_FOLDED="BLOCK_FOLDED";Ut.BLOCK_LITERAL="BLOCK_LITERAL";Ut.PLAIN="PLAIN";Ut.QUOTE_DOUBLE="QUOTE_DOUBLE";Ut.QUOTE_SINGLE="QUOTE_SINGLE";const kZ="tag:yaml.org,2002:";function DZ(e,t,n){var r;if(t){const i=n.filter(s=>s.tag===t),o=(r=i.find(s=>!s.format))!=null?r:i[0];if(!o)throw new Error(`Tag ${t} not found`);return o}return n.find(i=>{var o;return((o=i.identify)==null?void 0:o.call(i,e))&&!i.format})}function qh(e,t,n){var w,b;if(ux(e)&&(e=e.contents),Hn(e))return e;if(zn(e)){const N=(b=(w=n.schema[Qs]).createNode)==null?void 0:b.call(w,n.schema,null,n);return N.items.push(e),N}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt!="undefined"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:r,onAnchor:i,onTagObj:o,schema:s,sourceObjects:u}=n;let h;if(r&&e&&typeof e=="object"){if(h=u.get(e),h)return h.anchor||(h.anchor=i(e)),new $L(h.anchor);h={anchor:null,node:null},u.set(e,h)}t!=null&&t.startsWith("!!")&&(t=kZ+t.slice(2));let m=DZ(e,t,s.tags);if(!m){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const N=new Ut(e);return h&&(h.node=N),N}m=e instanceof Map?s[Qs]:Symbol.iterator in Object(e)?s[Df]:s[Qs]}o&&(o(m),delete n.onTagObj);const v=m!=null&&m.createNode?m.createNode(n.schema,e,n):new Ut(e);return t&&(v.tag=t),h&&(h.node=v),v}function dv(e,t,n){let r=n;for(let i=t.length-1;i>=0;--i){const o=t[i];if(typeof o=="number"&&Number.isInteger(o)&&o>=0){const s=[];s[o]=r,r=s}else r=new Map([[o,r]])}return qh(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const Ud=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class Sy extends cx{constructor(t,n){super(t),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(t){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(n.schema=t),n.items=n.items.map(r=>Hn(r)||zn(r)?r.clone(t):r),this.range&&(n.range=this.range.slice()),n}addIn(t,n){if(Ud(t))this.add(n);else{const[r,...i]=t,o=this.get(r,!0);if(Rn(o))o.addIn(i,n);else if(o===void 0&&this.schema)this.set(r,dv(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn(t){const[n,...r]=t;if(r.length===0)return this.delete(n);const i=this.get(n,!0);if(Rn(i))return i.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(t,n){const[r,...i]=t,o=this.get(r,!0);return i.length===0?!n&&Sn(o)?o.value:o:Rn(o)?o.getIn(i,n):void 0}hasAllNullValues(t){return this.items.every(n=>{if(!zn(n))return!1;const r=n.value;return r==null||t&&Sn(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(t){const[n,...r]=t;if(r.length===0)return this.has(n);const i=this.get(n,!0);return Rn(i)?i.hasIn(r):!1}setIn(t,n){const[r,...i]=t;if(i.length===0)this.set(r,n);else{const o=this.get(r,!0);if(Rn(o))o.setIn(i,n);else if(o===void 0&&this.schema)this.set(r,dv(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}}Sy.maxFlowStringSingleLineLength=60;const LZ=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function Wa(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const Bs=(e,t,n)=>e.endsWith(`
`)?Wa(n,t):n.includes(`
`)?`
`+Wa(n,t):(e.endsWith(" ")?"":" ")+n,jL="flow",TS="block",Zm="quoted";function Ey(e,t,n="flow",{indentAtStart:r,lineWidth:i=80,minContentWidth:o=20,onFold:s,onOverflow:u}={}){if(!i||i<0)return e;const h=Math.max(1+o,1+i-t.length);if(e.length<=h)return e;const m=[],v={};let w=i-t.length;typeof r=="number"&&(r>i-Math.max(2,o)?m.push(0):w=i-r);let b,N,T=!1,R=-1,S=-1,E=-1;n===TS&&(R=x1(e,R),R!==-1&&(w=R+h));for(let P;P=e[R+=1];){if(n===Zm&&P==="\\"){switch(S=R,e[R+1]){case"x":R+=3;break;case"u":R+=5;break;case"U":R+=9;break;default:R+=1}E=R}if(P===`
`)n===TS&&(R=x1(e,R)),w=R+h,b=void 0;else{if(P===" "&&N&&N!==" "&&N!==`
`&&N!=="	"){const O=e[R+1];O&&O!==" "&&O!==`
`&&O!=="	"&&(b=R)}if(R>=w)if(b)m.push(b),w=b+h,b=void 0;else if(n===Zm){for(;N===" "||N==="	";)N=P,P=e[R+=1],T=!0;const O=R>E+1?R-2:S-1;if(v[O])return e;m.push(O),v[O]=!0,w=O+h,b=void 0}else T=!0}N=P}if(T&&u&&u(),m.length===0)return e;s&&s();let I=e.slice(0,m[0]);for(let P=0;P<m.length;++P){const O=m[P],B=m[P+1]||e.length;O===0?I=`
${t}${e.slice(0,B)}`:(n===Zm&&v[O]&&(I+=`${e[O]}\\`),I+=`
${t}${e.slice(O+1,B)}`)}return I}function x1(e,t){let n=e[t+1];for(;n===" "||n==="	";){do n=e[t+=1];while(n&&n!==`
`);n=e[t+1]}return t}const Cy=e=>({indentAtStart:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),xy=e=>/^(%|---|\.\.\.)/m.test(e);function MZ(e,t,n){if(!t||t<0)return!1;const r=t-n,i=e.length;if(i<=r)return!1;for(let o=0,s=0;o<i;++o)if(e[o]===`
`){if(o-s>r)return!0;if(s=o+1,i-s<=r)return!1}return!0}function ch(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,i=t.options.doubleQuotedMinMultiLineLength,o=t.indent||(xy(e)?"  ":"");let s="",u=0;for(let h=0,m=n[h];m;m=n[++h])if(m===" "&&n[h+1]==="\\"&&n[h+2]==="n"&&(s+=n.slice(u,h)+"\\ ",h+=1,u=h,m="\\"),m==="\\")switch(n[h+1]){case"u":{s+=n.slice(u,h);const v=n.substr(h+2,4);switch(v){case"0000":s+="\\0";break;case"0007":s+="\\a";break;case"000b":s+="\\v";break;case"001b":s+="\\e";break;case"0085":s+="\\N";break;case"00a0":s+="\\_";break;case"2028":s+="\\L";break;case"2029":s+="\\P";break;default:v.substr(0,2)==="00"?s+="\\x"+v.substr(2):s+=n.substr(h,6)}h+=5,u=h+1}break;case"n":if(r||n[h+2]==='"'||n.length<i)h+=1;else{for(s+=n.slice(u,h)+`

`;n[h+2]==="\\"&&n[h+3]==="n"&&n[h+4]!=='"';)s+=`
`,h+=2;s+=o,n[h+2]===" "&&(s+="\\"),h+=1,u=h+1}break;default:h+=1}return s=u?s+n.slice(u):n,r?s:Ey(s,o,Zm,Cy(t))}function OS(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return ch(e,t);const n=t.indent||(xy(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return t.implicitKey?r:Ey(r,n,jL,Cy(t))}function fh(e,t){const{singleQuote:n}=t.options;let r;if(n===!1)r=ch;else{const i=e.includes('"'),o=e.includes("'");i&&!o?r=OS:o&&!i?r=ch:r=n?OS:ch}return r(e,t)}function eg({comment:e,type:t,value:n},r,i,o){const{blockQuote:s,commentString:u,lineWidth:h}=r.options;if(!s||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return fh(n,r);const m=r.indent||(r.forceBlockIndent||xy(n)?"  ":""),v=s==="literal"?!0:s==="folded"||t===Ut.BLOCK_FOLDED?!1:t===Ut.BLOCK_LITERAL?!0:!MZ(n,h,m.length);if(!n)return v?`|
`:`>
`;let w,b;for(b=n.length;b>0;--b){const A=n[b-1];if(A!==`
`&&A!=="	"&&A!==" ")break}let N=n.substring(b);const T=N.indexOf(`
`);T===-1?w="-":n===N||T!==N.length-1?(w="+",o&&o()):w="",N&&(n=n.slice(0,-N.length),N[N.length-1]===`
`&&(N=N.slice(0,-1)),N=N.replace(/\n+(?!\n|$)/g,`$&${m}`));let R=!1,S,E=-1;for(S=0;S<n.length;++S){const A=n[S];if(A===" ")R=!0;else if(A===`
`)E=S;else break}let I=n.substring(0,E<S?E+1:S);I&&(n=n.substring(I.length),I=I.replace(/\n+/g,`$&${m}`));let O=(v?"|":">")+(R?m?"2":"1":"")+w;if(e&&(O+=" "+u(e.replace(/ ?[\r\n]+/g," ")),i&&i()),v)return n=n.replace(/\n+/g,`$&${m}`),`${O}
${m}${I}${n}${N}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${m}`);const B=Ey(`${I}${n}${N}`,m,TS,Cy(r));return`${O}
${m}${B}`}function zZ(e,t,n,r){const{type:i,value:o}=e,{actualString:s,implicitKey:u,indent:h,inFlow:m}=t;if(u&&/[\n[\]{},]/.test(o)||m&&/[[\]{},]/.test(o))return fh(o,t);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return u||m||!o.includes(`
`)?fh(o,t):eg(e,t,n,r);if(!u&&!m&&i!==Ut.PLAIN&&o.includes(`
`))return eg(e,t,n,r);if(h===""&&xy(o))return t.forceBlockIndent=!0,eg(e,t,n,r);const v=o.replace(/\n+/g,`$&
${h}`);if(s){const w=T=>{var R;return T.default&&T.tag!=="tag:yaml.org,2002:str"&&((R=T.test)==null?void 0:R.test(v))},{compat:b,tags:N}=t.doc.schema;if(N.some(w)||(b==null?void 0:b.some(w)))return fh(o,t)}return u?v:Ey(v,h,jL,Cy(t))}function fx(e,t,n,r){const{implicitKey:i,inFlow:o}=t,s=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:u}=e;u!==Ut.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(s.value)&&(u=Ut.QUOTE_DOUBLE);const h=v=>{switch(v){case Ut.BLOCK_FOLDED:case Ut.BLOCK_LITERAL:return i||o?fh(s.value,t):eg(s,t,n,r);case Ut.QUOTE_DOUBLE:return ch(s.value,t);case Ut.QUOTE_SINGLE:return OS(s.value,t);case Ut.PLAIN:return zZ(s,t,n,r);default:return null}};let m=h(u);if(m===null){const{defaultKeyType:v,defaultStringType:w}=t.options,b=i&&v||w;if(m=h(b),m===null)throw new Error(`Unsupported default string type ${b}`)}return m}function KL(e,t){const n=Object.assign({blockQuote:!0,commentString:LZ,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function BZ(e,t){var i,o,s,u;if(t.tag){const h=e.filter(m=>m.tag===t.tag);if(h.length>0)return(i=h.find(m=>m.format===t.format))!=null?i:h[0]}let n,r;if(Sn(t)){r=t.value;const h=e.filter(m=>{var v;return(v=m.identify)==null?void 0:v.call(m,r)});n=(o=h.find(m=>m.format===t.format))!=null?o:h.find(m=>!m.format)}else r=t,n=e.find(h=>h.nodeClass&&r instanceof h.nodeClass);if(!n){const h=(u=(s=r==null?void 0:r.constructor)==null?void 0:s.name)!=null?u:typeof r;throw new Error(`Tag not resolved for ${h} value`)}return n}function FZ(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const i=[],o=(Sn(e)||Rn(e))&&e.anchor;o&&BL(o)&&(n.add(o),i.push(`&${o}`));const s=e.tag?e.tag:t.default?null:t.tag;return s&&i.push(r.directives.tagString(s)),i.join(" ")}function _u(e,t,n,r){var h,m;if(zn(e))return e.toString(t,n,r);if(Lf(e)){if(t.doc.directives)return e.toString(t);if((h=t.resolvedAliases)!=null&&h.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let i;const o=Hn(e)?e:t.doc.createNode(e,{onTagObj:v=>i=v});i||(i=BZ(t.doc.schema.tags,o));const s=FZ(o,i,t);s.length>0&&(t.indentAtStart=((m=t.indentAtStart)!=null?m:0)+s.length+1);const u=typeof i.stringify=="function"?i.stringify(o,t,n,r):Sn(o)?fx(o,t,n,r):o.toString(t,n,r);return s?Sn(o)||u[0]==="{"||u[0]==="["?`${s} ${u}`:`${s}
${t.indent}${u}`:u}function UZ({key:e,value:t},n,r,i){const{allNullValues:o,doc:s,indent:u,indentStep:h,options:{commentString:m,indentSeq:v,simpleKeys:w}}=n;let b=Hn(e)&&e.comment||null;if(w){if(b)throw new Error("With simple keys, key nodes cannot have comments");if(Rn(e)){const A="With simple keys, collection cannot be used as a key value";throw new Error(A)}}let N=!w&&(!e||b&&t==null&&!n.inFlow||Rn(e)||(Sn(e)?e.type===Ut.BLOCK_FOLDED||e.type===Ut.BLOCK_LITERAL:typeof e=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!N&&(w||!o),indent:u+h});let T=!1,R=!1,S=_u(e,n,()=>T=!0,()=>R=!0);if(!N&&!n.inFlow&&S.length>1024){if(w)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");N=!0}if(n.inFlow){if(o||t==null)return T&&r&&r(),S===""?"?":N?`? ${S}`:S}else if(o&&!w||t==null&&N)return S=`? ${S}`,b&&!T?S+=Bs(S,n.indent,m(b)):R&&i&&i(),S;T&&(b=null),N?(b&&(S+=Bs(S,n.indent,m(b))),S=`? ${S}
${u}:`):(S=`${S}:`,b&&(S+=Bs(S,n.indent,m(b))));let E="",I=null;if(Hn(t)){if(t.spaceBefore&&(E=`
`),t.commentBefore){const A=m(t.commentBefore);E+=`
${Wa(A,n.indent)}`}I=t.comment}else t&&typeof t=="object"&&(t=s.createNode(t));n.implicitKey=!1,!N&&!b&&Sn(t)&&(n.indentAtStart=S.length+1),R=!1,!v&&h.length>=2&&!n.inFlow&&!N&&xp(t)&&!t.flow&&!t.tag&&!t.anchor&&(n.indent=n.indent.substr(2));let P=!1;const O=_u(t,n,()=>P=!0,()=>R=!0);let B=" ";return E||b?O===""&&!n.inFlow?B=E===`
`?`

`:E:B=`${E}
${n.indent}`:!N&&Rn(t)?(!(O[0]==="["||O[0]==="{")||O.includes(`
`))&&(B=`
${n.indent}`):(O===""||O[0]===`
`)&&(B=""),S+=B+O,n.inFlow?P&&r&&r():I&&!P?S+=Bs(S,n.indent,m(I)):R&&i&&i(),S}function $Z(e,t){(e==="debug"||e==="warn")&&(typeof process!="undefined"&&process.emitWarning?process.emitWarning(t):console.warn(t))}const N1="<<";function qL(e,t,{key:n,value:r}){if((e==null?void 0:e.doc.schema.merge)&&WZ(n))if(r=Lf(r)?r.resolve(e.doc):r,xp(r))for(const i of r.items)Yb(e,t,i);else if(Array.isArray(r))for(const i of r)Yb(e,t,i);else Yb(e,t,r);else{const i=fa(n,"",e);if(t instanceof Map)t.set(i,fa(r,i,e));else if(t instanceof Set)t.add(i);else{const o=jZ(n,i,e),s=fa(r,o,e);o in t?Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0}):t[o]=s}}return t}const WZ=e=>e===N1||Sn(e)&&e.value===N1&&(!e.type||e.type===Ut.PLAIN);function Yb(e,t,n){const r=e&&Lf(n)?n.resolve(e.doc):n;if(!Cp(r))throw new Error("Merge sources must be maps or map aliases");const i=r.toJSON(null,e,Map);for(const[o,s]of i)t instanceof Map?t.has(o)||t.set(o,s):t instanceof Set?t.add(o):Object.prototype.hasOwnProperty.call(t,o)||Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0});return t}function jZ(e,t,n){if(t===null)return"";if(typeof t!="object")return String(t);if(Hn(e)&&n&&n.doc){const r=KL(n.doc,{});r.anchors=new Set;for(const o of n.anchors.keys())r.anchors.add(o.anchor);r.inFlow=!0,r.inStringifyKey=!0;const i=e.toString(r);if(!n.mapKeyWarned){let o=JSON.stringify(i);o.length>40&&(o=o.substring(0,36)+'..."'),$Z(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${o}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(t)}function dx(e,t,n){const r=qh(e,void 0,n),i=qh(t,void 0,n);return new Yi(r,i)}class Yi{constructor(t,n=null){Object.defineProperty(this,Zi,{value:zL}),this.key=t,this.value=n}clone(t){let{key:n,value:r}=this;return Hn(n)&&(n=n.clone(t)),Hn(r)&&(r=r.clone(t)),new Yi(n,r)}toJSON(t,n){const r=n!=null&&n.mapAsMap?new Map:{};return qL(n,r,this)}toString(t,n,r){return t!=null&&t.doc?UZ(this,t,n,r):JSON.stringify(this)}}function VL(e,t,n){var o;return(((o=t.inFlow)!=null?o:e.flow)?qZ:KZ)(e,t,n)}function KZ({comment:e,items:t},n,{blockItemPrefix:r,flowChars:i,itemIndent:o,onChompKeep:s,onComment:u}){const{indent:h,options:{commentString:m}}=n,v=Object.assign({},n,{indent:o,type:null});let w=!1;const b=[];for(let T=0;T<t.length;++T){const R=t[T];let S=null;if(Hn(R))!w&&R.spaceBefore&&b.push(""),hv(n,b,R.commentBefore,w),R.comment&&(S=R.comment);else if(zn(R)){const I=Hn(R.key)?R.key:null;I&&(!w&&I.spaceBefore&&b.push(""),hv(n,b,I.commentBefore,w))}w=!1;let E=_u(R,v,()=>S=null,()=>w=!0);S&&(E+=Bs(E,o,m(S))),w&&S&&(w=!1),b.push(r+E)}let N;if(b.length===0)N=i.start+i.end;else{N=b[0];for(let T=1;T<b.length;++T){const R=b[T];N+=R?`
${h}${R}`:`
`}}return e?(N+=`
`+Wa(m(e),h),u&&u()):w&&s&&s(),N}function qZ({comment:e,items:t},n,{flowChars:r,itemIndent:i,onComment:o}){const{indent:s,indentStep:u,options:{commentString:h}}=n;i+=u;const m=Object.assign({},n,{indent:i,inFlow:!0,type:null});let v=!1,w=0;const b=[];for(let S=0;S<t.length;++S){const E=t[S];let I=null;if(Hn(E))E.spaceBefore&&b.push(""),hv(n,b,E.commentBefore,!1),E.comment&&(I=E.comment);else if(zn(E)){const O=Hn(E.key)?E.key:null;O&&(O.spaceBefore&&b.push(""),hv(n,b,O.commentBefore,!1),O.comment&&(v=!0));const B=Hn(E.value)?E.value:null;B?(B.comment&&(I=B.comment),B.commentBefore&&(v=!0)):E.value==null&&O&&O.comment&&(I=O.comment)}I&&(v=!0);let P=_u(E,m,()=>I=null);S<t.length-1&&(P+=","),I&&(P+=Bs(P,i,h(I))),!v&&(b.length>w||P.includes(`
`))&&(v=!0),b.push(P),w=b.length}let N;const{start:T,end:R}=r;if(b.length===0)N=T+R;else if(v||(v=b.reduce((E,I)=>E+I.length+2,2)>Sy.maxFlowStringSingleLineLength),v){N=T;for(const S of b)N+=S?`
${u}${s}${S}`:`
`;N+=`
${s}${R}`}else N=`${T} ${b.join(" ")} ${R}`;return e&&(N+=Bs(N,h(e),s),o&&o()),N}function hv({indent:e,options:{commentString:t}},n,r,i){if(r&&i&&(r=r.replace(/^\n+/,"")),r){const o=Wa(t(r),e);n.push(o.trimStart())}}function du(e,t){const n=Sn(t)?t.value:t;for(const r of e)if(zn(r)&&(r.key===t||r.key===n||Sn(r.key)&&r.key.value===n))return r}class Ps extends Sy{constructor(t){super(Qs,t),this.items=[]}static get tagName(){return"tag:yaml.org,2002:map"}add(t,n){var s;let r;zn(t)?r=t:!t||typeof t!="object"||!("key"in t)?r=new Yi(t,t==null?void 0:t.value):r=new Yi(t.key,t.value);const i=du(this.items,r.key),o=(s=this.schema)==null?void 0:s.sortMapEntries;if(i){if(!n)throw new Error(`Key ${r.key} already set`);Sn(i.value)&&WL(r.value)?i.value.value=r.value:i.value=r.value}else if(o){const u=this.items.findIndex(h=>o(r,h)<0);u===-1?this.items.push(r):this.items.splice(u,0,r)}else this.items.push(r)}delete(t){const n=du(this.items,t);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(t,n){var o;const r=du(this.items,t),i=r==null?void 0:r.value;return(o=!n&&Sn(i)?i.value:i)!=null?o:void 0}has(t){return!!du(this.items,t)}set(t,n){this.add(new Yi(t,n),!0)}toJSON(t,n,r){const i=r?new r:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(i);for(const o of this.items)qL(n,i,o);return i}toString(t,n,r){if(!t)return JSON.stringify(this);for(const i of this.items)if(!zn(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),VL(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:r,onComment:n})}}function VZ(e,t,n){const{keepUndefined:r,replacer:i}=n,o=new Ps(e),s=(u,h)=>{if(typeof i=="function")h=i.call(t,u,h);else if(Array.isArray(i)&&!i.includes(u))return;(h!==void 0||r)&&o.items.push(dx(u,h,n))};if(t instanceof Map)for(const[u,h]of t)s(u,h);else if(t&&typeof t=="object")for(const u of Object.keys(t))s(u,t[u]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}const Mf={collection:"map",createNode:VZ,default:!0,nodeClass:Ps,tag:"tag:yaml.org,2002:map",resolve(e,t){return Cp(e)||t("Expected a mapping for this tag"),e}};class Ny extends Sy{constructor(t){super(Df,t),this.items=[]}static get tagName(){return"tag:yaml.org,2002:seq"}add(t){this.items.push(t)}delete(t){const n=_m(t);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(t,n){const r=_m(t);if(typeof r!="number")return;const i=this.items[r];return!n&&Sn(i)?i.value:i}has(t){const n=_m(t);return typeof n=="number"&&n<this.items.length}set(t,n){const r=_m(t);if(typeof r!="number")throw new Error(`Expected a valid index, not ${t}.`);const i=this.items[r];Sn(i)&&WL(n)?i.value=n:this.items[r]=n}toJSON(t,n){const r=[];n!=null&&n.onCreate&&n.onCreate(r);let i=0;for(const o of this.items)r.push(fa(o,String(i++),n));return r}toString(t,n,r){return t?VL(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}}function _m(e){let t=Sn(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}function HZ(e,t,n){const{replacer:r}=n,i=new Ny(e);if(t&&Symbol.iterator in Object(t)){let o=0;for(let s of t){if(typeof r=="function"){const u=t instanceof Set?s:String(o++);s=r.call(t,u,s)}i.items.push(qh(s,void 0,n))}}return i}const zf={collection:"seq",createNode:HZ,default:!0,nodeClass:Ny,tag:"tag:yaml.org,2002:seq",resolve(e,t){return xp(e)||t("Expected a sequence for this tag"),e}},Iy={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,n,r){return t=Object.assign({actualString:!0},t),fx(e,t,n,r)}},Ty={identify:e=>e==null,createNode:()=>new Ut(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Ut(null),stringify:({source:e},t)=>typeof e=="string"&&Ty.test.test(e)?e:t.options.nullStr},hx={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new Ut(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},n){if(e&&hx.test.test(e)){const r=e[0]==="t"||e[0]==="T";if(t===r)return e}return t?n.options.trueStr:n.options.falseStr}};function Fo({format:e,minFractionDigits:t,tag:n,value:r}){if(typeof r=="bigint")return String(r);const i=typeof r=="number"?r:Number(r);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let o=JSON.stringify(r);if(!e&&t&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(o)){let s=o.indexOf(".");s<0&&(s=o.length,o+=".");let u=t-(o.length-s-1);for(;u-- >0;)o+="0"}return o}const HL={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Fo},GL={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Fo(e)}},YL={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new Ut(parseFloat(e)),n=e.indexOf(".");return n!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-n-1),t},stringify:Fo},Oy=e=>typeof e=="bigint"||Number.isInteger(e),px=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function XL(e,t,n){const{value:r}=e;return Oy(r)&&r>=0?n+r.toString(t):Fo(e)}const JL={identify:e=>Oy(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>px(e,2,8,n),stringify:e=>XL(e,8,"0o")},QL={identify:Oy,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>px(e,0,10,n),stringify:Fo},ZL={identify:e=>Oy(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>px(e,2,16,n),stringify:e=>XL(e,16,"0x")},GZ=[Mf,zf,Iy,Ty,hx,JL,QL,ZL,HL,GL,YL];function I1(e){return typeof e=="bigint"||Number.isInteger(e)}const Am=({value:e})=>JSON.stringify(e),YZ=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:Am},{identify:e=>e==null,createNode:()=>new Ut(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Am},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>e==="true",stringify:Am},{identify:I1,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>I1(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:Am}],XZ={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},JZ=[Mf,zf].concat(YZ,XZ),mx={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof Buffer=="function")return Buffer.from(e,"base64");if(typeof atob=="function"){const n=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,i,o){const s=n;let u;if(typeof Buffer=="function")u=s instanceof Buffer?s.toString("base64"):Buffer.from(s.buffer).toString("base64");else if(typeof btoa=="function"){let h="";for(let m=0;m<s.length;++m)h+=String.fromCharCode(s[m]);u=btoa(h)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t||(t=Ut.BLOCK_LITERAL),t!==Ut.QUOTE_DOUBLE){const h=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),m=Math.ceil(u.length/h),v=new Array(m);for(let w=0,b=0;w<m;++w,b+=h)v[w]=u.substr(b,h);u=v.join(t===Ut.BLOCK_LITERAL?`
`:" ")}return fx({comment:e,type:t,value:u},r,i,o)}};function eM(e,t){var n;if(xp(e))for(let r=0;r<e.items.length;++r){let i=e.items[r];if(!zn(i)){if(Cp(i)){i.items.length>1&&t("Each pair must have its own sequence indicator");const o=i.items[0]||new Yi(new Ut(null));if(i.commentBefore&&(o.key.commentBefore=o.key.commentBefore?`${i.commentBefore}
${o.key.commentBefore}`:i.commentBefore),i.comment){const s=(n=o.value)!=null?n:o.key;s.comment=s.comment?`${i.comment}
${s.comment}`:i.comment}i=o}e.items[r]=zn(i)?i:new Yi(i)}}else t("Expected a sequence for this tag");return e}function tM(e,t,n){const{replacer:r}=n,i=new Ny(e);i.tag="tag:yaml.org,2002:pairs";let o=0;if(t&&Symbol.iterator in Object(t))for(let s of t){typeof r=="function"&&(s=r.call(t,String(o++),s));let u,h;if(Array.isArray(s))if(s.length===2)u=s[0],h=s[1];else throw new TypeError(`Expected [key, value] tuple: ${s}`);else if(s&&s instanceof Object){const m=Object.keys(s);if(m.length===1)u=m[0],h=s[u];else throw new TypeError(`Expected { key: value } tuple: ${s}`)}else u=s;i.items.push(dx(u,h,n))}return i}const gx={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:eM,createNode:tM};class Yc extends Ny{constructor(){super(),this.add=Ps.prototype.add.bind(this),this.delete=Ps.prototype.delete.bind(this),this.get=Ps.prototype.get.bind(this),this.has=Ps.prototype.has.bind(this),this.set=Ps.prototype.set.bind(this),this.tag=Yc.tag}toJSON(t,n){if(!n)return super.toJSON(t);const r=new Map;n!=null&&n.onCreate&&n.onCreate(r);for(const i of this.items){let o,s;if(zn(i)?(o=fa(i.key,"",n),s=fa(i.value,o,n)):o=fa(i,"",n),r.has(o))throw new Error("Ordered maps must not include duplicate keys");r.set(o,s)}return r}}Yc.tag="tag:yaml.org,2002:omap";const vx={collection:"seq",identify:e=>e instanceof Map,nodeClass:Yc,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=eM(e,t),r=[];for(const{key:i}of n.items)Sn(i)&&(r.includes(i.value)?t(`Ordered maps must not include duplicate keys: ${i.value}`):r.push(i.value));return Object.assign(new Yc,n)},createNode(e,t,n){const r=tM(e,t,n),i=new Yc;return i.items=r.items,i}};function nM({value:e,source:t},n){return t&&(e?rM:iM).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const rM={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Ut(!0),stringify:nM},iM={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new Ut(!1),stringify:nM},QZ={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Fo},ZZ={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Fo(e)}},eee={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new Ut(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(n!==-1){const r=e.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(t.minFractionDigits=r.length)}return t},stringify:Fo},Np=e=>typeof e=="bigint"||Number.isInteger(e);function _y(e,t,n,{intAsBigInt:r}){const i=e[0];if((i==="-"||i==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const s=BigInt(e);return i==="-"?BigInt(-1)*s:s}const o=parseInt(e,n);return i==="-"?-1*o:o}function yx(e,t,n){const{value:r}=e;if(Np(r)){const i=r.toString(t);return r<0?"-"+n+i.substr(1):n+i}return Fo(e)}const tee={identify:Np,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>_y(e,2,2,n),stringify:e=>yx(e,2,"0b")},nee={identify:Np,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>_y(e,1,8,n),stringify:e=>yx(e,8,"0")},ree={identify:Np,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>_y(e,0,10,n),stringify:Fo},iee={identify:Np,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>_y(e,2,16,n),stringify:e=>yx(e,16,"0x")};class Xc extends Ps{constructor(t){super(t),this.tag=Xc.tag}add(t){let n;zn(t)?n=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?n=new Yi(t.key,null):n=new Yi(t,null),du(this.items,n.key)||this.items.push(n)}get(t,n){const r=du(this.items,t);return!n&&zn(r)?Sn(r.key)?r.key.value:r.key:r}set(t,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=du(this.items,t);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Yi(t))}toJSON(t,n){return super.toJSON(t,n,Set)}toString(t,n,r){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}}Xc.tag="tag:yaml.org,2002:set";const wx={collection:"map",identify:e=>e instanceof Set,nodeClass:Xc,default:!1,tag:"tag:yaml.org,2002:set",resolve(e,t){if(Cp(e)){if(e.hasAllNullValues(!0))return Object.assign(new Xc,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e},createNode(e,t,n){const{replacer:r}=n,i=new Xc(e);if(t&&Symbol.iterator in Object(t))for(let o of t)typeof r=="function"&&(o=r.call(t,o,o)),i.items.push(dx(o,null,n));return i}};function bx(e,t){const n=e[0],r=n==="-"||n==="+"?e.substring(1):e,i=s=>t?BigInt(s):Number(s),o=r.replace(/_/g,"").split(":").reduce((s,u)=>s*i(60)+i(u),i(0));return n==="-"?i(-1)*o:o}function oM(e){let{value:t}=e,n=s=>s;if(typeof t=="bigint")n=s=>BigInt(s);else if(isNaN(t)||!isFinite(t))return Fo(e);let r="";t<0&&(r="-",t*=n(-1));const i=n(60),o=[t%i];return t<60?o.unshift(0):(t=(t-o[0])/i,o.unshift(t%i),t>=60&&(t=(t-o[0])/i,o.unshift(t))),r+o.map(s=>s<10?"0"+String(s):String(s)).join(":").replace(/000000\d*$/,"")}const aM={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>bx(e,n),stringify:oM},sM={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>bx(e,!1),stringify:oM},Ay={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(Ay.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,i,o,s,u]=t.map(Number),h=t[7]?Number((t[7]+"00").substr(1,3)):0;let m=Date.UTC(n,r-1,i,o||0,s||0,u||0,h);const v=t[8];if(v&&v!=="Z"){let w=bx(v,!1);Math.abs(w)<30&&(w*=60),m-=6e4*w}return new Date(m)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},T1=[Mf,zf,Iy,Ty,rM,iM,tee,nee,ree,iee,QZ,ZZ,eee,mx,vx,gx,wx,aM,sM,Ay],O1=new Map([["core",GZ],["failsafe",[Mf,zf,Iy]],["json",JZ],["yaml11",T1],["yaml-1.1",T1]]),_1={binary:mx,bool:hx,float:YL,floatExp:GL,floatNaN:HL,floatTime:sM,int:QL,intHex:ZL,intOct:JL,intTime:aM,map:Mf,null:Ty,omap:vx,pairs:gx,seq:zf,set:wx,timestamp:Ay},oee={"tag:yaml.org,2002:binary":mx,"tag:yaml.org,2002:omap":vx,"tag:yaml.org,2002:pairs":gx,"tag:yaml.org,2002:set":wx,"tag:yaml.org,2002:timestamp":Ay};function Xb(e,t){let n=O1.get(t);if(!n)if(Array.isArray(e))n=[];else{const r=Array.from(O1.keys()).filter(i=>i!=="yaml11").map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${r} or define customTags array`)}if(Array.isArray(e))for(const r of e)n=n.concat(r);else typeof e=="function"&&(n=e(n.slice()));return n.map(r=>{if(typeof r!="string")return r;const i=_1[r];if(i)return i;const o=Object.keys(_1).map(s=>JSON.stringify(s)).join(", ");throw new Error(`Unknown custom tag "${r}"; use one of ${o}`)})}const aee=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class Sx{constructor({compat:t,customTags:n,merge:r,resolveKnownTags:i,schema:o,sortMapEntries:s,toStringDefaults:u}){this.compat=Array.isArray(t)?Xb(t,"compat"):t?Xb(null,t):null,this.merge=!!r,this.name=typeof o=="string"&&o||"core",this.knownTags=i?oee:{},this.tags=Xb(n,this.name),this.toStringOptions=u!=null?u:null,Object.defineProperty(this,Qs,{value:Mf}),Object.defineProperty(this,by,{value:Iy}),Object.defineProperty(this,Df,{value:zf}),this.sortMapEntries=typeof s=="function"?s:s===!0?aee:null}clone(){const t=Object.create(Sx.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function see(e,t){var h;const n=[];let r=t.directives===!0;if(t.directives!==!1&&e.directives){const m=e.directives.toString(e);m?(n.push(m),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");const i=KL(e,t),{commentString:o}=i.options;if(e.commentBefore){n.length!==1&&n.unshift("");const m=o(e.commentBefore);n.unshift(Wa(m,""))}let s=!1,u=null;if(e.contents){if(Hn(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){const w=o(e.contents.commentBefore);n.push(Wa(w,""))}i.forceBlockIndent=!!e.comment,u=e.contents.comment}const m=u?void 0:()=>s=!0;let v=_u(e.contents,i,()=>u=null,m);u&&(v+=Bs(v,"",o(u))),(v[0]==="|"||v[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${v}`:n.push(v)}else n.push(_u(e.contents,i));if((h=e.directives)!=null&&h.docEnd)if(e.comment){const m=o(e.comment);m.includes(`
`)?(n.push("..."),n.push(Wa(m,""))):n.push(`... ${m}`)}else n.push("...");else{let m=e.comment;m&&s&&(m=m.replace(/^\n+/,"")),m&&((!s||u)&&n[n.length-1]!==""&&n.push(""),n.push(Wa(o(m),"")))}return n.join(`
`)+`
`}function $d(e,t,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let i=0,o=r.length;i<o;++i){const s=r[i],u=$d(e,r,String(i),s);u===void 0?delete r[i]:u!==s&&(r[i]=u)}else if(r instanceof Map)for(const i of Array.from(r.keys())){const o=r.get(i),s=$d(e,r,i,o);s===void 0?r.delete(i):s!==o&&r.set(i,s)}else if(r instanceof Set)for(const i of Array.from(r)){const o=$d(e,r,i,i);o===void 0?r.delete(i):o!==i&&(r.delete(i),r.add(o))}else for(const[i,o]of Object.entries(r)){const s=$d(e,r,i,o);s===void 0?delete r[i]:s!==o&&(r[i]=s)}return e.call(t,n,r)}class Ex{constructor(t,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Zi,{value:IS});let i=null;typeof n=="function"||Array.isArray(n)?i=n:r===void 0&&n&&(r=n,n=void 0);const o=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},r);this.options=o;let{version:s}=o;r!=null&&r._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(s=this.directives.yaml.version)):this.directives=new Hr({version:s}),this.setSchema(s,r),t===void 0?this.contents=null:this.contents=this.createNode(t,i,r)}clone(){const t=Object.create(Ex.prototype,{[Zi]:{value:IS}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=Hn(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){bc(this.contents)&&this.contents.add(t)}addIn(t,n){bc(this.contents)&&this.contents.addIn(t,n)}createAlias(t,n){if(!t.anchor){const r=FL(this);t.anchor=!n||r.has(n)?UL(n||"a",r):n}return new $L(t.anchor)}createNode(t,n,r){let i;if(typeof n=="function")t=n.call({"":t},"",t),i=n;else if(Array.isArray(n)){const S=I=>typeof I=="number"||I instanceof String||I instanceof Number,E=n.filter(S).map(String);E.length>0&&(n=n.concat(E)),i=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:o,anchorPrefix:s,flow:u,keepUndefined:h,onTagObj:m,tag:v}=r!=null?r:{},{onAnchor:w,setAnchors:b,sourceObjects:N}=PZ(this,s||"a"),T={aliasDuplicateObjects:o!=null?o:!0,keepUndefined:h!=null?h:!1,onAnchor:w,onTagObj:m,replacer:i,schema:this.schema,sourceObjects:N},R=qh(t,v,T);return u&&Rn(R)&&(R.flow=!0),b(),R}createPair(t,n,r={}){const i=this.createNode(t,null,r),o=this.createNode(n,null,r);return new Yi(i,o)}delete(t){return bc(this.contents)?this.contents.delete(t):!1}deleteIn(t){return Ud(t)?this.contents==null?!1:(this.contents=null,!0):bc(this.contents)?this.contents.deleteIn(t):!1}get(t,n){return Rn(this.contents)?this.contents.get(t,n):void 0}getIn(t,n){return Ud(t)?!n&&Sn(this.contents)?this.contents.value:this.contents:Rn(this.contents)?this.contents.getIn(t,n):void 0}has(t){return Rn(this.contents)?this.contents.has(t):!1}hasIn(t){return Ud(t)?this.contents!==void 0:Rn(this.contents)?this.contents.hasIn(t):!1}set(t,n){this.contents==null?this.contents=dv(this.schema,[t],n):bc(this.contents)&&this.contents.set(t,n)}setIn(t,n){Ud(t)?this.contents=n:this.contents==null?this.contents=dv(this.schema,Array.from(t),n):bc(this.contents)&&this.contents.setIn(t,n)}setSchema(t,n={}){typeof t=="number"&&(t=String(t));let r;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Hr({version:"1.1"}),r={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new Hr({version:t}),r={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const i=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new Sx(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:n,mapAsMap:r,maxAliasCount:i,onAnchor:o,reviver:s}={}){const u={anchors:new Map,doc:this,keep:!t,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100,stringify:_u},h=fa(this.contents,n!=null?n:"",u);if(typeof o=="function")for(const{count:m,res:v}of u.anchors.values())o(v,m);return typeof s=="function"?$d(s,{"":h},"",h):h}toJSON(t,n){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:n})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const n=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return see(this,t)}}function bc(e){if(Rn(e))return!0;throw new Error("Expected a YAML collection as document contents")}function lee(e,t,n){var i;let r=null;if(typeof t=="function"||Array.isArray(t)?r=t:n===void 0&&t&&(n=t),typeof n=="string"&&(n=n.length),typeof n=="number"){const o=Math.round(n);n=o<1?void 0:o>8?{indent:8}:{indent:o}}if(e===void 0){const{keepUndefined:o}=(i=n!=null?n:t)!=null?i:{};if(!o)return}return new Ex(e,r,n).toString(n)}class mf{constructor(t){this.rootDoc=t||{openapi:"3.0.0",info:{title:"app",version:"version"},paths:{},components:{schemas:{},responses:{},parameters:{},examples:{},requestBodies:{},headers:{},securitySchemes:{},links:{},callbacks:{}},tags:[],servers:[]}}static create(t){return new mf(t)}getSpec(){return this.rootDoc}getSpecAsJson(t,n){return JSON.stringify(this.rootDoc,t,n)}getSpecAsYaml(){return lee(this.rootDoc)}static isValidOpenApiVersion(t){t=t||"";const n=/(\d+)\.(\d+).(\d+)/.exec(t);return!!(n&&parseInt(n[1],10)>=3)}addOpenApiVersion(t){if(!mf.isValidOpenApiVersion(t))throw new Error("Invalid OpenApi version: "+t+". Follow convention: 3.x.y");return this.rootDoc.openapi=t,this}addInfo(t){return this.rootDoc.info=t,this}addContact(t){return this.rootDoc.info.contact=t,this}addLicense(t){return this.rootDoc.info.license=t,this}addTitle(t){return this.rootDoc.info.title=t,this}addDescription(t){return this.rootDoc.info.description=t,this}addTermsOfService(t){return this.rootDoc.info.termsOfService=t,this}addVersion(t){return this.rootDoc.info.version=t,this}addPath(t,n){return this.rootDoc.paths[t]=n,this}addSchema(t,n){return this.rootDoc.components.schemas[t]=n,this}addResponse(t,n){return this.rootDoc.components.responses[t]=n,this}addParameter(t,n){return this.rootDoc.components.parameters[t]=n,this}addExample(t,n){return this.rootDoc.components.examples[t]=n,this}addRequestBody(t,n){return this.rootDoc.components.requestBodies[t]=n,this}addHeader(t,n){return this.rootDoc.components.headers[t]=n,this}addSecurityScheme(t,n){return this.rootDoc.components.securitySchemes[t]=n,this}addLink(t,n){return this.rootDoc.components.links[t]=n,this}addCallback(t,n){return this.rootDoc.components.callbacks[t]=n,this}addServer(t){return this.rootDoc.servers.push(t),this}addTag(t){return this.rootDoc.tags.push(t),this}addExternalDocs(t){return this.rootDoc.externalDocs=t,this}}const Po=yt(function(e){return{...{...mf.create().getSpec(),openapi:"3.0.3",info:{contact:{name:"name",url:"",email:""},description:"",license:{name:"license",url:""},termsOfService:"",title:"title",version:"0.1.0"},externalDocs:{description:"",url:""}},setContact(n){e(Om(function(r){r.info.contact=n}))},setExternal(n){e(Om(function(r){r.externalDocs=n}))},setInfo(n){e(Om(function(r){r.info=n}))},setLicense(n){e(Om(function(r){r.info.license=n}))},setOAPI(n){e(n)}}});function uee(e){if(typeof e!="string")throw new Error("unsupported version: "+e);const[t,n]=e.split(".").map(s=>parseInt(s)),[r,i]="0.3.6".split(".").map(s=>parseInt(s));if(t===r&&n===i)return;const o=`Please upgrade the PHP package ${Dn.PackageName} to version: 0.3.6`;throw t<r?new Error(o):t===r&&n<i?new Error(o):new Error(`Please upgrade the PhpStorm plugin ${Dn.Name} to version: ${e}`)}function cee(){qE.getState().observe(),KE.getState().observe(),to.getState().observe(),Ti.getState().observe(),Of.getState().observe(),no.getState().observe(),Mr.getState().observe(),KC.getState().observe(),eD.getState().observe(),sp.getState().observe(),Ii.getState().observe(),VC.getState().observe(),NL.getState().observe(),GC.getState().observe(),CL.getState().observe(),YC.getState().observe(),wy.getState().observe(),ZC.getState().observe(),Sp.getState().observe(),bp.getState().observe(),ml.getState().observe(),ll.getState().observe()}const fee=yt(function(e){return{}}),dee=1222,A1=111;function hee(e){let t=0,n=!1;setInterval(function(){n||rp().then(function(r){const i=JSON.stringify({db:r,oapi:Po.getState(),setting:fee.getState()});if(i!==e)return e=i,t+=1,n=!0,F5(e,t===A1).finally(function(){n=!1,t===A1&&(t=0)})}).catch(Be.getState().showError)},dee)}function pee(e){let t=["db","oapi","setting"].every(n=>n in e);if(typeof e.db.version=="number"){if(e.db.version>WE)throw new Error(`Cannot load version ${e.db.version} data`)}else t=!1;if(t===!1)throw new Error("Cannot load corrupted data")}async function lM(e,t){dZ();const n=await fetch("preset.json").then(r=>r.json());return e===null?e=n:pee(e),Po.getState().setOAPI(e.oapi),Q5(e.db,t,n),tq(e.db).then(()=>hf.setState({item:e==null?void 0:e.db.tables.Module[0]})).then(cee)}function mee(){const e="index.d.ts";return fetch(e).then(t=>t.text()).then(t=>UE(Fv(e),t)).then(()=>Qv())}function gee(e){uee(e.version),mee();let t=null;if(e.data){t=JSON.parse(e.data);const n=JSON.parse(e.composer);Zg.getState().setPsr4({...n["autoload-dev"]["psr-4"],...n.autoload["psr-4"]})}return lM(t,e.data).then(()=>{var n;return hee((n=e.data)!=null?n:"")})}function vee(){return lM(null,null)}function yee(){const[e,t]=Q.exports.useState(""),[n,r]=Q.exports.useState(!1),i=Pv();function o(){n||(r(!0),t(""),z5().then(u=>gee(u.data.data)).then(()=>{r(!1),i.setConnected()}).catch(u=>{console.log(u),i.setConnected(!1),t(VE(u)),r(!1)}))}function s(){vee().then(()=>{r(!1),i.setConnected(!0,!0),t("")})}return y("div",{className:"row justify-content-center mt-5",children:K("div",{className:"col-6 text-center",children:[y("h1",{className:"text-secondary",children:Dn.Name}),y("p",{children:"0.3.6"}),i.connected?null:y("p",{children:n?y("span",{className:"spinner-border text-primary"}):K(Qt,{children:[y("span",{children:location.origin}),y("br",{}),y("br",{}),y(uf,{onClick:o,waiting:n,children:"connect"}),i.ide?null:y(uf,{className:"btn btn-outline-primary ms-3",onClick:s,waiting:n,children:"demo"})]})}),null,i.connected?K("p",{className:"text-success",children:["connected to ",location.origin]}):null,e?K(Qt,{children:[y("p",{className:"text-danger",children:e}),K("p",{children:["make sure Laravel server ",location.origin," is running,",y("br",{}),"and PHP package ",Dn.PackageName," is installed."]})]}):null,y(kr,{href:"https://googee.github.io/laravel-builder",children:"help"})]})})}function wee(){const e=Po(n=>n.info.contact),t=Po();return y("table",{className:"table td0-tar",children:K("tbody",{children:[K("tr",{children:[y("td",{className:"w222",children:"email"}),y("td",{children:y("input",{value:e.email,onChange:n=>t.setContact({...e,email:n.target.value}),className:"form-control",type:"text"})})]}),K("tr",{children:[y("td",{children:"name"}),y("td",{children:y("input",{value:e.name,onChange:n=>t.setContact({...e,name:n.target.value}),className:"form-control",type:"text"})})]}),K("tr",{children:[y("td",{children:"url"}),y("td",{children:y("input",{value:e.url,onChange:n=>t.setContact({...e,url:n.target.value}),className:"form-control",type:"text"})})]})]})})}function bee(){const e=Po(n=>n.info),t=Po();return y("table",{className:"table td0-tar",children:K("tbody",{children:[K("tr",{children:[y("td",{className:"w222",children:"title"}),y("td",{children:y("input",{value:e.title,onChange:n=>t.setInfo({...e,title:n.target.value}),className:"form-control",type:"text"})})]}),K("tr",{children:[y("td",{children:"version"}),y("td",{children:y("input",{value:e.version,onChange:n=>t.setInfo({...e,version:n.target.value}),className:"form-control",type:"text"})})]}),K("tr",{children:[y("td",{children:"description"}),y("td",{children:y("textarea",{rows:3,value:e.description,onChange:n=>t.setInfo({...e,description:n.target.value}),className:"form-control"})})]}),K("tr",{children:[y("td",{children:"termsOfService"}),y("td",{children:y("textarea",{rows:3,value:e.termsOfService,onChange:n=>t.setInfo({...e,termsOfService:n.target.value}),className:"form-control"})})]})]})})}function See(){const e=Po(n=>n.info.license),t=Po();return y("table",{className:"table td0-tar",children:K("tbody",{children:[K("tr",{children:[y("td",{className:"w222",children:"name"}),y("td",{children:y("input",{value:e.name,onChange:n=>t.setLicense({...e,name:n.target.value}),className:"form-control",type:"text"})})]}),K("tr",{children:[y("td",{children:"url"}),y("td",{children:y("input",{value:e.url,onChange:n=>t.setLicense({...e,url:n.target.value}),className:"form-control",type:"text"})})]})]})})}function Eee(){const e=Po(n=>n.externalDocs),t=Po();return y("table",{className:"table td0-tar",children:K("tbody",{children:[K("tr",{children:[y("td",{className:"w222",children:"url"}),y("td",{children:y("input",{value:e.url,onChange:n=>t.setExternal({...e,url:n.target.value}),className:"form-control",type:"text"})})]}),K("tr",{children:[y("td",{children:"description"}),y("td",{children:y("textarea",{rows:3,value:e.description,onChange:n=>t.setExternal({...e,description:n.target.value}),className:"form-control"})})]})]})})}var uM=(e=>(e.contact="contact",e.external="external",e.info="info",e.license="license",e))(uM||{});function Cee(){const e=Object.keys(uM),[t,n]=Q.exports.useState("info");function r(){if(t==="contact")return y(wee,{});if(t==="external")return y(Eee,{});if(t==="info")return y(bee,{});if(t==="license")return y(See,{})}return y("div",{className:"row",children:K("div",{className:"col offset-3",children:[K("div",{children:[y("h1",{className:"inline",children:"OpenApi 3.0"}),y(kr,{className:"ms-3",href:"https://spec.openapis.org/oas/v3.0.3#info-object",children:"doc"})]}),y(_f,{tab:t,tabzz:e,setTab:n}),r()]})})}function xee(e,t,n,r){let i="";e.default===null||(["","''",'""'].includes(e.default)?i="''":i=e.default);const o=kk(t.id,e.name,e.type,i,e.length,n,r);return o.comment=e.comment,o.nullable=e.nullable,o.scale=e.scale,o.unsigned=e.unsigned,Zr().create(o).then(s=>{const u=dl(r==null?void 0:r.oapiType);return u.ownerColumnId=s.id,Yn().create(u).then(()=>s)})}function Nee(e,t,n){return rh().create({entityId:t.id,type:e.type}).then(function(r){const i=e.columnzz.map((o,s)=>{const u=n.find(h=>h.name===o);return{indexId:r.id,columnId:u.id,sort:s+1}});return ih().createMany(i)})}function Iee(e,t,n){return console.log(`createRelation ${e.name} - ${t.name}`),fY(Ro.OneToMany,e,t,n)}function Tee(e){console.log(`createTable ${e.name}`);const t=Lu.startCase(e.name).replaceAll(" ",""),n=t===e.name?"":e.name,r=dC(t,e.comment,n);return Hi().create(r)}async function Oee(e){const t=Of.getState(),n=Pr("ReadOnlyColumn"),r=e.tablezz.filter(s=>s.included),i=new Map;await rp().then(s=>s.tables.Entity.forEach(u=>i.set(u.table?u.table:u.name,u)));for(const s of r)await Tee(s).then(u=>i.set(s.name,u));const o=new Map;for(const s of r)for(const u of s.columnzz){let h=o.get(s.name);h===void 0&&(h=[],o.set(s.name,h)),await xee(u,i.get(s.name),n,t.findByName(u.type)).then(m=>h.push(m))}for(const s of r){const u=o.get(s.name),h=new Set;for(const m of s.relationzz){m.columnzz.length===1&&h.add(m.columnzz[0]);const v=u.find(w=>w.name===m.columnzz[0]);await Iee(i.get(m.schema),i.get(s.name),v.id)}for(const m of s.indexzz){if(m.columnzz.length===1&&h.has(m.columnzz[0])&&m.type==="index")break;await Nee(m,i.get(s.name),o.get(s.name))}}return r.length}function _ee(){const e=Ii(),t=Be(),[n,r]=Q.exports.useState(!1),[i,o]=Q.exports.useState(),[s,u]=Q.exports.useState(!1),h=new Set(e.itemzz.map(v=>v.table?v.table:v.name));function m(v,w){if(i===void 0)return;const b=i.tablezz.map(N=>Object.is(N,v)?{...N,included:w}:N);o({...i,tablezz:b})}return K("table",{className:"table",children:[y("caption",{children:y(uf,{waiting:s,onClick:function(){s||(u(!0),U5().then(v=>{u(!1),v.data.data.tablezz.forEach(w=>w.included=!1),o(v.data.data)}).catch(v=>{u(!1),t.showError(v)}))},children:"read DB tables"})}),y("thead",{children:y("tr",{children:y("td",{children:"selected"})})}),y("tbody",{children:i?i.tablezz.map(v=>y("tr",{children:y("td",{children:K("div",{className:"form-check form-switch",children:[y("input",{checked:v.included,onChange:w=>m(v,w.target.checked),className:"form-check-input",type:"checkbox",role:"switch",id:"nameSwitchCheck"+v.name}),K("label",{className:"form-check-label",htmlFor:"nameSwitchCheck"+v.name,children:[v.name,h.has(v.name)?y("span",{className:"text-danger ms-1",children:"exists"}):null]})]})})},v.name)):null}),K("tfoot",{children:[y("tr",{children:K("td",{children:[K("div",{className:"form-check form-switch inline me-3",children:[y("input",{checked:n,onChange:function(v){if(r(v.target.checked),i===void 0)return;const w=i.tablezz.map(b=>({...b,included:v.target.checked}));o({...i,tablezz:w})},className:"form-check-input",type:"checkbox",role:"switch",id:"allSwitchCheck"}),y("label",{className:"form-check-label",htmlFor:"allSwitchCheck",children:"all"})]}),y(uf,{waiting:s,onClick:function(){i!==void 0&&(s||(u(!0),Oee(i).then(v=>{u(!1),t.showSuccess(`created ${v} schemas`)}).catch(v=>{u(!1),t.showError(v)})))},children:"import selected tables"})]})}),y("tr",{children:y("td",{children:K("ul",{children:[y("li",{children:"table names and column names are case sensitive."}),y("li",{children:"cannot import existed tables."}),y("li",{children:"if related tables not exist when importing a table, it will fail."}),y("li",{children:"if a table and a schema with the same name, but have different columns(foreign keys), it will fail."})]})})})]})]})}function Aee(e){return y("span",{className:e.className,children:K("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-check-circle",viewBox:"0 0 16 16",children:[y("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),y("path",{d:"M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"})]})})}function Ree(e){return y("span",{className:e.className,children:y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-caret-left-fill",viewBox:"0 0 16 16",children:y("path",{d:"m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z"})})})}function Pee(e){return y("span",{className:e.className,children:y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-skip-end-fill",viewBox:"0 0 16 16",children:y("path",{d:"M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0V4z"})})})}function kee(e){return y("span",{className:e.className,children:y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-skip-start-fill",viewBox:"0 0 16 16",children:y("path",{d:"M4 4a.5.5 0 0 1 1 0v3.248l6.267-3.636c.54-.313 1.232.066 1.232.696v7.384c0 .63-.692 1.01-1.232.697L5 8.753V12a.5.5 0 0 1-1 0V4z"})})})}function Dee(e){const t=Be(),[n,r]=Q.exports.useState(!1);function i(o){if(!n)return r(!0),W5(o).then(s=>t.showSuccess(s.data.data)).then(e.read).catch(t.showError).then(()=>r(!1))}return K("div",{children:[K("div",{className:"mb-3",children:[y("button",{disabled:n||e.waiting,onClick:function(){n||(r(!0),j5().then(o=>t.showSuccess(o.data.data)).then(Qv).then(e.read).catch(t.showError).then(()=>r(!1)))},className:"btn btn-outline-success me-2",type:"button",children:"diff"}),y("span",{children:"compare files in `database/Entity` with database schemas, and generate a migration file of their difference."})]}),K("div",{children:[y("button",{disabled:n||e.waiting,onClick:()=>Lr().then(o=>{if(o.isConfirmed)return i(0)}).catch(t.showError),className:"btn btn-outline-warning me-3",type:"button",children:y(kee,{})}),y("button",{disabled:n||e.waiting,onClick:()=>i(-1),className:"btn btn-outline-warning me-3",type:"button",children:y(Ree,{})}),y("button",{disabled:n||e.waiting,onClick:()=>i(11),className:"btn btn-outline-warning me-2",type:"button",children:y(Pee,{})}),y("span",{children:"run artisan command `migrate`"})]})]})}function Lee(){const e=Be(),[t,n]=Q.exports.useState(s()),[r,i]=Q.exports.useState(!1);let o=!1;Q.exports.useEffect(()=>(u().catch(e.showError),function(){o=!0}),[]);function s(){return{dbexist:!1,filezz:[],migrationzz:[]}}function u(){return r?Promise.reject("waiting..."):(i(!0),$5().then(w=>{o||n(w.data.data)}).finally(()=>i(!1)))}const h=new Map;t.migrationzz.forEach(w=>h.set(w.migration,{...w}));const m=[...h.values()];t.filezz.forEach(w=>{const b=h.get(w.replace(".php",""));if(b){b.migration=w;return}m.push({batch:0,migration:w})}),m.reverse();function v(w){return w.migration.endsWith(".php")?K("div",{className:"btn-group",children:[y("button",{onClick:()=>Lr().then(b=>{if(b.isConfirmed)return K5(w.migration).then(Qv).then(u)}).catch(e.showError),disabled:w.batch>0,className:"btn btn-outline-primary danger",type:"button",children:"-"}),y(ha,{content:"",file:"database/migrations/"+w.migration,text:w.migration})]}):y("span",{className:"text-danger",children:w.migration})}return K("table",{className:"table",children:[y("caption",{children:y(Dee,{read:u,waiting:r})}),y("thead",{children:K("tr",{children:[y("td",{children:"batch"}),y("td",{children:"migration / file"})]})}),K("tbody",{children:[m.length?null:y("tr",{children:y("td",{colSpan:2,className:"text-secondary",children:"no migration"})}),m.map(w=>K("tr",{children:[y("td",{children:w.batch===0?null:K("div",{children:[y(Aee,{className:"text-success me-3"}),w.batch]})}),y("td",{children:v(w)})]},w.migration))]})]})}var cM=(e=>(e.Database="Database",e.Migration="Migration",e))(cM||{});function Mee(e){const t=Bu(),[n,r]=Q.exports.useState("Migration"),i=Object.keys(cM);function o(){return n==="Migration"?y(Lee,{}):y(_ee,{})}return K(Qt,{children:[t.item===void 0?null:y("div",{className:"mb-3",children:y(Fu,{action:"",file:e.file,fullName:!0,entity:t.item})}),y(_f,{tab:n,tabzz:i,setTab:r}),o()]})}function zee(){const e=Ii(),n=Ti().find(1);return n===void 0?y("div",{children:y("span",{className:"text-danger",children:"file Entity not found"})}):K("div",{className:"row",children:[y(Wv,{title:at.Entity,itemzz:e.itemzz.filter(r=>r.isTable),useStore:Bu}),y("div",{className:"col-9 py-3 h100 overflow-auto",children:y(Mee,{file:n})})]})}function gf(e,t,n){const r=n.find(i=>i[t]===e);if(r===void 0)throw new Error(`TypeFormat ${e} not found`);return r}function Bee(e,t){if(e.type===dt.WuParameter)return Vh();const n=t.get(e.wuId);return n===void 0?Vh():_o(n.name,Xi.schemas)}function Vh(){return _o("Empty",Xi.schemas)}function _o(e,t){return{$ref:`#/components/${t}/${e}`}}var Xi=(e=>(e.callbacks="callbacks",e.examples="examples",e.headers="headers",e.links="links",e.parameters="parameters",e.requestBodies="requestBodies",e.responses="responses",e.schemas="schemas",e.securitySchemes="securitySchemes",e))(Xi||{});function Fee(e){return{description:e.description,enum:e.enum,type:e.type}}function fM(e){return"__Enum__"+e}function Uee(e,t,n,r,i,o,s,u,h){var S,E,I;const m=(S=u.get(e.id))!=null?S:[];if(m.length===0)return _o(e.name,Xi.schemas);if(h.length<m.length)throw new Error(`${e.name} require ${m.length} WuParameter`);const v=new Map(m.map((P,O)=>[P.id,h[O]])),w=(E=i.get(e.id))!=null?E:[],b=(I=o.get(e.id))!=null?I:[];if(b.length===0&&w.length===0&&e.isMap===!1)return Vh();const N=w.reduce(function(P,O){const B=gf(O.id,"ownerColumnId",t);return P[O.name]=Ka(B,t,n,r,i,o,s,u,h,v),P},Object.create(null)),T=uS({description:e.description,properties:N});if(e.example&&(T.example=e.example),e.isRequest&&(T.required=w.map(P=>P.name)),e.isMap){const P=gf(e.id,"ownerWuId",t);T.additionalProperties=Ka(P,t,n,r,i,o,s,u,h,v)}if(b.length===0)return T;const R=b.map(P=>Ka(P,t,n,r,i,o,s,u,h,v));return(w.length||e.isMap)&&R.push(T),Uk(R,e.type)}function Ka(e,t,n,r,i,o,s,u,h,m){let v=w();if(e.isArray&&(v=sY(v)),e.nullable){if(fC(v)||Fk(v))return v;v.nullable=e.nullable}return v;function w(){var N,T,R,S;if(e.type===dt.any)return{};if(e.type===dt.Enum){const E=r.get((N=e.variableId)!=null?N:0);if(E===void 0)throw new Error(Rr("Enum",(T=e.variableId)!=null?T:""));const I=fM(E.name);return _o(I,Xi.schemas)}if(e.type===dt.WuParameter){const E=m.get((R=e.wuParameterId)!=null?R:0);return E||Vh()}if(e.type===dt.Wu){const E=(S=n.get(e.id))!=null?S:[];if(E.length){const I=s.get(e.wuId);if(I===void 0)throw new Error(Rr("Wu",e.wuId));const P=E.map(O=>Ka(O,t,n,r,i,o,s,u,h,m));return Uee(I,t,n,r,i,o,s,u,P)}return Bee(e,s)}const b={format:e.format,type:e.type};return e.nullable&&(b.nullable=!0),b}}function R1(e,t,n,r,i,o,s,u,h){var w;const m=gf(e.id,"required"in e?"ownerRequestId":"ownerResponseId",t),v={schema:Ka(m,t,n,r,o,s,u,h,[],new Map)};if(e.example)v.example=e.example;else{const b=("required"in e?"rb":"r")+e.id,N=(w=i.get(b))!=null?w:[];N.length&&(v.examples=N.reduce(function(T,R){return T[R.name]=_o(R.name,Xi.examples),T},Object.create(null)))}return v}function $ee(e,t,n,r,i){const o={allowReserved:t.allowReserved,deprecated:t.deprecated,description:t.description,explode:t.explode,required:t.required,schema:i,style:t.style};t.example&&(o.example=t.example);const s=n.get(t.entityId);if(s===void 0)return;if(s.name===at.ParameterInHeader){r.addHeader(t.name,o);return}const u=HC(s.name);r.addParameter(dM(u,t),{...o,name:e.alias?e.alias:t.name,in:u})}function dM(e,t){return e+"-"+t.name}function P1(e,t){const n=t.get(e.entityId);if(n===void 0)return _o(e.name,Xi.parameters);if(n.name===at.ParameterInHeader)return _o(e.name,Xi.headers);const r=HC(n.name);return _o(dM(r,e),Xi.parameters)}function hM(e,t){var i;const r=((i=t.get(e.id))!=null?i:[]).reduce(function(o,s){const u={default:s.default,description:s.description,enum:s.enum};return o[s.name]=u,o},Object.create(null));return{description:e.description,url:e.name,variables:r}}function Wee(e,t,n,r,i,o,s,u,h,m,v){var E,I;const w={description:e.description,parameters:((E=i.get(e.id))!=null?E:[]).map(P=>P1(P,t)),summary:e.summary},b=S(1,e.id);b.length&&(w.servers=b);const T=((I=o.get(e.id))!=null?I:[]).filter(P=>{var O;return((O=n.get(P.id))!=null?O:[]).length});if(T.length===0)return null;return T.reduce(function(P,O){var W,G;const B=(W=n.get(O.id))!=null?W:[];if(B.length===0)return P;const A=B.reduce(function(te,V){return te[V.status]=_o(V.name,Xi.responses),te},Object.create(null)),z={deprecated:O.deprecated,description:O.description,parameters:((G=r.get(O.requestId))!=null?G:[]).map(te=>P1(te,t)),responses:A,operationId:O.operationId,summary:O.summary,tags:[v]},M=S(O.requestId,1);M.length&&(z.servers=M);const F=O.method;if(P[F]=z,["get","delete"].includes(O.method)||O.requestId===1)return P;const U=s.get(O.requestId);return z.requestBody=_o(U.name,Xi.requestBodies),P},w);function S(P,O){return u.filter(A=>A.requestId===P&&A.pathId===O).map(A=>h.get(A.serverId)).map(A=>hM(A,m))}}function jee(e,t,n,r,i,o,s){var R,S;const u=new Map,h=[],m=new Map,v=(R=i.get(e.id))!=null?R:[],w=(S=o.get(e.id))!=null?S:[];if(w.length===0&&v.length===0&&e.isMap===!1)return e.id===1?uS({}):Vh();const b=v.reduce(function(E,I){const P=gf(I.id,"ownerColumnId",t);if(_S(P,n))return E;const O=Ka(P,t,n,r,i,o,s,u,h,m);return Bk(O)&&(I.ro&&(O.readOnly=!0),I.wo&&(O.writeOnly=!0)),E[I.name]=O,E},Object.create(null)),N=uS({description:e.description,properties:b});if(e.example&&(N.example=e.example),e.isRequest&&(N.required=v.map(E=>E.name)),e.isMap){const E=gf(e.id,"ownerWuId",t);_S(E,n)===!1&&(N.additionalProperties=Ka(E,t,n,r,i,o,s,u,h,m))}if(w.length===0)return N;const T=[];return w.forEach(E=>{T.push(Ka(E,t,n,r,i,o,s,u,h,m))}),(v.length||e.isMap)&&T.push(N),Uk(T,e.type)}function _S(e,t){var r;return!!(e.type===dt.WuParameter||((r=t.get(e.id))!=null?r:[]).find(i=>_S(i,t)))}function Kee(e,t){const n=mf.create({...mf.create().getSpec(),info:e.info,externalDocs:e.externalDocs}),r=new Map;t.tables.Example.forEach(W=>{r.set(W.id,W),n.addExample(W.name,{description:W.description,summary:W.summary,value:W.value})});const i=Vr(t.tables.Entity),o=Vr(t.tables.Column);Vr(t.tables.Module);const s=Vr(t.tables.Variable),u=t.tables.TypeFormat,h=Gs(t.tables.TypeFormat,"ownerId");t.tables.Variable.forEach(W=>n.addSchema(fM(W.name),Fee(W)));const m=new Map;t.tables.WuColumn.forEach(W=>{let G=m.get(W.wuId);G===void 0&&(G=[],m.set(W.wuId,G));const te=o.get(W.columnId);let V=te.name;W.alias&&(V=W.alias),G.push({...te,name:V})});const v=Vr(t.tables.Wu),w=Gs(t.tables.TypeFormat,"ownerWuChildId"),b=Gs(t.tables.WuParameter,"wuId"),N=new Map,T=new Map,R=new Map;t.tables.ParameterMap.forEach(W=>{if(W.pathId){S(N,W,W.pathId);return}if(W.requestId){S(R,W,W.requestId);return}if(W.responseId){S(T,W,W.responseId);return}});function S(W,G,te){let V=W.get(te);V===void 0&&(V=[],W.set(te,V));const oe=o.get(G.columnId);oe&&V.push(oe)}const E=new Map;t.tables.ExampleMap.forEach(W=>{const G=W.requestId?"rb"+W.requestId:"r"+W.responseId;let te=E.get(G);te===void 0&&(te=[],E.set(G,te));const V=r.get(W.exampleId);V&&te.push(V)}),t.tables.Wu.forEach(W=>{var te;((te=b.get(W.id))!=null?te:[]).length||n.addSchema(W.name,jee(W,u,h,s,m,w,v))}),t.tables.ParameterMap.forEach(W=>{const G=o.get(W.columnId);if(G===void 0)return;const te=gf(G.id,"ownerColumnId",u);$ee(W,G,i,n,Ka(te,u,h,s,m,w,v,b,[],new Map))}),t.tables.Request.forEach(W=>{n.addRequestBody(W.name,{content:{[W.mediaType]:R1(W,u,h,s,E,m,w,v,b)},description:W.description,required:W.required})}),t.tables.Response.forEach(W=>{var G;n.addResponse(W.name,{content:{[W.mediaType]:R1(W,u,h,s,E,m,w,v,b)},description:W.description,headers:((G=T.get(W.id))!=null?G:[]).reduce(function(te,V){return te[V.name]=_o(V.name,Xi.headers),te},Object.create(null))})});const I=Vr(t.tables.Request),P=Vr(t.tables.Response),O=new Map;t.tables.ModuleActionResponse.forEach(W=>{let G=O.get(W.moduleActionId);G===void 0&&(G=[],O.set(W.moduleActionId,G));const te=P.get(W.responseId);te&&G.push({...W,name:te.name})});const B=Vr(t.tables.ModuleAction),A=new Map;t.tables.PathMethod.forEach(W=>{let G=A.get(W.pathId);G===void 0&&(G=[],A.set(W.pathId,G));const te=B.get(W.moduleActionId);te&&te.inOapi&&G.push({...te,method:W.method})});const z=new Map;t.tables.ServerVariable.forEach(W=>{let G=z.get(W.serverId);G===void 0&&(G=[],z.set(W.serverId,G));const te=s.get(W.variableId);te&&G.push(te)});const M=new Map;t.tables.Server.forEach(W=>{M.set(W.id,W),W.global&&n.addServer(hM(W,z))});const F=new Set,U=[...t.tables.Path];return U.sort((W,G)=>W.name.localeCompare(G.name)),U.forEach(W=>{var V;const G=i.get(W.entityId),te=Wee(W,i,O,R,N,A,I,t.tables.ServerMap,M,z,(V=G==null?void 0:G.name)!=null?V:"not found");te!==null&&(G&&F.add(G.name),n.addPath(W.name,te))}),Array.from(F).sort((W,G)=>W.localeCompare(G)).forEach(W=>n.addTag({name:W})),n}function qee(){const e=Po(),[t,n]=Q.exports.useState("");return K("div",{children:[K("div",{className:"mb-3",children:[y("h1",{className:"inline",children:"OpenApi 3.0"}),y(kr,{className:"ms-3",href:"https://spec.openapis.org/oas/v3.0.3",children:"doc"}),y(kr,{className:"ms-3",href:"https://editor.swagger.io/",children:"editor"}),y("button",{onClick:()=>rp().then(function(r){const i=Kee(e,r);n(i.getSpecAsJson())}),className:"btn btn-outline-primary ms-3",type:"button",children:"toJSON"})]}),y("div",{className:"mb-3",children:y("textarea",{className:"form-control",readOnly:!0,rows:11,value:t})})]})}const tg=yt(function(e){return Lo(e)});function Vee(e){const t=tg(),n=Be(),i=no().itemzz.find(s=>s.ownerColumnId===e.item.id);if(i===void 0)return y("div",{children:Rr("TypeFormat","")});function o(s){t.setItem(s),Zr().update(s).then(t.setItem).catch(n.showError)}return y("table",{className:"table td0-tar",children:K("tbody",{children:[K("tr",{children:[y("td",{className:"w111",children:"type"}),y("td",{children:y(Ep,{id:e.item.id,item:i})})]}),K("tr",{children:[y("td",{children:"allowReserved"}),y("td",{children:K("div",{className:"form-check form-switch",children:[y("input",{checked:e.item.allowReserved,onChange:s=>o({...e.item,allowReserved:s.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"allowReservedSwitchCheck"+e.item.id}),y("label",{className:"form-check-label",htmlFor:"allowReservedSwitchCheck"+e.item.id})]})})]}),K("tr",{children:[y("td",{children:"deprecated"}),y("td",{children:K("div",{className:"form-check form-switch",children:[y("input",{checked:e.item.deprecated,onChange:s=>o({...e.item,deprecated:s.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"deprecatedSwitchCheck"+e.item.id}),y("label",{className:"form-check-label",htmlFor:"deprecatedSwitchCheck"+e.item.id})]})})]}),K("tr",{children:[y("td",{children:"explode"}),y("td",{children:K("div",{className:"form-check form-switch",children:[y("input",{checked:e.item.explode,onChange:s=>o({...e.item,explode:s.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"explodeSwitchCheck"+e.item.id}),y("label",{className:"form-check-label",htmlFor:"explodeSwitchCheck"+e.item.id})]})})]}),K("tr",{children:[y("td",{children:"required"}),y("td",{children:K("div",{className:"form-check form-switch",children:[y("input",{checked:e.item.required,onChange:s=>o({...e.item,required:s.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"requiredSwitchCheck"+e.item.id}),y("label",{className:"form-check-label",htmlFor:"requiredSwitchCheck"+e.item.id})]})})]}),K("tr",{children:[y("td",{children:"style"}),y("td",{children:y(Ao,{className:"wa",itemzz:nY,value:e.item.style,change:function(s){o({...e.item,style:s})}})})]}),K("tr",{children:[K("td",{children:[y("span",{children:"constraint"}),y("br",{}),y(kr,{href:"https://laravel.com/docs/9.x/validation",children:"doc"})]}),y("td",{children:y(wL,{column:e.item,constraintzz:e.constraintzz})})]}),K("tr",{children:[y("td",{children:"example"}),y("td",{children:y("textarea",{value:e.item.example,onChange:s=>o({...e.item,example:s.target.value}),className:"form-control"})})]})]})})}function Hee(e){const t=Mr(),n=Ii(),r=tg(),i=Be(),[o,s]=Q.exports.useState([]),u=Pr("ValidationRule"),h=n.findByName(e.page);if(h===void 0)return null;const m="Please input the name";Q.exports.useEffect(()=>{r.setItem()},[e.page]),Q.exports.useEffect(()=>{s(t.itemzz.filter(w=>w.entityId===h.id).sort((w,b)=>w.name.localeCompare(b.name)))},[e.page,t.itemzz]);function v(w){if(h===void 0)return null;let b="form";return[at.ParameterInHeader,at.ParameterInPath].includes(h.name)&&(b="simple"),lp(h.id,w,dt.string,"",333,b).then(([N,T])=>Yn().create(T)).catch(i.showError)}return K("div",{className:"row",children:[y(Wv,{title:e.page.includes("ParameterIn")?e.page.replace("ParameterIn",""):e.page,button:y("button",{onClick:function(){Mn(m,"").then(w=>{if(w.isConfirmed&&w.value)return v(w.value)}).catch(i.showError)},className:"btn btn-outline-primary",type:"button",children:"+"}),itemzz:o,useStore:tg}),y("div",{className:"col-9 py-3 h100 overflow-auto",children:r.item===void 0?null:K(Qt,{children:[y(YE,{item:r.item,makeCRUD:Zr,message:m,showDialog:Mn,useItemPageStore:tg}),y(Vee,{constraintzz:u,item:r.item})]})})]})}function Gee(){const e=Pv();function t(r){return K("li",{className:"nav-item",children:[n(r," nav-link"+(r.childzz.length?" dropdown-toggle":"")),r.childzz.length===0?null:y("ul",{className:"dropdown-menu",children:r.childzz.map(i=>y("li",{children:n(i," dropdown-item")},i.path))})]},r.path)}function n(r,i){return y(uK,{to:r.path,className:({isActive:o})=>(o?"active ":"")+i,children:r.name})}return y("nav",{className:"navbar navbar-expand navbar-dark bg-primary",children:K("div",{className:"container-fluid",children:[y("a",{className:"navbar-brand",children:"LB"}),e.connected?y("ul",{className:"navbar-nav me-auto",children:hK.filter(r=>r.visible).map(r=>t(r))}):null]})})}function Yee(){const e=Be();return y("div",{className:"toast-container position-fixed bottom-0 mb-3 pb-3 end-0 me-3",children:e.list.map(t=>y("div",{className:t.color+" toast show align-items-center",children:K("div",{className:"d-flex",children:[y("div",{className:"toast-body",children:t.text}),y("button",{onClick:()=>e.dismiss(t.id),className:"btn-close me-2 m-auto",type:"button"})]})},t.id))})}const ng=yt(function(e){return Lo(e)});function Xee(e){const t=VC(),n=Be(),[r,i]=Q.exports.useState([]);Q.exports.useEffect(()=>{o()},[e.requestId,e.responseId]);function o(){ub().findAll().then(s=>i(s.filter(u=>u.requestId===e.requestId&&u.responseId===e.responseId))).catch(n.showError)}return y(ex,{fieldName:"exampleId",itemzz:r,source:t.itemzz,create:function(s){return ub().create({exampleId:s,requestId:e.requestId,responseId:e.responseId}).then(()=>o())},delete:function(s){return ub().delete(s).then(()=>o())}})}function pM(e){var o,s;const t=no(),n=Pr("MediaType"),r=(s=(o=n.find(u=>u.name===e.item.mediaType))==null?void 0:o.id)!=null?s:0,i=t.itemzz.find(u=>(e.isRequest?u.ownerRequestId:u.ownerResponseId)===e.item.id);return i===void 0?y("div",{children:Rr("TypeFormat","")}):K("table",{className:"table td0-tar",children:[e.caption,K("tbody",{children:[K("tr",{children:[y("td",{children:"color"}),y("td",{children:y(Ya,{color:e.item.color,setColor:u=>e.update({...e.item,color:u})})})]}),e.children,K("tr",{children:[y("td",{className:"w111",children:"MediaType"}),y("td",{children:y(_n,{className:"wa",itemzz:n,value:r,change:function(u,h){var m;e.update({...e.item,mediaType:(m=h==null?void 0:h.name)!=null?m:""})}})})]}),K("tr",{children:[y("td",{children:"content"}),y("td",{children:y(Ep,{id:e.item.id,item:i})})]}),K("tr",{children:[y("td",{children:"examples"}),y("td",{children:y(Xee,{requestId:e.isRequest?e.item.id:null,responseId:e.isRequest?null:e.item.id})})]}),K("tr",{children:[y("td",{children:"example"}),y("td",{children:y("textarea",{rows:3,value:e.item.example,onChange:u=>e.update({...e.item,example:u.target.value}),className:"form-control"})})]})]})]})}function Jee(e){const t=ng(),n=Be();function r(i){t.setItem(i),Uv().update(i).then(o=>t.setItem(o)).catch(n.showError)}return y(pM,{item:e.item,isRequest:!0,update:r,children:K("tr",{children:[y("td",{children:"required"}),y("td",{children:K("div",{className:"form-check form-switch",children:[y("input",{checked:e.item.required,onChange:i=>r({...e.item,required:i.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"requiredSwitchCheck"+e.item.id}),y("label",{className:"form-check-label",htmlFor:"requiredSwitchCheck"+e.item.id})]})})]})})}function Qee(){const e=ng(),t=YC();return K("div",{className:"row",children:[y(Wv,{title:at.Request,itemzz:t.itemzz,useStore:ng}),y("div",{className:"col-9 py-3 h100 overflow-auto",children:e.item?K(Qt,{children:[y(YE,{item:e.item,makeCRUD:Uv,message:`Please input the ${at.Request} name`,showDialog:Mn,useItemPageStore:ng,validateName:!1,onDeleteBefore:function(){return e.setItem(void 0),vi().updateManyColumn(Rt(Lt.Request),1,e.item.id)}}),y(Jee,{item:e.item})]}):void 0})]})}const k1=yt(function(e){return Lo(e)});function Zee(e){return y(pM,{caption:e.caption,item:e.item,isRequest:!1,update:e.update,children:K("tr",{children:[y("td",{children:"header"}),y("td",{children:y(XC,{responseId:e.item.id})})]})})}function ete(){const e=k1(),t=Be();function n(r){e.setItem(r),zg().update(r).then(i=>e.setItem(i)).catch(t.showError)}return y("div",{className:"row",children:y(zu,{makeCRUD:zg,useItemPageStore:k1,useItemzzStore:wy,title:at.Response,validateName:!1,children:e.item?y(Zee,{item:e.item,update:n}):void 0})})}function tte(e){const t=Sp(),n=Be(),[r,i]=Q.exports.useState(e.item),[o,s]=Q.exports.useState([]);Q.exports.useEffect(()=>{u()},[]);function u(){fb().findAll().then(m=>s(m.filter(v=>v.serverId===e.item.id))).catch(n.showError)}function h(m){i(m),Bg().update(m).then(i).catch(n.showError)}return K("tr",{children:[K("td",{children:[K("div",{children:[K("div",{className:"form-check form-switch inline",children:[y("input",{checked:e.item.global,onChange:m=>h({...e.item,global:m.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"globalSwitchCheck"+e.item.id}),y("label",{className:"form-check-label",htmlFor:"globalSwitchCheck"+e.item.id})]}),y(yy,{className:"ms-1",name:r.name,onChange:function(){Mn("Please input server URI",r.name).then(m=>{m.isConfirmed&&h({...r,name:m.value})})},onDelete:function(m){m&&Bg().delete(r.id).catch(n.showError)}})]}),y("input",{value:r.description,onChange:m=>h({...r,description:m.target.value}),className:"form-control mt-1",placeholder:"description",type:"text"})]}),y("td",{children:y(ex,{fieldName:"variableId",itemzz:o,source:t.itemzz,create:function(m){return fb().create({serverId:r.id,variableId:m}).then(()=>u())},delete:function(m){return fb().delete(m).then(()=>u())}})})]})}function nte(){const e=ZC(),t=Be();return y("div",{className:"row",children:y("div",{className:"col",children:K("table",{className:"table",children:[K("caption",{children:[y("h1",{className:"inline me-3",children:at.Server}),y("button",{onClick:function(){Mn("Please input server URI","https://").then(n=>{if(n.isConfirmed){const r=Mo(n.value);return r.global=!0,Bg().create(r)}}).catch(t.showError)},className:"btn btn-outline-primary",type:"button",children:"+"}),y(kr,{className:"ms-3",href:"https://spec.openapis.org/oas/v3.0.3#server-object",children:"doc"})]}),y("thead",{children:K("tr",{children:[y("th",{children:"global / URI"}),y("th",{children:"variable"})]})}),y("tbody",{children:e.itemzz.map(n=>y(tte,{item:n},n.id))}),y("tfoot",{children:y("tr",{children:K("td",{colSpan:2,children:["only global servers will be added to `servers` object of OpenApi document.",y("br",{}),"non-global servers are for path / operation."]})})})]})})})}function rte(){const e=Be();return K("table",{className:"table",children:[K("caption",{children:[y("h1",{className:"inline",children:at.Toast}),y("span",{className:"ms-3",children:e.itemzz.length})]}),y("tbody",{children:e.itemzz.slice().reverse().map(t=>y(ite,{item:t},t.id))})]})}function ite(e){const[t,n]=Q.exports.useState(!1);return K("tr",{children:[y("td",{children:e.item.date.toISOString().replace("T"," ").slice(0,19)}),K("td",{children:[y("div",{onClick:()=>n(!0),className:"pointer",children:e.item.text}),t?K("div",{children:[y("div",{children:y("button",{className:"btn btn-outline-primary",type:"button",onClick:()=>n(!1),children:"hide"})}),e.item.detail]}):null]})]})}const Bf=yt(function(e){return{color:yi.white,directoryId:0,fileId:0,keyword:"",hide(){e({directoryId:0,fileId:0})},search(n){e({directoryId:0,fileId:0,keyword:n})},setColor(n){e({directoryId:0,fileId:0,color:n})},showDirectory(n){e({directoryId:n,fileId:0})},showFile(n){e({directoryId:0,fileId:n})}}});function ote(e,t){return{parentId:e,name:t,opened:!0,description:""}}function ate(e,t){return{directoryId:t,name:e,color:yi.white,layer:"",description:"",nameSpacePattern:"",fileNamePattern:e+".php"}}function ste(e){return y("div",{children:e.itemzz.map(t=>y(gM,{item:t},t.id))})}function mM(e){const t=Bf();return K("div",{children:[y("span",{className:"text-primary",children:"|"}),y("button",{onClick:()=>t.showFile(e.item.id),className:"button"+(e.item.id===t.fileId?" active":""),type:"button",children:e.item.name})]})}function lte(e){return y("div",{children:e.itemzz.map(t=>y(mM,{item:t},t.id))})}function gM(e){const t=Ti(),n=to(),r=Bf(),i=Be(),[o,s]=Q.exports.useState([]),[u,h]=Q.exports.useState([]);Q.exports.useEffect(()=>{s(n.itemzz.filter(w=>w.parentId===e.item.id).sort((w,b)=>w.name.localeCompare(b.name)))},[n.itemzz]),Q.exports.useEffect(()=>{h(t.itemzz.filter(w=>w.directoryId===e.item.id).sort((w,b)=>w.name.localeCompare(b.name)))},[t.itemzz]);function m(){Mn("Please input the Directory name","").then(w=>{if(w.isConfirmed){const b=ote(e.item.id,w.value);return Ah().create(b).then(()=>i.showOK())}}).catch(i.showError)}function v(){Mn("Please input the File name","").then(w=>{if(w.isConfirmed){const b=ate(w.value,e.item.id);return Mg().create(b).then(()=>i.showOK())}}).catch(i.showError)}return K("div",{children:[K("div",{className:"hover-group my-1",children:[y("span",{className:"text-warning",children:"|"}),y("button",{onClick:()=>{r.showDirectory(e.item.id),e.item.parentId!==null&&r.directoryId===e.item.id&&Ah().update({...e.item,opened:!e.item.opened}).then(w=>n.setItem({...e.item,...w})).catch(i.showError)},className:"button yellow"+(e.item.id===r.directoryId?" active":""),type:"button",children:e.item.name}),y("span",{className:"text-secondary mx-1",children:o.length+u.length}),K("span",{className:"hover-item",children:[y("button",{onClick:m,className:"button yellow mx-1",type:"button",children:"+"}),y("button",{onClick:v,className:"button",type:"button",children:"+"})]})]}),e.item.opened?K("div",{className:"ms-4",children:[y(ste,{parentId:e.item.id,itemzz:o}),y(lte,{directoryId:e.item.id,itemzz:u})]}):null]})}function ute(e,t){const n=new Map;e.forEach(i=>{n.set(i.id,[])}),e.forEach(i=>{const o=n.get(i.parentId);o&&o.push(i)});const r=[];return vM(n,t,r),r}function vM(e,t,n){const r=e.get(t);r&&r.forEach(i=>{n.push(i),vM(e,i.id,n)})}function cte(){const e=to(),t=Bf(),n=Be(),[r,i]=Q.exports.useState();if(Q.exports.useEffect(()=>{t.directoryId!==0&&i(e.find(t.directoryId))},[t.directoryId,e.itemzz]),t.directoryId===0||r===void 0)return null;function o(s){i(s),Ah().update(s).then(i).catch(n.showError)}return y("table",{className:"table table-borderless td0-tar",children:K("tbody",{children:[K("tr",{children:[y("td",{style:{width:"222px"},children:"id"}),y("td",{children:r.id})]}),K("tr",{children:[y("td",{children:"name"}),y("td",{children:K("div",{className:"btn-group",children:[r.parentId===null?null:y("button",{onClick:()=>Lr("Delete all included directories and files. Continue?").then(s=>{if(s.isConfirmed){t.hide();const u=ute(e.itemzz,r.id).map(h=>h.id);return u.push(r.id),Ah().deleteMany(u).then(()=>n.showOK())}}).catch(n.showError),className:"btn btn-outline-primary danger",type:"button",children:"-"}),y("button",{onClick:()=>Mn("Please input the directory name",r.name).then(s=>{s.isConfirmed&&o({...r,name:s.value})}),className:"btn btn-outline-primary",type:"button",children:r.name})]})})]}),K("tr",{children:[y("td",{children:"description"}),y("td",{children:y("textarea",{className:"form-control",value:r.description,rows:3,onChange:s=>o({...r,description:s.target.value})})})]})]})})}function fte(){const e=Ti(),t=Bf(),n=Be(),[r,i]=Q.exports.useState();if(Q.exports.useEffect(()=>{t.fileId!==0&&i(e.find(t.fileId))},[t.fileId,e.itemzz]),t.fileId===0||r===void 0)return null;function o(s){i(s),Mg().update(s).then(i).catch(n.showError)}return y("table",{className:"table table-borderless td0-tar",children:K("tbody",{children:[K("tr",{children:[y("td",{style:{width:"222px"},children:"id"}),y("td",{children:r.id})]}),K("tr",{children:[y("td",{children:"name"}),y("td",{children:K("div",{className:"btn-group",children:[y("button",{onClick:()=>Lr().then(s=>{if(s.isConfirmed)return t.hide(),Mg().delete(r.id).then(()=>n.showOK())}).catch(n.showError),className:"btn btn-outline-primary danger",type:"button",children:"-"}),y("button",{onClick:()=>Mn("Please input the file name",r.name).then(s=>{s.isConfirmed&&o({...r,name:s.value})}),className:"btn btn-outline-primary",type:"button",children:r.name})]})})]}),K("tr",{children:[y("td",{children:"color"}),y("td",{children:y(Ya,{color:r.color,setColor:s=>o({...r,color:s})})})]}),K("tr",{children:[y("td",{children:"layer"}),y("td",{children:y(Ao,{allowEmpty:!0,className:"wa",itemzz:PY,value:r.layer,change:function(s){o({...r,layer:s})}})})]}),K("tr",{children:[y("td",{children:"nameSpacePattern"}),y("td",{children:y("input",{value:r.nameSpacePattern,onChange:s=>o({...r,nameSpacePattern:s.target.value}),className:"form-control",type:"text"})})]}),K("tr",{children:[y("td",{children:"fileNamePattern"}),y("td",{children:y("input",{value:r.fileNamePattern,onChange:s=>o({...r,fileNamePattern:s.target.value}),className:"form-control",type:"text"})})]}),K("tr",{children:[y("td",{children:"description"}),y("td",{children:y("textarea",{className:"form-control",value:r.description,onChange:s=>o({...r,description:s.target.value})})})]}),K("tr",{children:[y("td",{children:"script"}),y("td",{children:y(ha,{file:al(ol(r,zv)),content:Dn.ScriptCode})})]}),K("tr",{children:[y("td",{children:"template"}),y("td",{children:y(ha,{file:al(ol(r,Bv)),content:""})})]})]})})}function dte(){return Bf(),Q.exports.useState("Property"),y(fte,{})}function hte(){const e=to(),t=Ti(),n=Bf(),[r,i]=Q.exports.useState([]),[o,s]=Q.exports.useState();Q.exports.useEffect(()=>{const m=e.itemzz.find(v=>v.parentId===null);m&&s(m)},[t.itemzz]),Q.exports.useEffect(()=>{i(u())},[n.color,n.keyword]);function u(){return n.keyword===""&&n.color===yi.white?[]:n.color===yi.white?t.itemzz.filter(m=>m.name.includes(n.keyword)):n.keyword===""?t.itemzz.filter(m=>m.color===n.color):t.itemzz.filter(m=>m.color===n.color&&m.name.includes(n.keyword))}function h(){return n.keyword===""&&n.color===yi.white?o?y(gM,{item:o}):null:r.map(m=>y(mM,{item:m},m.id))}return K("div",{className:"row",children:[K("div",{className:"col-5 py-3 h100 overflow-auto",children:[K("div",{className:"d-flex align-items-center justify-content-center",children:[y("h1",{className:"inline",children:at.Tree}),y(SP,{color:n.color,setColor:n.setColor,className:"mx-1"})]}),y("input",{value:n.keyword,onChange:m=>n.search(m.target.value),className:"form-control",type:"text"}),h()]}),K("div",{className:"col-7 py-3 h100 overflow-auto",children:[n.directoryId?y(cte,{}):null,n.fileId?y(dte,{}):null]})]})}function pte(e){const t=Be();return K("ul",{className:"list-unstyled",children:[y("li",{className:"mb-1",children:y("button",{className:"btn btn-outline-primary",type:"button",onClick:function(){Mn("Please input a value","").then(n=>{if(n.isConfirmed&&n.value){if(e.item.enum.includes(n.value)){t.showDanger(`${n.value} exists`);return}const r=[...e.item.enum];r.push(n.value),r.sort(),e.update({...e.item,enum:r})}}).catch(t.showError)},children:"+"})}),e.item.enum.map(n=>y("li",{className:"mb-1",children:K("button",{className:"btn btn-outline-primary danger",type:"button",onClick:function(){const r=[...e.item.enum],i=r.indexOf(n);i!==-1&&(r.splice(i,1),e.update({...e.item,enum:r}))},children:["- ",n]})},n))]})}function mte(e){const t=Be();function n(r){Fg().update(r).catch(t.showError)}return y("table",{className:"table td0-tar",children:K("tbody",{children:[K("tr",{children:[y("td",{children:"color"}),y("td",{children:y(Ya,{color:e.item.color,setColor:r=>n({...e.item,color:r})})})]}),K("tr",{children:[y("td",{children:"type"}),y("td",{children:y(Ao,{className:"wa",itemzz:Z6,value:e.item.type,change:function(r){n({...e.item,type:r})}})})]}),K("tr",{children:[y("td",{children:"default"}),y("td",{children:y(Ao,{className:"wa",itemzz:e.item.enum,value:e.item.default,change:function(r){n({...e.item,default:r})}})})]}),K("tr",{children:[y("td",{children:"enum"}),y("td",{children:y(pte,{item:e.item,update:n})})]})]})})}function gte(e){return{...Mo(e),default:"",enum:[],type:"string"}}const D1=yt(function(e){return Lo(e)});function vte(){const e=D1(),t=Be();return y("div",{className:"row",children:y(zu,{makeCRUD:Fg,useItemPageStore:D1,useItemzzStore:Sp,title:at.Enum,validateName:!1,onCreate:function(n){Fg().create(gte(n)).catch(t.showError)},children:e.item?y(mte,{item:e.item}):void 0})})}const Cx=yt(function(e){return{...Lo(e),tab:"Column"}});function yte(e){const t=Be(),n=no(),r=Cx(),i=n.itemzz.find(s=>s.ownerWuId===e.item.id);if(i===void 0)return y("div",{children:Rr("TypeFormat","")});function o(s){r.setItem(s),Cu().update(s).then(u=>r.setItem(u)).catch(t.showError)}return K("table",{className:"table td0-tar",children:[K("caption",{children:[y("h3",{className:"inline me-3",children:"Map"}),K("div",{className:"form-check form-switch inline",children:[y("input",{checked:e.item.isMap,onChange:function(s){o({...e.item,isMap:s.target.checked})},className:"form-check-input",type:"checkbox",role:"switch",id:"isMapSwitchCheck"}),y("label",{className:"form-check-label",htmlFor:"isMapSwitchCheck",children:"isMap"})]}),y(kr,{className:"ms-3",href:"https://spec.openapis.org/oas/v3.0.3#model-with-map-dictionary-properties",children:"doc"})]}),K("tbody",{children:[K("tr",{children:[y("td",{children:"color"}),y("td",{children:y(Ya,{color:e.item.color,setColor:s=>o({...e.item,color:s})})})]}),K("tr",{children:[y("td",{}),y("td",{children:"Map<string, value type>"})]}),K("tr",{children:[y("td",{children:"value type"}),y("td",{children:y(Ep,{id:e.item.id,item:i,wuId:e.item.id})})]}),K("tr",{children:[y("td",{children:"example"}),y("td",{children:y("textarea",{value:e.item.example,onChange:s=>o({...e.item,example:s.target.value}),className:"form-control",rows:3})})]})]})]})}function wte(e){const t=ml(),[n,r]=Q.exports.useState([]);return Q.exports.useEffect(()=>{r(t.itemzz.filter(function(i){return i.wuId===e.wuId?e.isWu?i.isWu:!0:!1}))},[e.wuId,t.itemzz]),y(_n,{className:"inline wa",itemzz:n,value:0,verb:dt.WuParameter,change:i=>{const o=t.find(i);o!==void 0&&e.add(o)}})}function bte(e){const t=Mr(),n=Be(),r=no(),i=bp(),o=new Set;i.itemzz.forEach(m=>m.wuId===e.tf.wuId?o.add(m.columnId):null);const s=t.itemzz.filter(m=>o.has(m.id));if(s.length===0)return y("tr",{children:y("td",{colSpan:3,children:h()})});function u(m){const v=r.itemzz.find(w=>w.ownerColumnId===m.id);return v===void 0?y("div",{children:Rr("TypeFormat","")}):K("span",{children:[v.type,v.isArray?"[]":""]})}function h(){return K(Qt,{children:[y("div",{children:K("button",{className:"btn btn-outline-danger",type:"button",onClick:function(){Yn().delete(e.tf.id).catch(n.showError)},children:["- ",e.wu.name]})}),y(RL,{item:e.tf,wuId:e.wu.id})]})}return y(Qt,{children:s.map((m,v)=>K("tr",{children:[v===0?y("td",{rowSpan:s.length,children:h()}):null,y("td",{children:m.name}),y("td",{children:u(m)})]},m.id))})}function Ste(e){const t=Be(),n=no(),r=ml(),i=ll(),[o,s]=Q.exports.useState([]);Q.exports.useEffect(()=>{s(n.itemzz.filter(m=>m.ownerWuChildId===e.item.id))},[e.item,n.itemzz]);function u(m,v=1,w=null){const b=dl(m,v,w);return b.ownerWuChildId=e.item.id,Yn().create(b).then(function(N){if(m===dt.Wu)return JC(v,N.id)}).catch(t.showError)}function h(){return o.map(m=>{var w;if(m.type===dt.Wu){const b=i.find(m.wuId);return b===void 0?y("tr",{children:y("td",{colSpan:3,children:Rr("Wu",m.wuId)})}):y(bte,{tf:m,wu:b},m.id)}const v=r.find((w=m.wuParameterId)!=null?w:0);return v===void 0?y("tr",{children:y("td",{colSpan:3,children:Rr("WuParameter","")})}):K("tr",{children:[y("td",{children:K("button",{className:"btn btn-outline-danger",type:"button",onClick:function(){Yn().delete(m.id).catch(t.showError)},children:["- ",v.name]})}),y("td",{}),y("td",{})]},m.id)})}return y("div",{children:K("table",{className:"table",children:[K("caption",{children:[y("h3",{className:"inline me-3",children:"Composition"}),y(Ao,{className:"inline wa",itemzz:Lk,value:e.item.type,change:function(m){Cu().update({...e.item,type:m}).catch(t.showError)}}),y(kr,{className:"ms-3",href:"https://spec.openapis.org/oas/v3.0.3#models-with-polymorphism-support",children:"doc"})]}),y("thead",{children:K("tr",{children:[y("th",{}),y("th",{children:"column"}),y("th",{children:"type"})]})}),y("tbody",{children:h()}),K("tfoot",{children:[K("tr",{children:[y("td",{children:y(_n,{className:"form-select",itemzz:i.itemzz,value:0,verb:"Wu",change:m=>{const v=i.find(m);if(v!==void 0){if(v.id===e.item.id){t.showDanger("Including self will cause circular reference error");return}u(dt.Wu,v.id)}}})}),y("td",{children:y(wte,{add:m=>u(dt.WuParameter,1,m.id),isWu:!0,wuId:e.item.id})}),y("td",{})]}),y("tr",{children:y("td",{colSpan:3,children:y("span",{className:"text-danger",children:"Be careful of circular reference"})})})]})]})})}function Ete(e,t){return{wuId:e,name:t,description:"",isWu:!1}}function Cte(e){const t=Be();function n(r){Ug().update(r).catch(t.showError)}return K("tr",{children:[y("td",{children:K("div",{className:"btn-group",children:[y("span",{onClick:()=>Lr().then(r=>{if(r.isConfirmed)return Ug().delete(e.item.id)}).catch(t.showError),className:"btn btn-outline-primary danger",children:"-"}),y("span",{onClick:()=>ei("Please input the Parameter name",e.item.name).then(r=>{if(r.isConfirmed)return n({...e.item,name:r.value})}).catch(t.showError),className:"btn btn-outline-primary",children:e.item.name})]})}),y("td",{children:K("div",{className:"form-check form-switch",children:[y("input",{checked:e.item.isWu,onChange:r=>n({...e.item,isWu:r.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"isWuSwitchCheck"+e.item.id}),y("label",{className:"form-check-label",htmlFor:"isWuSwitchCheck"+e.item.id})]})}),y("td",{children:y("input",{onChange:r=>n({...e.item,description:r.target.value}),type:"text",placeholder:"description",className:"form-control"})})]})}function xte(e){const t=Be(),n=ml(),[r,i]=Q.exports.useState([]);return Q.exports.useEffect(()=>{i(n.itemzz.filter(o=>o.wuId===e.item.id))},[e.item,n.itemzz]),K("table",{className:"table",children:[K("caption",{children:[y("h3",{className:"inline",children:"WuParameter"}),y("span",{onClick:()=>{ei("Please input the WuParameter name","").then(o=>{if(o.isConfirmed&&o.value)return Ug().create(Ete(e.item.id,o.value))}).catch(t.showError)},className:"btn btn-outline-primary mx-1",children:"+"})]}),y("thead",{children:K("tr",{children:[y("td",{children:"name"}),y("td",{children:"isWu"}),y("td",{children:"description"})]})}),y("tbody",{children:r.map(o=>y(Cte,{item:o},o.id))})]})}function Nte(){const e=Cx();if(e.item===void 0)return null;const t=["Column","Composition","Map","WuParameter"];return K(Qt,{children:[y(_f,{tab:e.tab,tabzz:t,setTab:e.setTab}),e.tab===t[0]?y(QC,{item:e.item}):null,e.tab===t[1]?y(Ste,{item:e.item}):null,e.tab===t[2]?y(yte,{item:e.item}):null,e.tab===t[3]?y(xte,{item:e.item}):null]})}function Ite(){const e=fl(),t=Ii(),n=Be(),r=ll();return K("div",{className:"row",children:[y(zu,{makeCRUD:Cu,onCreateClick:function(){e.openCB("Please select a Entity",t.itemzz.map(i=>i.name),function(i){const o=t.findByName(i);if(o){let s=o.name;return r.findByName(s)&&(s+="-"+new Date().getTime()),Cu().create(OL(s,o.id)).then(u=>{const h=dl();return h.ownerWuId=u.id,Yn().create(h)}).catch(n.showError)}})},useItemPageStore:Cx,useItemzzStore:ll,title:at.Wu,children:y(Nte,{})}),y(Xv,{})]})}function Tte(){const e=Pv();Q.exports.useEffect(()=>{const r=new URLSearchParams(window.location.search).get("ide");r&&e.setIde(r)},[]);function t(n){switch(n){case at.Collection:return y(xq,{});case at.Doctrine:return y(SY,{});case at.Diagram:return y(gY,{});case at.Entity:return y(SQ,{});case at.Example:return y(xQ,{});case at.Flow:return y(fZ,{});case at.Info:return y(Cee,{});case at.Migration:return y(zee,{});case at.OpenApi:return y(qee,{});case at.ParameterInHeader:case at.ParameterInCookie:case at.ParameterInPath:case at.ParameterInQuery:return y(Hee,{page:n});case at.Request:return y(Qee,{});case at.Response:return y(ete,{});case at.Server:return y(nte,{});case at.Enum:return y(vte,{});case at.Tree:return y(hte,{});case at.Wu:return y(Ite,{});case at.Toast:return y(rte,{})}return y(yee,{})}return K(Qt,{children:[y(Gee,{}),K("div",{className:"container-fluid",children:[y(rK,{children:dK.filter(n=>n.visible).map(n=>y($R,{path:n.path,element:t(n.name)},n.path))}),y(Yee,{})]})]})}Rm.configure({autoescape:!1});Du.setAppElement("#root");TR.render(y(Yr.StrictMode,{children:y(aK,{children:y(Tte,{})})}),document.getElementById("root"));
