var z$=Object.defineProperty;var B$=(e,t,n)=>t in e?z$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var mi=(e,t,n)=>(B$(e,typeof t!="symbol"?t+"":t,n),n);function tA(e,t){return t.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in e)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}const F$=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}};F$();var kn=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function nA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function U$(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),t}var rA={exports:{}};/*! Browser bundle of nunjucks 3.2.4  */(function(e,t){(function(r,i){e.exports=i()})(typeof self!="undefined"?self:kn,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,u){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:u})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=11)}([function(n,p,i){var o=Array.prototype,s=Object.prototype,u={"&":"&amp;",'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","\\":"&#92;"},h=/[&"'<>\\]/g,p=n.exports={};function v(J,ie){return s.hasOwnProperty.call(J,ie)}p.hasOwnProp=v;function y(J){return u[J]}function b(J,ie,oe){if(oe.Update||(oe=new p.TemplateError(oe)),oe.Update(J),!ie){var ce=oe;oe=new Error(ce.message),oe.name=ce.name}return oe}p._prettifyError=b;function I(J,ie,oe){var ce,ye;J instanceof Error&&(ye=J,J=ye.name+": "+ye.message),Object.setPrototypeOf?(ce=new Error(J),Object.setPrototypeOf(ce,I.prototype)):(ce=this,Object.defineProperty(ce,"message",{enumerable:!1,writable:!0,value:J})),Object.defineProperty(ce,"name",{value:"Template render error"}),Error.captureStackTrace&&Error.captureStackTrace(ce,this.constructor);var ge;if(ye){var fe=Object.getOwnPropertyDescriptor(ye,"stack");ge=fe&&(fe.get||function(){return fe.value}),ge||(ge=function(){return ye.stack})}else{var ze=new Error(J).stack;ge=function(){return ze}}return Object.defineProperty(ce,"stack",{get:function(){return ge.call(ce)}}),Object.defineProperty(ce,"cause",{value:ye}),ce.lineno=ie,ce.colno=oe,ce.firstUpdate=!0,ce.Update=function(Ae){var _e="("+(Ae||"unknown path")+")";return this.firstUpdate&&(this.lineno&&this.colno?_e+=" [Line "+this.lineno+", Column "+this.colno+"]":this.lineno&&(_e+=" [Line "+this.lineno+"]")),_e+=`
 `,this.firstUpdate&&(_e+=" "),this.message=_e+(this.message||""),this.firstUpdate=!1,this},ce}Object.setPrototypeOf?Object.setPrototypeOf(I.prototype,Error.prototype):I.prototype=Object.create(Error.prototype,{constructor:{value:I}}),p.TemplateError=I;function O(J){return J.replace(h,y)}p.escape=O;function k(J){return s.toString.call(J)==="[object Function]"}p.isFunction=k;function E(J){return s.toString.call(J)==="[object Array]"}p.isArray=E;function S(J){return s.toString.call(J)==="[object String]"}p.isString=S;function N(J){return s.toString.call(J)==="[object Object]"}p.isObject=N;function _(J){return J?typeof J=="string"?J.split("."):[J]:[]}function T(J){var ie=_(J);return function(ce){for(var ye=ce,ge=0;ge<ie.length;ge++){var fe=ie[ge];if(v(ye,fe))ye=ye[fe];else return}return ye}}p.getAttrGetter=T;function M(J,ie,oe){for(var ce={},ye=k(ie)?ie:T(ie),ge=0;ge<J.length;ge++){var fe=J[ge],ze=ye(fe,ge);if(ze===void 0&&oe===!0)throw new TypeError('groupby: attribute "'+ie+'" resolved to undefined');(ce[ze]||(ce[ze]=[])).push(fe)}return ce}p.groupBy=M;function R(J){return Array.prototype.slice.call(J)}p.toArray=R;function B(J){var ie=[];if(!J)return ie;for(var oe=J.length,ce=R(arguments).slice(1),ye=-1;++ye<oe;)te(ce,J[ye])===-1&&ie.push(J[ye]);return ie}p.without=B;function U(J,ie){for(var oe="",ce=0;ce<ie;ce++)oe+=J;return oe}p.repeat=U;function F(J,ie,oe){if(J!=null){if(o.forEach&&J.forEach===o.forEach)J.forEach(ie,oe);else if(J.length===+J.length)for(var ce=0,ye=J.length;ce<ye;ce++)ie.call(oe,J[ce],ce,J)}}p.each=F;function z(J,ie){var oe=[];if(J==null)return oe;if(o.map&&J.map===o.map)return J.map(ie);for(var ce=0;ce<J.length;ce++)oe[oe.length]=ie(J[ce],ce);return J.length===+J.length&&(oe.length=J.length),oe}p.map=z;function $(J,ie,oe){var ce=-1;function ye(){ce++,ce<J.length?ie(J[ce],ce,ye,oe):oe()}ye()}p.asyncIter=$;function G(J,ie,oe){var ce=q(J||{}),ye=ce.length,ge=-1;function fe(){ge++;var ze=ce[ge];ge<ye?ie(ze,J[ze],ge,ye,fe):oe()}fe()}p.asyncFor=G;function te(J,ie,oe){return Array.prototype.indexOf.call(J||[],ie,oe)}p.indexOf=te;function q(J){var ie=[];for(var oe in J)v(J,oe)&&ie.push(oe);return ie}p.keys=q;function re(J){return q(J).map(function(ie){return[ie,J[ie]]})}p._entries=re;function ne(J){return q(J).map(function(ie){return J[ie]})}p._values=ne;function Q(J,ie){return J=J||{},q(ie).forEach(function(oe){J[oe]=ie[oe]}),J}p._assign=p.extend=Q;function X(J,ie){if(E(ie)||S(ie))return ie.indexOf(J)!==-1;if(N(ie))return J in ie;throw new Error('Cannot use "in" operator to search for "'+J+'" in unexpected types.')}p.inOperator=X},function(n,r,i){function o(S,N){for(var _=0;_<N.length;_++){var T=N[_];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(S,u(T.key),T)}}function s(S,N,_){return N&&o(S.prototype,N),_&&o(S,_),Object.defineProperty(S,"prototype",{writable:!1}),S}function u(S){var N=h(S,"string");return typeof N=="symbol"?N:String(N)}function h(S,N){if(typeof S!="object"||S===null)return S;var _=S[Symbol.toPrimitive];if(_!==void 0){var T=_.call(S,N||"default");if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(S)}function p(S,N){S.prototype=Object.create(N.prototype),S.prototype.constructor=S,v(S,N)}function v(S,N){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,M){return T.__proto__=M,T},v(S,N)}var y=i(16),b=i(0);function I(S,N){return typeof S!="function"||typeof N!="function"?N:function(){var T=this.parent;this.parent=S;var M=N.apply(this,arguments);return this.parent=T,M}}function O(S,N,_){_=_||{},b.keys(_).forEach(function(M){_[M]=I(S.prototype[M],_[M])});var T=function(M){p(R,M);function R(){return M.apply(this,arguments)||this}return s(R,[{key:"typename",get:function(){return N}}]),R}(S);return b._assign(T.prototype,_),T}var k=function(){function S(){this.init.apply(this,arguments)}var N=S.prototype;return N.init=function(){},S.extend=function(T,M){return typeof T=="object"&&(M=T,T="anonymous"),O(this,T,M)},s(S,[{key:"typename",get:function(){return this.constructor.name}}]),S}(),E=function(S){p(N,S);function N(){var T,M;return M=S.call(this)||this,(T=M).init.apply(T,arguments),M}var _=N.prototype;return _.init=function(){},N.extend=function(M,R){return typeof M=="object"&&(R=M,M="anonymous"),O(this,M,R)},s(N,[{key:"typename",get:function(){return this.constructor.name}}]),N}(y);n.exports={Obj:k,EmitterObj:E}},function(n,r,i){var o=i(0),s=Array.from,u=typeof Symbol=="function"&&Symbol.iterator&&typeof s=="function",h=function(){function z(G,te){this.variables=Object.create(null),this.parent=G,this.topLevel=!1,this.isolateWrites=te}var $=z.prototype;return $.set=function(te,q,re){var ne=te.split("."),Q=this.variables,X=this;if(re&&(X=this.resolve(ne[0],!0))){X.set(te,q);return}for(var J=0;J<ne.length-1;J++){var ie=ne[J];Q[ie]||(Q[ie]={}),Q=Q[ie]}Q[ne[ne.length-1]]=q},$.get=function(te){var q=this.variables[te];return q!==void 0?q:null},$.lookup=function(te){var q=this.parent,re=this.variables[te];return re!==void 0?re:q&&q.lookup(te)},$.resolve=function(te,q){var re=q&&this.isolateWrites?void 0:this.parent,ne=this.variables[te];return ne!==void 0?this:re&&re.resolve(te)},$.push=function(te){return new z(this,te)},$.pop=function(){return this.parent},z}();function p(z,$,G){return function(){for(var q=arguments.length,re=new Array(q),ne=0;ne<q;ne++)re[ne]=arguments[ne];var Q=I(re),X,J=b(re);if(Q>z.length)X=re.slice(0,z.length),re.slice(X.length,Q).forEach(function(ce,ye){ye<$.length&&(J[$[ye]]=ce)}),X.push(J);else if(Q<z.length){X=re.slice(0,Q);for(var ie=Q;ie<z.length;ie++){var oe=z[ie];X.push(J[oe]),delete J[oe]}X.push(J)}else X=re;return G.apply(this,X)}}function v(z){return z.__keywords=!0,z}function y(z){return z&&Object.prototype.hasOwnProperty.call(z,"__keywords")}function b(z){var $=z.length;if($){var G=z[$-1];if(y(G))return G}return{}}function I(z){var $=z.length;if($===0)return 0;var G=z[$-1];return y(G)?$-1:$}function O(z){if(typeof z!="string")return z;this.val=z,this.length=z.length}O.prototype=Object.create(String.prototype,{length:{writable:!0,configurable:!0,value:0}}),O.prototype.valueOf=function(){return this.val},O.prototype.toString=function(){return this.val};function k(z,$){return z instanceof O?new O($):$.toString()}function E(z){var $=typeof z;return $==="string"?new O(z):$!=="function"?z:function(te){var q=z.apply(this,arguments);return typeof q=="string"?new O(q):q}}function S(z,$){return z=z!=null?z:"",$&&!(z instanceof O)&&(z=o.escape(z.toString())),z}function N(z,$,G){if(z==null)throw new o.TemplateError("attempted to output null or undefined value",$+1,G+1);return z}function _(z,$){if(z!=null)return typeof z[$]=="function"?function(){for(var G=arguments.length,te=new Array(G),q=0;q<G;q++)te[q]=arguments[q];return z[$].apply(z,te)}:z[$]}function T(z,$,G,te){if(z){if(typeof z!="function")throw new Error("Unable to call `"+$+"`, which is not a function")}else throw new Error("Unable to call `"+$+"`, which is undefined or falsey");return z.apply(G,te)}function M(z,$,G){var te=$.lookup(G);return te!==void 0?te:z.lookup(G)}function R(z,$,G){return z.lineno?z:new o.TemplateError(z,$,G)}function B(z,$,G,te){if(o.isArray(z)){var q=z.length;o.asyncIter(z,function(ne,Q,X){switch($){case 1:G(ne,Q,q,X);break;case 2:G(ne[0],ne[1],Q,q,X);break;case 3:G(ne[0],ne[1],ne[2],Q,q,X);break;default:ne.push(Q,q,X),G.apply(this,ne)}},te)}else o.asyncFor(z,function(ne,Q,X,J,ie){G(ne,Q,X,J,ie)},te)}function U(z,$,G,te){var q=0,re,ne;function Q(ye,ge){q++,ne[ye]=ge,q===re&&te(null,ne.join(""))}if(o.isArray(z))if(re=z.length,ne=new Array(re),re===0)te(null,"");else for(var X=0;X<z.length;X++){var J=z[X];switch($){case 1:G(J,X,re,Q);break;case 2:G(J[0],J[1],X,re,Q);break;case 3:G(J[0],J[1],J[2],X,re,Q);break;default:J.push(X,re,Q),G.apply(this,J)}}else{var ie=o.keys(z||{});if(re=ie.length,ne=new Array(re),re===0)te(null,"");else for(var oe=0;oe<ie.length;oe++){var ce=ie[oe];G(ce,z[ce],oe,re,Q)}}}function F(z){return typeof z!="object"||z===null||o.isArray(z)?z:u&&Symbol.iterator in z?s(z):z}n.exports={Frame:h,makeMacro:p,makeKeywordArgs:v,numArgs:I,suppressValue:S,ensureDefined:N,memberLookup:_,contextOrFrameLookup:M,callWrap:T,handleError:R,isArray:o.isArray,keys:o.keys,SafeString:O,copySafeness:k,markSafe:E,asyncEach:B,asyncAll:U,inOperator:o.inOperator,fromIterator:F}},function(n,r,i){function o($e,Ye){for(var st=0;st<Ye.length;st++){var St=Ye[st];St.enumerable=St.enumerable||!1,St.configurable=!0,"value"in St&&(St.writable=!0),Object.defineProperty($e,u(St.key),St)}}function s($e,Ye,st){return Ye&&o($e.prototype,Ye),st&&o($e,st),Object.defineProperty($e,"prototype",{writable:!1}),$e}function u($e){var Ye=h($e,"string");return typeof Ye=="symbol"?Ye:String(Ye)}function h($e,Ye){if(typeof $e!="object"||$e===null)return $e;var st=$e[Symbol.toPrimitive];if(st!==void 0){var St=st.call($e,Ye||"default");if(typeof St!="object")return St;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ye==="string"?String:Number)($e)}function p($e,Ye){$e.prototype=Object.create(Ye.prototype),$e.prototype.constructor=$e,v($e,Ye)}function v($e,Ye){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(St,xt){return St.__proto__=xt,St},v($e,Ye)}var y=i(1),b=y.Obj;function I($e,Ye,st){$e instanceof Ye&&st.push($e),$e instanceof O&&$e.findAll(Ye,st)}var O=function($e){p(Ye,$e);function Ye(){return $e.apply(this,arguments)||this}var st=Ye.prototype;return st.init=function(xt,Ft){for(var sn=arguments,$n=this,Br=arguments.length,Cr=new Array(Br>2?Br-2:0),Fr=2;Fr<Br;Fr++)Cr[Fr-2]=arguments[Fr];this.lineno=xt,this.colno=Ft,this.fields.forEach(function(wa,Wo){var Ue=sn[Wo+2];Ue===void 0&&(Ue=null),$n[wa]=Ue})},st.findAll=function(xt,Ft){var sn=this;return Ft=Ft||[],this instanceof E?this.children.forEach(function($n){return I($n,xt,Ft)}):this.fields.forEach(function($n){return I(sn[$n],xt,Ft)}),Ft},st.iterFields=function(xt){var Ft=this;this.fields.forEach(function(sn){xt(Ft[sn],sn)})},Ye}(b),k=function($e){p(Ye,$e);function Ye(){return $e.apply(this,arguments)||this}return s(Ye,[{key:"typename",get:function(){return"Value"}},{key:"fields",get:function(){return["value"]}}]),Ye}(O),E=function($e){p(Ye,$e);function Ye(){return $e.apply(this,arguments)||this}var st=Ye.prototype;return st.init=function(xt,Ft,sn){$e.prototype.init.call(this,xt,Ft,sn||[])},st.addChild=function(xt){this.children.push(xt)},s(Ye,[{key:"typename",get:function(){return"NodeList"}},{key:"fields",get:function(){return["children"]}}]),Ye}(O),S=E.extend("Root"),N=k.extend("Literal"),_=k.extend("Symbol"),T=E.extend("Group"),M=E.extend("Array"),R=O.extend("Pair",{fields:["key","value"]}),B=E.extend("Dict"),U=O.extend("LookupVal",{fields:["target","val"]}),F=O.extend("If",{fields:["cond","body","else_"]}),z=F.extend("IfAsync"),$=O.extend("InlineIf",{fields:["cond","body","else_"]}),G=O.extend("For",{fields:["arr","name","body","else_"]}),te=G.extend("AsyncEach"),q=G.extend("AsyncAll"),re=O.extend("Macro",{fields:["name","args","body"]}),ne=re.extend("Caller"),Q=O.extend("Import",{fields:["template","target","withContext"]}),X=function($e){p(Ye,$e);function Ye(){return $e.apply(this,arguments)||this}var st=Ye.prototype;return st.init=function(xt,Ft,sn,$n,Br){$e.prototype.init.call(this,xt,Ft,sn,$n||new E,Br)},s(Ye,[{key:"typename",get:function(){return"FromImport"}},{key:"fields",get:function(){return["template","names","withContext"]}}]),Ye}(O),J=O.extend("FunCall",{fields:["name","args"]}),ie=J.extend("Filter"),oe=ie.extend("FilterAsync",{fields:["name","args","symbol"]}),ce=B.extend("KeywordArgs"),ye=O.extend("Block",{fields:["name","body"]}),ge=O.extend("Super",{fields:["blockName","symbol"]}),fe=O.extend("TemplateRef",{fields:["template"]}),ze=fe.extend("Extends"),Ke=O.extend("Include",{fields:["template","ignoreMissing"]}),Ae=O.extend("Set",{fields:["targets","value"]}),_e=O.extend("Switch",{fields:["expr","cases","default"]}),be=O.extend("Case",{fields:["cond","body"]}),Le=E.extend("Output"),Re=O.extend("Capture",{fields:["body"]}),rt=N.extend("TemplateData"),at=O.extend("UnaryOp",{fields:["target"]}),yt=O.extend("BinOp",{fields:["left","right"]}),He=yt.extend("In"),le=yt.extend("Is"),ve=yt.extend("Or"),Pe=yt.extend("And"),Ie=at.extend("Not"),Be=yt.extend("Add"),je=yt.extend("Concat"),ht=yt.extend("Sub"),Qe=yt.extend("Mul"),It=yt.extend("Div"),cn=yt.extend("FloorDiv"),ut=yt.extend("Mod"),tt=yt.extend("Pow"),vn=at.extend("Neg"),hr=at.extend("Pos"),Ge=O.extend("Compare",{fields:["expr","ops"]}),hn=O.extend("CompareOperand",{fields:["expr","type"]}),pn=O.extend("CallExtension",{init:function(Ye,st,St,xt){this.parent(),this.extName=Ye.__name||Ye,this.prop=st,this.args=St||new E,this.contentArgs=xt||[],this.autoescape=Ye.autoescape},fields:["extName","prop","args","contentArgs"]}),Un=pn.extend("CallExtensionAsync");function Nn($e,Ye,st){var St=$e.split(`
`);St.forEach(function(xt,Ft){xt&&(st&&Ft>0||!st)&&process.stdout.write(" ".repeat(Ye));var sn=Ft===St.length-1?"":`
`;process.stdout.write(""+xt+sn)})}function Pn($e,Ye){if(Ye=Ye||0,Nn($e.typename+": ",Ye),$e instanceof E)Nn(`
`),$e.children.forEach(function(xt){Pn(xt,Ye+2)});else if($e instanceof pn)Nn($e.extName+"."+$e.prop+`
`),$e.args&&Pn($e.args,Ye+2),$e.contentArgs&&$e.contentArgs.forEach(function(xt){Pn(xt,Ye+2)});else{var st=[],St=null;$e.iterFields(function(xt,Ft){xt instanceof O?st.push([Ft,xt]):(St=St||{},St[Ft]=xt)}),St?Nn(JSON.stringify(St,null,2)+`
`,null,!0):Nn(`
`),st.forEach(function(xt){var Ft=xt[0],sn=xt[1];Nn("["+Ft+"] =>",Ye+2),Pn(sn,Ye+4)})}}n.exports={Node:O,Root:S,NodeList:E,Value:k,Literal:N,Symbol:_,Group:T,Array:M,Pair:R,Dict:B,Output:Le,Capture:Re,TemplateData:rt,If:F,IfAsync:z,InlineIf:$,For:G,AsyncEach:te,AsyncAll:q,Macro:re,Caller:ne,Import:Q,FromImport:X,FunCall:J,Filter:ie,FilterAsync:oe,KeywordArgs:ce,Block:ye,Super:ge,Extends:ze,Include:Ke,Set:Ae,Switch:_e,Case:be,LookupVal:U,BinOp:yt,In:He,Is:le,Or:ve,And:Pe,Not:Ie,Add:Be,Concat:je,Sub:ht,Mul:Qe,Div:It,FloorDiv:cn,Mod:ut,Pow:tt,Neg:vn,Pos:hr,Compare:Ge,CompareOperand:hn,CallExtension:pn,CallExtensionAsync:Un,printNodes:Pn}},function(n,r){},function(n,r,i){function o(N,_){N.prototype=Object.create(_.prototype),N.prototype.constructor=N,s(N,_)}function s(N,_){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(M,R){return M.__proto__=R,M},s(N,_)}var u=i(8),h=i(17),p=i(3),v=i(0),y=v.TemplateError,b=i(2),I=b.Frame,O=i(1),k=O.Obj,E={"==":"==","===":"===","!=":"!=","!==":"!==","<":"<",">":">","<=":"<=",">=":">="},S=function(N){o(_,N);function _(){return N.apply(this,arguments)||this}var T=_.prototype;return T.init=function(R,B){this.templateName=R,this.codebuf=[],this.lastId=0,this.buffer=null,this.bufferStack=[],this._scopeClosers="",this.inBlock=!1,this.throwOnUndefined=B},T.fail=function(R,B,U){throw B!==void 0&&(B+=1),U!==void 0&&(U+=1),new y(R,B,U)},T._pushBuffer=function(){var R=this._tmpid();return this.bufferStack.push(this.buffer),this.buffer=R,this._emit("var "+this.buffer+' = "";'),R},T._popBuffer=function(){this.buffer=this.bufferStack.pop()},T._emit=function(R){this.codebuf.push(R)},T._emitLine=function(R){this._emit(R+`
`)},T._emitLines=function(){for(var R=this,B=arguments.length,U=new Array(B),F=0;F<B;F++)U[F]=arguments[F];U.forEach(function(z){return R._emitLine(z)})},T._emitFuncBegin=function(R,B){this.buffer="output",this._scopeClosers="",this._emitLine("function "+B+"(env, context, frame, runtime, cb) {"),this._emitLine("var lineno = "+R.lineno+";"),this._emitLine("var colno = "+R.colno+";"),this._emitLine("var "+this.buffer+' = "";'),this._emitLine("try {")},T._emitFuncEnd=function(R){R||this._emitLine("cb(null, "+this.buffer+");"),this._closeScopeLevels(),this._emitLine("} catch (e) {"),this._emitLine("  cb(runtime.handleError(e, lineno, colno));"),this._emitLine("}"),this._emitLine("}"),this.buffer=null},T._addScopeLevel=function(){this._scopeClosers+="})"},T._closeScopeLevels=function(){this._emitLine(this._scopeClosers+";"),this._scopeClosers=""},T._withScopedSyntax=function(R){var B=this._scopeClosers;this._scopeClosers="",R.call(this),this._closeScopeLevels(),this._scopeClosers=B},T._makeCallback=function(R){var B=this._tmpid();return"function("+B+(R?","+R:"")+`) {
if(`+B+") { cb("+B+"); return; }"},T._tmpid=function(){return this.lastId++,"t_"+this.lastId},T._templateName=function(){return this.templateName==null?"undefined":JSON.stringify(this.templateName)},T._compileChildren=function(R,B){var U=this;R.children.forEach(function(F){U.compile(F,B)})},T._compileAggregate=function(R,B,U,F){var z=this;U&&this._emit(U),R.children.forEach(function($,G){G>0&&z._emit(","),z.compile($,B)}),F&&this._emit(F)},T._compileExpression=function(R,B){this.assertType(R,p.Literal,p.Symbol,p.Group,p.Array,p.Dict,p.FunCall,p.Caller,p.Filter,p.LookupVal,p.Compare,p.InlineIf,p.In,p.Is,p.And,p.Or,p.Not,p.Add,p.Concat,p.Sub,p.Mul,p.Div,p.FloorDiv,p.Mod,p.Pow,p.Neg,p.Pos,p.Compare,p.NodeList),this.compile(R,B)},T.assertType=function(R){for(var B=arguments.length,U=new Array(B>1?B-1:0),F=1;F<B;F++)U[F-1]=arguments[F];U.some(function(z){return R instanceof z})||this.fail("assertType: invalid type: "+R.typename,R.lineno,R.colno)},T.compileCallExtension=function(R,B,U){var F=this,z=R.args,$=R.contentArgs,G=typeof R.autoescape=="boolean"?R.autoescape:!0;if(U||this._emit(this.buffer+" += runtime.suppressValue("),this._emit('env.getExtension("'+R.extName+'")["'+R.prop+'"]('),this._emit("context"),(z||$)&&this._emit(","),z&&(z instanceof p.NodeList||this.fail("compileCallExtension: arguments must be a NodeList, use `parser.parseSignature`"),z.children.forEach(function(q,re){F._compileExpression(q,B),(re!==z.children.length-1||$.length)&&F._emit(",")})),$.length&&$.forEach(function(q,re){if(re>0&&F._emit(","),q){F._emitLine("function(cb) {"),F._emitLine("if(!cb) { cb = function(err) { if(err) { throw err; }}}");var ne=F._pushBuffer();F._withScopedSyntax(function(){F.compile(q,B),F._emitLine("cb(null, "+ne+");")}),F._popBuffer(),F._emitLine("return "+ne+";"),F._emitLine("}")}else F._emit("null")}),U){var te=this._tmpid();this._emitLine(", "+this._makeCallback(te)),this._emitLine(this.buffer+" += runtime.suppressValue("+te+", "+G+" && env.opts.autoescape);"),this._addScopeLevel()}else this._emit(")"),this._emit(", "+G+` && env.opts.autoescape);
`)},T.compileCallExtensionAsync=function(R,B){this.compileCallExtension(R,B,!0)},T.compileNodeList=function(R,B){this._compileChildren(R,B)},T.compileLiteral=function(R){if(typeof R.value=="string"){var B=R.value.replace(/\\/g,"\\\\");B=B.replace(/"/g,'\\"'),B=B.replace(/\n/g,"\\n"),B=B.replace(/\r/g,"\\r"),B=B.replace(/\t/g,"\\t"),B=B.replace(/\u2028/g,"\\u2028"),this._emit('"'+B+'"')}else R.value===null?this._emit("null"):this._emit(R.value.toString())},T.compileSymbol=function(R,B){var U=R.value,F=B.lookup(U);F?this._emit(F):this._emit('runtime.contextOrFrameLookup(context, frame, "'+U+'")')},T.compileGroup=function(R,B){this._compileAggregate(R,B,"(",")")},T.compileArray=function(R,B){this._compileAggregate(R,B,"[","]")},T.compileDict=function(R,B){this._compileAggregate(R,B,"{","}")},T.compilePair=function(R,B){var U=R.key,F=R.value;U instanceof p.Symbol?U=new p.Literal(U.lineno,U.colno,U.value):U instanceof p.Literal&&typeof U.value=="string"||this.fail("compilePair: Dict keys must be strings or names",U.lineno,U.colno),this.compile(U,B),this._emit(": "),this._compileExpression(F,B)},T.compileInlineIf=function(R,B){this._emit("("),this.compile(R.cond,B),this._emit("?"),this.compile(R.body,B),this._emit(":"),R.else_!==null?this.compile(R.else_,B):this._emit('""'),this._emit(")")},T.compileIn=function(R,B){this._emit("runtime.inOperator("),this.compile(R.left,B),this._emit(","),this.compile(R.right,B),this._emit(")")},T.compileIs=function(R,B){var U=R.right.name?R.right.name.value:R.right.value;this._emit('env.getTest("'+U+'").call(context, '),this.compile(R.left,B),R.right.args&&(this._emit(","),this.compile(R.right.args,B)),this._emit(") === true")},T._binOpEmitter=function(R,B,U){this.compile(R.left,B),this._emit(U),this.compile(R.right,B)},T.compileOr=function(R,B){return this._binOpEmitter(R,B," || ")},T.compileAnd=function(R,B){return this._binOpEmitter(R,B," && ")},T.compileAdd=function(R,B){return this._binOpEmitter(R,B," + ")},T.compileConcat=function(R,B){return this._binOpEmitter(R,B,' + "" + ')},T.compileSub=function(R,B){return this._binOpEmitter(R,B," - ")},T.compileMul=function(R,B){return this._binOpEmitter(R,B," * ")},T.compileDiv=function(R,B){return this._binOpEmitter(R,B," / ")},T.compileMod=function(R,B){return this._binOpEmitter(R,B," % ")},T.compileNot=function(R,B){this._emit("!"),this.compile(R.target,B)},T.compileFloorDiv=function(R,B){this._emit("Math.floor("),this.compile(R.left,B),this._emit(" / "),this.compile(R.right,B),this._emit(")")},T.compilePow=function(R,B){this._emit("Math.pow("),this.compile(R.left,B),this._emit(", "),this.compile(R.right,B),this._emit(")")},T.compileNeg=function(R,B){this._emit("-"),this.compile(R.target,B)},T.compilePos=function(R,B){this._emit("+"),this.compile(R.target,B)},T.compileCompare=function(R,B){var U=this;this.compile(R.expr,B),R.ops.forEach(function(F){U._emit(" "+E[F.type]+" "),U.compile(F.expr,B)})},T.compileLookupVal=function(R,B){this._emit("runtime.memberLookup(("),this._compileExpression(R.target,B),this._emit("),"),this._compileExpression(R.val,B),this._emit(")")},T._getNodeName=function(R){switch(R.typename){case"Symbol":return R.value;case"FunCall":return"the return value of ("+this._getNodeName(R.name)+")";case"LookupVal":return this._getNodeName(R.target)+'["'+this._getNodeName(R.val)+'"]';case"Literal":return R.value.toString();default:return"--expression--"}},T.compileFunCall=function(R,B){this._emit("(lineno = "+R.lineno+", colno = "+R.colno+", "),this._emit("runtime.callWrap("),this._compileExpression(R.name,B),this._emit(', "'+this._getNodeName(R.name).replace(/"/g,'\\"')+'", context, '),this._compileAggregate(R.args,B,"[","])"),this._emit(")")},T.compileFilter=function(R,B){var U=R.name;this.assertType(U,p.Symbol),this._emit('env.getFilter("'+U.value+'").call(context, '),this._compileAggregate(R.args,B),this._emit(")")},T.compileFilterAsync=function(R,B){var U=R.name,F=R.symbol.value;this.assertType(U,p.Symbol),B.set(F,F),this._emit('env.getFilter("'+U.value+'").call(context, '),this._compileAggregate(R.args,B),this._emitLine(", "+this._makeCallback(F)),this._addScopeLevel()},T.compileKeywordArgs=function(R,B){this._emit("runtime.makeKeywordArgs("),this.compileDict(R,B),this._emit(")")},T.compileSet=function(R,B){var U=this,F=[];R.targets.forEach(function(z){var $=z.value,G=B.lookup($);G==null&&(G=U._tmpid(),U._emitLine("var "+G+";")),F.push(G)}),R.value?(this._emit(F.join(" = ")+" = "),this._compileExpression(R.value,B),this._emitLine(";")):(this._emit(F.join(" = ")+" = "),this.compile(R.body,B),this._emitLine(";")),R.targets.forEach(function(z,$){var G=F[$],te=z.value;U._emitLine('frame.set("'+te+'", '+G+", true);"),U._emitLine("if(frame.topLevel) {"),U._emitLine('context.setVariable("'+te+'", '+G+");"),U._emitLine("}"),te.charAt(0)!=="_"&&(U._emitLine("if(frame.topLevel) {"),U._emitLine('context.addExport("'+te+'", '+G+");"),U._emitLine("}"))})},T.compileSwitch=function(R,B){var U=this;this._emit("switch ("),this.compile(R.expr,B),this._emit(") {"),R.cases.forEach(function(F,z){U._emit("case "),U.compile(F.cond,B),U._emit(": "),U.compile(F.body,B),F.body.children.length&&U._emitLine("break;")}),R.default&&(this._emit("default:"),this.compile(R.default,B)),this._emit("}")},T.compileIf=function(R,B,U){var F=this;this._emit("if("),this._compileExpression(R.cond,B),this._emitLine(") {"),this._withScopedSyntax(function(){F.compile(R.body,B),U&&F._emit("cb()")}),R.else_?(this._emitLine(`}
else {`),this._withScopedSyntax(function(){F.compile(R.else_,B),U&&F._emit("cb()")})):U&&(this._emitLine(`}
else {`),this._emit("cb()")),this._emitLine("}")},T.compileIfAsync=function(R,B){this._emit("(function(cb) {"),this.compileIf(R,B,!0),this._emit("})("+this._makeCallback()),this._addScopeLevel()},T._emitLoopBindings=function(R,B,U,F){var z=this,$=[{name:"index",val:U+" + 1"},{name:"index0",val:U},{name:"revindex",val:F+" - "+U},{name:"revindex0",val:F+" - "+U+" - 1"},{name:"first",val:U+" === 0"},{name:"last",val:U+" === "+F+" - 1"},{name:"length",val:F}];$.forEach(function(G){z._emitLine('frame.set("loop.'+G.name+'", '+G.val+");")})},T.compileFor=function(R,B){var U=this,F=this._tmpid(),z=this._tmpid(),$=this._tmpid();if(B=B.push(),this._emitLine("frame = frame.push();"),this._emit("var "+$+" = "),this._compileExpression(R.arr,B),this._emitLine(";"),this._emit("if("+$+") {"),this._emitLine($+" = runtime.fromIterator("+$+");"),R.name instanceof p.Array){this._emitLine("var "+F+";"),this._emitLine("if(runtime.isArray("+$+")) {"),this._emitLine("var "+z+" = "+$+".length;"),this._emitLine("for("+F+"=0; "+F+" < "+$+".length; "+F+"++) {"),R.name.children.forEach(function(X,J){var ie=U._tmpid();U._emitLine("var "+ie+" = "+$+"["+F+"]["+J+"];"),U._emitLine('frame.set("'+X+'", '+$+"["+F+"]["+J+"]);"),B.set(R.name.children[J].value,ie)}),this._emitLoopBindings(R,$,F,z),this._withScopedSyntax(function(){U.compile(R.body,B)}),this._emitLine("}"),this._emitLine("} else {");var G=R.name.children,te=G[0],q=G[1],re=this._tmpid(),ne=this._tmpid();B.set(te.value,re),B.set(q.value,ne),this._emitLine(F+" = -1;"),this._emitLine("var "+z+" = runtime.keys("+$+").length;"),this._emitLine("for(var "+re+" in "+$+") {"),this._emitLine(F+"++;"),this._emitLine("var "+ne+" = "+$+"["+re+"];"),this._emitLine('frame.set("'+te.value+'", '+re+");"),this._emitLine('frame.set("'+q.value+'", '+ne+");"),this._emitLoopBindings(R,$,F,z),this._withScopedSyntax(function(){U.compile(R.body,B)}),this._emitLine("}"),this._emitLine("}")}else{var Q=this._tmpid();B.set(R.name.value,Q),this._emitLine("var "+z+" = "+$+".length;"),this._emitLine("for(var "+F+"=0; "+F+" < "+$+".length; "+F+"++) {"),this._emitLine("var "+Q+" = "+$+"["+F+"];"),this._emitLine('frame.set("'+R.name.value+'", '+Q+");"),this._emitLoopBindings(R,$,F,z),this._withScopedSyntax(function(){U.compile(R.body,B)}),this._emitLine("}")}this._emitLine("}"),R.else_&&(this._emitLine("if (!"+z+") {"),this.compile(R.else_,B),this._emitLine("}")),this._emitLine("frame = frame.pop();")},T._compileAsyncLoop=function(R,B,U){var F=this,z=this._tmpid(),$=this._tmpid(),G=this._tmpid(),te=U?"asyncAll":"asyncEach";if(B=B.push(),this._emitLine("frame = frame.push();"),this._emit("var "+G+" = runtime.fromIterator("),this._compileExpression(R.arr,B),this._emitLine(");"),R.name instanceof p.Array){var q=R.name.children.length;this._emit("runtime."+te+"("+G+", "+q+", function("),R.name.children.forEach(function(Q){F._emit(Q.value+",")}),this._emit(z+","+$+",next) {"),R.name.children.forEach(function(Q){var X=Q.value;B.set(X,X),F._emitLine('frame.set("'+X+'", '+X+");")})}else{var re=R.name.value;this._emitLine("runtime."+te+"("+G+", 1, function("+re+", "+z+", "+$+",next) {"),this._emitLine('frame.set("'+re+'", '+re+");"),B.set(re,re)}this._emitLoopBindings(R,G,z,$),this._withScopedSyntax(function(){var Q;U&&(Q=F._pushBuffer()),F.compile(R.body,B),F._emitLine("next("+z+(Q?","+Q:"")+");"),U&&F._popBuffer()});var ne=this._tmpid();this._emitLine("}, "+this._makeCallback(ne)),this._addScopeLevel(),U&&this._emitLine(this.buffer+" += "+ne+";"),R.else_&&(this._emitLine("if (!"+G+".length) {"),this.compile(R.else_,B),this._emitLine("}")),this._emitLine("frame = frame.pop();")},T.compileAsyncEach=function(R,B){this._compileAsyncLoop(R,B)},T.compileAsyncAll=function(R,B){this._compileAsyncLoop(R,B,!0)},T._compileMacro=function(R,B){var U=this,F=[],z=null,$="macro_"+this._tmpid(),G=B!==void 0;R.args.children.forEach(function(X,J){J===R.args.children.length-1&&X instanceof p.Dict?z=X:(U.assertType(X,p.Symbol),F.push(X))});var te=[].concat(F.map(function(X){return"l_"+X.value}),["kwargs"]),q=F.map(function(X){return'"'+X.value+'"'}),re=(z&&z.children||[]).map(function(X){return'"'+X.key.value+'"'}),ne;G?ne=B.push(!0):ne=new I,this._emitLines("var "+$+" = runtime.makeMacro(","["+q.join(", ")+"], ","["+re.join(", ")+"], ","function ("+te.join(", ")+") {","var callerFrame = frame;","frame = "+(G?"frame.push(true);":"new runtime.Frame();"),"kwargs = kwargs || {};",'if (Object.prototype.hasOwnProperty.call(kwargs, "caller")) {','frame.set("caller", kwargs.caller); }'),F.forEach(function(X){U._emitLine('frame.set("'+X.value+'", l_'+X.value+");"),ne.set(X.value,"l_"+X.value)}),z&&z.children.forEach(function(X){var J=X.key.value;U._emit('frame.set("'+J+'", '),U._emit('Object.prototype.hasOwnProperty.call(kwargs, "'+J+'")'),U._emit(' ? kwargs["'+J+'"] : '),U._compileExpression(X.value,ne),U._emit(");")});var Q=this._pushBuffer();return this._withScopedSyntax(function(){U.compile(R.body,ne)}),this._emitLine("frame = "+(G?"frame.pop();":"callerFrame;")),this._emitLine("return new runtime.SafeString("+Q+");"),this._emitLine("});"),this._popBuffer(),$},T.compileMacro=function(R,B){var U=this._compileMacro(R),F=R.name.value;B.set(F,U),B.parent?this._emitLine('frame.set("'+F+'", '+U+");"):(R.name.value.charAt(0)!=="_"&&this._emitLine('context.addExport("'+F+'");'),this._emitLine('context.setVariable("'+F+'", '+U+");"))},T.compileCaller=function(R,B){this._emit("(function (){");var U=this._compileMacro(R,B);this._emit("return "+U+";})()")},T._compileGetTemplate=function(R,B,U,F){var z=this._tmpid(),$=this._templateName(),G=this._makeCallback(z),te=U?"true":"false",q=F?"true":"false";return this._emit("env.getTemplate("),this._compileExpression(R.template,B),this._emitLine(", "+te+", "+$+", "+q+", "+G),z},T.compileImport=function(R,B){var U=R.target.value,F=this._compileGetTemplate(R,B,!1,!1);this._addScopeLevel(),this._emitLine(F+".getExported("+(R.withContext?"context.getVariables(), frame, ":"")+this._makeCallback(F)),this._addScopeLevel(),B.set(U,F),B.parent?this._emitLine('frame.set("'+U+'", '+F+");"):this._emitLine('context.setVariable("'+U+'", '+F+");")},T.compileFromImport=function(R,B){var U=this,F=this._compileGetTemplate(R,B,!1,!1);this._addScopeLevel(),this._emitLine(F+".getExported("+(R.withContext?"context.getVariables(), frame, ":"")+this._makeCallback(F)),this._addScopeLevel(),R.names.children.forEach(function(z){var $,G,te=U._tmpid();z instanceof p.Pair?($=z.key.value,G=z.value.value):($=z.value,G=$),U._emitLine("if(Object.prototype.hasOwnProperty.call("+F+', "'+$+'")) {'),U._emitLine("var "+te+" = "+F+"."+$+";"),U._emitLine("} else {"),U._emitLine(`cb(new Error("cannot import '`+$+`'")); return;`),U._emitLine("}"),B.set(G,te),B.parent?U._emitLine('frame.set("'+G+'", '+te+");"):U._emitLine('context.setVariable("'+G+'", '+te+");")})},T.compileBlock=function(R){var B=this._tmpid();this.inBlock||this._emit('(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : '),this._emit('context.getBlock("'+R.name.value+'")'),this.inBlock||this._emit(")"),this._emitLine("(env, context, frame, runtime, "+this._makeCallback(B)),this._emitLine(this.buffer+" += "+B+";"),this._addScopeLevel()},T.compileSuper=function(R,B){var U=R.blockName.value,F=R.symbol.value,z=this._makeCallback(F);this._emitLine('context.getSuper(env, "'+U+'", b_'+U+", frame, runtime, "+z),this._emitLine(F+" = runtime.markSafe("+F+");"),this._addScopeLevel(),B.set(F,F)},T.compileExtends=function(R,B){var U=this._tmpid(),F=this._compileGetTemplate(R,B,!0,!1);this._emitLine("parentTemplate = "+F),this._emitLine("for(var "+U+" in parentTemplate.blocks) {"),this._emitLine("context.addBlock("+U+", parentTemplate.blocks["+U+"]);"),this._emitLine("}"),this._addScopeLevel()},T.compileInclude=function(R,B){this._emitLine("var tasks = [];"),this._emitLine("tasks.push("),this._emitLine("function(callback) {");var U=this._compileGetTemplate(R,B,!1,R.ignoreMissing);this._emitLine("callback(null,"+U+");});"),this._emitLine("});");var F=this._tmpid();this._emitLine("tasks.push("),this._emitLine("function(template, callback){"),this._emitLine("template.render(context.getVariables(), frame, "+this._makeCallback(F)),this._emitLine("callback(null,"+F+");});"),this._emitLine("});"),this._emitLine("tasks.push("),this._emitLine("function(result, callback){"),this._emitLine(this.buffer+" += result;"),this._emitLine("callback(null);"),this._emitLine("});"),this._emitLine("env.waterfall(tasks, function(){"),this._addScopeLevel()},T.compileTemplateData=function(R,B){this.compileLiteral(R,B)},T.compileCapture=function(R,B){var U=this,F=this.buffer;this.buffer="output",this._emitLine("(function() {"),this._emitLine('var output = "";'),this._withScopedSyntax(function(){U.compile(R.body,B)}),this._emitLine("return output;"),this._emitLine("})()"),this.buffer=F},T.compileOutput=function(R,B){var U=this,F=R.children;F.forEach(function(z){z instanceof p.TemplateData?z.value&&(U._emit(U.buffer+" += "),U.compileLiteral(z,B),U._emitLine(";")):(U._emit(U.buffer+" += runtime.suppressValue("),U.throwOnUndefined&&U._emit("runtime.ensureDefined("),U.compile(z,B),U.throwOnUndefined&&U._emit(","+R.lineno+","+R.colno+")"),U._emit(`, env.opts.autoescape);
`))})},T.compileRoot=function(R,B){var U=this;B&&this.fail("compileRoot: root node can't have frame"),B=new I,this._emitFuncBegin(R,"root"),this._emitLine("var parentTemplate = null;"),this._compileChildren(R,B),this._emitLine("if(parentTemplate) {"),this._emitLine("parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);"),this._emitLine("} else {"),this._emitLine("cb(null, "+this.buffer+");"),this._emitLine("}"),this._emitFuncEnd(!0),this.inBlock=!0;var F=[],z=R.findAll(p.Block);z.forEach(function($,G){var te=$.name.value;if(F.indexOf(te)!==-1)throw new Error('Block "'+te+'" defined more than once.');F.push(te),U._emitFuncBegin($,"b_"+te);var q=new I;U._emitLine("var frame = frame.push(true);"),U.compile($.body,q),U._emitFuncEnd()}),this._emitLine("return {"),z.forEach(function($,G){var te="b_"+$.name.value;U._emitLine(te+": "+te+",")}),this._emitLine(`root: root
};`)},T.compile=function(R,B){var U=this["compile"+R.typename];U?U.call(this,R,B):this.fail("compile: Cannot compile node: "+R.typename,R.lineno,R.colno)},T.getCode=function(){return this.codebuf.join("")},_}(k);n.exports={compile:function(_,T,M,R,B){B===void 0&&(B={});var U=new S(R,B.throwOnUndefined),F=(M||[]).map(function($){return $.preprocess}).filter(function($){return!!$}),z=F.reduce(function($,G){return G($)},_);return U.compile(h.transform(u.parse(z,M,B),T,R)),U.getCode()},Compiler:S}},function(n,r,i){function o(v,y){v.prototype=Object.create(y.prototype),v.prototype.constructor=v,s(v,y)}function s(v,y){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,O){return I.__proto__=O,I},s(v,y)}var u=i(4),h=i(1),p=h.EmitterObj;n.exports=function(v){o(y,v);function y(){return v.apply(this,arguments)||this}var b=y.prototype;return b.resolve=function(O,k){return u.resolve(u.dirname(O),k)},b.isRelative=function(O){return O.indexOf("./")===0||O.indexOf("../")===0},y}(p)},function(n,r,i){function o(q,re){q.prototype=Object.create(re.prototype),q.prototype.constructor=q,s(q,re)}function s(q,re){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Q,X){return Q.__proto__=X,Q},s(q,re)}var u=i(12),h=i(15),p=i(0),v=i(5),y=i(18),b=i(10),I=b.FileSystemLoader,O=b.WebLoader,k=b.PrecompiledLoader,E=i(20),S=i(21),N=i(1),_=N.Obj,T=N.EmitterObj,M=i(2),R=M.handleError,B=M.Frame,U=i(22);function F(q,re,ne){u(function(){q(re,ne)})}var z={type:"code",obj:{root:function(re,ne,Q,X,J){try{J(null,"")}catch(ie){J(R(ie,null,null))}}}},$=function(q){o(re,q);function re(){return q.apply(this,arguments)||this}var ne=re.prototype;return ne.init=function(X,J){var ie=this;J=this.opts=J||{},this.opts.dev=!!J.dev,this.opts.autoescape=J.autoescape!=null?J.autoescape:!0,this.opts.throwOnUndefined=!!J.throwOnUndefined,this.opts.trimBlocks=!!J.trimBlocks,this.opts.lstripBlocks=!!J.lstripBlocks,this.loaders=[],X?this.loaders=p.isArray(X)?X:[X]:I?this.loaders=[new I("views")]:O&&(this.loaders=[new O("/views")]),typeof window!="undefined"&&window.nunjucksPrecompiled&&this.loaders.unshift(new k(window.nunjucksPrecompiled)),this._initLoaders(),this.globals=S(),this.filters={},this.tests={},this.asyncFilters=[],this.extensions={},this.extensionsList=[],p._entries(y).forEach(function(oe){var ce=oe[0],ye=oe[1];return ie.addFilter(ce,ye)}),p._entries(E).forEach(function(oe){var ce=oe[0],ye=oe[1];return ie.addTest(ce,ye)})},ne._initLoaders=function(){var X=this;this.loaders.forEach(function(J){J.cache={},typeof J.on=="function"&&(J.on("update",function(ie,oe){J.cache[ie]=null,X.emit("update",ie,oe,J)}),J.on("load",function(ie,oe){X.emit("load",ie,oe,J)}))})},ne.invalidateCache=function(){this.loaders.forEach(function(X){X.cache={}})},ne.addExtension=function(X,J){return J.__name=X,this.extensions[X]=J,this.extensionsList.push(J),this},ne.removeExtension=function(X){var J=this.getExtension(X);!J||(this.extensionsList=p.without(this.extensionsList,J),delete this.extensions[X])},ne.getExtension=function(X){return this.extensions[X]},ne.hasExtension=function(X){return!!this.extensions[X]},ne.addGlobal=function(X,J){return this.globals[X]=J,this},ne.getGlobal=function(X){if(typeof this.globals[X]=="undefined")throw new Error("global not found: "+X);return this.globals[X]},ne.addFilter=function(X,J,ie){var oe=J;return ie&&this.asyncFilters.push(X),this.filters[X]=oe,this},ne.getFilter=function(X){if(!this.filters[X])throw new Error("filter not found: "+X);return this.filters[X]},ne.addTest=function(X,J){return this.tests[X]=J,this},ne.getTest=function(X){if(!this.tests[X])throw new Error("test not found: "+X);return this.tests[X]},ne.resolveTemplate=function(X,J,ie){var oe=X.isRelative&&J?X.isRelative(ie):!1;return oe&&X.resolve?X.resolve(J,ie):ie},ne.getTemplate=function(X,J,ie,oe,ce){var ye=this,ge=this,fe=null;if(X&&X.raw&&(X=X.raw),p.isFunction(ie)&&(ce=ie,ie=null,J=J||!1),p.isFunction(J)&&(ce=J,J=!1),X instanceof te)fe=X;else{if(typeof X!="string")throw new Error("template names must be a string: "+X);for(var ze=0;ze<this.loaders.length;ze++){var Ke=this.loaders[ze];if(fe=Ke.cache[this.resolveTemplate(Ke,ie,X)],fe)break}}if(fe)if(J&&fe.compile(),ce){ce(null,fe);return}else return fe;var Ae,_e=function(Le,Re){if(!Re&&!Le&&!oe&&(Le=new Error("template not found: "+X)),Le)if(ce){ce(Le);return}else throw Le;var rt;Re?(rt=new te(Re.src,ye,Re.path,J),Re.noCache||(Re.loader.cache[X]=rt)):rt=new te(z,ye,"",J),ce?ce(null,rt):Ae=rt};return p.asyncIter(this.loaders,function(be,Le,Re,rt){function at(yt,He){yt?rt(yt):He?(He.loader=be,rt(null,He)):Re()}X=ge.resolveTemplate(be,ie,X),be.async?be.getSource(X,at):at(null,be.getSource(X))},_e),Ae},ne.express=function(X){return U(this,X)},ne.render=function(X,J,ie){p.isFunction(J)&&(ie=J,J=null);var oe=null;return this.getTemplate(X,function(ce,ye){if(ce&&ie)F(ie,ce);else{if(ce)throw ce;oe=ye.render(J,ie)}}),oe},ne.renderString=function(X,J,ie,oe){p.isFunction(ie)&&(oe=ie,ie={}),ie=ie||{};var ce=new te(X,this,ie.path);return ce.render(J,oe)},ne.waterfall=function(X,J,ie){return h(X,J,ie)},re}(T),G=function(q){o(re,q);function re(){return q.apply(this,arguments)||this}var ne=re.prototype;return ne.init=function(X,J,ie){var oe=this;this.env=ie||new $,this.ctx=p.extend({},X),this.blocks={},this.exported=[],p.keys(J).forEach(function(ce){oe.addBlock(ce,J[ce])})},ne.lookup=function(X){return X in this.env.globals&&!(X in this.ctx)?this.env.globals[X]:this.ctx[X]},ne.setVariable=function(X,J){this.ctx[X]=J},ne.getVariables=function(){return this.ctx},ne.addBlock=function(X,J){return this.blocks[X]=this.blocks[X]||[],this.blocks[X].push(J),this},ne.getBlock=function(X){if(!this.blocks[X])throw new Error('unknown block "'+X+'"');return this.blocks[X][0]},ne.getSuper=function(X,J,ie,oe,ce,ye){var ge=p.indexOf(this.blocks[J]||[],ie),fe=this.blocks[J][ge+1],ze=this;if(ge===-1||!fe)throw new Error('no super block available for "'+J+'"');fe(X,ze,oe,ce,ye)},ne.addExport=function(X){this.exported.push(X)},ne.getExported=function(){var X=this,J={};return this.exported.forEach(function(ie){J[ie]=X.ctx[ie]}),J},re}(_),te=function(q){o(re,q);function re(){return q.apply(this,arguments)||this}var ne=re.prototype;return ne.init=function(X,J,ie,oe){if(this.env=J||new $,p.isObject(X))switch(X.type){case"code":this.tmplProps=X.obj;break;case"string":this.tmplStr=X.obj;break;default:throw new Error("Unexpected template object type "+X.type+"; expected 'code', or 'string'")}else if(p.isString(X))this.tmplStr=X;else throw new Error("src must be a string or an object describing the source");if(this.path=ie,oe)try{this._compile()}catch(ce){throw p._prettifyError(this.path,this.env.opts.dev,ce)}else this.compiled=!1},ne.render=function(X,J,ie){var oe=this;typeof X=="function"?(ie=X,X={}):typeof J=="function"&&(ie=J,J=null);var ce=!J;try{this.compile()}catch(Ae){var ye=p._prettifyError(this.path,this.env.opts.dev,Ae);if(ie)return F(ie,ye);throw ye}var ge=new G(X||{},this.blocks,this.env),fe=J?J.push(!0):new B;fe.topLevel=!0;var ze=null,Ke=!1;return this.rootRenderFunc(this.env,ge,fe,M,function(Ae,_e){if(!(Ke&&ie&&typeof _e!="undefined"))if(Ae&&(Ae=p._prettifyError(oe.path,oe.env.opts.dev,Ae),Ke=!0),ie)ce?F(ie,Ae,_e):ie(Ae,_e);else{if(Ae)throw Ae;ze=_e}}),ze},ne.getExported=function(X,J,ie){typeof X=="function"&&(ie=X,X={}),typeof J=="function"&&(ie=J,J=null);try{this.compile()}catch(ye){if(ie)return ie(ye);throw ye}var oe=J?J.push():new B;oe.topLevel=!0;var ce=new G(X||{},this.blocks,this.env);this.rootRenderFunc(this.env,ce,oe,M,function(ye){ye?ie(ye,null):ie(null,ce.getExported())})},ne.compile=function(){this.compiled||this._compile()},ne._compile=function(){var X;if(this.tmplProps)X=this.tmplProps;else{var J=v.compile(this.tmplStr,this.env.asyncFilters,this.env.extensionsList,this.path,this.env.opts),ie=new Function(J);X=ie()}this.blocks=this._getBlocks(X),this.rootRenderFunc=X.root,this.compiled=!0},ne._getBlocks=function(X){var J={};return p.keys(X).forEach(function(ie){ie.slice(0,2)==="b_"&&(J[ie.slice(2)]=X[ie])}),J},re}(_);n.exports={Environment:$,Template:te}},function(n,r,i){function o(b,I){b.prototype=Object.create(I.prototype),b.prototype.constructor=b,s(b,I)}function s(b,I){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,E){return k.__proto__=E,k},s(b,I)}var u=i(9),h=i(3),p=i(1).Obj,v=i(0),y=function(b){o(I,b);function I(){return b.apply(this,arguments)||this}var O=I.prototype;return O.init=function(E){this.tokens=E,this.peeked=null,this.breakOnBlocks=null,this.dropLeadingWhitespace=!1,this.extensions=[]},O.nextToken=function(E){var S;if(this.peeked)if(!E&&this.peeked.type===u.TOKEN_WHITESPACE)this.peeked=null;else return S=this.peeked,this.peeked=null,S;if(S=this.tokens.nextToken(),!E)for(;S&&S.type===u.TOKEN_WHITESPACE;)S=this.tokens.nextToken();return S},O.peekToken=function(){return this.peeked=this.peeked||this.nextToken(),this.peeked},O.pushToken=function(E){if(this.peeked)throw new Error("pushToken: can only push one token on between reads");this.peeked=E},O.error=function(E,S,N){if(S===void 0||N===void 0){var _=this.peekToken()||{};S=_.lineno,N=_.colno}return S!==void 0&&(S+=1),N!==void 0&&(N+=1),new v.TemplateError(E,S,N)},O.fail=function(E,S,N){throw this.error(E,S,N)},O.skip=function(E){var S=this.nextToken();return!S||S.type!==E?(this.pushToken(S),!1):!0},O.expect=function(E){var S=this.nextToken();return S.type!==E&&this.fail("expected "+E+", got "+S.type,S.lineno,S.colno),S},O.skipValue=function(E,S){var N=this.nextToken();return!N||N.type!==E||N.value!==S?(this.pushToken(N),!1):!0},O.skipSymbol=function(E){return this.skipValue(u.TOKEN_SYMBOL,E)},O.advanceAfterBlockEnd=function(E){var S;return E||(S=this.peekToken(),S||this.fail("unexpected end of file"),S.type!==u.TOKEN_SYMBOL&&this.fail("advanceAfterBlockEnd: expected symbol token or explicit name to be passed"),E=this.nextToken().value),S=this.nextToken(),S&&S.type===u.TOKEN_BLOCK_END?S.value.charAt(0)==="-"&&(this.dropLeadingWhitespace=!0):this.fail("expected block end in "+E+" statement"),S},O.advanceAfterVariableEnd=function(){var E=this.nextToken();E&&E.type===u.TOKEN_VARIABLE_END?this.dropLeadingWhitespace=E.value.charAt(E.value.length-this.tokens.tags.VARIABLE_END.length-1)==="-":(this.pushToken(E),this.fail("expected variable end"))},O.parseFor=function(){var E=this.peekToken(),S,N;this.skipSymbol("for")?(S=new h.For(E.lineno,E.colno),N="endfor"):this.skipSymbol("asyncEach")?(S=new h.AsyncEach(E.lineno,E.colno),N="endeach"):this.skipSymbol("asyncAll")?(S=new h.AsyncAll(E.lineno,E.colno),N="endall"):this.fail("parseFor: expected for{Async}",E.lineno,E.colno),S.name=this.parsePrimary(),S.name instanceof h.Symbol||this.fail("parseFor: variable name expected for loop");var _=this.peekToken().type;if(_===u.TOKEN_COMMA){var T=S.name;for(S.name=new h.Array(T.lineno,T.colno),S.name.addChild(T);this.skip(u.TOKEN_COMMA);){var M=this.parsePrimary();S.name.addChild(M)}}return this.skipSymbol("in")||this.fail('parseFor: expected "in" keyword for loop',E.lineno,E.colno),S.arr=this.parseExpression(),this.advanceAfterBlockEnd(E.value),S.body=this.parseUntilBlocks(N,"else"),this.skipSymbol("else")&&(this.advanceAfterBlockEnd("else"),S.else_=this.parseUntilBlocks(N)),this.advanceAfterBlockEnd(),S},O.parseMacro=function(){var E=this.peekToken();this.skipSymbol("macro")||this.fail("expected macro");var S=this.parsePrimary(!0),N=this.parseSignature(),_=new h.Macro(E.lineno,E.colno,S,N);return this.advanceAfterBlockEnd(E.value),_.body=this.parseUntilBlocks("endmacro"),this.advanceAfterBlockEnd(),_},O.parseCall=function(){var E=this.peekToken();this.skipSymbol("call")||this.fail("expected call");var S=this.parseSignature(!0)||new h.NodeList,N=this.parsePrimary();this.advanceAfterBlockEnd(E.value);var _=this.parseUntilBlocks("endcall");this.advanceAfterBlockEnd();var T=new h.Symbol(E.lineno,E.colno,"caller"),M=new h.Caller(E.lineno,E.colno,T,S,_),R=N.args.children;R[R.length-1]instanceof h.KeywordArgs||R.push(new h.KeywordArgs);var B=R[R.length-1];return B.addChild(new h.Pair(E.lineno,E.colno,T,M)),new h.Output(E.lineno,E.colno,[N])},O.parseWithContext=function(){var E=this.peekToken(),S=null;return this.skipSymbol("with")?S=!0:this.skipSymbol("without")&&(S=!1),S!==null&&(this.skipSymbol("context")||this.fail("parseFrom: expected context after with/without",E.lineno,E.colno)),S},O.parseImport=function(){var E=this.peekToken();this.skipSymbol("import")||this.fail("parseImport: expected import",E.lineno,E.colno);var S=this.parseExpression();this.skipSymbol("as")||this.fail('parseImport: expected "as" keyword',E.lineno,E.colno);var N=this.parseExpression(),_=this.parseWithContext(),T=new h.Import(E.lineno,E.colno,S,N,_);return this.advanceAfterBlockEnd(E.value),T},O.parseFrom=function(){var E=this.peekToken();this.skipSymbol("from")||this.fail("parseFrom: expected from");var S=this.parseExpression();this.skipSymbol("import")||this.fail("parseFrom: expected import",E.lineno,E.colno);for(var N=new h.NodeList,_;;){var T=this.peekToken();if(T.type===u.TOKEN_BLOCK_END){N.children.length||this.fail("parseFrom: Expected at least one import name",E.lineno,E.colno),T.value.charAt(0)==="-"&&(this.dropLeadingWhitespace=!0),this.nextToken();break}N.children.length>0&&!this.skip(u.TOKEN_COMMA)&&this.fail("parseFrom: expected comma",E.lineno,E.colno);var M=this.parsePrimary();if(M.value.charAt(0)==="_"&&this.fail("parseFrom: names starting with an underscore cannot be imported",M.lineno,M.colno),this.skipSymbol("as")){var R=this.parsePrimary();N.addChild(new h.Pair(M.lineno,M.colno,M,R))}else N.addChild(M);_=this.parseWithContext()}return new h.FromImport(E.lineno,E.colno,S,N,_)},O.parseBlock=function(){var E=this.peekToken();this.skipSymbol("block")||this.fail("parseBlock: expected block",E.lineno,E.colno);var S=new h.Block(E.lineno,E.colno);S.name=this.parsePrimary(),S.name instanceof h.Symbol||this.fail("parseBlock: variable name expected",E.lineno,E.colno),this.advanceAfterBlockEnd(E.value),S.body=this.parseUntilBlocks("endblock"),this.skipSymbol("endblock"),this.skipSymbol(S.name.value);var N=this.peekToken();return N||this.fail("parseBlock: expected endblock, got end of file"),this.advanceAfterBlockEnd(N.value),S},O.parseExtends=function(){var E="extends",S=this.peekToken();this.skipSymbol(E)||this.fail("parseTemplateRef: expected "+E);var N=new h.Extends(S.lineno,S.colno);return N.template=this.parseExpression(),this.advanceAfterBlockEnd(S.value),N},O.parseInclude=function(){var E="include",S=this.peekToken();this.skipSymbol(E)||this.fail("parseInclude: expected "+E);var N=new h.Include(S.lineno,S.colno);return N.template=this.parseExpression(),this.skipSymbol("ignore")&&this.skipSymbol("missing")&&(N.ignoreMissing=!0),this.advanceAfterBlockEnd(S.value),N},O.parseIf=function(){var E=this.peekToken(),S;this.skipSymbol("if")||this.skipSymbol("elif")||this.skipSymbol("elseif")?S=new h.If(E.lineno,E.colno):this.skipSymbol("ifAsync")?S=new h.IfAsync(E.lineno,E.colno):this.fail("parseIf: expected if, elif, or elseif",E.lineno,E.colno),S.cond=this.parseExpression(),this.advanceAfterBlockEnd(E.value),S.body=this.parseUntilBlocks("elif","elseif","else","endif");var N=this.peekToken();switch(N&&N.value){case"elseif":case"elif":S.else_=this.parseIf();break;case"else":this.advanceAfterBlockEnd(),S.else_=this.parseUntilBlocks("endif"),this.advanceAfterBlockEnd();break;case"endif":S.else_=null,this.advanceAfterBlockEnd();break;default:this.fail("parseIf: expected elif, else, or endif, got end of file")}return S},O.parseSet=function(){var E=this.peekToken();this.skipSymbol("set")||this.fail("parseSet: expected set",E.lineno,E.colno);for(var S=new h.Set(E.lineno,E.colno,[]),N;(N=this.parsePrimary())&&(S.targets.push(N),!!this.skip(u.TOKEN_COMMA)););return this.skipValue(u.TOKEN_OPERATOR,"=")?(S.value=this.parseExpression(),this.advanceAfterBlockEnd(E.value)):this.skip(u.TOKEN_BLOCK_END)?(S.body=new h.Capture(E.lineno,E.colno,this.parseUntilBlocks("endset")),S.value=null,this.advanceAfterBlockEnd()):this.fail("parseSet: expected = or block end in set tag",E.lineno,E.colno),S},O.parseSwitch=function(){var E="switch",S="endswitch",N="case",_="default",T=this.peekToken();!this.skipSymbol(E)&&!this.skipSymbol(N)&&!this.skipSymbol(_)&&this.fail('parseSwitch: expected "switch," "case" or "default"',T.lineno,T.colno);var M=this.parseExpression();this.advanceAfterBlockEnd(E),this.parseUntilBlocks(N,_,S);var R=this.peekToken(),B=[],U;do{this.skipSymbol(N);var F=this.parseExpression();this.advanceAfterBlockEnd(E);var z=this.parseUntilBlocks(N,_,S);B.push(new h.Case(R.line,R.col,F,z)),R=this.peekToken()}while(R&&R.value===N);switch(R.value){case _:this.advanceAfterBlockEnd(),U=this.parseUntilBlocks(S),this.advanceAfterBlockEnd();break;case S:this.advanceAfterBlockEnd();break;default:this.fail('parseSwitch: expected "case," "default" or "endswitch," got EOF.')}return new h.Switch(T.lineno,T.colno,M,B,U)},O.parseStatement=function(){var E=this.peekToken(),S;if(E.type!==u.TOKEN_SYMBOL&&this.fail("tag name expected",E.lineno,E.colno),this.breakOnBlocks&&v.indexOf(this.breakOnBlocks,E.value)!==-1)return null;switch(E.value){case"raw":return this.parseRaw();case"verbatim":return this.parseRaw("verbatim");case"if":case"ifAsync":return this.parseIf();case"for":case"asyncEach":case"asyncAll":return this.parseFor();case"block":return this.parseBlock();case"extends":return this.parseExtends();case"include":return this.parseInclude();case"set":return this.parseSet();case"macro":return this.parseMacro();case"call":return this.parseCall();case"import":return this.parseImport();case"from":return this.parseFrom();case"filter":return this.parseFilterStatement();case"switch":return this.parseSwitch();default:if(this.extensions.length)for(var N=0;N<this.extensions.length;N++){var _=this.extensions[N];if(v.indexOf(_.tags||[],E.value)!==-1)return _.parse(this,h,u)}this.fail("unknown block tag: "+E.value,E.lineno,E.colno)}return S},O.parseRaw=function(E){E=E||"raw";for(var S="end"+E,N=new RegExp("([\\s\\S]*?){%\\s*("+E+"|"+S+")\\s*(?=%})%}"),_=1,T="",M=null,R=this.advanceAfterBlockEnd();(M=this.tokens._extractRegex(N))&&_>0;){var B=M[0],U=M[1],F=M[2];F===E?_+=1:F===S&&(_-=1),_===0?(T+=U,this.tokens.backN(B.length-U.length)):T+=B}return new h.Output(R.lineno,R.colno,[new h.TemplateData(R.lineno,R.colno,T)])},O.parsePostfix=function(E){for(var S,N=this.peekToken();N;){if(N.type===u.TOKEN_LEFT_PAREN)E=new h.FunCall(N.lineno,N.colno,E,this.parseSignature());else if(N.type===u.TOKEN_LEFT_BRACKET)S=this.parseAggregate(),S.children.length>1&&this.fail("invalid index"),E=new h.LookupVal(N.lineno,N.colno,E,S.children[0]);else if(N.type===u.TOKEN_OPERATOR&&N.value==="."){this.nextToken();var _=this.nextToken();_.type!==u.TOKEN_SYMBOL&&this.fail("expected name as lookup value, got "+_.value,_.lineno,_.colno),S=new h.Literal(_.lineno,_.colno,_.value),E=new h.LookupVal(N.lineno,N.colno,E,S)}else break;N=this.peekToken()}return E},O.parseExpression=function(){var E=this.parseInlineIf();return E},O.parseInlineIf=function(){var E=this.parseOr();if(this.skipSymbol("if")){var S=this.parseOr(),N=E;E=new h.InlineIf(E.lineno,E.colno),E.body=N,E.cond=S,this.skipSymbol("else")?E.else_=this.parseOr():E.else_=null}return E},O.parseOr=function(){for(var E=this.parseAnd();this.skipSymbol("or");){var S=this.parseAnd();E=new h.Or(E.lineno,E.colno,E,S)}return E},O.parseAnd=function(){for(var E=this.parseNot();this.skipSymbol("and");){var S=this.parseNot();E=new h.And(E.lineno,E.colno,E,S)}return E},O.parseNot=function(){var E=this.peekToken();return this.skipSymbol("not")?new h.Not(E.lineno,E.colno,this.parseNot()):this.parseIn()},O.parseIn=function(){for(var E=this.parseIs();;){var S=this.nextToken();if(!S)break;var N=S.type===u.TOKEN_SYMBOL&&S.value==="not";if(N||this.pushToken(S),this.skipSymbol("in")){var _=this.parseIs();E=new h.In(E.lineno,E.colno,E,_),N&&(E=new h.Not(E.lineno,E.colno,E))}else{N&&this.pushToken(S);break}}return E},O.parseIs=function(){var E=this.parseCompare();if(this.skipSymbol("is")){var S=this.skipSymbol("not"),N=this.parseCompare();E=new h.Is(E.lineno,E.colno,E,N),S&&(E=new h.Not(E.lineno,E.colno,E))}return E},O.parseCompare=function(){for(var E=["==","===","!=","!==","<",">","<=",">="],S=this.parseConcat(),N=[];;){var _=this.nextToken();if(_)if(E.indexOf(_.value)!==-1)N.push(new h.CompareOperand(_.lineno,_.colno,this.parseConcat(),_.value));else{this.pushToken(_);break}else break}return N.length?new h.Compare(N[0].lineno,N[0].colno,S,N):S},O.parseConcat=function(){for(var E=this.parseAdd();this.skipValue(u.TOKEN_TILDE,"~");){var S=this.parseAdd();E=new h.Concat(E.lineno,E.colno,E,S)}return E},O.parseAdd=function(){for(var E=this.parseSub();this.skipValue(u.TOKEN_OPERATOR,"+");){var S=this.parseSub();E=new h.Add(E.lineno,E.colno,E,S)}return E},O.parseSub=function(){for(var E=this.parseMul();this.skipValue(u.TOKEN_OPERATOR,"-");){var S=this.parseMul();E=new h.Sub(E.lineno,E.colno,E,S)}return E},O.parseMul=function(){for(var E=this.parseDiv();this.skipValue(u.TOKEN_OPERATOR,"*");){var S=this.parseDiv();E=new h.Mul(E.lineno,E.colno,E,S)}return E},O.parseDiv=function(){for(var E=this.parseFloorDiv();this.skipValue(u.TOKEN_OPERATOR,"/");){var S=this.parseFloorDiv();E=new h.Div(E.lineno,E.colno,E,S)}return E},O.parseFloorDiv=function(){for(var E=this.parseMod();this.skipValue(u.TOKEN_OPERATOR,"//");){var S=this.parseMod();E=new h.FloorDiv(E.lineno,E.colno,E,S)}return E},O.parseMod=function(){for(var E=this.parsePow();this.skipValue(u.TOKEN_OPERATOR,"%");){var S=this.parsePow();E=new h.Mod(E.lineno,E.colno,E,S)}return E},O.parsePow=function(){for(var E=this.parseUnary();this.skipValue(u.TOKEN_OPERATOR,"**");){var S=this.parseUnary();E=new h.Pow(E.lineno,E.colno,E,S)}return E},O.parseUnary=function(E){var S=this.peekToken(),N;return this.skipValue(u.TOKEN_OPERATOR,"-")?N=new h.Neg(S.lineno,S.colno,this.parseUnary(!0)):this.skipValue(u.TOKEN_OPERATOR,"+")?N=new h.Pos(S.lineno,S.colno,this.parseUnary(!0)):N=this.parsePrimary(),E||(N=this.parseFilter(N)),N},O.parsePrimary=function(E){var S=this.nextToken(),N,_=null;if(S?S.type===u.TOKEN_STRING?N=S.value:S.type===u.TOKEN_INT?N=parseInt(S.value,10):S.type===u.TOKEN_FLOAT?N=parseFloat(S.value):S.type===u.TOKEN_BOOLEAN?S.value==="true"?N=!0:S.value==="false"?N=!1:this.fail("invalid boolean: "+S.value,S.lineno,S.colno):S.type===u.TOKEN_NONE?N=null:S.type===u.TOKEN_REGEX&&(N=new RegExp(S.value.body,S.value.flags)):this.fail("expected expression, got end of file"),N!==void 0?_=new h.Literal(S.lineno,S.colno,N):S.type===u.TOKEN_SYMBOL?_=new h.Symbol(S.lineno,S.colno,S.value):(this.pushToken(S),_=this.parseAggregate()),E||(_=this.parsePostfix(_)),_)return _;throw this.error("unexpected token: "+S.value,S.lineno,S.colno)},O.parseFilterName=function(){for(var E=this.expect(u.TOKEN_SYMBOL),S=E.value;this.skipValue(u.TOKEN_OPERATOR,".");)S+="."+this.expect(u.TOKEN_SYMBOL).value;return new h.Symbol(E.lineno,E.colno,S)},O.parseFilterArgs=function(E){if(this.peekToken().type===u.TOKEN_LEFT_PAREN){var S=this.parsePostfix(E);return S.args.children}return[]},O.parseFilter=function(E){for(;this.skip(u.TOKEN_PIPE);){var S=this.parseFilterName();E=new h.Filter(S.lineno,S.colno,S,new h.NodeList(S.lineno,S.colno,[E].concat(this.parseFilterArgs(E))))}return E},O.parseFilterStatement=function(){var E=this.peekToken();this.skipSymbol("filter")||this.fail("parseFilterStatement: expected filter");var S=this.parseFilterName(),N=this.parseFilterArgs(S);this.advanceAfterBlockEnd(E.value);var _=new h.Capture(S.lineno,S.colno,this.parseUntilBlocks("endfilter"));this.advanceAfterBlockEnd();var T=new h.Filter(S.lineno,S.colno,S,new h.NodeList(S.lineno,S.colno,[_].concat(N)));return new h.Output(S.lineno,S.colno,[T])},O.parseAggregate=function(){var E=this.nextToken(),S;switch(E.type){case u.TOKEN_LEFT_PAREN:S=new h.Group(E.lineno,E.colno);break;case u.TOKEN_LEFT_BRACKET:S=new h.Array(E.lineno,E.colno);break;case u.TOKEN_LEFT_CURLY:S=new h.Dict(E.lineno,E.colno);break;default:return null}for(;;){var N=this.peekToken().type;if(N===u.TOKEN_RIGHT_PAREN||N===u.TOKEN_RIGHT_BRACKET||N===u.TOKEN_RIGHT_CURLY){this.nextToken();break}if(S.children.length>0&&(this.skip(u.TOKEN_COMMA)||this.fail("parseAggregate: expected comma after expression",E.lineno,E.colno)),S instanceof h.Dict){var _=this.parsePrimary();this.skip(u.TOKEN_COLON)||this.fail("parseAggregate: expected colon after dict key",E.lineno,E.colno);var T=this.parseExpression();S.addChild(new h.Pair(_.lineno,_.colno,_,T))}else{var M=this.parseExpression();S.addChild(M)}}return S},O.parseSignature=function(E,S){var N=this.peekToken();if(!S&&N.type!==u.TOKEN_LEFT_PAREN){if(E)return null;this.fail("expected arguments",N.lineno,N.colno)}N.type===u.TOKEN_LEFT_PAREN&&(N=this.nextToken());for(var _=new h.NodeList(N.lineno,N.colno),T=new h.KeywordArgs(N.lineno,N.colno),M=!1;;){if(N=this.peekToken(),!S&&N.type===u.TOKEN_RIGHT_PAREN){this.nextToken();break}else if(S&&N.type===u.TOKEN_BLOCK_END)break;if(M&&!this.skip(u.TOKEN_COMMA))this.fail("parseSignature: expected comma after expression",N.lineno,N.colno);else{var R=this.parseExpression();this.skipValue(u.TOKEN_OPERATOR,"=")?T.addChild(new h.Pair(R.lineno,R.colno,R,this.parseExpression())):_.addChild(R)}M=!0}return T.children.length&&_.addChild(T),_},O.parseUntilBlocks=function(){for(var E=this.breakOnBlocks,S=arguments.length,N=new Array(S),_=0;_<S;_++)N[_]=arguments[_];this.breakOnBlocks=N;var T=this.parse();return this.breakOnBlocks=E,T},O.parseNodes=function(){for(var E,S=[];E=this.nextToken();)if(E.type===u.TOKEN_DATA){var N=E.value,_=this.peekToken(),T=_&&_.value;this.dropLeadingWhitespace&&(N=N.replace(/^\s*/,""),this.dropLeadingWhitespace=!1),_&&(_.type===u.TOKEN_BLOCK_START&&T.charAt(T.length-1)==="-"||_.type===u.TOKEN_VARIABLE_START&&T.charAt(this.tokens.tags.VARIABLE_START.length)==="-"||_.type===u.TOKEN_COMMENT&&T.charAt(this.tokens.tags.COMMENT_START.length)==="-")&&(N=N.replace(/\s*$/,"")),S.push(new h.Output(E.lineno,E.colno,[new h.TemplateData(E.lineno,E.colno,N)]))}else if(E.type===u.TOKEN_BLOCK_START){this.dropLeadingWhitespace=!1;var M=this.parseStatement();if(!M)break;S.push(M)}else if(E.type===u.TOKEN_VARIABLE_START){var R=this.parseExpression();this.dropLeadingWhitespace=!1,this.advanceAfterVariableEnd(),S.push(new h.Output(E.lineno,E.colno,[R]))}else E.type===u.TOKEN_COMMENT?this.dropLeadingWhitespace=E.value.charAt(E.value.length-this.tokens.tags.COMMENT_END.length-1)==="-":this.fail("Unexpected token at top-level: "+E.type,E.lineno,E.colno);return S},O.parse=function(){return new h.NodeList(0,0,this.parseNodes())},O.parseAsRoot=function(){return new h.Root(0,0,this.parseNodes())},I}(p);n.exports={parse:function(I,O,k){var E=new y(u.lex(I,k));return O!==void 0&&(E.extensions=O),E.parseAsRoot()},Parser:y}},function(n,r,i){var o=i(0),s=` 
	\r\xA0`,u="()[]{}%*-+~/#,:|.<>=!",h="0123456789",p="{%",v="%}",y="{{",b="}}",I="{#",O="#}",k="string",E="whitespace",S="data",N="block-start",_="block-end",T="variable-start",M="variable-end",R="comment",B="left-paren",U="right-paren",F="left-bracket",z="right-bracket",$="left-curly",G="right-curly",te="operator",q="comma",re="colon",ne="tilde",Q="pipe",X="int",J="float",ie="boolean",oe="none",ce="symbol",ye="special",ge="regex";function fe(Ke,Ae,_e,be){return{type:Ke,value:Ae,lineno:_e,colno:be}}var ze=function(){function Ke(_e,be){this.str=_e,this.index=0,this.len=_e.length,this.lineno=0,this.colno=0,this.in_code=!1,be=be||{};var Le=be.tags||{};this.tags={BLOCK_START:Le.blockStart||p,BLOCK_END:Le.blockEnd||v,VARIABLE_START:Le.variableStart||y,VARIABLE_END:Le.variableEnd||b,COMMENT_START:Le.commentStart||I,COMMENT_END:Le.commentEnd||O},this.trimBlocks=!!be.trimBlocks,this.lstripBlocks=!!be.lstripBlocks}var Ae=Ke.prototype;return Ae.nextToken=function(){var be=this.lineno,Le=this.colno,Re;if(this.in_code){var rt=this.current();if(this.isFinished())return null;if(rt==='"'||rt==="'")return fe(k,this._parseString(rt),be,Le);if(Re=this._extract(s))return fe(E,Re,be,Le);if((Re=this._extractString(this.tags.BLOCK_END))||(Re=this._extractString("-"+this.tags.BLOCK_END)))return this.in_code=!1,this.trimBlocks&&(rt=this.current(),rt===`
`?this.forward():rt==="\r"&&(this.forward(),rt=this.current(),rt===`
`?this.forward():this.back())),fe(_,Re,be,Le);if((Re=this._extractString(this.tags.VARIABLE_END))||(Re=this._extractString("-"+this.tags.VARIABLE_END)))return this.in_code=!1,fe(M,Re,be,Le);if(rt==="r"&&this.str.charAt(this.index+1)==="/"){this.forwardN(2);for(var at="";!this.isFinished();)if(this.current()==="/"&&this.previous()!=="\\"){this.forward();break}else at+=this.current(),this.forward();for(var yt=["g","i","m","y"],He="";!this.isFinished();){var le=yt.indexOf(this.current())!==-1;if(le)He+=this.current(),this.forward();else break}return fe(ge,{body:at,flags:He},be,Le)}else if(u.indexOf(rt)!==-1){this.forward();var ve=["==","===","!=","!==","<=",">=","//","**"],Pe=rt+this.current(),Ie;switch(o.indexOf(ve,Pe)!==-1&&(this.forward(),rt=Pe,o.indexOf(ve,Pe+this.current())!==-1&&(rt=Pe+this.current(),this.forward())),rt){case"(":Ie=B;break;case")":Ie=U;break;case"[":Ie=F;break;case"]":Ie=z;break;case"{":Ie=$;break;case"}":Ie=G;break;case",":Ie=q;break;case":":Ie=re;break;case"~":Ie=ne;break;case"|":Ie=Q;break;default:Ie=te}return fe(Ie,rt,be,Le)}else if(Re=this._extractUntil(s+u),Re.match(/^[-+]?[0-9]+$/))if(this.current()==="."){this.forward();var Be=this._extract(h);return fe(J,Re+"."+Be,be,Le)}else return fe(X,Re,be,Le);else{if(Re.match(/^(true|false)$/))return fe(ie,Re,be,Le);if(Re==="none")return fe(oe,Re,be,Le);if(Re==="null")return fe(oe,Re,be,Le);if(Re)return fe(ce,Re,be,Le);throw new Error("Unexpected value while parsing: "+Re)}}else{var je=this.tags.BLOCK_START.charAt(0)+this.tags.VARIABLE_START.charAt(0)+this.tags.COMMENT_START.charAt(0)+this.tags.COMMENT_END.charAt(0);if(this.isFinished())return null;if((Re=this._extractString(this.tags.BLOCK_START+"-"))||(Re=this._extractString(this.tags.BLOCK_START)))return this.in_code=!0,fe(N,Re,be,Le);if((Re=this._extractString(this.tags.VARIABLE_START+"-"))||(Re=this._extractString(this.tags.VARIABLE_START)))return this.in_code=!0,fe(T,Re,be,Le);Re="";var ht,Qe=!1;for(this._matches(this.tags.COMMENT_START)&&(Qe=!0,Re=this._extractString(this.tags.COMMENT_START));(ht=this._extractUntil(je))!==null;)if(Re+=ht,(this._matches(this.tags.BLOCK_START)||this._matches(this.tags.VARIABLE_START)||this._matches(this.tags.COMMENT_START))&&!Qe){if(this.lstripBlocks&&this._matches(this.tags.BLOCK_START)&&this.colno>0&&this.colno<=Re.length){var It=Re.slice(-this.colno);if(/^\s+$/.test(It)&&(Re=Re.slice(0,-this.colno),!Re.length))return this.nextToken()}break}else if(this._matches(this.tags.COMMENT_END)){if(!Qe)throw new Error("unexpected end of comment");Re+=this._extractString(this.tags.COMMENT_END);break}else Re+=this.current(),this.forward();if(ht===null&&Qe)throw new Error("expected end of comment, got end of file");return fe(Qe?R:S,Re,be,Le)}},Ae._parseString=function(be){this.forward();for(var Le="";!this.isFinished()&&this.current()!==be;){var Re=this.current();if(Re==="\\"){switch(this.forward(),this.current()){case"n":Le+=`
`;break;case"t":Le+="	";break;case"r":Le+="\r";break;default:Le+=this.current()}this.forward()}else Le+=Re,this.forward()}return this.forward(),Le},Ae._matches=function(be){if(this.index+be.length>this.len)return null;var Le=this.str.slice(this.index,this.index+be.length);return Le===be},Ae._extractString=function(be){return this._matches(be)?(this.forwardN(be.length),be):null},Ae._extractUntil=function(be){return this._extractMatching(!0,be||"")},Ae._extract=function(be){return this._extractMatching(!1,be)},Ae._extractMatching=function(be,Le){if(this.isFinished())return null;var Re=Le.indexOf(this.current());if(be&&Re===-1||!be&&Re!==-1){var rt=this.current();this.forward();for(var at=Le.indexOf(this.current());(be&&at===-1||!be&&at!==-1)&&!this.isFinished();)rt+=this.current(),this.forward(),at=Le.indexOf(this.current());return rt}return""},Ae._extractRegex=function(be){var Le=this.currentStr().match(be);return Le?(this.forwardN(Le[0].length),Le):null},Ae.isFinished=function(){return this.index>=this.len},Ae.forwardN=function(be){for(var Le=0;Le<be;Le++)this.forward()},Ae.forward=function(){this.index++,this.previous()===`
`?(this.lineno++,this.colno=0):this.colno++},Ae.backN=function(be){for(var Le=0;Le<be;Le++)this.back()},Ae.back=function(){if(this.index--,this.current()===`
`){this.lineno--;var be=this.src.lastIndexOf(`
`,this.index-1);be===-1?this.colno=this.index:this.colno=this.index-be}else this.colno--},Ae.current=function(){return this.isFinished()?"":this.str.charAt(this.index)},Ae.currentStr=function(){return this.isFinished()?"":this.str.substr(this.index)},Ae.previous=function(){return this.str.charAt(this.index-1)},Ke}();n.exports={lex:function(Ae,_e){return new ze(Ae,_e)},TOKEN_STRING:k,TOKEN_WHITESPACE:E,TOKEN_DATA:S,TOKEN_BLOCK_START:N,TOKEN_BLOCK_END:_,TOKEN_VARIABLE_START:T,TOKEN_VARIABLE_END:M,TOKEN_COMMENT:R,TOKEN_LEFT_PAREN:B,TOKEN_RIGHT_PAREN:U,TOKEN_LEFT_BRACKET:F,TOKEN_RIGHT_BRACKET:z,TOKEN_LEFT_CURLY:$,TOKEN_RIGHT_CURLY:G,TOKEN_OPERATOR:te,TOKEN_COMMA:q,TOKEN_COLON:re,TOKEN_TILDE:ne,TOKEN_PIPE:Q,TOKEN_INT:X,TOKEN_FLOAT:J,TOKEN_BOOLEAN:ie,TOKEN_NONE:oe,TOKEN_SYMBOL:ce,TOKEN_SPECIAL:ye,TOKEN_REGEX:ge}},function(n,r,i){function o(y,b){y.prototype=Object.create(b.prototype),y.prototype.constructor=y,s(y,b)}function s(y,b){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,k){return O.__proto__=k,O},s(y,b)}var u=i(6),h=i(19),p=h.PrecompiledLoader,v=function(y){o(b,y);function b(O,k){var E;return E=y.call(this)||this,E.baseURL=O||".",k=k||{},E.useCache=!!k.useCache,E.async=!!k.async,E}var I=b.prototype;return I.resolve=function(k,E){throw new Error("relative templates not support in the browser yet")},I.getSource=function(k,E){var S=this,N=this.useCache,_;return this.fetch(this.baseURL+"/"+k,function(T,M){if(T)if(E)E(T.content);else if(T.status===404)_=null;else throw T.content;else _={src:M,path:k,noCache:!N},S.emit("load",k,_),E&&E(null,_)}),_},I.fetch=function(k,E){if(typeof window=="undefined")throw new Error("WebLoader can only by used in a browser");var S=new XMLHttpRequest,N=!0;S.onreadystatechange=function(){S.readyState===4&&N&&(N=!1,S.status===0||S.status===200?E(null,S.responseText):E({status:S.status,content:S.responseText}))},k+=(k.indexOf("?")===-1?"?":"&")+"s="+new Date().getTime(),S.open("GET",k,this.async),S.send()},b}(u);n.exports={WebLoader:v,PrecompiledLoader:p}},function(n,r,i){var o=i(0),s=i(7),u=s.Environment,h=s.Template,p=i(6),v=i(10),y=i(23),b=i(5),I=i(8),O=i(9),k=i(2),E=i(3),S=i(25),N;function _(T,M){M=M||{},o.isObject(T)&&(M=T,T=null);var R;return v.FileSystemLoader?R=new v.FileSystemLoader(T,{watch:M.watch,noCache:M.noCache}):v.WebLoader&&(R=new v.WebLoader(T,{useCache:M.web&&M.web.useCache,async:M.web&&M.web.async})),N=new u(R,M),M&&M.express&&N.express(M.express),N}n.exports={Environment:u,Template:h,Loader:p,FileSystemLoader:v.FileSystemLoader,NodeResolveLoader:v.NodeResolveLoader,PrecompiledLoader:v.PrecompiledLoader,WebLoader:v.WebLoader,compiler:b,parser:I,lexer:O,runtime:k,lib:o,nodes:E,installJinjaCompat:S,configure:_,reset:function(){N=void 0},compile:function(M,R,B,U){return N||_(),new h(M,R,B,U)},render:function(M,R,B){return N||_(),N.render(M,R,B)},renderString:function(M,R,B){return N||_(),N.renderString(M,R,B)},precompile:y?y.precompile:void 0,precompileString:y?y.precompileString:void 0}},function(n,r,i){var o=i(13),s=[],u=[],h=o.makeRequestCallFromTimer(p);function p(){if(u.length)throw u.shift()}n.exports=v;function v(b){var I;s.length?I=s.pop():I=new y,I.task=b,o(I)}function y(){this.task=null}y.prototype.call=function(){try{this.task.call()}catch(b){v.onerror?v.onerror(b):(u.push(b),h())}finally{this.task=null,s[s.length]=this}}},function(n,r,i){(function(o){n.exports=s;function s(E){u.length||h(),u[u.length]=E}var u=[],h,p=0,v=1024;function y(){for(;p<u.length;){var E=p;if(p=p+1,u[E].call(),p>v){for(var S=0,N=u.length-p;S<N;S++)u[S]=u[S+p];u.length-=p,p=0}}u.length=0,p=0}var b=typeof o!="undefined"?o:self,I=b.MutationObserver||b.WebKitMutationObserver;typeof I=="function"?h=O(y):h=k(y),s.requestFlush=h;function O(E){var S=1,N=new I(E),_=document.createTextNode("");return N.observe(_,{characterData:!0}),function(){S=-S,_.data=S}}function k(E){return function(){var N=setTimeout(T,0),_=setInterval(T,50);function T(){clearTimeout(N),clearInterval(_),E()}}}s.makeRequestCallFromTimer=k}).call(r,i(14))},function(n,r){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(i=window)}n.exports=i},function(n,r,i){var o,s;(function(u){var h=function(){var I=Array.prototype.slice.call(arguments);typeof I[0]=="function"&&I[0].apply(null,I.splice(1))},p=function(I){typeof setImmediate=="function"?setImmediate(I):typeof process!="undefined"&&process.nextTick?process.nextTick(I):setTimeout(I,0)},v=function(I){var O=function(k){var E=function(){return I.length&&I[k].apply(null,arguments),E.next()};return E.next=function(){return k<I.length-1?O(k+1):null},E};return O(0)},y=Array.isArray||function(I){return Object.prototype.toString.call(I)==="[object Array]"},b=function(I,O,k){var E=k?p:h;if(O=O||function(){},!y(I)){var S=new Error("First argument to waterfall must be an array of functions");return O(S)}if(!I.length)return O();var N=function(_){return function(T){if(T)O.apply(null,arguments),O=function(){};else{var M=Array.prototype.slice.call(arguments,1),R=_.next();R?M.push(N(R)):M.push(O),E(function(){_.apply(null,M)})}}};N(v(I))()};o=[],s=function(){return b}.apply(r,o),s!==void 0&&(n.exports=s)})()},function(n,r,i){var o=typeof Reflect=="object"?Reflect:null,s=o&&typeof o.apply=="function"?o.apply:function(z,$,G){return Function.prototype.apply.call(z,$,G)},u;o&&typeof o.ownKeys=="function"?u=o.ownKeys:Object.getOwnPropertySymbols?u=function(z){return Object.getOwnPropertyNames(z).concat(Object.getOwnPropertySymbols(z))}:u=function(z){return Object.getOwnPropertyNames(z)};function h(F){console&&console.warn&&console.warn(F)}var p=Number.isNaN||function(z){return z!==z};function v(){v.init.call(this)}n.exports=v,n.exports.once=R,v.EventEmitter=v,v.prototype._events=void 0,v.prototype._eventsCount=0,v.prototype._maxListeners=void 0;var y=10;function b(F){if(typeof F!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof F)}Object.defineProperty(v,"defaultMaxListeners",{enumerable:!0,get:function(){return y},set:function(F){if(typeof F!="number"||F<0||p(F))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+F+".");y=F}}),v.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},v.prototype.setMaxListeners=function(z){if(typeof z!="number"||z<0||p(z))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+z+".");return this._maxListeners=z,this};function I(F){return F._maxListeners===void 0?v.defaultMaxListeners:F._maxListeners}v.prototype.getMaxListeners=function(){return I(this)},v.prototype.emit=function(z){for(var $=[],G=1;G<arguments.length;G++)$.push(arguments[G]);var te=z==="error",q=this._events;if(q!==void 0)te=te&&q.error===void 0;else if(!te)return!1;if(te){var re;if($.length>0&&(re=$[0]),re instanceof Error)throw re;var ne=new Error("Unhandled error."+(re?" ("+re.message+")":""));throw ne.context=re,ne}var Q=q[z];if(Q===void 0)return!1;if(typeof Q=="function")s(Q,this,$);else for(var X=Q.length,J=_(Q,X),G=0;G<X;++G)s(J[G],this,$);return!0};function O(F,z,$,G){var te,q,re;if(b($),q=F._events,q===void 0?(q=F._events=Object.create(null),F._eventsCount=0):(q.newListener!==void 0&&(F.emit("newListener",z,$.listener?$.listener:$),q=F._events),re=q[z]),re===void 0)re=q[z]=$,++F._eventsCount;else if(typeof re=="function"?re=q[z]=G?[$,re]:[re,$]:G?re.unshift($):re.push($),te=I(F),te>0&&re.length>te&&!re.warned){re.warned=!0;var ne=new Error("Possible EventEmitter memory leak detected. "+re.length+" "+String(z)+" listeners added. Use emitter.setMaxListeners() to increase limit");ne.name="MaxListenersExceededWarning",ne.emitter=F,ne.type=z,ne.count=re.length,h(ne)}return F}v.prototype.addListener=function(z,$){return O(this,z,$,!1)},v.prototype.on=v.prototype.addListener,v.prototype.prependListener=function(z,$){return O(this,z,$,!0)};function k(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function E(F,z,$){var G={fired:!1,wrapFn:void 0,target:F,type:z,listener:$},te=k.bind(G);return te.listener=$,G.wrapFn=te,te}v.prototype.once=function(z,$){return b($),this.on(z,E(this,z,$)),this},v.prototype.prependOnceListener=function(z,$){return b($),this.prependListener(z,E(this,z,$)),this},v.prototype.removeListener=function(z,$){var G,te,q,re,ne;if(b($),te=this._events,te===void 0)return this;if(G=te[z],G===void 0)return this;if(G===$||G.listener===$)--this._eventsCount===0?this._events=Object.create(null):(delete te[z],te.removeListener&&this.emit("removeListener",z,G.listener||$));else if(typeof G!="function"){for(q=-1,re=G.length-1;re>=0;re--)if(G[re]===$||G[re].listener===$){ne=G[re].listener,q=re;break}if(q<0)return this;q===0?G.shift():T(G,q),G.length===1&&(te[z]=G[0]),te.removeListener!==void 0&&this.emit("removeListener",z,ne||$)}return this},v.prototype.off=v.prototype.removeListener,v.prototype.removeAllListeners=function(z){var $,G,te;if(G=this._events,G===void 0)return this;if(G.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):G[z]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete G[z]),this;if(arguments.length===0){var q=Object.keys(G),re;for(te=0;te<q.length;++te)re=q[te],re!=="removeListener"&&this.removeAllListeners(re);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if($=G[z],typeof $=="function")this.removeListener(z,$);else if($!==void 0)for(te=$.length-1;te>=0;te--)this.removeListener(z,$[te]);return this};function S(F,z,$){var G=F._events;if(G===void 0)return[];var te=G[z];return te===void 0?[]:typeof te=="function"?$?[te.listener||te]:[te]:$?M(te):_(te,te.length)}v.prototype.listeners=function(z){return S(this,z,!0)},v.prototype.rawListeners=function(z){return S(this,z,!1)},v.listenerCount=function(F,z){return typeof F.listenerCount=="function"?F.listenerCount(z):N.call(F,z)},v.prototype.listenerCount=N;function N(F){var z=this._events;if(z!==void 0){var $=z[F];if(typeof $=="function")return 1;if($!==void 0)return $.length}return 0}v.prototype.eventNames=function(){return this._eventsCount>0?u(this._events):[]};function _(F,z){for(var $=new Array(z),G=0;G<z;++G)$[G]=F[G];return $}function T(F,z){for(;z+1<F.length;z++)F[z]=F[z+1];F.pop()}function M(F){for(var z=new Array(F.length),$=0;$<z.length;++$)z[$]=F[$].listener||F[$];return z}function R(F,z){return new Promise(function($,G){function te(re){F.removeListener(z,q),G(re)}function q(){typeof F.removeListener=="function"&&F.removeListener("error",te),$([].slice.call(arguments))}U(F,z,q,{once:!0}),z!=="error"&&B(F,te,{once:!0})})}function B(F,z,$){typeof F.on=="function"&&U(F,"error",z,$)}function U(F,z,$,G){if(typeof F.on=="function")G.once?F.once(z,$):F.on(z,$);else if(typeof F.addEventListener=="function")F.addEventListener(z,function te(q){G.once&&F.removeEventListener(z,te),$(q)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof F)}},function(n,r,i){var o=i(3),s=i(0),u=0;function h(){return"hole_"+u++}function p(N,_){for(var T=null,M=0;M<N.length;M++){var R=_(N[M]);R!==N[M]&&(T||(T=N.slice()),T[M]=R)}return T||N}function v(N,_,T){if(!(N instanceof o.Node))return N;if(!T){var M=_(N);if(M&&M!==N)return M}if(N instanceof o.NodeList){var R=p(N.children,function($){return v($,_,T)});R!==N.children&&(N=new o[N.typename](N.lineno,N.colno,R))}else if(N instanceof o.CallExtension){var B=v(N.args,_,T),U=p(N.contentArgs,function($){return v($,_,T)});(B!==N.args||U!==N.contentArgs)&&(N=new o[N.typename](N.extName,N.prop,B,U))}else{var F=N.fields.map(function($){return N[$]}),z=p(F,function($){return v($,_,T)});z!==F&&(N=new o[N.typename](N.lineno,N.colno),z.forEach(function($,G){N[N.fields[G]]=$}))}return T&&_(N)||N}function y(N,_){return v(N,_,!0)}function b(N,_,T){var M=[],R=y(T?N[T]:N,function(B){var U;return B instanceof o.Block?B:((B instanceof o.Filter&&s.indexOf(_,B.name.value)!==-1||B instanceof o.CallExtensionAsync)&&(U=new o.Symbol(B.lineno,B.colno,h()),M.push(new o.FilterAsync(B.lineno,B.colno,B.name,B.args,U))),U)});return T?N[T]=R:N=R,M.length?(M.push(N),new o.NodeList(N.lineno,N.colno,M)):N}function I(N,_){return y(N,function(T){return T instanceof o.Output?b(T,_):T instanceof o.Set?b(T,_,"value"):T instanceof o.For?b(T,_,"arr"):T instanceof o.If?b(T,_,"cond"):T instanceof o.CallExtension?b(T,_,"args"):void 0})}function O(N){return v(N,function(_){if(_ instanceof o.Block){var T=!1,M=h();_.body=v(_.body,function(R){if(R instanceof o.FunCall&&R.name.value==="super")return T=!0,new o.Symbol(R.lineno,R.colno,M)}),T&&_.body.children.unshift(new o.Super(0,0,_.name,new o.Symbol(0,0,M)))}})}function k(N){return y(N,function(_){if(!(!(_ instanceof o.If)&&!(_ instanceof o.For))){var T=!1;if(v(_,function(M){if(M instanceof o.FilterAsync||M instanceof o.IfAsync||M instanceof o.AsyncEach||M instanceof o.AsyncAll||M instanceof o.CallExtensionAsync)return T=!0,M}),T){if(_ instanceof o.If)return new o.IfAsync(_.lineno,_.colno,_.cond,_.body,_.else_);if(_ instanceof o.For&&!(_ instanceof o.AsyncAll))return new o.AsyncEach(_.lineno,_.colno,_.arr,_.name,_.body,_.else_)}}})}function E(N,_){return k(O(I(N,_)))}function S(N,_){return E(N,_||[])}n.exports={transform:S}},function(n,u,i){var o=i(0),s=i(2),u=n.exports={};function h(le,ve){return le==null||le===!1?ve:le}u.abs=Math.abs;function p(le){return le!==le}function v(le,ve,Pe){var Ie,Be=[],je=[];for(Ie=0;Ie<le.length;Ie++)Ie%ve===0&&je.length&&(Be.push(je),je=[]),je.push(le[Ie]);if(je.length){if(Pe)for(Ie=je.length;Ie<ve;Ie++)je.push(Pe);Be.push(je)}return Be}u.batch=v;function y(le){le=h(le,"");var ve=le.toLowerCase();return s.copySafeness(le,ve.charAt(0).toUpperCase()+ve.slice(1))}u.capitalize=y;function b(le,ve){if(le=h(le,""),ve=ve||80,le.length>=ve)return le;var Pe=ve-le.length,Ie=o.repeat(" ",Pe/2-Pe%2),Be=o.repeat(" ",Pe/2);return s.copySafeness(le,Ie+le+Be)}u.center=b;function I(le,ve,Pe){return Pe?le||ve:le!==void 0?le:ve}u.default=I;function O(le,ve,Pe){if(!o.isObject(le))throw new o.TemplateError("dictsort filter: val must be an object");var Ie=[];for(var Be in le)Ie.push([Be,le[Be]]);var je;if(Pe===void 0||Pe==="key")je=0;else if(Pe==="value")je=1;else throw new o.TemplateError("dictsort filter: You can only sort by either key or value");return Ie.sort(function(ht,Qe){var It=ht[je],cn=Qe[je];return ve||(o.isString(It)&&(It=It.toUpperCase()),o.isString(cn)&&(cn=cn.toUpperCase())),It>cn?1:It===cn?0:-1}),Ie}u.dictsort=O;function k(le,ve){return JSON.stringify(le,null,ve)}u.dump=k;function E(le){return le instanceof s.SafeString?le:(le=le==null?"":le,s.markSafe(o.escape(le.toString())))}u.escape=E;function S(le){return le instanceof s.SafeString?le:(le=le==null?"":le,s.markSafe(le.toString()))}u.safe=S;function N(le){return le[0]}u.first=N;function _(le){return le=le==null?"":le,s.markSafe(o.escape(le.toString()))}u.forceescape=_;function T(le,ve){return o.groupBy(le,ve,this.env.opts.throwOnUndefined)}u.groupby=T;function M(le,ve,Pe){if(le=h(le,""),le==="")return"";ve=ve||4;var Ie=le.split(`
`),Be=o.repeat(" ",ve),je=Ie.map(function(ht,Qe){return Qe===0&&!Pe?ht:""+Be+ht}).join(`
`);return s.copySafeness(le,je)}u.indent=M;function R(le,ve,Pe){return ve=ve||"",Pe&&(le=o.map(le,function(Ie){return Ie[Pe]})),le.join(ve)}u.join=R;function B(le){return le[le.length-1]}u.last=B;function U(le){var ve=h(le,"");return ve!==void 0?typeof Map=="function"&&ve instanceof Map||typeof Set=="function"&&ve instanceof Set?ve.size:o.isObject(ve)&&!(ve instanceof s.SafeString)?o.keys(ve).length:ve.length:0}u.length=U;function F(le){if(o.isString(le))return le.split("");if(o.isObject(le))return o._entries(le||{}).map(function(ve){var Pe=ve[0],Ie=ve[1];return{key:Pe,value:Ie}});if(o.isArray(le))return le;throw new o.TemplateError("list filter: type not iterable")}u.list=F;function z(le){return le=h(le,""),le.toLowerCase()}u.lower=z;function $(le){return le==null?"":s.copySafeness(le,le.replace(/\r\n|\n/g,`<br />
`))}u.nl2br=$;function G(le){return le[Math.floor(Math.random()*le.length)]}u.random=G;function te(le){function ve(Pe,Ie,Be){Ie===void 0&&(Ie="truthy");var je=this,ht=je.env.getTest(Ie);return o.toArray(Pe).filter(function(It){return ht.call(je,It,Be)===le})}return ve}u.reject=te(!1);function q(le,ve){return le.filter(function(Pe){return!Pe[ve]})}u.rejectattr=q,u.select=te(!0);function re(le,ve){return le.filter(function(Pe){return!!Pe[ve]})}u.selectattr=re;function ne(le,ve,Pe,Ie){var Be=le;if(ve instanceof RegExp)return le.replace(ve,Pe);typeof Ie=="undefined"&&(Ie=-1);var je="";if(typeof ve=="number")ve=""+ve;else if(typeof ve!="string")return le;if(typeof le=="number"&&(le=""+le),typeof le!="string"&&!(le instanceof s.SafeString))return le;if(ve==="")return je=Pe+le.split("").join(Pe)+Pe,s.copySafeness(le,je);var ht=le.indexOf(ve);if(Ie===0||ht===-1)return le;for(var Qe=0,It=0;ht>-1&&(Ie===-1||It<Ie);)je+=le.substring(Qe,ht)+Pe,Qe=ht+ve.length,It++,ht=le.indexOf(ve,Qe);return Qe<le.length&&(je+=le.substring(Qe)),s.copySafeness(Be,je)}u.replace=ne;function Q(le){var ve;return o.isString(le)?ve=F(le):ve=o.map(le,function(Pe){return Pe}),ve.reverse(),o.isString(le)?s.copySafeness(le,ve.join("")):ve}u.reverse=Q;function X(le,ve,Pe){ve=ve||0;var Ie=Math.pow(10,ve),Be;return Pe==="ceil"?Be=Math.ceil:Pe==="floor"?Be=Math.floor:Be=Math.round,Be(le*Ie)/Ie}u.round=X;function J(le,ve,Pe){for(var Ie=Math.floor(le.length/ve),Be=le.length%ve,je=[],ht=0,Qe=0;Qe<ve;Qe++){var It=ht+Qe*Ie;Qe<Be&&ht++;var cn=ht+(Qe+1)*Ie,ut=le.slice(It,cn);Pe&&Qe>=Be&&ut.push(Pe),je.push(ut)}return je}u.slice=J;function ie(le,ve,Pe){return Pe===void 0&&(Pe=0),ve&&(le=o.map(le,function(Ie){return Ie[ve]})),Pe+le.reduce(function(Ie,Be){return Ie+Be},0)}u.sum=ie,u.sort=s.makeMacro(["value","reverse","case_sensitive","attribute"],[],function(ve,Pe,Ie,Be){var je=this,ht=o.map(ve,function(It){return It}),Qe=o.getAttrGetter(Be);return ht.sort(function(It,cn){var ut=Be?Qe(It):It,tt=Be?Qe(cn):cn;if(je.env.opts.throwOnUndefined&&Be&&(ut===void 0||tt===void 0))throw new TypeError('sort: attribute "'+Be+'" resolved to undefined');return!Ie&&o.isString(ut)&&o.isString(tt)&&(ut=ut.toLowerCase(),tt=tt.toLowerCase()),ut<tt?Pe?1:-1:ut>tt?Pe?-1:1:0}),ht});function oe(le){return s.copySafeness(le,le)}u.string=oe;function ce(le,ve){le=h(le,"");var Pe=/<\/?([a-z][a-z0-9]*)\b[^>]*>|<!--[\s\S]*?-->/gi,Ie=ge(le.replace(Pe,"")),Be="";return ve?Be=Ie.replace(/^ +| +$/gm,"").replace(/ +/g," ").replace(/(\r\n)/g,`
`).replace(/\n\n\n+/g,`

`):Be=Ie.replace(/\s+/gi," "),s.copySafeness(le,Be)}u.striptags=ce;function ye(le){le=h(le,"");var ve=le.split(" ").map(function(Pe){return y(Pe)});return s.copySafeness(le,ve.join(" "))}u.title=ye;function ge(le){return s.copySafeness(le,le.replace(/^\s*|\s*$/g,""))}u.trim=ge;function fe(le,ve,Pe,Ie){var Be=le;if(le=h(le,""),ve=ve||255,le.length<=ve)return le;if(Pe)le=le.substring(0,ve);else{var je=le.lastIndexOf(" ",ve);je===-1&&(je=ve),le=le.substring(0,je)}return le+=Ie!=null?Ie:"...",s.copySafeness(Be,le)}u.truncate=fe;function ze(le){return le=h(le,""),le.toUpperCase()}u.upper=ze;function Ke(le){var ve=encodeURIComponent;if(o.isString(le))return ve(le);var Pe=o.isArray(le)?le:o._entries(le);return Pe.map(function(Ie){var Be=Ie[0],je=Ie[1];return ve(Be)+"="+ve(je)}).join("&")}u.urlencode=Ke;var Ae=/^(?:\(|<|&lt;)?(.*?)(?:\.|,|\)|\n|&gt;)?$/,_e=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,be=/^https?:\/\/.*$/,Le=/^www\./,Re=/\.(?:org|net|com)(?:\:|\/|$)/;function rt(le,ve,Pe){p(ve)&&(ve=1/0);var Ie=Pe===!0?' rel="nofollow"':"",Be=le.split(/(\s+)/).filter(function(je){return je&&je.length}).map(function(je){var ht=je.match(Ae),Qe=ht?ht[1]:je,It=Qe.substr(0,ve);return be.test(Qe)?'<a href="'+Qe+'"'+Ie+">"+It+"</a>":Le.test(Qe)?'<a href="http://'+Qe+'"'+Ie+">"+It+"</a>":_e.test(Qe)?'<a href="mailto:'+Qe+'">'+Qe+"</a>":Re.test(Qe)?'<a href="http://'+Qe+'"'+Ie+">"+It+"</a>":je});return Be.join("")}u.urlize=rt;function at(le){le=h(le,"");var ve=le?le.match(/\w+/g):null;return ve?ve.length:null}u.wordcount=at;function yt(le,ve){var Pe=parseFloat(le);return p(Pe)?ve:Pe}u.float=yt;var He=s.makeMacro(["value","default","base"],[],function(ve,Pe,Ie){Ie===void 0&&(Ie=10);var Be=parseInt(ve,Ie);return p(Be)?Pe:Be});u.int=He,u.d=u.default,u.e=u.escape},function(n,r,i){function o(p,v){p.prototype=Object.create(v.prototype),p.prototype.constructor=p,s(p,v)}function s(p,v){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,I){return b.__proto__=I,b},s(p,v)}var u=i(6),h=function(p){o(v,p);function v(b){var I;return I=p.call(this)||this,I.precompiled=b||{},I}var y=v.prototype;return y.getSource=function(I){return this.precompiled[I]?{src:{type:"code",obj:this.precompiled[I]},path:I}:null},v}(u);n.exports={PrecompiledLoader:h}},function(n,r,i){var o=i(2).SafeString;function s(G){return typeof G=="function"}r.callable=s;function u(G){return G!==void 0}r.defined=u;function h(G,te){return G%te===0}r.divisibleby=h;function p(G){return G instanceof o}r.escaped=p;function v(G,te){return G===te}r.equalto=v,r.eq=r.equalto,r.sameas=r.equalto;function y(G){return G%2===0}r.even=y;function b(G){return!G}r.falsy=b;function I(G,te){return G>=te}r.ge=I;function O(G,te){return G>te}r.greaterthan=O,r.gt=r.greaterthan;function k(G,te){return G<=te}r.le=k;function E(G,te){return G<te}r.lessthan=E,r.lt=r.lessthan;function S(G){return G.toLowerCase()===G}r.lower=S;function N(G,te){return G!==te}r.ne=N;function _(G){return G===null}r.null=_;function T(G){return typeof G=="number"}r.number=T;function M(G){return G%2===1}r.odd=M;function R(G){return typeof G=="string"}r.string=R;function B(G){return!!G}r.truthy=B;function U(G){return G===void 0}r.undefined=U;function F(G){return G.toUpperCase()===G}r.upper=F;function z(G){return typeof Symbol!="undefined"?!!G[Symbol.iterator]:Array.isArray(G)||typeof G=="string"}r.iterable=z;function $(G){var te=G!=null&&typeof G=="object"&&!Array.isArray(G);return Set?te&&!(G instanceof Set):te}r.mapping=$},function(n,r,i){function o(h){var p=-1;return{current:null,reset:function(){p=-1,this.current=null},next:function(){return p++,p>=h.length&&(p=0),this.current=h[p],this.current}}}function s(h){h=h||",";var p=!0;return function(){var v=p?"":h;return p=!1,v}}function u(){return{range:function(p,v,y){typeof v=="undefined"?(v=p,p=0,y=1):y||(y=1);var b=[];if(y>0)for(var I=p;I<v;I+=y)b.push(I);else for(var O=p;O>v;O+=y)b.push(O);return b},cycler:function(){return o(Array.prototype.slice.call(arguments))},joiner:function(p){return s(p)}}}n.exports=u},function(n,r,i){var o=i(4);n.exports=function(u,h){function p(v,y){if(this.name=v,this.path=v,this.defaultEngine=y.defaultEngine,this.ext=o.extname(v),!this.ext&&!this.defaultEngine)throw new Error("No default engine was specified and no extension was provided.");this.ext||(this.name+=this.ext=(this.defaultEngine[0]!=="."?".":"")+this.defaultEngine)}return p.prototype.render=function(y,b){u.render(this.name,y,b)},h.set("view",p),h.set("nunjucksEnv",u),u}},function(n,r,i){var o=i(4),s=i(4),u=i(0),h=u._prettifyError,p=i(5),v=i(7),y=v.Environment,b=i(24);function I(S,N){return Array.isArray(N)?N.some(function(_){return S.match(_)}):!1}function O(S,N){N=N||{},N.isString=!0;var _=N.env||new y([]),T=N.wrapper||b;if(!N.name)throw new Error('the "name" option is required when compiling a string');return T([E(S,N.name,_)],N)}function k(S,N){N=N||{};var _=N.env||new y([]),T=N.wrapper||b;if(N.isString)return O(S,N);var M=o.existsSync(S)&&o.statSync(S),R=[],B=[];function U($){o.readdirSync($).forEach(function(G){var te=s.join($,G),q=te.substr(s.join(S,"/").length),re=o.statSync(te);re&&re.isDirectory()?(q+="/",I(q,N.exclude)||U(te)):I(q,N.include)&&B.push(te)})}if(M.isFile())R.push(E(o.readFileSync(S,"utf-8"),N.name||S,_));else if(M.isDirectory()){U(S);for(var F=0;F<B.length;F++){var z=B[F].replace(s.join(S,"/"),"");try{R.push(E(o.readFileSync(B[F],"utf-8"),z,_))}catch($){if(N.force)console.error($);else throw $}}}return T(R,N)}function E(S,N,_){_=_||new y([]);var T=_.asyncFilters,M=_.extensionsList,R;N=N.replace(/\\/g,"/");try{R=p.compile(S,T,M,N,_.opts)}catch(B){throw h(N,!1,B)}return{name:N,template:R}}n.exports={precompile:k,precompileString:O}},function(n,r,i){function o(s,u){var h="";u=u||{};for(var p=0;p<s.length;p++){var v=JSON.stringify(s[p].name),y=s[p].template;h+="(function() {(window.nunjucksPrecompiled = window.nunjucksPrecompiled || {})["+v+`] = (function() {
`+y+`
})();
`,u.asFunction&&(h+="return function(ctx, cb) { return nunjucks.render("+v+`, ctx, cb); }
`),h+=`})();
`}return h}n.exports=o},function(n,r,i){function o(){var s=this.runtime,u=this.lib,h=this.compiler.Compiler,p=this.parser.Parser,v=this.nodes,y=this.lexer,b=s.contextOrFrameLookup,I=s.memberLookup,O,k;h&&(O=h.prototype.assertType),p&&(k=p.prototype.parseAggregate);function E(){s.contextOrFrameLookup=b,s.memberLookup=I,h&&(h.prototype.assertType=O),p&&(p.prototype.parseAggregate=k)}s.contextOrFrameLookup=function(U,F,z){var $=b.apply(this,arguments);if($!==void 0)return $;switch(z){case"True":return!0;case"False":return!1;case"None":return null;default:return}};function S(B){return{index:B.index,lineno:B.lineno,colno:B.colno}}if(v&&h&&p){var N=v.Node.extend("Slice",{fields:["start","stop","step"],init:function(U,F,z,$,G){z=z||new v.Literal(U,F,null),$=$||new v.Literal(U,F,null),G=G||new v.Literal(U,F,1),this.parent(U,F,z,$,G)}});h.prototype.assertType=function(U){U instanceof N||O.apply(this,arguments)},h.prototype.compileSlice=function(U,F){this._emit("("),this._compileExpression(U.start,F),this._emit("),("),this._compileExpression(U.stop,F),this._emit("),("),this._compileExpression(U.step,F),this._emit(")")},p.prototype.parseAggregate=function(){var U=this,F=S(this.tokens);F.colno--,F.index--;try{return k.apply(this)}catch(Q){var z=S(this.tokens),$=function(){return u._assign(U.tokens,z),Q};u._assign(this.tokens,F),this.peeked=!1;var G=this.peekToken();if(G.type!==y.TOKEN_LEFT_BRACKET)throw $();this.nextToken();for(var te=new N(G.lineno,G.colno),q=!1,re=0;re<=te.fields.length&&!this.skip(y.TOKEN_RIGHT_BRACKET);re++){if(re===te.fields.length)if(q)this.fail("parseSlice: too many slice components",G.lineno,G.colno);else break;if(this.skip(y.TOKEN_COLON))q=!0;else{var ne=te.fields[re];te[ne]=this.parseExpression(),q=this.skip(y.TOKEN_COLON)||q}}if(!q)throw $();return new v.Array(G.lineno,G.colno,[te])}}}function _(B,U,F,z){B=B||[],U===null&&(U=z<0?B.length-1:0),F===null?F=z<0?-1:B.length:F<0&&(F+=B.length),U<0&&(U+=B.length);for(var $=[],G=U;!(G<0||G>B.length||z>0&&G>=F||z<0&&G<=F);G+=z)$.push(s.memberLookup(B,G));return $}function T(B,U){return Object.prototype.hasOwnProperty.call(B,U)}var M={pop:function(U){if(U===void 0)return this.pop();if(U>=this.length||U<0)throw new Error("KeyError");return this.splice(U,1)},append:function(U){return this.push(U)},remove:function(U){for(var F=0;F<this.length;F++)if(this[F]===U)return this.splice(F,1);throw new Error("ValueError")},count:function(U){for(var F=0,z=0;z<this.length;z++)this[z]===U&&F++;return F},index:function(U){var F;if((F=this.indexOf(U))===-1)throw new Error("ValueError");return F},find:function(U){return this.indexOf(U)},insert:function(U,F){return this.splice(U,0,F)}},R={items:function(){return u._entries(this)},values:function(){return u._values(this)},keys:function(){return u.keys(this)},get:function(U,F){var z=this[U];return z===void 0&&(z=F),z},has_key:function(U){return T(this,U)},pop:function(U,F){var z=this[U];if(z===void 0&&F!==void 0)z=F;else{if(z===void 0)throw new Error("KeyError");delete this[U]}return z},popitem:function(){var U=u.keys(this);if(!U.length)throw new Error("KeyError");var F=U[0],z=this[F];return delete this[F],[F,z]},setdefault:function(U,F){return F===void 0&&(F=null),U in this||(this[U]=F),this[U]},update:function(U){return u._assign(this,U),null}};return R.iteritems=R.items,R.itervalues=R.values,R.iterkeys=R.keys,s.memberLookup=function(U,F,z){return arguments.length===4?_.apply(this,arguments):(U=U||{},u.isArray(U)&&T(M,F)?M[F].bind(U):u.isObject(U)&&T(R,F)?R[F].bind(U):I.apply(this,arguments))},E}n.exports=o}])})})(rA);var Mm=nA(rA.exports),H={exports:{}},Bt={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var OI=Object.getOwnPropertySymbols,$$=Object.prototype.hasOwnProperty,W$=Object.prototype.propertyIsEnumerable;function j$(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function K$(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var iA=K$()?Object.assign:function(e,t){for(var n,r=j$(e),i,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var s in n)$$.call(n,s)&&(r[s]=n[s]);if(OI){i=OI(n);for(var u=0;u<i.length;u++)W$.call(n,i[u])&&(r[i[u]]=n[i[u]])}}return r};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GS=iA,Ef=60103,oA=60106;Bt.Fragment=60107;Bt.StrictMode=60108;Bt.Profiler=60114;var aA=60109,sA=60110,lA=60112;Bt.Suspense=60113;var uA=60115,cA=60116;if(typeof Symbol=="function"&&Symbol.for){var Eo=Symbol.for;Ef=Eo("react.element"),oA=Eo("react.portal"),Bt.Fragment=Eo("react.fragment"),Bt.StrictMode=Eo("react.strict_mode"),Bt.Profiler=Eo("react.profiler"),aA=Eo("react.provider"),sA=Eo("react.context"),lA=Eo("react.forward_ref"),Bt.Suspense=Eo("react.suspense"),uA=Eo("react.memo"),cA=Eo("react.lazy")}var TI=typeof Symbol=="function"&&Symbol.iterator;function V$(e){return e===null||typeof e!="object"?null:(e=TI&&e[TI]||e["@@iterator"],typeof e=="function"?e:null)}function Qh(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dA={};function Cf(e,t,n){this.props=e,this.context=t,this.refs=dA,this.updater=n||fA}Cf.prototype.isReactComponent={};Cf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(Qh(85));this.updater.enqueueSetState(this,e,t,"setState")};Cf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hA(){}hA.prototype=Cf.prototype;function YS(e,t,n){this.props=e,this.context=t,this.refs=dA,this.updater=n||fA}var XS=YS.prototype=new hA;XS.constructor=YS;GS(XS,Cf.prototype);XS.isPureReactComponent=!0;var JS={current:null},pA=Object.prototype.hasOwnProperty,mA={key:!0,ref:!0,__self:!0,__source:!0};function gA(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)pA.call(t,r)&&!mA.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var h=Array(u),p=0;p<u;p++)h[p]=arguments[p+2];i.children=h}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:Ef,type:e,key:o,ref:s,props:i,_owner:JS.current}}function q$(e,t){return{$$typeof:Ef,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function QS(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ef}function H$(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var _I=/\/+/g;function Vw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?H$(""+e.key):t.toString(36)}function zm(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Ef:case oA:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Vw(s,0):r,Array.isArray(i)?(n="",e!=null&&(n=e.replace(_I,"$&/")+"/"),zm(i,t,n,"",function(p){return p})):i!=null&&(QS(i)&&(i=q$(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(_I,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){o=e[u];var h=r+Vw(o,u);s+=zm(o,t,n,h,i)}else if(h=V$(e),typeof h=="function")for(e=h.call(e),u=0;!(o=e.next()).done;)o=o.value,h=r+Vw(o,u++),s+=zm(o,t,n,h,i);else if(o==="object")throw t=""+e,Error(Qh(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function am(e,t,n){if(e==null)return e;var r=[],i=0;return zm(e,r,"","",function(o){return t.call(n,o,i++)}),r}function G$(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(n){e._status===0&&(n=n.default,e._status=1,e._result=n)},function(n){e._status===0&&(e._status=2,e._result=n)})}if(e._status===1)return e._result;throw e._result}var vA={current:null};function Ya(){var e=vA.current;if(e===null)throw Error(Qh(321));return e}var Y$={ReactCurrentDispatcher:vA,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:JS,IsSomeRendererActing:{current:!1},assign:GS};Bt.Children={map:am,forEach:function(e,t,n){am(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return am(e,function(){t++}),t},toArray:function(e){return am(e,function(t){return t})||[]},only:function(e){if(!QS(e))throw Error(Qh(143));return e}};Bt.Component=Cf;Bt.PureComponent=YS;Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y$;Bt.cloneElement=function(e,t,n){if(e==null)throw Error(Qh(267,e));var r=GS({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=JS.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(h in t)pA.call(t,h)&&!mA.hasOwnProperty(h)&&(r[h]=t[h]===void 0&&u!==void 0?u[h]:t[h])}var h=arguments.length-2;if(h===1)r.children=n;else if(1<h){u=Array(h);for(var p=0;p<h;p++)u[p]=arguments[p+2];r.children=u}return{$$typeof:Ef,type:e.type,key:i,ref:o,props:r,_owner:s}};Bt.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:sA,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:aA,_context:e},e.Consumer=e};Bt.createElement=gA;Bt.createFactory=function(e){var t=gA.bind(null,e);return t.type=e,t};Bt.createRef=function(){return{current:null}};Bt.forwardRef=function(e){return{$$typeof:lA,render:e}};Bt.isValidElement=QS;Bt.lazy=function(e){return{$$typeof:cA,_payload:{_status:-1,_result:e},_init:G$}};Bt.memo=function(e,t){return{$$typeof:uA,type:e,compare:t===void 0?null:t}};Bt.useCallback=function(e,t){return Ya().useCallback(e,t)};Bt.useContext=function(e,t){return Ya().useContext(e,t)};Bt.useDebugValue=function(){};Bt.useEffect=function(e,t){return Ya().useEffect(e,t)};Bt.useImperativeHandle=function(e,t,n){return Ya().useImperativeHandle(e,t,n)};Bt.useLayoutEffect=function(e,t){return Ya().useLayoutEffect(e,t)};Bt.useMemo=function(e,t){return Ya().useMemo(e,t)};Bt.useReducer=function(e,t,n){return Ya().useReducer(e,t,n)};Bt.useRef=function(e){return Ya().useRef(e)};Bt.useState=function(e){return Ya().useState(e)};Bt.version="17.0.2";H.exports=Bt;var kr=H.exports,ZS=tA({__proto__:null,default:kr},[H.exports]),Zh={exports:{}},oo={},yA={exports:{}},wA={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){var t,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var h=null,p=null,v=function(){if(h!==null)try{var oe=e.unstable_now();h(!0,oe),h=null}catch(ce){throw setTimeout(v,0),ce}};t=function(oe){h!==null?setTimeout(t,0,oe):(h=oe,setTimeout(v,0))},n=function(oe,ce){p=setTimeout(oe,ce)},r=function(){clearTimeout(p)},e.unstable_shouldYield=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var y=window.setTimeout,b=window.clearTimeout;if(typeof console!="undefined"){var I=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof I!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var O=!1,k=null,E=-1,S=5,N=0;e.unstable_shouldYield=function(){return e.unstable_now()>=N},i=function(){},e.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<oe?Math.floor(1e3/oe):5};var _=new MessageChannel,T=_.port2;_.port1.onmessage=function(){if(k!==null){var oe=e.unstable_now();N=oe+S;try{k(!0,oe)?T.postMessage(null):(O=!1,k=null)}catch(ce){throw T.postMessage(null),ce}}else O=!1},t=function(oe){k=oe,O||(O=!0,T.postMessage(null))},n=function(oe,ce){E=y(function(){oe(e.unstable_now())},ce)},r=function(){b(E),E=-1}}function M(oe,ce){var ye=oe.length;oe.push(ce);e:for(;;){var ge=ye-1>>>1,fe=oe[ge];if(fe!==void 0&&0<U(fe,ce))oe[ge]=ce,oe[ye]=fe,ye=ge;else break e}}function R(oe){return oe=oe[0],oe===void 0?null:oe}function B(oe){var ce=oe[0];if(ce!==void 0){var ye=oe.pop();if(ye!==ce){oe[0]=ye;e:for(var ge=0,fe=oe.length;ge<fe;){var ze=2*(ge+1)-1,Ke=oe[ze],Ae=ze+1,_e=oe[Ae];if(Ke!==void 0&&0>U(Ke,ye))_e!==void 0&&0>U(_e,Ke)?(oe[ge]=_e,oe[Ae]=ye,ge=Ae):(oe[ge]=Ke,oe[ze]=ye,ge=ze);else if(_e!==void 0&&0>U(_e,ye))oe[ge]=_e,oe[Ae]=ye,ge=Ae;else break e}}return ce}return null}function U(oe,ce){var ye=oe.sortIndex-ce.sortIndex;return ye!==0?ye:oe.id-ce.id}var F=[],z=[],$=1,G=null,te=3,q=!1,re=!1,ne=!1;function Q(oe){for(var ce=R(z);ce!==null;){if(ce.callback===null)B(z);else if(ce.startTime<=oe)B(z),ce.sortIndex=ce.expirationTime,M(F,ce);else break;ce=R(z)}}function X(oe){if(ne=!1,Q(oe),!re)if(R(F)!==null)re=!0,t(J);else{var ce=R(z);ce!==null&&n(X,ce.startTime-oe)}}function J(oe,ce){re=!1,ne&&(ne=!1,r()),q=!0;var ye=te;try{for(Q(ce),G=R(F);G!==null&&(!(G.expirationTime>ce)||oe&&!e.unstable_shouldYield());){var ge=G.callback;if(typeof ge=="function"){G.callback=null,te=G.priorityLevel;var fe=ge(G.expirationTime<=ce);ce=e.unstable_now(),typeof fe=="function"?G.callback=fe:G===R(F)&&B(F),Q(ce)}else B(F);G=R(F)}if(G!==null)var ze=!0;else{var Ke=R(z);Ke!==null&&n(X,Ke.startTime-ce),ze=!1}return ze}finally{G=null,te=ye,q=!1}}var ie=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(oe){oe.callback=null},e.unstable_continueExecution=function(){re||q||(re=!0,t(J))},e.unstable_getCurrentPriorityLevel=function(){return te},e.unstable_getFirstCallbackNode=function(){return R(F)},e.unstable_next=function(oe){switch(te){case 1:case 2:case 3:var ce=3;break;default:ce=te}var ye=te;te=ce;try{return oe()}finally{te=ye}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=ie,e.unstable_runWithPriority=function(oe,ce){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var ye=te;te=oe;try{return ce()}finally{te=ye}},e.unstable_scheduleCallback=function(oe,ce,ye){var ge=e.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?ge+ye:ge):ye=ge,oe){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=ye+fe,oe={id:$++,callback:ce,priorityLevel:oe,startTime:ye,expirationTime:fe,sortIndex:-1},ye>ge?(oe.sortIndex=ye,M(z,oe),R(F)===null&&oe===R(z)&&(ne?r():ne=!0,n(X,ye-ge))):(oe.sortIndex=fe,M(F,oe),re||q||(re=!0,t(J))),oe},e.unstable_wrapCallback=function(oe){var ce=te;return function(){var ye=te;te=ce;try{return oe.apply(this,arguments)}finally{te=ye}}}})(wA);yA.exports=wA;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv=H.exports,dn=iA,Jn=yA.exports;function ke(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!xv)throw Error(ke(227));var bA=new Set,ph={};function Ou(e,t){Zc(e,t),Zc(e+"Capture",t)}function Zc(e,t){for(ph[e]=t,e=0;e<t.length;e++)bA.add(t[e])}var Ha=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),X$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,AI=Object.prototype.hasOwnProperty,RI={},PI={};function J$(e){return AI.call(PI,e)?!0:AI.call(RI,e)?!1:X$.test(e)?PI[e]=!0:(RI[e]=!0,!1)}function Q$(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Z$(e,t,n,r){if(t===null||typeof t=="undefined"||Q$(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Lr(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){cr[e]=new Lr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];cr[t]=new Lr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){cr[e]=new Lr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){cr[e]=new Lr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){cr[e]=new Lr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){cr[e]=new Lr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){cr[e]=new Lr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){cr[e]=new Lr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){cr[e]=new Lr(e,5,!1,e.toLowerCase(),null,!1,!1)});var eE=/[\-:]([a-z])/g;function tE(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(eE,tE);cr[t]=new Lr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(eE,tE);cr[t]=new Lr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(eE,tE);cr[t]=new Lr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){cr[e]=new Lr(e,1,!1,e.toLowerCase(),null,!1,!1)});cr.xlinkHref=new Lr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){cr[e]=new Lr(e,1,!1,e.toLowerCase(),null,!0,!0)});function nE(e,t,n,r){var i=cr.hasOwnProperty(t)?cr[t]:null,o=i!==null?i.type===0:r?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");o||(Z$(t,n,i,r)&&(n=null),r||i===null?J$(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Tu=xv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ld=60103,ou=60106,Ps=60107,rE=60108,Vd=60114,iE=60109,oE=60110,Nv=60112,qd=60113,lg=60120,Iv=60115,aE=60116,sE=60121,lE=60128,SA=60129,uE=60130,u0=60131;if(typeof Symbol=="function"&&Symbol.for){var Hn=Symbol.for;Ld=Hn("react.element"),ou=Hn("react.portal"),Ps=Hn("react.fragment"),rE=Hn("react.strict_mode"),Vd=Hn("react.profiler"),iE=Hn("react.provider"),oE=Hn("react.context"),Nv=Hn("react.forward_ref"),qd=Hn("react.suspense"),lg=Hn("react.suspense_list"),Iv=Hn("react.memo"),aE=Hn("react.lazy"),sE=Hn("react.block"),Hn("react.scope"),lE=Hn("react.opaque.id"),SA=Hn("react.debug_trace_mode"),uE=Hn("react.offscreen"),u0=Hn("react.legacy_hidden")}var kI=typeof Symbol=="function"&&Symbol.iterator;function hd(e){return e===null||typeof e!="object"?null:(e=kI&&e[kI]||e["@@iterator"],typeof e=="function"?e:null)}var qw;function Md(e){if(qw===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);qw=t&&t[1]||""}return`
`+qw+e}var Hw=!1;function sm(e,t){if(!e||Hw)return"";Hw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,u=o.length-1;1<=s&&0<=u&&i[s]!==o[u];)u--;for(;1<=s&&0<=u;s--,u--)if(i[s]!==o[u]){if(s!==1||u!==1)do if(s--,u--,0>u||i[s]!==o[u])return`
`+i[s].replace(" at new "," at ");while(1<=s&&0<=u);break}}}finally{Hw=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Md(e):""}function eW(e){switch(e.tag){case 5:return Md(e.type);case 16:return Md("Lazy");case 13:return Md("Suspense");case 19:return Md("SuspenseList");case 0:case 2:case 15:return e=sm(e.type,!1),e;case 11:return e=sm(e.type.render,!1),e;case 22:return e=sm(e.type._render,!1),e;case 1:return e=sm(e.type,!0),e;default:return""}}function Mc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ps:return"Fragment";case ou:return"Portal";case Vd:return"Profiler";case rE:return"StrictMode";case qd:return"Suspense";case lg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case oE:return(e.displayName||"Context")+".Consumer";case iE:return(e._context.displayName||"Context")+".Provider";case Nv:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case Iv:return Mc(e.type);case sE:return Mc(e._render);case aE:t=e._payload,e=e._init;try{return Mc(e(t))}catch{}}return null}function nl(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function EA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tW(e){var t=EA(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function lm(e){e._valueTracker||(e._valueTracker=tW(e))}function CA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=EA(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ug(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch{return e.body}}function c0(e,t){var n=t.checked;return dn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function DI(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=nl(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xA(e,t){t=t.checked,t!=null&&nE(e,"checked",t,!1)}function f0(e,t){xA(e,t);var n=nl(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?d0(e,t.type,n):t.hasOwnProperty("defaultValue")&&d0(e,t.type,nl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function LI(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function d0(e,t,n){(t!=="number"||ug(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function nW(e){var t="";return xv.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function h0(e,t){return e=dn({children:void 0},t),(t=nW(t.children))&&(e.children=t),e}function zc(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+nl(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function p0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ke(91));return dn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function MI(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ke(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(ke(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:nl(n)}}function NA(e,t){var n=nl(t.value),r=nl(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function zI(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var m0={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function IA(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function g0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?IA(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var um,OA=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!==m0.svg||"innerHTML"in e)e.innerHTML=t;else{for(um=um||document.createElement("div"),um.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=um.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function mh(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Hd={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rW=["Webkit","ms","Moz","O"];Object.keys(Hd).forEach(function(e){rW.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hd[t]=Hd[e]})});function TA(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Hd.hasOwnProperty(e)&&Hd[e]?(""+t).trim():t+"px"}function _A(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=TA(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var iW=dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function v0(e,t){if(t){if(iW[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ke(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ke(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(ke(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ke(62))}}function y0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function cE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var w0=null,Bc=null,Fc=null;function BI(e){if(e=tp(e)){if(typeof w0!="function")throw Error(ke(280));var t=e.stateNode;t&&(t=Pv(t),w0(e.stateNode,e.type,t))}}function AA(e){Bc?Fc?Fc.push(e):Fc=[e]:Bc=e}function RA(){if(Bc){var e=Bc,t=Fc;if(Fc=Bc=null,BI(e),t)for(e=0;e<t.length;e++)BI(t[e])}}function fE(e,t){return e(t)}function PA(e,t,n,r,i){return e(t,n,r,i)}function dE(){}var kA=fE,au=!1,Gw=!1;function hE(){(Bc!==null||Fc!==null)&&(dE(),RA())}function oW(e,t,n){if(Gw)return e(t,n);Gw=!0;try{return kA(e,t,n)}finally{Gw=!1,hE()}}function gh(e,t){var n=e.stateNode;if(n===null)return null;var r=Pv(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ke(231,t,typeof n));return n}var b0=!1;if(Ha)try{var pd={};Object.defineProperty(pd,"passive",{get:function(){b0=!0}}),window.addEventListener("test",pd,pd),window.removeEventListener("test",pd,pd)}catch{b0=!1}function aW(e,t,n,r,i,o,s,u,h){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(v){this.onError(v)}}var Gd=!1,cg=null,fg=!1,S0=null,sW={onError:function(e){Gd=!0,cg=e}};function lW(e,t,n,r,i,o,s,u,h){Gd=!1,cg=null,aW.apply(sW,arguments)}function uW(e,t,n,r,i,o,s,u,h){if(lW.apply(this,arguments),Gd){if(Gd){var p=cg;Gd=!1,cg=null}else throw Error(ke(198));fg||(fg=!0,S0=p)}}function _u(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&1026)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function DA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function FI(e){if(_u(e)!==e)throw Error(ke(188))}function cW(e){var t=e.alternate;if(!t){if(t=_u(e),t===null)throw Error(ke(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return FI(i),e;if(o===r)return FI(i),t;o=o.sibling}throw Error(ke(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(ke(189))}}if(n.alternate!==r)throw Error(ke(190))}if(n.tag!==3)throw Error(ke(188));return n.stateNode.current===n?e:t}function LA(e){if(e=cW(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function UI(e,t){for(var n=e.alternate;t!==null;){if(t===e||t===n)return!0;t=t.return}return!1}var MA,pE,zA,BA,E0=!1,aa=[],Ws=null,js=null,Ks=null,vh=new Map,yh=new Map,md=[],$I="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C0(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function WI(e,t){switch(e){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":vh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yh.delete(t.pointerId)}}function gd(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e=C0(t,n,r,i,o),t!==null&&(t=tp(t),t!==null&&pE(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function fW(e,t,n,r,i){switch(t){case"focusin":return Ws=gd(Ws,e,t,n,r,i),!0;case"dragenter":return js=gd(js,e,t,n,r,i),!0;case"mouseover":return Ks=gd(Ks,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return vh.set(o,gd(vh.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,yh.set(o,gd(yh.get(o)||null,e,t,n,r,i)),!0}return!1}function dW(e){var t=su(e.target);if(t!==null){var n=_u(t);if(n!==null){if(t=n.tag,t===13){if(t=DA(n),t!==null){e.blockedOn=t,BA(e.lanePriority,function(){Jn.unstable_runWithPriority(e.priority,function(){zA(n)})});return}}else if(t===3&&n.stateNode.hydrate){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=yE(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null)return t=tp(n),t!==null&&pE(t),e.blockedOn=n,!1;t.shift()}return!0}function jI(e,t,n){Bm(e)&&n.delete(t)}function hW(){for(E0=!1;0<aa.length;){var e=aa[0];if(e.blockedOn!==null){e=tp(e.blockedOn),e!==null&&MA(e);break}for(var t=e.targetContainers;0<t.length;){var n=yE(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null){e.blockedOn=n;break}t.shift()}e.blockedOn===null&&aa.shift()}Ws!==null&&Bm(Ws)&&(Ws=null),js!==null&&Bm(js)&&(js=null),Ks!==null&&Bm(Ks)&&(Ks=null),vh.forEach(jI),yh.forEach(jI)}function vd(e,t){e.blockedOn===t&&(e.blockedOn=null,E0||(E0=!0,Jn.unstable_scheduleCallback(Jn.unstable_NormalPriority,hW)))}function FA(e){function t(i){return vd(i,e)}if(0<aa.length){vd(aa[0],e);for(var n=1;n<aa.length;n++){var r=aa[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ws!==null&&vd(Ws,e),js!==null&&vd(js,e),Ks!==null&&vd(Ks,e),vh.forEach(t),yh.forEach(t),n=0;n<md.length;n++)r=md[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<md.length&&(n=md[0],n.blockedOn===null);)dW(n),n.blockedOn===null&&md.shift()}function cm(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ec={animationend:cm("Animation","AnimationEnd"),animationiteration:cm("Animation","AnimationIteration"),animationstart:cm("Animation","AnimationStart"),transitionend:cm("Transition","TransitionEnd")},Yw={},UA={};Ha&&(UA=document.createElement("div").style,"AnimationEvent"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),"TransitionEvent"in window||delete Ec.transitionend.transition);function Ov(e){if(Yw[e])return Yw[e];if(!Ec[e])return e;var t=Ec[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in UA)return Yw[e]=t[n];return e}var $A=Ov("animationend"),WA=Ov("animationiteration"),jA=Ov("animationstart"),KA=Ov("transitionend"),VA=new Map,mE=new Map,pW=["abort","abort",$A,"animationEnd",WA,"animationIteration",jA,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",KA,"transitionEnd","waiting","waiting"];function gE(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),mE.set(r,t),VA.set(r,i),Ou(i,[r])}}var mW=Jn.unstable_now;mW();var an=8;function bc(e){if((1&e)!==0)return an=15,1;if((2&e)!==0)return an=14,2;if((4&e)!==0)return an=13,4;var t=24&e;return t!==0?(an=12,t):(e&32)!==0?(an=11,32):(t=192&e,t!==0?(an=10,t):(e&256)!==0?(an=9,256):(t=3584&e,t!==0?(an=8,t):(e&4096)!==0?(an=7,4096):(t=4186112&e,t!==0?(an=6,t):(t=62914560&e,t!==0?(an=5,t):e&67108864?(an=4,67108864):(e&134217728)!==0?(an=3,134217728):(t=805306368&e,t!==0?(an=2,t):(1073741824&e)!==0?(an=1,1073741824):(an=8,e))))))}function gW(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function vW(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(ke(358,e))}}function wh(e,t){var n=e.pendingLanes;if(n===0)return an=0;var r=0,i=0,o=e.expiredLanes,s=e.suspendedLanes,u=e.pingedLanes;if(o!==0)r=o,i=an=15;else if(o=n&134217727,o!==0){var h=o&~s;h!==0?(r=bc(h),i=an):(u&=o,u!==0&&(r=bc(u),i=an))}else o=n&~s,o!==0?(r=bc(o),i=an):u!==0&&(r=bc(u),i=an);if(r===0)return 0;if(r=31-rl(r),r=n&((0>r?0:1<<r)<<1)-1,t!==0&&t!==r&&(t&s)===0){if(bc(t),i<=an)return t;an=i}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-rl(t),i=1<<n,r|=e[n],t&=~i;return r}function qA(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dg(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=Sc(24&~t),e===0?dg(10,t):e;case 10:return e=Sc(192&~t),e===0?dg(8,t):e;case 8:return e=Sc(3584&~t),e===0&&(e=Sc(4186112&~t),e===0&&(e=512)),e;case 2:return t=Sc(805306368&~t),t===0&&(t=268435456),t}throw Error(ke(358,e))}function Sc(e){return e&-e}function Xw(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Tv(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,e=e.eventTimes,t=31-rl(t),e[t]=n}var rl=Math.clz32?Math.clz32:bW,yW=Math.log,wW=Math.LN2;function bW(e){return e===0?32:31-(yW(e)/wW|0)|0}var SW=Jn.unstable_UserBlockingPriority,EW=Jn.unstable_runWithPriority,Fm=!0;function CW(e,t,n,r){au||dE();var i=vE,o=au;au=!0;try{PA(i,e,t,n,r)}finally{(au=o)||hE()}}function xW(e,t,n,r){EW(SW,vE.bind(null,e,t,n,r))}function vE(e,t,n,r){if(Fm){var i;if((i=(t&4)===0)&&0<aa.length&&-1<$I.indexOf(e))e=C0(null,e,t,n,r),aa.push(e);else{var o=yE(e,t,n,r);if(o===null)i&&WI(e,r);else{if(i){if(-1<$I.indexOf(e)){e=C0(o,e,t,n,r),aa.push(e);return}if(fW(o,e,t,n,r))return;WI(e,r)}oR(e,t,r,null,n)}}}}function yE(e,t,n,r){var i=cE(r);if(i=su(i),i!==null){var o=_u(i);if(o===null)i=null;else{var s=o.tag;if(s===13){if(i=DA(o),i!==null)return i;i=null}else if(s===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return oR(e,t,r,i,n),null}var Ls=null,wE=null,Um=null;function HA(){if(Um)return Um;var e,t=wE,n=t.length,r,i="value"in Ls?Ls.value:Ls.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Um=i.slice(e,1<r?1-r:void 0)}function $m(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fm(){return!0}function KI(){return!1}function Ri(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?fm:KI,this.isPropagationStopped=KI,this}return dn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fm)},persist:function(){},isPersistent:fm}),t}var xf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bE=Ri(xf),ep=dn({},xf,{view:0,detail:0}),NW=Ri(ep),Jw,Qw,yd,_v=dn({},ep,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:SE,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd&&(yd&&e.type==="mousemove"?(Jw=e.screenX-yd.screenX,Qw=e.screenY-yd.screenY):Qw=Jw=0,yd=e),Jw)},movementY:function(e){return"movementY"in e?e.movementY:Qw}}),VI=Ri(_v),IW=dn({},_v,{dataTransfer:0}),OW=Ri(IW),TW=dn({},ep,{relatedTarget:0}),Zw=Ri(TW),_W=dn({},xf,{animationName:0,elapsedTime:0,pseudoElement:0}),AW=Ri(_W),RW=dn({},xf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),PW=Ri(RW),kW=dn({},xf,{data:0}),qI=Ri(kW),DW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zW(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=MW[e])?!!t[e]:!1}function SE(){return zW}var BW=dn({},ep,{key:function(e){if(e.key){var t=DW[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$m(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?LW[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:SE,charCode:function(e){return e.type==="keypress"?$m(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$m(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),FW=Ri(BW),UW=dn({},_v,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),HI=Ri(UW),$W=dn({},ep,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:SE}),WW=Ri($W),jW=dn({},xf,{propertyName:0,elapsedTime:0,pseudoElement:0}),KW=Ri(jW),VW=dn({},_v,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qW=Ri(VW),HW=[9,13,27,32],EE=Ha&&"CompositionEvent"in window,Yd=null;Ha&&"documentMode"in document&&(Yd=document.documentMode);var GW=Ha&&"TextEvent"in window&&!Yd,GA=Ha&&(!EE||Yd&&8<Yd&&11>=Yd),GI=String.fromCharCode(32),YI=!1;function YA(e,t){switch(e){case"keyup":return HW.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XA(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cc=!1;function YW(e,t){switch(e){case"compositionend":return XA(t);case"keypress":return t.which!==32?null:(YI=!0,GI);case"textInput":return e=t.data,e===GI&&YI?null:e;default:return null}}function XW(e,t){if(Cc)return e==="compositionend"||!EE&&YA(e,t)?(e=HA(),Um=wE=Ls=null,Cc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return GA&&t.locale!=="ko"?null:t.data;default:return null}}var JW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!JW[e.type]:t==="textarea"}function JA(e,t,n,r){AA(r),t=hg(t,"onChange"),0<t.length&&(n=new bE("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xd=null,bh=null;function QW(e){nR(e,0)}function Av(e){var t=Nc(e);if(CA(t))return e}function ZW(e,t){if(e==="change")return t}var QA=!1;if(Ha){var eb;if(Ha){var tb="oninput"in document;if(!tb){var JI=document.createElement("div");JI.setAttribute("oninput","return;"),tb=typeof JI.oninput=="function"}eb=tb}else eb=!1;QA=eb&&(!document.documentMode||9<document.documentMode)}function QI(){Xd&&(Xd.detachEvent("onpropertychange",ZA),bh=Xd=null)}function ZA(e){if(e.propertyName==="value"&&Av(bh)){var t=[];if(JA(t,bh,e,cE(e)),e=QW,au)e(t);else{au=!0;try{fE(e,t)}finally{au=!1,hE()}}}}function e3(e,t,n){e==="focusin"?(QI(),Xd=t,bh=n,Xd.attachEvent("onpropertychange",ZA)):e==="focusout"&&QI()}function t3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Av(bh)}function n3(e,t){if(e==="click")return Av(t)}function r3(e,t){if(e==="input"||e==="change")return Av(t)}function i3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hi=typeof Object.is=="function"?Object.is:i3,o3=Object.prototype.hasOwnProperty;function Sh(e,t){if(Hi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!o3.call(t,n[r])||!Hi(e[n[r]],t[n[r]]))return!1;return!0}function ZI(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function eO(e,t){var n=ZI(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ZI(n)}}function eR(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?eR(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function tO(){for(var e=window,t=ug();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ug(e.document)}return t}function x0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var a3=Ha&&"documentMode"in document&&11>=document.documentMode,xc=null,N0=null,Jd=null,I0=!1;function nO(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;I0||xc==null||xc!==ug(r)||(r=xc,"selectionStart"in r&&x0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Jd&&Sh(Jd,r)||(Jd=r,r=hg(N0,"onSelect"),0<r.length&&(t=new bE("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=xc)))}gE("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);gE("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);gE(pW,2);for(var rO="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),nb=0;nb<rO.length;nb++)mE.set(rO[nb],0);Zc("onMouseEnter",["mouseout","mouseover"]);Zc("onMouseLeave",["mouseout","mouseover"]);Zc("onPointerEnter",["pointerout","pointerover"]);Zc("onPointerLeave",["pointerout","pointerover"]);Ou("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ou("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ou("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ou("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ou("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ou("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tR=new Set("cancel close invalid load scroll toggle".split(" ").concat(zd));function iO(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,uW(r,t,void 0,e),e.currentTarget=null}function nR(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var u=r[s],h=u.instance,p=u.currentTarget;if(u=u.listener,h!==o&&i.isPropagationStopped())break e;iO(i,u,p),o=h}else for(s=0;s<r.length;s++){if(u=r[s],h=u.instance,p=u.currentTarget,u=u.listener,h!==o&&i.isPropagationStopped())break e;iO(i,u,p),o=h}}}if(fg)throw e=S0,fg=!1,S0=null,e}function ln(e,t){var n=sR(t),r=e+"__bubble";n.has(r)||(iR(t,e,2,!1),n.add(r))}var oO="_reactListening"+Math.random().toString(36).slice(2);function rR(e){e[oO]||(e[oO]=!0,bA.forEach(function(t){tR.has(t)||aO(t,!1,e,null),aO(t,!0,e,null)}))}function aO(e,t,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=n;if(e==="selectionchange"&&n.nodeType!==9&&(o=n.ownerDocument),r!==null&&!t&&tR.has(e)){if(e!=="scroll")return;i|=2,o=r}var s=sR(o),u=e+"__"+(t?"capture":"bubble");s.has(u)||(t&&(i|=4),iR(o,e,i,t),s.add(u))}function iR(e,t,n,r){var i=mE.get(t);switch(i===void 0?2:i){case 0:i=CW;break;case 1:i=xW;break;default:i=vE}n=i.bind(null,t,n,e),i=void 0,!b0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function oR(e,t,n,r,i){var o=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var h=s.tag;if((h===3||h===4)&&(h=s.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;s=s.return}for(;u!==null;){if(s=su(u),s===null)return;if(h=s.tag,h===5||h===6){r=o=s;continue e}u=u.parentNode}}r=r.return}oW(function(){var p=o,v=cE(n),y=[];e:{var b=VA.get(e);if(b!==void 0){var I=bE,O=e;switch(e){case"keypress":if($m(n)===0)break e;case"keydown":case"keyup":I=FW;break;case"focusin":O="focus",I=Zw;break;case"focusout":O="blur",I=Zw;break;case"beforeblur":case"afterblur":I=Zw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=VI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=OW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=WW;break;case $A:case WA:case jA:I=AW;break;case KA:I=KW;break;case"scroll":I=NW;break;case"wheel":I=qW;break;case"copy":case"cut":case"paste":I=PW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=HI}var k=(t&4)!==0,E=!k&&e==="scroll",S=k?b!==null?b+"Capture":null:b;k=[];for(var N=p,_;N!==null;){_=N;var T=_.stateNode;if(_.tag===5&&T!==null&&(_=T,S!==null&&(T=gh(N,S),T!=null&&k.push(Eh(N,T,_)))),E)break;N=N.return}0<k.length&&(b=new I(b,O,null,n,v),y.push({event:b,listeners:k}))}}if((t&7)===0){e:{if(b=e==="mouseover"||e==="pointerover",I=e==="mouseout"||e==="pointerout",b&&(t&16)===0&&(O=n.relatedTarget||n.fromElement)&&(su(O)||O[Nf]))break e;if((I||b)&&(b=v.window===v?v:(b=v.ownerDocument)?b.defaultView||b.parentWindow:window,I?(O=n.relatedTarget||n.toElement,I=p,O=O?su(O):null,O!==null&&(E=_u(O),O!==E||O.tag!==5&&O.tag!==6)&&(O=null)):(I=null,O=p),I!==O)){if(k=VI,T="onMouseLeave",S="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(k=HI,T="onPointerLeave",S="onPointerEnter",N="pointer"),E=I==null?b:Nc(I),_=O==null?b:Nc(O),b=new k(T,N+"leave",I,n,v),b.target=E,b.relatedTarget=_,T=null,su(v)===p&&(k=new k(S,N+"enter",O,n,v),k.target=_,k.relatedTarget=E,T=k),E=T,I&&O)t:{for(k=I,S=O,N=0,_=k;_;_=fc(_))N++;for(_=0,T=S;T;T=fc(T))_++;for(;0<N-_;)k=fc(k),N--;for(;0<_-N;)S=fc(S),_--;for(;N--;){if(k===S||S!==null&&k===S.alternate)break t;k=fc(k),S=fc(S)}k=null}else k=null;I!==null&&sO(y,b,I,k,!1),O!==null&&E!==null&&sO(y,E,O,k,!0)}}e:{if(b=p?Nc(p):window,I=b.nodeName&&b.nodeName.toLowerCase(),I==="select"||I==="input"&&b.type==="file")var M=ZW;else if(XI(b))if(QA)M=r3;else{M=t3;var R=e3}else(I=b.nodeName)&&I.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(M=n3);if(M&&(M=M(e,p))){JA(y,M,n,v);break e}R&&R(e,b,p),e==="focusout"&&(R=b._wrapperState)&&R.controlled&&b.type==="number"&&d0(b,"number",b.value)}switch(R=p?Nc(p):window,e){case"focusin":(XI(R)||R.contentEditable==="true")&&(xc=R,N0=p,Jd=null);break;case"focusout":Jd=N0=xc=null;break;case"mousedown":I0=!0;break;case"contextmenu":case"mouseup":case"dragend":I0=!1,nO(y,n,v);break;case"selectionchange":if(a3)break;case"keydown":case"keyup":nO(y,n,v)}var B;if(EE)e:{switch(e){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else Cc?YA(e,n)&&(U="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(GA&&n.locale!=="ko"&&(Cc||U!=="onCompositionStart"?U==="onCompositionEnd"&&Cc&&(B=HA()):(Ls=v,wE="value"in Ls?Ls.value:Ls.textContent,Cc=!0)),R=hg(p,U),0<R.length&&(U=new qI(U,e,null,n,v),y.push({event:U,listeners:R}),B?U.data=B:(B=XA(n),B!==null&&(U.data=B)))),(B=GW?YW(e,n):XW(e,n))&&(p=hg(p,"onBeforeInput"),0<p.length&&(v=new qI("onBeforeInput","beforeinput",null,n,v),y.push({event:v,listeners:p}),v.data=B))}nR(y,t)})}function Eh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function hg(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=gh(e,n),o!=null&&r.unshift(Eh(e,o,i)),o=gh(e,t),o!=null&&r.push(Eh(e,o,i))),e=e.return}return r}function fc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sO(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var u=n,h=u.alternate,p=u.stateNode;if(h!==null&&h===r)break;u.tag===5&&p!==null&&(u=p,i?(h=gh(n,o),h!=null&&s.unshift(Eh(n,h,u))):i||(h=gh(n,o),h!=null&&s.push(Eh(n,h,u)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}function pg(){}var rb=null,ib=null;function aR(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function O0(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lO=typeof setTimeout=="function"?setTimeout:void 0,s3=typeof clearTimeout=="function"?clearTimeout:void 0;function CE(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function Uc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function uO(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ob=0;function l3(e){return{$$typeof:lE,toString:e,valueOf:e}}var Rv=Math.random().toString(36).slice(2),Ms="__reactFiber$"+Rv,mg="__reactProps$"+Rv,Nf="__reactContainer$"+Rv,cO="__reactEvents$"+Rv;function su(e){var t=e[Ms];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Nf]||n[Ms]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=uO(e);e!==null;){if(n=e[Ms])return n;e=uO(e)}return t}e=n,n=e.parentNode}return null}function tp(e){return e=e[Ms]||e[Nf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Nc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ke(33))}function Pv(e){return e[mg]||null}function sR(e){var t=e[cO];return t===void 0&&(t=e[cO]=new Set),t}var T0=[],Ic=-1;function fl(e){return{current:e}}function un(e){0>Ic||(e.current=T0[Ic],T0[Ic]=null,Ic--)}function Sn(e,t){Ic++,T0[Ic]=e.current,e.current=t}var il={},Sr=fl(il),Jr=fl(!1),vu=il;function ef(e,t){var n=e.type.contextTypes;if(!n)return il;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Qr(e){return e=e.childContextTypes,e!=null}function gg(){un(Jr),un(Sr)}function fO(e,t,n){if(Sr.current!==il)throw Error(ke(168));Sn(Sr,t),Sn(Jr,n)}function lR(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ke(108,Mc(t)||"Unknown",i));return dn({},n,r)}function Wm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||il,vu=Sr.current,Sn(Sr,e),Sn(Jr,Jr.current),!0}function dO(e,t,n){var r=e.stateNode;if(!r)throw Error(ke(169));n?(e=lR(e,t,vu),r.__reactInternalMemoizedMergedChildContext=e,un(Jr),un(Sr),Sn(Sr,e)):un(Jr),Sn(Jr,n)}var xE=null,du=null,u3=Jn.unstable_runWithPriority,NE=Jn.unstable_scheduleCallback,_0=Jn.unstable_cancelCallback,c3=Jn.unstable_shouldYield,hO=Jn.unstable_requestPaint,A0=Jn.unstable_now,f3=Jn.unstable_getCurrentPriorityLevel,kv=Jn.unstable_ImmediatePriority,uR=Jn.unstable_UserBlockingPriority,cR=Jn.unstable_NormalPriority,fR=Jn.unstable_LowPriority,dR=Jn.unstable_IdlePriority,ab={},d3=hO!==void 0?hO:function(){},Fa=null,jm=null,sb=!1,pO=A0(),wr=1e4>pO?A0:function(){return A0()-pO};function tf(){switch(f3()){case kv:return 99;case uR:return 98;case cR:return 97;case fR:return 96;case dR:return 95;default:throw Error(ke(332))}}function hR(e){switch(e){case 99:return kv;case 98:return uR;case 97:return cR;case 96:return fR;case 95:return dR;default:throw Error(ke(332))}}function yu(e,t){return e=hR(e),u3(e,t)}function Ch(e,t,n){return e=hR(e),NE(e,t,n)}function pa(){if(jm!==null){var e=jm;jm=null,_0(e)}pR()}function pR(){if(!sb&&Fa!==null){sb=!0;var e=0;try{var t=Fa;yu(99,function(){for(;e<t.length;e++){var n=t[e];do n=n(!0);while(n!==null)}}),Fa=null}catch(n){throw Fa!==null&&(Fa=Fa.slice(e+1)),NE(kv,pa),n}finally{sb=!1}}}var h3=Tu.ReactCurrentBatchConfig;function xo(e,t){if(e&&e.defaultProps){t=dn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var vg=fl(null),yg=null,Oc=null,wg=null;function IE(){wg=Oc=yg=null}function OE(e){var t=vg.current;un(vg),e.type._context._currentValue=t}function mR(e,t){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)===t){if(n===null||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,n!==null&&(n.childLanes|=t);e=e.return}}function $c(e,t){yg=e,wg=Oc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(_o=!0),e.firstContext=null)}function no(e,t){if(wg!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(wg=e,t=1073741823),t={context:e,observedBits:t,next:null},Oc===null){if(yg===null)throw Error(ke(308));Oc=t,yg.dependencies={lanes:0,firstContext:t,responders:null}}else Oc=Oc.next=t;return e._currentValue}var Ts=!1;function TE(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function gR(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qs(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function mO(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xh(e,t,n,r){var i=e.updateQueue;Ts=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var h=u,p=h.next;h.next=null,s===null?o=p:s.next=p,s=h;var v=e.alternate;if(v!==null){v=v.updateQueue;var y=v.lastBaseUpdate;y!==s&&(y===null?v.firstBaseUpdate=p:y.next=p,v.lastBaseUpdate=h)}}if(o!==null){y=i.baseState,s=0,v=p=h=null;do{u=o.lane;var b=o.eventTime;if((r&u)===u){v!==null&&(v=v.next={eventTime:b,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var I=e,O=o;switch(u=t,b=n,O.tag){case 1:if(I=O.payload,typeof I=="function"){y=I.call(b,y,u);break e}y=I;break e;case 3:I.flags=I.flags&-4097|64;case 0:if(I=O.payload,u=typeof I=="function"?I.call(b,y,u):I,u==null)break e;y=dn({},y,u);break e;case 2:Ts=!0}}o.callback!==null&&(e.flags|=32,u=i.effects,u===null?i.effects=[o]:u.push(o))}else b={eventTime:b,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},v===null?(p=v=b,h=y):v=v.next=b,s|=u;if(o=o.next,o===null){if(u=i.shared.pending,u===null)break;o=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}while(1);v===null&&(h=y),i.baseState=h,i.firstBaseUpdate=p,i.lastBaseUpdate=v,rp|=s,e.lanes=s,e.memoizedState=y}}function gO(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ke(191,i));i.call(r)}}}var vR=new xv.Component().refs;function bg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:dn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Dv={isMounted:function(e){return(e=e._reactInternals)?_u(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=bi(),i=Hs(e),o=Vs(r,i);o.payload=t,n!=null&&(o.callback=n),qs(e,o),Gs(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=bi(),i=Hs(e),o=Vs(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),qs(e,o),Gs(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=bi(),r=Hs(e),i=Vs(n,r);i.tag=2,t!=null&&(i.callback=t),qs(e,i),Gs(e,r,n)}};function vO(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Sh(n,r)||!Sh(i,o):!0}function yR(e,t,n){var r=!1,i=il,o=t.contextType;return typeof o=="object"&&o!==null?o=no(o):(i=Qr(t)?vu:Sr.current,r=t.contextTypes,o=(r=r!=null)?ef(e,i):il),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dv,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function yO(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Dv.enqueueReplaceState(t,t.state,null)}function R0(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=vR,TE(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=no(o):(o=Qr(t)?vu:Sr.current,i.context=ef(e,o)),xh(e,n,i,r),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(bg(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Dv.enqueueReplaceState(i,i.state,null),xh(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4)}var dm=Array.isArray;function wd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ke(309));var r=n.stateNode}if(!r)throw Error(ke(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var s=r.refs;s===vR&&(s=r.refs={}),o===null?delete s[i]:s[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ke(284));if(!n._owner)throw Error(ke(290,e))}return e}function hm(e,t){if(e.type!=="textarea")throw Error(ke(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function wR(e){function t(E,S){if(e){var N=E.lastEffect;N!==null?(N.nextEffect=S,E.lastEffect=S):E.firstEffect=E.lastEffect=S,S.nextEffect=null,S.flags=8}}function n(E,S){if(!e)return null;for(;S!==null;)t(E,S),S=S.sibling;return null}function r(E,S){for(E=new Map;S!==null;)S.key!==null?E.set(S.key,S):E.set(S.index,S),S=S.sibling;return E}function i(E,S){return E=al(E,S),E.index=0,E.sibling=null,E}function o(E,S,N){return E.index=N,e?(N=E.alternate,N!==null?(N=N.index,N<S?(E.flags=2,S):N):(E.flags=2,S)):S}function s(E){return e&&E.alternate===null&&(E.flags=2),E}function u(E,S,N,_){return S===null||S.tag!==6?(S=db(N,E.mode,_),S.return=E,S):(S=i(S,N),S.return=E,S)}function h(E,S,N,_){return S!==null&&S.elementType===N.type?(_=i(S,N.props),_.ref=wd(E,S,N),_.return=E,_):(_=Hm(N.type,N.key,N.props,null,E.mode,_),_.ref=wd(E,S,N),_.return=E,_)}function p(E,S,N,_){return S===null||S.tag!==4||S.stateNode.containerInfo!==N.containerInfo||S.stateNode.implementation!==N.implementation?(S=hb(N,E.mode,_),S.return=E,S):(S=i(S,N.children||[]),S.return=E,S)}function v(E,S,N,_,T){return S===null||S.tag!==7?(S=Vc(N,E.mode,_,T),S.return=E,S):(S=i(S,N),S.return=E,S)}function y(E,S,N){if(typeof S=="string"||typeof S=="number")return S=db(""+S,E.mode,N),S.return=E,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ld:return N=Hm(S.type,S.key,S.props,null,E.mode,N),N.ref=wd(E,null,S),N.return=E,N;case ou:return S=hb(S,E.mode,N),S.return=E,S}if(dm(S)||hd(S))return S=Vc(S,E.mode,N,null),S.return=E,S;hm(E,S)}return null}function b(E,S,N,_){var T=S!==null?S.key:null;if(typeof N=="string"||typeof N=="number")return T!==null?null:u(E,S,""+N,_);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ld:return N.key===T?N.type===Ps?v(E,S,N.props.children,_,T):h(E,S,N,_):null;case ou:return N.key===T?p(E,S,N,_):null}if(dm(N)||hd(N))return T!==null?null:v(E,S,N,_,null);hm(E,N)}return null}function I(E,S,N,_,T){if(typeof _=="string"||typeof _=="number")return E=E.get(N)||null,u(S,E,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ld:return E=E.get(_.key===null?N:_.key)||null,_.type===Ps?v(S,E,_.props.children,T,_.key):h(S,E,_,T);case ou:return E=E.get(_.key===null?N:_.key)||null,p(S,E,_,T)}if(dm(_)||hd(_))return E=E.get(N)||null,v(S,E,_,T,null);hm(S,_)}return null}function O(E,S,N,_){for(var T=null,M=null,R=S,B=S=0,U=null;R!==null&&B<N.length;B++){R.index>B?(U=R,R=null):U=R.sibling;var F=b(E,R,N[B],_);if(F===null){R===null&&(R=U);break}e&&R&&F.alternate===null&&t(E,R),S=o(F,S,B),M===null?T=F:M.sibling=F,M=F,R=U}if(B===N.length)return n(E,R),T;if(R===null){for(;B<N.length;B++)R=y(E,N[B],_),R!==null&&(S=o(R,S,B),M===null?T=R:M.sibling=R,M=R);return T}for(R=r(E,R);B<N.length;B++)U=I(R,E,B,N[B],_),U!==null&&(e&&U.alternate!==null&&R.delete(U.key===null?B:U.key),S=o(U,S,B),M===null?T=U:M.sibling=U,M=U);return e&&R.forEach(function(z){return t(E,z)}),T}function k(E,S,N,_){var T=hd(N);if(typeof T!="function")throw Error(ke(150));if(N=T.call(N),N==null)throw Error(ke(151));for(var M=T=null,R=S,B=S=0,U=null,F=N.next();R!==null&&!F.done;B++,F=N.next()){R.index>B?(U=R,R=null):U=R.sibling;var z=b(E,R,F.value,_);if(z===null){R===null&&(R=U);break}e&&R&&z.alternate===null&&t(E,R),S=o(z,S,B),M===null?T=z:M.sibling=z,M=z,R=U}if(F.done)return n(E,R),T;if(R===null){for(;!F.done;B++,F=N.next())F=y(E,F.value,_),F!==null&&(S=o(F,S,B),M===null?T=F:M.sibling=F,M=F);return T}for(R=r(E,R);!F.done;B++,F=N.next())F=I(R,E,B,F.value,_),F!==null&&(e&&F.alternate!==null&&R.delete(F.key===null?B:F.key),S=o(F,S,B),M===null?T=F:M.sibling=F,M=F);return e&&R.forEach(function($){return t(E,$)}),T}return function(E,S,N,_){var T=typeof N=="object"&&N!==null&&N.type===Ps&&N.key===null;T&&(N=N.props.children);var M=typeof N=="object"&&N!==null;if(M)switch(N.$$typeof){case Ld:e:{for(M=N.key,T=S;T!==null;){if(T.key===M){switch(T.tag){case 7:if(N.type===Ps){n(E,T.sibling),S=i(T,N.props.children),S.return=E,E=S;break e}break;default:if(T.elementType===N.type){n(E,T.sibling),S=i(T,N.props),S.ref=wd(E,T,N),S.return=E,E=S;break e}}n(E,T);break}else t(E,T);T=T.sibling}N.type===Ps?(S=Vc(N.props.children,E.mode,_,N.key),S.return=E,E=S):(_=Hm(N.type,N.key,N.props,null,E.mode,_),_.ref=wd(E,S,N),_.return=E,E=_)}return s(E);case ou:e:{for(T=N.key;S!==null;){if(S.key===T)if(S.tag===4&&S.stateNode.containerInfo===N.containerInfo&&S.stateNode.implementation===N.implementation){n(E,S.sibling),S=i(S,N.children||[]),S.return=E,E=S;break e}else{n(E,S);break}else t(E,S);S=S.sibling}S=hb(N,E.mode,_),S.return=E,E=S}return s(E)}if(typeof N=="string"||typeof N=="number")return N=""+N,S!==null&&S.tag===6?(n(E,S.sibling),S=i(S,N),S.return=E,E=S):(n(E,S),S=db(N,E.mode,_),S.return=E,E=S),s(E);if(dm(N))return O(E,S,N,_);if(hd(N))return k(E,S,N,_);if(M&&hm(E,N),typeof N=="undefined"&&!T)switch(E.tag){case 1:case 22:case 0:case 11:case 15:throw Error(ke(152,Mc(E.type)||"Component"))}return n(E,S)}}var Sg=wR(!0),bR=wR(!1),np={},ua=fl(np),Nh=fl(np),Ih=fl(np);function lu(e){if(e===np)throw Error(ke(174));return e}function P0(e,t){switch(Sn(Ih,t),Sn(Nh,e),Sn(ua,np),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:g0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=g0(t,e)}un(ua),Sn(ua,t)}function nf(){un(ua),un(Nh),un(Ih)}function wO(e){lu(Ih.current);var t=lu(ua.current),n=g0(t,e.type);t!==n&&(Sn(Nh,e),Sn(ua,n))}function _E(e){Nh.current===e&&(un(ua),un(Nh))}var bn=fl(0);function Eg(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&64)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $a=null,zs=null,ca=!1;function SR(e,t){var n=Gi(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function bO(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function k0(e){if(ca){var t=zs;if(t){var n=t;if(!bO(e,t)){if(t=Uc(n.nextSibling),!t||!bO(e,t)){e.flags=e.flags&-1025|2,ca=!1,$a=e;return}SR($a,n)}$a=e,zs=Uc(t.firstChild)}else e.flags=e.flags&-1025|2,ca=!1,$a=e}}function SO(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$a=e}function pm(e){if(e!==$a)return!1;if(!ca)return SO(e),ca=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!O0(t,e.memoizedProps))for(t=zs;t;)SR(e,t),t=Uc(t.nextSibling);if(SO(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ke(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){zs=Uc(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}zs=null}}else zs=$a?Uc(e.stateNode.nextSibling):null;return!0}function lb(){zs=$a=null,ca=!1}var Wc=[];function AE(){for(var e=0;e<Wc.length;e++)Wc[e]._workInProgressVersionPrimary=null;Wc.length=0}var Qd=Tu.ReactCurrentDispatcher,Xi=Tu.ReactCurrentBatchConfig,Oh=0,Rn=null,yr=null,ar=null,Cg=!1,Zd=!1;function qr(){throw Error(ke(321))}function RE(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Hi(e[n],t[n]))return!1;return!0}function PE(e,t,n,r,i,o){if(Oh=o,Rn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qd.current=e===null||e.memoizedState===null?m3:g3,e=n(r,i),Zd){o=0;do{if(Zd=!1,!(25>o))throw Error(ke(301));o+=1,ar=yr=null,t.updateQueue=null,Qd.current=v3,e=n(r,i)}while(Zd)}if(Qd.current=Og,t=yr!==null&&yr.next!==null,Oh=0,ar=yr=Rn=null,Cg=!1,t)throw Error(ke(300));return e}function uu(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?Rn.memoizedState=ar=e:ar=ar.next=e,ar}function Au(){if(yr===null){var e=Rn.alternate;e=e!==null?e.memoizedState:null}else e=yr.next;var t=ar===null?Rn.memoizedState:ar.next;if(t!==null)ar=t,yr=e;else{if(e===null)throw Error(ke(310));yr=e,e={memoizedState:yr.memoizedState,baseState:yr.baseState,baseQueue:yr.baseQueue,queue:yr.queue,next:null},ar===null?Rn.memoizedState=ar=e:ar=ar.next=e}return ar}function sa(e,t){return typeof t=="function"?t(e):t}function bd(e){var t=Au(),n=t.queue;if(n===null)throw Error(ke(311));n.lastRenderedReducer=e;var r=yr,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var u=s=o=null,h=i;do{var p=h.lane;if((Oh&p)===p)u!==null&&(u=u.next={lane:0,action:h.action,eagerReducer:h.eagerReducer,eagerState:h.eagerState,next:null}),r=h.eagerReducer===e?h.eagerState:e(r,h.action);else{var v={lane:p,action:h.action,eagerReducer:h.eagerReducer,eagerState:h.eagerState,next:null};u===null?(s=u=v,o=r):u=u.next=v,Rn.lanes|=p,rp|=p}h=h.next}while(h!==null&&h!==i);u===null?o=r:u.next=s,Hi(r,t.memoizedState)||(_o=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Sd(e){var t=Au(),n=t.queue;if(n===null)throw Error(ke(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Hi(o,t.memoizedState)||(_o=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function EO(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(i!==null?e=i===r:(e=e.mutableReadLanes,(e=(Oh&e)===e)&&(t._workInProgressVersionPrimary=r,Wc.push(t))),e)return n(t._source);throw Wc.push(t),Error(ke(350))}function ER(e,t,n,r){var i=Dr;if(i===null)throw Error(ke(349));var o=t._getVersion,s=o(t._source),u=Qd.current,h=u.useState(function(){return EO(i,t,n)}),p=h[1],v=h[0];h=ar;var y=e.memoizedState,b=y.refs,I=b.getSnapshot,O=y.source;y=y.subscribe;var k=Rn;return e.memoizedState={refs:b,source:t,subscribe:r},u.useEffect(function(){b.getSnapshot=n,b.setSnapshot=p;var E=o(t._source);if(!Hi(s,E)){E=n(t._source),Hi(v,E)||(p(E),E=Hs(k),i.mutableReadLanes|=E&i.pendingLanes),E=i.mutableReadLanes,i.entangledLanes|=E;for(var S=i.entanglements,N=E;0<N;){var _=31-rl(N),T=1<<_;S[_]|=E,N&=~T}}},[n,t,r]),u.useEffect(function(){return r(t._source,function(){var E=b.getSnapshot,S=b.setSnapshot;try{S(E(t._source));var N=Hs(k);i.mutableReadLanes|=N&i.pendingLanes}catch(_){S(function(){throw _})}})},[t,r]),Hi(I,n)&&Hi(O,t)&&Hi(y,r)||(e={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:v},e.dispatch=p=LE.bind(null,Rn,e),h.queue=e,h.baseQueue=null,v=EO(i,t,n),h.memoizedState=h.baseState=v),v}function CR(e,t,n){var r=Au();return ER(r,e,t,n)}function Ed(e){var t=uu();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:e},e=e.dispatch=LE.bind(null,Rn,e),[t.memoizedState,e]}function xg(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Rn.updateQueue,t===null?(t={lastEffect:null},Rn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function CO(e){var t=uu();return e={current:e},t.memoizedState=e}function Ng(){return Au().memoizedState}function D0(e,t,n,r){var i=uu();Rn.flags|=e,i.memoizedState=xg(1|t,n,void 0,r===void 0?null:r)}function kE(e,t,n,r){var i=Au();r=r===void 0?null:r;var o=void 0;if(yr!==null){var s=yr.memoizedState;if(o=s.destroy,r!==null&&RE(r,s.deps)){xg(t,n,o,r);return}}Rn.flags|=e,i.memoizedState=xg(1|t,n,o,r)}function xO(e,t){return D0(516,4,e,t)}function Ig(e,t){return kE(516,4,e,t)}function xR(e,t){return kE(4,2,e,t)}function NR(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function IR(e,t,n){return n=n!=null?n.concat([e]):null,kE(4,2,NR.bind(null,t,e),n)}function DE(){}function OR(e,t){var n=Au();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&RE(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function TR(e,t){var n=Au();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&RE(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function p3(e,t){var n=tf();yu(98>n?98:n,function(){e(!0)}),yu(97<n?97:n,function(){var r=Xi.transition;Xi.transition=1;try{e(!1),t()}finally{Xi.transition=r}})}function LE(e,t,n){var r=bi(),i=Hs(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},s=t.pending;if(s===null?o.next=o:(o.next=s.next,s.next=o),t.pending=o,s=e.alternate,e===Rn||s!==null&&s===Rn)Zd=Cg=!0;else{if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var u=t.lastRenderedState,h=s(u,n);if(o.eagerReducer=s,o.eagerState=h,Hi(h,u))return}catch{}finally{}Gs(e,i,r)}}var Og={readContext:no,useCallback:qr,useContext:qr,useEffect:qr,useImperativeHandle:qr,useLayoutEffect:qr,useMemo:qr,useReducer:qr,useRef:qr,useState:qr,useDebugValue:qr,useDeferredValue:qr,useTransition:qr,useMutableSource:qr,useOpaqueIdentifier:qr,unstable_isNewReconciler:!1},m3={readContext:no,useCallback:function(e,t){return uu().memoizedState=[e,t===void 0?null:t],e},useContext:no,useEffect:xO,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,D0(4,2,NR.bind(null,t,e),n)},useLayoutEffect:function(e,t){return D0(4,2,e,t)},useMemo:function(e,t){var n=uu();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uu();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=LE.bind(null,Rn,e),[r.memoizedState,e]},useRef:CO,useState:Ed,useDebugValue:DE,useDeferredValue:function(e){var t=Ed(e),n=t[0],r=t[1];return xO(function(){var i=Xi.transition;Xi.transition=1;try{r(e)}finally{Xi.transition=i}},[e]),n},useTransition:function(){var e=Ed(!1),t=e[0];return e=p3.bind(null,e[1]),CO(e),[e,t]},useMutableSource:function(e,t,n){var r=uu();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ER(r,e,t,n)},useOpaqueIdentifier:function(){if(ca){var e=!1,t=l3(function(){throw e||(e=!0,n("r:"+(ob++).toString(36))),Error(ke(355))}),n=Ed(t)[1];return(Rn.mode&2)===0&&(Rn.flags|=516,xg(5,function(){n("r:"+(ob++).toString(36))},void 0,null)),t}return t="r:"+(ob++).toString(36),Ed(t),t},unstable_isNewReconciler:!1},g3={readContext:no,useCallback:OR,useContext:no,useEffect:Ig,useImperativeHandle:IR,useLayoutEffect:xR,useMemo:TR,useReducer:bd,useRef:Ng,useState:function(){return bd(sa)},useDebugValue:DE,useDeferredValue:function(e){var t=bd(sa),n=t[0],r=t[1];return Ig(function(){var i=Xi.transition;Xi.transition=1;try{r(e)}finally{Xi.transition=i}},[e]),n},useTransition:function(){var e=bd(sa)[0];return[Ng().current,e]},useMutableSource:CR,useOpaqueIdentifier:function(){return bd(sa)[0]},unstable_isNewReconciler:!1},v3={readContext:no,useCallback:OR,useContext:no,useEffect:Ig,useImperativeHandle:IR,useLayoutEffect:xR,useMemo:TR,useReducer:Sd,useRef:Ng,useState:function(){return Sd(sa)},useDebugValue:DE,useDeferredValue:function(e){var t=Sd(sa),n=t[0],r=t[1];return Ig(function(){var i=Xi.transition;Xi.transition=1;try{r(e)}finally{Xi.transition=i}},[e]),n},useTransition:function(){var e=Sd(sa)[0];return[Ng().current,e]},useMutableSource:CR,useOpaqueIdentifier:function(){return Sd(sa)[0]},unstable_isNewReconciler:!1},y3=Tu.ReactCurrentOwner,_o=!1;function Gr(e,t,n,r){t.child=e===null?bR(t,null,n,r):Sg(t,e.child,n,r)}function NO(e,t,n,r,i){n=n.render;var o=t.ref;return $c(t,i),r=PE(e,t,n,r,o,i),e!==null&&!_o?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Wa(e,t,i)):(t.flags|=1,Gr(e,t,r,i),t.child)}function IO(e,t,n,r,i,o){if(e===null){var s=n.type;return typeof s=="function"&&!$E(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,_R(e,t,s,r,i,o)):(e=Hm(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}return s=e.child,(i&o)===0&&(i=s.memoizedProps,n=n.compare,n=n!==null?n:Sh,n(i,r)&&e.ref===t.ref)?Wa(e,t,o):(t.flags|=1,e=al(s,r),e.ref=t.ref,e.return=t,t.child=e)}function _R(e,t,n,r,i,o){if(e!==null&&Sh(e.memoizedProps,r)&&e.ref===t.ref)if(_o=!1,(o&i)!==0)(e.flags&16384)!==0&&(_o=!0);else return t.lanes=e.lanes,Wa(e,t,o);return L0(e,t,n,r,o)}function ub(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((t.mode&4)===0)t.memoizedState={baseLanes:0},gm(t,n);else if((n&1073741824)!==0)t.memoizedState={baseLanes:0},gm(t,o!==null?o.baseLanes:n);else return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},gm(t,e),null;else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,gm(t,r);return Gr(e,t,i,n),t.child}function AR(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=128)}function L0(e,t,n,r,i){var o=Qr(n)?vu:Sr.current;return o=ef(t,o),$c(t,i),n=PE(e,t,n,r,o,i),e!==null&&!_o?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Wa(e,t,i)):(t.flags|=1,Gr(e,t,n,i),t.child)}function OO(e,t,n,r,i){if(Qr(n)){var o=!0;Wm(t)}else o=!1;if($c(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),yR(t,n,r),R0(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,u=t.memoizedProps;s.props=u;var h=s.context,p=n.contextType;typeof p=="object"&&p!==null?p=no(p):(p=Qr(n)?vu:Sr.current,p=ef(t,p));var v=n.getDerivedStateFromProps,y=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function";y||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==r||h!==p)&&yO(t,s,r,p),Ts=!1;var b=t.memoizedState;s.state=b,xh(t,r,s,i),h=t.memoizedState,u!==r||b!==h||Jr.current||Ts?(typeof v=="function"&&(bg(t,n,v,r),h=t.memoizedState),(u=Ts||vO(t,n,u,r,b,h,p))?(y||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4)):(typeof s.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=h),s.props=r,s.state=h,s.context=p,r=u):(typeof s.componentDidMount=="function"&&(t.flags|=4),r=!1)}else{s=t.stateNode,gR(e,t),u=t.memoizedProps,p=t.type===t.elementType?u:xo(t.type,u),s.props=p,y=t.pendingProps,b=s.context,h=n.contextType,typeof h=="object"&&h!==null?h=no(h):(h=Qr(n)?vu:Sr.current,h=ef(t,h));var I=n.getDerivedStateFromProps;(v=typeof I=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==y||b!==h)&&yO(t,s,r,h),Ts=!1,b=t.memoizedState,s.state=b,xh(t,r,s,i);var O=t.memoizedState;u!==y||b!==O||Jr.current||Ts?(typeof I=="function"&&(bg(t,n,I,r),O=t.memoizedState),(p=Ts||vO(t,n,p,r,b,O,h))?(v||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,O,h),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,O,h)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&b===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=O),s.props=r,s.state=O,s.context=h,r=p):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&b===e.memoizedState||(t.flags|=256),r=!1)}return M0(e,t,n,r,o,i)}function M0(e,t,n,r,i,o){AR(e,t);var s=(t.flags&64)!==0;if(!r&&!s)return i&&dO(t,n,!1),Wa(e,t,o);r=t.stateNode,y3.current=t;var u=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Sg(t,e.child,null,o),t.child=Sg(t,null,u,o)):Gr(e,t,u,o),t.memoizedState=r.state,i&&dO(t,n,!0),t.child}function TO(e){var t=e.stateNode;t.pendingContext?fO(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fO(e,t.context,!1),P0(e,t.containerInfo)}var mm={dehydrated:null,retryLane:0};function _O(e,t,n){var r=t.pendingProps,i=bn.current,o=!1,s;return(s=(t.flags&64)!==0)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-65):e!==null&&e.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),Sn(bn,i&1),e===null?(r.fallback!==void 0&&k0(t),e=r.children,i=r.fallback,o?(e=AO(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=mm,e):typeof r.unstable_expectedLoadTime=="number"?(e=AO(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=mm,t.lanes=33554432,e):(n=WE({mode:"visible",children:e},t.mode,n,null),n.return=t,t.child=n)):e.memoizedState!==null?o?(r=PO(e,t,r.children,r.fallback,n),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=mm,r):(n=RO(e,t,r.children,n),t.memoizedState=null,n):o?(r=PO(e,t,r.children,r.fallback,n),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=mm,r):(n=RO(e,t,r.children,n),t.memoizedState=null,n)}function AO(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},(i&2)===0&&o!==null?(o.childLanes=0,o.pendingProps=t):o=WE(t,i,0,null),n=Vc(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function RO(e,t,n,r){var i=e.child;return e=i.sibling,n=al(i,{mode:"visible",children:n}),(t.mode&2)===0&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function PO(e,t,n,r,i){var o=t.mode,s=e.child;e=s.sibling;var u={mode:"hidden",children:n};return(o&2)===0&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,s=n.lastEffect,s!==null?(t.firstEffect=n.firstEffect,t.lastEffect=s,s.nextEffect=null):t.firstEffect=t.lastEffect=null):n=al(s,u),e!==null?r=al(e,r):(r=Vc(r,o,i,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,r}function kO(e,t){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),mR(e.return,t)}function cb(e,t,n,r,i,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.lastEffect=o)}function DO(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Gr(e,t,r.children,n),r=bn.current,(r&2)!==0)r=r&1|2,t.flags|=64;else{if(e!==null&&(e.flags&64)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kO(e,n);else if(e.tag===19)kO(e,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Sn(bn,r),(t.mode&2)===0)t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Eg(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),cb(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Eg(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}cb(t,!0,n,null,o,t.lastEffect);break;case"together":cb(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Wa(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),rp|=t.lanes,(n&t.childLanes)!==0){if(e!==null&&t.child!==e.child)throw Error(ke(153));if(t.child!==null){for(e=t.child,n=al(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=al(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}return null}var RR,z0,PR,kR;RR=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};z0=function(){};PR=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,lu(ua.current);var o=null;switch(n){case"input":i=c0(e,i),r=c0(e,r),o=[];break;case"option":i=h0(e,i),r=h0(e,r),o=[];break;case"select":i=dn({},i,{value:void 0}),r=dn({},r,{value:void 0}),o=[];break;case"textarea":i=p0(e,i),r=p0(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=pg)}v0(n,r);var s;n=null;for(p in i)if(!r.hasOwnProperty(p)&&i.hasOwnProperty(p)&&i[p]!=null)if(p==="style"){var u=i[p];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(ph.hasOwnProperty(p)?o||(o=[]):(o=o||[]).push(p,null));for(p in r){var h=r[p];if(u=i!=null?i[p]:void 0,r.hasOwnProperty(p)&&h!==u&&(h!=null||u!=null))if(p==="style")if(u){for(s in u)!u.hasOwnProperty(s)||h&&h.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in h)h.hasOwnProperty(s)&&u[s]!==h[s]&&(n||(n={}),n[s]=h[s])}else n||(o||(o=[]),o.push(p,n)),n=h;else p==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,u=u?u.__html:void 0,h!=null&&u!==h&&(o=o||[]).push(p,h)):p==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(p,""+h):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(ph.hasOwnProperty(p)?(h!=null&&p==="onScroll"&&ln("scroll",e),o||u===h||(o=[])):typeof h=="object"&&h!==null&&h.$$typeof===lE?h.toString():(o=o||[]).push(p,h))}n&&(o=o||[]).push("style",n);var p=o;(t.updateQueue=p)&&(t.flags|=4)}};kR=function(e,t,n,r){n!==r&&(t.flags|=4)};function Cd(e,t){if(!ca)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function w3(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Qr(t.type)&&gg(),null;case 3:return nf(),un(Jr),un(Sr),AE(),r=t.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(pm(t)?t.flags|=4:r.hydrate||(t.flags|=256)),z0(t),null;case 5:_E(t);var i=lu(Ih.current);if(n=t.type,e!==null&&t.stateNode!=null)PR(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(t.stateNode===null)throw Error(ke(166));return null}if(e=lu(ua.current),pm(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Ms]=t,r[mg]=o,n){case"dialog":ln("cancel",r),ln("close",r);break;case"iframe":case"object":case"embed":ln("load",r);break;case"video":case"audio":for(e=0;e<zd.length;e++)ln(zd[e],r);break;case"source":ln("error",r);break;case"img":case"image":case"link":ln("error",r),ln("load",r);break;case"details":ln("toggle",r);break;case"input":DI(r,o),ln("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ln("invalid",r);break;case"textarea":MI(r,o),ln("invalid",r)}v0(n,o),e=null;for(var s in o)o.hasOwnProperty(s)&&(i=o[s],s==="children"?typeof i=="string"?r.textContent!==i&&(e=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(e=["children",""+i]):ph.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&ln("scroll",r));switch(n){case"input":lm(r),LI(r,o,!0);break;case"textarea":lm(r),zI(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=pg)}r=e,t.updateQueue=r,r!==null&&(t.flags|=4)}else{switch(s=i.nodeType===9?i:i.ownerDocument,e===m0.html&&(e=IA(n)),e===m0.html?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Ms]=t,e[mg]=r,RR(e,t,!1,!1),t.stateNode=e,s=y0(n,r),n){case"dialog":ln("cancel",e),ln("close",e),i=r;break;case"iframe":case"object":case"embed":ln("load",e),i=r;break;case"video":case"audio":for(i=0;i<zd.length;i++)ln(zd[i],e);i=r;break;case"source":ln("error",e),i=r;break;case"img":case"image":case"link":ln("error",e),ln("load",e),i=r;break;case"details":ln("toggle",e),i=r;break;case"input":DI(e,r),i=c0(e,r),ln("invalid",e);break;case"option":i=h0(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=dn({},r,{value:void 0}),ln("invalid",e);break;case"textarea":MI(e,r),i=p0(e,r),ln("invalid",e);break;default:i=r}v0(n,i);var u=i;for(o in u)if(u.hasOwnProperty(o)){var h=u[o];o==="style"?_A(e,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&OA(e,h)):o==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&mh(e,h):typeof h=="number"&&mh(e,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ph.hasOwnProperty(o)?h!=null&&o==="onScroll"&&ln("scroll",e):h!=null&&nE(e,o,h,s))}switch(n){case"input":lm(e),LI(e,r,!1);break;case"textarea":lm(e),zI(e);break;case"option":r.value!=null&&e.setAttribute("value",""+nl(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?zc(e,!!r.multiple,o,!1):r.defaultValue!=null&&zc(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=pg)}aR(n,r)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)kR(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ke(166));n=lu(Ih.current),lu(ua.current),pm(t)?(r=t.stateNode,n=t.memoizedProps,r[Ms]=t,r.nodeValue!==n&&(t.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ms]=t,t.stateNode=r)}return null;case 13:return un(bn),r=t.memoizedState,(t.flags&64)!==0?(t.lanes=n,t):(r=r!==null,n=!1,e===null?t.memoizedProps.fallback!==void 0&&pm(t):n=e.memoizedState!==null,r&&!n&&(t.mode&2)!==0&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||(bn.current&1)!==0?sr===0&&(sr=3):((sr===0||sr===3)&&(sr=4),Dr===null||(rp&134217727)===0&&(Of&134217727)===0||jc(Dr,br))),(r||n)&&(t.flags|=4),null);case 4:return nf(),z0(t),e===null&&rR(t.stateNode.containerInfo),null;case 10:return OE(t),null;case 17:return Qr(t.type)&&gg(),null;case 19:if(un(bn),r=t.memoizedState,r===null)return null;if(o=(t.flags&64)!==0,s=r.rendering,s===null)if(o)Cd(r,!1);else{if(sr!==0||e!==null&&(e.flags&64)!==0)for(e=t.child;e!==null;){if(s=Eg(e),s!==null){for(t.flags|=64,Cd(r,!1),o=s.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),r.lastEffect===null&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Sn(bn,bn.current&1|2),t.child}e=e.sibling}r.tail!==null&&wr()>j0&&(t.flags|=64,o=!0,Cd(r,!1),t.lanes=33554432)}else{if(!o)if(e=Eg(s),e!==null){if(t.flags|=64,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Cd(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!ca)return t=t.lastEffect=r.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*wr()-r.renderingStartTime>j0&&n!==1073741824&&(t.flags|=64,o=!0,Cd(r,!1),t.lanes=33554432);r.isBackwards?(s.sibling=t.child,t.child=s):(n=r.last,n!==null?n.sibling=s:t.child=s,r.last=s)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=wr(),n.sibling=null,t=bn.current,Sn(bn,o?t&1|2:t&1),n):null;case 23:case 24:return UE(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error(ke(156,t.tag))}function b3(e){switch(e.tag){case 1:Qr(e.type)&&gg();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(nf(),un(Jr),un(Sr),AE(),t=e.flags,(t&64)!==0)throw Error(ke(285));return e.flags=t&-4097|64,e;case 5:return _E(e),null;case 13:return un(bn),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return un(bn),null;case 4:return nf(),null;case 10:return OE(e),null;case 23:case 24:return UE(),null;default:return null}}function ME(e,t){try{var n="",r=t;do n+=eW(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i}}function B0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var S3=typeof WeakMap=="function"?WeakMap:Map;function DR(e,t,n){n=Vs(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){_g||(_g=!0,K0=r),B0(e,t)},n}function LR(e,t,n){n=Vs(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return B0(e,t),r(i)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(la===null?la=new Set([this]):la.add(this),B0(e,t));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}var E3=typeof WeakSet=="function"?WeakSet:Set;function LO(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){Ys(e,n)}else t.current=null}function C3(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var n=e.memoizedProps,r=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:xo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&CE(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(ke(163))}function x3(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var i=e;r=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(KR(n,e),P3(n,e)),e=r}while(e!==t)}return;case 1:e=n.stateNode,n.flags&4&&(t===null?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:xo(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=n.updateQueue,t!==null&&gO(n,t,e);return;case 3:if(t=n.updateQueue,t!==null){if(e=null,n.child!==null)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}gO(n,t,e)}return;case 5:e=n.stateNode,t===null&&n.flags&4&&aR(n.type,n.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&FA(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(ke(163))}function MO(e,t){for(var n=e;;){if(n.tag===5){var r=n.stateNode;if(t)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=TA("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function zO(e,t){if(du&&typeof du.onCommitFiberUnmount=="function")try{du.onCommitFiberUnmount(xE,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if((r&4)!==0)KR(t,n);else{r=t;try{i()}catch(o){Ys(r,o)}}n=n.next}while(n!==e)}break;case 1:if(LO(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Ys(t,o)}break;case 5:LO(t);break;case 4:MR(e,t)}}function BO(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function FO(e){return e.tag===5||e.tag===3||e.tag===4}function UO(e){e:{for(var t=e.return;t!==null;){if(FO(t))break e;t=t.return}throw Error(ke(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:t=t.containerInfo,r=!0;break;case 4:t=t.containerInfo,r=!0;break;default:throw Error(ke(161))}n.flags&16&&(mh(t,""),n.flags&=-17);e:t:for(n=e;;){for(;n.sibling===null;){if(n.return===null||FO(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?F0(e,n,t):U0(e,n,t)}function F0(e,t,n){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=pg));else if(r!==4&&(e=e.child,e!==null))for(F0(e,t,n),e=e.sibling;e!==null;)F0(e,t,n),e=e.sibling}function U0(e,t,n){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(U0(e,t,n),e=e.sibling;e!==null;)U0(e,t,n),e=e.sibling}function MR(e,t){for(var n=t,r=!1,i,o;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(ke(160));switch(i=r.stateNode,r.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var s=e,u=n,h=u;;)if(zO(s,h),h.child!==null&&h.tag!==4)h.child.return=h,h=h.child;else{if(h===u)break e;for(;h.sibling===null;){if(h.return===null||h.return===u)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}o?(s=i,u=n.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,o=!0,n.child.return=n,n=n.child;continue}}else if(zO(e,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function fb(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(e=r.destroy,r.destroy=void 0,e!==void 0&&e()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=t.stateNode,n!=null){r=t.memoizedProps;var i=e!==null?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,o!==null){for(n[mg]=r,e==="input"&&r.type==="radio"&&r.name!=null&&xA(n,r),y0(e,i),t=y0(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];s==="style"?_A(n,u):s==="dangerouslySetInnerHTML"?OA(n,u):s==="children"?mh(n,u):nE(n,s,u,t)}switch(e){case"input":f0(n,r);break;case"textarea":NA(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,o=r.value,o!=null?zc(n,!!r.multiple,o,!1):e!==!!r.multiple&&(r.defaultValue!=null?zc(n,!!r.multiple,r.defaultValue,!0):zc(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(ke(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:n=t.stateNode,n.hydrate&&(n.hydrate=!1,FA(n.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(FE=wr(),MO(t.child,!0)),$O(t);return;case 19:$O(t);return;case 17:return;case 23:case 24:MO(t,t.memoizedState!==null);return}throw Error(ke(163))}function $O(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new E3),t.forEach(function(r){var i=L3.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function N3(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var I3=Math.ceil,Tg=Tu.ReactCurrentDispatcher,zE=Tu.ReactCurrentOwner,bt=0,Dr=null,zn=null,br=0,wu=0,$0=fl(0),sr=0,Lv=null,If=0,rp=0,Of=0,BE=0,W0=null,FE=0,j0=1/0;function Tf(){j0=wr()+500}var Je=null,_g=!1,K0=null,la=null,ol=!1,eh=null,Bd=90,V0=[],q0=[],Va=null,th=0,H0=null,Km=-1,Ua=0,Vm=0,nh=null,qm=!1;function bi(){return(bt&48)!==0?wr():Km!==-1?Km:Km=wr()}function Hs(e){if(e=e.mode,(e&2)===0)return 1;if((e&4)===0)return tf()===99?1:2;if(Ua===0&&(Ua=If),h3.transition!==0){Vm!==0&&(Vm=W0!==null?W0.pendingLanes:0),e=Ua;var t=4186112&~Vm;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=tf(),(bt&4)!==0&&e===98?e=dg(12,Ua):(e=gW(e),e=dg(e,Ua)),e}function Gs(e,t,n){if(50<th)throw th=0,H0=null,Error(ke(185));if(e=Mv(e,t),e===null)return null;Tv(e,t,n),e===Dr&&(Of|=t,sr===4&&jc(e,br));var r=tf();t===1?(bt&8)!==0&&(bt&48)===0?G0(e):(ro(e,n),bt===0&&(Tf(),pa())):((bt&4)===0||r!==98&&r!==99||(Va===null?Va=new Set([e]):Va.add(e)),ro(e,n)),W0=e}function Mv(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}function ro(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-rl(s),h=1<<u,p=o[u];if(p===-1){if((h&r)===0||(h&i)!==0){p=t,bc(h);var v=an;o[u]=10<=v?p+250:6<=v?p+5e3:-1}}else p<=t&&(e.expiredLanes|=h);s&=~h}if(r=wh(e,e===Dr?br:0),t=an,r===0)n!==null&&(n!==ab&&_0(n),e.callbackNode=null,e.callbackPriority=0);else{if(n!==null){if(e.callbackPriority===t)return;n!==ab&&_0(n)}t===15?(n=G0.bind(null,e),Fa===null?(Fa=[n],jm=NE(kv,pR)):Fa.push(n),n=ab):t===14?n=Ch(99,G0.bind(null,e)):(n=vW(t),n=Ch(n,zR.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function zR(e){if(Km=-1,Vm=Ua=0,(bt&48)!==0)throw Error(ke(327));var t=e.callbackNode;if(dl()&&e.callbackNode!==t)return null;var n=wh(e,e===Dr?br:0);if(n===0)return null;var r=n,i=bt;bt|=16;var o=$R();(Dr!==e||br!==r)&&(Tf(),Kc(e,r));do try{_3();break}catch(u){UR(e,u)}while(1);if(IE(),Tg.current=o,bt=i,zn!==null?r=0:(Dr=null,br=0,r=sr),(If&Of)!==0)Kc(e,0);else if(r!==0){if(r===2&&(bt|=64,e.hydrate&&(e.hydrate=!1,CE(e.containerInfo)),n=qA(e),n!==0&&(r=Fd(e,n))),r===1)throw t=Lv,Kc(e,0),jc(e,n),ro(e,wr()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(ke(345));case 2:Zl(e);break;case 3:if(jc(e,n),(n&62914560)===n&&(r=FE+500-wr(),10<r)){if(wh(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){bi(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=lO(Zl.bind(null,e),r);break}Zl(e);break;case 4:if(jc(e,n),(n&4186112)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-rl(n);o=1<<s,s=r[s],s>i&&(i=s),n&=~o}if(n=i,n=wr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*I3(n/1960))-n,10<n){e.timeoutHandle=lO(Zl.bind(null,e),n);break}Zl(e);break;case 5:Zl(e);break;default:throw Error(ke(329))}}return ro(e,wr()),e.callbackNode===t?zR.bind(null,e):null}function jc(e,t){for(t&=~BE,t&=~Of,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rl(t),r=1<<n;e[n]=-1,t&=~r}}function G0(e){if((bt&48)!==0)throw Error(ke(327));if(dl(),e===Dr&&(e.expiredLanes&br)!==0){var t=br,n=Fd(e,t);(If&Of)!==0&&(t=wh(e,t),n=Fd(e,t))}else t=wh(e,0),n=Fd(e,t);if(e.tag!==0&&n===2&&(bt|=64,e.hydrate&&(e.hydrate=!1,CE(e.containerInfo)),t=qA(e),t!==0&&(n=Fd(e,t))),n===1)throw n=Lv,Kc(e,0),jc(e,t),ro(e,wr()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zl(e),ro(e,wr()),null}function O3(){if(Va!==null){var e=Va;Va=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,ro(t,wr())})}pa()}function BR(e,t){var n=bt;bt|=1;try{return e(t)}finally{bt=n,bt===0&&(Tf(),pa())}}function FR(e,t){var n=bt;bt&=-2,bt|=8;try{return e(t)}finally{bt=n,bt===0&&(Tf(),pa())}}function gm(e,t){Sn($0,wu),wu|=t,If|=t}function UE(){wu=$0.current,un($0)}function Kc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,s3(n)),zn!==null)for(n=zn.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&gg();break;case 3:nf(),un(Jr),un(Sr),AE();break;case 5:_E(r);break;case 4:nf();break;case 13:un(bn);break;case 19:un(bn);break;case 10:OE(r);break;case 23:case 24:UE()}n=n.return}Dr=e,zn=al(e.current,null),br=wu=If=t,sr=0,Lv=null,BE=Of=rp=0}function UR(e,t){do{var n=zn;try{if(IE(),Qd.current=Og,Cg){for(var r=Rn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cg=!1}if(Oh=0,ar=yr=Rn=null,Zd=!1,zE.current=null,n===null||n.return===null){sr=1,Lv=t,zn=null;break}e:{var o=e,s=n.return,u=n,h=t;if(t=br,u.flags|=2048,u.firstEffect=u.lastEffect=null,h!==null&&typeof h=="object"&&typeof h.then=="function"){var p=h;if((u.mode&2)===0){var v=u.alternate;v?(u.updateQueue=v.updateQueue,u.memoizedState=v.memoizedState,u.lanes=v.lanes):(u.updateQueue=null,u.memoizedState=null)}var y=(bn.current&1)!==0,b=s;do{var I;if(I=b.tag===13){var O=b.memoizedState;if(O!==null)I=O.dehydrated!==null;else{var k=b.memoizedProps;I=k.fallback===void 0?!1:k.unstable_avoidThisFallback!==!0?!0:!y}}if(I){var E=b.updateQueue;if(E===null){var S=new Set;S.add(p),b.updateQueue=S}else E.add(p);if((b.mode&2)===0){if(b.flags|=64,u.flags|=16384,u.flags&=-2981,u.tag===1)if(u.alternate===null)u.tag=17;else{var N=Vs(-1,1);N.tag=2,qs(u,N)}u.lanes|=1;break e}h=void 0,u=t;var _=o.pingCache;if(_===null?(_=o.pingCache=new S3,h=new Set,_.set(p,h)):(h=_.get(p),h===void 0&&(h=new Set,_.set(p,h))),!h.has(u)){h.add(u);var T=D3.bind(null,o,p,u);p.then(T,T)}b.flags|=4096,b.lanes=t;break e}b=b.return}while(b!==null);h=Error((Mc(u.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}sr!==5&&(sr=2),h=ME(h,u),b=s;do{switch(b.tag){case 3:o=h,b.flags|=4096,t&=-t,b.lanes|=t;var M=DR(b,o,t);mO(b,M);break e;case 1:o=h;var R=b.type,B=b.stateNode;if((b.flags&64)===0&&(typeof R.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(la===null||!la.has(B)))){b.flags|=4096,t&=-t,b.lanes|=t;var U=LR(b,o,t);mO(b,U);break e}}b=b.return}while(b!==null)}jR(n)}catch(F){t=F,zn===n&&n!==null&&(zn=n=n.return);continue}break}while(1)}function $R(){var e=Tg.current;return Tg.current=Og,e===null?Og:e}function Fd(e,t){var n=bt;bt|=16;var r=$R();Dr===e&&br===t||Kc(e,t);do try{T3();break}catch(i){UR(e,i)}while(1);if(IE(),bt=n,Tg.current=r,zn!==null)throw Error(ke(261));return Dr=null,br=0,sr}function T3(){for(;zn!==null;)WR(zn)}function _3(){for(;zn!==null&&!c3();)WR(zn)}function WR(e){var t=VR(e.alternate,e,wu);e.memoizedProps=e.pendingProps,t===null?jR(e):zn=t,zE.current=null}function jR(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&2048)===0){if(n=w3(n,t,wu),n!==null){zn=n;return}if(n=t,n.tag!==24&&n.tag!==23||n.memoizedState===null||(wu&1073741824)!==0||(n.mode&4)===0){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}e!==null&&(e.flags&2048)===0&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(n=b3(t),n!==null){n.flags&=2047,zn=n;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(t=t.sibling,t!==null){zn=t;return}zn=t=e}while(t!==null);sr===0&&(sr=5)}function Zl(e){var t=tf();return yu(99,A3.bind(null,e,t)),null}function A3(e,t){do dl();while(eh!==null);if((bt&48)!==0)throw Error(ke(327));var n=e.finishedWork;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ke(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var h=31-rl(o),p=1<<h;i[h]=0,s[h]=-1,u[h]=-1,o&=~p}if(Va!==null&&(r&24)===0&&Va.has(e)&&Va.delete(e),e===Dr&&(zn=Dr=null,br=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=bt,bt|=32,zE.current=null,rb=Fm,s=tO(),x0(s)){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(p=u.getSelection&&u.getSelection())&&p.rangeCount!==0){u=p.anchorNode,o=p.anchorOffset,h=p.focusNode,p=p.focusOffset;try{u.nodeType,h.nodeType}catch{u=null;break e}var v=0,y=-1,b=-1,I=0,O=0,k=s,E=null;t:for(;;){for(var S;k!==u||o!==0&&k.nodeType!==3||(y=v+o),k!==h||p!==0&&k.nodeType!==3||(b=v+p),k.nodeType===3&&(v+=k.nodeValue.length),(S=k.firstChild)!==null;)E=k,k=S;for(;;){if(k===s)break t;if(E===u&&++I===o&&(y=v),E===h&&++O===p&&(b=v),(S=k.nextSibling)!==null)break;k=E,E=k.parentNode}k=S}u=y===-1||b===-1?null:{start:y,end:b}}else u=null;u=u||{start:0,end:0}}else u=null;ib={focusedElem:s,selectionRange:u},Fm=!1,nh=null,qm=!1,Je=r;do try{R3()}catch(F){if(Je===null)throw Error(ke(330));Ys(Je,F),Je=Je.nextEffect}while(Je!==null);nh=null,Je=r;do try{for(s=e;Je!==null;){var N=Je.flags;if(N&16&&mh(Je.stateNode,""),N&128){var _=Je.alternate;if(_!==null){var T=_.ref;T!==null&&(typeof T=="function"?T(null):T.current=null)}}switch(N&1038){case 2:UO(Je),Je.flags&=-3;break;case 6:UO(Je),Je.flags&=-3,fb(Je.alternate,Je);break;case 1024:Je.flags&=-1025;break;case 1028:Je.flags&=-1025,fb(Je.alternate,Je);break;case 4:fb(Je.alternate,Je);break;case 8:u=Je,MR(s,u);var M=u.alternate;BO(u),M!==null&&BO(M)}Je=Je.nextEffect}}catch(F){if(Je===null)throw Error(ke(330));Ys(Je,F),Je=Je.nextEffect}while(Je!==null);if(T=ib,_=tO(),N=T.focusedElem,s=T.selectionRange,_!==N&&N&&N.ownerDocument&&eR(N.ownerDocument.documentElement,N)){for(s!==null&&x0(N)&&(_=s.start,T=s.end,T===void 0&&(T=_),"selectionStart"in N?(N.selectionStart=_,N.selectionEnd=Math.min(T,N.value.length)):(T=(_=N.ownerDocument||document)&&_.defaultView||window,T.getSelection&&(T=T.getSelection(),u=N.textContent.length,M=Math.min(s.start,u),s=s.end===void 0?M:Math.min(s.end,u),!T.extend&&M>s&&(u=s,s=M,M=u),u=eO(N,M),o=eO(N,s),u&&o&&(T.rangeCount!==1||T.anchorNode!==u.node||T.anchorOffset!==u.offset||T.focusNode!==o.node||T.focusOffset!==o.offset)&&(_=_.createRange(),_.setStart(u.node,u.offset),T.removeAllRanges(),M>s?(T.addRange(_),T.extend(o.node,o.offset)):(_.setEnd(o.node,o.offset),T.addRange(_)))))),_=[],T=N;T=T.parentNode;)T.nodeType===1&&_.push({element:T,left:T.scrollLeft,top:T.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<_.length;N++)T=_[N],T.element.scrollLeft=T.left,T.element.scrollTop=T.top}Fm=!!rb,ib=rb=null,e.current=n,Je=r;do try{for(N=e;Je!==null;){var R=Je.flags;if(R&36&&x3(N,Je.alternate,Je),R&128){_=void 0;var B=Je.ref;if(B!==null){var U=Je.stateNode;switch(Je.tag){case 5:_=U;break;default:_=U}typeof B=="function"?B(_):B.current=_}}Je=Je.nextEffect}}catch(F){if(Je===null)throw Error(ke(330));Ys(Je,F),Je=Je.nextEffect}while(Je!==null);Je=null,d3(),bt=i}else e.current=n;if(ol)ol=!1,eh=e,Bd=t;else for(Je=r;Je!==null;)t=Je.nextEffect,Je.nextEffect=null,Je.flags&8&&(R=Je,R.sibling=null,R.stateNode=null),Je=t;if(r=e.pendingLanes,r===0&&(la=null),r===1?e===H0?th++:(th=0,H0=e):th=0,n=n.stateNode,du&&typeof du.onCommitFiberRoot=="function")try{du.onCommitFiberRoot(xE,n,void 0,(n.current.flags&64)===64)}catch{}if(ro(e,wr()),_g)throw _g=!1,e=K0,K0=null,e;return(bt&8)!==0||pa(),null}function R3(){for(;Je!==null;){var e=Je.alternate;qm||nh===null||((Je.flags&8)!==0?UI(Je,nh)&&(qm=!0):Je.tag===13&&N3(e,Je)&&UI(Je,nh)&&(qm=!0));var t=Je.flags;(t&256)!==0&&C3(e,Je),(t&512)===0||ol||(ol=!0,Ch(97,function(){return dl(),null})),Je=Je.nextEffect}}function dl(){if(Bd!==90){var e=97<Bd?97:Bd;return Bd=90,yu(e,k3)}return!1}function P3(e,t){V0.push(t,e),ol||(ol=!0,Ch(97,function(){return dl(),null}))}function KR(e,t){q0.push(t,e),ol||(ol=!0,Ch(97,function(){return dl(),null}))}function k3(){if(eh===null)return!1;var e=eh;if(eh=null,(bt&48)!==0)throw Error(ke(331));var t=bt;bt|=32;var n=q0;q0=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,typeof s=="function")try{s()}catch(h){if(o===null)throw Error(ke(330));Ys(o,h)}}for(n=V0,V0=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(h){if(o===null)throw Error(ke(330));Ys(o,h)}}for(u=e.current.firstEffect;u!==null;)e=u.nextEffect,u.nextEffect=null,u.flags&8&&(u.sibling=null,u.stateNode=null),u=e;return bt=t,pa(),!0}function WO(e,t,n){t=ME(n,t),t=DR(e,t,1),qs(e,t),t=bi(),e=Mv(e,1),e!==null&&(Tv(e,1,t),ro(e,t))}function Ys(e,t){if(e.tag===3)WO(e,e,t);else for(var n=e.return;n!==null;){if(n.tag===3){WO(n,e,t);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(la===null||!la.has(r))){e=ME(t,e);var i=LR(n,e,1);if(qs(n,i),i=bi(),n=Mv(n,1),n!==null)Tv(n,1,i),ro(n,i);else if(typeof r.componentDidCatch=="function"&&(la===null||!la.has(r)))try{r.componentDidCatch(t,e)}catch{}break}}n=n.return}}function D3(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=bi(),e.pingedLanes|=e.suspendedLanes&n,Dr===e&&(br&n)===n&&(sr===4||sr===3&&(br&62914560)===br&&500>wr()-FE?Kc(e,0):BE|=n),ro(e,t)}function L3(e,t){var n=e.stateNode;n!==null&&n.delete(t),t=0,t===0&&(t=e.mode,(t&2)===0?t=1:(t&4)===0?t=tf()===99?1:2:(Ua===0&&(Ua=If),t=Sc(62914560&~Ua),t===0&&(t=4194304))),n=bi(),e=Mv(e,t),e!==null&&(Tv(e,t,n),ro(e,n))}var VR;VR=function(e,t,n){var r=t.lanes;if(e!==null)if(e.memoizedProps!==t.pendingProps||Jr.current)_o=!0;else if((n&r)!==0)_o=(e.flags&16384)!==0;else{switch(_o=!1,t.tag){case 3:TO(t),lb();break;case 5:wO(t);break;case 1:Qr(t.type)&&Wm(t);break;case 4:P0(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;Sn(vg,i._currentValue),i._currentValue=r;break;case 13:if(t.memoizedState!==null)return(n&t.child.childLanes)!==0?_O(e,t,n):(Sn(bn,bn.current&1),t=Wa(e,t,n),t!==null?t.sibling:null);Sn(bn,bn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&64)!==0){if(r)return DO(e,t,n);t.flags|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Sn(bn,bn.current),r)break;return null;case 23:case 24:return t.lanes=0,ub(e,t,n)}return Wa(e,t,n)}else _o=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=ef(t,Sr.current),$c(t,n),i=PE(null,t,r,e,i,n),t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qr(r)){var o=!0;Wm(t)}else o=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,TE(t);var s=r.getDerivedStateFromProps;typeof s=="function"&&bg(t,r,s,e),i.updater=Dv,t.stateNode=i,i._reactInternals=t,R0(t,r,e,n),t=M0(null,t,r,!0,o,n)}else t.tag=0,Gr(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=z3(i),e=xo(i,e),o){case 0:t=L0(null,t,i,e,n);break e;case 1:t=OO(null,t,i,e,n);break e;case 11:t=NO(null,t,i,e,n);break e;case 14:t=IO(null,t,i,xo(i.type,e),r,n);break e}throw Error(ke(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xo(r,i),L0(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xo(r,i),OO(e,t,r,i,n);case 3:if(TO(t),r=t.updateQueue,e===null||r===null)throw Error(ke(282));if(r=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,gR(e,t),xh(t,r,null,n),r=t.memoizedState.element,r===i)lb(),t=Wa(e,t,n);else{if(i=t.stateNode,(o=i.hydrate)&&(zs=Uc(t.stateNode.containerInfo.firstChild),$a=t,o=ca=!0),o){if(e=i.mutableSourceEagerHydrationData,e!=null)for(i=0;i<e.length;i+=2)o=e[i],o._workInProgressVersionPrimary=e[i+1],Wc.push(o);for(n=bR(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else Gr(e,t,r,n),lb();t=t.child}return t;case 5:return wO(t),e===null&&k0(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,O0(r,i)?s=null:o!==null&&O0(r,o)&&(t.flags|=16),AR(e,t),Gr(e,t,s,n),t.child;case 6:return e===null&&k0(t),null;case 13:return _O(e,t,n);case 4:return P0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Sg(t,null,r,n):Gr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xo(r,i),NO(e,t,r,i,n);case 7:return Gr(e,t,t.pendingProps,n),t.child;case 8:return Gr(e,t,t.pendingProps.children,n),t.child;case 12:return Gr(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(Sn(vg,u._currentValue),u._currentValue=o,s!==null)if(u=s.value,o=Hi(u,o)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(u,o):1073741823)|0,o===0){if(s.children===i.children&&!Jr.current){t=Wa(e,t,n);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var h=u.dependencies;if(h!==null){s=u.child;for(var p=h.firstContext;p!==null;){if(p.context===r&&(p.observedBits&o)!==0){u.tag===1&&(p=Vs(-1,n&-n),p.tag=2,qs(u,p)),u.lanes|=n,p=u.alternate,p!==null&&(p.lanes|=n),mR(u.return,n),h.lanes|=n;break}p=p.next}}else s=u.tag===10&&u.type===t.type?null:u.child;if(s!==null)s.return=u;else for(s=u;s!==null;){if(s===t){s=null;break}if(u=s.sibling,u!==null){u.return=s.return,s=u;break}s=s.return}u=s}Gr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps,r=o.children,$c(t,n),i=no(i,o.unstable_observedBits),r=r(i),t.flags|=1,Gr(e,t,r,n),t.child;case 14:return i=t.type,o=xo(i,t.pendingProps),o=xo(i.type,o),IO(e,t,i,o,r,n);case 15:return _R(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xo(r,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Qr(r)?(e=!0,Wm(t)):e=!1,$c(t,n),yR(t,r,i),R0(t,r,i,n),M0(null,t,r,!0,e,n);case 19:return DO(e,t,n);case 23:return ub(e,t,n);case 24:return ub(e,t,n)}throw Error(ke(156,t.tag))};function M3(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Gi(e,t,n,r){return new M3(e,t,n,r)}function $E(e){return e=e.prototype,!(!e||!e.isReactComponent)}function z3(e){if(typeof e=="function")return $E(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Nv)return 11;if(e===Iv)return 14}return 2}function al(e,t){var n=e.alternate;return n===null?(n=Gi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hm(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")$E(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ps:return Vc(n.children,i,o,t);case SA:s=8,i|=16;break;case rE:s=8,i|=1;break;case Vd:return e=Gi(12,n,t,i|8),e.elementType=Vd,e.type=Vd,e.lanes=o,e;case qd:return e=Gi(13,n,t,i),e.type=qd,e.elementType=qd,e.lanes=o,e;case lg:return e=Gi(19,n,t,i),e.elementType=lg,e.lanes=o,e;case uE:return WE(n,i,o,t);case u0:return e=Gi(24,n,t,i),e.elementType=u0,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case iE:s=10;break e;case oE:s=9;break e;case Nv:s=11;break e;case Iv:s=14;break e;case aE:s=16,r=null;break e;case sE:s=22;break e}throw Error(ke(130,e==null?e:typeof e,""))}return t=Gi(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Vc(e,t,n,r){return e=Gi(7,e,r,t),e.lanes=n,e}function WE(e,t,n,r){return e=Gi(23,e,r,t),e.elementType=uE,e.lanes=n,e}function db(e,t,n){return e=Gi(6,e,null,t),e.lanes=n,e}function hb(e,t,n){return t=Gi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function B3(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Xw(0),this.expirationTimes=Xw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xw(0),this.mutableSourceEagerHydrationData=null}function F3(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ou,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ag(e,t,n,r){var i=t.current,o=bi(),s=Hs(i);e:if(n){n=n._reactInternals;t:{if(_u(n)!==n||n.tag!==1)throw Error(ke(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(Qr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(u!==null);throw Error(ke(171))}if(n.tag===1){var h=n.type;if(Qr(h)){n=lR(n,h,u);break e}}n=u}else n=il;return t.context===null?t.context=n:t.pendingContext=n,t=Vs(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),qs(i,t),Gs(i,s,o),s}function pb(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jO(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function jE(e,t){jO(e,t),(e=e.alternate)&&jO(e,t)}function U3(){return null}function KE(e,t,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new B3(e,t,n!=null&&n.hydrate===!0),t=Gi(3,null,null,t===2?7:t===1?3:0),n.current=t,t.stateNode=n,TE(t),e[Nf]=n.current,rR(e.nodeType===8?e.parentNode:e),r)for(e=0;e<r.length;e++){t=r[e];var i=t._getVersion;i=i(t._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}KE.prototype.render=function(e){Ag(e,this._internalRoot,null,null)};KE.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ag(null,e,null,function(){t[Nf]=null})};function ip(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $3(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new KE(e,0,t?{hydrate:!0}:void 0)}function zv(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if(typeof i=="function"){var u=i;i=function(){var p=pb(s);u.call(p)}}Ag(t,s,e,i)}else{if(o=n._reactRootContainer=$3(n,r),s=o._internalRoot,typeof i=="function"){var h=i;i=function(){var p=pb(s);h.call(p)}}FR(function(){Ag(t,s,e,i)})}return pb(s)}MA=function(e){if(e.tag===13){var t=bi();Gs(e,4,t),jE(e,4)}};pE=function(e){if(e.tag===13){var t=bi();Gs(e,67108864,t),jE(e,67108864)}};zA=function(e){if(e.tag===13){var t=bi(),n=Hs(e);Gs(e,n,t),jE(e,n)}};BA=function(e,t){return t()};w0=function(e,t,n){switch(t){case"input":if(f0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Pv(r);if(!i)throw Error(ke(90));CA(r),f0(r,i)}}}break;case"textarea":NA(e,n);break;case"select":t=n.value,t!=null&&zc(e,!!n.multiple,t,!1)}};fE=BR;PA=function(e,t,n,r,i){var o=bt;bt|=4;try{return yu(98,e.bind(null,t,n,r,i))}finally{bt=o,bt===0&&(Tf(),pa())}};dE=function(){(bt&49)===0&&(O3(),dl())};kA=function(e,t){var n=bt;bt|=2;try{return e(t)}finally{bt=n,bt===0&&(Tf(),pa())}};function qR(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ip(t))throw Error(ke(200));return F3(e,t,null,n)}var W3={Events:[tp,Nc,Pv,AA,RA,dl,{current:!1}]},xd={findFiberByHostInstance:su,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},j3={bundleType:xd.bundleType,version:xd.version,rendererPackageName:xd.rendererPackageName,rendererConfig:xd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=LA(e),e===null?null:e.stateNode},findFiberByHostInstance:xd.findFiberByHostInstance||U3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var vm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vm.isDisabled&&vm.supportsFiber)try{xE=vm.inject(j3),du=vm}catch{}}oo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W3;oo.createPortal=qR;oo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ke(188)):Error(ke(268,Object.keys(e)));return e=LA(t),e=e===null?null:e.stateNode,e};oo.flushSync=function(e,t){var n=bt;if((n&48)!==0)return e(t);bt|=1;try{if(e)return yu(99,e.bind(null,t))}finally{bt=n,pa()}};oo.hydrate=function(e,t,n){if(!ip(t))throw Error(ke(200));return zv(null,e,t,!0,n)};oo.render=function(e,t,n){if(!ip(t))throw Error(ke(200));return zv(null,e,t,!1,n)};oo.unmountComponentAtNode=function(e){if(!ip(e))throw Error(ke(40));return e._reactRootContainer?(FR(function(){zv(null,null,e,!1,function(){e._reactRootContainer=null,e[Nf]=null})}),!0):!1};oo.unstable_batchedUpdates=BR;oo.unstable_createPortal=function(e,t){return qR(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};oo.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ip(n))throw Error(ke(200));if(e==null||e._reactInternals===void 0)throw Error(ke(38));return zv(e,t,n,!1,r)};oo.version="17.0.2";function HR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HR)}catch(e){console.error(e)}}HR(),Zh.exports=oo;var VE=Zh.exports,K3=tA({__proto__:null,default:VE},[Zh.exports]),Y0={exports:{}},bu={},qE={exports:{}},V3="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",q3=V3,H3=q3;function GR(){}function YR(){}YR.resetWarningCache=GR;var G3=function(){function e(r,i,o,s,u,h){if(h!==H3){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:YR,resetWarningCache:GR};return n.PropTypes=n,n};qE.exports=G3();var X0={exports:{}},Lo={},Rg={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n=/input|select|textarea|button|object|iframe/;function r(h){var p=h.offsetWidth<=0&&h.offsetHeight<=0;if(p&&!h.innerHTML)return!0;try{var v=window.getComputedStyle(h);return p?v.getPropertyValue("overflow")!=="visible"||h.scrollWidth<=0&&h.scrollHeight<=0:v.getPropertyValue("display")=="none"}catch{return console.warn("Failed to inspect element style"),!1}}function i(h){for(var p=h,v=h.getRootNode&&h.getRootNode();p&&p!==document.body;){if(v&&p===v&&(p=v.host.parentNode),r(p))return!1;p=p.parentNode}return!0}function o(h,p){var v=h.nodeName.toLowerCase(),y=n.test(v)&&!h.disabled||v==="a"&&h.href||p;return y&&i(h)}function s(h){var p=h.getAttribute("tabindex");p===null&&(p=void 0);var v=isNaN(p);return(v||p>=0)&&o(h,!v)}function u(h){var p=[].slice.call(h.querySelectorAll("*"),0).reduce(function(v,y){return v.concat(y.shadowRoot?u(y.shadowRoot):[y])},[]);return p.filter(s)}e.exports=t.default})(Rg,Rg.exports);Object.defineProperty(Lo,"__esModule",{value:!0});Lo.resetState=Q3;Lo.log=Z3;Lo.handleBlur=Th;Lo.handleFocus=_h;Lo.markForFocusLater=ej;Lo.returnFocus=tj;Lo.popWithoutFocus=nj;Lo.setupScopedFocus=rj;Lo.teardownScopedFocus=ij;var Y3=Rg.exports,X3=J3(Y3);function J3(e){return e&&e.__esModule?e:{default:e}}var rf=[],Tc=null,J0=!1;function Q3(){rf=[]}function Z3(){}function Th(){J0=!0}function _h(){if(J0){if(J0=!1,!Tc)return;setTimeout(function(){if(!Tc.contains(document.activeElement)){var e=(0,X3.default)(Tc)[0]||Tc;e.focus()}},0)}}function ej(){rf.push(document.activeElement)}function tj(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=null;try{rf.length!==0&&(t=rf.pop(),t.focus({preventScroll:e}));return}catch{console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}}function nj(){rf.length>0&&rf.pop()}function rj(e){Tc=e,window.addEventListener?(window.addEventListener("blur",Th,!1),document.addEventListener("focus",_h,!0)):(window.attachEvent("onBlur",Th),document.attachEvent("onFocus",_h))}function ij(){Tc=null,window.addEventListener?(window.removeEventListener("blur",Th),document.removeEventListener("focus",_h)):(window.detachEvent("onBlur",Th),document.detachEvent("onFocus",_h))}var Q0={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=Rg.exports,r=i(n);function i(u){return u&&u.__esModule?u:{default:u}}function o(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return u.activeElement.shadowRoot?o(u.activeElement.shadowRoot):u.activeElement}function s(u,h){var p=(0,r.default)(u);if(!p.length){h.preventDefault();return}var v=void 0,y=h.shiftKey,b=p[0],I=p[p.length-1],O=o();if(u===O){if(!y)return;v=I}if(I===O&&!y&&(v=b),b===O&&y&&(v=I),v){h.preventDefault(),v.focus();return}var k=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),E=k!=null&&k[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(!!E){var S=p.indexOf(O);if(S>-1&&(S+=y?-1:1),v=p[S],typeof v=="undefined"){h.preventDefault(),v=y?I:b,v.focus();return}h.preventDefault(),v.focus()}}e.exports=t.default})(Q0,Q0.exports);var Mo={},oj=function(){},aj=oj,Ro={},XR={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(e){(function(){var t=!!(typeof window!="undefined"&&window.document&&window.document.createElement),n={canUseDOM:t,canUseWorkers:typeof Worker!="undefined",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=n:window.ExecutionEnvironment=n})()})(XR);Object.defineProperty(Ro,"__esModule",{value:!0});Ro.canUseDOM=Ro.SafeNodeList=Ro.SafeHTMLCollection=void 0;var sj=XR.exports,lj=uj(sj);function uj(e){return e&&e.__esModule?e:{default:e}}var Bv=lj.default,cj=Bv.canUseDOM?window.HTMLElement:{};Ro.SafeHTMLCollection=Bv.canUseDOM?window.HTMLCollection:{};Ro.SafeNodeList=Bv.canUseDOM?window.NodeList:{};Ro.canUseDOM=Bv.canUseDOM;Ro.default=cj;Object.defineProperty(Mo,"__esModule",{value:!0});Mo.resetState=mj;Mo.log=gj;Mo.assertNodeList=JR;Mo.setElement=vj;Mo.validateElement=HE;Mo.hide=yj;Mo.show=wj;Mo.documentNotReadyOrSSRTesting=bj;var fj=aj,dj=pj(fj),hj=Ro;function pj(e){return e&&e.__esModule?e:{default:e}}var Vi=null;function mj(){Vi&&(Vi.removeAttribute?Vi.removeAttribute("aria-hidden"):Vi.length!=null?Vi.forEach(function(e){return e.removeAttribute("aria-hidden")}):document.querySelectorAll(Vi).forEach(function(e){return e.removeAttribute("aria-hidden")})),Vi=null}function gj(){}function JR(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function vj(e){var t=e;if(typeof t=="string"&&hj.canUseDOM){var n=document.querySelectorAll(t);JR(n,t),t=n}return Vi=t||Vi,Vi}function HE(e){var t=e||Vi;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,dj.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function yj(e){var t=!0,n=!1,r=void 0;try{for(var i=HE(e)[Symbol.iterator](),o;!(t=(o=i.next()).done);t=!0){var s=o.value;s.setAttribute("aria-hidden","true")}}catch(u){n=!0,r=u}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}function wj(e){var t=!0,n=!1,r=void 0;try{for(var i=HE(e)[Symbol.iterator](),o;!(t=(o=i.next()).done);t=!0){var s=o.value;s.removeAttribute("aria-hidden")}}catch(u){n=!0,r=u}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}function bj(){Vi=null}var _f={};Object.defineProperty(_f,"__esModule",{value:!0});_f.resetState=Sj;_f.log=Ej;var rh={},ih={};function KO(e,t){e.classList.remove(t)}function Sj(){var e=document.getElementsByTagName("html")[0];for(var t in rh)KO(e,rh[t]);var n=document.body;for(var r in ih)KO(n,ih[r]);rh={},ih={}}function Ej(){}var Cj=function(t,n){return t[n]||(t[n]=0),t[n]+=1,n},xj=function(t,n){return t[n]&&(t[n]-=1),n},Nj=function(t,n,r){r.forEach(function(i){Cj(n,i),t.add(i)})},Ij=function(t,n,r){r.forEach(function(i){xj(n,i),n[i]===0&&t.remove(i)})};_f.add=function(t,n){return Nj(t.classList,t.nodeName.toLowerCase()=="html"?rh:ih,n.split(" "))};_f.remove=function(t,n){return Ij(t.classList,t.nodeName.toLowerCase()=="html"?rh:ih,n.split(" "))};var Af={};Object.defineProperty(Af,"__esModule",{value:!0});Af.log=Tj;Af.resetState=_j;function Oj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var QR=function e(){var t=this;Oj(this,e),this.register=function(n){t.openInstances.indexOf(n)===-1&&(t.openInstances.push(n),t.emit("register"))},this.deregister=function(n){var r=t.openInstances.indexOf(n);r!==-1&&(t.openInstances.splice(r,1),t.emit("deregister"))},this.subscribe=function(n){t.subscribers.push(n)},this.emit=function(n){t.subscribers.forEach(function(r){return r(n,t.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},Pg=new QR;function Tj(){console.log("portalOpenInstances ----------"),console.log(Pg.openInstances.length),Pg.openInstances.forEach(function(e){return console.log(e)}),console.log("end portalOpenInstances ----------")}function _j(){Pg=new QR}Af.default=Pg;var GE={};Object.defineProperty(GE,"__esModule",{value:!0});GE.resetState=kj;GE.log=Dj;var Aj=Af,Rj=Pj(Aj);function Pj(e){return e&&e.__esModule?e:{default:e}}var vr=void 0,No=void 0,hu=[];function kj(){for(var e=[vr,No],t=0;t<e.length;t++){var n=e[t];!n||n.parentNode&&n.parentNode.removeChild(n)}vr=No=null,hu=[]}function Dj(){console.log("bodyTrap ----------"),console.log(hu.length);for(var e=[vr,No],t=0;t<e.length;t++){var n=e[t],r=n||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")}function VO(){hu.length!==0&&hu[hu.length-1].focusContent()}function Lj(e,t){!vr&&!No&&(vr=document.createElement("div"),vr.setAttribute("data-react-modal-body-trap",""),vr.style.position="absolute",vr.style.opacity="0",vr.setAttribute("tabindex","0"),vr.addEventListener("focus",VO),No=vr.cloneNode(),No.addEventListener("focus",VO)),hu=t,hu.length>0?(document.body.firstChild!==vr&&document.body.insertBefore(vr,document.body.firstChild),document.body.lastChild!==No&&document.body.appendChild(No)):(vr.parentElement&&vr.parentElement.removeChild(vr),No.parentElement&&No.parentElement.removeChild(No))}Rj.default.subscribe(Lj);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(q){for(var re=1;re<arguments.length;re++){var ne=arguments[re];for(var Q in ne)Object.prototype.hasOwnProperty.call(ne,Q)&&(q[Q]=ne[Q])}return q},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},i=function(){function q(re,ne){for(var Q=0;Q<ne.length;Q++){var X=ne[Q];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(re,X.key,X)}}return function(re,ne,Q){return ne&&q(re.prototype,ne),Q&&q(re,Q),re}}(),o=H.exports,s=qE.exports,u=M(s),h=Lo,p=T(h),v=Q0.exports,y=M(v),b=Mo,I=T(b),O=_f,k=T(O),E=Ro,S=M(E),N=Af,_=M(N);function T(q){if(q&&q.__esModule)return q;var re={};if(q!=null)for(var ne in q)Object.prototype.hasOwnProperty.call(q,ne)&&(re[ne]=q[ne]);return re.default=q,re}function M(q){return q&&q.__esModule?q:{default:q}}function R(q,re){if(!(q instanceof re))throw new TypeError("Cannot call a class as a function")}function B(q,re){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return re&&(typeof re=="object"||typeof re=="function")?re:q}function U(q,re){if(typeof re!="function"&&re!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof re);q.prototype=Object.create(re&&re.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),re&&(Object.setPrototypeOf?Object.setPrototypeOf(q,re):q.__proto__=re)}var F={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},z=9,$=27,G=0,te=function(q){U(re,q);function re(ne){R(this,re);var Q=B(this,(re.__proto__||Object.getPrototypeOf(re)).call(this,ne));return Q.setOverlayRef=function(X){Q.overlay=X,Q.props.overlayRef&&Q.props.overlayRef(X)},Q.setContentRef=function(X){Q.content=X,Q.props.contentRef&&Q.props.contentRef(X)},Q.afterClose=function(){var X=Q.props,J=X.appElement,ie=X.ariaHideApp,oe=X.htmlOpenClassName,ce=X.bodyOpenClassName;ce&&k.remove(document.body,ce),oe&&k.remove(document.getElementsByTagName("html")[0],oe),ie&&G>0&&(G-=1,G===0&&I.show(J)),Q.props.shouldFocusAfterRender&&(Q.props.shouldReturnFocusAfterClose?(p.returnFocus(Q.props.preventScroll),p.teardownScopedFocus()):p.popWithoutFocus()),Q.props.onAfterClose&&Q.props.onAfterClose(),_.default.deregister(Q)},Q.open=function(){Q.beforeOpen(),Q.state.afterOpen&&Q.state.beforeClose?(clearTimeout(Q.closeTimer),Q.setState({beforeClose:!1})):(Q.props.shouldFocusAfterRender&&(p.setupScopedFocus(Q.node),p.markForFocusLater()),Q.setState({isOpen:!0},function(){Q.openAnimationFrame=requestAnimationFrame(function(){Q.setState({afterOpen:!0}),Q.props.isOpen&&Q.props.onAfterOpen&&Q.props.onAfterOpen({overlayEl:Q.overlay,contentEl:Q.content})})}))},Q.close=function(){Q.props.closeTimeoutMS>0?Q.closeWithTimeout():Q.closeWithoutTimeout()},Q.focusContent=function(){return Q.content&&!Q.contentHasFocus()&&Q.content.focus({preventScroll:!0})},Q.closeWithTimeout=function(){var X=Date.now()+Q.props.closeTimeoutMS;Q.setState({beforeClose:!0,closesAt:X},function(){Q.closeTimer=setTimeout(Q.closeWithoutTimeout,Q.state.closesAt-Date.now())})},Q.closeWithoutTimeout=function(){Q.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},Q.afterClose)},Q.handleKeyDown=function(X){X.keyCode===z&&(0,y.default)(Q.content,X),Q.props.shouldCloseOnEsc&&X.keyCode===$&&(X.stopPropagation(),Q.requestClose(X))},Q.handleOverlayOnClick=function(X){Q.shouldClose===null&&(Q.shouldClose=!0),Q.shouldClose&&Q.props.shouldCloseOnOverlayClick&&(Q.ownerHandlesClose()?Q.requestClose(X):Q.focusContent()),Q.shouldClose=null},Q.handleContentOnMouseUp=function(){Q.shouldClose=!1},Q.handleOverlayOnMouseDown=function(X){!Q.props.shouldCloseOnOverlayClick&&X.target==Q.overlay&&X.preventDefault()},Q.handleContentOnClick=function(){Q.shouldClose=!1},Q.handleContentOnMouseDown=function(){Q.shouldClose=!1},Q.requestClose=function(X){return Q.ownerHandlesClose()&&Q.props.onRequestClose(X)},Q.ownerHandlesClose=function(){return Q.props.onRequestClose},Q.shouldBeClosed=function(){return!Q.state.isOpen&&!Q.state.beforeClose},Q.contentHasFocus=function(){return document.activeElement===Q.content||Q.content.contains(document.activeElement)},Q.buildClassName=function(X,J){var ie=(typeof J=="undefined"?"undefined":r(J))==="object"?J:{base:F[X],afterOpen:F[X]+"--after-open",beforeClose:F[X]+"--before-close"},oe=ie.base;return Q.state.afterOpen&&(oe=oe+" "+ie.afterOpen),Q.state.beforeClose&&(oe=oe+" "+ie.beforeClose),typeof J=="string"&&J?oe+" "+J:oe},Q.attributesFromObject=function(X,J){return Object.keys(J).reduce(function(ie,oe){return ie[X+"-"+oe]=J[oe],ie},{})},Q.state={afterOpen:!1,beforeClose:!1},Q.shouldClose=null,Q.moveFromContentToOverlay=null,Q}return i(re,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(Q,X){this.props.isOpen&&!Q.isOpen?this.open():!this.props.isOpen&&Q.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!X.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var Q=this.props,X=Q.appElement,J=Q.ariaHideApp,ie=Q.htmlOpenClassName,oe=Q.bodyOpenClassName;oe&&k.add(document.body,oe),ie&&k.add(document.getElementsByTagName("html")[0],ie),J&&(G+=1,I.hide(X)),_.default.register(this)}},{key:"render",value:function(){var Q=this.props,X=Q.id,J=Q.className,ie=Q.overlayClassName,oe=Q.defaultStyles,ce=Q.children,ye=J?{}:oe.content,ge=ie?{}:oe.overlay;if(this.shouldBeClosed())return null;var fe={ref:this.setOverlayRef,className:this.buildClassName("overlay",ie),style:n({},ge,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},ze=n({id:X,ref:this.setContentRef,style:n({},ye,this.props.style.content),className:this.buildClassName("content",J),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Ke=this.props.contentElement(ze,ce);return this.props.overlayElement(fe,Ke)}}]),re}(o.Component);te.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},te.propTypes={isOpen:u.default.bool.isRequired,defaultStyles:u.default.shape({content:u.default.object,overlay:u.default.object}),style:u.default.shape({content:u.default.object,overlay:u.default.object}),className:u.default.oneOfType([u.default.string,u.default.object]),overlayClassName:u.default.oneOfType([u.default.string,u.default.object]),bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,ariaHideApp:u.default.bool,appElement:u.default.oneOfType([u.default.instanceOf(S.default),u.default.instanceOf(E.SafeHTMLCollection),u.default.instanceOf(E.SafeNodeList),u.default.arrayOf(u.default.instanceOf(S.default))]),onAfterOpen:u.default.func,onAfterClose:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,preventScroll:u.default.bool,role:u.default.string,contentLabel:u.default.string,aria:u.default.object,data:u.default.object,children:u.default.node,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func,id:u.default.string,overlayElement:u.default.func,contentElement:u.default.func,testId:u.default.string},t.default=te,e.exports=t.default})(X0,X0.exports);function ZR(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function eP(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r!=null?r:null}this.setState(t.bind(this))}function tP(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}ZR.__suppressDeprecationWarning=!0;eP.__suppressDeprecationWarning=!0;tP.__suppressDeprecationWarning=!0;function Mj(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,i=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var o=e.displayName||e.name,s=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+s+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=ZR,t.componentWillReceiveProps=eP),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=tP;var u=t.componentDidUpdate;t.componentDidUpdate=function(p,v,y){var b=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:y;u.call(this,p,v,b)}}return e}var zj=Object.freeze(Object.defineProperty({__proto__:null,polyfill:Mj},Symbol.toStringTag,{value:"Module"})),Bj=U$(zj);Object.defineProperty(bu,"__esModule",{value:!0});bu.bodyOpenClassName=bu.portalClassName=void 0;var qO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fj=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),nP=H.exports,kg=op(nP),Uj=Zh.exports,Dg=op(Uj),$j=qE.exports,Et=op($j),Wj=X0.exports,HO=op(Wj),jj=Mo,Kj=qj(jj),Bs=Ro,GO=op(Bs),Vj=Bj;function qj(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function op(e){return e&&e.__esModule?e:{default:e}}function Hj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YO(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Gj(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Yj=bu.portalClassName="ReactModalPortal",Xj=bu.bodyOpenClassName="ReactModal__Body--open",eu=Bs.canUseDOM&&Dg.default.createPortal!==void 0,XO=function(t){return document.createElement(t)},JO=function(){return eu?Dg.default.createPortal:Dg.default.unstable_renderSubtreeIntoContainer};function ym(e){return e()}var ap=function(e){Gj(t,e);function t(){var n,r,i,o;Hj(this,t);for(var s=arguments.length,u=Array(s),h=0;h<s;h++)u[h]=arguments[h];return o=(r=(i=YO(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(u))),i),i.removePortal=function(){!eu&&Dg.default.unmountComponentAtNode(i.node);var p=ym(i.props.parentSelector);p&&p.contains(i.node)?p.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(p){i.portal=p},i.renderPortal=function(p){var v=JO(),y=v(i,kg.default.createElement(HO.default,qO({defaultStyles:t.defaultStyles},p)),i.node);i.portalRef(y)},r),YO(i,o)}return Fj(t,[{key:"componentDidMount",value:function(){if(!!Bs.canUseDOM){eu||(this.node=XO("div")),this.node.className=this.props.portalClassName;var r=ym(this.props.parentSelector);r.appendChild(this.node),!eu&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(r){var i=ym(r.parentSelector),o=ym(this.props.parentSelector);return{prevParent:i,nextParent:o}}},{key:"componentDidUpdate",value:function(r,i,o){if(!!Bs.canUseDOM){var s=this.props,u=s.isOpen,h=s.portalClassName;r.portalClassName!==h&&(this.node.className=h);var p=o.prevParent,v=o.nextParent;v!==p&&(p.removeChild(this.node),v.appendChild(this.node)),!(!r.isOpen&&!u)&&!eu&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!Bs.canUseDOM||!this.node||!this.portal)){var r=this.portal.state,i=Date.now(),o=r.isOpen&&this.props.closeTimeoutMS&&(r.closesAt||i+this.props.closeTimeoutMS);o?(r.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,o-i)):this.removePortal()}}},{key:"render",value:function(){if(!Bs.canUseDOM||!eu)return null;!this.node&&eu&&(this.node=XO("div"));var r=JO();return r(kg.default.createElement(HO.default,qO({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(r){Kj.setElement(r)}}]),t}(nP.Component);ap.propTypes={isOpen:Et.default.bool.isRequired,style:Et.default.shape({content:Et.default.object,overlay:Et.default.object}),portalClassName:Et.default.string,bodyOpenClassName:Et.default.string,htmlOpenClassName:Et.default.string,className:Et.default.oneOfType([Et.default.string,Et.default.shape({base:Et.default.string.isRequired,afterOpen:Et.default.string.isRequired,beforeClose:Et.default.string.isRequired})]),overlayClassName:Et.default.oneOfType([Et.default.string,Et.default.shape({base:Et.default.string.isRequired,afterOpen:Et.default.string.isRequired,beforeClose:Et.default.string.isRequired})]),appElement:Et.default.oneOfType([Et.default.instanceOf(GO.default),Et.default.instanceOf(Bs.SafeHTMLCollection),Et.default.instanceOf(Bs.SafeNodeList),Et.default.arrayOf(Et.default.instanceOf(GO.default))]),onAfterOpen:Et.default.func,onRequestClose:Et.default.func,closeTimeoutMS:Et.default.number,ariaHideApp:Et.default.bool,shouldFocusAfterRender:Et.default.bool,shouldCloseOnOverlayClick:Et.default.bool,shouldReturnFocusAfterClose:Et.default.bool,preventScroll:Et.default.bool,parentSelector:Et.default.func,aria:Et.default.object,data:Et.default.object,role:Et.default.string,contentLabel:Et.default.string,shouldCloseOnEsc:Et.default.bool,overlayRef:Et.default.func,contentRef:Et.default.func,id:Et.default.string,overlayElement:Et.default.func,contentElement:Et.default.func};ap.defaultProps={isOpen:!1,portalClassName:Yj,bodyOpenClassName:Xj,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(t,n){return kg.default.createElement("div",t,n)},contentElement:function(t,n){return kg.default.createElement("div",t,n)}};ap.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,Vj.polyfill)(ap);bu.default=ap;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=bu,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}t.default=r.default,e.exports=t.default})(Y0,Y0.exports);var Ru=nA(Y0.exports);/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ah(){return Ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ah.apply(this,arguments)}var Fs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Fs||(Fs={}));const QO="popstate";function Jj(e){e===void 0&&(e={});function t(i,o){let{pathname:s="/",search:u="",hash:h=""}=Pu(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),Z0("",{pathname:s,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),u="";if(s&&s.getAttribute("href")){let h=i.location.href,p=h.indexOf("#");u=p===-1?h:h.slice(0,p)}return u+"#"+(typeof o=="string"?o:Lg(o))}function r(i,o){YE(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return Zj(t,n,r,e)}function Cn(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function YE(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch{}}}function Qj(){return Math.random().toString(36).substr(2,8)}function ZO(e,t){return{usr:e.state,key:e.key,idx:t}}function Z0(e,t,n,r){return n===void 0&&(n=null),Ah({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Pu(t):t,{state:n,key:t&&t.key||r||Qj()})}function Lg(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Pu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Zj(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,u=Fs.Pop,h=null,p=v();p==null&&(p=0,s.replaceState(Ah({},s.state,{idx:p}),""));function v(){return(s.state||{idx:null}).idx}function y(){u=Fs.Pop;let E=v(),S=E==null?null:E-p;p=E,h&&h({action:u,location:k.location,delta:S})}function b(E,S){u=Fs.Push;let N=Z0(k.location,E,S);n&&n(N,E),p=v()+1;let _=ZO(N,p),T=k.createHref(N);try{s.pushState(_,"",T)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(T)}o&&h&&h({action:u,location:k.location,delta:1})}function I(E,S){u=Fs.Replace;let N=Z0(k.location,E,S);n&&n(N,E),p=v();let _=ZO(N,p),T=k.createHref(N);s.replaceState(_,"",T),o&&h&&h({action:u,location:k.location,delta:0})}function O(E){let S=i.location.origin!=="null"?i.location.origin:i.location.href,N=typeof E=="string"?E:Lg(E);return N=N.replace(/ $/,"%20"),Cn(S,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,S)}let k={get action(){return u},get location(){return e(i,s)},listen(E){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(QO,y),h=E,()=>{i.removeEventListener(QO,y),h=null}},createHref(E){return t(i,E)},createURL:O,encodeLocation(E){let S=O(E);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:b,replace:I,go(E){return s.go(E)}};return k}var eT;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(eT||(eT={}));function eK(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Pu(t):t,i=of(r.pathname||"/",n);if(i==null)return null;let o=rP(e);tK(o);let s=null;for(let u=0;s==null&&u<o.length;++u){let h=dK(i);s=cK(o[u],h)}return s}function rP(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};h.relativePath.startsWith("/")&&(Cn(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let p=Xs([r,h.relativePath]),v=n.concat(h);o.children&&o.children.length>0&&(Cn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),rP(o.children,t,v,p)),!(o.path==null&&!o.index)&&t.push({path:p,score:lK(p,o.index),routesMeta:v})};return e.forEach((o,s)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,s);else for(let h of iP(o.path))i(o,s,h)}),t}function iP(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=iP(r.join("/")),u=[];return u.push(...s.map(h=>h===""?o:[o,h].join("/"))),i&&u.push(...s),u.map(h=>e.startsWith("/")&&h===""?"/":h)}function tK(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:uK(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const nK=/^:[\w-]+$/,rK=3,iK=2,oK=1,aK=10,sK=-2,tT=e=>e==="*";function lK(e,t){let n=e.split("/"),r=n.length;return n.some(tT)&&(r+=sK),t&&(r+=iK),n.filter(i=>!tT(i)).reduce((i,o)=>i+(nK.test(o)?rK:o===""?oK:aK),r)}function uK(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function cK(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let u=n[s],h=s===n.length-1,p=i==="/"?t:t.slice(i.length)||"/",v=eS({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},p);if(!v)return null;Object.assign(r,v.params);let y=u.route;o.push({params:r,pathname:Xs([i,v.pathname]),pathnameBase:gK(Xs([i,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(i=Xs([i,v.pathnameBase]))}return o}function eS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=fK(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((p,v,y)=>{let{paramName:b,isOptional:I}=v;if(b==="*"){let k=u[y]||"";s=o.slice(0,o.length-k.length).replace(/(.)\/+$/,"$1")}const O=u[y];return I&&!O?p[b]=void 0:p[b]=(O||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:s,pattern:e}}function fK(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),YE(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function dK(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return YE(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function of(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function hK(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Pu(e):e;return{pathname:n?n.startsWith("/")?n:pK(n,t):t,search:vK(r),hash:yK(i)}}function pK(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function mb(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mK(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function oP(e,t){let n=mK(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function aP(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Pu(e):(i=Ah({},e),Cn(!i.pathname||!i.pathname.includes("?"),mb("?","pathname","search",i)),Cn(!i.pathname||!i.pathname.includes("#"),mb("#","pathname","hash",i)),Cn(!i.search||!i.search.includes("#"),mb("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,u;if(s==null)u=n;else{let y=t.length-1;if(!r&&s.startsWith("..")){let b=s.split("/");for(;b[0]==="..";)b.shift(),y-=1;i.pathname=b.join("/")}u=y>=0?t[y]:"/"}let h=hK(i,u),p=s&&s!=="/"&&s.endsWith("/"),v=(o||s===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||v)&&(h.pathname+="/"),h}const Xs=e=>e.join("/").replace(/\/\/+/g,"/"),gK=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vK=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yK=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function wK(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const bK=["post","put","patch","delete"];[...bK];/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rh(){return Rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rh.apply(this,arguments)}const Fv=H.exports.createContext(null),sP=H.exports.createContext(null),hl=H.exports.createContext(null),Uv=H.exports.createContext(null),ku=H.exports.createContext({outlet:null,matches:[],isDataRoute:!1}),lP=H.exports.createContext(null);function SK(e,t){let{relative:n}=t===void 0?{}:t;sp()||Cn(!1);let{basename:r,navigator:i}=H.exports.useContext(hl),{hash:o,pathname:s,search:u}=$v(e,{relative:n}),h=s;return r!=="/"&&(h=s==="/"?r:Xs([r,s])),i.createHref({pathname:h,search:u,hash:o})}function sp(){return H.exports.useContext(Uv)!=null}function lp(){return sp()||Cn(!1),H.exports.useContext(Uv).location}function uP(e){H.exports.useContext(hl).static||H.exports.useLayoutEffect(e)}function EK(){let{isDataRoute:e}=H.exports.useContext(ku);return e?LK():CK()}function CK(){sp()||Cn(!1);let e=H.exports.useContext(Fv),{basename:t,future:n,navigator:r}=H.exports.useContext(hl),{matches:i}=H.exports.useContext(ku),{pathname:o}=lp(),s=JSON.stringify(oP(i,n.v7_relativeSplatPath)),u=H.exports.useRef(!1);return uP(()=>{u.current=!0}),H.exports.useCallback(function(p,v){if(v===void 0&&(v={}),!u.current)return;if(typeof p=="number"){r.go(p);return}let y=aP(p,JSON.parse(s),o,v.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Xs([t,y.pathname])),(v.replace?r.replace:r.push)(y,v.state,v)},[t,r,s,o,e])}function $v(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=H.exports.useContext(hl),{matches:i}=H.exports.useContext(ku),{pathname:o}=lp(),s=JSON.stringify(oP(i,r.v7_relativeSplatPath));return H.exports.useMemo(()=>aP(e,JSON.parse(s),o,n==="path"),[e,s,o,n])}function xK(e,t){return NK(e,t)}function NK(e,t,n,r){sp()||Cn(!1);let{navigator:i}=H.exports.useContext(hl),{matches:o}=H.exports.useContext(ku),s=o[o.length-1],u=s?s.params:{};s&&s.pathname;let h=s?s.pathnameBase:"/";s&&s.route;let p=lp(),v;if(t){var y;let E=typeof t=="string"?Pu(t):t;h==="/"||((y=E.pathname)==null?void 0:y.startsWith(h))||Cn(!1),v=E}else v=p;let b=v.pathname||"/",I=b;if(h!=="/"){let E=h.replace(/^\//,"").split("/"),S=b.replace(/^\//,"").split("/");I="/"+S.slice(E.length).join("/")}let O=eK(e,{pathname:I}),k=AK(O&&O.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:Xs([h,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:Xs([h,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return t&&k?H.exports.createElement(Uv.Provider,{value:{location:Rh({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Fs.Pop}},k):k}function IK(){let e=DK(),t=wK(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return H.exports.createElement(H.exports.Fragment,null,H.exports.createElement("h2",null,"Unexpected Application Error!"),H.exports.createElement("h3",{style:{fontStyle:"italic"}},t),n?H.exports.createElement("pre",{style:i},n):null,o)}const OK=H.exports.createElement(IK,null);class TK extends H.exports.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?H.exports.createElement(ku.Provider,{value:this.props.routeContext},H.exports.createElement(lP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _K(e){let{routeContext:t,match:n,children:r}=e,i=H.exports.useContext(Fv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),H.exports.createElement(ku.Provider,{value:t},r)}function AK(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if((o=n)!=null&&o.errors)e=n.matches;else return null}let s=e,u=(i=n)==null?void 0:i.errors;if(u!=null){let v=s.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);v>=0||Cn(!1),s=s.slice(0,Math.min(s.length,v+1))}let h=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let v=0;v<s.length;v++){let y=s[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=v),y.route.id){let{loaderData:b,errors:I}=n,O=y.route.loader&&b[y.route.id]===void 0&&(!I||I[y.route.id]===void 0);if(y.route.lazy||O){h=!0,p>=0?s=s.slice(0,p+1):s=[s[0]];break}}}return s.reduceRight((v,y,b)=>{let I,O=!1,k=null,E=null;n&&(I=u&&y.route.id?u[y.route.id]:void 0,k=y.route.errorElement||OK,h&&(p<0&&b===0?(MK("route-fallback",!1),O=!0,E=null):p===b&&(O=!0,E=y.route.hydrateFallbackElement||null)));let S=t.concat(s.slice(0,b+1)),N=()=>{let _;return I?_=k:O?_=E:y.route.Component?_=H.exports.createElement(y.route.Component,null):y.route.element?_=y.route.element:_=v,H.exports.createElement(_K,{match:y,routeContext:{outlet:v,matches:S,isDataRoute:n!=null},children:_})};return n&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?H.exports.createElement(TK,{location:n.location,revalidation:n.revalidation,component:k,error:I,children:N(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):N()},null)}var cP=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(cP||{}),Mg=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Mg||{});function RK(e){let t=H.exports.useContext(Fv);return t||Cn(!1),t}function PK(e){let t=H.exports.useContext(sP);return t||Cn(!1),t}function kK(e){let t=H.exports.useContext(ku);return t||Cn(!1),t}function fP(e){let t=kK(),n=t.matches[t.matches.length-1];return n.route.id||Cn(!1),n.route.id}function DK(){var e;let t=H.exports.useContext(lP),n=PK(Mg.UseRouteError),r=fP(Mg.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function LK(){let{router:e}=RK(cP.UseNavigateStable),t=fP(Mg.UseNavigateStable),n=H.exports.useRef(!1);return uP(()=>{n.current=!0}),H.exports.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Rh({fromRouteId:t},o)))},[e,t])}const nT={};function MK(e,t,n){!t&&!nT[e]&&(nT[e]=!0)}const zK="startTransition";ZS[zK];function dP(e){Cn(!1)}function BK(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Fs.Pop,navigator:o,static:s=!1,future:u}=e;sp()&&Cn(!1);let h=t.replace(/^\/*/,"/"),p=H.exports.useMemo(()=>({basename:h,navigator:o,static:s,future:Rh({v7_relativeSplatPath:!1},u)}),[h,u,o,s]);typeof r=="string"&&(r=Pu(r));let{pathname:v="/",search:y="",hash:b="",state:I=null,key:O="default"}=r,k=H.exports.useMemo(()=>{let E=of(v,h);return E==null?null:{location:{pathname:E,search:y,hash:b,state:I,key:O},navigationType:i}},[h,v,y,b,I,O,i]);return k==null?null:H.exports.createElement(hl.Provider,{value:p},H.exports.createElement(Uv.Provider,{children:n,value:k}))}function FK(e){let{children:t,location:n}=e;return xK(tS(t),n)}new Promise(()=>{});function tS(e,t){t===void 0&&(t=[]);let n=[];return H.exports.Children.forEach(e,(r,i)=>{if(!H.exports.isValidElement(r))return;let o=[...t,i];if(r.type===H.exports.Fragment){n.push.apply(n,tS(r.props.children,o));return}r.type!==dP&&Cn(!1),!r.props.index||!r.props.children||Cn(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=tS(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zg.apply(this,arguments)}function hP(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function UK(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $K(e,t){return e.button===0&&(!t||t==="_self")&&!UK(e)}const WK=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],jK=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],KK="6";try{window.__reactRouterVersion=KK}catch{}const VK=H.exports.createContext({isTransitioning:!1}),qK="startTransition",rT=ZS[qK],HK="flushSync";K3[HK];const GK="useId";ZS[GK];function YK(e){let{basename:t,children:n,future:r,window:i}=e,o=H.exports.useRef();o.current==null&&(o.current=Jj({window:i,v5Compat:!0}));let s=o.current,[u,h]=H.exports.useState({action:s.action,location:s.location}),{v7_startTransition:p}=r||{},v=H.exports.useCallback(y=>{p&&rT?rT(()=>h(y)):h(y)},[h,p]);return H.exports.useLayoutEffect(()=>s.listen(v),[s,v]),H.exports.createElement(BK,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:s,future:r})}const XK=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",JK=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QK=H.exports.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:u,target:h,to:p,preventScrollReset:v,unstable_viewTransition:y}=t,b=hP(t,WK),{basename:I}=H.exports.useContext(hl),O,k=!1;if(typeof p=="string"&&JK.test(p)&&(O=p,XK))try{let _=new URL(window.location.href),T=p.startsWith("//")?new URL(_.protocol+p):new URL(p),M=of(T.pathname,I);T.origin===_.origin&&M!=null?p=M+T.search+T.hash:k=!0}catch{}let E=SK(p,{relative:i}),S=t5(p,{replace:s,state:u,target:h,preventScrollReset:v,relative:i,unstable_viewTransition:y});function N(_){r&&r(_),_.defaultPrevented||S(_)}return H.exports.createElement("a",zg({},b,{href:O||E,onClick:k||o?r:N,ref:n,target:h}))}),ZK=H.exports.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:s=!1,style:u,to:h,unstable_viewTransition:p,children:v}=t,y=hP(t,jK),b=$v(h,{relative:y.relative}),I=lp(),O=H.exports.useContext(sP),{navigator:k,basename:E}=H.exports.useContext(hl),S=O!=null&&n5(b)&&p===!0,N=k.encodeLocation?k.encodeLocation(b).pathname:b.pathname,_=I.pathname,T=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;i||(_=_.toLowerCase(),T=T?T.toLowerCase():null,N=N.toLowerCase()),T&&E&&(T=of(T,E)||T);const M=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let R=_===N||!s&&_.startsWith(N)&&_.charAt(M)==="/",B=T!=null&&(T===N||!s&&T.startsWith(N)&&T.charAt(N.length)==="/"),U={isActive:R,isPending:B,isTransitioning:S},F=R?r:void 0,z;typeof o=="function"?z=o(U):z=[o,R?"active":null,B?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let $=typeof u=="function"?u(U):u;return H.exports.createElement(QK,zg({},y,{"aria-current":F,className:z,ref:n,style:$,to:h,unstable_viewTransition:p}),typeof v=="function"?v(U):v)});var nS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(nS||(nS={}));var iT;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(iT||(iT={}));function e5(e){let t=H.exports.useContext(Fv);return t||Cn(!1),t}function t5(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:u}=t===void 0?{}:t,h=EK(),p=lp(),v=$v(e,{relative:s});return H.exports.useCallback(y=>{if($K(y,n)){y.preventDefault();let b=r!==void 0?r:Lg(p)===Lg(v);h(e,{replace:b,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:u})}},[p,h,v,r,i,n,e,o,s,u])}function n5(e,t){t===void 0&&(t={});let n=H.exports.useContext(VK);n==null&&Cn(!1);let{basename:r}=e5(nS.useViewTransitionState),i=$v(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=of(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=of(n.nextLocation.pathname,r)||n.nextLocation.pathname;return eS(i.pathname,s)!=null||eS(i.pathname,o)!=null}var ot=(e=>(e.Home="Home",e.Collection="Collection",e.Diagram="Diagram",e.Doctrine="Doctrine",e.Entity="Entity",e.Enum="Enum",e.Example="Example",e.Flow="Flow",e.ParameterInHeader="ParameterInHeader",e.Info="Info",e.Install="Install",e.Migration="Migration",e.OpenApi="OpenApi",e.ParameterInCookie="ParameterInCookie",e.ParameterInPath="ParameterInPath",e.ParameterInQuery="ParameterInQuery",e.Request="Request",e.Response="Response",e.Server="Server",e.Toast="Toast",e.Tree="Tree",e.Wu="Wu",e))(ot||{});class gn{constructor(t,n,r=!0,i=[]){this.name=t,this.path=n,this.visible=r,this.childzz=i}}const pP="/",r5=Object.keys(ot),i5=r5.map(e=>new gn(ot[e],wn(ot[e]))),o5=[new gn("Home",pP),new gn("Collection",wn("Collection")),new gn("Diagram",wn("Diagram")),new gn("Doctrine",wn("Doctrine")),new gn("Entity",wn("Entity")),new gn("Flow",wn("Flow")),new gn("Install",wn("Install")),new gn("Migration",wn("Migration")),new gn("OpenApi",wn("OpenApi"),!0,[new gn("Info",wn("Info")),new gn("Enum",wn("Enum")),new gn("Example",wn("Example")),new gn("ParameterInHeader",wn("ParameterInHeader")),new gn("ParameterInCookie",wn("ParameterInCookie")),new gn("ParameterInPath",wn("ParameterInPath")),new gn("ParameterInQuery",wn("ParameterInQuery")),new gn("Request",wn("Request")),new gn("Response",wn("Response")),new gn("Server",wn("Server")),new gn("Wu",wn("Wu"))]),new gn("Toast",wn("Toast")),new gn("Tree",wn("Tree"))];function wn(e){return pP+(e==="Home"?"":e)}function a5(e){let t;const n=new Set,r=(p,v)=>{const y=typeof p=="function"?p(t):p;if(y!==t){const b=t;t=v?y:Object.assign({},t,y),n.forEach(I=>I(t,b))}},i=()=>t,o=(p,v=i,y=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let b=v(t);function I(){const O=v(t);if(!y(b,O)){const k=b;p(b=O,k)}}return n.add(I),()=>n.delete(I)},h={setState:r,getState:i,subscribe:(p,v,y)=>v||y?o(p,v,y):(n.add(p),()=>n.delete(p)),destroy:()=>n.clear()};return t=e(r,i,h),h}const s5=typeof window=="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),oT=s5?H.exports.useEffect:H.exports.useLayoutEffect;function vt(e){const t=typeof e=="function"?a5(e):e,n=(r=t.getState,i=Object.is)=>{const[,o]=H.exports.useReducer(E=>E+1,0),s=t.getState(),u=H.exports.useRef(s),h=H.exports.useRef(r),p=H.exports.useRef(i),v=H.exports.useRef(!1),y=H.exports.useRef();y.current===void 0&&(y.current=r(s));let b,I=!1;(u.current!==s||h.current!==r||p.current!==i||v.current)&&(b=r(s),I=!i(y.current,b)),oT(()=>{I&&(y.current=b),u.current=s,h.current=r,p.current=i,v.current=!1});const O=H.exports.useRef(s);oT(()=>{const E=()=>{try{const N=t.getState(),_=h.current(N);p.current(y.current,_)||(u.current=N,y.current=_,o())}catch{v.current=!0,o()}},S=t.subscribe(E);return t.getState()!==O.current&&E(),S},[]);const k=I?b:y.current;return H.exports.useDebugValue(k),k};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,t];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const Wv=vt(function(e){return{connected:!1,isDemo:!1,ide:"",setConnected(n=!0,r=!1){e({connected:n,isDemo:r})},setIde(n){e({ide:n})}}});var oh=(e=>(e.CosineCase="CosineCase",e.SineCase="SineCase",e.SnakeCase="SnakeCase",e))(oh||{});const Wx=class{};let Jt=Wx;mi(Jt,"ColumnIdOfIdInParameterInPath",32),mi(Jt,"Name","Laravel Builder"),mi(Jt,"Name2","laravel-builder"),mi(Jt,"Folder",Wx.Name2),mi(Jt,"Id","Id"),mi(Jt,"PackageName","googee/laravel-builder"),mi(Jt,"ScriptCode",`function run(data) {
    /** @type {LB.DataForScript} */
    const ddd = data

    /**
     * write code below
     * it will be executed before generating files
     */
}
`),mi(Jt,"Zz","zz");var Bg={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",u="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",p=500,v="__lodash_placeholder__",y=1,b=2,I=4,O=1,k=2,E=1,S=2,N=4,_=8,T=16,M=32,R=64,B=128,U=256,F=512,z=30,$="...",G=800,te=16,q=1,re=2,ne=3,Q=1/0,X=9007199254740991,J=17976931348623157e292,ie=0/0,oe=4294967295,ce=oe-1,ye=oe>>>1,ge=[["ary",B],["bind",E],["bindKey",S],["curry",_],["curryRight",T],["flip",F],["partial",M],["partialRight",R],["rearg",U]],fe="[object Arguments]",ze="[object Array]",Ke="[object AsyncFunction]",Ae="[object Boolean]",_e="[object Date]",be="[object DOMException]",Le="[object Error]",Re="[object Function]",rt="[object GeneratorFunction]",at="[object Map]",yt="[object Number]",He="[object Null]",le="[object Object]",ve="[object Promise]",Pe="[object Proxy]",Ie="[object RegExp]",Be="[object Set]",je="[object String]",ht="[object Symbol]",Qe="[object Undefined]",It="[object WeakMap]",cn="[object WeakSet]",ut="[object ArrayBuffer]",tt="[object DataView]",vn="[object Float32Array]",hr="[object Float64Array]",Ge="[object Int8Array]",hn="[object Int16Array]",pn="[object Int32Array]",Un="[object Uint8Array]",Nn="[object Uint8ClampedArray]",Pn="[object Uint16Array]",$e="[object Uint32Array]",Ye=/\b__p \+= '';/g,st=/\b(__p \+=) '' \+/g,St=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xt=/&(?:amp|lt|gt|quot|#39);/g,Ft=/[&<>"']/g,sn=RegExp(xt.source),$n=RegExp(Ft.source),Br=/<%-([\s\S]+?)%>/g,Cr=/<%([\s\S]+?)%>/g,Fr=/<%=([\s\S]+?)%>/g,wa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wo=/^\w*$/,Ue=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ki=/[\\^$.*+?()[\]{}|]/g,yl=RegExp(ki.source),lo=/^\s+/,uo=/\s/,jo=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Wn=/\{\n\/\* \[wrapped with (.+)\] \*/,wl=/,? & /,bl=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Sl=/[()=,{}\[\]\/\s]/,ba=/\\(\\)?/g,El=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Za=/\w*$/,Sa=/^[-+]0x[0-9a-f]+$/i,co=/^0b[01]+$/i,Ko=/^\[object .+?Constructor\]$/,Vo=/^0o[0-7]+$/i,In=/^(?:0|[1-9]\d*)$/,Cl=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,jn=/($^)/,es=/['\n\r\u2028\u2029\\]/g,Di="\\ud800-\\udfff",xl="\\u0300-\\u036f",ts="\\ufe20-\\ufe2f",Ea="\\u20d0-\\u20ff",ai=xl+ts+Ea,fo="\\u2700-\\u27bf",Ur="a-z\\xdf-\\xf6\\xf8-\\xff",ns="\\xac\\xb1\\xd7\\xf7",Nl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rs="\\u2000-\\u206f",is=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ca="A-Z\\xc0-\\xd6\\xd8-\\xde",xa="\\ufe0e\\ufe0f",os=ns+Nl+rs+is,ho="['\u2019]",qo="["+Di+"]",si="["+os+"]",Ho="["+ai+"]",pr="\\d+",xr="["+fo+"]",Ln="["+Ur+"]",Nr="[^"+Di+os+pr+fo+Ur+Ca+"]",li="\\ud83c[\\udffb-\\udfff]",po="(?:"+Ho+"|"+li+")",Bu="[^"+Di+"]",Li="(?:\\ud83c[\\udde6-\\uddff]){2}",Go="[\\ud800-\\udbff][\\udc00-\\udfff]",mo="["+Ca+"]",Yo="\\u200d",Fu="(?:"+Ln+"|"+Nr+")",Il="(?:"+mo+"|"+Nr+")",Uu="(?:"+ho+"(?:d|ll|m|re|s|t|ve))?",as="(?:"+ho+"(?:D|LL|M|RE|S|T|VE))?",Mi=po+"?",$u="["+xa+"]?",Wu="(?:"+Yo+"(?:"+[Bu,Li,Go].join("|")+")"+$u+Mi+")*",Kf="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ju="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ol=$u+Mi+Wu,Tl="(?:"+[xr,Li,Go].join("|")+")"+Ol,Ku="(?:"+[Bu+Ho+"?",Ho,Li,Go,qo].join("|")+")",_l=RegExp(ho,"g"),Al=RegExp(Ho,"g"),Rl=RegExp(li+"(?="+li+")|"+Ku+Ol,"g"),Pl=RegExp([mo+"?"+Ln+"+"+Uu+"(?="+[si,mo,"$"].join("|")+")",Il+"+"+as+"(?="+[si,mo+Fu,"$"].join("|")+")",mo+"?"+Fu+"+"+Uu,mo+"+"+as,ju,Kf,pr,Tl].join("|"),"g"),Vu=RegExp("["+Yo+Di+ai+xa+"]"),Vf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ss=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],qf=-1,Yt={};Yt[vn]=Yt[hr]=Yt[Ge]=Yt[hn]=Yt[pn]=Yt[Un]=Yt[Nn]=Yt[Pn]=Yt[$e]=!0,Yt[fe]=Yt[ze]=Yt[ut]=Yt[Ae]=Yt[tt]=Yt[_e]=Yt[Le]=Yt[Re]=Yt[at]=Yt[yt]=Yt[le]=Yt[Ie]=Yt[Be]=Yt[je]=Yt[It]=!1;var qt={};qt[fe]=qt[ze]=qt[ut]=qt[tt]=qt[Ae]=qt[_e]=qt[vn]=qt[hr]=qt[Ge]=qt[hn]=qt[pn]=qt[at]=qt[yt]=qt[le]=qt[Ie]=qt[Be]=qt[je]=qt[ht]=qt[Un]=qt[Nn]=qt[Pn]=qt[$e]=!0,qt[Le]=qt[Re]=qt[It]=!1;var Na={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Xo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Hf={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Gf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},zi=parseFloat,ls=parseInt,kl=typeof kn=="object"&&kn&&kn.Object===Object&&kn,Yf=typeof self=="object"&&self&&self.Object===Object&&self,On=kl||Yf||Function("return this")(),Dl=t&&!t.nodeType&&t,go=Dl&&!0&&e&&!e.nodeType&&e,Ll=go&&go.exports===Dl,vo=Ll&&kl.process,fn=function(){try{var he=go&&go.require&&go.require("util").types;return he||vo&&vo.binding&&vo.binding("util")}catch{}}(),us=fn&&fn.isArrayBuffer,Ml=fn&&fn.isDate,zl=fn&&fn.isMap,Bl=fn&&fn.isRegExp,Ia=fn&&fn.isSet,Jo=fn&&fn.isTypedArray;function Kn(he,Ce,we){switch(we.length){case 0:return he.call(Ce);case 1:return he.call(Ce,we[0]);case 2:return he.call(Ce,we[0],we[1]);case 3:return he.call(Ce,we[0],we[1],we[2])}return he.apply(Ce,we)}function qu(he,Ce,we,Ve){for(var wt=-1,Mt=he==null?0:he.length;++wt<Mt;){var Tn=he[wt];Ce(Ve,Tn,we(Tn),he)}return Ve}function er(he,Ce){for(var we=-1,Ve=he==null?0:he.length;++we<Ve&&Ce(he[we],we,he)!==!1;);return he}function Xf(he,Ce){for(var we=he==null?0:he.length;we--&&Ce(he[we],we,he)!==!1;);return he}function Hu(he,Ce){for(var we=-1,Ve=he==null?0:he.length;++we<Ve;)if(!Ce(he[we],we,he))return!1;return!0}function Bi(he,Ce){for(var we=-1,Ve=he==null?0:he.length,wt=0,Mt=[];++we<Ve;){var Tn=he[we];Ce(Tn,we,he)&&(Mt[wt++]=Tn)}return Mt}function cs(he,Ce){var we=he==null?0:he.length;return!!we&&tn(he,Ce,0)>-1}function Fl(he,Ce,we){for(var Ve=-1,wt=he==null?0:he.length;++Ve<wt;)if(we(Ce,he[Ve]))return!0;return!1}function Xt(he,Ce){for(var we=-1,Ve=he==null?0:he.length,wt=Array(Ve);++we<Ve;)wt[we]=Ce(he[we],we,he);return wt}function $r(he,Ce){for(var we=-1,Ve=Ce.length,wt=he.length;++we<Ve;)he[wt+we]=Ce[we];return he}function fs(he,Ce,we,Ve){var wt=-1,Mt=he==null?0:he.length;for(Ve&&Mt&&(we=he[++wt]);++wt<Mt;)we=Ce(we,he[wt],wt,he);return we}function Qo(he,Ce,we,Ve){var wt=he==null?0:he.length;for(Ve&&wt&&(we=he[--wt]);wt--;)we=Ce(we,he[wt],wt,he);return we}function Ul(he,Ce){for(var we=-1,Ve=he==null?0:he.length;++we<Ve;)if(Ce(he[we],we,he))return!0;return!1}var Jf=ps("length");function Gu(he){return he.split("")}function Qf(he){return he.match(bl)||[]}function $l(he,Ce,we){var Ve;return we(he,function(wt,Mt,Tn){if(Ce(wt,Mt,Tn))return Ve=Mt,!1}),Ve}function ds(he,Ce,we,Ve){for(var wt=he.length,Mt=we+(Ve?1:-1);Ve?Mt--:++Mt<wt;)if(Ce(he[Mt],Mt,he))return Mt;return-1}function tn(he,Ce,we){return Ce===Ce?Ut(he,Ce,we):ds(he,Yu,we)}function Zf(he,Ce,we,Ve){for(var wt=we-1,Mt=he.length;++wt<Mt;)if(Ve(he[wt],Ce))return wt;return-1}function Yu(he){return he!==he}function hs(he,Ce){var we=he==null?0:he.length;return we?ms(he,Ce)/we:ie}function ps(he){return function(Ce){return Ce==null?n:Ce[he]}}function Wl(he){return function(Ce){return he==null?n:he[Ce]}}function Xu(he,Ce,we,Ve,wt){return wt(he,function(Mt,Tn,kt){we=Ve?(Ve=!1,Mt):Ce(we,Mt,Tn,kt)}),we}function Ju(he,Ce){var we=he.length;for(he.sort(Ce);we--;)he[we]=he[we].value;return he}function ms(he,Ce){for(var we,Ve=-1,wt=he.length;++Ve<wt;){var Mt=Ce(he[Ve]);Mt!==n&&(we=we===n?Mt:we+Mt)}return we}function gs(he,Ce){for(var we=-1,Ve=Array(he);++we<he;)Ve[we]=Ce(we);return Ve}function vs(he,Ce){return Xt(Ce,function(we){return[we,he[we]]})}function jl(he){return he&&he.slice(0,Rp(he)+1).replace(lo,"")}function f(he){return function(Ce){return he(Ce)}}function a(he,Ce){return Xt(Ce,function(we){return he[we]})}function l(he,Ce){return he.has(Ce)}function d(he,Ce){for(var we=-1,Ve=he.length;++we<Ve&&tn(Ce,he[we],0)>-1;);return we}function g(he,Ce){for(var we=he.length;we--&&tn(Ce,he[we],0)>-1;);return we}function C(he,Ce){for(var we=he.length,Ve=0;we--;)he[we]===Ce&&++Ve;return Ve}var D=Wl(Na),W=Wl(Xo);function ee(he){return"\\"+Gf[he]}function ue(he,Ce){return he==null?n:he[Ce]}function me(he){return Vu.test(he)}function Te(he){return Vf.test(he)}function Fe(he){for(var Ce,we=[];!(Ce=he.next()).done;)we.push(Ce.value);return we}function Xe(he){var Ce=-1,we=Array(he.size);return he.forEach(function(Ve,wt){we[++Ce]=[wt,Ve]}),we}function pt(he,Ce){return function(we){return he(Ce(we))}}function it(he,Ce){for(var we=-1,Ve=he.length,wt=0,Mt=[];++we<Ve;){var Tn=he[we];(Tn===Ce||Tn===v)&&(he[we]=v,Mt[wt++]=we)}return Mt}function Tt(he){var Ce=-1,we=Array(he.size);return he.forEach(function(Ve){we[++Ce]=Ve}),we}function on(he){var Ce=-1,we=Array(he.size);return he.forEach(function(Ve){we[++Ce]=[Ve,Ve]}),we}function Ut(he,Ce,we){for(var Ve=we-1,wt=he.length;++Ve<wt;)if(he[Ve]===Ce)return Ve;return-1}function Vn(he,Ce,we){for(var Ve=we+1;Ve--;)if(he[Ve]===Ce)return Ve;return Ve}function ui(he){return me(he)?jy(he):Jf(he)}function tr(he){return me(he)?Ky(he):Gu(he)}function Rp(he){for(var Ce=he.length;Ce--&&uo.test(he.charAt(Ce)););return Ce}var Wy=Wl(Hf);function jy(he){for(var Ce=Rl.lastIndex=0;Rl.test(he);)++Ce;return Ce}function Ky(he){return he.match(Rl)||[]}function Pp(he){return he.match(Pl)||[]}var Vy=function he(Ce){Ce=Ce==null?On:ys.defaults(On.Object(),Ce,ys.pick(On,ss));var we=Ce.Array,Ve=Ce.Date,wt=Ce.Error,Mt=Ce.Function,Tn=Ce.Math,kt=Ce.Object,Qu=Ce.RegExp,qy=Ce.String,Ir=Ce.TypeError,Zu=we.prototype,Hy=Mt.prototype,ws=kt.prototype,Kl=Ce["__core-js_shared__"],ec=Hy.toString,Kt=ws.hasOwnProperty,Gy=0,ci=function(){var c=/[^.]+$/.exec(Kl&&Kl.keys&&Kl.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),yo=ws.toString,Yy=ec.call(kt),Xy=On._,Jy=Qu("^"+ec.call(Kt).replace(ki,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tc=Ll?Ce.Buffer:n,Zo=Ce.Symbol,nc=Ce.Uint8Array,kp=tc?tc.allocUnsafe:n,Oa=pt(kt.getPrototypeOf,kt),A=kt.create,P=ws.propertyIsEnumerable,K=Zu.splice,ae=Zo?Zo.isConcatSpreadable:n,Se=Zo?Zo.iterator:n,Ze=Zo?Zo.toStringTag:n,Vt=function(){try{var c=Yl(kt,"defineProperty");return c({},"",{}),c}catch{}}(),Or=Ce.clearTimeout!==On.clearTimeout&&Ce.clearTimeout,nr=Ve&&Ve.now!==On.Date.now&&Ve.now,bs=Ce.setTimeout!==On.setTimeout&&Ce.setTimeout,Ss=Tn.ceil,Dp=Tn.floor,Qy=kt.getOwnPropertySymbols,FM=tc?tc.isBuffer:n,jx=Ce.isFinite,UM=Zu.join,$M=pt(kt.keys,kt),Mn=Tn.max,mr=Tn.min,WM=Ve.now,jM=Ce.parseInt,Kx=Tn.random,KM=Zu.reverse,Zy=Yl(Ce,"DataView"),ed=Yl(Ce,"Map"),ew=Yl(Ce,"Promise"),rc=Yl(Ce,"Set"),td=Yl(Ce,"WeakMap"),nd=Yl(kt,"create"),Lp=td&&new td,ic={},VM=Xl(Zy),qM=Xl(ed),HM=Xl(ew),GM=Xl(rc),YM=Xl(td),Mp=Zo?Zo.prototype:n,rd=Mp?Mp.valueOf:n,Vx=Mp?Mp.toString:n;function Y(c){if(yn(c)&&!Ct(c)&&!(c instanceof Rt)){if(c instanceof Fi)return c;if(Kt.call(c,"__wrapped__"))return qN(c)}return new Fi(c)}var oc=function(){function c(){}return function(m){if(!mn(m))return{};if(A)return A(m);c.prototype=m;var x=new c;return c.prototype=n,x}}();function zp(){}function Fi(c,m){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!m,this.__index__=0,this.__values__=n}Y.templateSettings={escape:Br,evaluate:Cr,interpolate:Fr,variable:"",imports:{_:Y}},Y.prototype=zp.prototype,Y.prototype.constructor=Y,Fi.prototype=oc(zp.prototype),Fi.prototype.constructor=Fi;function Rt(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=oe,this.__views__=[]}function XM(){var c=new Rt(this.__wrapped__);return c.__actions__=Wr(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=Wr(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=Wr(this.__views__),c}function JM(){if(this.__filtered__){var c=new Rt(this);c.__dir__=-1,c.__filtered__=!0}else c=this.clone(),c.__dir__*=-1;return c}function QM(){var c=this.__wrapped__.value(),m=this.__dir__,x=Ct(c),L=m<0,V=x?c.length:0,Z=cB(0,V,this.__views__),se=Z.start,de=Z.end,pe=de-se,xe=L?de:se-1,Ne=this.__iteratees__,Oe=Ne.length,We=0,et=mr(pe,this.__takeCount__);if(!x||!L&&V==pe&&et==pe)return mN(c,this.__actions__);var ct=[];e:for(;pe--&&We<et;){xe+=m;for(var Ot=-1,ft=c[xe];++Ot<Oe;){var At=Ne[Ot],Dt=At.iteratee,hi=At.type,Ar=Dt(ft);if(hi==re)ft=Ar;else if(!Ar){if(hi==q)continue e;break e}}ct[We++]=ft}return ct}Rt.prototype=oc(zp.prototype),Rt.prototype.constructor=Rt;function Vl(c){var m=-1,x=c==null?0:c.length;for(this.clear();++m<x;){var L=c[m];this.set(L[0],L[1])}}function ZM(){this.__data__=nd?nd(null):{},this.size=0}function ez(c){var m=this.has(c)&&delete this.__data__[c];return this.size-=m?1:0,m}function tz(c){var m=this.__data__;if(nd){var x=m[c];return x===h?n:x}return Kt.call(m,c)?m[c]:n}function nz(c){var m=this.__data__;return nd?m[c]!==n:Kt.call(m,c)}function rz(c,m){var x=this.__data__;return this.size+=this.has(c)?0:1,x[c]=nd&&m===n?h:m,this}Vl.prototype.clear=ZM,Vl.prototype.delete=ez,Vl.prototype.get=tz,Vl.prototype.has=nz,Vl.prototype.set=rz;function Ta(c){var m=-1,x=c==null?0:c.length;for(this.clear();++m<x;){var L=c[m];this.set(L[0],L[1])}}function iz(){this.__data__=[],this.size=0}function oz(c){var m=this.__data__,x=Bp(m,c);if(x<0)return!1;var L=m.length-1;return x==L?m.pop():K.call(m,x,1),--this.size,!0}function az(c){var m=this.__data__,x=Bp(m,c);return x<0?n:m[x][1]}function sz(c){return Bp(this.__data__,c)>-1}function lz(c,m){var x=this.__data__,L=Bp(x,c);return L<0?(++this.size,x.push([c,m])):x[L][1]=m,this}Ta.prototype.clear=iz,Ta.prototype.delete=oz,Ta.prototype.get=az,Ta.prototype.has=sz,Ta.prototype.set=lz;function _a(c){var m=-1,x=c==null?0:c.length;for(this.clear();++m<x;){var L=c[m];this.set(L[0],L[1])}}function uz(){this.size=0,this.__data__={hash:new Vl,map:new(ed||Ta),string:new Vl}}function cz(c){var m=Xp(this,c).delete(c);return this.size-=m?1:0,m}function fz(c){return Xp(this,c).get(c)}function dz(c){return Xp(this,c).has(c)}function hz(c,m){var x=Xp(this,c),L=x.size;return x.set(c,m),this.size+=x.size==L?0:1,this}_a.prototype.clear=uz,_a.prototype.delete=cz,_a.prototype.get=fz,_a.prototype.has=dz,_a.prototype.set=hz;function ql(c){var m=-1,x=c==null?0:c.length;for(this.__data__=new _a;++m<x;)this.add(c[m])}function pz(c){return this.__data__.set(c,h),this}function mz(c){return this.__data__.has(c)}ql.prototype.add=ql.prototype.push=pz,ql.prototype.has=mz;function wo(c){var m=this.__data__=new Ta(c);this.size=m.size}function gz(){this.__data__=new Ta,this.size=0}function vz(c){var m=this.__data__,x=m.delete(c);return this.size=m.size,x}function yz(c){return this.__data__.get(c)}function wz(c){return this.__data__.has(c)}function bz(c,m){var x=this.__data__;if(x instanceof Ta){var L=x.__data__;if(!ed||L.length<i-1)return L.push([c,m]),this.size=++x.size,this;x=this.__data__=new _a(L)}return x.set(c,m),this.size=x.size,this}wo.prototype.clear=gz,wo.prototype.delete=vz,wo.prototype.get=yz,wo.prototype.has=wz,wo.prototype.set=bz;function qx(c,m){var x=Ct(c),L=!x&&Jl(c),V=!x&&!L&&Is(c),Z=!x&&!L&&!V&&uc(c),se=x||L||V||Z,de=se?gs(c.length,qy):[],pe=de.length;for(var xe in c)(m||Kt.call(c,xe))&&!(se&&(xe=="length"||V&&(xe=="offset"||xe=="parent")||Z&&(xe=="buffer"||xe=="byteLength"||xe=="byteOffset")||ka(xe,pe)))&&de.push(xe);return de}function Hx(c){var m=c.length;return m?c[fw(0,m-1)]:n}function Sz(c,m){return Jp(Wr(c),Hl(m,0,c.length))}function Ez(c){return Jp(Wr(c))}function tw(c,m,x){(x!==n&&!bo(c[m],x)||x===n&&!(m in c))&&Aa(c,m,x)}function id(c,m,x){var L=c[m];(!(Kt.call(c,m)&&bo(L,x))||x===n&&!(m in c))&&Aa(c,m,x)}function Bp(c,m){for(var x=c.length;x--;)if(bo(c[x][0],m))return x;return-1}function Cz(c,m,x,L){return Es(c,function(V,Z,se){m(L,V,x(V),se)}),L}function Gx(c,m){return c&&ta(m,qn(m),c)}function xz(c,m){return c&&ta(m,Kr(m),c)}function Aa(c,m,x){m=="__proto__"&&Vt?Vt(c,m,{configurable:!0,enumerable:!0,value:x,writable:!0}):c[m]=x}function nw(c,m){for(var x=-1,L=m.length,V=we(L),Z=c==null;++x<L;)V[x]=Z?n:Mw(c,m[x]);return V}function Hl(c,m,x){return c===c&&(x!==n&&(c=c<=x?c:x),m!==n&&(c=c>=m?c:m)),c}function Ui(c,m,x,L,V,Z){var se,de=m&y,pe=m&b,xe=m&I;if(x&&(se=V?x(c,L,V,Z):x(c)),se!==n)return se;if(!mn(c))return c;var Ne=Ct(c);if(Ne){if(se=dB(c),!de)return Wr(c,se)}else{var Oe=gr(c),We=Oe==Re||Oe==rt;if(Is(c))return yN(c,de);if(Oe==le||Oe==fe||We&&!V){if(se=pe||We?{}:zN(c),!de)return pe?tB(c,xz(se,c)):eB(c,Gx(se,c))}else{if(!qt[Oe])return V?c:{};se=hB(c,Oe,de)}}Z||(Z=new wo);var et=Z.get(c);if(et)return et;Z.set(c,se),dI(c)?c.forEach(function(ft){se.add(Ui(ft,m,x,ft,c,Z))}):cI(c)&&c.forEach(function(ft,At){se.set(At,Ui(ft,m,x,At,c,Z))});var ct=xe?pe?Ew:Sw:pe?Kr:qn,Ot=Ne?n:ct(c);return er(Ot||c,function(ft,At){Ot&&(At=ft,ft=c[At]),id(se,At,Ui(ft,m,x,At,c,Z))}),se}function Nz(c){var m=qn(c);return function(x){return Yx(x,c,m)}}function Yx(c,m,x){var L=x.length;if(c==null)return!L;for(c=kt(c);L--;){var V=x[L],Z=m[V],se=c[V];if(se===n&&!(V in c)||!Z(se))return!1}return!0}function Xx(c,m,x){if(typeof c!="function")throw new Ir(s);return fd(function(){c.apply(n,x)},m)}function od(c,m,x,L){var V=-1,Z=cs,se=!0,de=c.length,pe=[],xe=m.length;if(!de)return pe;x&&(m=Xt(m,f(x))),L?(Z=Fl,se=!1):m.length>=i&&(Z=l,se=!1,m=new ql(m));e:for(;++V<de;){var Ne=c[V],Oe=x==null?Ne:x(Ne);if(Ne=L||Ne!==0?Ne:0,se&&Oe===Oe){for(var We=xe;We--;)if(m[We]===Oe)continue e;pe.push(Ne)}else Z(m,Oe,L)||pe.push(Ne)}return pe}var Es=CN(ea),Jx=CN(iw,!0);function Iz(c,m){var x=!0;return Es(c,function(L,V,Z){return x=!!m(L,V,Z),x}),x}function Fp(c,m,x){for(var L=-1,V=c.length;++L<V;){var Z=c[L],se=m(Z);if(se!=null&&(de===n?se===se&&!di(se):x(se,de)))var de=se,pe=Z}return pe}function Oz(c,m,x,L){var V=c.length;for(x=Nt(x),x<0&&(x=-x>V?0:V+x),L=L===n||L>V?V:Nt(L),L<0&&(L+=V),L=x>L?0:pI(L);x<L;)c[x++]=m;return c}function Qx(c,m){var x=[];return Es(c,function(L,V,Z){m(L,V,Z)&&x.push(L)}),x}function rr(c,m,x,L,V){var Z=-1,se=c.length;for(x||(x=mB),V||(V=[]);++Z<se;){var de=c[Z];m>0&&x(de)?m>1?rr(de,m-1,x,L,V):$r(V,de):L||(V[V.length]=de)}return V}var rw=xN(),Zx=xN(!0);function ea(c,m){return c&&rw(c,m,qn)}function iw(c,m){return c&&Zx(c,m,qn)}function Up(c,m){return Bi(m,function(x){return Da(c[x])})}function Gl(c,m){m=xs(m,c);for(var x=0,L=m.length;c!=null&&x<L;)c=c[na(m[x++])];return x&&x==L?c:n}function eN(c,m,x){var L=m(c);return Ct(c)?L:$r(L,x(c))}function Tr(c){return c==null?c===n?Qe:He:Ze&&Ze in kt(c)?uB(c):EB(c)}function ow(c,m){return c>m}function Tz(c,m){return c!=null&&Kt.call(c,m)}function _z(c,m){return c!=null&&m in kt(c)}function Az(c,m,x){return c>=mr(m,x)&&c<Mn(m,x)}function aw(c,m,x){for(var L=x?Fl:cs,V=c[0].length,Z=c.length,se=Z,de=we(Z),pe=1/0,xe=[];se--;){var Ne=c[se];se&&m&&(Ne=Xt(Ne,f(m))),pe=mr(Ne.length,pe),de[se]=!x&&(m||V>=120&&Ne.length>=120)?new ql(se&&Ne):n}Ne=c[0];var Oe=-1,We=de[0];e:for(;++Oe<V&&xe.length<pe;){var et=Ne[Oe],ct=m?m(et):et;if(et=x||et!==0?et:0,!(We?l(We,ct):L(xe,ct,x))){for(se=Z;--se;){var Ot=de[se];if(!(Ot?l(Ot,ct):L(c[se],ct,x)))continue e}We&&We.push(ct),xe.push(et)}}return xe}function Rz(c,m,x,L){return ea(c,function(V,Z,se){m(L,x(V),Z,se)}),L}function ad(c,m,x){m=xs(m,c),c=$N(c,m);var L=c==null?c:c[na(Wi(m))];return L==null?n:Kn(L,c,x)}function tN(c){return yn(c)&&Tr(c)==fe}function Pz(c){return yn(c)&&Tr(c)==ut}function kz(c){return yn(c)&&Tr(c)==_e}function sd(c,m,x,L,V){return c===m?!0:c==null||m==null||!yn(c)&&!yn(m)?c!==c&&m!==m:Dz(c,m,x,L,sd,V)}function Dz(c,m,x,L,V,Z){var se=Ct(c),de=Ct(m),pe=se?ze:gr(c),xe=de?ze:gr(m);pe=pe==fe?le:pe,xe=xe==fe?le:xe;var Ne=pe==le,Oe=xe==le,We=pe==xe;if(We&&Is(c)){if(!Is(m))return!1;se=!0,Ne=!1}if(We&&!Ne)return Z||(Z=new wo),se||uc(c)?DN(c,m,x,L,V,Z):sB(c,m,pe,x,L,V,Z);if(!(x&O)){var et=Ne&&Kt.call(c,"__wrapped__"),ct=Oe&&Kt.call(m,"__wrapped__");if(et||ct){var Ot=et?c.value():c,ft=ct?m.value():m;return Z||(Z=new wo),V(Ot,ft,x,L,Z)}}return We?(Z||(Z=new wo),lB(c,m,x,L,V,Z)):!1}function Lz(c){return yn(c)&&gr(c)==at}function sw(c,m,x,L){var V=x.length,Z=V,se=!L;if(c==null)return!Z;for(c=kt(c);V--;){var de=x[V];if(se&&de[2]?de[1]!==c[de[0]]:!(de[0]in c))return!1}for(;++V<Z;){de=x[V];var pe=de[0],xe=c[pe],Ne=de[1];if(se&&de[2]){if(xe===n&&!(pe in c))return!1}else{var Oe=new wo;if(L)var We=L(xe,Ne,pe,c,m,Oe);if(!(We===n?sd(Ne,xe,O|k,L,Oe):We))return!1}}return!0}function nN(c){if(!mn(c)||vB(c))return!1;var m=Da(c)?Jy:Ko;return m.test(Xl(c))}function Mz(c){return yn(c)&&Tr(c)==Ie}function zz(c){return yn(c)&&gr(c)==Be}function Bz(c){return yn(c)&&rm(c.length)&&!!Yt[Tr(c)]}function rN(c){return typeof c=="function"?c:c==null?Vr:typeof c=="object"?Ct(c)?aN(c[0],c[1]):oN(c):NI(c)}function lw(c){if(!cd(c))return $M(c);var m=[];for(var x in kt(c))Kt.call(c,x)&&x!="constructor"&&m.push(x);return m}function Fz(c){if(!mn(c))return SB(c);var m=cd(c),x=[];for(var L in c)L=="constructor"&&(m||!Kt.call(c,L))||x.push(L);return x}function uw(c,m){return c<m}function iN(c,m){var x=-1,L=jr(c)?we(c.length):[];return Es(c,function(V,Z,se){L[++x]=m(V,Z,se)}),L}function oN(c){var m=xw(c);return m.length==1&&m[0][2]?FN(m[0][0],m[0][1]):function(x){return x===c||sw(x,c,m)}}function aN(c,m){return Iw(c)&&BN(m)?FN(na(c),m):function(x){var L=Mw(x,c);return L===n&&L===m?zw(x,c):sd(m,L,O|k)}}function $p(c,m,x,L,V){c!==m&&rw(m,function(Z,se){if(V||(V=new wo),mn(Z))Uz(c,m,se,x,$p,L,V);else{var de=L?L(Tw(c,se),Z,se+"",c,m,V):n;de===n&&(de=Z),tw(c,se,de)}},Kr)}function Uz(c,m,x,L,V,Z,se){var de=Tw(c,x),pe=Tw(m,x),xe=se.get(pe);if(xe){tw(c,x,xe);return}var Ne=Z?Z(de,pe,x+"",c,m,se):n,Oe=Ne===n;if(Oe){var We=Ct(pe),et=!We&&Is(pe),ct=!We&&!et&&uc(pe);Ne=pe,We||et||ct?Ct(de)?Ne=de:_n(de)?Ne=Wr(de):et?(Oe=!1,Ne=yN(pe,!0)):ct?(Oe=!1,Ne=wN(pe,!0)):Ne=[]:dd(pe)||Jl(pe)?(Ne=de,Jl(de)?Ne=mI(de):(!mn(de)||Da(de))&&(Ne=zN(pe))):Oe=!1}Oe&&(se.set(pe,Ne),V(Ne,pe,L,Z,se),se.delete(pe)),tw(c,x,Ne)}function sN(c,m){var x=c.length;if(!!x)return m+=m<0?x:0,ka(m,x)?c[m]:n}function lN(c,m,x){m.length?m=Xt(m,function(Z){return Ct(Z)?function(se){return Gl(se,Z.length===1?Z[0]:Z)}:Z}):m=[Vr];var L=-1;m=Xt(m,f(lt()));var V=iN(c,function(Z,se,de){var pe=Xt(m,function(xe){return xe(Z)});return{criteria:pe,index:++L,value:Z}});return Ju(V,function(Z,se){return Zz(Z,se,x)})}function $z(c,m){return uN(c,m,function(x,L){return zw(c,L)})}function uN(c,m,x){for(var L=-1,V=m.length,Z={};++L<V;){var se=m[L],de=Gl(c,se);x(de,se)&&ld(Z,xs(se,c),de)}return Z}function Wz(c){return function(m){return Gl(m,c)}}function cw(c,m,x,L){var V=L?Zf:tn,Z=-1,se=m.length,de=c;for(c===m&&(m=Wr(m)),x&&(de=Xt(c,f(x)));++Z<se;)for(var pe=0,xe=m[Z],Ne=x?x(xe):xe;(pe=V(de,Ne,pe,L))>-1;)de!==c&&K.call(de,pe,1),K.call(c,pe,1);return c}function cN(c,m){for(var x=c?m.length:0,L=x-1;x--;){var V=m[x];if(x==L||V!==Z){var Z=V;ka(V)?K.call(c,V,1):pw(c,V)}}return c}function fw(c,m){return c+Dp(Kx()*(m-c+1))}function jz(c,m,x,L){for(var V=-1,Z=Mn(Ss((m-c)/(x||1)),0),se=we(Z);Z--;)se[L?Z:++V]=c,c+=x;return se}function dw(c,m){var x="";if(!c||m<1||m>X)return x;do m%2&&(x+=c),m=Dp(m/2),m&&(c+=c);while(m);return x}function _t(c,m){return _w(UN(c,m,Vr),c+"")}function Kz(c){return Hx(cc(c))}function Vz(c,m){var x=cc(c);return Jp(x,Hl(m,0,x.length))}function ld(c,m,x,L){if(!mn(c))return c;m=xs(m,c);for(var V=-1,Z=m.length,se=Z-1,de=c;de!=null&&++V<Z;){var pe=na(m[V]),xe=x;if(pe==="__proto__"||pe==="constructor"||pe==="prototype")return c;if(V!=se){var Ne=de[pe];xe=L?L(Ne,pe,de):n,xe===n&&(xe=mn(Ne)?Ne:ka(m[V+1])?[]:{})}id(de,pe,xe),de=de[pe]}return c}var fN=Lp?function(c,m){return Lp.set(c,m),c}:Vr,qz=Vt?function(c,m){return Vt(c,"toString",{configurable:!0,enumerable:!1,value:Fw(m),writable:!0})}:Vr;function Hz(c){return Jp(cc(c))}function $i(c,m,x){var L=-1,V=c.length;m<0&&(m=-m>V?0:V+m),x=x>V?V:x,x<0&&(x+=V),V=m>x?0:x-m>>>0,m>>>=0;for(var Z=we(V);++L<V;)Z[L]=c[L+m];return Z}function Gz(c,m){var x;return Es(c,function(L,V,Z){return x=m(L,V,Z),!x}),!!x}function Wp(c,m,x){var L=0,V=c==null?L:c.length;if(typeof m=="number"&&m===m&&V<=ye){for(;L<V;){var Z=L+V>>>1,se=c[Z];se!==null&&!di(se)&&(x?se<=m:se<m)?L=Z+1:V=Z}return V}return hw(c,m,Vr,x)}function hw(c,m,x,L){var V=0,Z=c==null?0:c.length;if(Z===0)return 0;m=x(m);for(var se=m!==m,de=m===null,pe=di(m),xe=m===n;V<Z;){var Ne=Dp((V+Z)/2),Oe=x(c[Ne]),We=Oe!==n,et=Oe===null,ct=Oe===Oe,Ot=di(Oe);if(se)var ft=L||ct;else xe?ft=ct&&(L||We):de?ft=ct&&We&&(L||!et):pe?ft=ct&&We&&!et&&(L||!Ot):et||Ot?ft=!1:ft=L?Oe<=m:Oe<m;ft?V=Ne+1:Z=Ne}return mr(Z,ce)}function dN(c,m){for(var x=-1,L=c.length,V=0,Z=[];++x<L;){var se=c[x],de=m?m(se):se;if(!x||!bo(de,pe)){var pe=de;Z[V++]=se===0?0:se}}return Z}function hN(c){return typeof c=="number"?c:di(c)?ie:+c}function fi(c){if(typeof c=="string")return c;if(Ct(c))return Xt(c,fi)+"";if(di(c))return Vx?Vx.call(c):"";var m=c+"";return m=="0"&&1/c==-Q?"-0":m}function Cs(c,m,x){var L=-1,V=cs,Z=c.length,se=!0,de=[],pe=de;if(x)se=!1,V=Fl;else if(Z>=i){var xe=m?null:oB(c);if(xe)return Tt(xe);se=!1,V=l,pe=new ql}else pe=m?[]:de;e:for(;++L<Z;){var Ne=c[L],Oe=m?m(Ne):Ne;if(Ne=x||Ne!==0?Ne:0,se&&Oe===Oe){for(var We=pe.length;We--;)if(pe[We]===Oe)continue e;m&&pe.push(Oe),de.push(Ne)}else V(pe,Oe,x)||(pe!==de&&pe.push(Oe),de.push(Ne))}return de}function pw(c,m){return m=xs(m,c),c=$N(c,m),c==null||delete c[na(Wi(m))]}function pN(c,m,x,L){return ld(c,m,x(Gl(c,m)),L)}function jp(c,m,x,L){for(var V=c.length,Z=L?V:-1;(L?Z--:++Z<V)&&m(c[Z],Z,c););return x?$i(c,L?0:Z,L?Z+1:V):$i(c,L?Z+1:0,L?V:Z)}function mN(c,m){var x=c;return x instanceof Rt&&(x=x.value()),fs(m,function(L,V){return V.func.apply(V.thisArg,$r([L],V.args))},x)}function mw(c,m,x){var L=c.length;if(L<2)return L?Cs(c[0]):[];for(var V=-1,Z=we(L);++V<L;)for(var se=c[V],de=-1;++de<L;)de!=V&&(Z[V]=od(Z[V]||se,c[de],m,x));return Cs(rr(Z,1),m,x)}function gN(c,m,x){for(var L=-1,V=c.length,Z=m.length,se={};++L<V;){var de=L<Z?m[L]:n;x(se,c[L],de)}return se}function gw(c){return _n(c)?c:[]}function vw(c){return typeof c=="function"?c:Vr}function xs(c,m){return Ct(c)?c:Iw(c,m)?[c]:VN(Ht(c))}var Yz=_t;function Ns(c,m,x){var L=c.length;return x=x===n?L:x,!m&&x>=L?c:$i(c,m,x)}var vN=Or||function(c){return On.clearTimeout(c)};function yN(c,m){if(m)return c.slice();var x=c.length,L=kp?kp(x):new c.constructor(x);return c.copy(L),L}function yw(c){var m=new c.constructor(c.byteLength);return new nc(m).set(new nc(c)),m}function Xz(c,m){var x=m?yw(c.buffer):c.buffer;return new c.constructor(x,c.byteOffset,c.byteLength)}function Jz(c){var m=new c.constructor(c.source,Za.exec(c));return m.lastIndex=c.lastIndex,m}function Qz(c){return rd?kt(rd.call(c)):{}}function wN(c,m){var x=m?yw(c.buffer):c.buffer;return new c.constructor(x,c.byteOffset,c.length)}function bN(c,m){if(c!==m){var x=c!==n,L=c===null,V=c===c,Z=di(c),se=m!==n,de=m===null,pe=m===m,xe=di(m);if(!de&&!xe&&!Z&&c>m||Z&&se&&pe&&!de&&!xe||L&&se&&pe||!x&&pe||!V)return 1;if(!L&&!Z&&!xe&&c<m||xe&&x&&V&&!L&&!Z||de&&x&&V||!se&&V||!pe)return-1}return 0}function Zz(c,m,x){for(var L=-1,V=c.criteria,Z=m.criteria,se=V.length,de=x.length;++L<se;){var pe=bN(V[L],Z[L]);if(pe){if(L>=de)return pe;var xe=x[L];return pe*(xe=="desc"?-1:1)}}return c.index-m.index}function SN(c,m,x,L){for(var V=-1,Z=c.length,se=x.length,de=-1,pe=m.length,xe=Mn(Z-se,0),Ne=we(pe+xe),Oe=!L;++de<pe;)Ne[de]=m[de];for(;++V<se;)(Oe||V<Z)&&(Ne[x[V]]=c[V]);for(;xe--;)Ne[de++]=c[V++];return Ne}function EN(c,m,x,L){for(var V=-1,Z=c.length,se=-1,de=x.length,pe=-1,xe=m.length,Ne=Mn(Z-de,0),Oe=we(Ne+xe),We=!L;++V<Ne;)Oe[V]=c[V];for(var et=V;++pe<xe;)Oe[et+pe]=m[pe];for(;++se<de;)(We||V<Z)&&(Oe[et+x[se]]=c[V++]);return Oe}function Wr(c,m){var x=-1,L=c.length;for(m||(m=we(L));++x<L;)m[x]=c[x];return m}function ta(c,m,x,L){var V=!x;x||(x={});for(var Z=-1,se=m.length;++Z<se;){var de=m[Z],pe=L?L(x[de],c[de],de,x,c):n;pe===n&&(pe=c[de]),V?Aa(x,de,pe):id(x,de,pe)}return x}function eB(c,m){return ta(c,Nw(c),m)}function tB(c,m){return ta(c,LN(c),m)}function Kp(c,m){return function(x,L){var V=Ct(x)?qu:Cz,Z=m?m():{};return V(x,c,lt(L,2),Z)}}function ac(c){return _t(function(m,x){var L=-1,V=x.length,Z=V>1?x[V-1]:n,se=V>2?x[2]:n;for(Z=c.length>3&&typeof Z=="function"?(V--,Z):n,se&&_r(x[0],x[1],se)&&(Z=V<3?n:Z,V=1),m=kt(m);++L<V;){var de=x[L];de&&c(m,de,L,Z)}return m})}function CN(c,m){return function(x,L){if(x==null)return x;if(!jr(x))return c(x,L);for(var V=x.length,Z=m?V:-1,se=kt(x);(m?Z--:++Z<V)&&L(se[Z],Z,se)!==!1;);return x}}function xN(c){return function(m,x,L){for(var V=-1,Z=kt(m),se=L(m),de=se.length;de--;){var pe=se[c?de:++V];if(x(Z[pe],pe,Z)===!1)break}return m}}function nB(c,m,x){var L=m&E,V=ud(c);function Z(){var se=this&&this!==On&&this instanceof Z?V:c;return se.apply(L?x:this,arguments)}return Z}function NN(c){return function(m){m=Ht(m);var x=me(m)?tr(m):n,L=x?x[0]:m.charAt(0),V=x?Ns(x,1).join(""):m.slice(1);return L[c]()+V}}function sc(c){return function(m){return fs(CI(EI(m).replace(_l,"")),c,"")}}function ud(c){return function(){var m=arguments;switch(m.length){case 0:return new c;case 1:return new c(m[0]);case 2:return new c(m[0],m[1]);case 3:return new c(m[0],m[1],m[2]);case 4:return new c(m[0],m[1],m[2],m[3]);case 5:return new c(m[0],m[1],m[2],m[3],m[4]);case 6:return new c(m[0],m[1],m[2],m[3],m[4],m[5]);case 7:return new c(m[0],m[1],m[2],m[3],m[4],m[5],m[6])}var x=oc(c.prototype),L=c.apply(x,m);return mn(L)?L:x}}function rB(c,m,x){var L=ud(c);function V(){for(var Z=arguments.length,se=we(Z),de=Z,pe=lc(V);de--;)se[de]=arguments[de];var xe=Z<3&&se[0]!==pe&&se[Z-1]!==pe?[]:it(se,pe);if(Z-=xe.length,Z<x)return AN(c,m,Vp,V.placeholder,n,se,xe,n,n,x-Z);var Ne=this&&this!==On&&this instanceof V?L:c;return Kn(Ne,this,se)}return V}function IN(c){return function(m,x,L){var V=kt(m);if(!jr(m)){var Z=lt(x,3);m=qn(m),x=function(de){return Z(V[de],de,V)}}var se=c(m,x,L);return se>-1?V[Z?m[se]:se]:n}}function ON(c){return Pa(function(m){var x=m.length,L=x,V=Fi.prototype.thru;for(c&&m.reverse();L--;){var Z=m[L];if(typeof Z!="function")throw new Ir(s);if(V&&!se&&Yp(Z)=="wrapper")var se=new Fi([],!0)}for(L=se?L:x;++L<x;){Z=m[L];var de=Yp(Z),pe=de=="wrapper"?Cw(Z):n;pe&&Ow(pe[0])&&pe[1]==(B|_|M|U)&&!pe[4].length&&pe[9]==1?se=se[Yp(pe[0])].apply(se,pe[3]):se=Z.length==1&&Ow(Z)?se[de]():se.thru(Z)}return function(){var xe=arguments,Ne=xe[0];if(se&&xe.length==1&&Ct(Ne))return se.plant(Ne).value();for(var Oe=0,We=x?m[Oe].apply(this,xe):Ne;++Oe<x;)We=m[Oe].call(this,We);return We}})}function Vp(c,m,x,L,V,Z,se,de,pe,xe){var Ne=m&B,Oe=m&E,We=m&S,et=m&(_|T),ct=m&F,Ot=We?n:ud(c);function ft(){for(var At=arguments.length,Dt=we(At),hi=At;hi--;)Dt[hi]=arguments[hi];if(et)var Ar=lc(ft),pi=C(Dt,Ar);if(L&&(Dt=SN(Dt,L,V,et)),Z&&(Dt=EN(Dt,Z,se,et)),At-=pi,et&&At<xe){var An=it(Dt,Ar);return AN(c,m,Vp,ft.placeholder,x,Dt,An,de,pe,xe-At)}var So=Oe?x:this,Ma=We?So[c]:c;return At=Dt.length,de?Dt=CB(Dt,de):ct&&At>1&&Dt.reverse(),Ne&&pe<At&&(Dt.length=pe),this&&this!==On&&this instanceof ft&&(Ma=Ot||ud(Ma)),Ma.apply(So,Dt)}return ft}function TN(c,m){return function(x,L){return Rz(x,c,m(L),{})}}function qp(c,m){return function(x,L){var V;if(x===n&&L===n)return m;if(x!==n&&(V=x),L!==n){if(V===n)return L;typeof x=="string"||typeof L=="string"?(x=fi(x),L=fi(L)):(x=hN(x),L=hN(L)),V=c(x,L)}return V}}function ww(c){return Pa(function(m){return m=Xt(m,f(lt())),_t(function(x){var L=this;return c(m,function(V){return Kn(V,L,x)})})})}function Hp(c,m){m=m===n?" ":fi(m);var x=m.length;if(x<2)return x?dw(m,c):m;var L=dw(m,Ss(c/ui(m)));return me(m)?Ns(tr(L),0,c).join(""):L.slice(0,c)}function iB(c,m,x,L){var V=m&E,Z=ud(c);function se(){for(var de=-1,pe=arguments.length,xe=-1,Ne=L.length,Oe=we(Ne+pe),We=this&&this!==On&&this instanceof se?Z:c;++xe<Ne;)Oe[xe]=L[xe];for(;pe--;)Oe[xe++]=arguments[++de];return Kn(We,V?x:this,Oe)}return se}function _N(c){return function(m,x,L){return L&&typeof L!="number"&&_r(m,x,L)&&(x=L=n),m=La(m),x===n?(x=m,m=0):x=La(x),L=L===n?m<x?1:-1:La(L),jz(m,x,L,c)}}function Gp(c){return function(m,x){return typeof m=="string"&&typeof x=="string"||(m=ji(m),x=ji(x)),c(m,x)}}function AN(c,m,x,L,V,Z,se,de,pe,xe){var Ne=m&_,Oe=Ne?se:n,We=Ne?n:se,et=Ne?Z:n,ct=Ne?n:Z;m|=Ne?M:R,m&=~(Ne?R:M),m&N||(m&=~(E|S));var Ot=[c,m,V,et,Oe,ct,We,de,pe,xe],ft=x.apply(n,Ot);return Ow(c)&&WN(ft,Ot),ft.placeholder=L,jN(ft,c,m)}function bw(c){var m=Tn[c];return function(x,L){if(x=ji(x),L=L==null?0:mr(Nt(L),292),L&&jx(x)){var V=(Ht(x)+"e").split("e"),Z=m(V[0]+"e"+(+V[1]+L));return V=(Ht(Z)+"e").split("e"),+(V[0]+"e"+(+V[1]-L))}return m(x)}}var oB=rc&&1/Tt(new rc([,-0]))[1]==Q?function(c){return new rc(c)}:Ww;function RN(c){return function(m){var x=gr(m);return x==at?Xe(m):x==Be?on(m):vs(m,c(m))}}function Ra(c,m,x,L,V,Z,se,de){var pe=m&S;if(!pe&&typeof c!="function")throw new Ir(s);var xe=L?L.length:0;if(xe||(m&=~(M|R),L=V=n),se=se===n?se:Mn(Nt(se),0),de=de===n?de:Nt(de),xe-=V?V.length:0,m&R){var Ne=L,Oe=V;L=V=n}var We=pe?n:Cw(c),et=[c,m,x,L,V,Ne,Oe,Z,se,de];if(We&&bB(et,We),c=et[0],m=et[1],x=et[2],L=et[3],V=et[4],de=et[9]=et[9]===n?pe?0:c.length:Mn(et[9]-xe,0),!de&&m&(_|T)&&(m&=~(_|T)),!m||m==E)var ct=nB(c,m,x);else m==_||m==T?ct=rB(c,m,de):(m==M||m==(E|M))&&!V.length?ct=iB(c,m,x,L):ct=Vp.apply(n,et);var Ot=We?fN:WN;return jN(Ot(ct,et),c,m)}function PN(c,m,x,L){return c===n||bo(c,ws[x])&&!Kt.call(L,x)?m:c}function kN(c,m,x,L,V,Z){return mn(c)&&mn(m)&&(Z.set(m,c),$p(c,m,n,kN,Z),Z.delete(m)),c}function aB(c){return dd(c)?n:c}function DN(c,m,x,L,V,Z){var se=x&O,de=c.length,pe=m.length;if(de!=pe&&!(se&&pe>de))return!1;var xe=Z.get(c),Ne=Z.get(m);if(xe&&Ne)return xe==m&&Ne==c;var Oe=-1,We=!0,et=x&k?new ql:n;for(Z.set(c,m),Z.set(m,c);++Oe<de;){var ct=c[Oe],Ot=m[Oe];if(L)var ft=se?L(Ot,ct,Oe,m,c,Z):L(ct,Ot,Oe,c,m,Z);if(ft!==n){if(ft)continue;We=!1;break}if(et){if(!Ul(m,function(At,Dt){if(!l(et,Dt)&&(ct===At||V(ct,At,x,L,Z)))return et.push(Dt)})){We=!1;break}}else if(!(ct===Ot||V(ct,Ot,x,L,Z))){We=!1;break}}return Z.delete(c),Z.delete(m),We}function sB(c,m,x,L,V,Z,se){switch(x){case tt:if(c.byteLength!=m.byteLength||c.byteOffset!=m.byteOffset)return!1;c=c.buffer,m=m.buffer;case ut:return!(c.byteLength!=m.byteLength||!Z(new nc(c),new nc(m)));case Ae:case _e:case yt:return bo(+c,+m);case Le:return c.name==m.name&&c.message==m.message;case Ie:case je:return c==m+"";case at:var de=Xe;case Be:var pe=L&O;if(de||(de=Tt),c.size!=m.size&&!pe)return!1;var xe=se.get(c);if(xe)return xe==m;L|=k,se.set(c,m);var Ne=DN(de(c),de(m),L,V,Z,se);return se.delete(c),Ne;case ht:if(rd)return rd.call(c)==rd.call(m)}return!1}function lB(c,m,x,L,V,Z){var se=x&O,de=Sw(c),pe=de.length,xe=Sw(m),Ne=xe.length;if(pe!=Ne&&!se)return!1;for(var Oe=pe;Oe--;){var We=de[Oe];if(!(se?We in m:Kt.call(m,We)))return!1}var et=Z.get(c),ct=Z.get(m);if(et&&ct)return et==m&&ct==c;var Ot=!0;Z.set(c,m),Z.set(m,c);for(var ft=se;++Oe<pe;){We=de[Oe];var At=c[We],Dt=m[We];if(L)var hi=se?L(Dt,At,We,m,c,Z):L(At,Dt,We,c,m,Z);if(!(hi===n?At===Dt||V(At,Dt,x,L,Z):hi)){Ot=!1;break}ft||(ft=We=="constructor")}if(Ot&&!ft){var Ar=c.constructor,pi=m.constructor;Ar!=pi&&"constructor"in c&&"constructor"in m&&!(typeof Ar=="function"&&Ar instanceof Ar&&typeof pi=="function"&&pi instanceof pi)&&(Ot=!1)}return Z.delete(c),Z.delete(m),Ot}function Pa(c){return _w(UN(c,n,YN),c+"")}function Sw(c){return eN(c,qn,Nw)}function Ew(c){return eN(c,Kr,LN)}var Cw=Lp?function(c){return Lp.get(c)}:Ww;function Yp(c){for(var m=c.name+"",x=ic[m],L=Kt.call(ic,m)?x.length:0;L--;){var V=x[L],Z=V.func;if(Z==null||Z==c)return V.name}return m}function lc(c){var m=Kt.call(Y,"placeholder")?Y:c;return m.placeholder}function lt(){var c=Y.iteratee||Uw;return c=c===Uw?rN:c,arguments.length?c(arguments[0],arguments[1]):c}function Xp(c,m){var x=c.__data__;return gB(m)?x[typeof m=="string"?"string":"hash"]:x.map}function xw(c){for(var m=qn(c),x=m.length;x--;){var L=m[x],V=c[L];m[x]=[L,V,BN(V)]}return m}function Yl(c,m){var x=ue(c,m);return nN(x)?x:n}function uB(c){var m=Kt.call(c,Ze),x=c[Ze];try{c[Ze]=n;var L=!0}catch{}var V=yo.call(c);return L&&(m?c[Ze]=x:delete c[Ze]),V}var Nw=Qy?function(c){return c==null?[]:(c=kt(c),Bi(Qy(c),function(m){return P.call(c,m)}))}:jw,LN=Qy?function(c){for(var m=[];c;)$r(m,Nw(c)),c=Oa(c);return m}:jw,gr=Tr;(Zy&&gr(new Zy(new ArrayBuffer(1)))!=tt||ed&&gr(new ed)!=at||ew&&gr(ew.resolve())!=ve||rc&&gr(new rc)!=Be||td&&gr(new td)!=It)&&(gr=function(c){var m=Tr(c),x=m==le?c.constructor:n,L=x?Xl(x):"";if(L)switch(L){case VM:return tt;case qM:return at;case HM:return ve;case GM:return Be;case YM:return It}return m});function cB(c,m,x){for(var L=-1,V=x.length;++L<V;){var Z=x[L],se=Z.size;switch(Z.type){case"drop":c+=se;break;case"dropRight":m-=se;break;case"take":m=mr(m,c+se);break;case"takeRight":c=Mn(c,m-se);break}}return{start:c,end:m}}function fB(c){var m=c.match(Wn);return m?m[1].split(wl):[]}function MN(c,m,x){m=xs(m,c);for(var L=-1,V=m.length,Z=!1;++L<V;){var se=na(m[L]);if(!(Z=c!=null&&x(c,se)))break;c=c[se]}return Z||++L!=V?Z:(V=c==null?0:c.length,!!V&&rm(V)&&ka(se,V)&&(Ct(c)||Jl(c)))}function dB(c){var m=c.length,x=new c.constructor(m);return m&&typeof c[0]=="string"&&Kt.call(c,"index")&&(x.index=c.index,x.input=c.input),x}function zN(c){return typeof c.constructor=="function"&&!cd(c)?oc(Oa(c)):{}}function hB(c,m,x){var L=c.constructor;switch(m){case ut:return yw(c);case Ae:case _e:return new L(+c);case tt:return Xz(c,x);case vn:case hr:case Ge:case hn:case pn:case Un:case Nn:case Pn:case $e:return wN(c,x);case at:return new L;case yt:case je:return new L(c);case Ie:return Jz(c);case Be:return new L;case ht:return Qz(c)}}function pB(c,m){var x=m.length;if(!x)return c;var L=x-1;return m[L]=(x>1?"& ":"")+m[L],m=m.join(x>2?", ":" "),c.replace(jo,`{
/* [wrapped with `+m+`] */
`)}function mB(c){return Ct(c)||Jl(c)||!!(ae&&c&&c[ae])}function ka(c,m){var x=typeof c;return m=m==null?X:m,!!m&&(x=="number"||x!="symbol"&&In.test(c))&&c>-1&&c%1==0&&c<m}function _r(c,m,x){if(!mn(x))return!1;var L=typeof m;return(L=="number"?jr(x)&&ka(m,x.length):L=="string"&&m in x)?bo(x[m],c):!1}function Iw(c,m){if(Ct(c))return!1;var x=typeof c;return x=="number"||x=="symbol"||x=="boolean"||c==null||di(c)?!0:Wo.test(c)||!wa.test(c)||m!=null&&c in kt(m)}function gB(c){var m=typeof c;return m=="string"||m=="number"||m=="symbol"||m=="boolean"?c!=="__proto__":c===null}function Ow(c){var m=Yp(c),x=Y[m];if(typeof x!="function"||!(m in Rt.prototype))return!1;if(c===x)return!0;var L=Cw(x);return!!L&&c===L[0]}function vB(c){return!!ci&&ci in c}var yB=Kl?Da:Kw;function cd(c){var m=c&&c.constructor,x=typeof m=="function"&&m.prototype||ws;return c===x}function BN(c){return c===c&&!mn(c)}function FN(c,m){return function(x){return x==null?!1:x[c]===m&&(m!==n||c in kt(x))}}function wB(c){var m=tm(c,function(L){return x.size===p&&x.clear(),L}),x=m.cache;return m}function bB(c,m){var x=c[1],L=m[1],V=x|L,Z=V<(E|S|B),se=L==B&&x==_||L==B&&x==U&&c[7].length<=m[8]||L==(B|U)&&m[7].length<=m[8]&&x==_;if(!(Z||se))return c;L&E&&(c[2]=m[2],V|=x&E?0:N);var de=m[3];if(de){var pe=c[3];c[3]=pe?SN(pe,de,m[4]):de,c[4]=pe?it(c[3],v):m[4]}return de=m[5],de&&(pe=c[5],c[5]=pe?EN(pe,de,m[6]):de,c[6]=pe?it(c[5],v):m[6]),de=m[7],de&&(c[7]=de),L&B&&(c[8]=c[8]==null?m[8]:mr(c[8],m[8])),c[9]==null&&(c[9]=m[9]),c[0]=m[0],c[1]=V,c}function SB(c){var m=[];if(c!=null)for(var x in kt(c))m.push(x);return m}function EB(c){return yo.call(c)}function UN(c,m,x){return m=Mn(m===n?c.length-1:m,0),function(){for(var L=arguments,V=-1,Z=Mn(L.length-m,0),se=we(Z);++V<Z;)se[V]=L[m+V];V=-1;for(var de=we(m+1);++V<m;)de[V]=L[V];return de[m]=x(se),Kn(c,this,de)}}function $N(c,m){return m.length<2?c:Gl(c,$i(m,0,-1))}function CB(c,m){for(var x=c.length,L=mr(m.length,x),V=Wr(c);L--;){var Z=m[L];c[L]=ka(Z,x)?V[Z]:n}return c}function Tw(c,m){if(!(m==="constructor"&&typeof c[m]=="function")&&m!="__proto__")return c[m]}var WN=KN(fN),fd=bs||function(c,m){return On.setTimeout(c,m)},_w=KN(qz);function jN(c,m,x){var L=m+"";return _w(c,pB(L,xB(fB(L),x)))}function KN(c){var m=0,x=0;return function(){var L=WM(),V=te-(L-x);if(x=L,V>0){if(++m>=G)return arguments[0]}else m=0;return c.apply(n,arguments)}}function Jp(c,m){var x=-1,L=c.length,V=L-1;for(m=m===n?L:m;++x<m;){var Z=fw(x,V),se=c[Z];c[Z]=c[x],c[x]=se}return c.length=m,c}var VN=wB(function(c){var m=[];return c.charCodeAt(0)===46&&m.push(""),c.replace(Ue,function(x,L,V,Z){m.push(V?Z.replace(ba,"$1"):L||x)}),m});function na(c){if(typeof c=="string"||di(c))return c;var m=c+"";return m=="0"&&1/c==-Q?"-0":m}function Xl(c){if(c!=null){try{return ec.call(c)}catch{}try{return c+""}catch{}}return""}function xB(c,m){return er(ge,function(x){var L="_."+x[0];m&x[1]&&!cs(c,L)&&c.push(L)}),c.sort()}function qN(c){if(c instanceof Rt)return c.clone();var m=new Fi(c.__wrapped__,c.__chain__);return m.__actions__=Wr(c.__actions__),m.__index__=c.__index__,m.__values__=c.__values__,m}function NB(c,m,x){(x?_r(c,m,x):m===n)?m=1:m=Mn(Nt(m),0);var L=c==null?0:c.length;if(!L||m<1)return[];for(var V=0,Z=0,se=we(Ss(L/m));V<L;)se[Z++]=$i(c,V,V+=m);return se}function IB(c){for(var m=-1,x=c==null?0:c.length,L=0,V=[];++m<x;){var Z=c[m];Z&&(V[L++]=Z)}return V}function OB(){var c=arguments.length;if(!c)return[];for(var m=we(c-1),x=arguments[0],L=c;L--;)m[L-1]=arguments[L];return $r(Ct(x)?Wr(x):[x],rr(m,1))}var TB=_t(function(c,m){return _n(c)?od(c,rr(m,1,_n,!0)):[]}),_B=_t(function(c,m){var x=Wi(m);return _n(x)&&(x=n),_n(c)?od(c,rr(m,1,_n,!0),lt(x,2)):[]}),AB=_t(function(c,m){var x=Wi(m);return _n(x)&&(x=n),_n(c)?od(c,rr(m,1,_n,!0),n,x):[]});function RB(c,m,x){var L=c==null?0:c.length;return L?(m=x||m===n?1:Nt(m),$i(c,m<0?0:m,L)):[]}function PB(c,m,x){var L=c==null?0:c.length;return L?(m=x||m===n?1:Nt(m),m=L-m,$i(c,0,m<0?0:m)):[]}function kB(c,m){return c&&c.length?jp(c,lt(m,3),!0,!0):[]}function DB(c,m){return c&&c.length?jp(c,lt(m,3),!0):[]}function LB(c,m,x,L){var V=c==null?0:c.length;return V?(x&&typeof x!="number"&&_r(c,m,x)&&(x=0,L=V),Oz(c,m,x,L)):[]}function HN(c,m,x){var L=c==null?0:c.length;if(!L)return-1;var V=x==null?0:Nt(x);return V<0&&(V=Mn(L+V,0)),ds(c,lt(m,3),V)}function GN(c,m,x){var L=c==null?0:c.length;if(!L)return-1;var V=L-1;return x!==n&&(V=Nt(x),V=x<0?Mn(L+V,0):mr(V,L-1)),ds(c,lt(m,3),V,!0)}function YN(c){var m=c==null?0:c.length;return m?rr(c,1):[]}function MB(c){var m=c==null?0:c.length;return m?rr(c,Q):[]}function zB(c,m){var x=c==null?0:c.length;return x?(m=m===n?1:Nt(m),rr(c,m)):[]}function BB(c){for(var m=-1,x=c==null?0:c.length,L={};++m<x;){var V=c[m];L[V[0]]=V[1]}return L}function XN(c){return c&&c.length?c[0]:n}function FB(c,m,x){var L=c==null?0:c.length;if(!L)return-1;var V=x==null?0:Nt(x);return V<0&&(V=Mn(L+V,0)),tn(c,m,V)}function UB(c){var m=c==null?0:c.length;return m?$i(c,0,-1):[]}var $B=_t(function(c){var m=Xt(c,gw);return m.length&&m[0]===c[0]?aw(m):[]}),WB=_t(function(c){var m=Wi(c),x=Xt(c,gw);return m===Wi(x)?m=n:x.pop(),x.length&&x[0]===c[0]?aw(x,lt(m,2)):[]}),jB=_t(function(c){var m=Wi(c),x=Xt(c,gw);return m=typeof m=="function"?m:n,m&&x.pop(),x.length&&x[0]===c[0]?aw(x,n,m):[]});function KB(c,m){return c==null?"":UM.call(c,m)}function Wi(c){var m=c==null?0:c.length;return m?c[m-1]:n}function VB(c,m,x){var L=c==null?0:c.length;if(!L)return-1;var V=L;return x!==n&&(V=Nt(x),V=V<0?Mn(L+V,0):mr(V,L-1)),m===m?Vn(c,m,V):ds(c,Yu,V,!0)}function qB(c,m){return c&&c.length?sN(c,Nt(m)):n}var HB=_t(JN);function JN(c,m){return c&&c.length&&m&&m.length?cw(c,m):c}function GB(c,m,x){return c&&c.length&&m&&m.length?cw(c,m,lt(x,2)):c}function YB(c,m,x){return c&&c.length&&m&&m.length?cw(c,m,n,x):c}var XB=Pa(function(c,m){var x=c==null?0:c.length,L=nw(c,m);return cN(c,Xt(m,function(V){return ka(V,x)?+V:V}).sort(bN)),L});function JB(c,m){var x=[];if(!(c&&c.length))return x;var L=-1,V=[],Z=c.length;for(m=lt(m,3);++L<Z;){var se=c[L];m(se,L,c)&&(x.push(se),V.push(L))}return cN(c,V),x}function Aw(c){return c==null?c:KM.call(c)}function QB(c,m,x){var L=c==null?0:c.length;return L?(x&&typeof x!="number"&&_r(c,m,x)?(m=0,x=L):(m=m==null?0:Nt(m),x=x===n?L:Nt(x)),$i(c,m,x)):[]}function ZB(c,m){return Wp(c,m)}function e2(c,m,x){return hw(c,m,lt(x,2))}function t2(c,m){var x=c==null?0:c.length;if(x){var L=Wp(c,m);if(L<x&&bo(c[L],m))return L}return-1}function n2(c,m){return Wp(c,m,!0)}function r2(c,m,x){return hw(c,m,lt(x,2),!0)}function i2(c,m){var x=c==null?0:c.length;if(x){var L=Wp(c,m,!0)-1;if(bo(c[L],m))return L}return-1}function o2(c){return c&&c.length?dN(c):[]}function a2(c,m){return c&&c.length?dN(c,lt(m,2)):[]}function s2(c){var m=c==null?0:c.length;return m?$i(c,1,m):[]}function l2(c,m,x){return c&&c.length?(m=x||m===n?1:Nt(m),$i(c,0,m<0?0:m)):[]}function u2(c,m,x){var L=c==null?0:c.length;return L?(m=x||m===n?1:Nt(m),m=L-m,$i(c,m<0?0:m,L)):[]}function c2(c,m){return c&&c.length?jp(c,lt(m,3),!1,!0):[]}function f2(c,m){return c&&c.length?jp(c,lt(m,3)):[]}var d2=_t(function(c){return Cs(rr(c,1,_n,!0))}),h2=_t(function(c){var m=Wi(c);return _n(m)&&(m=n),Cs(rr(c,1,_n,!0),lt(m,2))}),p2=_t(function(c){var m=Wi(c);return m=typeof m=="function"?m:n,Cs(rr(c,1,_n,!0),n,m)});function m2(c){return c&&c.length?Cs(c):[]}function g2(c,m){return c&&c.length?Cs(c,lt(m,2)):[]}function v2(c,m){return m=typeof m=="function"?m:n,c&&c.length?Cs(c,n,m):[]}function Rw(c){if(!(c&&c.length))return[];var m=0;return c=Bi(c,function(x){if(_n(x))return m=Mn(x.length,m),!0}),gs(m,function(x){return Xt(c,ps(x))})}function QN(c,m){if(!(c&&c.length))return[];var x=Rw(c);return m==null?x:Xt(x,function(L){return Kn(m,n,L)})}var y2=_t(function(c,m){return _n(c)?od(c,m):[]}),w2=_t(function(c){return mw(Bi(c,_n))}),b2=_t(function(c){var m=Wi(c);return _n(m)&&(m=n),mw(Bi(c,_n),lt(m,2))}),S2=_t(function(c){var m=Wi(c);return m=typeof m=="function"?m:n,mw(Bi(c,_n),n,m)}),E2=_t(Rw);function C2(c,m){return gN(c||[],m||[],id)}function x2(c,m){return gN(c||[],m||[],ld)}var N2=_t(function(c){var m=c.length,x=m>1?c[m-1]:n;return x=typeof x=="function"?(c.pop(),x):n,QN(c,x)});function ZN(c){var m=Y(c);return m.__chain__=!0,m}function I2(c,m){return m(c),c}function Qp(c,m){return m(c)}var O2=Pa(function(c){var m=c.length,x=m?c[0]:0,L=this.__wrapped__,V=function(Z){return nw(Z,c)};return m>1||this.__actions__.length||!(L instanceof Rt)||!ka(x)?this.thru(V):(L=L.slice(x,+x+(m?1:0)),L.__actions__.push({func:Qp,args:[V],thisArg:n}),new Fi(L,this.__chain__).thru(function(Z){return m&&!Z.length&&Z.push(n),Z}))});function T2(){return ZN(this)}function _2(){return new Fi(this.value(),this.__chain__)}function A2(){this.__values__===n&&(this.__values__=hI(this.value()));var c=this.__index__>=this.__values__.length,m=c?n:this.__values__[this.__index__++];return{done:c,value:m}}function R2(){return this}function P2(c){for(var m,x=this;x instanceof zp;){var L=qN(x);L.__index__=0,L.__values__=n,m?V.__wrapped__=L:m=L;var V=L;x=x.__wrapped__}return V.__wrapped__=c,m}function k2(){var c=this.__wrapped__;if(c instanceof Rt){var m=c;return this.__actions__.length&&(m=new Rt(this)),m=m.reverse(),m.__actions__.push({func:Qp,args:[Aw],thisArg:n}),new Fi(m,this.__chain__)}return this.thru(Aw)}function D2(){return mN(this.__wrapped__,this.__actions__)}var L2=Kp(function(c,m,x){Kt.call(c,x)?++c[x]:Aa(c,x,1)});function M2(c,m,x){var L=Ct(c)?Hu:Iz;return x&&_r(c,m,x)&&(m=n),L(c,lt(m,3))}function z2(c,m){var x=Ct(c)?Bi:Qx;return x(c,lt(m,3))}var B2=IN(HN),F2=IN(GN);function U2(c,m){return rr(Zp(c,m),1)}function $2(c,m){return rr(Zp(c,m),Q)}function W2(c,m,x){return x=x===n?1:Nt(x),rr(Zp(c,m),x)}function eI(c,m){var x=Ct(c)?er:Es;return x(c,lt(m,3))}function tI(c,m){var x=Ct(c)?Xf:Jx;return x(c,lt(m,3))}var j2=Kp(function(c,m,x){Kt.call(c,x)?c[x].push(m):Aa(c,x,[m])});function K2(c,m,x,L){c=jr(c)?c:cc(c),x=x&&!L?Nt(x):0;var V=c.length;return x<0&&(x=Mn(V+x,0)),im(c)?x<=V&&c.indexOf(m,x)>-1:!!V&&tn(c,m,x)>-1}var V2=_t(function(c,m,x){var L=-1,V=typeof m=="function",Z=jr(c)?we(c.length):[];return Es(c,function(se){Z[++L]=V?Kn(m,se,x):ad(se,m,x)}),Z}),q2=Kp(function(c,m,x){Aa(c,x,m)});function Zp(c,m){var x=Ct(c)?Xt:iN;return x(c,lt(m,3))}function H2(c,m,x,L){return c==null?[]:(Ct(m)||(m=m==null?[]:[m]),x=L?n:x,Ct(x)||(x=x==null?[]:[x]),lN(c,m,x))}var G2=Kp(function(c,m,x){c[x?0:1].push(m)},function(){return[[],[]]});function Y2(c,m,x){var L=Ct(c)?fs:Xu,V=arguments.length<3;return L(c,lt(m,4),x,V,Es)}function X2(c,m,x){var L=Ct(c)?Qo:Xu,V=arguments.length<3;return L(c,lt(m,4),x,V,Jx)}function J2(c,m){var x=Ct(c)?Bi:Qx;return x(c,nm(lt(m,3)))}function Q2(c){var m=Ct(c)?Hx:Kz;return m(c)}function Z2(c,m,x){(x?_r(c,m,x):m===n)?m=1:m=Nt(m);var L=Ct(c)?Sz:Vz;return L(c,m)}function eF(c){var m=Ct(c)?Ez:Hz;return m(c)}function tF(c){if(c==null)return 0;if(jr(c))return im(c)?ui(c):c.length;var m=gr(c);return m==at||m==Be?c.size:lw(c).length}function nF(c,m,x){var L=Ct(c)?Ul:Gz;return x&&_r(c,m,x)&&(m=n),L(c,lt(m,3))}var rF=_t(function(c,m){if(c==null)return[];var x=m.length;return x>1&&_r(c,m[0],m[1])?m=[]:x>2&&_r(m[0],m[1],m[2])&&(m=[m[0]]),lN(c,rr(m,1),[])}),em=nr||function(){return On.Date.now()};function iF(c,m){if(typeof m!="function")throw new Ir(s);return c=Nt(c),function(){if(--c<1)return m.apply(this,arguments)}}function nI(c,m,x){return m=x?n:m,m=c&&m==null?c.length:m,Ra(c,B,n,n,n,n,m)}function rI(c,m){var x;if(typeof m!="function")throw new Ir(s);return c=Nt(c),function(){return--c>0&&(x=m.apply(this,arguments)),c<=1&&(m=n),x}}var Pw=_t(function(c,m,x){var L=E;if(x.length){var V=it(x,lc(Pw));L|=M}return Ra(c,L,m,x,V)}),iI=_t(function(c,m,x){var L=E|S;if(x.length){var V=it(x,lc(iI));L|=M}return Ra(m,L,c,x,V)});function oI(c,m,x){m=x?n:m;var L=Ra(c,_,n,n,n,n,n,m);return L.placeholder=oI.placeholder,L}function aI(c,m,x){m=x?n:m;var L=Ra(c,T,n,n,n,n,n,m);return L.placeholder=aI.placeholder,L}function sI(c,m,x){var L,V,Z,se,de,pe,xe=0,Ne=!1,Oe=!1,We=!0;if(typeof c!="function")throw new Ir(s);m=ji(m)||0,mn(x)&&(Ne=!!x.leading,Oe="maxWait"in x,Z=Oe?Mn(ji(x.maxWait)||0,m):Z,We="trailing"in x?!!x.trailing:We);function et(An){var So=L,Ma=V;return L=V=n,xe=An,se=c.apply(Ma,So),se}function ct(An){return xe=An,de=fd(At,m),Ne?et(An):se}function Ot(An){var So=An-pe,Ma=An-xe,II=m-So;return Oe?mr(II,Z-Ma):II}function ft(An){var So=An-pe,Ma=An-xe;return pe===n||So>=m||So<0||Oe&&Ma>=Z}function At(){var An=em();if(ft(An))return Dt(An);de=fd(At,Ot(An))}function Dt(An){return de=n,We&&L?et(An):(L=V=n,se)}function hi(){de!==n&&vN(de),xe=0,L=pe=V=de=n}function Ar(){return de===n?se:Dt(em())}function pi(){var An=em(),So=ft(An);if(L=arguments,V=this,pe=An,So){if(de===n)return ct(pe);if(Oe)return vN(de),de=fd(At,m),et(pe)}return de===n&&(de=fd(At,m)),se}return pi.cancel=hi,pi.flush=Ar,pi}var oF=_t(function(c,m){return Xx(c,1,m)}),aF=_t(function(c,m,x){return Xx(c,ji(m)||0,x)});function sF(c){return Ra(c,F)}function tm(c,m){if(typeof c!="function"||m!=null&&typeof m!="function")throw new Ir(s);var x=function(){var L=arguments,V=m?m.apply(this,L):L[0],Z=x.cache;if(Z.has(V))return Z.get(V);var se=c.apply(this,L);return x.cache=Z.set(V,se)||Z,se};return x.cache=new(tm.Cache||_a),x}tm.Cache=_a;function nm(c){if(typeof c!="function")throw new Ir(s);return function(){var m=arguments;switch(m.length){case 0:return!c.call(this);case 1:return!c.call(this,m[0]);case 2:return!c.call(this,m[0],m[1]);case 3:return!c.call(this,m[0],m[1],m[2])}return!c.apply(this,m)}}function lF(c){return rI(2,c)}var uF=Yz(function(c,m){m=m.length==1&&Ct(m[0])?Xt(m[0],f(lt())):Xt(rr(m,1),f(lt()));var x=m.length;return _t(function(L){for(var V=-1,Z=mr(L.length,x);++V<Z;)L[V]=m[V].call(this,L[V]);return Kn(c,this,L)})}),kw=_t(function(c,m){var x=it(m,lc(kw));return Ra(c,M,n,m,x)}),lI=_t(function(c,m){var x=it(m,lc(lI));return Ra(c,R,n,m,x)}),cF=Pa(function(c,m){return Ra(c,U,n,n,n,m)});function fF(c,m){if(typeof c!="function")throw new Ir(s);return m=m===n?m:Nt(m),_t(c,m)}function dF(c,m){if(typeof c!="function")throw new Ir(s);return m=m==null?0:Mn(Nt(m),0),_t(function(x){var L=x[m],V=Ns(x,0,m);return L&&$r(V,L),Kn(c,this,V)})}function hF(c,m,x){var L=!0,V=!0;if(typeof c!="function")throw new Ir(s);return mn(x)&&(L="leading"in x?!!x.leading:L,V="trailing"in x?!!x.trailing:V),sI(c,m,{leading:L,maxWait:m,trailing:V})}function pF(c){return nI(c,1)}function mF(c,m){return kw(vw(m),c)}function gF(){if(!arguments.length)return[];var c=arguments[0];return Ct(c)?c:[c]}function vF(c){return Ui(c,I)}function yF(c,m){return m=typeof m=="function"?m:n,Ui(c,I,m)}function wF(c){return Ui(c,y|I)}function bF(c,m){return m=typeof m=="function"?m:n,Ui(c,y|I,m)}function SF(c,m){return m==null||Yx(c,m,qn(m))}function bo(c,m){return c===m||c!==c&&m!==m}var EF=Gp(ow),CF=Gp(function(c,m){return c>=m}),Jl=tN(function(){return arguments}())?tN:function(c){return yn(c)&&Kt.call(c,"callee")&&!P.call(c,"callee")},Ct=we.isArray,xF=us?f(us):Pz;function jr(c){return c!=null&&rm(c.length)&&!Da(c)}function _n(c){return yn(c)&&jr(c)}function NF(c){return c===!0||c===!1||yn(c)&&Tr(c)==Ae}var Is=FM||Kw,IF=Ml?f(Ml):kz;function OF(c){return yn(c)&&c.nodeType===1&&!dd(c)}function TF(c){if(c==null)return!0;if(jr(c)&&(Ct(c)||typeof c=="string"||typeof c.splice=="function"||Is(c)||uc(c)||Jl(c)))return!c.length;var m=gr(c);if(m==at||m==Be)return!c.size;if(cd(c))return!lw(c).length;for(var x in c)if(Kt.call(c,x))return!1;return!0}function _F(c,m){return sd(c,m)}function AF(c,m,x){x=typeof x=="function"?x:n;var L=x?x(c,m):n;return L===n?sd(c,m,n,x):!!L}function Dw(c){if(!yn(c))return!1;var m=Tr(c);return m==Le||m==be||typeof c.message=="string"&&typeof c.name=="string"&&!dd(c)}function RF(c){return typeof c=="number"&&jx(c)}function Da(c){if(!mn(c))return!1;var m=Tr(c);return m==Re||m==rt||m==Ke||m==Pe}function uI(c){return typeof c=="number"&&c==Nt(c)}function rm(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=X}function mn(c){var m=typeof c;return c!=null&&(m=="object"||m=="function")}function yn(c){return c!=null&&typeof c=="object"}var cI=zl?f(zl):Lz;function PF(c,m){return c===m||sw(c,m,xw(m))}function kF(c,m,x){return x=typeof x=="function"?x:n,sw(c,m,xw(m),x)}function DF(c){return fI(c)&&c!=+c}function LF(c){if(yB(c))throw new wt(o);return nN(c)}function MF(c){return c===null}function zF(c){return c==null}function fI(c){return typeof c=="number"||yn(c)&&Tr(c)==yt}function dd(c){if(!yn(c)||Tr(c)!=le)return!1;var m=Oa(c);if(m===null)return!0;var x=Kt.call(m,"constructor")&&m.constructor;return typeof x=="function"&&x instanceof x&&ec.call(x)==Yy}var Lw=Bl?f(Bl):Mz;function BF(c){return uI(c)&&c>=-X&&c<=X}var dI=Ia?f(Ia):zz;function im(c){return typeof c=="string"||!Ct(c)&&yn(c)&&Tr(c)==je}function di(c){return typeof c=="symbol"||yn(c)&&Tr(c)==ht}var uc=Jo?f(Jo):Bz;function FF(c){return c===n}function UF(c){return yn(c)&&gr(c)==It}function $F(c){return yn(c)&&Tr(c)==cn}var WF=Gp(uw),jF=Gp(function(c,m){return c<=m});function hI(c){if(!c)return[];if(jr(c))return im(c)?tr(c):Wr(c);if(Se&&c[Se])return Fe(c[Se]());var m=gr(c),x=m==at?Xe:m==Be?Tt:cc;return x(c)}function La(c){if(!c)return c===0?c:0;if(c=ji(c),c===Q||c===-Q){var m=c<0?-1:1;return m*J}return c===c?c:0}function Nt(c){var m=La(c),x=m%1;return m===m?x?m-x:m:0}function pI(c){return c?Hl(Nt(c),0,oe):0}function ji(c){if(typeof c=="number")return c;if(di(c))return ie;if(mn(c)){var m=typeof c.valueOf=="function"?c.valueOf():c;c=mn(m)?m+"":m}if(typeof c!="string")return c===0?c:+c;c=jl(c);var x=co.test(c);return x||Vo.test(c)?ls(c.slice(2),x?2:8):Sa.test(c)?ie:+c}function mI(c){return ta(c,Kr(c))}function KF(c){return c?Hl(Nt(c),-X,X):c===0?c:0}function Ht(c){return c==null?"":fi(c)}var VF=ac(function(c,m){if(cd(m)||jr(m)){ta(m,qn(m),c);return}for(var x in m)Kt.call(m,x)&&id(c,x,m[x])}),gI=ac(function(c,m){ta(m,Kr(m),c)}),om=ac(function(c,m,x,L){ta(m,Kr(m),c,L)}),qF=ac(function(c,m,x,L){ta(m,qn(m),c,L)}),HF=Pa(nw);function GF(c,m){var x=oc(c);return m==null?x:Gx(x,m)}var YF=_t(function(c,m){c=kt(c);var x=-1,L=m.length,V=L>2?m[2]:n;for(V&&_r(m[0],m[1],V)&&(L=1);++x<L;)for(var Z=m[x],se=Kr(Z),de=-1,pe=se.length;++de<pe;){var xe=se[de],Ne=c[xe];(Ne===n||bo(Ne,ws[xe])&&!Kt.call(c,xe))&&(c[xe]=Z[xe])}return c}),XF=_t(function(c){return c.push(n,kN),Kn(vI,n,c)});function JF(c,m){return $l(c,lt(m,3),ea)}function QF(c,m){return $l(c,lt(m,3),iw)}function ZF(c,m){return c==null?c:rw(c,lt(m,3),Kr)}function eU(c,m){return c==null?c:Zx(c,lt(m,3),Kr)}function tU(c,m){return c&&ea(c,lt(m,3))}function nU(c,m){return c&&iw(c,lt(m,3))}function rU(c){return c==null?[]:Up(c,qn(c))}function iU(c){return c==null?[]:Up(c,Kr(c))}function Mw(c,m,x){var L=c==null?n:Gl(c,m);return L===n?x:L}function oU(c,m){return c!=null&&MN(c,m,Tz)}function zw(c,m){return c!=null&&MN(c,m,_z)}var aU=TN(function(c,m,x){m!=null&&typeof m.toString!="function"&&(m=yo.call(m)),c[m]=x},Fw(Vr)),sU=TN(function(c,m,x){m!=null&&typeof m.toString!="function"&&(m=yo.call(m)),Kt.call(c,m)?c[m].push(x):c[m]=[x]},lt),lU=_t(ad);function qn(c){return jr(c)?qx(c):lw(c)}function Kr(c){return jr(c)?qx(c,!0):Fz(c)}function uU(c,m){var x={};return m=lt(m,3),ea(c,function(L,V,Z){Aa(x,m(L,V,Z),L)}),x}function cU(c,m){var x={};return m=lt(m,3),ea(c,function(L,V,Z){Aa(x,V,m(L,V,Z))}),x}var fU=ac(function(c,m,x){$p(c,m,x)}),vI=ac(function(c,m,x,L){$p(c,m,x,L)}),dU=Pa(function(c,m){var x={};if(c==null)return x;var L=!1;m=Xt(m,function(Z){return Z=xs(Z,c),L||(L=Z.length>1),Z}),ta(c,Ew(c),x),L&&(x=Ui(x,y|b|I,aB));for(var V=m.length;V--;)pw(x,m[V]);return x});function hU(c,m){return yI(c,nm(lt(m)))}var pU=Pa(function(c,m){return c==null?{}:$z(c,m)});function yI(c,m){if(c==null)return{};var x=Xt(Ew(c),function(L){return[L]});return m=lt(m),uN(c,x,function(L,V){return m(L,V[0])})}function mU(c,m,x){m=xs(m,c);var L=-1,V=m.length;for(V||(V=1,c=n);++L<V;){var Z=c==null?n:c[na(m[L])];Z===n&&(L=V,Z=x),c=Da(Z)?Z.call(c):Z}return c}function gU(c,m,x){return c==null?c:ld(c,m,x)}function vU(c,m,x,L){return L=typeof L=="function"?L:n,c==null?c:ld(c,m,x,L)}var wI=RN(qn),bI=RN(Kr);function yU(c,m,x){var L=Ct(c),V=L||Is(c)||uc(c);if(m=lt(m,4),x==null){var Z=c&&c.constructor;V?x=L?new Z:[]:mn(c)?x=Da(Z)?oc(Oa(c)):{}:x={}}return(V?er:ea)(c,function(se,de,pe){return m(x,se,de,pe)}),x}function wU(c,m){return c==null?!0:pw(c,m)}function bU(c,m,x){return c==null?c:pN(c,m,vw(x))}function SU(c,m,x,L){return L=typeof L=="function"?L:n,c==null?c:pN(c,m,vw(x),L)}function cc(c){return c==null?[]:a(c,qn(c))}function EU(c){return c==null?[]:a(c,Kr(c))}function CU(c,m,x){return x===n&&(x=m,m=n),x!==n&&(x=ji(x),x=x===x?x:0),m!==n&&(m=ji(m),m=m===m?m:0),Hl(ji(c),m,x)}function xU(c,m,x){return m=La(m),x===n?(x=m,m=0):x=La(x),c=ji(c),Az(c,m,x)}function NU(c,m,x){if(x&&typeof x!="boolean"&&_r(c,m,x)&&(m=x=n),x===n&&(typeof m=="boolean"?(x=m,m=n):typeof c=="boolean"&&(x=c,c=n)),c===n&&m===n?(c=0,m=1):(c=La(c),m===n?(m=c,c=0):m=La(m)),c>m){var L=c;c=m,m=L}if(x||c%1||m%1){var V=Kx();return mr(c+V*(m-c+zi("1e-"+((V+"").length-1))),m)}return fw(c,m)}var IU=sc(function(c,m,x){return m=m.toLowerCase(),c+(x?SI(m):m)});function SI(c){return Bw(Ht(c).toLowerCase())}function EI(c){return c=Ht(c),c&&c.replace(Cl,D).replace(Al,"")}function OU(c,m,x){c=Ht(c),m=fi(m);var L=c.length;x=x===n?L:Hl(Nt(x),0,L);var V=x;return x-=m.length,x>=0&&c.slice(x,V)==m}function TU(c){return c=Ht(c),c&&$n.test(c)?c.replace(Ft,W):c}function _U(c){return c=Ht(c),c&&yl.test(c)?c.replace(ki,"\\$&"):c}var AU=sc(function(c,m,x){return c+(x?"-":"")+m.toLowerCase()}),RU=sc(function(c,m,x){return c+(x?" ":"")+m.toLowerCase()}),PU=NN("toLowerCase");function kU(c,m,x){c=Ht(c),m=Nt(m);var L=m?ui(c):0;if(!m||L>=m)return c;var V=(m-L)/2;return Hp(Dp(V),x)+c+Hp(Ss(V),x)}function DU(c,m,x){c=Ht(c),m=Nt(m);var L=m?ui(c):0;return m&&L<m?c+Hp(m-L,x):c}function LU(c,m,x){c=Ht(c),m=Nt(m);var L=m?ui(c):0;return m&&L<m?Hp(m-L,x)+c:c}function MU(c,m,x){return x||m==null?m=0:m&&(m=+m),jM(Ht(c).replace(lo,""),m||0)}function zU(c,m,x){return(x?_r(c,m,x):m===n)?m=1:m=Nt(m),dw(Ht(c),m)}function BU(){var c=arguments,m=Ht(c[0]);return c.length<3?m:m.replace(c[1],c[2])}var FU=sc(function(c,m,x){return c+(x?"_":"")+m.toLowerCase()});function UU(c,m,x){return x&&typeof x!="number"&&_r(c,m,x)&&(m=x=n),x=x===n?oe:x>>>0,x?(c=Ht(c),c&&(typeof m=="string"||m!=null&&!Lw(m))&&(m=fi(m),!m&&me(c))?Ns(tr(c),0,x):c.split(m,x)):[]}var $U=sc(function(c,m,x){return c+(x?" ":"")+Bw(m)});function WU(c,m,x){return c=Ht(c),x=x==null?0:Hl(Nt(x),0,c.length),m=fi(m),c.slice(x,x+m.length)==m}function jU(c,m,x){var L=Y.templateSettings;x&&_r(c,m,x)&&(m=n),c=Ht(c),m=om({},m,L,PN);var V=om({},m.imports,L.imports,PN),Z=qn(V),se=a(V,Z),de,pe,xe=0,Ne=m.interpolate||jn,Oe="__p += '",We=Qu((m.escape||jn).source+"|"+Ne.source+"|"+(Ne===Fr?El:jn).source+"|"+(m.evaluate||jn).source+"|$","g"),et="//# sourceURL="+(Kt.call(m,"sourceURL")?(m.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++qf+"]")+`
`;c.replace(We,function(ft,At,Dt,hi,Ar,pi){return Dt||(Dt=hi),Oe+=c.slice(xe,pi).replace(es,ee),At&&(de=!0,Oe+=`' +
__e(`+At+`) +
'`),Ar&&(pe=!0,Oe+=`';
`+Ar+`;
__p += '`),Dt&&(Oe+=`' +
((__t = (`+Dt+`)) == null ? '' : __t) +
'`),xe=pi+ft.length,ft}),Oe+=`';
`;var ct=Kt.call(m,"variable")&&m.variable;if(!ct)Oe=`with (obj) {
`+Oe+`
}
`;else if(Sl.test(ct))throw new wt(u);Oe=(pe?Oe.replace(Ye,""):Oe).replace(st,"$1").replace(St,"$1;"),Oe="function("+(ct||"obj")+`) {
`+(ct?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(de?", __e = _.escape":"")+(pe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Oe+`return __p
}`;var Ot=xI(function(){return Mt(Z,et+"return "+Oe).apply(n,se)});if(Ot.source=Oe,Dw(Ot))throw Ot;return Ot}function KU(c){return Ht(c).toLowerCase()}function VU(c){return Ht(c).toUpperCase()}function qU(c,m,x){if(c=Ht(c),c&&(x||m===n))return jl(c);if(!c||!(m=fi(m)))return c;var L=tr(c),V=tr(m),Z=d(L,V),se=g(L,V)+1;return Ns(L,Z,se).join("")}function HU(c,m,x){if(c=Ht(c),c&&(x||m===n))return c.slice(0,Rp(c)+1);if(!c||!(m=fi(m)))return c;var L=tr(c),V=g(L,tr(m))+1;return Ns(L,0,V).join("")}function GU(c,m,x){if(c=Ht(c),c&&(x||m===n))return c.replace(lo,"");if(!c||!(m=fi(m)))return c;var L=tr(c),V=d(L,tr(m));return Ns(L,V).join("")}function YU(c,m){var x=z,L=$;if(mn(m)){var V="separator"in m?m.separator:V;x="length"in m?Nt(m.length):x,L="omission"in m?fi(m.omission):L}c=Ht(c);var Z=c.length;if(me(c)){var se=tr(c);Z=se.length}if(x>=Z)return c;var de=x-ui(L);if(de<1)return L;var pe=se?Ns(se,0,de).join(""):c.slice(0,de);if(V===n)return pe+L;if(se&&(de+=pe.length-de),Lw(V)){if(c.slice(de).search(V)){var xe,Ne=pe;for(V.global||(V=Qu(V.source,Ht(Za.exec(V))+"g")),V.lastIndex=0;xe=V.exec(Ne);)var Oe=xe.index;pe=pe.slice(0,Oe===n?de:Oe)}}else if(c.indexOf(fi(V),de)!=de){var We=pe.lastIndexOf(V);We>-1&&(pe=pe.slice(0,We))}return pe+L}function XU(c){return c=Ht(c),c&&sn.test(c)?c.replace(xt,Wy):c}var JU=sc(function(c,m,x){return c+(x?" ":"")+m.toUpperCase()}),Bw=NN("toUpperCase");function CI(c,m,x){return c=Ht(c),m=x?n:m,m===n?Te(c)?Pp(c):Qf(c):c.match(m)||[]}var xI=_t(function(c,m){try{return Kn(c,n,m)}catch(x){return Dw(x)?x:new wt(x)}}),QU=Pa(function(c,m){return er(m,function(x){x=na(x),Aa(c,x,Pw(c[x],c))}),c});function ZU(c){var m=c==null?0:c.length,x=lt();return c=m?Xt(c,function(L){if(typeof L[1]!="function")throw new Ir(s);return[x(L[0]),L[1]]}):[],_t(function(L){for(var V=-1;++V<m;){var Z=c[V];if(Kn(Z[0],this,L))return Kn(Z[1],this,L)}})}function e$(c){return Nz(Ui(c,y))}function Fw(c){return function(){return c}}function t$(c,m){return c==null||c!==c?m:c}var n$=ON(),r$=ON(!0);function Vr(c){return c}function Uw(c){return rN(typeof c=="function"?c:Ui(c,y))}function i$(c){return oN(Ui(c,y))}function o$(c,m){return aN(c,Ui(m,y))}var a$=_t(function(c,m){return function(x){return ad(x,c,m)}}),s$=_t(function(c,m){return function(x){return ad(c,x,m)}});function $w(c,m,x){var L=qn(m),V=Up(m,L);x==null&&!(mn(m)&&(V.length||!L.length))&&(x=m,m=c,c=this,V=Up(m,qn(m)));var Z=!(mn(x)&&"chain"in x)||!!x.chain,se=Da(c);return er(V,function(de){var pe=m[de];c[de]=pe,se&&(c.prototype[de]=function(){var xe=this.__chain__;if(Z||xe){var Ne=c(this.__wrapped__),Oe=Ne.__actions__=Wr(this.__actions__);return Oe.push({func:pe,args:arguments,thisArg:c}),Ne.__chain__=xe,Ne}return pe.apply(c,$r([this.value()],arguments))})}),c}function l$(){return On._===this&&(On._=Xy),this}function Ww(){}function u$(c){return c=Nt(c),_t(function(m){return sN(m,c)})}var c$=ww(Xt),f$=ww(Hu),d$=ww(Ul);function NI(c){return Iw(c)?ps(na(c)):Wz(c)}function h$(c){return function(m){return c==null?n:Gl(c,m)}}var p$=_N(),m$=_N(!0);function jw(){return[]}function Kw(){return!1}function g$(){return{}}function v$(){return""}function y$(){return!0}function w$(c,m){if(c=Nt(c),c<1||c>X)return[];var x=oe,L=mr(c,oe);m=lt(m),c-=oe;for(var V=gs(L,m);++x<c;)m(x);return V}function b$(c){return Ct(c)?Xt(c,na):di(c)?[c]:Wr(VN(Ht(c)))}function S$(c){var m=++Gy;return Ht(c)+m}var E$=qp(function(c,m){return c+m},0),C$=bw("ceil"),x$=qp(function(c,m){return c/m},1),N$=bw("floor");function I$(c){return c&&c.length?Fp(c,Vr,ow):n}function O$(c,m){return c&&c.length?Fp(c,lt(m,2),ow):n}function T$(c){return hs(c,Vr)}function _$(c,m){return hs(c,lt(m,2))}function A$(c){return c&&c.length?Fp(c,Vr,uw):n}function R$(c,m){return c&&c.length?Fp(c,lt(m,2),uw):n}var P$=qp(function(c,m){return c*m},1),k$=bw("round"),D$=qp(function(c,m){return c-m},0);function L$(c){return c&&c.length?ms(c,Vr):0}function M$(c,m){return c&&c.length?ms(c,lt(m,2)):0}return Y.after=iF,Y.ary=nI,Y.assign=VF,Y.assignIn=gI,Y.assignInWith=om,Y.assignWith=qF,Y.at=HF,Y.before=rI,Y.bind=Pw,Y.bindAll=QU,Y.bindKey=iI,Y.castArray=gF,Y.chain=ZN,Y.chunk=NB,Y.compact=IB,Y.concat=OB,Y.cond=ZU,Y.conforms=e$,Y.constant=Fw,Y.countBy=L2,Y.create=GF,Y.curry=oI,Y.curryRight=aI,Y.debounce=sI,Y.defaults=YF,Y.defaultsDeep=XF,Y.defer=oF,Y.delay=aF,Y.difference=TB,Y.differenceBy=_B,Y.differenceWith=AB,Y.drop=RB,Y.dropRight=PB,Y.dropRightWhile=kB,Y.dropWhile=DB,Y.fill=LB,Y.filter=z2,Y.flatMap=U2,Y.flatMapDeep=$2,Y.flatMapDepth=W2,Y.flatten=YN,Y.flattenDeep=MB,Y.flattenDepth=zB,Y.flip=sF,Y.flow=n$,Y.flowRight=r$,Y.fromPairs=BB,Y.functions=rU,Y.functionsIn=iU,Y.groupBy=j2,Y.initial=UB,Y.intersection=$B,Y.intersectionBy=WB,Y.intersectionWith=jB,Y.invert=aU,Y.invertBy=sU,Y.invokeMap=V2,Y.iteratee=Uw,Y.keyBy=q2,Y.keys=qn,Y.keysIn=Kr,Y.map=Zp,Y.mapKeys=uU,Y.mapValues=cU,Y.matches=i$,Y.matchesProperty=o$,Y.memoize=tm,Y.merge=fU,Y.mergeWith=vI,Y.method=a$,Y.methodOf=s$,Y.mixin=$w,Y.negate=nm,Y.nthArg=u$,Y.omit=dU,Y.omitBy=hU,Y.once=lF,Y.orderBy=H2,Y.over=c$,Y.overArgs=uF,Y.overEvery=f$,Y.overSome=d$,Y.partial=kw,Y.partialRight=lI,Y.partition=G2,Y.pick=pU,Y.pickBy=yI,Y.property=NI,Y.propertyOf=h$,Y.pull=HB,Y.pullAll=JN,Y.pullAllBy=GB,Y.pullAllWith=YB,Y.pullAt=XB,Y.range=p$,Y.rangeRight=m$,Y.rearg=cF,Y.reject=J2,Y.remove=JB,Y.rest=fF,Y.reverse=Aw,Y.sampleSize=Z2,Y.set=gU,Y.setWith=vU,Y.shuffle=eF,Y.slice=QB,Y.sortBy=rF,Y.sortedUniq=o2,Y.sortedUniqBy=a2,Y.split=UU,Y.spread=dF,Y.tail=s2,Y.take=l2,Y.takeRight=u2,Y.takeRightWhile=c2,Y.takeWhile=f2,Y.tap=I2,Y.throttle=hF,Y.thru=Qp,Y.toArray=hI,Y.toPairs=wI,Y.toPairsIn=bI,Y.toPath=b$,Y.toPlainObject=mI,Y.transform=yU,Y.unary=pF,Y.union=d2,Y.unionBy=h2,Y.unionWith=p2,Y.uniq=m2,Y.uniqBy=g2,Y.uniqWith=v2,Y.unset=wU,Y.unzip=Rw,Y.unzipWith=QN,Y.update=bU,Y.updateWith=SU,Y.values=cc,Y.valuesIn=EU,Y.without=y2,Y.words=CI,Y.wrap=mF,Y.xor=w2,Y.xorBy=b2,Y.xorWith=S2,Y.zip=E2,Y.zipObject=C2,Y.zipObjectDeep=x2,Y.zipWith=N2,Y.entries=wI,Y.entriesIn=bI,Y.extend=gI,Y.extendWith=om,$w(Y,Y),Y.add=E$,Y.attempt=xI,Y.camelCase=IU,Y.capitalize=SI,Y.ceil=C$,Y.clamp=CU,Y.clone=vF,Y.cloneDeep=wF,Y.cloneDeepWith=bF,Y.cloneWith=yF,Y.conformsTo=SF,Y.deburr=EI,Y.defaultTo=t$,Y.divide=x$,Y.endsWith=OU,Y.eq=bo,Y.escape=TU,Y.escapeRegExp=_U,Y.every=M2,Y.find=B2,Y.findIndex=HN,Y.findKey=JF,Y.findLast=F2,Y.findLastIndex=GN,Y.findLastKey=QF,Y.floor=N$,Y.forEach=eI,Y.forEachRight=tI,Y.forIn=ZF,Y.forInRight=eU,Y.forOwn=tU,Y.forOwnRight=nU,Y.get=Mw,Y.gt=EF,Y.gte=CF,Y.has=oU,Y.hasIn=zw,Y.head=XN,Y.identity=Vr,Y.includes=K2,Y.indexOf=FB,Y.inRange=xU,Y.invoke=lU,Y.isArguments=Jl,Y.isArray=Ct,Y.isArrayBuffer=xF,Y.isArrayLike=jr,Y.isArrayLikeObject=_n,Y.isBoolean=NF,Y.isBuffer=Is,Y.isDate=IF,Y.isElement=OF,Y.isEmpty=TF,Y.isEqual=_F,Y.isEqualWith=AF,Y.isError=Dw,Y.isFinite=RF,Y.isFunction=Da,Y.isInteger=uI,Y.isLength=rm,Y.isMap=cI,Y.isMatch=PF,Y.isMatchWith=kF,Y.isNaN=DF,Y.isNative=LF,Y.isNil=zF,Y.isNull=MF,Y.isNumber=fI,Y.isObject=mn,Y.isObjectLike=yn,Y.isPlainObject=dd,Y.isRegExp=Lw,Y.isSafeInteger=BF,Y.isSet=dI,Y.isString=im,Y.isSymbol=di,Y.isTypedArray=uc,Y.isUndefined=FF,Y.isWeakMap=UF,Y.isWeakSet=$F,Y.join=KB,Y.kebabCase=AU,Y.last=Wi,Y.lastIndexOf=VB,Y.lowerCase=RU,Y.lowerFirst=PU,Y.lt=WF,Y.lte=jF,Y.max=I$,Y.maxBy=O$,Y.mean=T$,Y.meanBy=_$,Y.min=A$,Y.minBy=R$,Y.stubArray=jw,Y.stubFalse=Kw,Y.stubObject=g$,Y.stubString=v$,Y.stubTrue=y$,Y.multiply=P$,Y.nth=qB,Y.noConflict=l$,Y.noop=Ww,Y.now=em,Y.pad=kU,Y.padEnd=DU,Y.padStart=LU,Y.parseInt=MU,Y.random=NU,Y.reduce=Y2,Y.reduceRight=X2,Y.repeat=zU,Y.replace=BU,Y.result=mU,Y.round=k$,Y.runInContext=he,Y.sample=Q2,Y.size=tF,Y.snakeCase=FU,Y.some=nF,Y.sortedIndex=ZB,Y.sortedIndexBy=e2,Y.sortedIndexOf=t2,Y.sortedLastIndex=n2,Y.sortedLastIndexBy=r2,Y.sortedLastIndexOf=i2,Y.startCase=$U,Y.startsWith=WU,Y.subtract=D$,Y.sum=L$,Y.sumBy=M$,Y.template=jU,Y.times=w$,Y.toFinite=La,Y.toInteger=Nt,Y.toLength=pI,Y.toLower=KU,Y.toNumber=ji,Y.toSafeInteger=KF,Y.toString=Ht,Y.toUpper=VU,Y.trim=qU,Y.trimEnd=HU,Y.trimStart=GU,Y.truncate=YU,Y.unescape=XU,Y.uniqueId=S$,Y.upperCase=JU,Y.upperFirst=Bw,Y.each=eI,Y.eachRight=tI,Y.first=XN,$w(Y,function(){var c={};return ea(Y,function(m,x){Kt.call(Y.prototype,x)||(c[x]=m)}),c}(),{chain:!1}),Y.VERSION=r,er(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){Y[c].placeholder=Y}),er(["drop","take"],function(c,m){Rt.prototype[c]=function(x){x=x===n?1:Mn(Nt(x),0);var L=this.__filtered__&&!m?new Rt(this):this.clone();return L.__filtered__?L.__takeCount__=mr(x,L.__takeCount__):L.__views__.push({size:mr(x,oe),type:c+(L.__dir__<0?"Right":"")}),L},Rt.prototype[c+"Right"]=function(x){return this.reverse()[c](x).reverse()}}),er(["filter","map","takeWhile"],function(c,m){var x=m+1,L=x==q||x==ne;Rt.prototype[c]=function(V){var Z=this.clone();return Z.__iteratees__.push({iteratee:lt(V,3),type:x}),Z.__filtered__=Z.__filtered__||L,Z}}),er(["head","last"],function(c,m){var x="take"+(m?"Right":"");Rt.prototype[c]=function(){return this[x](1).value()[0]}}),er(["initial","tail"],function(c,m){var x="drop"+(m?"":"Right");Rt.prototype[c]=function(){return this.__filtered__?new Rt(this):this[x](1)}}),Rt.prototype.compact=function(){return this.filter(Vr)},Rt.prototype.find=function(c){return this.filter(c).head()},Rt.prototype.findLast=function(c){return this.reverse().find(c)},Rt.prototype.invokeMap=_t(function(c,m){return typeof c=="function"?new Rt(this):this.map(function(x){return ad(x,c,m)})}),Rt.prototype.reject=function(c){return this.filter(nm(lt(c)))},Rt.prototype.slice=function(c,m){c=Nt(c);var x=this;return x.__filtered__&&(c>0||m<0)?new Rt(x):(c<0?x=x.takeRight(-c):c&&(x=x.drop(c)),m!==n&&(m=Nt(m),x=m<0?x.dropRight(-m):x.take(m-c)),x)},Rt.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},Rt.prototype.toArray=function(){return this.take(oe)},ea(Rt.prototype,function(c,m){var x=/^(?:filter|find|map|reject)|While$/.test(m),L=/^(?:head|last)$/.test(m),V=Y[L?"take"+(m=="last"?"Right":""):m],Z=L||/^find/.test(m);!V||(Y.prototype[m]=function(){var se=this.__wrapped__,de=L?[1]:arguments,pe=se instanceof Rt,xe=de[0],Ne=pe||Ct(se),Oe=function(At){var Dt=V.apply(Y,$r([At],de));return L&&We?Dt[0]:Dt};Ne&&x&&typeof xe=="function"&&xe.length!=1&&(pe=Ne=!1);var We=this.__chain__,et=!!this.__actions__.length,ct=Z&&!We,Ot=pe&&!et;if(!Z&&Ne){se=Ot?se:new Rt(this);var ft=c.apply(se,de);return ft.__actions__.push({func:Qp,args:[Oe],thisArg:n}),new Fi(ft,We)}return ct&&Ot?c.apply(this,de):(ft=this.thru(Oe),ct?L?ft.value()[0]:ft.value():ft)})}),er(["pop","push","shift","sort","splice","unshift"],function(c){var m=Zu[c],x=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",L=/^(?:pop|shift)$/.test(c);Y.prototype[c]=function(){var V=arguments;if(L&&!this.__chain__){var Z=this.value();return m.apply(Ct(Z)?Z:[],V)}return this[x](function(se){return m.apply(Ct(se)?se:[],V)})}}),ea(Rt.prototype,function(c,m){var x=Y[m];if(x){var L=x.name+"";Kt.call(ic,L)||(ic[L]=[]),ic[L].push({name:m,func:x})}}),ic[Vp(n,S).name]=[{name:"wrapper",func:n}],Rt.prototype.clone=XM,Rt.prototype.reverse=JM,Rt.prototype.value=QM,Y.prototype.at=O2,Y.prototype.chain=T2,Y.prototype.commit=_2,Y.prototype.next=A2,Y.prototype.plant=P2,Y.prototype.reverse=k2,Y.prototype.toJSON=Y.prototype.valueOf=Y.prototype.value=D2,Y.prototype.first=Y.prototype.head,Se&&(Y.prototype[Se]=R2),Y},ys=Vy();go?((go.exports=ys)._=ys,Dl._=ys):On._=ys}).call(kn)})(Bg,Bg.exports);var Ph=Bg.exports,mP={};(function(e){var t=kn&&kn.__extends||function(){var f=function(a,l){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var C in g)g.hasOwnProperty(C)&&(d[C]=g[C])},f(a,l)};return function(a,l){f(a,l);function d(){this.constructor=a}a.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),n=kn&&kn.__assign||function(){return n=Object.assign||function(f){for(var a,l=1,d=arguments.length;l<d;l++){a=arguments[l];for(var g in a)Object.prototype.hasOwnProperty.call(a,g)&&(f[g]=a[g])}return f},n.apply(this,arguments)},r=kn&&kn.__spreadArrays||function(){for(var f=0,a=0,l=arguments.length;a<l;a++)f+=arguments[a].length;for(var d=Array(f),g=0,a=0;a<l;a++)for(var C=arguments[a],D=0,W=C.length;D<W;D++,g++)d[g]=C[D];return d};Object.defineProperty(e,"__esModule",{value:!0});var i;(function(f){f[f.RESTRICT=0]="RESTRICT",f[f.CASCADE=1]="CASCADE"})(i=e.ConstraintAction||(e.ConstraintAction={}));var o;(function(f){f[f.IMMEDIATE=0]="IMMEDIATE",f[f.DEFERRABLE=1]="DEFERRABLE"})(o=e.ConstraintTiming||(e.ConstraintTiming={}));var s;(function(f){f[f.INDEXED_DB=0]="INDEXED_DB",f[f.MEMORY=1]="MEMORY",f[f.LOCAL_STORAGE=2]="LOCAL_STORAGE",f[f.FIREBASE=3]="FIREBASE",f[f.WEB_SQL=4]="WEB_SQL",f[f.OBSERVABLE_STORE=5]="OBSERVABLE_STORE"})(s=e.DataStoreType||(e.DataStoreType={}));var u;(function(f){f[f.DESC=0]="DESC",f[f.ASC=1]="ASC"})(u=e.Order||(e.Order={}));var h;(function(f){f[f.ARRAY_BUFFER=0]="ARRAY_BUFFER",f[f.BOOLEAN=1]="BOOLEAN",f[f.DATE_TIME=2]="DATE_TIME",f[f.INTEGER=3]="INTEGER",f[f.NUMBER=4]="NUMBER",f[f.STRING=5]="STRING",f[f.OBJECT=6]="OBJECT"})(h=e.Type||(e.Type={}));var p=new Map([[h.ARRAY_BUFFER,null],[h.BOOLEAN,!1],[h.DATE_TIME,Object.freeze(new Date(0))],[h.INTEGER,0],[h.NUMBER,0],[h.STRING,""],[h.OBJECT,null]]),v;(function(f){f[f.READ_ONLY=0]="READ_ONLY",f[f.READ_WRITE=1]="READ_WRITE"})(v=e.TransactionType||(e.TransactionType={}));var y;(function(f){f[f.SYSTEM_ERROR=0]="SYSTEM_ERROR",f[f.VERSION_MISMATCH=1]="VERSION_MISMATCH",f[f.CONNECTION_CLOSED=2]="CONNECTION_CLOSED",f[f.TIMEOUT=3]="TIMEOUT",f[f.OPERATION_BLOCKED=4]="OPERATION_BLOCKED",f[f.QUOTA_EXCEEDED=5]="QUOTA_EXCEEDED",f[f.TOO_MANY_ROWS=6]="TOO_MANY_ROWS",f[f.SERVICE_NOT_FOUND=7]="SERVICE_NOT_FOUND",f[f.UNKNOWN_PLAN_NODE=8]="UNKNOWN_PLAN_NODE",f[f.DATA_ERROR=100]="DATA_ERROR",f[f.TABLE_NOT_FOUND=101]="TABLE_NOT_FOUND",f[f.DATA_CORRUPTION=102]="DATA_CORRUPTION",f[f.INVALID_ROW_ID=103]="INVALID_ROW_ID",f[f.INVALID_TX_ACCESS=105]="INVALID_TX_ACCESS",f[f.OUT_OF_SCOPE=106]="OUT_OF_SCOPE",f[f.INVALID_TX_STATE=107]="INVALID_TX_STATE",f[f.INCOMPATIBLE_DB=108]="INCOMPATIBLE_DB",f[f.ROW_ID_EXISTED=109]="ROW_ID_EXISTED",f[f.IMPORT_TO_NON_EMPTY_DB=110]="IMPORT_TO_NON_EMPTY_DB",f[f.DB_MISMATCH=111]="DB_MISMATCH",f[f.IMPORT_DATA_NOT_FOUND=112]="IMPORT_DATA_NOT_FOUND",f[f.ALREADY_CONNECTED=113]="ALREADY_CONNECTED",f[f.CONSTRAINT_ERROR=200]="CONSTRAINT_ERROR",f[f.DUPLICATE_KEYS=201]="DUPLICATE_KEYS",f[f.NOT_NULLABLE=202]="NOT_NULLABLE",f[f.FK_VIOLATION=203]="FK_VIOLATION",f[f.NOT_SUPPORTED=300]="NOT_SUPPORTED",f[f.FB_NO_RAW_TX=351]="FB_NO_RAW_TX",f[f.IDB_NOT_PROVIDED=352]="IDB_NOT_PROVIDED",f[f.WEBSQL_NOT_PROVIDED=353]="WEBSQL_NOT_PROVIDED",f[f.CANT_OPEN_WEBSQL_DB=354]="CANT_OPEN_WEBSQL_DB",f[f.NO_CHANGE_NOTIFICATION=355]="NO_CHANGE_NOTIFICATION",f[f.NO_WEBSQL_TX=356]="NO_WEBSQL_TX",f[f.NO_PRED_IN_TOSQL=357]="NO_PRED_IN_TOSQL",f[f.NOT_IMPL_IN_TOSQL=358]="NOT_IMPL_IN_TOSQL",f[f.LOCAL_STORAGE_NOT_PROVIDED=359]="LOCAL_STORAGE_NOT_PROVIDED",f[f.NOT_IMPLEMENTED=360]="NOT_IMPLEMENTED",f[f.CANT_OPEN_IDB=361]="CANT_OPEN_IDB",f[f.SYNTAX_ERROR=500]="SYNTAX_ERROR",f[f.UNBOUND_VALUE=501]="UNBOUND_VALUE",f[f.INVALID_NAME=502]="INVALID_NAME",f[f.NAME_IN_USE=503]="NAME_IN_USE",f[f.INVALID_AUTO_KEY_TYPE=504]="INVALID_AUTO_KEY_TYPE",f[f.INVALID_AUTO_KEY_COLUMN=505]="INVALID_AUTO_KEY_COLUMN",f[f.IMMEDIATE_EVAL_ONLY=506]="IMMEDIATE_EVAL_ONLY",f[f.COLUMN_NOT_FOUND=508]="COLUMN_NOT_FOUND",f[f.COLUMN_NOT_INDEXABLE=509]="COLUMN_NOT_INDEXABLE",f[f.BIND_ARRAY_OUT_OF_RANGE=510]="BIND_ARRAY_OUT_OF_RANGE",f[f.CANT_GET_IDB_TABLE=511]="CANT_GET_IDB_TABLE",f[f.CANT_GET_WEBSQL_TABLE=512]="CANT_GET_WEBSQL_TABLE",f[f.UNKNOWN_QUERY_CONTEXT=513]="UNKNOWN_QUERY_CONTEXT",f[f.UNKNOWN_NODE_TYPE=514]="UNKNOWN_NODE_TYPE",f[f.DUPLICATE_FROM=515]="DUPLICATE_FROM",f[f.DUPLICATE_WHERE=516]="DUPLICATE_WHERE",f[f.INVALID_DELETE=517]="INVALID_DELETE",f[f.INVALID_INSERT=518]="INVALID_INSERT",f[f.INVALID_INSERT_OR_REPLACE=519]="INVALID_INSERT_OR_REPLACE",f[f.DUPLICATE_INTO=520]="DUPLICATE_INTO",f[f.DUPLICATE_VALUES=521]="DUPLICATE_VALUES",f[f.INVALID_SELECT=522]="INVALID_SELECT",f[f.UNBOUND_LIMIT_SKIP=523]="UNBOUND_LIMIT_SKIP",f[f.INVALID_DISTINCT=524]="INVALID_DISTINCT",f[f.INVALID_GROUPBY=525]="INVALID_GROUPBY",f[f.INVALID_PROJECTION=526]="INVALID_PROJECTION",f[f.INVALID_AGGREGATION=527]="INVALID_AGGREGATION",f[f.DUPLICATE_LIMIT=528]="DUPLICATE_LIMIT",f[f.DUPLICATE_SKIP=529]="DUPLICATE_SKIP",f[f.DUPLICATE_GROUPBY=530]="DUPLICATE_GROUPBY",f[f.NEGATIVE_LIMIT_SKIP=531]="NEGATIVE_LIMIT_SKIP",f[f.INVALID_UPDATE=532]="INVALID_UPDATE",f[f.FK_LOOP=533]="FK_LOOP",f[f.FK_COLUMN_IN_USE=534]="FK_COLUMN_IN_USE",f[f.SCHEMA_FINALIZED=535]="SCHEMA_FINALIZED",f[f.INVALID_FK_TABLE=536]="INVALID_FK_TABLE",f[f.INVALID_FK_COLUMN=537]="INVALID_FK_COLUMN",f[f.INVALID_FK_COLUMN_TYPE=538]="INVALID_FK_COLUMN_TYPE",f[f.FK_COLUMN_NONUNIQUE=539]="FK_COLUMN_NONUNIQUE",f[f.INVALID_FK_REF=540]="INVALID_FK_REF",f[f.INVALID_OUTER_JOIN=541]="INVALID_OUTER_JOIN",f[f.MISSING_FROM_BEFORE_JOIN=542]="MISSING_FROM_BEFORE_JOIN",f[f.PK_CANT_BE_FK=543]="PK_CANT_BE_FK",f[f.DUPLICATE_PK=544]="DUPLICATE_PK",f[f.NULLABLE_PK=545]="NULLABLE_PK",f[f.DUPLICATE_NAME=546]="DUPLICATE_NAME",f[f.INVALID_WHERE=547]="INVALID_WHERE",f[f.FROM_AFTER_WHERE=548]="FROM_AFTER_WHERE",f[f.FROM_AFTER_ORDER_GROUPBY=549]="FROM_AFTER_ORDER_GROUPBY",f[f.INVALID_PREDICATE=550]="INVALID_PREDICATE",f[f.TEST_ERROR=900]="TEST_ERROR",f[f.ASSERTION=998]="ASSERTION",f[f.SIMULATED_ERROR=999]="SIMULATED_ERROR"})(y=e.ErrorCode||(e.ErrorCode={}));var b;(function(f){f[f.RHS=-1]="RHS",f[f.TIE=0]="TIE",f[f.LHS=1]="LHS"})(b||(b={}));var I;(function(f){f[f.DATA=0]="DATA",f[f.INDEX=1]="INDEX"})(I||(I={}));var O;(function(f){f[f.NO_CHILD=-1]="NO_CHILD",f[f.ALL=0]="ALL",f[f.FIRST_CHILD=1]="FIRST_CHILD"})(O||(O={}));var k;(function(f){f[f.EXCLUSIVE=0]="EXCLUSIVE",f[f.RESERVED_READ_ONLY=1]="RESERVED_READ_ONLY",f[f.RESERVED_READ_WRITE=2]="RESERVED_READ_WRITE",f[f.SHARED=3]="SHARED"})(k||(k={}));var E;(function(f){f[f.EXPORT_TASK=0]="EXPORT_TASK",f[f.IMPORT_TASK=0]="IMPORT_TASK",f[f.OBSERVER_QUERY_TASK=0]="OBSERVER_QUERY_TASK",f[f.EXTERNAL_CHANGE_TASK=1]="EXTERNAL_CHANGE_TASK",f[f.USER_QUERY_TASK=2]="USER_QUERY_TASK",f[f.TRANSACTION_TASK=2]="TRANSACTION_TASK"})(E||(E={}));var S;(function(f){f.AVG="AVG",f.COUNT="COUNT",f.DISTINCT="DISTINCT",f.GEOMEAN="GEOMEAN",f.MAX="MAX",f.MIN="MIN",f.STDDEV="STDDEV",f.SUM="SUM"})(S||(S={}));var N;(function(f){f.AND="and",f.OR="or"})(N||(N={}));var _=function(){function f(){}return f}(),T=function(){function f(a,l,d,g){this.from=a,this.to=l,this.excludeLower=f.isUnbound(this.from)?!1:d,this.excludeUpper=f.isUnbound(this.to)?!1:g}return f.isUnbound=function(a){return a===f.UNBOUND_VALUE},f.upperBound=function(a,l){return l===void 0&&(l=!1),new f(f.UNBOUND_VALUE,a,!1,l)},f.lowerBound=function(a,l){return l===void 0&&(l=!1),new f(a,f.UNBOUND_VALUE,l,!1)},f.only=function(a){return new f(a,a,!1,!1)},f.all=function(){return new f(f.UNBOUND_VALUE,f.UNBOUND_VALUE,!1,!1)},f.xor=function(a,l){return a?!l:l},f.compare=function(a,l){var d=f.compareKey(a.from,l.from,!0,a.excludeLower,l.excludeLower);return d===b.TIE&&(d=f.compareKey(a.to,l.to,!1,a.excludeUpper,l.excludeUpper)),d},f.getBoundingRange=function(a,l){var d=f.UNBOUND_VALUE,g=f.UNBOUND_VALUE,C=!1,D=!1;if(!f.isUnbound(a.from)&&!f.isUnbound(l.from)){var W=f.compareKey(a.from,l.from,!0);W!==b.LHS?(d=a.from,C=W!==b.TIE?a.excludeLower:a.excludeLower&&l.excludeLower):(d=l.from,C=l.excludeLower)}if(!f.isUnbound(a.to)&&!f.isUnbound(l.to)){var W=f.compareKey(a.to,l.to,!1);W!==b.RHS?(g=a.to,D=W!==b.TIE?a.excludeUpper:a.excludeUpper&&l.excludeUpper):(g=l.to,D=l.excludeUpper)}return new f(d,g,C,D)},f.and=function(a,l){if(!a.overlaps(l))return null;var d=f.compareKey(a.from,l.from,!0),g=d===b.TIE?a.excludeLower?a:l:d!==b.RHS?a:l,C;return f.isUnbound(a.to)||f.isUnbound(l.to)?C=f.isUnbound(a.to)?l:a:(d=f.compareKey(a.to,l.to,!1),C=d===b.TIE?a.excludeUpper?a:l:d===b.RHS?a:l),new f(g.from,C.to,g.excludeLower,C.excludeUpper)},f.complement=function(a){if(a.length===0)return f.EMPTY_RANGE;a.sort(f.compare);for(var l=new Array(a.length+1),d=0;d<l.length;d++)d===0?l[d]=f.upperBound(a[d].from,!0):d===l.length-1?l[d]=f.lowerBound(a[d-1].to,!0):l[d]=new f(a[d-1].to,a[d].from,!0,!0);return l},f.compareKey=function(a,l,d,g,C){g===void 0&&(g=!1),C===void 0&&(C=!1);var D=function(ee){return d?ee:ee===b.LHS?b.RHS:b.LHS},W=function(){return f.xor(g,C)?D(g?b.LHS:b.RHS):b.TIE};return f.isUnbound(a)?f.isUnbound(l)?W():D(b.RHS):f.isUnbound(l)?D(b.LHS):a<l?b.RHS:a===l?W():b.LHS},f.prototype.toString=function(){return(this.excludeLower?"(":"[")+(f.isUnbound(this.from)?"unbound":this.from)+", "+(f.isUnbound(this.to)?"unbound":this.to)+(this.excludeUpper?")":"]")},f.prototype.complement=function(){if(this.isAll())return f.EMPTY_RANGE;var a=null,l=null;return f.isUnbound(this.from)||(a=new f(f.UNBOUND_VALUE,this.from,!1,!this.excludeLower)),f.isUnbound(this.to)||(l=new f(this.to,f.UNBOUND_VALUE,!this.excludeUpper,!1)),[a,l].filter(function(d){return d!==null})},f.prototype.reverse=function(){return new f(this.to,this.from,this.excludeUpper,this.excludeLower)},f.prototype.overlaps=function(a){var l=f.compareKey(this.from,a.from,!0,this.excludeLower,a.excludeLower);if(l===b.TIE)return!0;var d=l===b.RHS?this:a,g=l===b.LHS?this:a;return f.isUnbound(d.to)||d.to>g.from||d.to===g.from&&!d.excludeUpper&&!g.excludeLower},f.prototype.isAll=function(){return f.isUnbound(this.from)&&f.isUnbound(this.to)},f.prototype.isOnly=function(){return this.from===this.to&&!f.isUnbound(this.from)&&!this.excludeLower&&!this.excludeUpper},f.prototype.contains=function(a){var l=f.isUnbound(this.from)||a>this.from||a===this.from&&!this.excludeLower,d=f.isUnbound(this.to)||a<this.to||a===this.to&&!this.excludeUpper;return l&&d},f.prototype.getBounded=function(a,l){if(f.isUnbound(this.from)&&!this.contains(a)||f.isUnbound(this.to)&&!this.contains(l))return null;var d=a,g=l,C=!1,D=!1;return!f.isUnbound(this.from)&&this.from>=a&&(d=this.from,C=this.excludeLower),!f.isUnbound(this.to)&&this.to<=l&&(g=this.to,D=this.excludeUpper),d>g||d===g&&(D||C)?null:new f(d,g,C,D)},f.prototype.equals=function(a){return this.from===a.from&&this.excludeLower===a.excludeLower&&this.to===a.to&&this.excludeUpper===a.excludeUpper},f.UNBOUND_VALUE=new _,f.EMPTY_RANGE=[],f}(),M=function(){function f(a,l){this.id_=a,this.payload_=l||this.defaultPayload()}return f.getNextId=function(){return f.nextId++},f.setNextId=function(a){f.nextId=a},f.setNextIdIfGreater=function(a){f.nextId=Math.max(f.nextId,a)},f.deserialize=function(a){return new f(a.id,a.value)},f.create=function(a){return new f(f.getNextId(),a||{})},f.binToHex=function(a){if(a===null)return null;var l=new Uint8Array(a),d="";return l.forEach(function(g){var C=g.toString(16);d+=C.length<2?"0"+C:C}),d},f.hexToBin=function(a){if(a===null||a==="")return null;a.length%2!==0&&(a="0"+a);for(var l=new ArrayBuffer(a.length/2),d=new Uint8Array(l),g=0,C=0;g<a.length;g+=2)d[C++]=Number("0x"+a.substr(g,2))&255;return l},f.prototype.id=function(){return this.id_},f.prototype.assignRowId=function(a){this.id_=a},f.prototype.payload=function(){return this.payload_},f.prototype.defaultPayload=function(){return{}},f.prototype.toDbPayload=function(){return this.payload_},f.prototype.serialize=function(){return{id:this.id_,value:this.toDbPayload()}},f.prototype.keyOfIndex=function(a){return a.substr(-1)==="#"?this.id_:null},f.DUMMY_ID=-1,f.nextId=f.DUMMY_ID+1,f}(),R=function(){function f(){this.debugMode=!1,this.memoryOnly=!1,this.exceptionUrl=f.url}return f.prototype.errorMessage=function(a){return a.toString()},f.url="http://google.github.io/lovefield/error_lookup/src/error_lookup.html?c=",f}(),B=function(){function f(){}return f.set=function(a){var l=a||new R;typeof l.exceptionUrl!="string"&&(l.exceptionUrl=R.url),typeof l.errorMessage!="function"&&(l.errorMessage=function(d){return d.toString()}),F.get().setOptions(l)},f}();e.options=B;var U=function(){function f(a){this.serviceId=a}return f.prototype.toString=function(){return this.serviceId},f.prototype.getAsType=function(){return{}},f}(),F=function(){function f(){this.services=new Map}return f.get=function(){return f.instance||(f.instance=new f),f.instance.opt||f.instance.setOptions(new R),f.instance},f.prototype.clear=function(){this.services.clear()},f.prototype.registerService=function(a,l){return this.services.set(a.toString(),l),l},f.prototype.getService=function(a){var l=this.services.get(a.toString());if(!l)throw new z(y.SERVICE_NOT_FOUND,a.toString());return l},f.prototype.isRegistered=function(a){return this.services.has(a.toString())},f.prototype.listServices=function(){return Array.from(this.services.keys())},f.prototype.getOptions=function(){return this.opt},f.prototype.setOptions=function(a){this.opt=a},f}(),z=function(){function f(a){for(var l=[],d=1;d<arguments.length;d++)l[d-1]=arguments[d];if(this.code=a,this.args=l,this.message=F.get().getOptions().exceptionUrl+a.toString(),l.length)for(var g=0;g<Math.min(4,l.length);++g){var C=encodeURIComponent(String(l[g]).slice(0,64));F.get().getOptions().exceptionUrl.length?this.message+="&p"+g+"="+C:this.message+="|"+C}}return f.prototype.toString=function(){var a=this,l=F.get().getOptions().errorMessage(this.code)||this.code.toString();return l.replace(/{([^}]+)}/g,function(d,g){return a.args[Number(g)]})},f}();function $(f,a){if(a===void 0&&(a="assertion failed"),F.get().getOptions().debugMode&&!f)throw new z(y.ASSERTION,a)}function G(f){return new te(f)}e.bind=G;var te=function(){function f(a){this.index=a}return f.prototype.getIndex=function(){return this.index},f}();e.Binder=te;function q(f,a){if(a.size>f.size)return!1;var l=!0;return a.forEach(function(d){return l=l&&f.has(d)}),l}function re(f,a){return f.size===a.size&&q(f,a)}var ne=function(){function f(a,l,d){this.childTable=l;var g=a.ref.split(".");if(g.length!==2)throw new z(y.INVALID_FK_REF,d);this.childColumn=a.local,this.parentTable=g[0],this.parentColumn=g[1],this.name=l+"."+d,this.action=a.action||i.RESTRICT,this.timing=a.timing||o.IMMEDIATE}return f}(),Q=function(){function f(a,l,d,g){this.tableName=a,this.name=l,this.isUnique=d,this.columns=g}return f.prototype.getNormalizedName=function(){return this.tableName+"."+this.name},f.prototype.hasNullableColumn=function(){return this.columns.some(function(a){return a.schema.isNullable()})},f}(),X=function(){function f(a,l,d){this.primaryKey=a,this.notNullable=l,this.foreignKeys=d}return f.prototype.getPrimaryKey=function(){return this.primaryKey},f.prototype.getNotNullable=function(){return this.notNullable},f.prototype.getForeignKeys=function(){return this.foreignKeys},f}(),J=function(){function f(a,l){this.row=a,this.isPrefixApplied=l,this.id=f.getNextId()}return f.combineEntries=function(a,l,d,g){var C={},D=function(ee,ue){if(ee.isPrefixApplied){var me=ee.row.payload();Array.from(Object.keys(me)).forEach(function(Te){C[Te]=me[Te]})}else $(!Object.prototype.hasOwnProperty.call(C,ue[0]),"Attempted to join table with itself, without using table alias, or same alias "+ue[0]+"is reused for multiple tables."),C[ue[0]]=ee.row.payload()};D(a,l),D(d,g);var W=new M(M.DUMMY_ID,C);return new f(W,!0)},f.getNextId=function(){return f.nextId++},f.prototype.getField=function(a){var l=a,d=l.getAlias();return d!==null&&Object.prototype.hasOwnProperty.call(this.row.payload(),d)?this.row.payload()[d]:this.isPrefixApplied?this.row.payload()[l.getTable().getEffectiveName()][l.getName()]:this.row.payload()[l.getName()]},f.prototype.setField=function(a,l){var d=a,g=d.getAlias();if(g!==null){this.row.payload()[g]=l;return}if(this.isPrefixApplied){var C=d.getTable().getEffectiveName(),D=this.row.payload()[C];D==null&&(D={},this.row.payload()[C]=D),D[d.getName()]=l}else this.row.payload()[d.getName()]=l},f.nextId=0,f}(),ie=function(){function f(a,l){this.entries=a,this.tables=new Set(l),this.aggregationResults=null}return f.createEmpty=function(){return f.emptyRelation===null&&(f.emptyRelation=new f([],[])),f.emptyRelation},f.intersect=function(a){if(a.length===0)return f.createEmpty();var l=a.reduce(function(W,ee){return f.assertCompatible(a[0],ee),W+ee.entries.length},0),d=new Array(l),g=0,C=a.map(function(W){var ee=new Map;return W.entries.forEach(function(ue){d[g++]=ue,ee.set(ue.id,ue)}),ee}),D=new Map;return d.forEach(function(W){var ee=C.every(function(ue){return ue.has(W.id)});ee&&D.set(W.id,W)}),new f(Array.from(D.values()),Array.from(a[0].tables.values()))},f.union=function(a){if(a.length===0)return f.createEmpty();var l=new Map;return a.forEach(function(d){f.assertCompatible(a[0],d),d.entries.forEach(function(g){return l.set(g.id,g)})}),new f(Array.from(l.values()),Array.from(a[0].tables.values()))},f.fromRows=function(a,l){var d=l.length>1,g=a.map(function(C){return new J(C,d)});return new f(g,l)},f.assertCompatible=function(a,l){$(a.isCompatible(l),"Intersection/union operations only apply to compatible relations.")},f.prototype.isCompatible=function(a){return re(this.tables,a.tables)},f.prototype.getTables=function(){return Array.from(this.tables.values())},f.prototype.isPrefixApplied=function(){return this.tables.size>1},f.prototype.getPayloads=function(){return this.entries.map(function(a){return a.row.payload()})},f.prototype.getRowIds=function(){return this.entries.map(function(a){return a.row.id()})},f.prototype.setAggregationResult=function(a,l){this.aggregationResults===null&&(this.aggregationResults=new Map),this.aggregationResults.set(a.getNormalizedName(),l)},f.prototype.getAggregationResult=function(a){$(this.aggregationResults!==null,"getAggregationResult called before any results have been calculated.");var l=a.getNormalizedName(),d=this.aggregationResults.get(l);return $(d!==void 0,"Could not find result for "+l),d},f.prototype.hasAggregationResult=function(a){return this.aggregationResults!==null&&this.aggregationResults.has(a.getNormalizedName())},f.emptyRelation=null,f}(),oe=function(){function f(){this.totalRows=0,this.maxKeyEncountered=0}return f.prototype.add=function(a,l){this.totalRows+=l,this.maxKeyEncountered=this.maxKeyEncountered===null||a>this.maxKeyEncountered?a:this.maxKeyEncountered},f.prototype.remove=function(a,l){this.totalRows-=l},f.prototype.clear=function(){this.totalRows=0},f.prototype.updateFromList=function(a){var l=this;this.clear(),a.forEach(function(d){return l.totalRows+=d.totalRows})},f}(),ce=function(){function f(){}return f.prototype.getUniqueId=function(){return this.uniqueId===void 0&&(this.uniqueId="lf_"+this.getUniqueNumber()),this.uniqueId},f.prototype.getUniqueNumber=function(){return this.uniqueNumber===void 0&&(this.uniqueNumber=++f.nextId),this.uniqueNumber},f.nextId=0,f}(),ye=function(){function f(){this.parent=null,this.children=null}return f.prototype.getParent=function(){return this.parent},f.prototype.setParent=function(a){this.parent=a},f.prototype.getRoot=function(){for(var a=this;a.parent!==null;)a=a.parent;return a},f.prototype.getDepth=function(){for(var a=0,l=this;l.parent!==null;)a++,l=l.parent;return a},f.prototype.isLeaf=function(){return this.children===null},f.prototype.getChildren=function(){return this.children||f.EMPTY_ARRAY},f.prototype.getChildAt=function(a){return this.children&&a>=0&&a<this.children.length?this.getChildren()[a]:null},f.prototype.getChildCount=function(){return this.getChildren().length},f.prototype.addChildAt=function(a,l){$(a.parent===null),a.parent=this,this.children===null?this.children=[a]:($(l>=0&&l<=this.children.length),this.children.splice(l,0,a))},f.prototype.addChild=function(a){$(a.parent===null),a.parent=this,this.children===null?this.children=[a]:this.children.push(a)},f.prototype.removeChildAt=function(a){if(this.children){var l=this.children[a];if(l)return l.parent=null,this.children.splice(a,1),this.children.length===0&&(this.children=null),l}return null},f.prototype.removeChild=function(a){return this.children?this.removeChildAt(this.children.indexOf(a)):null},f.prototype.replaceChildAt=function(a,l){if($(a.parent===null),this.children){var d=this.getChildAt(l);if(d)return d.parent=null,a.parent=this,this.children[l]=a,d}return null},f.prototype.traverse=function(a){a(this)!==!1&&this.getChildren().forEach(function(l){return l.traverse(a)})},f.EMPTY_ARRAY=[],f}(),ge=function(f){t(a,f);function a(){var l=f.call(this)||this;return l.id=a.nextId++,l}return a.prototype.setId=function(l){this.id=l},a.prototype.getId=function(){return this.id},a.nextId=0,a}(ye),fe;(function(f){f.BETWEEN="between",f.EQ="eq",f.GTE="gte",f.GT="gt",f.IN="in",f.LTE="lte",f.LT="lt",f.MATCH="match",f.NEQ="neq"})(fe||(fe={}));function ze(f){return f}function Ke(){var f=new Map;return f.set(h.BOOLEAN,function(a){return a===null?null:a?1:0}),f.set(h.DATE_TIME,function(a){return a===null?null:a.getTime()}),f.set(h.INTEGER,ze),f.set(h.NUMBER,ze),f.set(h.STRING,ze),f}function Ae(){var f=new Map;return f.set(fe.EQ,function(a,l){return a===l}),f.set(fe.NEQ,function(a,l){return a!==l}),f}function _e(){var f=Ae();return f.set(fe.BETWEEN,function(a,l){return a===null||l[0]===null||l[1]===null?!1:a>=l[0]&&a<=l[1]}),f.set(fe.GTE,function(a,l){return a===null||l===null?!1:a>=l}),f.set(fe.GT,function(a,l){return a===null||l===null?!1:a>l}),f.set(fe.IN,function(a,l){return l.indexOf(a)!==-1}),f.set(fe.LTE,function(a,l){return a===null||l===null?!1:a<=l}),f.set(fe.LT,function(a,l){return a===null||l===null?!1:a<l}),f}var be=_e;function Le(){var f=_e();return f.set(fe.MATCH,function(a,l){if(a===null||l===null)return!1;var d=new RegExp(l);return d.test(a)}),f}function Re(){var f=new Map,a=function(l){if(l!==null)throw new z(y.INVALID_PREDICATE)};return f.set(fe.EQ,function(l,d){return a(d),l===null}),f.set(fe.NEQ,function(l,d){return a(d),l!==null}),f}function rt(){var f=new Map;return f.set(fe.BETWEEN,function(a,l){return a===null||l[0]===null||l[1]===null?!1:a.getTime()>=l[0].getTime()&&a.getTime()<=l[1].getTime()}),f.set(fe.EQ,function(a,l){var d=a===null?-1:a.getTime(),g=l===null?-1:l.getTime();return d===g}),f.set(fe.GTE,function(a,l){return a===null||l===null?!1:a.getTime()>=l.getTime()}),f.set(fe.GT,function(a,l){return a===null||l===null?!1:a.getTime()>l.getTime()}),f.set(fe.IN,function(a,l){return l.some(function(d){return d.getTime()===a.getTime()})}),f.set(fe.LTE,function(a,l){return a===null||l===null?!1:a.getTime()<=l.getTime()}),f.set(fe.LT,function(a,l){return a===null||l===null?!1:a.getTime()<l.getTime()}),f.set(fe.NEQ,function(a,l){var d=a===null?-1:a.getTime(),g=l===null?-1:l.getTime();return d!==g}),f}var at=function(){function f(){this.keyOfIndexConversionMap=Ke(),this.evalMaps=new Map;var a=be();this.evalMaps.set(h.BOOLEAN,Ae()),this.evalMaps.set(h.DATE_TIME,rt()),this.evalMaps.set(h.NUMBER,a),this.evalMaps.set(h.INTEGER,a),this.evalMaps.set(h.STRING,Le()),this.evalMaps.set(h.OBJECT,Re())}return f.get=function(){return f.instance=f.instance||new f,f.instance},f.prototype.getEvaluator=function(a,l){var d=this.evalMaps.get(a)||null;if(d===null)throw new z(y.INVALID_PREDICATE);var g=d.get(l)||null;if(g===null)throw new z(y.INVALID_PREDICATE);return g},f.prototype.getKeyOfIndexEvaluator=function(a){var l=this.keyOfIndexConversionMap.get(a)||null;if(l===null)throw new z(y.NOT_SUPPORTED);return l},f}(),yt=function(){function f(a){this.ranges=[],a&&this.add(a)}return f.intersect=function(a,l){var d=a.getValues().map(function(C){return l.getValues().map(function(D){return T.and(C,D)})}),g=[];return d.forEach(function(C){return g=g.concat(C)}),new f(g.filter(function(C){return C!==null}))},f.prototype.toString=function(){return this.ranges.map(function(a){return a.toString()}).join(",")},f.prototype.containsKey=function(a){return this.ranges.some(function(l){return l.contains(a)})},f.prototype.getValues=function(){return this.ranges},f.prototype.add=function(a){if(a.length!==0){var l=this.ranges.concat(a);if(l.length===1){this.ranges=l;return}l.sort(T.compare);for(var d=[],g=l[0],C=1;C<l.length;++C)g.overlaps(l[C])?g=T.getBoundingRange(g,l[C]):(d.push(g),g=l[C]);d.push(g),this.ranges=d}},f.prototype.equals=function(a){return this.ranges.length===a.ranges.length?this.ranges.length===0||this.ranges.every(function(l,d){return l.equals(a.ranges[d])}):!1},f.prototype.getBoundingRange=function(){if(this.ranges.length<=1)return this.ranges.length===0?null:this.ranges[0];var a=this.ranges.length-1;return T.getBoundingRange(this.ranges[0],this.ranges[a])},f}(),He=function(f){t(a,f);function a(l,d,g){var C=f.call(this)||this;return C.column=l,C.value=d,C.evaluatorType=g,C.evaluatorFn=at.get().getEvaluator(C.column.getType(),C.evaluatorType),C.isComplement=!1,C.binder=d,C}return a.prototype.eval=function(l){var d=this;if(this.checkBinding(),this.evaluatorType===fe.IN)return this.evalAsIn(l);var g=l.entries.filter(function(C){return d.evaluatorFn(C.getField(d.column),d.value)!==d.isComplement});return new ie(g,l.getTables())},a.prototype.setComplement=function(l){this.isComplement=l},a.prototype.copy=function(){var l=new a(this.column,this.value,this.evaluatorType);return l.binder=this.binder,l.isComplement=this.isComplement,l.setId(this.getId()),l},a.prototype.getColumns=function(l){return l?(l.push(this.column),l):[this.column]},a.prototype.getTables=function(l){var d=l||new Set;return d.add(this.column.getTable()),d},a.prototype.setBinder=function(l){this.binder=l},a.prototype.bind=function(l){var d=function(D){if(l.length<=D)throw new z(y.BIND_ARRAY_OUT_OF_RANGE)};if(this.binder instanceof te){var g=this.binder.index;d(g),this.value=l[g]}else if(Array.isArray(this.binder)){var C=this.binder;this.value=C.map(function(D){return D instanceof te?(d(D.index),l[D.index]):D})}},a.prototype.toString=function(){return"value_pred("+this.column.getNormalizedName()+" "+this.evaluatorType+(this.isComplement?"(complement)":"")+" "+this.value+")"},a.prototype.peek=function(){return this.value},a.prototype.isKeyRangeCompatible=function(){return this.checkBinding(),this.value!==null&&(this.evaluatorType===fe.BETWEEN||this.evaluatorType===fe.IN||this.evaluatorType===fe.EQ||this.evaluatorType===fe.GT||this.evaluatorType===fe.GTE||this.evaluatorType===fe.LT||this.evaluatorType===fe.LTE)},a.prototype.toKeyRange=function(){$(this.isKeyRangeCompatible(),"Could not convert predicate to key range.");var l=null;if(this.evaluatorType===fe.BETWEEN){var d=this.value;l=new T(this.getValueAsKey(d[0]),this.getValueAsKey(d[1]),!1,!1)}else if(this.evaluatorType===fe.IN){var d=this.value,g=d.map(function(W){return T.only(W)});return new yt(this.isComplement?T.complement(g):g)}else{var C=this.getValueAsKey(this.value);this.evaluatorType===fe.EQ?l=T.only(C):this.evaluatorType===fe.GTE?l=T.lowerBound(C):this.evaluatorType===fe.GT?l=T.lowerBound(C,!0):this.evaluatorType===fe.LTE?l=T.upperBound(C):l=T.upperBound(C,!0)}return new yt(this.isComplement?l.complement():[l])},a.prototype.checkBinding=function(){var l=!1;if(!(this.value instanceof te))if(Array.isArray(this.value)){var d=this.value;l=!d.some(function(g){return g instanceof te})}else l=!0;if(!l)throw new z(y.UNBOUND_VALUE)},a.prototype.evalAsIn=function(l){var d=this;$(this.evaluatorType===fe.IN,"ValuePredicate#evalAsIn_() called for wrong predicate type.");var g=new Set(this.value),C=function(W){return W===null?!1:g.has(W)!==d.isComplement},D=l.entries.filter(function(W){return C(W.getField(d.column))});return new ie(D,l.getTables())},a.prototype.getValueAsKey=function(l){return this.column.getType()===h.DATE_TIME?l.getTime():l},a}(ge),le=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.schema=l,d.clonedFrom=null,d.where=null,d.predicateMap=null,d}return a.buildPredicateMap=function(l){var d=new Map;return l.traverse(function(g){var C=g;d.set(C.getId(),C)}),d},a.prototype.getPredicate=function(l){this.predicateMap===null&&this.where!==null&&(this.predicateMap=a.buildPredicateMap(this.where));var d=this.predicateMap.get(l);return $(d!==void 0),d},a.prototype.bind=function(l){return $(this.clonedFrom===null),this},a.prototype.bindValuesInSearchCondition=function(l){var d=this.where;d!==null&&d.traverse(function(g){g instanceof He&&g.bind(l)})},a.prototype.cloneBase=function(l){l.where&&(this.where=l.where.copy()),this.clonedFrom=l},a}(ce),ve=function(f){t(a,f);function a(l,d){var g=f.call(this)||this;return g.numRelations=l,g.execType=d,g}return a.prototype.exec=function(l,d){switch(this.execType){case O.FIRST_CHILD:return this.execFirstChild(l,d);case O.ALL:return this.execAllChildren(l,d);default:return this.execNoChild(l,d)}},a.prototype.toString=function(){return"dummy_node"},a.prototype.toContextString=function(l){return this.toString()},a.prototype.assertInput=function(l){$(this.numRelations===a.ANY||l.length===this.numRelations)},a.prototype.execNoChild=function(l,d){var g=this;return new Promise(function(C,D){C(g.execInternal([],l,d))})},a.prototype.execFirstChild=function(l,d){var g=this;return this.getChildAt(0).exec(l,d).then(function(C){return g.assertInput(C),g.execInternal(C,l,d)})},a.prototype.execAllChildren=function(l,d){var g=this,C=this.getChildren().map(function(D){return D.exec(l,d)});return Promise.all(C).then(function(D){var W=[];return D.forEach(function(ee){ee.forEach(function(ue){return W.push(ue)})}),g.assertInput(W),g.execInternal(W,l,d)})},a.ANY=-1,a}(ye),Pe=function(){function f(a,l){this.rootNode=a,this.scope=l}return f.getCombinedScope=function(a){var l=new Set;return a.forEach(function(d){d.getScope().forEach(l.add.bind(l))}),l},f.prototype.getRoot=function(){return this.rootNode},f.prototype.getScope=function(){return this.scope},f}(),Ie=function(){function f(){this.exclusiveLock=null,this.reservedReadWriteLock=null,this.reservedReadOnlyLocks=null,this.sharedLocks=null}return f.prototype.releaseLock=function(a){this.exclusiveLock===a&&(this.exclusiveLock=null),this.reservedReadWriteLock===a&&(this.reservedReadWriteLock=null),this.reservedReadOnlyLocks&&this.reservedReadOnlyLocks.delete(a),this.sharedLocks&&this.sharedLocks.delete(a)},f.prototype.canAcquireLock=function(a,l){var d=this.reservedReadOnlyLocks===null||this.reservedReadOnlyLocks.size===0;if(l===k.EXCLUSIVE){var g=this.sharedLocks===null||this.sharedLocks.size===0;return g&&d&&this.exclusiveLock===null&&this.reservedReadWriteLock!==null&&this.reservedReadWriteLock===a}else return l===k.SHARED?this.exclusiveLock===null&&this.reservedReadWriteLock===null&&this.reservedReadOnlyLocks!==null&&this.reservedReadOnlyLocks.has(a):l===k.RESERVED_READ_ONLY?this.reservedReadWriteLock===null:d&&(this.reservedReadWriteLock===null||this.reservedReadWriteLock===a)},f.prototype.grantLock=function(a,l){l===k.EXCLUSIVE?(this.reservedReadWriteLock=null,this.exclusiveLock=a):l===k.SHARED?(this.sharedLocks===null&&(this.sharedLocks=new Set),this.sharedLocks.add(a),this.reservedReadOnlyLocks===null&&(this.reservedReadOnlyLocks=new Set),this.reservedReadOnlyLocks.delete(a)):l===k.RESERVED_READ_ONLY?(this.reservedReadOnlyLocks===null&&(this.reservedReadOnlyLocks=new Set),this.reservedReadOnlyLocks.add(a)):l===k.RESERVED_READ_WRITE&&(this.reservedReadWriteLock=a)},f}(),Be=function(){function f(){this.lockTable=new Map}return f.prototype.requestLock=function(a,l,d){var g=this.canAcquireLock(a,l,d);return g&&this.grantLock(a,l,d),g},f.prototype.releaseLock=function(a,l){var d=this;l.forEach(function(g){return d.getEntry(g).releaseLock(a)})},f.prototype.clearReservedLocks=function(a){var l=this;a.forEach(function(d){return l.getEntry(d).reservedReadWriteLock=null})},f.prototype.getEntry=function(a){var l=this.lockTable.get(a.getName())||null;return l===null&&(l=new Ie,this.lockTable.set(a.getName(),l)),l},f.prototype.grantLock=function(a,l,d){var g=this;l.forEach(function(C){return g.getEntry(C).grantLock(a,d)})},f.prototype.canAcquireLock=function(a,l,d){var g=this,C=!0;return l.forEach(function(D){if(C){var W=g.getEntry(D);C=W.canAcquireLock(a,d)}},this),C},f}(),je=function(){function f(){var a=this;this.promise=new Promise(function(l,d){a.resolveFn=l,a.rejectFn=d})}return f.prototype.resolve=function(a){this.resolveFn(a)},f.prototype.reject=function(a){this.rejectFn(a)},f}(),ht=function(){function f(){}return f.binaryInsert=function(a,l,d){var g=f.binarySearch(a,l,d);return g<0?(a.splice(-(g+1),0,l),!0):!1},f.binaryRemove=function(a,l,d){var g=f.binarySearch(a,l,d);return g<0?!1:(a.splice(g,1),!0)},f.shuffle=function(a){for(var l=a.length-1;l>0;l--){var d=Math.floor(Math.random()*(l+1)),g=a[l];a[l]=a[d],a[d]=g}},f.clone=function(a){var l=a.length;if(l>0){var d=new Array(l);return a.forEach(function(g,C){return d[C]=g}),d}return[]},f.flatten=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var d=8192,g=[];return a.forEach(function(C){if(Array.isArray(C))for(var D=0;D<C.length;D+=d){var W=C.slice(D,D+d),ee=f.flatten.apply(null,W);ee.forEach(function(ue){return g.push(ue)})}else g.push(C)}),g},f.product=function(a){var l=a.some(function(D){return!D.length});if(l||a.length===0)return[];var d=new Array(a.length);d.fill(0);for(var g=[];d!==null;){g.push(d.map(function(D,W){return a[W][D]}));for(var C=d.length-1;C>=0;C--){if($(d!==null),d[C]<a[C].length-1){d[C]++;break}if(C===0){d=null;break}d[C]=0}}return g},f.bucket=function(a,l){var d={};return a.forEach(function(g){var C=l(g);d[C]===void 0&&(d[C]=[]),d[C].push(g)}),d},f.binarySearch=function(a,l,d){for(var g=0,C=a.length,D=d||f.defaultComparator;g<C;){var W=g+C>>1;D(a[W],l)<0?g=W+1:C=W}return g===C&&a[g]===l?g:~g},f.defaultComparator=function(a,l){return a-l},f}(),Qe=function(){function f(){this.queue=[]}return f.prototype.insert=function(a){ht.binaryInsert(this.queue,a,function(l,d){var g=l.getPriority()-d.getPriority();return g===0?l.getId()-d.getId():g})},f.prototype.getValues=function(){return this.queue.slice()},f.prototype.remove=function(a){var l=this.queue.indexOf(a);return l>=0&&this.queue.splice(l,1),l>=0},f}(),It=function(){function f(){this.queue=new Qe,this.lockManager=new Be}return f.prototype.scheduleTask=function(a){return(a.getPriority()<E.USER_QUERY_TASK||a.getPriority()<E.TRANSACTION_TASK)&&this.lockManager.clearReservedLocks(a.getScope()),this.queue.insert(a),this.consumePending(),a.getResolver().promise},f.prototype.consumePending=function(){var a=this,l=this.queue.getValues();l.forEach(function(d){var g=!1;d.getType()===v.READ_ONLY?g=a.requestTwoPhaseLock(d,k.RESERVED_READ_ONLY,k.SHARED):g=a.requestTwoPhaseLock(d,k.RESERVED_READ_WRITE,k.EXCLUSIVE),g&&(a.queue.remove(d),a.execTask(d))})},f.prototype.requestTwoPhaseLock=function(a,l,d){var g=!1,C=this.lockManager.requestLock(a.getId(),a.getScope(),l);return C&&(g=this.lockManager.requestLock(a.getId(),a.getScope(),d)),g},f.prototype.execTask=function(a){a.exec().then(this.onTaskSuccess.bind(this,a),this.onTaskError.bind(this,a))},f.prototype.onTaskSuccess=function(a,l){this.lockManager.releaseLock(a.getId(),a.getScope()),a.getResolver().resolve(l),this.consumePending()},f.prototype.onTaskError=function(a,l){this.lockManager.releaseLock(a.getId(),a.getScope()),a.getResolver().reject(l),this.consumePending()},f}(),cn=function(){function f(){}return f.prototype.eq=function(a){throw new z(y.SYNTAX_ERROR)},f.prototype.neq=function(a){throw new z(y.SYNTAX_ERROR)},f.prototype.lt=function(a){throw new z(y.SYNTAX_ERROR)},f.prototype.lte=function(a){throw new z(y.SYNTAX_ERROR)},f.prototype.gt=function(a){throw new z(y.SYNTAX_ERROR)},f.prototype.gte=function(a){throw new z(y.SYNTAX_ERROR)},f.prototype.match=function(a){throw new z(y.SYNTAX_ERROR)},f.prototype.between=function(a,l){throw new z(y.SYNTAX_ERROR)},f.prototype.in=function(a){throw new z(y.SYNTAX_ERROR)},f.prototype.isNull=function(){throw new z(y.SYNTAX_ERROR)},f.prototype.isNotNull=function(){throw new z(y.SYNTAX_ERROR)},f}(),ut=function(f){t(a,f);function a(l,d){var g=f.call(this)||this;return g.child=l,g.aggregatorType=d,g.alias=null,g}return a.prototype.getName=function(){return this.aggregatorType+"("+this.child.getName()+")"},a.prototype.getNormalizedName=function(){return this.aggregatorType+"("+this.child.getNormalizedName()+")"},a.prototype.getTable=function(){return this.child.getTable()},a.prototype.toString=function(){return this.getNormalizedName()},a.prototype.getType=function(){return this.child.getType()},a.prototype.getAlias=function(){return this.alias},a.prototype.getIndices=function(){return[]},a.prototype.getIndex=function(){return null},a.prototype.isNullable=function(){return!1},a.prototype.isUnique=function(){return!1},a.prototype.as=function(l){return this.alias=l,this},a.prototype.getColumnChain=function(){for(var l=[this],d=this;d instanceof a;)l.push(d.child),d=d.child;return l},a}(cn),tt=function(){function f(){}return f.map=function(a,l){var d=[],g=function(W,ee){if(W!==null){var ue=W.getChildCount()===ee.getChildCount();if(ue){var me=d.indexOf(ee);me!==-1&&d.splice(me,1)}}},C=null,D=null;return a.traverse(function(W){var ee=l(W);W.getParent()===null?D=ee:C.addChild(ee),g(W.getParent(),C),W.getChildCount()>1&&d.push(ee),C=W.isLeaf()?d[d.length-1]:ee}),D},f.getLeafNodes=function(a){return f.find(a,function(l){return l.isLeaf()})},f.removeNode=function(a){var l=a.getParent(),d=0;l!==null&&(d=l.getChildren().indexOf(a),l.removeChild(a));var g=a.getChildren().slice();return g.forEach(function(C,D){a.removeChild(C),l!==null&&l.addChildAt(C,d+D)}),{children:g,parent:l}},f.insertNodeAt=function(a,l){var d=a.getChildren().slice();d.forEach(function(g){a.removeChild(g),l.addChild(g)}),a.addChild(l)},f.swapNodeWithChild=function(a){$(a.getChildCount()===1);var l=a.getChildAt(0);return $(l.getChildCount()===1),f.removeNode(a),f.insertNodeAt(l,a),l},f.pushNodeBelowChild=function(a,l,d){$(a.getChildCount()===1);var g=a.getChildAt(0);$(g.getChildCount()>1);var C=g.getChildren().slice(),D=C.some(function(W){return l(W)});return D?(f.removeNode(a),C.forEach(function(W,ee){if(l(W)){var ue=d(a);g.removeChildAt(ee),ue.addChild(W),g.addChildAt(ue,ee)}}),g):a},f.replaceChainWithChain=function(a,l,d,g){var C=a.getParent();if(C!==null){var D=C.getChildren().indexOf(a);C.removeChildAt(D),C.addChildAt(d,D)}return l.getChildren().slice().forEach(function(W){l.removeChild(W),g.addChild(W)}),d},f.replaceNodeWithChain=function(a,l,d){return f.replaceChainWithChain(a,a,l,d)},f.replaceChainWithNode=function(a,l,d){return f.replaceChainWithChain(a,l,d,d)},f.find=function(a,l,d){var g=[],C=function(D){l(D)&&g.push(D),(d==null||!d(D))&&D.getChildren().forEach(C)};return C(a),g},f.toString=function(a,l){var d=function(D){return D.toString()+`
`},g=l||d,C="";return a.traverse(function(D){for(var W=0;W<D.getDepth();W++)C+="-";C+=g(D)}),C},f}(),vn=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.operator=l,d.isComplement=!1,d}return a.prototype.eval=function(l){var d=this.getChildren().map(function(g){return g.eval(l)});return this.combineResults(d)},a.prototype.setComplement=function(l){this.isComplement!==l&&(this.isComplement=l,this.operator=this.operator===N.AND?N.OR:N.AND,this.getChildren().forEach(function(d){return d.setComplement(l)}))},a.prototype.copy=function(){var l=tt.map(this,function(d){if(d instanceof a){var g=new a(d.operator);return g.isComplement=d.isComplement,g.setId(d.getId()),g}else return d.copy()});return l},a.prototype.getColumns=function(l){var d=this,g=l||[];this.traverse(function(D){D!==d&&D.getColumns(g)});var C=new Set(g);return Array.from(C.values())},a.prototype.getTables=function(l){var d=this,g=l||new Set;return this.traverse(function(C){C!==d&&C.getTables(g)}),g},a.prototype.toString=function(){return"combined_pred_"+this.operator.toString()},a.prototype.toKeyRange=function(){if($(this.isKeyRangeCompatible(),"Could not convert combined predicate to key range."),this.operator===N.OR){var l=new yt;return this.getChildren().forEach(function(d){var g=d.toKeyRange().getValues();l.add(g)}),l}else return $(!1,"toKeyRange() called for an AND predicate."),new yt},a.prototype.isKeyRangeCompatible=function(){return this.operator===N.OR?this.isKeyRangeCompatibleOr():!1},a.prototype.combineResults=function(l){return this.operator===N.AND?ie.intersect(l):ie.union(l)},a.prototype.isKeyRangeCompatibleOr=function(){var l=null;return this.getChildren().every(function(d){var g=d instanceof He&&d.isKeyRangeCompatible();return g?(l===null&&(l=d.column),l.getNormalizedName()===d.column.getNormalizedName()):!1})},a}(ge),hr=function(){function f(){}return f.and=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return f.createPredicate(N.AND,a)},f.or=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return f.createPredicate(N.OR,a)},f.not=function(a){return a.setComplement(!0),a},f.createPredicate=function(a,l){var d=new vn(a);return l.forEach(function(g){return d.addChild(g)}),d},f}();e.op=hr;var Ge=function(){function f(){this.map=new Map,this.count=0}return Object.defineProperty(f.prototype,"size",{get:function(){return this.count},enumerable:!0,configurable:!0}),f.prototype.has=function(a){return this.map.has(a)},f.prototype.set=function(a,l){var d=this.getSet(a);return d.has(l)||(d.add(l),this.count++),this},f.prototype.setMany=function(a,l){var d=this,g=this.getSet(a);return l.forEach(function(C){g.has(C)||(g.add(C),d.count++)}),this},f.prototype.merge=function(a){var l=this;return a.keys().forEach(function(d){return l.setMany(d,Array.from(a.getSet(d)))}),this},f.prototype.delete=function(a,l){var d=this.map.get(a)||null;if(d===null)return!1;var g=d.delete(l);return g&&(this.count--,d.size===0&&this.map.delete(a)),g},f.prototype.get=function(a){var l=this.map.get(a)||null;return l===null?null:Array.from(l)},f.prototype.clear=function(){this.map.clear(),this.count=0},f.prototype.keys=function(){return Array.from(this.map.keys())},f.prototype.values=function(){var a=[];return this.map.forEach(function(l,d){return a.push.apply(a,Array.from(l))}),a},f.prototype.getSet=function(a){var l=this.map.get(a)||null;return l===null&&(l=new Set,this.map.set(a,l)),l},f}(),hn=function(f){t(a,f);function a(l,d,g){var C=f.call(this)||this;C.leftColumn=l,C.rightColumn=d,C.evaluatorType=g,C.nullPayload=null;var D=at.get();return C.evaluatorFn=D.getEvaluator(C.leftColumn.getType(),C.evaluatorType),C.keyOfIndexFn=D.getKeyOfIndexEvaluator(C.leftColumn.getType()),C}return a.prototype.copy=function(){var l=new a(this.leftColumn,this.rightColumn,this.evaluatorType);return l.setId(this.getId()),l},a.prototype.getColumns=function(l){return l!=null?(l.push(this.leftColumn),l.push(this.rightColumn),l):[this.leftColumn,this.rightColumn]},a.prototype.getTables=function(l){var d=l!=null?l:new Set;return d.add(this.leftColumn.getTable()),d.add(this.rightColumn.getTable()),d},a.prototype.reverse=function(){var l=this.evaluatorType;switch(this.evaluatorType){case fe.GT:l=fe.LT;break;case fe.LT:l=fe.GT;break;case fe.GTE:l=fe.LTE;break;case fe.LTE:l=fe.GTE;break}var d=new a(this.rightColumn,this.leftColumn,l);return d},a.prototype.eval=function(l){var d=this,g=l.entries.filter(function(C){var D=C.getField(d.leftColumn),W=C.getField(d.rightColumn);return d.evaluatorFn(D,W)},this);return new ie(g,l.getTables())},a.prototype.toString=function(){return"join_pred("+this.leftColumn.getNormalizedName()+" "+this.evaluatorType+" "+this.rightColumn.getNormalizedName()+")"},a.prototype.evalRelationsNestedLoopJoin=function(l,d,g){var C=[l,d];g||(C=this.detectLeftRight(l,d)),l=C[0],d=C[1];for(var D=[],W=l.getTables(),ee=d.getTables(),ue=l.entries.length,me=d.entries.length,Te=a.BLOCK_SIZE_EXPONENT,Fe=me+(1<<Te)-1>>Te,Xe=0;Xe<Fe;){for(var pt=0;pt<ue;pt++){var it=!1,Tt=l.entries[pt].getField(this.leftColumn);if(Tt!==null)for(var on=Math.min(Xe+1<<Te,me),Ut=Xe<<Te;Ut<on;Ut++){var Vn=this.evaluatorFn(Tt,d.entries[Ut].getField(this.rightColumn));if(Vn){it=!0;var ui=J.combineEntries(l.entries[pt],W,d.entries[Ut],ee);D.push(ui)}}g&&!it&&D.push(this.createCombinedEntryForUnmatched(l.entries[pt],W))}Xe++}var tr=l.getTables().concat(d.getTables());return new ie(D,tr)},a.prototype.evalRelationsHashJoin=function(l,d,g){var C=this,D=[l,d];g||(D=this.detectLeftRight(l,d)),l=D[0],d=D[1];var W=l,ee=d,ue=this.leftColumn,me=this.rightColumn;g&&(W=d,ee=l,ue=this.rightColumn,me=this.leftColumn);var Te=new Ge,Fe=[];W.entries.forEach(function(Tt){var on=String(Tt.getField(ue));Te.set(on,Tt)});var Xe=W.getTables(),pt=ee.getTables();ee.entries.forEach(function(Tt){var on=Tt.getField(me),Ut=String(on);on!==null&&Te.has(Ut)?Te.get(Ut).forEach(function(Vn){var ui=J.combineEntries(Tt,pt,Vn,Xe);Fe.push(ui)}):g&&Fe.push(C.createCombinedEntryForUnmatched(Tt,pt))},this);var it=l.getTables().concat(d.getTables());return new ie(Fe,it)},a.prototype.evalRelationsIndexNestedLoopJoin=function(l,d,g,C){var D=this;$(this.evaluatorType===fe.EQ,"For now, index nested loop join can only be leveraged for EQ.");var W=g.indexedColumn.getTable(),ee=l,ue=d;l.getTables().indexOf(W.getEffectiveName())!==-1&&(ee=d,ue=l);var me=[],Te=ue.getTables(),Fe=ee.getTables();function Xe(it,Tt){var on=new J(Tt,Te.length>1),Ut=J.combineEntries(it,Fe,on,Te);me.push(Ut)}ee.entries.forEach(function(it){var Tt=D.keyOfIndexFn(it.getField(g.nonIndexedColumn)),on=g.index.get(Tt);if(on.length!==0)if(g.index.isUniqueKey())Xe(it,C.get(on[0]));else{var Ut=C.getMany(on);Ut.forEach(function(Vn){return Xe(it,Vn)})}},this);var pt=ee.getTables().concat(ue.getTables());return new ie(me,pt)},a.prototype.setComplement=function(l){throw new z(y.ASSERTION,"Join predicate has no complement")},a.prototype.reverseSelf=function(){var l=this.leftColumn;this.leftColumn=this.rightColumn,this.rightColumn=l;var d=this.evaluatorType;switch(this.evaluatorType){case fe.GT:d=fe.LT;break;case fe.LT:d=fe.GT;break;case fe.GTE:d=fe.LTE;break;case fe.LTE:d=fe.GTE;break;default:return}this.evaluatorType=d,this.evaluatorFn=at.get().getEvaluator(this.leftColumn.getType(),this.evaluatorType)},a.prototype.appliesToLeft=function(l){return l.getTables().indexOf(this.leftColumn.getTable().getEffectiveName())!==-1},a.prototype.appliesToRight=function(l){return l.getTables().indexOf(this.rightColumn.getTable().getEffectiveName())!==-1},a.prototype.assertRelationsApply=function(l,d){$(this.appliesToLeft(l),"Mismatch between join predicate left operand and right relation."),$(this.appliesToRight(d),"Mismatch between join predicate right operand and right relation.")},a.prototype.detectLeftRight=function(l,d){var g=null,C=null;return this.appliesToLeft(l)?(this.assertRelationsApply(l,d),g=l,C=d):(this.assertRelationsApply(d,l),g=d,C=l),g.entries.length>C.entries.length?(this.reverseSelf(),this.assertRelationsApply(C,g),[C,g]):[g,C]},a.prototype.createNullPayload=function(l){var d={};return l.getColumns().forEach(function(g){return d[g.getName()]=null}),d},a.prototype.createCombinedEntryForUnmatched=function(l,d){this.nullPayload===null&&(this.nullPayload=this.createNullPayload(this.rightColumn.getTable()));var g=new J(new M(M.DUMMY_ID,this.nullPayload),!1),C=J.combineEntries(l,d,g,[this.rightColumn.getTable().getEffectiveName()]);return C},a.BLOCK_SIZE_EXPONENT=8,a}(ge),pn=function(f){t(a,f);function a(l){return f.call(this,l)||this}return a.orderByToString=function(l){var d="";return l.forEach(function(g,C){d+=g.column.getNormalizedName()+" ",d+=g.order===u.ASC?"ASC":"DESC",C<l.length-1&&(d+=", ")}),d},a.prototype.getScope=function(){return new Set(this.from)},a.prototype.clone=function(){var l=new a(this.schema);return l.cloneBase(this),this.columns&&(l.columns=this.columns.slice()),this.from&&(l.from=this.from.slice()),l.limit=this.limit,l.skip=this.skip,this.orderBy&&(l.orderBy=this.orderBy.slice()),this.groupBy&&(l.groupBy=this.groupBy.slice()),this.limitBinder&&(l.limitBinder=this.limitBinder),this.skipBinder&&(l.skipBinder=this.skipBinder),l.outerJoinPredicates=this.outerJoinPredicates,l},a.prototype.bind=function(l){return f.prototype.bind.call(this,l),this.limitBinder!==void 0&&this.limitBinder!==null&&(this.limit=l[this.limitBinder.index]),this.skipBinder!==void 0&&this.skipBinder!==null&&(this.skip=l[this.skipBinder.index]),this.bindValuesInSearchCondition(l),this},a}(le),Un=function(){function f(a,l,d,g,C){this.success_=a,this.insertedRowCount_=l,this.updatedRowCount_=d,this.deletedRowCount_=g,this.changedTableCount_=C}return f.getDefault=function(){return new f(!1,0,0,0,0)},f.prototype.success=function(){return this.success_},f.prototype.insertedRowCount=function(){return this.insertedRowCount_},f.prototype.updatedRowCount=function(){return this.updatedRowCount_},f.prototype.deletedRowCount=function(){return this.deletedRowCount_},f.prototype.changedTableCount=function(){return this.changedTableCount_},f}(),Nn=function(f){t(a,f);function a(l,d){var g=f.call(this)||this;return g.global=l,g.backStore=l.getService(Ue.BACK_STORE),g.queries=d.map(function(C){return C.context}),g.plans=d.map(function(C){return C.plan}),g.combinedScope=Pe.getCombinedScope(g.plans),g.txType=g.detectType(),g.resolver=new je,g}return a.prototype.exec=function(){var l=this,d=this.txType===v.READ_ONLY?void 0:new uo(this.global,this.combinedScope),g=[],C=this.plans.slice(),D=this.queries,W=function(){var ee=C.shift();if(ee){var ue=D[g.length];return ee.getRoot().exec(d,ue).then(function(me){return g.push(me[0]),W()})}return Promise.resolve(g)};return W().then(function(){return l.tx=l.backStore.createTx(l.txType,Array.from(l.combinedScope.values()),d),l.tx.commit()}).then(function(){return l.onSuccess(g),g},function(ee){throw d&&d.rollback(),ee})},a.prototype.getType=function(){return this.txType},a.prototype.getScope=function(){return this.combinedScope},a.prototype.getResolver=function(){return this.resolver},a.prototype.getId=function(){return this.getUniqueNumber()},a.prototype.stats=function(){var l=null;return this.tx&&(l=this.tx.stats()),l===null?Un.getDefault():l},a.prototype.onSuccess=function(l){},a.prototype.detectType=function(){return this.queries.some(function(l){return!(l instanceof pn)})?v.READ_WRITE:v.READ_ONLY},a}(ce),Pn=function(f){t(a,f);function a(l,d){var g=f.call(this,l,d)||this;return g.observerRegistry=l.getService(Ue.OBSERVER_REGISTRY),g}return a.prototype.getPriority=function(){return E.OBSERVER_QUERY_TASK},a.prototype.onSuccess=function(l){var d=this;this.queries.forEach(function(g,C){d.observerRegistry.updateResultsForQuery(g,l[C])})},a}(Nn),$e=function(f){t(a,f);function a(l,d){var g=f.call(this,l,d)||this;return g.runner=l.getService(Ue.RUNNER),g.observerRegistry=l.getService(Ue.OBSERVER_REGISTRY),g}return a.prototype.getPriority=function(){return E.USER_QUERY_TASK},a.prototype.onSuccess=function(l){this.getType()===v.READ_ONLY?this.notifyObserversDirectly(l):this.scheduleObserverTask()},a.prototype.notifyObserversDirectly=function(l){var d=this;this.queries.forEach(function(g,C){d.observerRegistry.updateResultsForQuery(g,l[C])})},a.prototype.scheduleObserverTask=function(){var l=this.observerRegistry.getTaskItemsForTables(Array.from(this.getScope().values()));l.length>0&&this.runner.scheduleTask(new Pn(this.global,l))},a}(Nn),Ye=function(){function f(a,l){this._name=a,this._version=l,this.tableMap=new Map,this._pragma={enableBundledMode:!1},this._info=void 0}return f.prototype.name=function(){return this._name},f.prototype.version=function(){return this._version},f.prototype.info=function(){return this._info===void 0&&(this._info=new st(this)),this._info},f.prototype.tables=function(){return Array.from(this.tableMap.values())},f.prototype.table=function(a){var l=this.tableMap.get(a);if(!l)throw new z(y.TABLE_NOT_FOUND,a);return l},f.prototype.setTable=function(a){this.tableMap.set(a.getName(),a)},f.prototype.pragma=function(){return this._pragma},f}(),st=function(){function f(a){var l=this;this.dbSchema=a,this.cascadeReferringFk=new Ge,this.restrictReferringFk=new Ge,this.parents=new Ge,this.colParent=new Map,this.children=new Ge,this.cascadeChildren=new Ge,this.restrictChildren=new Ge,this.colChild=new Ge,this.dbSchema.tables().forEach(function(d){var g=d,C=g.getName();g.getConstraint().getForeignKeys().forEach(function(D){l.parents.set(C,l.dbSchema.table(D.parentTable)),l.children.set(D.parentTable,g),D.action===i.RESTRICT?(l.restrictReferringFk.set(D.parentTable,D),l.restrictChildren.set(D.parentTable,g)):(l.cascadeReferringFk.set(D.parentTable,D),l.cascadeChildren.set(D.parentTable,g)),l.colParent.set(g.getName()+"."+D.childColumn,D.parentTable);var W=D.parentTable+"."+D.parentColumn;l.colChild.set(W,g.getName())},l)},this)}return f.from=function(a){return a.info()},f.prototype.getReferencingForeignKeys=function(a,l){if(l!=null)return l===i.CASCADE?this.cascadeReferringFk.get(a):this.restrictReferringFk.get(a);var d=this.cascadeReferringFk.get(a),g=this.restrictReferringFk.get(a);return d===null&&g===null?null:(d||[]).concat(g||[])},f.prototype.getParentTables=function(a){return this.expandScope(a,this.parents)},f.prototype.getParentTablesByColumns=function(a){var l=this,d=new Set;a.forEach(function(C){var D=l.colParent.get(C);D&&d.add(D)},this);var g=Array.from(d.values());return g.map(function(C){return l.dbSchema.table(C)})},f.prototype.getChildTables=function(a,l){return l==null?this.expandScope(a,this.children):l===i.RESTRICT?this.expandScope(a,this.restrictChildren):this.expandScope(a,this.cascadeChildren)},f.prototype.getChildTablesByColumns=function(a){var l=this,d=new Set;a.forEach(function(C){var D=l.colChild.get(C);D&&D.forEach(function(W){return d.add(W)})},this);var g=Array.from(d.values());return g.map(function(C){return l.dbSchema.table(C)})},f.prototype.expandScope=function(a,l){var d=l.get(a);return d===null?[]:d},f}(),St=function(f){t(a,f);function a(l){return f.call(this,l)||this}return a.prototype.getScope=function(){var l=new Set;return l.add(this.from),this.expandTableScope(this.from.getName(),l),l},a.prototype.clone=function(){var l=new a(this.schema);return l.cloneBase(this),l.from=this.from,l},a.prototype.bind=function(l){return f.prototype.bind.call(this,l),this.bindValuesInSearchCondition(l),this},a.prototype.expandTableScope=function(l,d){var g=this,C=st.from(this.schema).getChildTables(l,i.CASCADE),D=st.from(this.schema).getChildTables(l);D.forEach(d.add.bind(d)),C.forEach(function(W){g.expandTableScope(W.getName(),d)},this)},a}(le),xt=function(f){t(a,f);function a(l){return f.call(this,l)||this}return a.prototype.getScope=function(){var l=new Set;l.add(this.into);var d=st.from(this.schema);return d.getParentTables(this.into.getName()).forEach(l.add.bind(l)),this.allowReplace&&d.getChildTables(this.into.getName()).forEach(l.add.bind(l)),l},a.prototype.clone=function(){var l=new a(this.schema);return l.cloneBase(this),l.into=this.into,this.values&&(l.values=this.values instanceof te?this.values:this.values.slice()),l.allowReplace=this.allowReplace,l.binder=this.binder,l},a.prototype.bind=function(l){return f.prototype.bind.call(this,l),this.binder&&(this.binder instanceof te?this.values=l[this.binder.index]:this.values=this.binder.map(function(d){return d instanceof te?l[d.index]:d})),this},a}(le),Ft=function(f){t(a,f);function a(l){return f.call(this,l)||this}return a.prototype.getScope=function(){var l=new Set;l.add(this.table);var d=this.set.map(function(C){return C.column.getNormalizedName()}),g=st.from(this.schema);return g.getParentTablesByColumns(d).forEach(l.add.bind(l)),g.getChildTablesByColumns(d).forEach(l.add.bind(l)),l},a.prototype.clone=function(){var l=new a(this.schema);return l.cloneBase(this),l.table=this.table,l.set=this.set?this.cloneSet(this.set):this.set,l},a.prototype.bind=function(l){return f.prototype.bind.call(this,l),this.set.forEach(function(d){d.binding!==void 0&&d.binding!==-1&&(d.value=l[d.binding])}),this.bindValuesInSearchCondition(l),this},a.prototype.cloneSet=function(l){return l.map(function(d){var g=n({},d);return g})},a}(le),sn=function(){function f(){}return f.toSql=function(a,l){l===void 0&&(l=!1);var d=a.getQuery();if(d instanceof xt)return f.insertToSql(d,l);if(d instanceof St)return f.deleteToSql(d,l);if(d instanceof Ft)return f.updateToSql(d,l);if(d instanceof pn)return f.selectToSql(d,l);throw new z(y.NOT_IMPL_IN_TOSQL,typeof d)},f.escapeSqlValue=function(a,l){var d=l;if(d==null)return"NULL";switch(a){case h.BOOLEAN:return d?1:0;case h.INTEGER:case h.NUMBER:return d;case h.ARRAY_BUFFER:return"'"+M.binToHex(d)+"'";default:return"'"+d.toString()+"'"}},f.insertToSql=function(a,l){var d=a.allowReplace?"INSERT OR REPLACE":"INSERT",g=a.into.getColumns();d+=" INTO "+a.into.getName()+"(",d+=g.map(function(D){return D.getName()}).join(", "),d+=") VALUES (";var C=a.values.map(function(D){var W=g.map(function(ee){var ue=D.payload()[ee.getName()];return l?ue!=null?"#":"NULL":f.escapeSqlValue(ee.getType(),ue)});return d+W.join(", ")+");"});return C.join(`
`)},f.evaluatorToSql=function(a){switch(a){case fe.BETWEEN:return"BETWEEN";case fe.EQ:return"=";case fe.GTE:return">=";case fe.GT:return">";case fe.IN:return"IN";case fe.LTE:return"<=";case fe.LT:return"<";case fe.MATCH:return"LIKE";case fe.NEQ:return"<>";default:return"UNKNOWN"}},f.valueToSql=function(a,l,d,g){if(a instanceof te)return"?"+a.getIndex().toString();if(g)return a!=null?"#":"NULL";if(l===fe.MATCH)return"'"+a.toString()+"'";if(l===fe.IN){var C=a,D=C.map(function(W){return f.escapeSqlValue(d,W)});return"("+D.join(", ")+")"}else if(l===fe.BETWEEN)return f.escapeSqlValue(d,a[0])+" AND "+f.escapeSqlValue(d,a[1]);return f.escapeSqlValue(d,a).toString()},f.valuePredicateToSql=function(a,l){var d=a.column.getNormalizedName(),g=f.evaluatorToSql(a.evaluatorType),C=f.valueToSql(a.peek(),a.evaluatorType,a.column.getType(),l);return g==="="&&C==="NULL"?[d,"IS NULL"].join(" "):g==="<>"&&C==="NULL"?[d,"IS NOT NULL"].join(" "):[d,g,C].join(" ")},f.combinedPredicateToSql=function(a,l){var d=a.getChildren().map(function(C){return"("+f.parseSearchCondition(C,l)+")"}),g=a.operator===N.AND?" AND ":" OR ";return d.join(g)},f.joinPredicateToSql=function(a){return[a.leftColumn.getNormalizedName(),f.evaluatorToSql(a.evaluatorType),a.rightColumn.getNormalizedName()].join(" ")},f.parseSearchCondition=function(a,l){if(a instanceof He)return f.valuePredicateToSql(a,l);if(a instanceof vn)return f.combinedPredicateToSql(a,l);if(a instanceof hn)return f.joinPredicateToSql(a);throw new z(357,typeof a)},f.predicateToSql=function(a,l){var d=f.parseSearchCondition(a,l);return d?" WHERE "+d:""},f.deleteToSql=function(a,l){var d="DELETE FROM "+a.from.getName();return a.where&&(d+=f.predicateToSql(a.where,l)),d+=";",d},f.updateToSql=function(a,l){var d="UPDATE "+a.table.getName()+" SET ";return d+=a.set.map(function(g){var C=g.column,D=C.getNormalizedName()+" = ";return g.binding!==-1?D+"?"+g.binding.toString():D+f.escapeSqlValue(C.getType(),g.value).toString()}).join(", "),a.where&&(d+=f.predicateToSql(a.where,l)),d+=";",d},f.selectToSql=function(a,l){var d="*";a.columns.length&&(d=a.columns.map(function(W){var ee=W;return ee.getAlias()?ee.getNormalizedName()+" AS "+ee.getAlias():ee.getNormalizedName()}).join(", "));var g="SELECT "+d+" FROM ";if(a.outerJoinPredicates&&a.outerJoinPredicates.size!==0?g+=f.getFromListForOuterJoin(a,l):(g+=f.getFromListForInnerJoin(a,l),a.where&&(g+=f.predicateToSql(a.where,l))),a.orderBy){var C=a.orderBy.map(function(W){return W.column.getNormalizedName()+(W.order===u.DESC?" DESC":" ASC")}).join(", ");g+=" ORDER BY "+C}if(a.groupBy){var D=a.groupBy.map(function(W){return W.getNormalizedName()}).join(", ");g+=" GROUP BY "+D}return a.limit&&(g+=" LIMIT "+a.limit.toString()),a.skip&&(g+=" SKIP "+a.skip.toString()),g+=";",g},f.getTableNameToSql=function(a){var l=a;return l.getEffectiveName()!==l.getName()?l.getName()+" AS "+l.getEffectiveName():l.getName()},f.getFromListForOuterJoin=function(a,l){for(var d=tt.find(a.where,function(me){return me instanceof hn}),g=d.map(function(me){return f.joinPredicateToSql(me)}),C=f.getTableNameToSql(a.from[0]),D=1;D<a.from.length;D++){var W=f.getTableNameToSql(a.from[D]);a.outerJoinPredicates.has(d[g.length-D].getId())?C+=" LEFT OUTER JOIN "+W:C+=" INNER JOIN "+W,C+=" ON ("+g[g.length-D]+")"}var ee=a.where,ue=ee.getChildCount()>0?ee.getChildAt(0):ee;return ue instanceof hn||(C+=" WHERE "+f.parseSearchCondition(ue,l)),C},f.getFromListForInnerJoin=function(a,l){return a.from.map(f.getTableNameToSql).join(", ")},f}(),$n=function(){function f(a,l){this.global=a,this.queryEngine=a.getService(Ue.QUERY_ENGINE),this.runner=a.getService(Ue.RUNNER),this.query=l}return f.prototype.exec=function(){var a=this;try{this.assertExecPreconditions()}catch(l){return Promise.reject(l)}return new Promise(function(l,d){var g=new $e(a.global,[a.getTaskItem()]);a.runner.scheduleTask(g).then(function(C){return l(C[0].getPayloads())},d)})},f.prototype.explain=function(){var a=this,l=function(d){return d.toContextString(a.query)+`
`};return tt.toString(this.getPlan().getRoot(),l)},f.prototype.bind=function(a){return this.query.bind(a),this},f.prototype.toSql=function(a){return a===void 0&&(a=!1),sn.toSql(this,a)},f.prototype.assertExecPreconditions=function(){},f.prototype.getQuery=function(){return this.query.clone()},f.prototype.getObservableQuery=function(){return this.query},f.prototype.getTaskItem=function(){return{context:this.getQuery(),plan:this.getPlan()}},f.prototype.getObservableTaskItem=function(){return{context:this.getObservableQuery(),plan:this.getPlan()}},f.prototype.getPlan=function(){return(this.plan===void 0||this.plan===null)&&(this.plan=this.queryEngine.getPlan(this.query)),this.plan},f}(),Br=function(f){t(a,f);function a(l,d){var g=f.call(this,l,new pn(l.getService(Ue.SCHEMA)))||this;return g.fromAlreadyCalled=!1,g.whereAlreadyCalled=!1,g.query.columns=d,g.checkDistinctColumn(),g.checkAggregations(),g}return a.prototype.assertExecPreconditions=function(){f.prototype.assertExecPreconditions.call(this);var l=this.query;if(l.from===void 0||l.from===null)throw new z(y.INVALID_SELECT);if(l.limitBinder&&l.limit===void 0||l.skipBinder&&l.skip===void 0)throw new z(y.UNBOUND_LIMIT_SKIP);this.checkProjectionList()},a.prototype.from=function(){for(var l,d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];if(this.fromAlreadyCalled)throw new z(y.DUPLICATE_FROM);return this.fromAlreadyCalled=!0,(this.query.from===void 0||this.query.from===null)&&(this.query.from=[]),(l=this.query.from).push.apply(l,d),this},a.prototype.where=function(l){if(this.checkFrom(y.FROM_AFTER_WHERE),this.whereAlreadyCalled)throw new z(y.DUPLICATE_WHERE);return this.whereAlreadyCalled=!0,this.augmentWhereClause(l),this},a.prototype.innerJoin=function(l,d){if(this.checkFrom(y.MISSING_FROM_BEFORE_JOIN),this.whereAlreadyCalled)throw new z(y.INVALID_WHERE);return this.query.from.push(l),this.augmentWhereClause(d),this},a.prototype.leftOuterJoin=function(l,d){if(this.checkFrom(y.MISSING_FROM_BEFORE_JOIN),!(d instanceof hn))throw new z(y.INVALID_OUTER_JOIN);if(this.whereAlreadyCalled)throw new z(y.INVALID_WHERE);this.query.from.push(l),(this.query.outerJoinPredicates===null||this.query.outerJoinPredicates===void 0)&&(this.query.outerJoinPredicates=new Set);var g=d;return l.getEffectiveName()!==d.rightColumn.getTable().getEffectiveName()&&(g=d.reverse()),this.query.outerJoinPredicates.add(g.getId()),this.augmentWhereClause(g),this},a.prototype.limit=function(l){if(this.query.limit!==void 0||this.query.limitBinder)throw new z(y.DUPLICATE_LIMIT);if(l instanceof te)this.query.limitBinder=l;else{if(l<0)throw new z(y.NEGATIVE_LIMIT_SKIP);this.query.limit=l}return this},a.prototype.skip=function(l){if(this.query.skip!==void 0||this.query.skipBinder)throw new z(y.DUPLICATE_SKIP);if(l instanceof te)this.query.skipBinder=l;else{if(l<0)throw new z(y.NEGATIVE_LIMIT_SKIP);this.query.skip=l}return this},a.prototype.orderBy=function(l,d){return this.checkFrom(y.FROM_AFTER_ORDER_GROUPBY),this.query.orderBy===void 0&&(this.query.orderBy=[]),this.query.orderBy.push({column:l,order:d!=null?d:u.ASC}),this},a.prototype.groupBy=function(){for(var l,d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];if(this.checkFrom(y.FROM_AFTER_ORDER_GROUPBY),this.query.groupBy)throw new z(y.DUPLICATE_GROUPBY);return this.query.groupBy===void 0&&(this.query.groupBy=[]),(l=this.query.groupBy).push.apply(l,d),this},a.prototype.clone=function(){var l=new a(this.global,this.query.columns);return l.query=this.query.clone(),l.query.clonedFrom=null,l},a.prototype.checkDistinctColumn=function(){var l=this.query.columns.filter(function(g){return g instanceof ut&&g.aggregatorType===S.DISTINCT}),d=l.length===0||l.length===1&&this.query.columns.length===1;if(!d)throw new z(y.INVALID_DISTINCT)},a.prototype.checkProjectionList=function(){this.query.groupBy?this.checkGroupByColumns():this.checkProjectionListNotMixed()},a.prototype.checkGroupByColumns=function(){var l=this.query.groupBy.some(function(d){var g=d.getType();return g===h.OBJECT||g===h.ARRAY_BUFFER});if(l)throw new z(y.INVALID_GROUPBY)},a.prototype.checkProjectionListNotMixed=function(){var l=this.query.columns.some(function(g){return g instanceof ut}),d=this.query.columns.some(function(g){return!(g instanceof ut)})||this.query.columns.length===0;if(l&&d)throw new z(y.INVALID_PROJECTION)},a.prototype.checkAggregations=function(){var l=this;this.query.columns.forEach(function(d){var g=!(d instanceof ut)||l.isAggregationValid(d.aggregatorType,d.getType());if(!g)throw new z(y.INVALID_AGGREGATION,d.getNormalizedName())},this)},a.prototype.checkFrom=function(l){if(this.query.from===void 0||this.query.from===null)throw new z(l)},a.prototype.augmentWhereClause=function(l){if(this.query.where){var d=hr.and(l,this.query.where);this.query.where=d}else this.query.where=l},a.prototype.isAggregationValid=function(l,d){switch(l){case S.COUNT:case S.DISTINCT:return!0;case S.AVG:case S.GEOMEAN:case S.STDDEV:case S.SUM:return d===h.NUMBER||d===h.INTEGER;case S.MAX:case S.MIN:return d===h.NUMBER||d===h.INTEGER||d===h.STRING||d===h.DATE_TIME}return!1},a}($n),Cr=function(){function f(){}return f.longestCommonSubsequence=function(a,l,d,g){var C=function(it,Tt){return it===Tt},D=function(it,Tt){return a[it]},W=d||C,ee=g||D,ue=a.length,me=l.length,Te=[],Fe,Xe;for(Fe=0;Fe<ue+1;++Fe)Te[Fe]=[],Te[Fe][0]=0;for(Xe=0;Xe<me+1;++Xe)Te[0][Xe]=0;for(Fe=1;Fe<ue+1;++Fe)for(Xe=1;Xe<me+1;++Xe)Te[Fe][Xe]=W(a[Fe-1],l[Xe-1])?Te[Fe-1][Xe-1]+1:Math.max(Te[Fe-1][Xe],Te[Fe][Xe-1]);var pt=[];for(Fe=ue,Xe=me;Fe>0&&Xe>0;)W(a[Fe-1],l[Xe-1])?(pt.unshift(ee(Fe-1,Xe-1)),Fe--,Xe--):Te[Fe-1][Xe]>Te[Fe][Xe-1]?Fe--:Xe--;return pt},f.sum=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return a.reduce(function(d,g){return d+g},0)},f.average=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return f.sum.apply(null,a)/a.length},f.standardDeviation=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];if(!a||a.length<2)return 0;var d=f.average.apply(null,a),g=f.sum.apply(null,a.map(function(C){return Math.pow(C-d,2)}))/(a.length-1);return Math.sqrt(g)},f}(),Fr=function(){function f(a,l){this.query=a,this.observableResults=l,this.evalRegistry=at.get(),this.columns=this.detectColumns()}return f.prototype.applyDiff=function(a,l){for(var d=a===null?[]:a.entries,g=Cr.longestCommonSubsequence(d,l.entries,this.comparator.bind(this),function(Fe,Xe){return d[Fe]}),C=[],D=0,W=0;W<d.length;W++){var ee=d[W];if(g[D]===ee){D++;continue}else{var ue=this.observableResults.splice(D,1),me=this.createChangeRecord(W,ue,0,this.observableResults);C.push(me)}}var Te=Cr.longestCommonSubsequence(d,l.entries,this.comparator.bind(this),function(Fe,Xe){return l.entries[Xe]});D=0;for(var W=0;W<l.entries.length;W++){var ee=l.entries[W];if(Te[D]===ee){D++;continue}else{this.observableResults.splice(W,0,ee.row.payload());var me=this.createChangeRecord(W,[],1,this.observableResults);C.push(me)}}return C},f.prototype.detectColumns=function(){if(this.query.columns.length>0)return this.query.columns;var a=[];return this.query.from.forEach(function(l){var d=l;d.getColumns().forEach(function(g){return a.push(g)})}),a},f.prototype.comparator=function(a,l){var d=this;return this.columns.every(function(g){if(g.getType()===h.OBJECT||g.getType()===h.ARRAY_BUFFER)return a.getField(g)===l.getField(g);var C=d.evalRegistry.getEvaluator(g.getType(),fe.EQ);return C(a.getField(g),l.getField(g))},this)},f.prototype.createChangeRecord=function(a,l,d,g){return{addedCount:d,index:a,object:g,removed:l,type:"splice"}},f}(),wa=function(){function f(a){this.builder=a,this.builder=a,this.observers=new Set,this.observable=[],this.lastResults=null;var l=a.getObservableQuery();this.diffCalculator=new Fr(l,this.observable)}return f.prototype.addObserver=function(a){if(this.observers.has(a)){$(!1,"Attempted to register observer twice.");return}this.observers.add(a)},f.prototype.removeObserver=function(a){return this.observers.delete(a)},f.prototype.getTaskItem=function(){return this.builder.getObservableTaskItem()},f.prototype.hasObservers=function(){return this.observers.size>0},f.prototype.updateResults=function(a){var l=this.diffCalculator.applyDiff(this.lastResults,a);this.lastResults=a,l.length>0&&this.observers.forEach(function(d){return d(l)})},f}(),Wo=function(){function f(){this.entries=new Map}return f.prototype.addObserver=function(a,l){var d=a,g=this.getQueryId(d.getObservableQuery()),C=this.entries.get(g)||null;C===null&&(C=new wa(d),this.entries.set(g,C)),C.addObserver(l)},f.prototype.removeObserver=function(a,l){var d=a,g=this.getQueryId(d.getObservableQuery()),C=this.entries.get(g);$(C!=null,"Attempted to unobserve a query that was not observed.");var D=C.removeObserver(l);$(D,"removeObserver: Inconsistent state detected."),C.hasObservers()||this.entries.delete(g)},f.prototype.getTaskItemsForTables=function(a){var l=new Set;a.forEach(function(g){return l.add(g.getName())});var d=[];return this.entries.forEach(function(g,C){var D=g.getTaskItem(),W=D.context.from.some(function(ee){return l.has(ee.getName())});W&&d.push(D)}),d},f.prototype.updateResultsForQuery=function(a,l){var d=this.getQueryId(a.clonedFrom!==void 0&&a.clonedFrom!==null?a.clonedFrom:a),g=this.entries.get(d)||null;return g!==null?(g.updateResults(l),!0):!1},f.prototype.getQueryId=function(a){return a.getUniqueId()},f}(),Ue=function(){function f(){}return f.BACK_STORE=new U("backstore"),f.CACHE=new U("cache"),f.INDEX_STORE=new U("indexstore"),f.QUERY_ENGINE=new U("engine"),f.RUNNER=new U("runner"),f.OBSERVER_REGISTRY=new U("observerregistry"),f.SCHEMA=new U("schema"),f}(),ki=function(){function f(a){this.indexStore=a.getService(Ue.INDEX_STORE),this.schema=a.getService(Ue.SCHEMA),this.cache=a.getService(Ue.CACHE),this.foreignKeysParentIndices=new Map}return f.didColumnValueChange=function(a,l,d){var g=a===null?l!==null:l===null;return g||a.keyOfIndex(d)!==l.keyOfIndex(d)},f.prototype.findExistingRowIdInPkIndex=function(a,l){var d=a.getConstraint().getPrimaryKey();return d===null?null:this.findExistingRowIdInIndex(d,l)},f.prototype.checkNotNullable=function(a,l){var d=this,g=a.getConstraint().getNotNullable();l.forEach(function(C){g.forEach(function(D){var W=C.payload()[D.getName()];if(W==null)throw new z(y.NOT_NULLABLE,D.getNormalizedName())},d)},this)},f.prototype.detectCascadeUpdates=function(a,l,d){var g=new Ge;return this.loopThroughReferringRows(d,l,function(C,D,W,ee){var ue=D.get(W);ue.forEach(function(me){g.set(me,{fkSpec:C,originalUpdatedRow:ee[1]})})}),g},f.prototype.checkForeignKeysForInsert=function(a,l,d){if(l.length!==0){var g=l.map(function(C){return[null,C]});this.checkReferredKeys(a,g,d)}},f.prototype.checkForeignKeysForUpdate=function(a,l,d){l.length!==0&&(this.checkReferredKeys(a,l,d),this.checkReferringKeys(a,l,d,i.RESTRICT))},f.prototype.checkForeignKeysForDelete=function(a,l,d){if(l.length!==0){var g=l.map(function(C){return[C,null]});this.checkReferringKeys(a,g,d)}},f.prototype.detectCascadeDeletion=function(a,l){var d=this,g={rowIdsPerTable:new Ge,tableOrder:[]},C=new Ge;C.setMany(a.getName(),l.map(function(ee){return ee.id()}));var D=function(){var ee=new Ge;C.keys().forEach(function(ue){var me,Te=d.schema.table(ue),Fe=C.get(ue),Xe=Fe.map(function(it){var Tt=d.cache.get(it);return[Tt,null]},d),pt=d.findReferringRowIds(Te,Xe);pt!==null&&((me=g.tableOrder).unshift.apply(me,pt.keys()),ee.merge(pt))},W),C=ee,g.rowIdsPerTable.merge(C)},W=this;do D();while(C.size>0);return g},f.prototype.findExistingRowIdInIndex=function(a,l){var d=a.getNormalizedName(),g=l.keyOfIndex(d),C=this.indexStore.get(d),D=C.get(g);return D.length===0?null:D[0]},f.prototype.checkReferredKeys=function(a,l,d){var g=this,C=a.getConstraint().getForeignKeys();C.forEach(function(D){D.timing===d&&g.checkReferredKey(D,l)},this)},f.prototype.checkReferredKey=function(a,l){var d=this.getParentIndex(a);l.forEach(function(g){var C=f.didColumnValueChange(g[0],g[1],a.name);if(C){var D=g[1],W=D.keyOfIndex(a.name);if(W!==null&&!d.containsKey(W))throw new z(y.FK_VIOLATION,a.name)}},this)},f.prototype.findParentIndex=function(a){var l=this.schema.table(a.parentTable),d=l[a.parentColumn],g=d.getIndex();return this.indexStore.get(g.getNormalizedName())},f.prototype.getParentIndex=function(a){var l=this.foreignKeysParentIndices.get(a.name);return l===void 0&&(l=this.findParentIndex(a),this.foreignKeysParentIndices.set(a.name,l)),l},f.prototype.checkReferringKeys=function(a,l,d,g){var C=st.from(this.schema).getReferencingForeignKeys(a.getName(),g);C!==null&&(C=C.filter(function(D){return D.timing===d}),C.length!==0&&this.loopThroughReferringRows(C,l,function(D,W,ee){if(W.containsKey(ee))throw new z(y.FK_VIOLATION,D.name)}))},f.prototype.findReferringRowIds=function(a,l){var d=st.from(this.schema).getReferencingForeignKeys(a.getName(),i.CASCADE);if(d===null)return null;var g=new Ge;return this.loopThroughReferringRows(d,l,function(C,D,W){var ee=D.get(W);ee.length>0&&g.setMany(C.childTable,ee)}),g},f.prototype.loopThroughReferringRows=function(a,l,d){var g=this;a.forEach(function(C){var D=g.indexStore.get(C.name),W=g.getParentIndex(C);l.forEach(function(ee){var ue=f.didColumnValueChange(ee[0],ee[1],W.getName());if(ue){var me=ee[0],Te=me.keyOfIndex(W.getName());d(C,D,Te,ee)}},g)},this)},f}(),yl=function(){function f(a){this.name=a,this.added=new Map,this.modified=new Map,this.deleted=new Map}return f.prototype.getName=function(){return this.name},f.prototype.getAdded=function(){return this.added},f.prototype.getModified=function(){return this.modified},f.prototype.getDeleted=function(){return this.deleted},f.prototype.add=function(a){if(this.deleted.has(a.id())){var l=[this.deleted.get(a.id()),a];this.modified.set(a.id(),l),this.deleted.delete(a.id())}else this.added.set(a.id(),a)},f.prototype.modify=function(a){var l=a[0],d=a[1];$(l.id()===d.id(),"Row ID mismatch between old/new values.");var g=l.id();if(this.added.has(g))this.added.set(g,d);else if(this.modified.has(g)){var C=[this.modified.get(g)[0],d];this.modified.set(g,C)}else this.modified.set(g,a)},f.prototype.delete=function(a){if(this.added.has(a.id()))this.added.delete(a.id());else if(this.modified.has(a.id())){var l=this.modified.get(a.id())[0];this.modified.delete(a.id()),this.deleted.set(a.id(),l)}else this.deleted.set(a.id(),a)},f.prototype.merge=function(a){var l=this;a.added.forEach(function(d,g){return l.add(d)}),a.modified.forEach(function(d,g){return l.modify(d)}),a.deleted.forEach(function(d,g){return l.delete(d)})},f.prototype.getAsModifications=function(){var a=[];return this.added.forEach(function(l,d){return a.push([null,l])}),this.modified.forEach(function(l,d){return a.push(l)}),this.deleted.forEach(function(l,d){return a.push([l,null])}),a},f.prototype.toString=function(){return"["+Array.from(this.added.keys()).toString()+"], "+("["+Array.from(this.modified.keys()).toString()+"], ")+("["+Array.from(this.deleted.keys()).toString()+"]")},f.prototype.getReverse=function(){var a=new f(this.name);return this.added.forEach(function(l,d){return a.delete(l)}),this.deleted.forEach(function(l,d){return a.add(l)}),this.modified.forEach(function(l,d){a.modify([l[1],l[0]])}),a},f.prototype.isEmpty=function(){return this.added.size===0&&this.deleted.size===0&&this.modified.size===0},f}(),lo=function(){function f(a){this.cache=a.getService(Ue.CACHE),this.indexStore=a.getService(Ue.INDEX_STORE),this.schema=a.getService(Ue.SCHEMA)}return f.prototype.update=function(a){var l=this;a.forEach(function(d){l.updateIndicesForDiff(d),l.updateCacheForDiff(d)},this)},f.prototype.updateTableIndicesForRow=function(a,l){var d=this,g=this.indexStore.getTableIndices(a.getName()),C=0;g.forEach(function(D){try{d.updateTableIndexForRow(D,l),C++}catch(W){throw g.slice(0,C).forEach(function(ee){d.updateTableIndexForRow(ee,[l[1],l[0]])},d),W}},this)},f.prototype.updateCacheForDiff=function(a){var l=this,d=a.getName();a.getDeleted().forEach(function(g,C){return l.cache.remove(d,C)}),a.getAdded().forEach(function(g,C){return l.cache.set(d,g)}),a.getModified().forEach(function(g,C){return l.cache.set(d,g[1])})},f.prototype.updateIndicesForDiff=function(a){var l=this,d=this.schema.table(a.getName()),g=a.getAsModifications();g.forEach(function(C){l.updateTableIndicesForRow(d,C)},this)},f.prototype.updateTableIndexForRow=function(a,l){var d=l[1]===null?void 0:l[1].keyOfIndex(a.getName()),g=l[0]===null?void 0:l[0].keyOfIndex(a.getName());if(g===void 0&&d!==void 0)a.add(d,l[1].id());else if(g!==void 0&&d!==void 0){if(d===null||g===null){if(d===g)return}else if(a.comparator().compare(g,d)===b.TIE)return;a.add(d,l[1].id()),a.remove(g,l[0].id())}else g!==void 0&&d===void 0&&a.remove(g,l[0].id())},f}(),uo=function(){function f(a,l){var d=this;this.scope=new Map,l.forEach(function(g){return d.scope.set(g.getName(),g)}),this.schema=a.getService(Ue.SCHEMA),this.cache=a.getService(Ue.CACHE),this.indexStore=a.getService(Ue.INDEX_STORE),this.constraintChecker=new ki(a),this.inMemoryUpdater=new lo(a),this.terminated=!1,this.pendingRollback=!1,this.tableDiffs=new Map}return f.prototype.getDiff=function(){return this.tableDiffs},f.prototype.getIndexDiff=function(){var a=this,l=Array.from(this.tableDiffs.keys()).map(function(g){return a.scope.get(g)}),d=[];return l.forEach(function(g){var C=g;if(C.persistentIndex()){var D=C.getIndices();D.forEach(function(W){d.push(a.indexStore.get(W.getNormalizedName()))},a),d.push(a.indexStore.get(C.getName()+".#"))}},this),d},f.prototype.getScope=function(){return this.scope},f.prototype.insert=function(a,l){var d=this,g=a;this.assertJournalWritable(),this.checkScope(g),this.constraintChecker.checkNotNullable(g,l),this.constraintChecker.checkForeignKeysForInsert(g,l,o.IMMEDIATE),l.forEach(function(C){d.modifyRow(g,[null,C])},this)},f.prototype.update=function(a,l){var d=this,g=a;this.assertJournalWritable(),this.checkScope(g),this.constraintChecker.checkNotNullable(g,l);var C=l.map(function(D){var W=d.cache.get(D.id());return[W,D]},this);this.updateByCascade(g,C),this.constraintChecker.checkForeignKeysForUpdate(g,C,o.IMMEDIATE),C.forEach(function(D){return d.modifyRow(g,D)})},f.prototype.insertOrReplace=function(a,l){var d=this,g=a;this.assertJournalWritable(),this.checkScope(g),this.constraintChecker.checkNotNullable(g,l),l.forEach(function(C){var D=null,W=d.constraintChecker.findExistingRowIdInPkIndex(g,C);if(W!=null){D=d.cache.get(W),C.assignRowId(W);var ee=[D,C];d.constraintChecker.checkForeignKeysForUpdate(g,[ee],o.IMMEDIATE)}else d.constraintChecker.checkForeignKeysForInsert(g,[C],o.IMMEDIATE);d.modifyRow(g,[D,C])},this)},f.prototype.remove=function(a,l){var d=this,g=a;this.assertJournalWritable(),this.checkScope(g),this.removeByCascade(g,l),this.constraintChecker.checkForeignKeysForDelete(g,l,o.IMMEDIATE),l.forEach(function(C){d.modifyRow(g,[C,null])},this)},f.prototype.checkDeferredConstraints=function(){var a=this;this.tableDiffs.forEach(function(l,d){var g=a.scope.get(l.getName());a.constraintChecker.checkForeignKeysForInsert(g,Array.from(l.getAdded().values()),o.DEFERRABLE),a.constraintChecker.checkForeignKeysForDelete(g,Array.from(l.getDeleted().values()),o.DEFERRABLE),a.constraintChecker.checkForeignKeysForUpdate(g,Array.from(l.getModified().values()),o.DEFERRABLE)},this)},f.prototype.commit=function(){this.assertJournalWritable(),this.terminated=!0},f.prototype.rollback=function(){$(!this.terminated,"Attempted to rollback a terminated journal.");var a=Array.from(this.tableDiffs.values()).map(function(l){return l.getReverse()});this.inMemoryUpdater.update(a),this.terminated=!0,this.pendingRollback=!1},f.prototype.assertJournalWritable=function(){$(!this.pendingRollback,"Attempted to use journal that needs to be rolled back."),$(!this.terminated,"Attempted to commit a terminated journal.")},f.prototype.checkScope=function(a){if(!this.scope.has(a.getName()))throw new z(y.OUT_OF_SCOPE,a.getName())},f.prototype.modifyRow=function(a,l){var d=a.getName(),g=this.tableDiffs.get(d)||new yl(d);this.tableDiffs.set(d,g);try{this.inMemoryUpdater.updateTableIndicesForRow(a,l)}catch(W){throw this.pendingRollback=!0,W}var C=l[0],D=l[1];C===null&&D!==null?(this.cache.set(d,D),g.add(D)):C!==null&&D!==null?(this.cache.set(d,D),g.modify(l)):C!==null&&D===null&&(this.cache.remove(d,C.id()),g.delete(C))},f.prototype.updateByCascade=function(a,l){var d=this,g=st.from(this.schema).getReferencingForeignKeys(a.getName(),i.CASCADE);if(g!==null){var C=this.constraintChecker.detectCascadeUpdates(a,l,g);C.keys().forEach(function(D){var W=C.get(D);W.forEach(function(ee){var ue=d.schema.table(ee.fkSpec.childTable),me=d.cache.get(D),Te=ue.deserializeRow(me.serialize());Te.payload()[ee.fkSpec.childColumn]=ee.originalUpdatedRow.payload()[ee.fkSpec.parentColumn],d.modifyRow(ue,[me,Te])},d)},this)}},f.prototype.removeByCascade=function(a,l){var d=this,g=st.from(this.schema).getReferencingForeignKeys(a.getName(),i.CASCADE);if(g!==null){var C=this.constraintChecker.detectCascadeDeletion(a,l),D=C.rowIdsPerTable;C.tableOrder.forEach(function(W){var ee=d.schema.table(W),ue=D.get(W).map(function(me){return d.cache.get(me)},d);d.constraintChecker.checkForeignKeysForDelete(ee,ue,o.IMMEDIATE),ue.forEach(function(me){d.modifyRow(ee,[me,null])},d)},this)}},f}(),jo=function(){function f(a,l){this.txType=a,this.journal=l||null,this.resolver=new je,this.success=!1,this.statsObject=null}return f.prototype.getJournal=function(){return this.journal},f.prototype.commit=function(){var a=this,l=this.txType===v.READ_ONLY?this.commitInternal():this.commitReadWrite();return l.then(function(d){return a.success=!0,d})},f.prototype.stats=function(){if(this.statsObject===null)if(!this.success)this.statsObject=Un.getDefault();else if(this.txType===v.READ_ONLY)this.statsObject=new Un(!0,0,0,0,0);else{var a=this.journal.getDiff(),l=0,d=0,g=0,C=0;a.forEach(function(D,W){C++,l+=D.getAdded().size,g+=D.getModified().size,d+=D.getDeleted().size}),this.statsObject=new Un(!0,l,g,d,C)}return this.statsObject},f.prototype.commitReadWrite=function(){var a=this;try{this.journal.checkDeferredConstraints()}catch(l){return Promise.reject(l)}return this.mergeIntoBackstore().then(function(l){return a.journal.commit(),l})},f.prototype.mergeIntoBackstore=function(){return this.mergeTableChanges(),this.mergeIndexChanges(),this.commitInternal()},f.prototype.mergeTableChanges=function(){var a=this,l=this.journal,d=l.getDiff();d.forEach(function(g,C){var D=l.getScope().get(C),W=a.getTable(D.getName(),D.deserializeRow.bind(D),I.DATA),ee=Array.from(g.getDeleted().values()).map(function(Te){return Te.id()}),ue=Array.from(g.getModified().values()).map(function(Te){return Te[1]}).concat(Array.from(g.getAdded().values())),me=ue.length>0;ee.length>0&&W.remove(ee,me).then(function(){},function(Te){return a.resolver.reject(Te)}),W.put(ue).then(function(){},function(Te){return a.resolver.reject(Te)})},this)},f.prototype.mergeIndexChanges=function(){var a=this,l=this.journal.getIndexDiff();l.forEach(function(d){var g=a.getTable(d.getName(),M.deserialize,I.INDEX);g.remove([]),g.put(d.serialize())},this)},f}(),Wn=function(){function f(a,l){l===void 0&&(l={}),this.id=a,this.payload=l}return f.deserialize=function(a){return new f(a.id,JSON.parse(a.value))},f.toPageIds=function(a){var l=new Set;return a.forEach(function(d){return l.add(f.toPageId(d))}),Array.from(l.values())},f.toPageId=function(a){return a>>f.BUNDLE_EXPONENT},f.getPageRange=function(a){return[a<<f.BUNDLE_EXPONENT,(a+1<<f.BUNDLE_EXPONENT)-1]},f.prototype.getId=function(){return this.id},f.prototype.getPayload=function(){return this.payload},f.prototype.setRows=function(a){var l=this;a.forEach(function(d){return l.payload[d.id()]=d.serialize()})},f.prototype.removeRows=function(a){var l=this;a.forEach(function(d){return delete l.payload[d]})},f.prototype.serialize=function(){return{id:this.id,value:JSON.stringify(this.payload)}},f.BUNDLE_EXPONENT=9,f}(),wl=function(){function f(a,l,d){this.store=a,this.deserializeFn=l,this.retrievePageFn=d}return f.forTableType=function(a,l,d,g){var C=g===I.DATA?f.getDataTablePage.bind(null,a):f.getIndexTablePage;return new f(l,d,C)},f.getDataTablePage=function(a,l,d){var g=a.getService(Ue.CACHE),C=Wn.getPageRange(d),D=g.getRange(l,C[0],C[1]),W=new Wn(d);return W.setRows(D),W},f.getIndexTablePage=function(a,l){return new Wn(l)},f.prototype.get=function(a){var l=this;return a.length===0?this.getAll():this.getPagesByRowIds(a).then(function(d){return a.map(function(g){var C=d.get(Wn.toPageId(g));return $(C!==void 0,"Containing page is empty"),l.deserializeFn(C.getPayload()[g])})})},f.prototype.put=function(a){var l=this;if(a.length===0)return Promise.resolve();var d=new Map;a.forEach(function(C){var D=Wn.toPageId(C.id()),W=d.get(D)||null;W===null&&(W=l.retrievePageFn(l.store.name,D)),W.setRows([C]),d.set(D,W)},this);var g=Array.from(d.values()).map(function(C){return l.performWriteOp(function(){return l.store.put(C.serialize())})},this);return Promise.all(g).then(function(){})},f.prototype.remove=function(a,l){var d=this;if(a.length===0)return this.performWriteOp(function(){return d.store.clear()});var g=new Map;a.forEach(function(D){var W=Wn.toPageId(D),ee=g.get(W)||null;ee===null&&(ee=d.retrievePageFn(d.store.name,W)),ee.removeRows([D]),g.set(W,ee)},this);var C=Array.from(g.values()).map(function(D){return d.performWriteOp(function(){return Object.keys(D.getPayload()).length===0?d.store.delete(D.getId()):d.store.put(D.serialize())})},this);return Promise.all(C).then(function(){})},f.prototype.getPagesByRowIds=function(a){var l=this,d=new Map,g=new je,C=Wn.toPageIds(a),D=C.map(function(W,ee){return new Promise(function(ue,me){var Te;try{Te=l.store.get(W)}catch(Fe){me(Fe);return}Te.onerror=me,Te.onsuccess=function(Fe){var Xe=Wn.deserialize(Fe.target.result);d.set(Xe.getId(),Xe),ue()}})},this);return Promise.all(D).then(function(){return g.resolve(d)}),g.promise},f.prototype.getAll=function(){var a=this;return new Promise(function(l,d){var g=[],C;try{C=a.store.openCursor()}catch(D){d(D);return}C.onerror=d,C.onsuccess=function(){var D=C.result;if(D){var W=Wn.deserialize(D.value),ee=W.getPayload();Object.keys(ee).forEach(function(ue){return g.push(a.deserializeFn(ee[ue]))}),D.continue()}else l(g)}})},f.prototype.performWriteOp=function(a){return new Promise(function(l,d){var g;try{g=a()}catch(C){d(C);return}g.onsuccess=function(C){return l()},g.onerror=d})},f}(),bl=function(f){t(a,f);function a(l,d){var g=f.call(this)||this;g.global=l,g.tableDiffs=d,g.observerRegistry=g.global.getService(Ue.OBSERVER_REGISTRY),g.runner=g.global.getService(Ue.RUNNER),g.inMemoryUpdater=new lo(g.global);var C=g.global.getService(Ue.SCHEMA),D=g.tableDiffs.map(function(W){return C.table(W.getName())});return g.scope=new Set(D),g.resolver=new je,g}return a.prototype.exec=function(){return this.inMemoryUpdater.update(this.tableDiffs),this.scheduleObserverTask(),Promise.resolve([])},a.prototype.getType=function(){return v.READ_WRITE},a.prototype.getScope=function(){return this.scope},a.prototype.getResolver=function(){return this.resolver},a.prototype.getId=function(){return this.getUniqueNumber()},a.prototype.getPriority=function(){return E.EXTERNAL_CHANGE_TASK},a.prototype.scheduleObserverTask=function(){var l=this.observerRegistry.getTaskItemsForTables(Array.from(this.scope.values()));if(l.length!==0){var d=new Pn(this.global,l);this.runner.scheduleTask(d)}},a}(ce),Sl=function(){function f(a){this.global=a,this.backStore=a.getService(Ue.BACK_STORE),this.runner=a.getService(Ue.RUNNER)}return f.prototype.startObserving=function(){this.backStore.subscribe(this.onChange.bind(this))},f.prototype.stopObserving=function(){this.backStore.unsubscribe(this.onChange.bind(this))},f.prototype.onChange=function(a){var l=new bl(this.global,a);this.runner.scheduleTask(l)},f}(),ba=function(){function f(a,l,d,g){this.version=a,this.db=l,this.tx=d,this.bundleMode=g}return f.convert=function(a){var l=null;return a instanceof ArrayBuffer?l=M.binToHex(a):a instanceof Date?l=a.getTime():l=a,l},f.prototype.getRawDBInstance=function(){return this.db},f.prototype.getRawTransaction=function(){return this.tx},f.prototype.dropTable=function(a){var l=this;return new Promise(function(d,g){try{l.db.deleteObjectStore(a)}catch(C){g(C);return}d()})},f.prototype.addTableColumn=function(a,l,d){var g=f.convert(d);return this.transformRows(a,function(C){C.payload()[l]=g})},f.prototype.dropTableColumn=function(a,l){return this.transformRows(a,function(d){delete d.payload()[l]})},f.prototype.renameTableColumn=function(a,l,d){return this.transformRows(a,function(g){g.payload()[d]=g.payload()[l],delete g.payload()[l]})},f.prototype.createRow=function(a){var l={};return Object.keys(a).forEach(function(d){l[d]=f.convert(a[d])}),M.create(l)},f.prototype.getVersion=function(){return this.version},f.prototype.dump=function(){for(var a=this.db.objectStoreNames,l=[],d=0;d<a.length;++d){var g=a.item(d);l.push(this.dumpTable(g))}return Promise.all(l).then(function(C){var D={};return C.forEach(function(W,ee){D[a.item(ee)]=W}),D})},f.prototype.openCursorForWrite=function(a,l,d){var g=this;return new Promise(function(C,D){var W,ee;try{ee=g.tx.objectStore(a),W=ee.openCursor()}catch(ue){D(ue);return}W.onsuccess=function(ue){var me=W.result;me?(l(me),me.continue()):(d(ee),C())},W.onerror=D})},f.prototype.transformRows=function(a,l){var d=function(D){var W=M.deserialize(D.value);l(W),D.update(W.serialize())},g=function(D){var W=Wn.deserialize(D.value),ee=W.getPayload();Object.keys(ee).forEach(function(ue){var me=M.deserialize(ee[ue]);l(me),ee[ue]=me.serialize()}),D.update(W.serialize())},C=function(){};return this.openCursorForWrite(a,this.bundleMode?g:d,C)},f.prototype.getTableRows=function(a){var l=this,d=[];return new Promise(function(g,C){var D;try{D=l.tx.objectStore(a).openCursor()}catch(W){C(W);return}D.onsuccess=function(W){var ee=D.result;if(ee){if(l.bundleMode){var ue=Wn.deserialize(ee.value),me=ue.getPayload();Object.keys(me).forEach(function(Te){d.push(me[Te])})}else d.push(ee.value);ee.continue()}else g(d)},D.onerror=C})},f.prototype.dumpTable=function(a){return this.getTableRows(a).then(function(l){return l.map(function(d){return d.value})})},f}(),El=function(){function f(a,l){this.store=a,this.deserializeFn=l}return f.prototype.get=function(a){var l=this;if(a.length===0)return this.store.getAll?this.getAllBulk():this.getAllWithCursor();var d=a.map(function(g,C){return new Promise(function(D,W){var ee;try{ee=l.store.get(g)}catch(ue){W(ue);return}ee.onerror=W,ee.onsuccess=function(ue){D(l.deserializeFn(ue.target.result))}})},this);return Promise.all(d)},f.prototype.put=function(a){var l=this;if(a.length===0)return Promise.resolve();var d=a.map(function(g){return l.performWriteOp(function(){return l.store.put(g.serialize())})},this);return Promise.all(d).then(function(){})},f.prototype.remove=function(a,l){var d=this,g=function(){var C=a.map(function(D){return d.performWriteOp(function(){return d.store.delete(D)})});return Promise.all(C).then(function(){})};return l?g():new Promise(function(C,D){var W=d.store.count();W.onsuccess=function(ee){if(a.length===0||ee.target.result===a.length){d.performWriteOp(function(){return d.store.clear()}).then(C,D);return}g().then(C,D)},W.onerror=D})},f.prototype.getAllWithCursor=function(){var a=this;return new Promise(function(l,d){var g=[],C;try{C=a.store.openCursor()}catch(D){d(D);return}C.onerror=d,C.onsuccess=function(){var D=C.result;D?(g.push(a.deserializeFn(D.value)),D.continue()):l(g)}})},f.prototype.getAllBulk=function(){var a=this;return new Promise(function(l,d){var g;try{g=a.store.getAll()}catch(C){d(C);return}g.onerror=d,g.onsuccess=function(){var C=g.result.map(function(D){return a.deserializeFn(D)});l(C)}})},f.prototype.performWriteOp=function(a){return new Promise(function(l,d){var g;try{g=a()}catch(C){d(C);return}g.onsuccess=function(C){return l()},g.onerror=d})},f}(),Za=function(f){t(a,f);function a(l,d,g,C,D){var W=f.call(this,g,D)||this;return W.global=l,W.tx=d,W.bundleMode=C,W.tx.oncomplete=function(){W.resolver.resolve()},W.tx.onabort=function(ee){W.resolver.reject(ee)},W}return a.prototype.getTable=function(l,d,g){if(this.bundleMode){var C=g!=null?g:I.DATA;return wl.forTableType(this.global,this.tx.objectStore(l),d,C)}else return new El(this.tx.objectStore(l),d)},a.prototype.abort=function(){this.tx.abort()},a.prototype.commitInternal=function(){return this.resolver.promise},a}(jo),Sa=function(){function f(a,l){this.global=a,this.schema=l,this.bundledMode=this.schema.pragma().enableBundledMode||!1}return f.prototype.init=function(a){var l=this,d=window.indexedDB;if(d==null)throw new z(y.IDB_NOT_PROVIDED);var g=a||function(C){return Promise.resolve()};return new Promise(function(C,D){var W;try{W=d.open(l.schema.name(),l.schema.version())}catch(ee){D(ee);return}W.onerror=function(ee){var ue=ee.target.error;D(new z(y.CANT_OPEN_IDB,ue.name,ue.message))},W.onupgradeneeded=function(ee){l.onUpgradeNeeded(g,ee).then(function(){},D)},W.onsuccess=function(ee){l.db=ee.target.result,l.scanRowId().then(function(ue){M.setNextIdIfGreater(ue+1),C(l.db)})}})},f.prototype.createTx=function(a,l,d){var g=this.db.transaction(this.getIndexedDBScope(l),a===v.READ_ONLY?"readonly":"readwrite");return new Za(this.global,g,a,this.bundledMode,d)},f.prototype.close=function(){this.db.close()},f.prototype.getTableInternal=function(a){throw new z(y.CANT_GET_IDB_TABLE)},f.prototype.subscribe=function(a){},f.prototype.unsubscribe=function(a){},f.prototype.notify=function(a){},f.prototype.supportsImport=function(){return!0},f.prototype.peek=function(){return this.db},f.prototype.onUpgradeNeeded=function(a,l){var d=l.target.result,g=l.target.transaction,C=new ba(l.oldVersion,d,g,this.bundledMode);return this.removeIndexTables(d,g),this.createTables(d),a(C)},f.prototype.removeIndexTables=function(a,l){for(var d=[],g=0;g<a.objectStoreNames.length;++g){var C=a.objectStoreNames.item(g);C.indexOf(".")!==-1&&d.push(C)}d.forEach(function(D){try{a.deleteObjectStore(D)}catch{}})},f.prototype.createTables=function(a){var l=this;this.schema.tables().forEach(function(d){l.createObjectStoresForTable(a,d)},this)},f.prototype.createObjectStoresForTable=function(a,l){var d=this;if(a.objectStoreNames.contains(l.getName())||a.createObjectStore(l.getName(),{keyPath:"id"}),l.persistentIndex()){var g=l.getIndices();g.forEach(function(C){d.createIndexTable(a,C.getNormalizedName())},this),this.createIndexTable(a,l.getRowIdIndexName())}},f.prototype.createIndexTable=function(a,l){a.objectStoreNames.contains(l)||a.createObjectStore(l,{keyPath:"id"})},f.prototype.getIndexedDBScope=function(a){var l=new Set;return a.forEach(function(d){if(l.add(d.getName()),d.persistentIndex()){var g=d.getIndices();g.forEach(function(C){return l.add(C.getNormalizedName())}),l.add(d.getRowIdIndexName())}}),Array.from(l.values())},f.prototype.scanRowId=function(a){var l=this,d=this.schema.tables().map(function(ue){return ue.getName()}),g=this.db,C=0,D=function(ue){if(l.bundledMode){var me=Wn.deserialize(ue.value);return Object.keys(me.getPayload()).reduce(function(Te,Fe){return Math.max(Te,Number(Fe))},0)}return ue.key},W=function(ue){return new Promise(function(me,Te){var Fe;try{var Xe=a||g.transaction([ue]);Fe=Xe.objectStore(ue).openCursor(void 0,"prev")}catch(pt){Te(pt);return}Fe.onsuccess=function(pt){var it=pt.target.result;it&&(C=Math.max(C,D(it))),me(C)},Fe.onerror=function(){return me(C)}})},ee=function(){if(d.length===0)return Promise.resolve();var ue=d.shift();return W(ue).then(ee)};return new Promise(function(ue,me){ee().then(function(){return ue(C)})})},f}();(function(f){t(a,f);function a(l,d,g){var C=f.call(this,d,g)||this;return C.store=l,d===v.READ_ONLY&&C.resolver.resolve(),C}return a.prototype.getTable=function(l,d,g){return this.store.getTableInternal(l)},a.prototype.abort=function(){this.resolver.reject()},a.prototype.commitInternal=function(){return this.store.commit(),this.resolver.resolve(),this.resolver.promise},a})(jo);var co=function(){function f(){this.data=new Map}return f.prototype.getSync=function(a){var l=this;if(a.length===0)return Array.from(this.data.values());var d=[];return a.forEach(function(g){var C=l.data.get(g)||null;C!==null&&d.push(C)},this),d},f.prototype.getData=function(){return this.data},f.prototype.get=function(a){return Promise.resolve(this.getSync(a))},f.prototype.putSync=function(a){var l=this;a.forEach(function(d){return l.data.set(d.id(),d)})},f.prototype.put=function(a){return this.putSync(a),Promise.resolve()},f.prototype.removeSync=function(a){var l=this;a.length===0||a.length===this.data.size?this.data.clear():a.forEach(function(d){return l.data.delete(d)})},f.prototype.remove=function(a){return this.removeSync(a),Promise.resolve()},f.prototype.getMaxRowId=function(){return this.data.size===0?0:Array.from(this.data.keys()).reduce(function(a,l){return a>l?a:l},0)},f}(),Ko=function(){function f(a){this.schema=a,this.tables=new Map}return f.prototype.init=function(a){var l=this;return this.schema.tables().forEach(function(d){return l.initTable(d)},this),Promise.resolve()},f.prototype.getTableInternal=function(a){var l=this.tables.get(a)||null;if(l===null)throw new z(y.TABLE_NOT_FOUND,a);return l},f.prototype.createTx=function(a,l,d){return new Vo(this,a,d)},f.prototype.close=function(){},f.prototype.subscribe=function(a){},f.prototype.unsubscribe=function(a){},f.prototype.notify=function(a){},f.prototype.supportsImport=function(){return!0},f.prototype.peek=function(){return this.tables},f.prototype.createTable=function(a){this.tables.has(a)||this.tables.set(a,new co)},f.prototype.initTable=function(a){var l=this;this.createTable(a.getName()),a.persistentIndex()&&(a.getIndices().forEach(function(d){l.createTable(d.getNormalizedName())},this),this.createTable(a.getRowIdIndexName()))},f}(),Vo=function(f){t(a,f);function a(l,d,g){var C=f.call(this,d,g)||this;return C.store=l,d===v.READ_ONLY&&C.resolver.resolve(),C}return a.prototype.getTable=function(l,d,g){return this.store.getTableInternal(l)},a.prototype.abort=function(){this.resolver.reject()},a.prototype.commitInternal=function(){return this.resolver.resolve(),this.resolver.promise},a}(jo),In=function(f){t(a,f);function a(l){var d=f.call(this,l)||this;return d.observer=null,d}return a.prototype.subscribe=function(l){this.observer===null&&(this.observer=l)},a.prototype.unsubscribe=function(l){this.observer=null},a.prototype.notify=function(l){this.observer!==null&&this.observer(l)},a.prototype.supportsImport=function(){return!1},a}(Ko),Cl=function(){function f(a,l,d){this.tx=a,this.deserializeFn=d,this.name='"'+l+'"'}return f.prototype.get=function(a){var l=a.length===0?"":"WHERE id IN ("+a.join(",")+")",d="SELECT id, value FROM "+this.name+" "+l,g=this.deserializeFn,C=function(D){for(var W=D,ee=W.rows.length,ue=new Array(ee),me=0;me<ee;++me)ue[me]=g({id:W.rows.item(me).id,value:JSON.parse(W.rows.item(me).value)});return ue};return this.tx.queue(d,[],C)},f.prototype.put=function(a){var l=this;if(a.length===0)return Promise.resolve();var d="INSERT OR REPLACE INTO "+this.name+" (id, value) VALUES (?, ?)";return a.forEach(function(g){l.tx.queue(d,[g.id(),JSON.stringify(g.payload())])},this),Promise.resolve()},f.prototype.remove=function(a,l){var d=a.length===0?"":"WHERE id IN ("+a.join(",")+")",g="DELETE FROM "+this.name+" "+d;return this.tx.queue(g,[]),Promise.resolve()},f}(),jn=function(f){t(a,f);function a(l,d,g){var C=f.call(this,d,g)||this;return C.db=l,C.tables=new Map,C.commands=[],C}return a.escapeTableName=function(l){return l.replace(".",a.INDEX_MARK).replace("#","__s__")},a.prototype.getTable=function(l,d,g){var C=this.tables.get(l)||null;return C===null&&(C=new Cl(this,a.escapeTableName(l),d),this.tables.set(l,C)),C},a.prototype.queue=function(l,d,g){var C=new je;return this.commands.push({params:d,resolver:C,statement:l,transform:g}),C.promise},a.prototype.abort=function(){this.commands=[]},a.prototype.commitInternal=function(){var l=this,d=null,g=this.resolver.reject.bind(this.resolver),C=function(ee,ue){return l.resolver.reject(ue),!1},D=[],W=function(ee,ue){if(d!==null){var me=ue;d.transform&&ue!==null&&ue!==void 0&&(me=d.transform(ue)),D.push(me),d.resolver.resolve(me)}if(l.commands.length>0){var Te=l.commands.shift();d=Te,ee.executeSql(Te.statement,Te.params,W,C)}else l.resolver.resolve(D)};return this.txType===v.READ_ONLY?this.db.readTransaction(W,g):this.db.transaction(W,g),this.resolver.promise},a.INDEX_MARK="__d__",a}(jo),es=function(){function f(a,l,d){this.global=a,this.version=l,this.db=d}return f.queueListTables=function(a){var l='SELECT tbl_name FROM sqlite_master WHERE type="table"';a.queue(l,[],function(d){for(var g=d.rows,C=new Array(g.length),D=0;D<C.length;++D)C[D]=g.item(D).tbl_name;return C})},f.prototype.getRawDBInstance=function(){return this.db},f.prototype.getRawTransaction=function(){throw new z(y.NO_WEBSQL_TX)},f.prototype.dropTable=function(a){var l=this.createTx();return l.queue("DROP TABLE "+a,[]),l.commit()},f.prototype.addTableColumn=function(a,l,d){var g=ba.convert(d);return this.transformColumn(a,function(C){return C.value[l]=g,C})},f.prototype.dropTableColumn=function(a,l){return this.transformColumn(a,function(d){return delete d.value[l],d})},f.prototype.renameTableColumn=function(a,l,d){return this.transformColumn(a,function(g){return g.value[d]=g.value[l],delete g.value[l],g})},f.prototype.createRow=function(a){var l={};return Object.keys(a).forEach(function(d){l[d]=ba.convert(a[d])}),M.create(l)},f.prototype.getVersion=function(){return this.version},f.prototype.dump=function(){var a=this,l=new je,d=this.createTx();f.queueListTables(d);var g={};return d.commit().then(function(C){var D=C,W=D[0].filter(function(ue){return ue!=="__lf_ver"&&ue!=="__WebKitDatabaseInfoTable__"}),ee=W.map(function(ue){return a.dumpTable(ue).then(function(me){return g[ue]=me})},a);Promise.all(ee).then(function(){return l.resolve(g)})}),l.promise},f.prototype.createTx=function(){return new jn(this.db,v.READ_WRITE,new uo(this.global,new Set))},f.prototype.dumpTable=function(a){var l=this.createTx();return l.queue("SELECT id, value FROM "+a,[]),l.commit().then(function(d){for(var g=d,C=g[0].rows.length,D=new Array(C),W=0;W<C;++W)D[W]={id:g[0].rows.item(W).id,value:JSON.parse(g[0].rows.item(W).value)};return Promise.resolve(D)})},f.prototype.transformColumn=function(a,l){var d=this.createTx(),g="UPDATE "+a+" SET value=? WHERE id=?";return this.dumpTable(a).then(function(C){return C.forEach(function(D){var W=l(D);d.queue(g,[JSON.stringify(W.value),W.id])}),d.commit()})},f}(),Di=function(){function f(a,l,d){this.global=a,this.schema=l,this.size=d||1}return f.escape=function(a){return'"'+a+'"'},f.prototype.init=function(a){var l=this;if(!window.openDatabase)throw new z(y.WEBSQL_NOT_PROVIDED);var d=function(C){return Promise.resolve()},g=a||d;return new Promise(function(C,D){var W=window.openDatabase(l.schema.name(),"",l.schema.name(),l.size);if(W)l.db=W,l.checkVersion(g).then(function(){l.scanRowId().then(C,D)},function(ee){throw ee instanceof z?ee:new z(y.CANT_OPEN_WEBSQL_DB,ee.message)});else throw new z(y.CANT_OPEN_WEBSQL_DB)})},f.prototype.initialized=function(){return this.db!==void 0&&this.db!==null},f.prototype.createTx=function(a,l,d){if(this.db)return new jn(this.db,a,d);throw new z(y.CONNECTION_CLOSED)},f.prototype.close=function(){},f.prototype.getTableInternal=function(a){throw new z(y.CANT_GET_WEBSQL_TABLE)},f.prototype.subscribe=function(a){this.notSupported()},f.prototype.unsubscribe=function(a){this.notSupported()},f.prototype.notify=function(a){this.notSupported()},f.prototype.supportsImport=function(){return!0},f.prototype.getEmptyJournal=function(){return new uo(this.global,new Set)},f.prototype.checkVersion=function(a){var l=this,d="CREATE TABLE IF NOT EXISTS __lf_ver(id INTEGER PRIMARY KEY, v INTEGER)",g="SELECT v FROM __lf_ver WHERE id = 0",C=new je,D=new jn(this.db,v.READ_WRITE,this.getEmptyJournal());return D.queue(d,[]),D.queue(g,[]),D.commit().then(function(W){var ee=W,ue=0;ee[1].rows.length&&(ue=ee[1].rows.item(0).v),ue<l.schema.version()?l.onUpgrade(a,ue).then(C.resolve.bind(C)):ue>l.schema.version()?C.reject(new z(y.INCOMPATIBLE_DB)):C.resolve()},C.reject.bind(C)),C.promise},f.prototype.notSupported=function(){throw new z(y.NO_CHANGE_NOTIFICATION)},f.prototype.onUpgrade=function(a,l){var d=this;return this.preUpgrade().then(function(){var g=new es(d.global,l,d.db);return a(g)})},f.prototype.preUpgrade=function(){var a=this.schema.tables(),l=new jn(this.db,v.READ_WRITE,this.getEmptyJournal()),d=new jn(this.db,v.READ_WRITE,this.getEmptyJournal());return l.queue("INSERT OR REPLACE INTO __lf_ver VALUES (0, ?)",[this.schema.version()]),es.queueListTables(l),l.commit().then(function(g){var C=g,D=C[1];D.filter(function(ee){return ee.indexOf(jn.INDEX_MARK)!==-1}).forEach(function(ee){return d.queue("DROP TABLE "+f.escape(ee),[])});var W=[];return a.map(function(ee){if(D.indexOf(ee.getName())===-1&&W.push(ee.getName()),ee.persistentIndex()){ee.getIndices().forEach(function(me){var Te=jn.escapeTableName(me.getNormalizedName());W.push(Te)});var ue=jn.escapeTableName(ee.getRowIdIndexName());W.push(ue)}}),W.forEach(function(ee){d.queue("CREATE TABLE "+f.escape(ee)+"(id INTEGER PRIMARY KEY, value TEXT)",[])}),d.commit()})},f.prototype.scanRowId=function(){var a=this,l=0,d=new je,g=function(D){var W=new jn(a.db,v.READ_ONLY);return W.queue("SELECT MAX(id) FROM "+f.escape(D),[]),W.commit().then(function(ee){var ue=ee,me=ue[0].rows.item(0)["MAX(id)"];l=Math.max(me,l)})},C=this.schema.tables().map(function(D){return g(D.getName())});return Promise.all(C).then(function(){M.setNextIdIfGreater(l+1),d.resolve()},function(D){d.reject(D)}),d.promise},f}(),xl=function(){function f(){}return f.inspect=function(a,l,d,g){return a===null?f.listDb():l===null?f.listTables(a):f.inspectTable(a,l,d,g)},f.toString=function(a){var l="";try{l=JSON.stringify(a)}catch{}return l},f.getGlobal=function(a){var l=F.get(),d=new U("ns_"+a);return l.isRegistered(d)?l.getService(d):null},f.listDb=function(){var a=F.get(),l={};return a.listServices().forEach(function(d){if(d.substring(0,3)==="ns_"){var g=d.substring(3);l[g]=f.getGlobal(g).getService(Ue.SCHEMA).version()}}),f.toString(l)},f.listTables=function(a){var l=f.getGlobal(a),d={};if(l!=null){var g=l.getService(Ue.INDEX_STORE);l.getService(Ue.SCHEMA).tables().forEach(function(C){var D=C;d[D.getName()]=g.get(D.getRowIdIndexName()).stats().totalRows})}return f.toString(d)},f.inspectTable=function(a,l,d,g){var C=f.getGlobal(a),D=[];if(C!=null){var W=null;try{W=C.getService(Ue.SCHEMA).table(l)}catch{}if(W!=null){var ee=C.getService(Ue.INDEX_STORE),ue=C.getService(Ue.CACHE),me=ee.get(W.getRowIdIndexName()).getRange(void 0,!1,d,g);me.length&&(D=ue.getMany(me).map(function(Te){return Te.payload()}))}}return f.toString(D)},f}(),ts=function(){function f(a){var l=this;this.map=new Map,this.tableRows=new Map,a.tables().forEach(function(d){l.tableRows.set(d.getName(),new Set)},this)}return f.prototype.set=function(a,l){this.map.set(l.id(),l),this.getTableRowSet(a).add(l.id())},f.prototype.setMany=function(a,l){var d=this,g=this.getTableRowSet(a);l.forEach(function(C){d.map.set(C.id(),C),g.add(C.id())},this)},f.prototype.get=function(a){return this.map.get(a)||null},f.prototype.getMany=function(a){var l=this;return a.map(function(d){return l.get(d)})},f.prototype.getRange=function(a,l,d){var g=this,C=[],D=Math.min(l,d),W=Math.max(l,d),ee=this.getTableRowSet(a);if(ee.size<W-D)ee.forEach(function(Te){if(Te>=D&&Te<=W){var Fe=g.map.get(Te);$(Fe!=null,"Inconsistent cache 1"),C.push(Fe)}},this);else for(var ue=D;ue<=W;++ue)if(!!ee.has(ue)){var me=this.map.get(ue);$(me!=null,"Inconsistent cache 2"),C.push(me)}return C},f.prototype.remove=function(a,l){this.map.delete(l),this.getTableRowSet(a).delete(l)},f.prototype.removeMany=function(a,l){var d=this,g=this.getTableRowSet(a);l.forEach(function(C){d.map.delete(C),g.delete(C)},this)},f.prototype.getCount=function(a){return a?this.getTableRowSet(a).size:this.map.size},f.prototype.clear=function(){this.map.clear(),this.tableRows.clear()},f.prototype.getTableRowSet=function(a){var l=this.tableRows.get(a);return l},f}(),Ea=function(){function f(){}return f.hashCode=function(a){for(var l=0,d=0;d<a.length;++d)l=(l<<5)-l+a.charCodeAt(d),l=l&l;return l},f.hashArray=function(a){var l=a.map(function(d){return d!=null?f.hashCode(d.toString()).toString(32):""});return l.join("_")},f.slice=function(a,l,d,g){var C=l?a.reverse():a;if(d==null&&g==null)return C;var D=Math.min(d!==void 0?d:C.length,C.length);if(D===0)return[];var W=Math.min(g||0,C.length);return C.slice(W,W+D)},f}(),ai=function(){function f(a,l,d,g){this.name=a,this.comparatorObj=l,this.uniqueKeyOnly=d,this.root=void 0,this.statsObj=new oe,g?this.root=fo.fromData(this,g):this.clear()}return f.deserialize=function(a,l,d,g){var C=new f(l,a,d),D=fo.deserialize(g,C);return C.root=D,C},f.prototype.getName=function(){return this.name},f.prototype.toString=function(){return this.root.toString()},f.prototype.add=function(a,l){this.root=this.root.insert(a,l)},f.prototype.set=function(a,l){this.root=this.root.insert(a,l,!0)},f.prototype.remove=function(a,l){this.root=this.root.remove(a,l)},f.prototype.get=function(a){return this.root.get(a)},f.prototype.cost=function(a){if(a==null)return this.stats().totalRows;if(a instanceof T){if(a.isAll())return this.stats().totalRows;if(a.isOnly())return this.get(a.from).length}return this.getRange([a]).length},f.prototype.stats=function(){return this.statsObj},f.prototype.getRange=function(a,l,d,g){var C=this,D=this.root.getLeftMostNode().keys[0];if(D===void 0||d===0)return f.EMPTY;var W=l||!1,ee=d!=null?Math.min(d,this.stats().totalRows):this.stats().totalRows,ue=g||0,me=Math.min(Math.max(this.stats().totalRows-ue,0),ee);if(me===0)return f.EMPTY;if(a===void 0||a.length===1&&a[0]instanceof T&&a[0].isAll())return this.getAll(me,W,ee,ue);var Te=this.comparator().sortKeyRanges(a),Fe=new Array(W?this.stats().totalRows:me),Xe={count:0,limit:Fe.length,reverse:W,skip:ue},pt=this.comparator().keyDimensions()>1;return Te.forEach(function(it){for(var Tt=C.comparator().rangeToKeys(it),on=C.comparator().isLeftOpen(it)?D:Tt[0],Ut=C.root.getContainingLeaf(on),Vn=0;Ut!=null&&Xe.count<Xe.limit;)pt?Ut.getRangeWithFilter(it,Xe,Fe):Ut.getRange(it,Xe,Fe),Xe.skip===0&&!Ut.isFirstKeyInRange(it)?Vn++:Vn=0,Ut=Vn===2?null:Ut.next},this),Fe.length>Xe.count&&Fe.splice(Xe.count,Fe.length-Xe.count),W?Ea.slice(Fe,W,ee,ue):Fe},f.prototype.clear=function(){this.root=fo.create(this),this.stats().clear()},f.prototype.containsKey=function(a){return this.root.containsKey(a)},f.prototype.min=function(){return this.minMax(this.comparatorObj.min.bind(this.comparatorObj))},f.prototype.max=function(){return this.minMax(this.comparatorObj.max.bind(this.comparatorObj))},f.prototype.isUniqueKey=function(){return this.uniqueKeyOnly},f.prototype.comparator=function(){return this.comparatorObj},f.prototype.eq=function(a,l){return a!=null?this.comparator().compare(a,l)===b.TIE:!1},f.prototype.serialize=function(){return fo.serialize(this.root.getLeftMostNode())},f.prototype.getAll=function(a,l,d,g){var C=l?this.stats().totalRows-a-g:g,D=new Array(a),W={count:a,offset:C,startIndex:0};return this.root.fill(W,D),l?D.reverse():D},f.prototype.checkNullKey=function(a,l){if(!this.comparator().comparable(a.keys[l]))if(Array.isArray(a.keys[l])){if(a.keys[l][0]===null)return null}else return null;return[a.keys[l],this.uniqueKeyOnly?[a.values[l]]:a.values[l]]},f.prototype.findLeftMost=function(){var a=this.root.getLeftMostNode(),l=0;do{if(l>=a.keys.length){a=a.next,l=0;continue}var d=this.checkNullKey(a,l);if(d!==null)return d;l++}while(a!==null);return null},f.prototype.findRightMost=function(){var a=this.root.getRightMostNode(),l=a.keys.length-1;do{if(l<0){a=a.prev,l=0;continue}var d=this.checkNullKey(a,l);if(d!==null)return d;l--}while(a!==null);return null},f.prototype.minMax=function(a){var l=this.findLeftMost(),d=this.findRightMost();return l===null||d===null?null:a(l[0],d[0])===b.LHS?l:d},f.EMPTY=[],f}(),fo=function(){function f(a,l){this.id=a,this.tree=l,this.height=0,this.parent=null,this.prev=null,this.next=null,this.keys=[],this.values=[],this.children=[],this.getContainingLeaf=l.comparator().keyDimensions()===1?this.getContainingLeafSingleKey:this.getContainingLeafMultiKey}return f.create=function(a){return new f(M.getNextId(),a)},f.serialize=function(a){for(var l=[],d=a;d;){var g={k:d.keys,v:d.values};l.push(new M(d.id,g)),d=d.next}return l},f.deserialize=function(a,l){for(var d=l.stats(),g=a.map(function(D){var W=new f(D.id(),l);return W.keys=D.payload().k,W.values=D.payload().v,W.keys.forEach(function(ee,ue){d.add(ee,l.isUniqueKey()?1:W.values[ue].length)}),W}),C=0;C<g.length-1;++C)f.associate(g[C],g[C+1]);return g.length>1?f.createInternals(g[0]):g[0]},f.fromData=function(a,l){var d=f.MAX_KEY_LEN;if(d=d*d*d,l.length>=d)throw new z(y.TOO_MANY_ROWS,d.toString());var g=f.createLeaves(a,l);return g=f.createInternals(g),g},f.dumpLevel=function(a){var l=a.id+"["+a.keys.join("|")+"]",d=a.children.map(function(ee){return ee.id}).join("|"),g=a.values.join("/"),C=function(ee){return ee!=null?ee.id.toString():"_"},D=C(a.prev)+"{";if(D+=a.isLeaf()?g:d,D=D+"}"+C(a.parent),a.next){var W=f.dumpLevel(a.next);l=l+"  "+W[0],D=D+"  "+W[1]}return[l,D]},f.associate=function(a,l){l&&(l.prev=a),a&&(a.next=l)},f.calcNodeLen=function(a){var l=f.MAX_KEY_LEN,d=f.MIN_KEY_LEN+1;return a>=l+d?l:a>=d&&a<=l?a:d},f.createLeaves=function(a,l){for(var d=l.length,g=0,C=f.create(a),D=C;d>0;){var W=f.calcNodeLen(d),ee=l.slice(g,g+W);if(C.keys=ee.map(function(me){return me.key}),C.values=ee.map(function(me){return me.value}),g+=W,d-=W,d>0){var ue=f.create(C.tree);f.associate(C,ue),C=ue}}return D},f.createParent=function(a){var l=a[0],d=f.create(l.tree);return d.height=l.height+1,d.children=a,a.forEach(function(g,C){g.parent=d,C>0&&d.keys.push(g.keys[0])}),d},f.createInternals=function(a){var l=a,d=[];do d.push(l),l=l.next;while(l);var g;if(d.length<=f.MAX_KEY_LEN+1)g=f.createParent(d);else{var C=d.length,D=0;for(g=f.create(a.tree),g.height=a.height+2;C>0;){var W=f.calcNodeLen(C),ee=d.slice(D,D+W),ue=f.createParent(ee);ue.parent=g,g.children.length&&(g.keys.push(ee[0].keys[0]),f.associate(g.children[g.children.length-1],ue)),g.children.push(ue),D+=W,C-=W}}return g},f.leftMostKey=function(a){return a.isLeaf()?a.keys[0]:f.leftMostKey(a.children[0])},f.prototype.toString=function(){var a="",l=f.dumpLevel(this);return a+=l[0]+`
`+l[1]+`
`,this.children.length&&(a+=this.children[0].toString()),a},f.prototype.getLeftMostNode=function(){return this.isLeaf()?this:this.children[0].getLeftMostNode()},f.prototype.getRightMostNode=function(){return this.isLeaf()?this:this.children[this.children.length-1].getRightMostNode()},f.prototype.get=function(a){var l=this.searchKey(a);if(this.isLeaf()){var d=ai.EMPTY;return this.tree.eq(this.keys[l],a)&&(d=d.concat(this.values[l])),d}else return l=this.tree.eq(this.keys[l],a)?l+1:l,this.children[l].get(a)},f.prototype.containsKey=function(a){var l=this.searchKey(a);return this.tree.eq(this.keys[l],a)?!0:this.isLeaf()?!1:this.children[l].containsKey(a)},f.prototype.remove=function(a,l){if(this.delete(a,-1,l),this.isRoot()){var d=this;return this.children.length===1&&(d=this.children[0],d.parent=null),d}return this},f.prototype.insert=function(a,l,d){d===void 0&&(d=!1);var g=this.searchKey(a);if(this.isLeaf()){if(this.tree.eq(this.keys[g],a)){if(d)this.tree.stats().remove(a,this.tree.isUniqueKey()?1:this.values[g].length),this.values[g]=this.tree.isUniqueKey()?l:[l];else{if(this.tree.isUniqueKey())throw new z(y.DUPLICATE_KEYS,this.tree.getName(),JSON.stringify(a));if(!ht.binaryInsert(this.values[g],l))throw new z(y.ROW_ID_EXISTED)}return this.tree.stats().add(a,1),this}return this.keys.splice(g,0,a),this.values.splice(g,0,this.tree.isUniqueKey()?l:[l]),this.tree.stats().add(a,1),this.keys.length===f.MAX_COUNT?this.splitLeaf():this}else{g=this.tree.eq(this.keys[g],a)?g+1:g;var C=this.children[g].insert(a,l,d);return!C.isLeaf()&&C.keys.length===1&&(this.keys.splice(g,0,C.keys[0]),C.children[1].parent=this,C.children[0].parent=this,this.children.splice(g,1,C.children[1]),this.children.splice(g,0,C.children[0])),this.keys.length===f.MAX_COUNT?this.splitInternal():this}},f.prototype.getRange=function(a,l,d){var g=this.tree.comparator(),C=0,D=this.keys.length-1,W=function(pt){return pt[0]?pt[1]?b.TIE:b.LHS:b.RHS},ee=this.keys,ue=W(g.compareRange(ee[C],a)),me=W(g.compareRange(ee[D],a));if(!(ue===b.LHS||ue===b.RHS&&me===b.RHS)){var Te=function(pt,it){var Tt=pt+it>>1;return Tt===pt?Tt+1:Tt},Fe=function(pt,it,Tt){if(pt>=it)return Tt===b.TIE?it:-1;var on=W(g.compareRange(ee[pt],a));if(on===b.TIE)return pt;if(on===b.LHS)return-1;var Ut=Te(pt,it);if(Ut===it)return Tt===b.TIE?it:-1;var Vn=W(g.compareRange(ee[Ut],a));return Vn===b.TIE?Fe(pt,Ut,Vn):Vn===b.RHS?Fe(Ut+1,it,Tt):Fe(pt+1,Ut,Vn)},Xe=function(pt,it){if(pt>=it)return pt;var Tt=W(g.compareRange(ee[it],a));if(Tt===b.TIE)return it;if(Tt===b.RHS)return pt;var on=Te(pt,it);if(on===it)return pt;var Ut=W(g.compareRange(ee[on],a));return Ut===b.TIE?Xe(on,it):Ut===b.LHS?Xe(pt,on-1):-1};ue!==b.TIE&&(C=Fe(C+1,D,me)),C!==-1&&(D=Xe(C,D),D!==-1&&D>=C&&this.appendResults(l,d,C,D+1))}},f.prototype.getRangeWithFilter=function(a,l,d){for(var g=this.tree.comparator(),C=-1,D=0;D<this.keys.length;++D)if(g.isInRange(this.keys[D],a)){C=D;break}if(C!==-1)for(var D=C;D<this.keys.length&&l.count<l.limit;++D)!g.isInRange(this.keys[D],a)||this.appendResultsAt(l,d,D)},f.prototype.fill=function(a,l){if(this.isLeaf())for(var d=0;d<this.values.length&&a.count>0;++d){var g=this.values[d];if(a.offset>0){if(a.offset-=this.tree.isUniqueKey()?1:g.length,a.offset<0)for(var C=g.length+a.offset;C<g.length&&a.count>0;++C)l[a.startIndex++]=g[C],a.count--;continue}if(this.tree.isUniqueKey())l[a.startIndex++]=this.values[d],a.count--;else for(var C=0;C<g.length&&a.count>0;++C)l[a.startIndex++]=g[C],a.count--}else for(var d=0;d<this.children.length&&a.count>0;++d)this.children[d].fill(a,l)},f.prototype.isFirstKeyInRange=function(a){return this.tree.comparator().isFirstKeyInRange(this.keys[0],a)},f.prototype.isLeaf=function(){return this.height===0},f.prototype.isRoot=function(){return this.parent===null},f.prototype.fix=function(){this.keys=[];for(var a=1;a<this.children.length;++a)this.keys.push(f.leftMostKey(this.children[a]))},f.prototype.delete=function(a,l,d){var g=this.searchKey(a),C=this.isLeaf();if(C){if(!this.tree.eq(this.keys[g],a))return!1}else{var D=this.tree.eq(this.keys[g],a)?g+1:g;if(this.children[D].delete(a,D,d))this.fix();else return!1}if(this.keys.length>g&&this.tree.eq(this.keys[g],a)){if(d!==void 0&&!this.tree.isUniqueKey()&&C){ht.binaryRemove(this.values[g],d)&&this.tree.stats().remove(a,1);var W=this.values[g].length;if(W)return!1}if(this.keys.splice(g,1),C){var ee=this.tree.isUniqueKey()?1:this.values[g].length;this.values.splice(g,1),this.tree.stats().remove(a,ee)}}return this.keys.length<f.MIN_KEY_LEN&&!this.isRoot()&&(this.steal()||this.merge(l)),!0},f.prototype.steal=function(){var a=null,l,d,g;if(this.next&&this.next.keys.length>f.MIN_KEY_LEN)a=this.next,l=0,d=0,g=this.keys.length+1;else if(this.prev&&this.prev.keys.length>f.MIN_KEY_LEN)a=this.prev,l=this.prev.keys.length-1,d=this.isLeaf()?l:l+1,g=0;else return!1;this.keys.splice(g,0,a.keys[l]),a.keys.splice(l,1);var C=this.isLeaf()?this.values:this.children,D=null;return this.isLeaf()?D=a.values:(D=a.children,D[d].parent=this),C.splice(g,0,D[d]),D.splice(d,1),a.isLeaf()||(a.fix(),this.fix()),!0},f.prototype.merge=function(a){var l,d,g,C,D,W;if(this.next&&this.next.keys.length<f.MAX_KEY_LEN)C=this.next,D=0,W=0;else if(this.prev)C=this.prev,D=C.keys.length,W=C.isLeaf()?C.values.length:C.children.length;else throw new z(y.ASSERTION);(l=C.keys).splice.apply(l,r([D,0],this.keys));var ee=null;this.isLeaf()?ee=this.values:(ee=this.children,ee.forEach(function(ue){return ue.parent=C})),C.isLeaf()?(d=C.values).splice.apply(d,r([W,0],ee)):(g=C.children).splice.apply(g,r([W,0],ee)),f.associate(this.prev,this.next),C.isLeaf()||C.fix(),a!==-1&&(this.parent.keys.splice(a,1),this.parent.children.splice(a,1))},f.prototype.splitLeaf=function(){var a=f.MIN_KEY_LEN,l=f.create(this.tree),d=f.create(this.tree);return d.height=1,d.keys=[this.keys[a]],d.children=[this,l],d.parent=this.parent,this.parent=d,l.keys=this.keys.splice(a),l.values=this.values.splice(a),l.parent=d,f.associate(l,this.next),f.associate(this,l),d},f.prototype.splitInternal=function(){var a=f.MIN_KEY_LEN,l=f.create(this.tree),d=f.create(this.tree);return l.parent=this.parent,l.height=this.height+1,l.keys=[this.keys[a]],l.children=[this,d],this.keys.splice(a,1),d.parent=l,d.height=this.height,d.keys=this.keys.splice(a),d.children=this.children.splice(a+1),d.children.forEach(function(g){return g.parent=d}),this.parent=l,f.associate(d,this.next),f.associate(this,d),l},f.prototype.searchKey=function(a){for(var l=0,d=this.keys.length,g=this.tree.comparator();l<d;){var C=l+d>>1;g.compare(this.keys[C],a)===b.RHS?l=C+1:d=C}return l},f.prototype.getContainingLeafSingleKey=function(a){if(!this.isLeaf()){var l=this.searchKey(a);return this.tree.eq(this.keys[l],a)&&l++,this.children[l].getContainingLeaf(a)}return this},f.prototype.getContainingLeafMultiKey=function(a){if(!this.isLeaf()){var l=this.searchKey(a);if(this.tree.eq(this.keys[l],a)){var d=a.some(function(g){return g===T.UNBOUND_VALUE});d||l++}return this.children[l].getContainingLeafMultiKey(a)}return this},f.prototype.appendResultsAt=function(a,l,d){if(this.tree.isUniqueKey()){if(!a.reverse&&a.skip){a.skip--;return}l[a.count++]=this.values[d]}else for(var g=this.values[d],C=0;C<g.length&&a.count<l.length;++C){if(!a.reverse&&a.skip){a.skip--;continue}l[a.count++]=g[C]}},f.prototype.appendResults=function(a,l,d,g){for(var C=d;C<g;++C){if(!a.reverse&&a.count>=a.limit)return;this.appendResultsAt(a,l,C)}},f.MAX_COUNT=512,f.MAX_KEY_LEN=f.MAX_COUNT-1,f.MIN_KEY_LEN=f.MAX_COUNT>>1,f}(),Ur=function(){function f(a){this.compareFn=a===u.DESC?f.compareDescending:f.compareAscending,this.normalizeKeyRange=a===u.DESC?function(l){return l!=null?l.reverse():null}:function(l){return l||null},this.orderRange=a===u.DESC?f.orderRangeDescending:f.orderRangeAscending}return f.compareAscending=function(a,l){return a>l?b.LHS:a<l?b.RHS:b.TIE},f.compareDescending=function(a,l){return f.compareAscending(l,a)},f.orderRangeAscending=function(a,l){return T.compare(a,l)},f.orderRangeDescending=function(a,l){return T.compare(l,a)},f.prototype.compareRange=function(a,l){var d=0,g=1,C=this.normalizeKeyRange(l),D=[T.isUnbound(C.from),T.isUnbound(C.to)];if(!D[d]){var W=this.compareFn(a,C.from);D[d]=C.excludeLower?W===b.LHS:W!==b.RHS}if(!D[g]){var W=this.compareFn(a,C.to);D[g]=C.excludeUpper?W===b.RHS:W!==b.LHS}return D},f.prototype.compare=function(a,l){return this.compareFn(a,l)},f.prototype.min=function(a,l){return a<l?b.LHS:a===l?b.TIE:b.RHS},f.prototype.max=function(a,l){return a>l?b.LHS:a===l?b.TIE:b.RHS},f.prototype.isInRange=function(a,l){var d=this.compareRange(a,l);return d[0]&&d[1]},f.prototype.isFirstKeyInRange=function(a,l){return this.isInRange(a,l)},f.prototype.getAllRange=function(){return T.all()},f.prototype.orderKeyRange=function(a,l){return this.orderRange(a,l)},f.prototype.sortKeyRanges=function(a){var l=this;return a.filter(function(d){return d!==null}).sort(function(d,g){return l.orderKeyRange(d,g)})},f.prototype.isLeftOpen=function(a){return T.isUnbound(this.normalizeKeyRange(a).from)},f.prototype.rangeToKeys=function(a){var l=this.normalizeKeyRange(a);return[l.from,l.to]},f.prototype.comparable=function(a){return a!==null},f.prototype.keyDimensions=function(){return 1},f.prototype.toString=function(){return this.compare===f.compareDescending?"SimpleComparator_DESC":"SimpleComparator_ASC"},f}(),ns=function(){function f(a){this.comparators=a.map(function(l){return new Ur(l)})}return f.createOrders=function(a,l){for(var d=new Array(a),g=0;g<a;++g)d[g]=l;return d},f.prototype.compare=function(a,l){var d=a,g=l;return this.forEach(d,g,function(C,D,W){return D===T.UNBOUND_VALUE||W===T.UNBOUND_VALUE?b.TIE:C.compare(D,W)})},f.prototype.min=function(a,l){var d=a,g=l;return this.forEach(d,g,function(C,D,W){return C.min(D,W)})},f.prototype.max=function(a,l){var d=a,g=l;return this.forEach(d,g,function(C,D,W){return C.max(D,W)})},f.prototype.compareRange=function(a,l){for(var d=a,g=[!0,!0],C=0;C<this.comparators.length&&(g[0]||g[1]);++C){var D=this.comparators[C].compareRange(d[C],l[C]);g[0]=g[0]&&D[0],g[1]=g[1]&&D[1]}return g},f.prototype.isInRange=function(a,l){for(var d=a,g=!0,C=0;C<this.comparators.length&&g;++C)g=this.comparators[C].isInRange(d[C],l[C]);return g},f.prototype.isFirstKeyInRange=function(a,l){var d=a;return this.comparators[0].isInRange(d[0],l[0])},f.prototype.getAllRange=function(){return this.comparators.map(function(a){return a.getAllRange()})},f.prototype.sortKeyRanges=function(a){for(var l=this,d=a.filter(function(ue){return ue.every(function(me){return me!=null})}),g=new Array(this.comparators.length),C=function(ue){g[ue]=d.map(function(me){return me[ue]})},D=0;D<g.length;D++)C(D);g.forEach(function(ue,me){ue.sort(function(Te,Fe){return l.comparators[me].orderKeyRange(Te,Fe)})},this);for(var W=new Array(d.length),ee=function(ue){W[ue]=g.map(function(me){return me[ue]})},D=0;D<W.length;D++)ee(D);return W.sort(function(ue,me){for(var Te=b.TIE,Fe=0;Fe<l.comparators.length&&Te===b.TIE;++Fe)Te=l.comparators[Fe].orderKeyRange(ue[Fe],me[Fe]);return Te})},f.prototype.isLeftOpen=function(a){return this.comparators[0].isLeftOpen(a[0])},f.prototype.rangeToKeys=function(a){var l=this,d=a.map(function(C,D){return l.comparators[D].rangeToKeys(C)[0]}),g=a.map(function(C,D){return l.comparators[D].rangeToKeys(C)[1]});return[d,g]},f.prototype.comparable=function(a){var l=this;return a.every(function(d,g){return l.comparators[g].comparable(d)})},f.prototype.keyDimensions=function(){return this.comparators.length},f.prototype.forEach=function(a,l,d){for(var g=b.TIE,C=0;C<this.comparators.length&&g===b.TIE;++C)g=d(this.comparators[C],a[C],l[C]);return g},f}(),Nl=function(f){t(a,f);function a(l){var d=f.call(this,l)||this;return d.compareFn=l===u.DESC?a.compareDescending:a.compareAscending,d}return a.compareAscending=function(l,d){return l===null?d===null?b.TIE:b.RHS:d===null?b.LHS:Ur.compareAscending(l,d)},a.compareDescending=function(l,d){return a.compareAscending(d,l)},a.prototype.isInRange=function(l,d){return l===null?d.isAll():f.prototype.isInRange.call(this,l,d)},a.prototype.min=function(l,d){var g=this.minMax(l,d);return g===null?f.prototype.min.call(this,l,d):g},a.prototype.max=function(l,d){var g=this.minMax(l,d);return g===null?f.prototype.max.call(this,l,d):g},a.prototype.minMax=function(l,d){return l===null?d===null?b.TIE:b.RHS:d===null?b.LHS:null},a}(Ur),rs=function(f){t(a,f);function a(l){var d=f.call(this,l)||this;return d.comparators=l.map(function(g){return new Nl(g)}),d}return a}(ns),is=function(){function f(){}return f.create=function(a){if(a.columns.length===1)return new Ur(a.columns[0].order);var l=a.columns.map(function(g){return g.order}),d=a.columns.some(function(g){return g.schema.isNullable()});return d?new rs(l):new ns(l)},f}(),Ca=function(){function f(a){this.index=a,this.nulls=new Set,this.statsNull=new oe,this.statsObj=new oe}return f.deserialize=function(a,l){for(var d=-1,g=0;g<l.length;++g)if(l[g].id()===f.NULL_ROW_ID){d=g;break}if(d===-1)throw new z(y.DATA_CORRUPTION);var C=l[d].payload().v,D=l.slice(0);D.splice(d,1);var W=a(D),ee=new f(W);return C.forEach(function(ue){return ee.nulls.add(ue)}),ee},f.prototype.getName=function(){return this.index.getName()},f.prototype.add=function(a,l){a===null?(this.nulls.add(l),this.statsNull.add(a,1)):this.index.add(a,l)},f.prototype.set=function(a,l){a===null?(this.nulls.clear(),this.statsNull.clear(),this.add(a,l)):this.index.set(a,l)},f.prototype.remove=function(a,l){a===null?l?(this.nulls.delete(l),this.statsNull.remove(a,1)):(this.nulls.clear(),this.statsNull.clear()):this.index.remove(a,l)},f.prototype.get=function(a){return a===null?Array.from(this.nulls.values()):this.index.get(a)},f.prototype.min=function(){return this.index.min()},f.prototype.max=function(){return this.index.max()},f.prototype.cost=function(a){return this.index.cost(a)},f.prototype.getRange=function(a,l,d,g){var C=this.index.getRange(a,l,d,g);return a!=null?C:C.concat(Array.from(this.nulls.values()))},f.prototype.clear=function(){this.nulls.clear(),this.index.clear()},f.prototype.containsKey=function(a){return a===null?this.nulls.size!==0:this.index.containsKey(a)},f.prototype.serialize=function(){var a=[new M(f.NULL_ROW_ID,{v:Array.from(this.nulls.values())})];return a.concat(this.index.serialize())},f.prototype.comparator=function(){return this.index.comparator()},f.prototype.isUniqueKey=function(){return this.index.isUniqueKey()},f.prototype.stats=function(){return this.statsObj.updateFromList([this.index.stats(),this.statsNull]),this.statsObj},f.NULL_ROW_ID=-2,f}(),xa=function(){function f(a){this.name=a,this.rows=new Set,this.comparatorObj=new Ur(u.ASC)}return f.deserialize=function(a,l){var d=new f(a),g=l[0].payload().v;return g.forEach(function(C){return d.add(C,C)}),d},f.prototype.getName=function(){return this.name},f.prototype.add=function(a,l){if(typeof a!="number")throw new z(y.INVALID_ROW_ID);this.rows.add(a)},f.prototype.set=function(a,l){this.add(a,l)},f.prototype.remove=function(a,l){this.rows.delete(a)},f.prototype.get=function(a){return this.containsKey(a)?[a]:f.EMPTY_ARRAY},f.prototype.min=function(){return this.minMax(this.comparatorObj.min.bind(this.comparatorObj))},f.prototype.max=function(){return this.minMax(this.comparatorObj.max.bind(this.comparatorObj))},f.prototype.cost=function(a){return this.rows.size},f.prototype.getRange=function(a,l,d,g){var C=this,D=a||[T.all()],W=Array.from(this.rows.values()).filter(function(ee){return D.some(function(ue){return C.comparatorObj.isInRange(ee,ue)})},this);return Ea.slice(W,l,d,g)},f.prototype.clear=function(){this.rows.clear()},f.prototype.containsKey=function(a){return this.rows.has(a)},f.prototype.serialize=function(){return[new M(f.ROW_ID,{v:Array.from(this.rows.values())})]},f.prototype.comparator=function(){return this.comparatorObj},f.prototype.isUniqueKey=function(){return!0},f.prototype.stats=function(){var a=new oe;return a.totalRows=this.rows.size,a},f.prototype.minMax=function(a){if(this.rows.size===0)return null;var l=Array.from(this.rows.values()).reduce(function(d,g){return d===null||a(g,d)===b.LHS?g:d});return[l,[l]]},f.ROW_ID=0,f.EMPTY_ARRAY=[],f}(),os=function(){function f(a){this.backStore=a.getService(Ue.BACK_STORE),this.indexStore=a.getService(Ue.INDEX_STORE),this.cache=a.getService(Ue.CACHE)}return f.prototype.init=function(a){var l=this,d=a.tables(),g=function(){if(d.length===0)return Promise.resolve();var C=d.shift(),D=C.persistentIndex()?l.fetchTableWithPersistentIndices(C):l.fetchTable(C);return D.then(g)};return g()},f.prototype.fetchTable=function(a){var l=this,d=this.backStore.createTx(v.READ_ONLY,[a]),g=d.getTable(a.getName(),a.deserializeRow.bind(a),I.DATA),C=g.get([]).then(function(D){l.cache.setMany(a.getName(),D),l.reconstructNonPersistentIndices(a,D)});return d.commit(),C},f.prototype.reconstructNonPersistentIndices=function(a,l){var d=this.indexStore.getTableIndices(a.getName());l.forEach(function(g){d.forEach(function(C){var D=g.keyOfIndex(C.getName());C.add(D,g.id())})})},f.prototype.fetchTableWithPersistentIndices=function(a){var l=this,d=this.backStore.createTx(v.READ_ONLY,[a]),g=d.getTable(a.getName(),a.deserializeRow,I.DATA),C=g.get([]).then(function(W){l.cache.setMany(a.getName(),W)}),D=a.getIndices().map(function(W){return l.reconstructPersistentIndex(W,d)}).concat(this.reconstructPersistentRowIdIndex(a,d));return d.commit(),Promise.all(D.concat(C)).then(function(){})},f.prototype.reconstructPersistentIndex=function(a,l){var d=this,g=l.getTable(a.getNormalizedName(),M.deserialize,I.INDEX),C=is.create(a);return g.get([]).then(function(D){if(D.length>0)if(a.hasNullableColumn()){var W=ai.deserialize.bind(void 0,C,a.getNormalizedName(),a.isUnique),ee=Ca.deserialize(W,D);d.indexStore.set(a.tableName,ee)}else{var ue=ai.deserialize(C,a.getNormalizedName(),a.isUnique,D);d.indexStore.set(a.tableName,ue)}})},f.prototype.reconstructPersistentRowIdIndex=function(a,l){var d=this,g=l.getTable(a.getRowIdIndexName(),M.deserialize,I.INDEX);return g.get([]).then(function(C){if(C.length>0){var D=xa.deserialize(a.getRowIdIndexName(),C);d.indexStore.set(a.getName(),D)}})},f}(),ho=function(){function f(){this._alias=null}return f.prototype.getName=function(){return"#UnknownTable"},f.prototype.getColumns=function(){return[]},f.prototype.getIndices=function(){return[]},f.prototype.persistentIndex=function(){return!1},f.prototype.getAlias=function(){return this._alias},f.prototype.getEffectiveName=function(){return this._alias||this.getName()},f.prototype.getRowIdIndexName=function(){return"#UnknownTable.#"},f.prototype.createRow=function(a){throw new z(y.NOT_SUPPORTED)},f.prototype.deserializeRow=function(a){throw new z(y.NOT_SUPPORTED)},f.prototype.getConstraint=function(){return null},f.prototype.as=function(a){return this._alias=a,this},f.prototype.col=function(a){return null},f}(),qo=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.alias=l||null,d.table=new ho,d}return a.prototype.getName=function(){return"*"},a.prototype.getNormalizedName=function(){return this.getName()},a.prototype.toString=function(){return this.getNormalizedName()},a.prototype.getTable=function(){return this.table},a.prototype.getType=function(){return h.NUMBER},a.prototype.getAlias=function(){return this.alias},a.prototype.getIndices=function(){return[]},a.prototype.getIndex=function(){return null},a.prototype.isNullable=function(){return!1},a.prototype.isUnique=function(){return!1},a.prototype.as=function(l){var d=new a(l);return d.table=this.table,d},a}(cn),si=function(){function f(){}return f.avg=function(a){return new ut(a,S.AVG)},f.count=function(a){var l=a||new qo;return new ut(l,S.COUNT)},f.distinct=function(a){return new ut(a,S.DISTINCT)},f.max=function(a){return new ut(a,S.MAX)},f.min=function(a){return new ut(a,S.MIN)},f.stddev=function(a){return new ut(a,S.STDDEV)},f.sum=function(a){return new ut(a,S.SUM)},f.geomean=function(a){return new ut(a,S.GEOMEAN)},f}();e.fn=si;var Ho=function(){function f(){this.store=new Map,this.tableIndices=new Map}return f.prototype.init=function(a){var l=this,d=a.tables();return d.forEach(function(g){var C=[];l.tableIndices.set(g.getName(),C);var D=g.getRowIdIndexName(),W=l.get(D);if(W===null){var ee=new xa(D);C.push(ee),l.store.set(D,ee)}g.getIndices().forEach(function(ue){var me=l.createIndex(ue);C.push(me),l.store.set(ue.getNormalizedName(),me)},l)},this),Promise.resolve()},f.prototype.get=function(a){return this.store.get(a)||null},f.prototype.set=function(a,l){var d=this.tableIndices.get(a)||null;d===null&&(d=[],this.tableIndices.set(a,d));for(var g=-1,C=0;C<d.length;C++)if(d[C].getName()===l.getName()){g=C;break}g>=0&&d.length>0?d.splice(g,1,l):d.push(l),this.store.set(l.getName(),l)},f.prototype.getTableIndices=function(a){return this.tableIndices.get(a)||[]},f.prototype.createIndex=function(a){var l=is.create(a),d=new ai(a.getNormalizedName(),l,a.isUnique);return a.hasNullableColumn()&&a.columns.length===1?new Ca(d):d},f}();function pr(f,a,l){if(a===null)return new He(f,a,l);var d=a;return d.getIndex&&d.getIndices?new hn(f,d,l):new He(f,a,l)}var xr=function(){function f(){}return f}(),Ln=function(f){t(a,f);function a(){return f.call(this)||this}return a}(ye),Nr=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.predicate=l,d}return a.prototype.toString=function(){return"select("+this.predicate.toString()+")"},a}(Ln),li=function(f){t(a,f);function a(){return f.call(this)||this}return a.prototype.rewrite=function(l,d){return this.rootNode=l,this.traverse(this.rootNode),this.rootNode},a.prototype.traverse=function(l){var d=this;if(l instanceof Nr){$(l.getChildCount()===1,"SelectNode must have exactly one child.");var g=this.breakAndPredicate(l.predicate),C=this.createSelectNodeChain(g);tt.replaceNodeWithChain(l,C[0],C[1]),l===this.rootNode&&(this.rootNode=C[0]),l=C[0]}l.getChildren().forEach(function(D){return d.traverse(D)})},a.prototype.breakAndPredicate=function(l){var d=this;if(l.getChildCount()===0)return[l];var g=l;if(g.operator!==N.AND)return[l];var C=g.getChildren().slice().map(function(D){return g.removeChild(D),d.breakAndPredicate(D)});return ht.flatten(C)},a.prototype.createSelectNodeChain=function(l){var d=null,g=null;return l.map(function(C,D){var W=new Nr(C);D===0?d=W:g.addChild(W),g=W},this),[d,g]},a}(xr),po=function(f){t(a,f);function a(){return f.call(this)||this}return a.prototype.toString=function(){return"cross_product"},a}(Ln),Bu=function(f){t(a,f);function a(){return f.call(this)||this}return a.prototype.rewrite=function(l,d){return d.from.length<3?l:(this.rootNode=l,this.traverse(this.rootNode),this.rootNode)},a.prototype.traverse=function(l){var d=this;if(l instanceof po)for(;l.getChildCount()>2;){for(var g=new po,C=0;C<2;C++){var D=l.removeChildAt(0);g.addChild(D)}l.addChildAt(g,0)}l.getChildren().forEach(function(W){return d.traverse(W)})},a}(xr),Li=function(){function f(a){this.query=a,this.rootNode=null}return f.prototype.generate=function(){return this.rootNode===null&&(this.rootNode=this.generateInternal()),this.rootNode},f}(),Go=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.table=l,d}return a.prototype.toString=function(){return"delete("+this.table.getName()+")"},a}(Ln),mo=function(){function f(a,l,d){this.rootNode=a,this.queryContext=l,this.rewritePasses=d}return f.prototype.generate=function(){var a=this;return this.rewritePasses.forEach(function(l){a.rootNode=l.rewrite(a.rootNode,a.queryContext)},this),this.rootNode},f}(),Yo=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.table=l,d}return a.prototype.toString=function(){var l=this.table,d=l.getAlias()?" as "+l.getAlias():"";return"table_access("+this.table.getName()+d+")"},a}(Ln),Fu=function(f){t(a,f);function a(l,d){var g=f.call(this,l)||this;return g.rewritePasses=d,g}return a.prototype.generateInternal=function(){var l=new Go(this.query.from),d=this.query.where?new Nr(this.query.where.copy()):null,g=new Yo(this.query.from);d===null?l.addChild(g):(d.addChild(g),l.addChild(d));var C=new mo(l,this.query,this.rewritePasses);return C.generate()},a}(Li),Il=function(f){t(a,f);function a(l,d){var g=f.call(this)||this;return g.predicate=l,g.isOuterJoin=d,g}return a.prototype.toString=function(){return"join(type: "+(this.isOuterJoin?"outer":"inner")+", "+(this.predicate.toString()+")")},a}(Ln),Uu=function(f){t(a,f);function a(){return f.call(this)||this}return a.prototype.rewrite=function(l,d){var g=d;return g.from.length<2?l:(this.rootNode=l,this.traverse(this.rootNode,g),this.rootNode)},a.prototype.traverse=function(l,d){var g=this;if(l instanceof Nr&&l.predicate instanceof hn){$(l.getChildCount()===1,"SelectNode must have exactly one child.");var C=l.predicate.getId(),D=l.getChildAt(0);if(D instanceof po){var W=d.outerJoinPredicates&&d.outerJoinPredicates.has(C),ee=new Il(l.predicate,W);tt.replaceChainWithNode(l,D,ee),l===this.rootNode&&(this.rootNode=ee),l=ee}}l.getChildren().forEach(function(ue){return g.traverse(ue,d)})},a}(xr),as=function(f){t(a,f);function a(l,d){var g=f.call(this)||this;return g.table=l,g.values=d,g}return a.prototype.toString=function(){return"insert("+this.table.getName()+", R"+this.values.length+")"},a}(Ln),Mi=function(f){t(a,f);function a(l,d){var g=f.call(this)||this;return g.table=l,g.values=d,g}return a.prototype.toString=function(){return"insertOrReplace("+this.table.getName()+", R"+this.values.length+")"},a}(Ln),$u=function(f){t(a,f);function a(l){return f.call(this,l)||this}return a.prototype.generateInternal=function(){return this.query.allowReplace?new Mi(this.query.into,this.query.values):new as(this.query.into,this.query.values)},a}(Li),Wu=function(){function f(a,l){this.rootNode=a,this.scope=l}return f.prototype.getRoot=function(){return this.rootNode},f.prototype.getScope=function(){return this.scope},f}(),Kf=function(f){t(a,f);function a(){var l=f.call(this)||this;return l.alreadyPushedDown=new Set,l}return a.prototype.rewrite=function(l,d){var g=d;return g.where===void 0||g.where===null?l:(this.clear(),this.rootNode=l,this.traverse(this.rootNode,g),this.clear(),this.rootNode)},a.prototype.clear=function(){this.alreadyPushedDown.clear()},a.prototype.traverse=function(l,d){var g=this,C=function(W){W.getChildren().forEach(D)},D=function(W){if(!g.alreadyPushedDown.has(W)){if(!g.isCandidateNode(W)){C(W);return}var ee=W,ue=ee.predicate.getTables(),me=function(Fe){return g.doesReferToTables(Fe,ue)},Te=g.pushDownNodeRec(d,ee,me);g.alreadyPushedDown.add(ee),Te!==ee&&(Te.getParent()===null&&(g.rootNode=Te),D(Te)),C(ee)}};D(l)},a.prototype.pushDownNodeRec=function(l,d,g){var C=this,D=d;if(this.shouldSwapWithChild(l,d))D=tt.swapNodeWithChild(d),this.pushDownNodeRec(l,d,g);else if(this.shouldPushBelowChild(d)){var W=[],ee=function(ue){var me=new Nr(ue.predicate);return W.push(me),me};D=tt.pushNodeBelowChild(d,g,ee),W.forEach(function(ue){return C.pushDownNodeRec(l,ue,g)})}return D},a.prototype.doesReferToTables=function(l,d){var g=new Set;return tt.getLeafNodes(l).forEach(function(C){return g.add(C.table)}),l instanceof Yo&&g.add(l.table),q(g,d)},a.prototype.isCandidateNode=function(l){return l instanceof Nr},a.prototype.shouldPushBelowChild=function(l){var d=l.getChildAt(0);return d instanceof po||d instanceof Il},a.prototype.shouldSwapWithChild=function(l,d){var g=d.getChildAt(0);if(!(g instanceof Nr))return!1;if(l.outerJoinPredicates===void 0||l.outerJoinPredicates===null)return!0;var C=d.predicate instanceof hn,D=l.outerJoinPredicates.has(g.predicate.getId());return C||!D},a}(xr),ju=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.columns=l,d}return a.prototype.toString=function(){return"aggregation("+this.columns.toString()+")"},a}(Ln),Ol=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.columns=l,d}return a.prototype.toString=function(){return"group_by("+this.columns.toString()+")"},a}(Ln),Tl=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.limit=l,d}return a.prototype.toString=function(){return"limit("+this.limit+")"},a}(Ln),Ku=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.orderBy=l,d}return a.prototype.toString=function(){return"order_by("+pn.orderByToString(this.orderBy)+")"},a}(Ln),_l=function(f){t(a,f);function a(l,d){var g=f.call(this)||this;return g.columns=l,g.groupByColumns=d,g}return a.prototype.toString=function(){var l=this.groupByColumns?this.groupByColumns.map(function(g){return g.getNormalizedName()}).join(", "):"",d=l.length?", groupBy("+l+")":"";return"project("+this.columns.toString()+d+")"},a}(Ln),Al=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.skip=l,d}return a.prototype.toString=function(){return"skip("+this.skip+")"},a}(Ln),Rl=function(f){t(a,f);function a(l,d){var g=f.call(this,l)||this;return g.rewritePasses=d,g.tableAccessNodes=null,g.crossProductNode=null,g.selectNode=null,g.groupByNode=null,g.aggregationNode=null,g.orderByNode=null,g.skipNode=null,g.limitNode=null,g.projectNode=null,g}return a.prototype.generateInternal=function(){this.generateNodes();var l=this.connectNodes(),d=new mo(l,this.query,this.rewritePasses);return d.generate()},a.prototype.generateNodes=function(){this.generateTableAccessNodes(),this.generateCrossProductNode(),this.generateSelectNode(),this.generateOrderByNode(),this.generateSkipNode(),this.generateLimitNode(),this.generateGroupByNode(),this.generateAggregationNode(),this.generateProjectNode()},a.prototype.connectNodes=function(){for(var l=[this.limitNode,this.skipNode,this.projectNode,this.orderByNode,this.aggregationNode,this.groupByNode,this.selectNode,this.crossProductNode],d=-1,g=null,C=0;C<l.length;C++){var D=l[C];D!==null&&(g===null?g=D:l[d].addChild(D),d=C)}return this.tableAccessNodes.forEach(function(W){l[d].addChild(W)}),g},a.prototype.generateTableAccessNodes=function(){this.tableAccessNodes=this.query.from.map(function(l){return new Yo(l)})},a.prototype.generateCrossProductNode=function(){this.query.from.length>=2&&(this.crossProductNode=new po)},a.prototype.generateSelectNode=function(){this.query.where&&(this.selectNode=new Nr(this.query.where.copy()))},a.prototype.generateOrderByNode=function(){this.query.orderBy&&(this.orderByNode=new Ku(this.query.orderBy))},a.prototype.generateSkipNode=function(){(this.query.skip&&this.query.skip>0||this.query.skipBinder)&&(this.skipNode=new Al(this.query.skip))},a.prototype.generateLimitNode=function(){this.query.limit!==void 0&&this.query.limit!==null&&(this.limitNode=new Tl(this.query.limit))},a.prototype.generateGroupByNode=function(){this.query.groupBy&&(this.groupByNode=new Ol(this.query.groupBy))},a.prototype.generateAggregationNode=function(){var l=this.query.columns.filter(function(d){return d instanceof ut});this.query.orderBy&&this.query.orderBy.forEach(function(d){d.column instanceof ut&&l.push(d.column)}),l.length>0&&(this.aggregationNode=new ju(l))},a.prototype.generateProjectNode=function(){this.projectNode=new _l(this.query.columns||[],this.query.groupBy||null)},a}(Li),Pl=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.table=l,d}return a.prototype.toString=function(){return"update("+this.table.getName()+")"},a}(Ln),Vu=function(f){t(a,f);function a(l){return f.call(this,l)||this}return a.prototype.generateInternal=function(){var l=new Pl(this.query.table),d=this.query.where!==null?new Nr(this.query.where.copy()):null,g=new Yo(this.query.table);return d===null?l.addChild(g):(d.addChild(g),l.addChild(d)),l},a}(Li),Vf=function(){function f(){this.selectOptimizationPasses=[new li,new Bu,new Kf,new Uu],this.deleteOptimizationPasses=[new li]}return f.prototype.create=function(a){var l=null;if(a instanceof xt)l=new $u(a);else if(a instanceof St)l=new Fu(a,this.deleteOptimizationPasses);else if(a instanceof pn)l=new Rl(a,this.selectOptimizationPasses);else if(a instanceof Ft)l=new Vu(a);else throw new z(y.UNKNOWN_QUERY_CONTEXT);var d=l.generate();return new Wu(d,a.getScope())},f}(),ss=function(){function f(a,l){this.relation=a,this.columns=l}return f.prototype.calculate=function(){var a=this;this.columns.forEach(function(l){for(var d=l.getColumnChain().reverse(),g=1;g<d.length;g++){var C=d[g],D=C.getColumnChain().slice(-1)[0],W=a.getInputRelationFor(C);if(W.hasAggregationResult(C))return;var ee=a.evalAggregation(C.aggregatorType,W,D);a.relation.setAggregationResult(C,ee)}},this)},f.prototype.getInputRelationFor=function(a){return a.child instanceof ut?this.relation.getAggregationResult(a.child):this.relation},f.prototype.evalAggregation=function(a,l,d){var g=null;switch(a){case S.MIN:g=this.reduce(l,d,function(D,W){var ee=D,ue=W;return ue<ee?ue:ee});break;case S.MAX:g=this.reduce(l,d,function(D,W){var ee=D,ue=W;return ue>ee?ue:ee});break;case S.DISTINCT:g=this.distinct(l,d);break;case S.COUNT:g=this.count(l,d);break;case S.SUM:g=this.sum(l,d);break;case S.AVG:{var C=this.count(l,d);C>0&&(g=this.sum(l,d)/C);break}case S.GEOMEAN:g=this.geomean(l,d);break;default:g=this.stddev(l,d);break}return g},f.prototype.reduce=function(a,l,d){return a.entries.reduce(function(g,C){var D=C.getField(l);return D===null?g:g===null?D:d(g,D)},null)},f.prototype.count=function(a,l){return l instanceof qo?a.entries.length:a.entries.reduce(function(d,g){return d+(g.getField(l)===null?0:1)},0)},f.prototype.sum=function(a,l){return this.reduce(a,l,function(d,g){var C=d,D=g;return D+C})},f.prototype.stddev=function(a,l){var d=[];return a.entries.forEach(function(g){var C=g.getField(l);C!==null&&d.push(C)}),d.length===0?null:Cr.standardDeviation.apply(null,d)},f.prototype.geomean=function(a,l){var d=0,g=a.entries.reduce(function(C,D){var W=D.getField(l);return W!==null&&W!==0?(d++,C+Math.log(W)):C},0);return d===0?null:Math.pow(Math.E,g/d)},f.prototype.distinct=function(a,l){var d=new Map;return a.entries.forEach(function(g){var C=g.getField(l);d.set(C,g)}),new ie(Array.from(d.values()),a.getTables())},f}(),qf=function(f){t(a,f);function a(l){var d=f.call(this,ve.ANY,O.FIRST_CHILD)||this;return d.aggregatedColumns=l,d}return a.prototype.toString=function(){var l=this.aggregatedColumns.map(function(d){return d.getNormalizedName()});return"aggregation("+l.toString()+")"},a.prototype.execInternal=function(l,d,g){var C=this;return l.forEach(function(D){var W=new ss(D,C.aggregatedColumns);W.calculate()},this),l},a}(ve),Yt=function(f){t(a,f);function a(){return f.call(this,2,O.ALL)||this}return a.prototype.toString=function(){return"cross_product"},a.prototype.execInternal=function(l,d,g){return this.crossProduct(l[0],l[1])},a.prototype.crossProduct=function(l,d){var g=[],C=l.getTables(),D=d.getTables();l.entries.forEach(function(ee){d.entries.forEach(function(ue){var me=J.combineEntries(ee,C,ue,D);g.push(me)})});var W=l.getTables().concat(d.getTables());return[new ie(g,W)]},a}(ve),qt=function(f){t(a,f);function a(l){var d=f.call(this,1,O.FIRST_CHILD)||this;return d.table=l,d}return a.prototype.toString=function(){return"delete("+this.table.getName()+")"},a.prototype.execInternal=function(l,d,g){var C=l[0].entries.map(function(D){return D.row});return d.remove(this.table,C),[ie.createEmpty()]},a}(ve),Na=function(f){t(a,f);function a(l,d){var g=f.call(this,0,O.NO_CHILD)||this;return g.table=d,g.indexStore=l.getService(Ue.INDEX_STORE),g}return a.prototype.toString=function(){return"get_row_count("+this.table.getName()+")"},a.prototype.execInternal=function(l,d,g){var C=this.indexStore.get(this.table.getRowIdIndexName()),D=new ie([],[this.table.getName()]);return D.setAggregationResult(si.count(),C.stats().totalRows),[D]},a}(ve),Xo=function(f){t(a,f);function a(l,d){var g=f.call(this,0,O.NO_CHILD)||this;return g.table=d,g.cache=l.getService(Ue.CACHE),g.indexStore=l.getService(Ue.INDEX_STORE),g}return a.prototype.toString=function(){var l="",d=this.table;return d.getAlias()&&(l=" as "+d.getAlias()),"table_access("+this.table.getName()+l+")"},a.prototype.execInternal=function(l,d,g){var C=this.table,D=this.indexStore.get(C.getRowIdIndexName()).getRange();return[ie.fromRows(this.cache.getMany(D),[C.getEffectiveName()])]},a}(ve),Hf=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.global=l,d}return a.prototype.rewrite=function(l,d){if(this.rootNode=l,!this.canOptimize(d))return l;var g=tt.find(l,function(D){return D instanceof Xo})[0],C=new Na(this.global,g.table);return tt.replaceNodeWithChain(g,C,C),this.rootNode},a.prototype.canOptimize=function(l){var d=function(D){return D!=null},g=l.columns.length===1&&l.from.length===1&&!d(l.where)&&!d(l.limit)&&!d(l.skip)&&!d(l.groupBy);if(g){var C=l.columns[0];return C instanceof ut&&C.aggregatorType===S.COUNT&&C.child instanceof qo}return!1},a}(xr),Gf=function(f){t(a,f);function a(l){var d=f.call(this,1,O.FIRST_CHILD)||this;return d.groupByColumns=l,d}return a.prototype.toString=function(){var l=this.groupByColumns.map(function(d){return d.getNormalizedName()});return"groupBy("+l.toString()+")"},a.prototype.execInternal=function(l,d,g){return this.calculateGroupedRelations(l[0])},a.prototype.calculateGroupedRelations=function(l){var d=this,g=new Ge,C=function(D){var W=d.groupByColumns.map(function(ee){return D.getField(ee)});return W.join(",")};return l.entries.forEach(function(D){return g.set(C(D),D)}),g.keys().map(function(D){return new ie(g.get(D),l.getTables())})},a}(ve),zi;(function(f){f.HASH="hash",f.INDEX_NESTED_LOOP="index_nested_loop",f.NESTED_LOOP="nested_loop"})(zi||(zi={}));var ls=function(f){t(a,f);function a(l,d,g){var C=f.call(this,2,O.ALL)||this;return C.predicate=d,C.isOuterJoin=g,C.indexStore=l.getService(Ue.INDEX_STORE),C.cache=l.getService(Ue.CACHE),C.algorithm=C.predicate.evaluatorType===fe.EQ?zi.HASH:zi.NESTED_LOOP,C.indexJoinInfo=null,C}return a.prototype.toString=function(){return"join(type: "+(this.isOuterJoin?"outer":"inner")+", "+("impl: "+this.algorithm+", "+this.predicate.toString()+")")},a.prototype.execInternal=function(l,d,g){switch(this.algorithm){case zi.HASH:return[this.predicate.evalRelationsHashJoin(l[0],l[1],this.isOuterJoin)];case zi.INDEX_NESTED_LOOP:return[this.predicate.evalRelationsIndexNestedLoopJoin(l[0],l[1],this.indexJoinInfo,this.cache)];default:return[this.predicate.evalRelationsNestedLoopJoin(l[0],l[1],this.isOuterJoin)]}},a.prototype.markAsIndexJoin=function(l){this.algorithm=zi.INDEX_NESTED_LOOP;var d=this.indexStore.get(l.getIndex().getNormalizedName());this.indexJoinInfo={index:d,indexedColumn:l,nonIndexedColumn:l===this.predicate.leftColumn?this.predicate.rightColumn:this.predicate.leftColumn}},a}(ve),kl=function(f){t(a,f);function a(l){var d=f.call(this,ve.ANY,O.NO_CHILD)||this;return d.relations=l,d}return a.prototype.toString=function(){return"no_op_step("+this.relations[0].getTables().join(",")+")"},a.prototype.execInternal=function(l,d,g){return this.relations},a}(ve),Yf=function(f){t(a,f);function a(){return f.call(this)||this}return a.prototype.rewrite=function(l,d){if(this.rootNode=l,!this.canOptimize(d))return l;var g=tt.find(l,function(C){return C instanceof ls});return g.forEach(this.processJoinStep,this),this.rootNode},a.prototype.canOptimize=function(l){return l.from.length>1},a.prototype.processJoinStep=function(l){if(!(l.predicate.evaluatorType!==fe.EQ||l.isOuterJoin)){var d=function(ue){return ue.getEffectiveName()===l.predicate.rightColumn.getTable().getEffectiveName()?l.predicate.rightColumn:l.predicate.leftColumn},g=function(ue){if(!(ue instanceof Xo))return null;var me=d(ue.table);return me.getIndex()===null?null:me},C=g(l.getChildAt(0)),D=g(l.getChildAt(1));if(!(C===null&&D===null)){var W=D!==null?D:C;l.markAsIndexJoin(W);var ee=new ie([],[W.getTable().getEffectiveName()]);l.replaceChildAt(new kl([ee]),W===C?0:1)}}},a}(xr),On=function(){function f(a,l){this.indexSchema=a,this.predicateMap=l,this.lastQueryContext=null,this.combinations=null}return f.prototype.getKeyRangeCombinations=function(a){if(this.lastQueryContext===a)return this.combinations;var l=this.calculateKeyRangeMap(a);return this.fillMissingKeyRanges(l),this.combinations=this.indexSchema.columns.length===1?Array.from(l.values())[0].getValues():this.calculateCartesianProduct(this.getSortedKeyRangeSets(l)),this.lastQueryContext=a,this.combinations},f.prototype.calculateKeyRangeMap=function(a){var l=this,d=new Map;return Array.from(this.predicateMap.keys()).forEach(function(g){var C=l.predicateMap.get(g),D=C.map(function(ee){return a.getPredicate(ee)},l),W=new yt([T.all()]);D.forEach(function(ee){W=yt.intersect(W,ee.toKeyRange())}),d.set(g,W)},this),d},f.prototype.fillMissingKeyRanges=function(a){for(var l=function(){return new yt([T.all()])},d=this.indexSchema.columns.length-1;d>=0;d--){var g=this.indexSchema.columns[d],C=a.get(g.schema.getName())||null;if(C!==null)break;a.set(g.schema.getName(),l())}},f.prototype.getSortedKeyRangeSets=function(a){var l=new Map,d=0;this.indexSchema.columns.forEach(function(C){l.set(C.schema.getName(),d),d++});var g=Array.from(a.keys()).sort(function(C,D){return(l.get(C)||0)-(l.get(D)||0)});return g.map(function(C){return a.get(C)})},f.prototype.calculateCartesianProduct=function(a){$(a.length>1,"Should only be called for cross-column indices.");var l=a.map(function(d){return d.getValues()});return ht.product(l)},f}(),Dl=function(){function f(a,l){this.indexStore=a,this.indexSchema=l,this.indexedColumnNames=new Set(this.indexSchema.columns.map(function(d){return d.schema.getName()})),this.predicateMap=null,this.keyRangeCalculator=null}return f.prototype.getPredicateIds=function(){return this.predicateMap?this.predicateMap.values():[]},f.prototype.getKeyRangeCalculator=function(){return $(this.predicateMap!==null),this.keyRangeCalculator===null&&(this.keyRangeCalculator=new On(this.indexSchema,this.predicateMap)),this.keyRangeCalculator},f.prototype.consumePredicates=function(a){var l=this;a.forEach(function(d){var g=d.getColumns()[0].getName();l.indexedColumnNames.has(g)&&(l.predicateMap===null&&(l.predicateMap=new Ge),l.predicateMap.set(g,d.getId()))},this)},f.prototype.isUsable=function(){var a=this;if(this.predicateMap===null)return!1;var l=!1,d=!0;return this.indexSchema.columns.every(function(g){var C=a.predicateMap.has(g.schema.getName());return l&&C?(d=!1,!1):(C||(l=!0),!0)},this),d},f.prototype.calculateCost=function(a){var l=this.getKeyRangeCalculator().getKeyRangeCombinations(a),d=this.indexStore.get(this.indexSchema.getNormalizedName());return l.reduce(function(g,C){return g+d.cost(C)},0)},f}(),go=.02,Ll=function(){function f(a,l){this.tableSchema=l,this.indexStore=a.getService(Ue.INDEX_STORE)}return f.prototype.chooseIndexFor=function(a,l){var d=l.filter(this.isCandidate,this);if(d.length===0)return null;var g=this.generateIndexRangeCandidates(d);if(g.length===0)return null;if(g.length===1)return g[0];var C=Number.MAX_VALUE;return g.reduce(function(D,W){var ee=W.calculateCost(a);return ee<C?(C=ee,W):D},null)},f.prototype.getIndexQueryThreshold=function(){var a=this.indexStore.get(this.tableSchema.getRowIdIndexName());return Math.floor(a.stats().totalRows*go)},f.prototype.generateIndexRangeCandidates=function(a){var l=this,d=this.tableSchema.getIndices();return d.map(function(g){var C=new Dl(l.indexStore,g);return C.consumePredicates(a),C},this).filter(function(g){return g.isUsable()})},f.prototype.isCandidate=function(a){return a instanceof He?this.isCandidateValuePredicate(a):a instanceof vn?this.isCandidateCombinedPredicate(a):!1},f.prototype.isCandidateCombinedPredicate=function(a){if(!a.isKeyRangeCompatible())return!1;var l=a.getChildAt(0).column;return l.getTable()!==this.tableSchema?!1:a.getChildCount()<=this.getIndexQueryThreshold()},f.prototype.isCandidateValuePredicate=function(a){return!(!a.isKeyRangeCompatible()||a.column.getTable()!==this.tableSchema||a.evaluatorType===fe.IN&&a.peek().length>this.getIndexQueryThreshold())},f}(),vo=function(f){t(a,f);function a(l,d,g,C){var D=f.call(this,0,O.NO_CHILD)||this;return D.index=d,D.keyRangeCalculator=g,D.reverseOrder=C,D.indexStore=l.getService(Ue.INDEX_STORE),D.useLimit=!1,D.useSkip=!1,D}return a.prototype.toString=function(){return"index_range_scan("+this.index.getNormalizedName()+", ?, "+(this.reverseOrder?"reverse":"natural")+(this.useLimit?", limit:?":"")+(this.useSkip?", skip:?":"")+")"},a.prototype.toContextString=function(l){var d=this.toString(),g=this.keyRangeCalculator.getKeyRangeCombinations(l);return d=d.replace("?",g.toString()),this.useLimit&&(d=d.replace("?",l.limit.toString())),this.useSkip&&(d=d.replace("?",l.skip.toString())),d},a.prototype.execInternal=function(l,d,g){var C=g,D=this.keyRangeCalculator.getKeyRangeCombinations(C),W=this.indexStore.get(this.index.getNormalizedName()),ee;D.length===1&&D[0]instanceof T&&D[0].isOnly()?ee=Ea.slice(W.get(D[0].from),!1,this.useLimit?C.limit:void 0,this.useSkip?C.skip:void 0):ee=W.getRange(D,this.reverseOrder,this.useLimit?C.limit:void 0,this.useSkip?C.skip:void 0);var ue=ee.map(function(me){return new M(me,{})});return[ie.fromRows(ue,[this.index.tableName])]},a}(ve),fn=function(f){t(a,f);function a(l){var d=f.call(this,1,O.FIRST_CHILD)||this;return d.predicateId=l,d}return a.prototype.toString=function(){return"select(?)"},a.prototype.toContextString=function(l){var d=l.getPredicate(this.predicateId);return this.toString().replace("?",d.toString())},a.prototype.execInternal=function(l,d,g){var C=g.getPredicate(this.predicateId);return[C.eval(l[0])]},a}(ve),us=function(f){t(a,f);function a(l,d){var g=f.call(this,1,O.FIRST_CHILD)||this;return g.table=d,g.cache=l.getService(Ue.CACHE),g}return a.prototype.toString=function(){return"table_access_by_row_id("+this.table.getName()+")"},a.prototype.execInternal=function(l,d,g){return[ie.fromRows(this.cache.getMany(l[0].getRowIds()),[this.table.getEffectiveName()])]},a}(ve),Ml=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.global=l,d}return a.prototype.rewrite=function(l,d){var g=this;this.rootNode=l;var C=tt.find(l,function(D){return D instanceof Xo});return C.forEach(function(D){var W=g.findSelectSteps(D);if(W.length!==0){var ee=new Ll(g.global,D.table),ue=ee.chooseIndexFor(d,W.map(function(Te){return d.getPredicate(Te.predicateId)}));if(ue!==null){var me=new Map;W.forEach(function(Te){me.set(Te.predicateId,Te)},g),g.rootNode=g.replaceWithIndexRangeScanStep(ue,me,D,d)}}},this),this.rootNode},a.prototype.findSelectSteps=function(l){for(var d=[],g=l.getParent();g;){if(g instanceof fn)d.push(g);else if(g instanceof ls)break;g=g.getParent()}return d},a.prototype.replaceWithIndexRangeScanStep=function(l,d,g,C){var D=l.getPredicateIds(),W=D.map(function(me){return d.get(me)});W.forEach(tt.removeNode);var ee=new vo(this.global,l.indexSchema,l.getKeyRangeCalculator(),!1),ue=new us(this.global,g.table);return ue.addChild(ee),tt.replaceNodeWithChain(g,ue,ee),ee.getRoot()},a}(xr),zl=function(f){t(a,f);function a(l,d){var g=f.call(this,0,O.NO_CHILD)||this;return g.table=d,g.indexStore=l.getService(Ue.INDEX_STORE),g}return a.assignAutoIncrementPks=function(l,d,g){var C=l,D=C.getConstraint().getPrimaryKey(),W=D===null?!1:D.columns[0].autoIncrement;if(W){var ee=D.columns[0].schema.getName(),ue=g.get(D.getNormalizedName()),me=ue.stats().maxKeyEncountered,Te=me===null?0:me;d.forEach(function(Fe){var Xe=Fe.payload()[ee];(Xe===0||Xe===null||Xe===void 0)&&(Te++,Fe.payload()[ee]=Te)})}},a.prototype.toString=function(){return"insert("+this.table.getName()+")"},a.prototype.execInternal=function(l,d,g){var C=g.values;return a.assignAutoIncrementPks(this.table,C,this.indexStore),d.insert(this.table,C),[ie.fromRows(C,[this.table.getName()])]},a}(ve),Bl=function(f){t(a,f);function a(l,d){var g=f.call(this,0,O.NO_CHILD)||this;return g.table=d,g.indexStore=l.getService(Ue.INDEX_STORE),g}return a.prototype.toString=function(){return"insert_replace("+this.table.getName()+")"},a.prototype.execInternal=function(l,d,g){var C=g;return zl.assignAutoIncrementPks(this.table,C.values,this.indexStore),d.insertOrReplace(this.table,C.values),[ie.fromRows(C.values,[this.table.getName()])]},a}(ve),Ia=function(f){t(a,f);function a(){return f.call(this,1,O.FIRST_CHILD)||this}return a.prototype.toString=function(){return"limit(?)"},a.prototype.toContextString=function(l){return this.toString().replace("?",l.limit.toString())},a.prototype.execInternal=function(l,d,g){return l[0].entries.splice(g.limit),l},a}(ve),Jo=function(f){t(a,f);function a(l){var d=f.call(this,ve.ANY,O.FIRST_CHILD)||this;return d.orderBy=l,d}return a.prototype.toString=function(){return"order_by("+pn.orderByToString(this.orderBy)+")"},a.prototype.execInternal=function(l,d,g){if(l.length===1){var C=this.findDistinctColumn(l[0]),D=C===null?l[0]:l[0].getAggregationResult(C);D.entries.sort(this.entryComparatorFn.bind(this))}else l.sort(this.relationComparatorFn.bind(this));return l},a.prototype.findDistinctColumn=function(l){var d=null;return this.orderBy.every(function(g){var C=si.distinct(g.column);return l.hasAggregationResult(C)?(d=C,!1):!0},this),d},a.prototype.comparator=function(l,d){var g,C=null,D=null,W=-1;do{W++;var ee=this.orderBy[W].column;g=this.orderBy[W].order,C=l(ee),D=d(ee)}while(C===D&&W+1<this.orderBy.length);var ue=C<D?-1:C>D?1:0;return ue=g===u.ASC?ue:-ue,ue},a.prototype.entryComparatorFn=function(l,d){return this.comparator(function(g){return l.getField(g)},function(g){return d.getField(g)})},a.prototype.relationComparatorFn=function(l,d){return this.comparator(function(g){return g instanceof ut?l.getAggregationResult(g):l.entries[l.entries.length-1].getField(g)},function(g){return g instanceof ut?d.getAggregationResult(g):d.entries[d.entries.length-1].getField(g)})},a}(ve),Kn=function(){function f(a,l){this.relation=a,this.columns=l}return f.transformMany=function(a,l){var d=a.map(function(g){var C=new f(g,l),D=C.getTransformed();return D.entries[0]});return new ie(d,a[0].getTables())},f.prototype.getTransformed=function(){var a=this.columns.some(function(l){return l instanceof ut});return a?this.handleAggregatedColumns():this.handleNonAggregatedColumns()},f.prototype.handleAggregatedColumns=function(){var a=this;if(this.columns.length===1&&this.columns[0].aggregatorType===S.DISTINCT){var l=this.relation.getAggregationResult(this.columns[0]),d=l.entries.map(function(C){var D=new J(new M(M.DUMMY_ID,{}),a.relation.isPrefixApplied());return D.setField(a.columns[0],C.getField(a.columns[0].child)),D},this);return new ie(d,[])}var g=new J(new M(M.DUMMY_ID,{}),this.relation.isPrefixApplied());return this.columns.forEach(function(C){var D=C instanceof ut?a.relation.getAggregationResult(C):a.relation.entries[0].getField(C);g.setField(C,D)},this),new ie([g],this.relation.getTables())},f.prototype.handleNonAggregatedColumns=function(){var a=this,l=new Array(this.relation.entries.length),d=this.relation.isPrefixApplied();return this.relation.entries.forEach(function(g,C){l[C]=new J(new M(g.row.id(),{}),d),a.columns.forEach(function(D){l[C].setField(D,g.getField(D))},a)},this),new ie(l,this.relation.getTables())},f}(),qu=function(f){t(a,f);function a(l,d){var g=f.call(this,ve.ANY,O.FIRST_CHILD)||this;return g.columns=l,g.groupByColumns=d,g}return a.prototype.toString=function(){var l="";if(this.groupByColumns){var d=this.groupByColumns.map(function(g){return g.getNormalizedName()}).join(", ");l=", groupBy("+d+")"}return"project("+this.columns.toString()+l+")"},a.prototype.execInternal=function(l,d,g){return l.length===0?[ie.createEmpty()]:l.length===1?[this.execNonGroupByProjection(l[0])]:[this.execGroupByProjection(l)]},a.prototype.hasAggregators=function(){var l=this.columns.some(function(d){return d instanceof ut});return l||this.groupByColumns!==null},a.prototype.execGroupByProjection=function(l){return Kn.transformMany(l,this.columns)},a.prototype.execNonGroupByProjection=function(l){if(this.columns.length===0)return l;var d=new Kn(l,this.columns);return d.getTransformed()},a}(ve),er=function(f){t(a,f);function a(){return f.call(this,1,O.FIRST_CHILD)||this}return a.prototype.toString=function(){return"skip(?)"},a.prototype.toContextString=function(l){return this.toString().replace("?",l.skip.toString())},a.prototype.execInternal=function(l,d,g){return[new ie(l[0].entries.slice(g.skip),l[0].getTables())]},a}(ve),Xf=function(f){t(a,f);function a(){return f.call(this)||this}return a.prototype.rewrite=function(l,d){var g=this;if(d.limit===void 0&&d.skip===void 0)return l;var C=this.findIndexRangeScanStep(l);if(C===null)return l;var D=tt.find(l,function(W){return W instanceof Ia||W instanceof er});return D.forEach(function(W){g.mergeToIndexRangeScanStep(W,C)},this),C.getRoot()},a.prototype.mergeToIndexRangeScanStep=function(l,d){return l instanceof Ia?d.useLimit=!0:d.useSkip=!0,tt.removeNode(l).parent},a.prototype.findIndexRangeScanStep=function(l){var d=function(D){return D instanceof vo},g=function(D){var W=D instanceof qu&&D.hasAggregators();return W||D instanceof Jo||D.getChildCount()!==1||D instanceof fn},C=tt.find(l,d,g);return C.length>0?C[0]:null},a}(xr),Hu=function(f){t(a,f);function a(){return f.call(this,ve.ANY,O.ALL)||this}return a.prototype.toString=function(){return"multi_index_range_scan()"},a.prototype.execInternal=function(l,d,g){var C=new Map;l.forEach(function(W){W.entries.forEach(function(ee){C.set(ee.row.id(),ee)})});var D=Array.from(C.values());return[new ie(D,l[0].getTables())]},a}(ve),Bi=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.global=l,d}return a.prototype.rewrite=function(l,d){this.rootNode=l;var g=this.findOrPredicates(d);if(g.length===0)return this.rootNode;var C=null,D=null,W=0;do D=g[W++],C=this.findIndexRangeCandidates(D,d);while(C===null&&W<g.length);if(C===null)return this.rootNode;var ee=this.findTableAccessFullStep(C[0].indexSchema.tableName);return ee===null?this.rootNode:(this.rootNode=this.replaceWithIndexRangeScan(D,ee,C),this.rootNode)},a.prototype.findOrPredicates=function(l){var d=function(g){if(!(g instanceof fn))return!1;var C=l.getPredicate(g.predicateId);return C instanceof vn&&C.operator===N.OR};return tt.find(this.rootNode,d)},a.prototype.findTableAccessFullStep=function(l){return tt.find(this.rootNode,function(d){return d instanceof Xo&&d.table.getName()===l})[0]||null},a.prototype.findIndexRangeCandidates=function(l,d){var g=d.getPredicate(l.predicateId),C=g.getTables();if(C.size!==1)return null;var D=Array.from(C.values())[0],W=new Ll(this.global,D),ee=null,ue=g.getChildren().every(function(me){var Te=W.chooseIndexFor(d,[me]);return Te!==null&&(ee===null?ee=[Te]:ee.push(Te)),Te!==null});return ue?ee:null},a.prototype.replaceWithIndexRangeScan=function(l,d,g){var C=this,D=new us(this.global,d.table),W=new Hu;return D.addChild(W),g.forEach(function(ee){var ue=new vo(C.global,ee.indexSchema,ee.getKeyRangeCalculator(),!1);W.addChild(ue)},this),tt.removeNode(l),tt.replaceNodeWithChain(d,D,W),W.getRoot()},a}(xr),cs=function(){function f(a){this.indexSchema=a}return f.prototype.getKeyRangeCombinations=function(a){return this.indexSchema.columns.length===1?[T.all()]:[this.indexSchema.columns.map(function(l){return T.all()})]},f}(),Fl=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.global=l,d}return a.prototype.rewrite=function(l,d){var g=this.findOrderByStep(l,d);if(g===null)return l;var C=this.applyTableAccessFullOptimization(g);return C===g&&(C=this.applyIndexRangeScanStepOptimization(g)),C.getRoot()},a.prototype.applyTableAccessFullOptimization=function(l){var d=l,g=this.findTableAccessFullStep(l.getChildAt(0));if(g!==null){var C=this.findIndexCandidateForOrderBy(g.table,l.orderBy);if(C===null)return d;var D=new vo(this.global,C.indexSchema,new cs(C.indexSchema),C.isReverse),W=new us(this.global,g.table);W.addChild(D),tt.removeNode(l),d=tt.replaceNodeWithChain(g,W,D)}return d},a.prototype.applyIndexRangeScanStepOptimization=function(l){var d=l,g=this.findIndexRangeScanStep(l.getChildAt(0));if(g!==null){var C=this.getIndexCandidateForIndexSchema(g.index,l.orderBy);if(C===null)return d;g.reverseOrder=C.isReverse,d=tt.removeNode(l).parent}return d},a.prototype.findIndexRangeScanStep=function(l){var d=function(D){return D instanceof vo},g=function(D){return D.getChildCount()!==1},C=tt.find(l,d,g);return C.length>0?C[0]:null},a.prototype.findTableAccessFullStep=function(l){var d=function(D){return D instanceof Xo},g=function(D){return D.getChildCount()!==1},C=tt.find(l,d,g);return C.length>0?C[0]:null},a.prototype.findOrderByStep=function(l,d){return d.orderBy===void 0?null:tt.find(l,function(g){return g instanceof Jo})[0]},a.prototype.findIndexCandidateForOrderBy=function(l,d){for(var g=null,C=l.getIndices(),D=0;D<C.length&&g===null;D++)g=this.getIndexCandidateForIndexSchema(C[D],d);return g},a.prototype.getIndexCandidateForIndexSchema=function(l,d){var g=l.columns.length===d.length&&d.every(function(D,W){var ee=l.columns[W];return D.column.getName()===ee.schema.getName()});if(!g)return null;var C=this.checkOrder(d,l);return!C[0]&&!C[1]?null:{indexSchema:l,isReverse:C[1]}},a.prototype.checkOrder=function(l,d){var g=l.reduce(function(ue,me){return ue<<1|(me.order===u.DESC?0:1)},0),C=d.columns.reduce(function(ue,me){return ue<<1|(me.order===u.DESC?0:1)},0),D=g^C,W=D===0,ee=D===Math.pow(2,Math.max(l.length,d.columns.length))-1;return[W,ee]},a}(xr),Xt=function(){function f(a,l,d){this.rootNode=a,this.queryContext=l,this.rewritePasses=d}return f.prototype.generate=function(){var a=this;return this.rewritePasses.forEach(function(l){a.rootNode=l.rewrite(a.rootNode,a.queryContext)},this),this.rootNode},f}(),$r=function(f){t(a,f);function a(l){var d=f.call(this,1,O.FIRST_CHILD)||this;return d.table=l,d}return a.prototype.toString=function(){return"update("+this.table.getName()+")"},a.prototype.execInternal=function(l,d,g){var C=this,D=this.table,W=l[0].entries.map(function(ee){var ue=D.deserializeRow(ee.row.serialize());return g.set.forEach(function(me){ue.payload()[me.column.getName()]=me.value},C),ue},this);return d.update(D,W),[ie.createEmpty()]},a}(ve),fs=function(){function f(a){this.global=a,this.selectOptimizationPasses=[new Yf,new Ml(a),new Bi(a),new Fl(a),new Xf,new Hf(a)],this.deleteOptimizationPasses=[new Ml(a)]}return f.prototype.create=function(a,l){var d=a.getRoot();if(d instanceof Mi||d instanceof as)return this.createPlan(a,l);if(d instanceof _l||d instanceof Tl||d instanceof Al)return this.createPlan(a,l,this.selectOptimizationPasses);if(d instanceof Go||d instanceof Pl)return this.createPlan(a,l,this.deleteOptimizationPasses);throw new z(y.UNKNOWN_PLAN_NODE)},f.prototype.createPlan=function(a,l,d){var g=tt.map(a.getRoot(),this.mapFn.bind(this));if(d!=null){var C=new Xt(g,l,d);g=C.generate()}return new Pe(g,a.getScope())},f.prototype.mapFn=function(a){if(a instanceof _l)return new qu(a.columns,a.groupByColumns);if(a instanceof Ol)return new Gf(a.columns);if(a instanceof ju)return new qf(a.columns);if(a instanceof Ku)return new Jo(a.orderBy);if(a instanceof Al)return new er;if(a instanceof Tl)return new Ia;if(a instanceof Nr)return new fn(a.predicate.getId());if(a instanceof po)return new Yt;if(a instanceof Il)return new ls(this.global,a.predicate,a.isOuterJoin);if(a instanceof Yo)return new Xo(this.global,a.table);if(a instanceof Go)return new qt(a.table);if(a instanceof Pl)return new $r(a.table);if(a instanceof Mi)return new Bl(this.global,a.table);if(a instanceof as)return new zl(this.global,a.table);throw new z(y.UNKNOWN_NODE_TYPE)},f}(),Qo=function(){function f(a){this.logicalPlanFactory=new Vf,this.physicalPlanFactory=new fs(a)}return f.prototype.getPlan=function(a){var l=this.logicalPlanFactory.create(a);return this.physicalPlanFactory.create(l,a)},f}(),Ul=function(f){t(a,f);function a(l){var d=f.call(this)||this;return d.global=l,d.schema=l.getService(Ue.SCHEMA),d.scope=new Set(d.schema.tables()),d.resolver=new je,d}return a.prototype.execSync=function(){var l=this.global.getService(Ue.INDEX_STORE),d=this.global.getService(Ue.CACHE),g={};return this.schema.tables().forEach(function(C){var D=l.get(C.getRowIdIndexName()).getRange(),W=d.getMany(D).map(function(ee){return ee.payload()});g[C.getName()]=W}),{name:this.schema.name(),tables:g,version:this.schema.version()}},a.prototype.exec=function(){var l=this.execSync(),d=new J(new M(M.DUMMY_ID,l),!0);return Promise.resolve([new ie([d],[])])},a.prototype.getType=function(){return v.READ_ONLY},a.prototype.getScope=function(){return this.scope},a.prototype.getResolver=function(){return this.resolver},a.prototype.getId=function(){return this.getUniqueNumber()},a.prototype.getPriority=function(){return E.EXPORT_TASK},a}(ce),Jf=function(f){t(a,f);function a(l,d){var g=f.call(this)||this;return g.global=l,g.data=d,g.schema=l.getService(Ue.SCHEMA),g.scope=new Set(g.schema.tables()),g.resolver=new je,g.backStore=l.getService(Ue.BACK_STORE),g.cache=l.getService(Ue.CACHE),g.indexStore=l.getService(Ue.INDEX_STORE),g}return a.prototype.exec=function(){if(!this.backStore.supportsImport())throw new z(y.NOT_SUPPORTED);if(!this.isEmptyDB())throw new z(y.IMPORT_TO_NON_EMPTY_DB);if(this.schema.name()!==this.data.name||this.schema.version()!==this.data.version)throw new z(y.DB_MISMATCH);if(this.data.tables===void 0||this.data.tables===null)throw new z(y.IMPORT_DATA_NOT_FOUND);return this.import()},a.prototype.getType=function(){return v.READ_WRITE},a.prototype.getScope=function(){return this.scope},a.prototype.getResolver=function(){return this.resolver},a.prototype.getId=function(){return this.getUniqueNumber()},a.prototype.getPriority=function(){return E.IMPORT_TASK},a.prototype.isEmptyDB=function(){var l=this;return this.schema.tables().every(function(d){var g=d,C=l.indexStore.get(g.getRowIdIndexName());return!(C.stats().totalRows>0)})},a.prototype.import=function(){var l=this,d=new uo(this.global,this.scope),g=this.backStore.createTx(this.getType(),Array.from(this.scope.values()),d);return Object.keys(this.data.tables).forEach(function(C){var D=l.schema.table(C),W=l.data.tables[C],ee=W.map(function(Te){return D.createRow(Te)}),ue=g.getTable(C,D.deserializeRow,I.DATA);l.cache.setMany(C,ee);var me=l.indexStore.getTableIndices(C);ee.forEach(function(Te){me.forEach(function(Fe){var Xe=Te.keyOfIndex(Fe.getName());Fe.add(Xe,Te.id())})}),ue.put(ee)},this),g.commit()},a}(ce),Gu=function(){function f(){this.supported=!1,this.indexedDb=!1,this.webSql=!1,this.localStorage=!1,this.agent="",this.browser="",this.version=[],this.versionMap=new Map,this.detect()}return f.get=function(){return f.instance===void 0&&(f.instance=new f),f.instance},f.prototype.getDetection=function(){return this.browser+" "+this.version.join(".")},f.prototype.detect=function(){this.detectNodeJS()||navigator&&(this.agent=navigator.userAgent,this.detectBrowser())},f.prototype.convertVersion=function(a){a!==void 0&&(this.version=a.split(".").map(function(l){var d=0;try{d=Number(l)}catch{}return d}))},f.prototype.detectNodeJS=function(){return typeof process!="undefined"&&process.version?(this.convertVersion(process.version.slice(1)),this.supported=this.version[0]>=7,this.browser="nodejs",this.indexedDb=!1,this.webSql=!1,!0):!1},f.prototype.detectBrowser=function(){if(!(this.isIE()||this.isAndroid())){this.localStorage=!0,this.detectVersion();var a=[this.isEdge.bind(this),this.isFirefox.bind(this),this.isChrome.bind(this),this.isSafari.bind(this),this.isIOS.bind(this)];a.some(function(l){return l()})}},f.prototype.detectVersion=function(){var a=new RegExp("(\\w[\\w ]+)/([^\\s]+)\\s*(?:\\((.*?)\\))?","g"),l=null;do if(l=a.exec(this.agent),l){var d=l[0];this.versionMap.set(l[1],d.slice(d.indexOf("/")+1))}while(l)},f.prototype.isChrome=function(){var a=!1;return this.agent.indexOf("Chrome")!==-1?(a=!0,this.convertVersion(this.versionMap.get("Chrome"))):this.agent.indexOf("CriOS")!==-1&&(a=!0,this.convertVersion(this.versionMap.get("CriOS"))),a?(this.browser="chrome",this.supported=this.version[0]>60,this.indexedDb=!0,this.webSql=!0,this.localStorage=!0,!0):!1},f.prototype.isEdge=function(){return this.agent.indexOf("Edge")!==-1?(this.browser="edge",this.supported=!0,this.indexedDb=!0,this.webSql=!1,this.convertVersion(this.versionMap.get("Edge")),!0):!1},f.prototype.isFirefox=function(){return this.agent.indexOf("Firefox")!==-1?(this.browser="firefox",this.convertVersion("Firefox"),this.supported=this.version[0]>60,this.indexedDb=!0,this.webSql=!1,this.localStorage=!0,!0):!1},f.prototype.isIE=function(){return this.agent.indexOf("Trident")!==-1||this.agent.indexOf("MSIE")!==-1?(this.browser="ie",!0):!1},f.prototype.isAndroid=function(){return this.agent.indexOf("Android")!==-1&&!this.isChrome()&&!this.isFirefox()?(this.browser="legacy_android",!0):!1},f.prototype.isSafari=function(){return this.agent.indexOf("Safari")!==-1?(this.browser="safari",this.convertVersion(this.versionMap.get("Version")),this.supported=this.version[0]>=10,this.indexedDb=this.supported,this.webSql=!0,!0):!1},f.prototype.isIOS=function(){return this.agent.indexOf("AppleWebKit")!==-1&&(this.agent.indexOf("iPad")!==-1||this.agent.indexOf("iPhone")!==-1)?(this.browser="ios_webview",this.convertVersion(this.versionMap.get("Version")),this.supported=this.version[0]>=10,this.indexedDb=this.supported,this.webSql=!0,!0):!1},f}();e.Capability=Gu;var Qf=function(f){t(a,f);function a(l){return f.call(this,l,new St(l.getService(Ue.SCHEMA)))||this}return a.prototype.from=function(l){return this.assertFromPreconditions(),this.query.from=l,this},a.prototype.where=function(l){return this.assertWherePreconditions(),this.query.where=l,this},a.prototype.assertExecPreconditions=function(){if(f.prototype.assertExecPreconditions.call(this),this.query.from===void 0||this.query.from===null)throw new z(y.INVALID_DELETE)},a.prototype.assertFromPreconditions=function(){if(this.query.from)throw new z(y.DUPLICATE_FROM)},a.prototype.assertWherePreconditions=function(){if(this.query.from===void 0||this.query.from===null)throw new z(y.FROM_AFTER_WHERE);if(this.query.where)throw new z(y.DUPLICATE_WHERE)},a}($n),$l=function(f){t(a,f);function a(l,d){d===void 0&&(d=!1);var g=f.call(this,l,new xt(l.getService(Ue.SCHEMA)))||this;return g.query.allowReplace=d,g}return a.prototype.assertExecPreconditions=function(){f.prototype.assertExecPreconditions.call(this);var l=this.query;if(l.into===void 0||l.into===null||l.values===void 0||l.values===null)throw new z(y.INVALID_INSERT);if(l.allowReplace&&l.into.getConstraint().getPrimaryKey()===null)throw new z(y.INVALID_INSERT_OR_REPLACE)},a.prototype.into=function(l){return this.assertIntoPreconditions(),this.query.into=l,this},a.prototype.values=function(l){return this.assertValuesPreconditions(),l instanceof te||l.some(function(d){return d instanceof te})?this.query.binder=l:this.query.values=l,this},a.prototype.assertIntoPreconditions=function(){if(this.query.into!==void 0&&this.query.into!==null)throw new z(y.DUPLICATE_INTO)},a.prototype.assertValuesPreconditions=function(){if(this.query.values!==void 0&&this.query.values!==null)throw new z(y.DUPLICATE_VALUES)},a}($n),ds=function(f){t(a,f);function a(l,d){var g=f.call(this,l,new Ft(l.getService(Ue.SCHEMA)))||this;return g.query.table=d,g}return a.prototype.set=function(l,d){var g={binding:d instanceof te?d.index:-1,column:l,value:d};return this.query.set?this.query.set.push(g):this.query.set=[g],this},a.prototype.where=function(l){return this.assertWherePreconditions(),this.query.where=l,this},a.prototype.assertExecPreconditions=function(){if(f.prototype.assertExecPreconditions.call(this),this.query.set===void 0||this.query.set===null)throw new z(y.INVALID_UPDATE);var l=this.query.set.some(function(d){return d.value instanceof te});if(l)throw new z(y.UNBOUND_VALUE)},a.prototype.assertWherePreconditions=function(){if(this.query.where)throw new z(y.DUPLICATE_WHERE)},a}($n),tn;(function(f){f[f.CREATED=0]="CREATED",f[f.ACQUIRING_SCOPE=1]="ACQUIRING_SCOPE",f[f.ACQUIRED_SCOPE=2]="ACQUIRED_SCOPE",f[f.EXECUTING_QUERY=3]="EXECUTING_QUERY",f[f.EXECUTING_AND_COMMITTING=4]="EXECUTING_AND_COMMITTING",f[f.COMMITTING=5]="COMMITTING",f[f.ROLLING_BACK=6]="ROLLING_BACK",f[f.FINALIZED=7]="FINALIZED"})(tn||(tn={}));var Zf=function(){function f(){this.map=new Ge;var a=tn;this.map.set(a.CREATED,a.ACQUIRING_SCOPE),this.map.set(a.CREATED,a.EXECUTING_AND_COMMITTING),this.map.set(a.ACQUIRING_SCOPE,a.ACQUIRED_SCOPE),this.map.set(a.ACQUIRED_SCOPE,a.EXECUTING_QUERY),this.map.set(a.ACQUIRED_SCOPE,a.COMMITTING),this.map.set(a.ACQUIRED_SCOPE,a.ROLLING_BACK),this.map.set(a.EXECUTING_QUERY,a.ACQUIRED_SCOPE),this.map.set(a.EXECUTING_QUERY,a.FINALIZED),this.map.set(a.EXECUTING_AND_COMMITTING,a.FINALIZED),this.map.set(a.COMMITTING,a.FINALIZED),this.map.set(a.ROLLING_BACK,a.FINALIZED)}return f.get=function(){return f.instance||(f.instance=new f),f.instance},f.prototype.get=function(a){return this.map.getSet(a)},f}(),Yu=function(f){t(a,f);function a(l,d){var g=f.call(this)||this;return g.global=l,g.backStore=l.getService(Ue.BACK_STORE),g.runner=l.getService(Ue.RUNNER),g.observerRegistry=l.getService(Ue.OBSERVER_REGISTRY),g.scope=new Set(d),g.journal=new uo(g.global,g.scope),g.resolver=new je,g.execResolver=new je,g.acquireScopeResolver=new je,g}return a.prototype.exec=function(){return this.acquireScopeResolver.resolve(),this.execResolver.promise},a.prototype.getType=function(){return v.READ_WRITE},a.prototype.getScope=function(){return this.scope},a.prototype.getResolver=function(){return this.resolver},a.prototype.getId=function(){return this.getUniqueNumber()},a.prototype.getPriority=function(){return E.TRANSACTION_TASK},a.prototype.acquireScope=function(){return this.runner.scheduleTask(this),this.acquireScopeResolver.promise},a.prototype.attachQuery=function(l){var d=this,g=l.getTaskItem();return g.plan.getRoot().exec(this.journal,g.context).then(function(C){return C[0].getPayloads()},function(C){throw d.journal.rollback(),d.execResolver.resolve(),C})},a.prototype.commit=function(){var l=this;return this.tx=this.backStore.createTx(this.getType(),Array.from(this.scope.values()),this.journal),this.tx.commit().then(function(){l.scheduleObserverTask(),l.execResolver.resolve()},function(d){l.journal.rollback(),l.execResolver.reject(d)}),this.resolver.promise},a.prototype.rollback=function(){return this.journal.rollback(),this.execResolver.resolve(),this.resolver.promise},a.prototype.stats=function(){var l=null;return this.tx&&(l=this.tx.stats()),l===null?Un.getDefault():l},a.prototype.scheduleObserverTask=function(){var l=this.observerRegistry.getTaskItemsForTables(Array.from(this.scope.values()));if(l.length!==0){var d=new Pn(this.global,l);this.runner.scheduleTask(d)}},a}(ce),hs=function(){function f(a){this.global=a,this.runner=a.getService(Ue.RUNNER),this.task=null,this.state=tn.CREATED,this.stateTransition=Zf.get()}return f.prototype.exec=function(a){var l=this;this.updateState(tn.EXECUTING_AND_COMMITTING);var d=[];try{a.forEach(function(g){g.assertExecPreconditions(),d.push(g.getTaskItem())})}catch(g){return this.updateState(tn.FINALIZED),Promise.reject(g)}return this.task=new $e(this.global,d),this.runner.scheduleTask(this.task).then(function(g){return l.updateState(tn.FINALIZED),g.map(function(C){return C.getPayloads()})},function(g){throw l.updateState(tn.FINALIZED),g})},f.prototype.begin=function(a){var l=this;return this.updateState(tn.ACQUIRING_SCOPE),this.task=new Yu(this.global,a),this.task.acquireScope().then(function(){return l.updateState(tn.ACQUIRED_SCOPE)})},f.prototype.attach=function(a){var l=this;this.updateState(tn.EXECUTING_QUERY);try{a.assertExecPreconditions()}catch(d){return this.updateState(tn.FINALIZED),Promise.reject(d)}return this.task.attachQuery(a).then(function(d){return l.updateState(tn.ACQUIRED_SCOPE),d},function(d){throw l.updateState(tn.FINALIZED),d})},f.prototype.commit=function(){var a=this;return this.updateState(tn.COMMITTING),this.task.commit().then(function(l){return a.updateState(tn.FINALIZED),l})},f.prototype.rollback=function(){var a=this;return this.updateState(tn.ROLLING_BACK),this.task.rollback().then(function(l){return a.updateState(tn.FINALIZED),l})},f.prototype.stats=function(){if(this.state!==tn.FINALIZED)throw new z(y.INVALID_TX_ACCESS);return this.task.stats()},f.prototype.updateState=function(a){var l=this.stateTransition.get(this.state);if(l.has(a))this.state=a;else throw new z(y.INVALID_TX_STATE,this.state.toString(),a.toString())},f}(),ps=function(){function f(a){this.global=a,this.schema=a.getService(Ue.SCHEMA),this.isActive=!1,this.observeExternalChanges=!1}return f.prototype.init=function(a){var l=this;this.global.registerService(Ue.SCHEMA,this.schema),this.global.registerService(Ue.CACHE,new ts(this.schema));var d=this.createBackStore(this.schema,a);this.global.registerService(Ue.BACK_STORE,d);var g=new Ho;this.global.registerService(Ue.INDEX_STORE,g);var C=a?a.onUpgrade:void 0;return d.init(C).then(function(){return l.global.registerService(Ue.QUERY_ENGINE,new Qo(l.global)),l.runner=new It,l.global.registerService(Ue.RUNNER,l.runner),l.global.registerService(Ue.OBSERVER_REGISTRY,new Wo),g.init(l.schema)}).then(function(){if(l.observeExternalChanges){var D=new Sl(l.global);D.startObserving()}a&&a.enableInspector&&window&&(window.top["#lfInspect"]=xl.inspect,window.top["#lfRowId"]=M.getNextId);var W=new os(l.global);return W.init(l.schema)}).then(function(){return l.isActive=!0,l})},f.prototype.getGlobal=function(){return this.global},f.prototype.getSchema=function(){return this.schema},f.prototype.select=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return this.checkActive(),new Br(this.global,a)},f.prototype.insert=function(){return this.checkActive(),new $l(this.global)},f.prototype.insertOrReplace=function(){return this.checkActive(),new $l(this.global,!0)},f.prototype.update=function(a){return this.checkActive(),new ds(this.global,a)},f.prototype.delete=function(){return this.checkActive(),new Qf(this.global)},f.prototype.observe=function(a,l){this.checkActive();var d=this.global.getService(Ue.OBSERVER_REGISTRY);d.addObserver(a,l)},f.prototype.unobserve=function(a,l){this.checkActive();var d=this.global.getService(Ue.OBSERVER_REGISTRY);d.removeObserver(a,l)},f.prototype.createTransaction=function(a){return this.checkActive(),new hs(this.global)},f.prototype.close=function(){try{var a=this.global.getService(Ue.BACK_STORE);a.close()}catch{}this.global.clear(),this.isActive=!1},f.prototype.export=function(){this.checkActive();var a=new Ul(this.global);return this.runner.scheduleTask(a).then(function(l){return l[0].getPayloads()[0]})},f.prototype.import=function(a){var l=a;this.checkActive();var d=new Jf(this.global,l);return this.runner.scheduleTask(d)},f.prototype.isOpen=function(){return this.isActive},f.prototype.checkActive=function(){if(!this.isActive)throw new z(y.CONNECTION_CLOSED)},f.prototype.createBackStore=function(a,l){var d;if(F.get().getOptions().memoryOnly)return d=new Ko(a),d;var g;if(l===void 0||l.storeType===void 0){var C=Gu.get();g=C.indexedDb?s.INDEXED_DB:C.webSql?s.WEB_SQL:s.MEMORY}else g=l.storeType;switch(g){case s.INDEXED_DB:d=new Sa(this.global,a);break;case s.MEMORY:d=new Ko(a);break;case s.OBSERVABLE_STORE:d=new In(a);break;case s.WEB_SQL:d=new Di(this.global,a,l?l.websqlDbSize:void 0);break;default:throw new z(y.NOT_SUPPORTED)}return d},f}(),Wl=function(){function f(a){this.name=a,this.visited=!1,this.onStack=!1,this.edges=new Set}return f}(),Xu=function(){function f(a,l,d,g,C,D){this.table=a,this.name=l,this.unique=d,this.nullable=g,this.type=C,this.alias=D||null,this.indices=[],this.index=void 0}return f.prototype.getName=function(){return this.name},f.prototype.getNormalizedName=function(){return this.table.getEffectiveName()+"."+this.name},f.prototype.toString=function(){return this.getNormalizedName()},f.prototype.getTable=function(){return this.table},f.prototype.getType=function(){return this.type},f.prototype.getAlias=function(){return this.alias},f.prototype.isNullable=function(){return this.nullable},f.prototype.isUnique=function(){return this.unique},f.prototype.getIndices=function(){var a=this;return this.table.getIndices().forEach(function(l){var d=l.columns.map(function(g){return g.schema.getName()});d.indexOf(a.name)!==-1&&a.indices.push(l)}),this.indices},f.prototype.getIndex=function(){var a=this;if(this.index===void 0){var l=this.getIndices().filter(function(d){return d.columns.length!==1?!1:d.columns[0].schema.getName()===a.name});this.index=l.length>0?l[0]:null}return this.index},f.prototype.eq=function(a){return pr(this,a,fe.EQ)},f.prototype.neq=function(a){return pr(this,a,fe.NEQ)},f.prototype.lt=function(a){return pr(this,a,fe.LT)},f.prototype.lte=function(a){return pr(this,a,fe.LTE)},f.prototype.gt=function(a){return pr(this,a,fe.GT)},f.prototype.gte=function(a){return pr(this,a,fe.GTE)},f.prototype.match=function(a){return pr(this,a,fe.MATCH)},f.prototype.between=function(a,l){return pr(this,[a,l],fe.BETWEEN)},f.prototype.in=function(a){return pr(this,a,fe.IN)},f.prototype.isNull=function(){return this.eq(null)},f.prototype.isNotNull=function(){return this.neq(null)},f.prototype.as=function(a){return new f(this.table,this.name,this.unique,this.nullable,this.type,a)},f}(),Ju=function(f){t(a,f);function a(l,d,g,C,D){var W=f.call(this,C,D)||this;return W.functionMap=l,W.columns=d,W.payload_=D||W.defaultPayload(),W}return a.prototype.defaultPayload=function(){if(this.columns===void 0)return null;var l={};return this.columns.forEach(function(d){l[d.getName()]=d.isNullable()?null:p.get(d.getType())}),l},a.prototype.toDbPayload=function(){var l=this,d={};return this.columns.forEach(function(g){var C=g.getName(),D=g.getType(),W=l.payload()[C];D===h.ARRAY_BUFFER?W=W?M.binToHex(W):null:D===h.DATE_TIME?W=W?W.getTime():null:D===h.OBJECT&&(W=W||null),d[C]=W}),d},a.prototype.keyOfIndex=function(l){var d=f.prototype.keyOfIndex.call(this,l);if(d===null){var g=this.functionMap.get(l);if(g)return g(this.payload())}return d},a}(M),ms=function(){function f(a,l,d,g,C){var D=this;this._name=a,this._indices=d,this._usePersistentIndex=g,this._columns=[],l.forEach(function(W){var ee=new Xu(D,W.name,W.unique,W.nullable,W.type);D[W.name]=ee,D._columns.push(ee)},this),this._referencingFK=null,this._functionMap=null,this._constraint=null,this._evalRegistry=at.get(),this._alias=C||null}return f.prototype.getName=function(){return this._name},f.prototype.getAlias=function(){return this._alias},f.prototype.getEffectiveName=function(){return this._alias||this._name},f.prototype.getIndices=function(){return this._indices||f.EMPTY_INDICES},f.prototype.getColumns=function(){return this._columns},f.prototype.getConstraint=function(){return this._constraint},f.prototype.persistentIndex=function(){return this._usePersistentIndex},f.prototype.as=function(a){var l=this._columns.map(function(g){return{name:g.getName(),nullable:g.isNullable(),type:g.getType(),unique:g.isUnique()}}),d=new f(this._name,l,this._indices,this._usePersistentIndex,a);return d._referencingFK=this._referencingFK,d._constraint=this._constraint,d._alias=a,d},f.prototype.col=function(a){return this[a]},f.prototype.getRowIdIndexName=function(){return this._name+"."+f.ROW_ID_INDEX_PATTERN},f.prototype.createRow=function(a){return new Ju(this._functionMap,this._columns,this._indices,M.getNextId(),a)},f.prototype.deserializeRow=function(a){var l={};return this._columns.forEach(function(d){var g=d.getName(),C=d.getType(),D=a.value[g];C===h.ARRAY_BUFFER?D=M.hexToBin(D):C===h.DATE_TIME&&(D=D!==null?new Date(D):null),l[g]=D}),new Ju(this._functionMap,this._columns,this._indices,a.id,l)},f.prototype.constructIndices=function(a,l,d,g,C){var D=this;if(l.size===0){this._constraint=new X(null,[],[]);return}var W=new Map;this._columns.forEach(function(me){return W.set(me.getName(),me)}),this._indices=Array.from(l.keys()).map(function(me){return new Q(D._name,me,d.has(me),D.generateIndexedColumns(l,W,me))}),this._functionMap=new Map,this._indices.forEach(function(me){return D._functionMap.set(me.getNormalizedName(),D.getKeyOfIndexFn(W,me))});var ee=a===null?null:new Q(this._name,a,!0,this.generateIndexedColumns(l,W,a)),ue=this._columns.filter(function(me){return!g.has(me.getName())});this._constraint=new X(ee,ue,C)},f.prototype.generateIndexedColumns=function(a,l,d){var g=a.get(d);if(g)return g.map(function(C){return{autoIncrement:C.autoIncrement,order:C.order,schema:l.get(C.name)}});throw new z(y.ASSERTION)},f.prototype.getSingleKeyFn=function(a,l){var d=a.get(l.getName());if(d){var g=d.getType(),C=this._evalRegistry.getKeyOfIndexEvaluator(g);return function(D){return C(D[l.getName()])}}throw new z(y.ASSERTION)},f.prototype.getMultiKeyFn=function(a,l){var d=this,g=l.map(function(C){return d.getSingleKeyFn(a,C.schema)});return function(C){return g.map(function(D){return D(C)})}},f.prototype.getKeyOfIndexFn=function(a,l){return l.columns.length===1?this.getSingleKeyFn(a,l.columns[0].schema):this.getMultiKeyFn(a,l.columns)},f.ROW_ID_INDEX_PATTERN="#",f.EMPTY_INDICES=[],f}(),gs=function(){function f(a){this.checkNamingRules(a),this.name=a,this.columns=new Map,this.uniqueColumns=new Set,this.uniqueIndices=new Set,this.nullable=new Set,this.pkName=null,this.indices=new Map,this.persistIndex=!1,this.fkSpecs=[]}return f.toPascal=function(a){return a[0].toUpperCase()+a.substring(1)},f.prototype.addColumn=function(a,l){return this.checkNamingRules(a),this.checkNameConflicts(a),this.columns.set(a,l),f.NULLABLE_TYPES_BY_DEFAULT.has(l)&&this.addNullable([a]),this},f.prototype.addPrimaryKey=function(a,l){l===void 0&&(l=!1),this.pkName="pk"+f.toPascal(this.name),this.checkNamingRules(this.pkName),this.checkNameConflicts(this.pkName);var d=this.normalizeColumns(a,!0,void 0,l);return this.checkPrimaryKey(d),d.length===1&&this.uniqueColumns.add(d[0].name),this.uniqueIndices.add(this.pkName),this.indices.set(this.pkName,d),this},f.prototype.addForeignKey=function(a,l){this.checkNamingRules(a),this.checkNameConflicts(a),l.action===void 0&&(l.action=i.RESTRICT),l.timing===void 0&&(l.timing=o.IMMEDIATE);var d=new ne(l,this.name,a);if(d.action===i.CASCADE&&d.timing===o.DEFERRABLE)throw new z(y.IMMEDIATE_EVAL_ONLY);if(!this.columns.has(d.childColumn))throw new z(y.INVALID_FK_REF,this.name+"."+a);return this.fkSpecs.push(d),this.addIndex(a,[d.childColumn],this.uniqueColumns.has(d.childColumn)),this},f.prototype.addUnique=function(a,l){this.checkNamingRules(a),this.checkNameConflicts(a);var d=this.normalizeColumns(l,!0);return d.length===1&&(this.uniqueColumns.add(d[0].name),this.markFkIndexForColumnUnique(d[0].name)),this.indices.set(a,d),this.uniqueIndices.add(a),this},f.prototype.addNullable=function(a){var l=this;return this.normalizeColumns(a,!1).forEach(function(d){return l.nullable.add(d.name)}),this},f.prototype.addIndex=function(a,l,d,g){return d===void 0&&(d=!1),g===void 0&&(g=u.ASC),this.checkNamingRules(a),this.checkNameConflicts(a),this.indices.set(a,this.normalizeColumns(l,!0,g)),d&&this.uniqueIndices.add(a),this},f.prototype.persistentIndex=function(a){this.persistIndex=a},f.prototype.getSchema=function(){var a=this;this.checkPrimaryKeyNotForeignKey(),this.checkPrimaryKeyDuplicateIndex(),this.checkPrimaryKeyNotNullable();var l=Array.from(this.columns.keys()).map(function(g){return{name:g,nullable:a.nullable.has(g)||!1,type:a.columns.get(g),unique:a.uniqueColumns.has(g)||!1}}),d=new ms(this.name,l,null,this.persistIndex);return d.constructIndices(this.pkName,this.indices,this.uniqueIndices,this.nullable,this.fkSpecs),d},f.prototype.getFkSpecs=function(){return this.fkSpecs},f.prototype.checkNamingRules=function(a){if(!/^[A-Za-z_][A-Za-z0-9_]*$/.test(a))throw new z(y.INVALID_NAME,a)},f.prototype.checkNameConflicts=function(a){if(a===this.name)throw new z(y.DUPLICATE_NAME,a);if(this.columns.has(a)||this.indices.has(a)||this.uniqueIndices.has(a))throw new z(y.NAME_IN_USE,this.name+"."+a)},f.prototype.checkPrimaryKey=function(a){var l=this,d=!1;if(a.forEach(function(g){var C=l.columns.get(g.name);if(d=d||g.autoIncrement,g.autoIncrement&&C!==h.INTEGER)throw new z(y.INVALID_AUTO_KEY_TYPE)}),d&&a.length>1)throw new z(y.INVALID_AUTO_KEY_COLUMN)},f.prototype.checkPrimaryKeyNotForeignKey=function(){if(this.pkName!==null){var a=this.indices.get(this.pkName);if(a){var l=a.map(function(C){return C.name}),d=0,g=this.fkSpecs.some(function(C,D){return d=D,l.indexOf(C.childColumn)!==-1});if(g)throw new z(y.PK_CANT_BE_FK,this.fkSpecs[d].name)}}},f.prototype.checkPrimaryKeyDuplicateIndex=function(){var a=this;if(this.pkName!==null){var l=this.indices.get(this.pkName);if(l){var d=function(C){return C.name},g=JSON.stringify(l.map(d));this.indices.forEach(function(C,D){if(D!==a.pkName&&JSON.stringify(C.map(d))===g)throw new z(y.DUPLICATE_PK,a.name+"."+D)})}}},f.prototype.checkPrimaryKeyNotNullable=function(){var a=this;if(this.pkName!==null){var l=this.indices.get(this.pkName);l&&l.forEach(function(d){if(a.nullable.has(d.name))throw new z(y.NULLABLE_PK,a.name+"."+d.name)})}},f.prototype.normalizeColumns=function(a,l,d,g){var C=this;d===void 0&&(d=u.ASC),g===void 0&&(g=!1);var D=null;if(typeof a[0]=="string"){var W=a;D=W.map(function(ee){return{autoIncrement:g||!1,name:ee,order:d}})}else D=a;return D.forEach(function(ee){if(!C.columns.has(ee.name))throw new z(y.COLUMN_NOT_FOUND,C.name,ee.name);if(l){var ue=C.columns.get(ee.name);if(ue===h.ARRAY_BUFFER||ue===h.OBJECT)throw new z(y.COLUMN_NOT_INDEXABLE,C.name,ee.name)}}),D},f.prototype.markFkIndexForColumnUnique=function(a){var l=this;this.fkSpecs.forEach(function(d){d.childColumn===a&&l.uniqueIndices.add(d.name.split(".")[1])})},f.NULLABLE_TYPES_BY_DEFAULT=new Set([h.ARRAY_BUFFER,h.OBJECT]),f}();e.TableBuilder=gs;var vs=function(){function f(a,l){this.schema=new Ye(a,l),this.tableBuilders=new Map,this.finalized=!1,this.db=null,this.connectInProgress=!1}return f.prototype.getSchema=function(){return this.finalized||this.finalize(),this.schema},f.prototype.getGlobal=function(){var a=new U("ns_"+this.schema.name()),l=F.get(),d;return l.isRegistered(a)?d=l.getService(a):(d=new F,l.registerService(a,d)),d},f.prototype.connect=function(a){var l=this;if(this.connectInProgress||this.db!==null&&this.db.isOpen())throw new z(y.ALREADY_CONNECTED);if(this.connectInProgress=!0,this.db===null){var d=this.getGlobal();d.isRegistered(Ue.SCHEMA)||d.registerService(Ue.SCHEMA,this.getSchema()),this.db=new ps(d)}return this.db.init(a).then(function(g){return l.connectInProgress=!1,g},function(g){throw l.connectInProgress=!1,l.db.close(),g})},f.prototype.createTable=function(a){if(this.tableBuilders.has(a))throw new z(y.NAME_IN_USE,a);if(this.finalized)throw new z(y.SCHEMA_FINALIZED);this.tableBuilders.set(a,new gs(a));var l=this.tableBuilders.get(a);if(!l)throw new z(y.ASSERTION,"Builder.createTable");return l},f.prototype.setPragma=function(a){if(this.finalized)throw new z(y.SCHEMA_FINALIZED);return this.schema._pragma=a,this},f.prototype.checkFkCycle=function(){var a=this,l=new Map;this.schema.tables().forEach(function(d){l.set(d.getName(),new Wl(d.getName()))},this),this.tableBuilders.forEach(function(d,g){d.getFkSpecs().forEach(function(C){var D=l.get(C.parentTable);D&&D.edges.add(g)})}),Array.from(l.values()).forEach(function(d){return a.checkCycleUtil(d,l)})},f.prototype.checkForeignKeyValidity=function(a){var l=this;a.getFkSpecs().forEach(function(d){var g=d.parentTable,C=l.tableBuilders.get(g);if(!C)throw new z(y.INVALID_FK_TABLE);var D=C.getSchema(),W=d.parentColumn;if(!Object.prototype.hasOwnProperty.call(D,W))throw new z(y.INVALID_FK_COLUMN);var ee=a.getSchema(),ue=d.childColumn;if(ee[ue].getType()!==D[W].getType())throw new z(y.INVALID_FK_COLUMN_TYPE,d.name);if(!D[W].isUnique())throw new z(y.FK_COLUMN_NONUNIQUE,d.name)},this)},f.prototype.checkForeignKeyChain=function(a){var l=this,d=a.getFkSpecs();d.forEach(function(g){var C=l.tableBuilders.get(g.parentTable);C&&C.getFkSpecs().forEach(function(D){if(D.childColumn===g.parentColumn)throw new z(y.FK_COLUMN_IN_USE,g.name)},l)},this)},f.prototype.finalize=function(){var a=this;this.finalized||(this.tableBuilders.forEach(function(l,d){a.checkForeignKeyValidity(l),a.schema.setTable(l.getSchema())}),Array.from(this.tableBuilders.values()).forEach(this.checkForeignKeyChain,this),this.checkFkCycle(),this.tableBuilders.clear(),this.finalized=!0)},f.prototype.checkCycleUtil=function(a,l){var d=this;a.visited||(a.visited=!0,a.onStack=!0,a.edges.forEach(function(g){var C=l.get(g);if(C){if(!C.visited)d.checkCycleUtil(C,l);else if(C.onStack&&a!==C)throw new z(y.FK_LOOP)}},this)),a.onStack=!1},f}();e.Builder=vs;var jl=function(){function f(){}return f.create=function(a,l){return new vs(a,l)},f}();e.schema=jl})(mP);const gP=mP,l5={debugMode:!1,memoryOnly:!0};gP.options.set(l5);var Ee=gP,Lt=(e=>(e.Collection="Collection",e.CollectionItem="CollectionItem",e.Column="Column",e.ColumnConstraint="ColumnConstraint",e.Directory="Directory",e.DoctrineColumnType="DoctrineColumnType",e.Entity="Entity",e.Example="Example",e.ExampleMap="ExampleMap",e.File="File",e.Index="Index",e.IndexColumn="IndexColumn",e.Module="Module",e.ModuleAction="ModuleAction",e.ModuleActionResponse="ModuleActionResponse",e.ParameterMap="ParameterMap",e.Path="Path",e.PathMethod="PathMethod",e.Relation="Relation",e.Request="Request",e.Response="Response",e.Server="Server",e.ServerMap="ServerMap",e.ServerVariable="ServerVariable",e.TypeFormat="TypeFormat",e.Variable="Variable",e.Wu="Wu",e.WuColumn="WuColumn",e.WuColumnConstraint="WuColumnConstraint",e.WuParameter="WuParameter",e))(Lt||{});function u5(e){let t="Collection",n=ra(e,t).addColumn("valueDescription",Ee.Type.STRING).addColumn("tagDescription",Ee.Type.STRING);t="CollectionItem",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addColumn("name",Ee.Type.STRING).addColumn("value",Ee.Type.STRING).addColumn("tag",Ee.Type.STRING).addPrimaryKey(["id"],!0),dt(n,t,"Collection"),or(n,t,[Pt("Collection"),"name"]),t="Directory",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addColumn("opened",Ee.Type.BOOLEAN).addColumn("name",Ee.Type.STRING).addColumn("description",Ee.Type.STRING).addColumn("parentId",Ee.Type.INTEGER).addPrimaryKey(["id"],!0).addNullable(["parentId"]),or(n,t,["parentId","name"]),t="DoctrineColumnType",n=ra(e,t).addColumn("fakeMethod",Ee.Type.STRING).addColumn("fakeText",Ee.Type.STRING).addColumn("oapiFormat",Ee.Type.STRING).addColumn("oapiType",Ee.Type.STRING).addColumn("phpType",Ee.Type.STRING),t="File",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addColumn("isSingle",Ee.Type.BOOLEAN).addColumn("name",Ee.Type.STRING).addColumn("color",Ee.Type.STRING).addColumn("layer",Ee.Type.STRING).addColumn("description",Ee.Type.STRING).addColumn("nameSpacePattern",Ee.Type.STRING).addColumn("fileNamePattern",Ee.Type.STRING).addPrimaryKey(["id"],!0),dt(n,t,"Directory"),or(n,t,["name"]),t="Entity",n=ra(e,t).addColumn("isTable",Ee.Type.BOOLEAN).addColumn("table",Ee.Type.STRING).addColumn("opened",Ee.Type.BOOLEAN).addColumn("openedColumn",Ee.Type.BOOLEAN).addColumn("x",Ee.Type.INTEGER).addColumn("y",Ee.Type.INTEGER),t="TypeFormat",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addPrimaryKey(["id"],!0).addColumn("type",Ee.Type.STRING).addColumn("format",Ee.Type.STRING).addColumn("isArray",Ee.Type.BOOLEAN).addColumn("nullable",Ee.Type.BOOLEAN).addColumn("ownerId",Ee.Type.INTEGER).addNullable(["ownerId"]),dt(n,t,"Variable"),dt(n,t,"Wu"),dt(n,t,"WuParameter"),dt(n,t,"WuParameter","forWuParameterId",!0),dt(n,t,"Column","ownerColumnId",!0),dt(n,t,"Request","ownerRequestId",!0),dt(n,t,"Response","ownerResponseId",!0),dt(n,t,"Wu","ownerWuId",!0),dt(n,t,"Wu","ownerWuChildId",!0),n.addNullable([Pt("Variable"),Pt("WuParameter")]),t="Column",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addPrimaryKey(["id"],!0).addColumn("name",Ee.Type.STRING).addColumn("type",Ee.Type.STRING).addColumn("length",Ee.Type.INTEGER).addColumn("scale",Ee.Type.INTEGER).addColumn("unsigned",Ee.Type.BOOLEAN).addColumn("nullable",Ee.Type.BOOLEAN).addColumn("comment",Ee.Type.STRING).addColumn("default",Ee.Type.STRING).addColumn("fillable",Ee.Type.BOOLEAN).addColumn("hidden",Ee.Type.BOOLEAN).addColumn("ro",Ee.Type.BOOLEAN).addColumn("wo",Ee.Type.BOOLEAN).addColumn("cast",Ee.Type.STRING).addColumn("fakeRaw",Ee.Type.BOOLEAN).addColumn("fakeUnique",Ee.Type.BOOLEAN).addColumn("fakeMethod",Ee.Type.STRING).addColumn("fakeText",Ee.Type.STRING).addColumn("inTable",Ee.Type.BOOLEAN).addColumn("allowReserved",Ee.Type.BOOLEAN).addColumn("color",Ee.Type.STRING).addColumn("deprecated",Ee.Type.BOOLEAN).addColumn("description",Ee.Type.BOOLEAN).addColumn("example",Ee.Type.STRING).addColumn("explode",Ee.Type.BOOLEAN).addColumn("required",Ee.Type.BOOLEAN).addColumn("style",Ee.Type.STRING),dt(n,t,"Entity"),or(n,t,[Pt("Entity"),"name"]),t="ColumnConstraint",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addColumn("name",Ee.Type.STRING).addColumn("parameter",Ee.Type.STRING).addPrimaryKey(["id"],!0),dt(n,t,"Column"),t="Relation",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addColumn("type",Ee.Type.STRING).addColumn("name0",Ee.Type.STRING).addColumn("name1",Ee.Type.STRING).addPrimaryKey(["id"],!0),dt(n,t,"Entity","entity0Id"),dt(n,t,"Entity","entity1Id"),dt(n,t,"Column","column1Id"),t="Index",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addColumn("type",Ee.Type.STRING).addPrimaryKey(["id"],!0),dt(n,t,"Entity"),t="IndexColumn",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addColumn("sort",Ee.Type.INTEGER).addPrimaryKey(["id"],!0),dt(n,t,"Column"),dt(n,t,"Index"),or(n,t,[Pt("Column"),Pt("Index")]),t="Wu",n=ra(e,t).addColumn("type",Ee.Type.STRING).addColumn("example",Ee.Type.STRING).addColumn("isRequest",Ee.Type.BOOLEAN).addColumn("isMap",Ee.Type.BOOLEAN),dt(n,t,"Entity"),t="WuColumn",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addColumn("alias",Ee.Type.STRING).addPrimaryKey(["id"],!0),dt(n,t,"Wu"),dt(n,t,"Column"),t="WuColumnConstraint",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addPrimaryKey(["id"],!0),dt(n,t,"ColumnConstraint"),dt(n,t,"WuColumn"),t="WuParameter",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addColumn("name",Ee.Type.STRING).addColumn("description",Ee.Type.STRING).addColumn("isWu",Ee.Type.BOOLEAN).addPrimaryKey(["id"],!0),dt(n,t,"Wu"),or(n,t,[Pt("Wu"),"name"]),t="Module",n=ra(e,t).addColumn("prefix",Ee.Type.STRING),dt(n,t,"File"),dt(n,t,"Directory"),dt(n,t,"Directory","testDirectoryId"),or(n,t,["prefix"]),t="Path",n=vP(e,t).addColumn("summary",Ee.Type.STRING),dt(n,t,"Module"),dt(n,t,"Entity"),or(n,t,[Pt("Module"),"name"]),t="ModuleAction",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addColumn("deprecated",Ee.Type.BOOLEAN).addColumn("inOapi",Ee.Type.BOOLEAN).addColumn("inRoute",Ee.Type.BOOLEAN).addColumn("description",Ee.Type.STRING).addColumn("filezz",Ee.Type.OBJECT).addColumn("name",Ee.Type.STRING).addColumn("operationId",Ee.Type.STRING).addColumn("summary",Ee.Type.STRING).addColumn("routeName",Ee.Type.STRING).addPrimaryKey(["id"],!0),dt(n,t,"Directory"),dt(n,t,"Request"),dt(n,t,"Entity"),dt(n,t,"Module"),or(n,t,["operationId"]),or(n,t,[Pt("Entity"),Pt("Module"),"name"]),t="ParameterMap",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addColumn("alias",Ee.Type.STRING).addPrimaryKey(["id"],!0),dt(n,t,"Column"),dt(n,t,"Path"),dt(n,t,"Request"),dt(n,t,"Response"),or(n,t,[Pt("Column"),Pt("Path"),Pt("Request"),Pt("Response")]).addNullable([Pt("Path"),Pt("Request"),Pt("Response")]),t="Request",n=ra(e,t).addColumn("example",Ee.Type.STRING).addColumn("mediaType",Ee.Type.STRING).addColumn("required",Ee.Type.BOOLEAN),t="Response",n=ra(e,t).addColumn("example",Ee.Type.STRING).addColumn("mediaType",Ee.Type.STRING),t="ModuleActionResponse",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addColumn("description",Ee.Type.STRING).addColumn("status",Ee.Type.STRING).addPrimaryKey(["id"],!0),dt(n,t,"ModuleAction"),dt(n,t,"Response"),or(n,t,[Pt("ModuleAction"),"status"]),t="Example",n=ra(e,t).addColumn("summary",Ee.Type.STRING).addColumn("value",Ee.Type.STRING),t="ExampleMap",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addPrimaryKey(["id"],!0),dt(n,t,"Example"),dt(n,t,"Request"),dt(n,t,"Response"),or(n,t,[Pt("Example"),Pt("Request"),Pt("Response")]).addNullable([Pt("Request"),Pt("Response")]),t="Server",n=ra(e,t).addColumn("global",Ee.Type.BOOLEAN),t="ServerMap",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addPrimaryKey(["id"],!0),dt(n,t,"Path"),dt(n,t,"Request"),dt(n,t,"Server"),or(n,t,[Pt("Path"),Pt("Request"),Pt("Server")]).addNullable([Pt("Path"),Pt("Request")]),t="Variable",n=ra(e,t).addColumn("default",Ee.Type.STRING).addColumn("enum",Ee.Type.OBJECT).addColumn("type",Ee.Type.STRING),t="ServerVariable",n=e.createTable(t).addColumn("id",Ee.Type.INTEGER).addPrimaryKey(["id"],!0),dt(n,t,"Server"),dt(n,t,"Variable"),or(n,t,[Pt("Server"),Pt("Variable")]),t="PathMethod",n=e.createTable(t).addColumn("method",Ee.Type.STRING).addColumn("middlewarezz",Ee.Type.OBJECT).addColumn("id",Ee.Type.INTEGER).addPrimaryKey(["id"],!0),dt(n,t,"ModuleAction"),dt(n,t,"Path"),or(n,t,["method",Pt("Path")])}function vP(e,t){return e.createTable(t).addColumn("id",Ee.Type.INTEGER).addColumn("name",Ee.Type.STRING).addColumn("color",Ee.Type.STRING).addColumn("description",Ee.Type.STRING).addColumn("reserved",Ee.Type.BOOLEAN).addPrimaryKey(["id"],!0)}function ra(e,t){const n=vP(e,t);return or(n,t,["name"]),n}function dt(e,t,n,r,i=!1){const o=r!=null?r:Pt(n);return e.addColumn(o,Ee.Type.INTEGER).addForeignKey(`fk_${t}_${o}`,{action:Ee.ConstraintAction.CASCADE,local:o,ref:n+".id"}),i?e.addNullable([o]):e}function Pt(e,t=oh.SineCase){const n=e+Jt.Id;switch(t){case oh.SineCase:return Ph.lowerFirst(n);case oh.SnakeCase:return Ph.snakeCase(n)}return n}function or(e,t,n){return e.addUnique(`uk_${t}_${n.join("_")}`,n)}var XE={exports:{}},yP=function(t,n){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(n,i)}},c5=yP,JE=Object.prototype.toString,QE=function(e){return function(t){var n=JE.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function Du(e){return e=e.toLowerCase(),function(n){return QE(n)===e}}function ZE(e){return Array.isArray(e)}function Fg(e){return typeof e=="undefined"}function f5(e){return e!==null&&!Fg(e)&&e.constructor!==null&&!Fg(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}var wP=Du("ArrayBuffer");function d5(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&wP(e.buffer),t}function h5(e){return typeof e=="string"}function p5(e){return typeof e=="number"}function bP(e){return e!==null&&typeof e=="object"}function Gm(e){if(QE(e)!=="object")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}var m5=Du("Date"),g5=Du("File"),v5=Du("Blob"),y5=Du("FileList");function eC(e){return JE.call(e)==="[object Function]"}function w5(e){return bP(e)&&eC(e.pipe)}function b5(e){var t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||JE.call(e)===t||eC(e.toString)&&e.toString()===t)}var S5=Du("URLSearchParams");function E5(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function C5(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function tC(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),ZE(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function rS(){var e={};function t(i,o){Gm(e[o])&&Gm(i)?e[o]=rS(e[o],i):Gm(i)?e[o]=rS({},i):ZE(i)?e[o]=i.slice():e[o]=i}for(var n=0,r=arguments.length;n<r;n++)tC(arguments[n],t);return e}function x5(e,t,n){return tC(t,function(i,o){n&&typeof i=="function"?e[o]=c5(i,n):e[o]=i}),e}function N5(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}function I5(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)}function O5(e,t,n){var r,i,o,s={};t=t||{};do{for(r=Object.getOwnPropertyNames(e),i=r.length;i-- >0;)o=r[i],s[o]||(t[o]=e[o],s[o]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t}function T5(e,t,n){e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return r!==-1&&r===n}function _5(e){if(!e)return null;var t=e.length;if(Fg(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n}var A5=function(e){return function(t){return e&&t instanceof e}}(typeof Uint8Array!="undefined"&&Object.getPrototypeOf(Uint8Array)),dr={isArray:ZE,isArrayBuffer:wP,isBuffer:f5,isFormData:b5,isArrayBufferView:d5,isString:h5,isNumber:p5,isObject:bP,isPlainObject:Gm,isUndefined:Fg,isDate:m5,isFile:g5,isBlob:v5,isFunction:eC,isStream:w5,isURLSearchParams:S5,isStandardBrowserEnv:C5,forEach:tC,merge:rS,extend:x5,trim:E5,stripBOM:N5,inherits:I5,toFlatObject:O5,kindOf:QE,kindOfTest:Du,endsWith:T5,toArray:_5,isTypedArray:A5,isFileList:y5},dc=dr;function aT(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var SP=function(t,n,r){if(!n)return t;var i;if(r)i=r(n);else if(dc.isURLSearchParams(n))i=n.toString();else{var o=[];dc.forEach(n,function(h,p){h===null||typeof h=="undefined"||(dc.isArray(h)?p=p+"[]":h=[h],dc.forEach(h,function(y){dc.isDate(y)?y=y.toISOString():dc.isObject(y)&&(y=JSON.stringify(y)),o.push(aT(p)+"="+aT(y))}))}),i=o.join("&")}if(i){var s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t},R5=dr;function jv(){this.handlers=[]}jv.prototype.use=function(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};jv.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};jv.prototype.forEach=function(t){R5.forEach(this.handlers,function(r){r!==null&&t(r)})};var P5=jv,k5=dr,D5=function(t,n){k5.forEach(t,function(i,o){o!==n&&o.toUpperCase()===n.toUpperCase()&&(t[n]=i,delete t[o])})},EP=dr;function af(e,t,n,r,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}EP.inherits(af,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var CP=af.prototype,xP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(e){xP[e]={value:e}});Object.defineProperties(af,xP);Object.defineProperty(CP,"isAxiosError",{value:!0});af.from=function(e,t,n,r,i,o){var s=Object.create(CP);return EP.toFlatObject(e,s,function(h){return h!==Error.prototype}),af.call(s,e.message,t,n,r,i),s.name=e.name,o&&Object.assign(s,o),s};var Rf=af,NP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Co=dr;function L5(e,t){t=t||new FormData;var n=[];function r(o){return o===null?"":Co.isDate(o)?o.toISOString():Co.isArrayBuffer(o)||Co.isTypedArray(o)?typeof Blob=="function"?new Blob([o]):Buffer.from(o):o}function i(o,s){if(Co.isPlainObject(o)||Co.isArray(o)){if(n.indexOf(o)!==-1)throw Error("Circular reference detected in "+s);n.push(o),Co.forEach(o,function(h,p){if(!Co.isUndefined(h)){var v=s?s+"."+p:p,y;if(h&&!s&&typeof h=="object"){if(Co.endsWith(p,"{}"))h=JSON.stringify(h);else if(Co.endsWith(p,"[]")&&(y=Co.toArray(h))){y.forEach(function(b){!Co.isUndefined(b)&&t.append(v,r(b))});return}}i(h,v)}}),n.pop()}else t.append(s,r(o))}return i(e),t}var IP=L5,gb=Rf,M5=function(t,n,r){var i=r.config.validateStatus;!r.status||!i||i(r.status)?t(r):n(new gb("Request failed with status code "+r.status,[gb.ERR_BAD_REQUEST,gb.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))},wm=dr,z5=wm.isStandardBrowserEnv()?function(){return{write:function(n,r,i,o,s,u){var h=[];h.push(n+"="+encodeURIComponent(r)),wm.isNumber(i)&&h.push("expires="+new Date(i).toGMTString()),wm.isString(o)&&h.push("path="+o),wm.isString(s)&&h.push("domain="+s),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(n){var r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),B5=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},F5=function(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t},U5=B5,$5=F5,OP=function(t,n){return t&&!U5(n)?$5(t,n):n},vb=dr,W5=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],j5=function(t){var n={},r,i,o;return t&&vb.forEach(t.split(`
`),function(u){if(o=u.indexOf(":"),r=vb.trim(u.substr(0,o)).toLowerCase(),i=vb.trim(u.substr(o+1)),r){if(n[r]&&W5.indexOf(r)>=0)return;r==="set-cookie"?n[r]=(n[r]?n[r]:[]).concat([i]):n[r]=n[r]?n[r]+", "+i:i}}),n},sT=dr,K5=sT.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),r;function i(o){var s=o;return t&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){var u=sT.isString(s)?i(s):s;return u.protocol===r.protocol&&u.host===r.host}}():function(){return function(){return!0}}(),iS=Rf,V5=dr;function TP(e){iS.call(this,e==null?"canceled":e,iS.ERR_CANCELED),this.name="CanceledError"}V5.inherits(TP,iS,{__CANCEL__:!0});var Kv=TP,q5=function(t){var n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""},Nd=dr,H5=M5,G5=z5,Y5=SP,X5=OP,J5=j5,Q5=K5,Z5=NP,za=Rf,eV=Kv,tV=q5,lT=function(t){return new Promise(function(r,i){var o=t.data,s=t.headers,u=t.responseType,h;function p(){t.cancelToken&&t.cancelToken.unsubscribe(h),t.signal&&t.signal.removeEventListener("abort",h)}Nd.isFormData(o)&&Nd.isStandardBrowserEnv()&&delete s["Content-Type"];var v=new XMLHttpRequest;if(t.auth){var y=t.auth.username||"",b=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.Authorization="Basic "+btoa(y+":"+b)}var I=X5(t.baseURL,t.url);v.open(t.method.toUpperCase(),Y5(I,t.params,t.paramsSerializer),!0),v.timeout=t.timeout;function O(){if(!!v){var S="getAllResponseHeaders"in v?J5(v.getAllResponseHeaders()):null,N=!u||u==="text"||u==="json"?v.responseText:v.response,_={data:N,status:v.status,statusText:v.statusText,headers:S,config:t,request:v};H5(function(M){r(M),p()},function(M){i(M),p()},_),v=null}}if("onloadend"in v?v.onloadend=O:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(O)},v.onabort=function(){!v||(i(new za("Request aborted",za.ECONNABORTED,t,v)),v=null)},v.onerror=function(){i(new za("Network Error",za.ERR_NETWORK,t,v,v)),v=null},v.ontimeout=function(){var N=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",_=t.transitional||Z5;t.timeoutErrorMessage&&(N=t.timeoutErrorMessage),i(new za(N,_.clarifyTimeoutError?za.ETIMEDOUT:za.ECONNABORTED,t,v)),v=null},Nd.isStandardBrowserEnv()){var k=(t.withCredentials||Q5(I))&&t.xsrfCookieName?G5.read(t.xsrfCookieName):void 0;k&&(s[t.xsrfHeaderName]=k)}"setRequestHeader"in v&&Nd.forEach(s,function(N,_){typeof o=="undefined"&&_.toLowerCase()==="content-type"?delete s[_]:v.setRequestHeader(_,N)}),Nd.isUndefined(t.withCredentials)||(v.withCredentials=!!t.withCredentials),u&&u!=="json"&&(v.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&v.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&v.upload&&v.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(h=function(S){!v||(i(!S||S&&S.type?new eV:S),v.abort(),v=null)},t.cancelToken&&t.cancelToken.subscribe(h),t.signal&&(t.signal.aborted?h():t.signal.addEventListener("abort",h))),o||(o=null);var E=tV(I);if(E&&["http","https","file"].indexOf(E)===-1){i(new za("Unsupported protocol "+E+":",za.ERR_BAD_REQUEST,t));return}v.send(o)})},nV=null,Gn=dr,uT=D5,cT=Rf,rV=NP,iV=IP,oV={"Content-Type":"application/x-www-form-urlencoded"};function fT(e,t){!Gn.isUndefined(e)&&Gn.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function aV(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=lT),e}function sV(e,t,n){if(Gn.isString(e))try{return(t||JSON.parse)(e),Gn.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}var Vv={transitional:rV,adapter:aV(),transformRequest:[function(t,n){if(uT(n,"Accept"),uT(n,"Content-Type"),Gn.isFormData(t)||Gn.isArrayBuffer(t)||Gn.isBuffer(t)||Gn.isStream(t)||Gn.isFile(t)||Gn.isBlob(t))return t;if(Gn.isArrayBufferView(t))return t.buffer;if(Gn.isURLSearchParams(t))return fT(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var r=Gn.isObject(t),i=n&&n["Content-Type"],o;if((o=Gn.isFileList(t))||r&&i==="multipart/form-data"){var s=this.env&&this.env.FormData;return iV(o?{"files[]":t}:t,s&&new s)}else if(r||i==="application/json")return fT(n,"application/json"),sV(t);return t}],transformResponse:[function(t){var n=this.transitional||Vv.transitional,r=n&&n.silentJSONParsing,i=n&&n.forcedJSONParsing,o=!r&&this.responseType==="json";if(o||i&&Gn.isString(t)&&t.length)try{return JSON.parse(t)}catch(s){if(o)throw s.name==="SyntaxError"?cT.from(s,cT.ERR_BAD_RESPONSE,this,null,this.response):s}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nV},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Gn.forEach(["delete","get","head"],function(t){Vv.headers[t]={}});Gn.forEach(["post","put","patch"],function(t){Vv.headers[t]=Gn.merge(oV)});var nC=Vv,lV=dr,uV=nC,cV=function(t,n,r){var i=this||uV;return lV.forEach(r,function(s){t=s.call(i,t,n)}),t},_P=function(t){return!!(t&&t.__CANCEL__)},dT=dr,yb=cV,fV=_P,dV=nC,hV=Kv;function wb(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new hV}var pV=function(t){wb(t),t.headers=t.headers||{},t.data=yb.call(t,t.data,t.headers,t.transformRequest),t.headers=dT.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),dT.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var n=t.adapter||dV.adapter;return n(t).then(function(i){return wb(t),i.data=yb.call(t,i.data,i.headers,t.transformResponse),i},function(i){return fV(i)||(wb(t),i&&i.response&&(i.response.data=yb.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},gi=dr,AP=function(t,n){n=n||{};var r={};function i(v,y){return gi.isPlainObject(v)&&gi.isPlainObject(y)?gi.merge(v,y):gi.isPlainObject(y)?gi.merge({},y):gi.isArray(y)?y.slice():y}function o(v){if(gi.isUndefined(n[v])){if(!gi.isUndefined(t[v]))return i(void 0,t[v])}else return i(t[v],n[v])}function s(v){if(!gi.isUndefined(n[v]))return i(void 0,n[v])}function u(v){if(gi.isUndefined(n[v])){if(!gi.isUndefined(t[v]))return i(void 0,t[v])}else return i(void 0,n[v])}function h(v){if(v in n)return i(t[v],n[v]);if(v in t)return i(void 0,t[v])}var p={url:s,method:s,data:s,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h};return gi.forEach(Object.keys(t).concat(Object.keys(n)),function(y){var b=p[y]||o,I=b(y);gi.isUndefined(I)&&b!==h||(r[y]=I)}),r},RP={version:"0.27.2"},mV=RP.version,_s=Rf,rC={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){rC[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var hT={};rC.transitional=function(t,n,r){function i(o,s){return"[Axios v"+mV+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return function(o,s,u){if(t===!1)throw new _s(i(s," has been removed"+(n?" in "+n:"")),_s.ERR_DEPRECATED);return n&&!hT[s]&&(hT[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,s,u):!0}};function gV(e,t,n){if(typeof e!="object")throw new _s("options must be an object",_s.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],s=t[o];if(s){var u=e[o],h=u===void 0||s(u,o,e);if(h!==!0)throw new _s("option "+o+" must be "+h,_s.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new _s("Unknown option "+o,_s.ERR_BAD_OPTION)}}var vV={assertOptions:gV,validators:rC},PP=dr,yV=SP,pT=P5,mT=pV,qv=AP,wV=OP,kP=vV,hc=kP.validators;function sf(e){this.defaults=e,this.interceptors={request:new pT,response:new pT}}sf.prototype.request=function(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=qv(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var r=n.transitional;r!==void 0&&kP.assertOptions(r,{silentJSONParsing:hc.transitional(hc.boolean),forcedJSONParsing:hc.transitional(hc.boolean),clarifyTimeoutError:hc.transitional(hc.boolean)},!1);var i=[],o=!0;this.interceptors.request.forEach(function(I){typeof I.runWhen=="function"&&I.runWhen(n)===!1||(o=o&&I.synchronous,i.unshift(I.fulfilled,I.rejected))});var s=[];this.interceptors.response.forEach(function(I){s.push(I.fulfilled,I.rejected)});var u;if(!o){var h=[mT,void 0];for(Array.prototype.unshift.apply(h,i),h=h.concat(s),u=Promise.resolve(n);h.length;)u=u.then(h.shift(),h.shift());return u}for(var p=n;i.length;){var v=i.shift(),y=i.shift();try{p=v(p)}catch(b){y(b);break}}try{u=mT(p)}catch(b){return Promise.reject(b)}for(;s.length;)u=u.then(s.shift(),s.shift());return u};sf.prototype.getUri=function(t){t=qv(this.defaults,t);var n=wV(t.baseURL,t.url);return yV(n,t.params,t.paramsSerializer)};PP.forEach(["delete","get","head","options"],function(t){sf.prototype[t]=function(n,r){return this.request(qv(r||{},{method:t,url:n,data:(r||{}).data}))}});PP.forEach(["post","put","patch"],function(t){function n(r){return function(o,s,u){return this.request(qv(u||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}sf.prototype[t]=n(),sf.prototype[t+"Form"]=n(!0)});var bV=sf,SV=Kv;function lf(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var n=this;this.promise.then(function(r){if(!!n._listeners){var i,o=n._listeners.length;for(i=0;i<o;i++)n._listeners[i](r);n._listeners=null}}),this.promise.then=function(r){var i,o=new Promise(function(s){n.subscribe(s),i=s}).then(r);return o.cancel=function(){n.unsubscribe(i)},o},e(function(i){n.reason||(n.reason=new SV(i),t(n.reason))})}lf.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};lf.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};lf.prototype.unsubscribe=function(t){if(!!this._listeners){var n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}};lf.source=function(){var t,n=new lf(function(i){t=i});return{token:n,cancel:t}};var EV=lf,CV=function(t){return function(r){return t.apply(null,r)}},xV=dr,NV=function(t){return xV.isObject(t)&&t.isAxiosError===!0},gT=dr,IV=yP,Ym=bV,OV=AP,TV=nC;function DP(e){var t=new Ym(e),n=IV(Ym.prototype.request,t);return gT.extend(n,Ym.prototype,t),gT.extend(n,t),n.create=function(i){return DP(OV(e,i))},n}var Zr=DP(TV);Zr.Axios=Ym;Zr.CanceledError=Kv;Zr.CancelToken=EV;Zr.isCancel=_P;Zr.VERSION=RP.version;Zr.toFormData=IP;Zr.AxiosError=Rf;Zr.Cancel=Zr.CanceledError;Zr.all=function(t){return Promise.all(t)};Zr.spread=CV;Zr.isAxiosError=NV;XE.exports=Zr;XE.exports.default=Zr;var LP=XE.exports;let ma=MP();function MP(){return LP.create({baseURL:location.origin+"/"+Jt.Name2,timeout:33e3})}function _V(){return ma=MP(),AV()}function AV(){return ma.get("")}function RV(e,t=!1){return ma.put("",{content:e,backup:t})}function iC(e,t){return ma.put("file",{file:e,content:t})}function zP(e){return ma.get("file",{params:{folder:e}})}function PV(){return ma.get("dbschema")}function kV(){return ma.get("dbmigration")}function DV(e){return ma.post("migration",{step:e})}function LV(){return ma.post("migration/file")}function MV(e){return ma.delete("migration/file",{data:{file:e}})}const Hv=".js",Gv=".txt",vT="code-factory.js",Ug="code-helper.js",yT="code-validation.js";function Yv(e){return Jt.Folder+"/"+e}function sl(e,t){return`file-${e.id+t}`}function ll(e){return Jt.Folder+"/code004/"+e}const wT=37;function zV(e,t){if(e.version===wT)e.version=wT+1;else return}function Js(e,t,n=new Map){return e.forEach(function(r){const i=r[t];let o=n.get(i);o===void 0&&(o=[],n.set(i,o)),o.push(r)}),n}function Pr(e,t=new Map){return e.forEach(n=>t.set(n.id,n)),t}function oC(e,t=new Map){return e.forEach(n=>t.set(n.id,n.name)),t}const bT=38;function BV(e,t){if(e.version===bT)e.version=bT+1;else return;const n=oC(e.tables.Directory);e.tables.ModuleAction.forEach(function(r){var i;r.name=(i=n.get(r.directoryId))!=null?i:""})}const ST=39;function FV(e,t){if(e.version===ST)e.version=ST+1;else return;const n=e.tables,r=Pr(e.tables.File),i=Js(n.ModuleActionFile,"moduleActionId");delete n.ModuleActionFile,e.tables.ModuleAction.forEach(function(o){var s;o.filezz=[],(s=i.get(o.id))==null||s.forEach(function(u){const h=r.get(u.fileId);h&&o.filezz.push({...h,isExtra:!1})})})}const ET=40;function UV(e,t){if(e.version===ET)e.version=ET+1;else return;e.tables.Column.forEach(o=>o.hidden=!1);const n="TypeFormat";if(e.tables.Collection.find(o=>o.name===n))return;const r=t.db.tables.Collection.find(o=>o.name===n);if(r===void 0)throw new Error(`Collection ${n} not found`);e.tables.Collection.push(r);const i=t.db.tables.CollectionItem.filter(o=>o.collectionId===r.id);e.tables.CollectionItem.push(...i)}const CT=41;function $V(e,t){if(e.version===CT)e.version=CT+1;else return;e.tables.ModuleAction.forEach(n=>n.routeName="")}const xT=42;function WV(e,t){if(e.version===xT)e.version=xT+1;else return;e.tables.ModuleAction.forEach(n=>{n.inOapi=!0,n.inRoute=!0})}const NT=43;function jV(e,t){if(e.version===NT)e.version=NT+1;else return;e.tables.File.forEach(n=>n.isSingle=!1)}const KV=37,aC=44;function VV(e,t,n){if(e.version!==aC){if(t&&qV(e,t),e.version<KV)throw new Error(`data version ${e.version} is no longer supported`);zV(e),BV(e),FV(e),UV(e,n),$V(e),WV(e),jV(e)}}function qV(e,t){const n="000"+e.version,r=new Date().toISOString().replaceAll(":","_");iC(Yv(`v${n.slice(-3)}-${r}.json`),t)}const sC=Ee.schema.create("LB",aC);u5(sC);let bb;async function jt(){return bb===void 0&&(bb=await sC.connect()),bb}function HV(e){const t=sC.getGlobal().getService(new YV("indexstore")),n=e.getConstraint().getPrimaryKey();return t.get(n.getNormalizedName()).stats().maxKeyEncountered}function up(){return jt().then(e=>e.export()).then(e=>e)}function GV(e){return jt().then(t=>t.import(e))}class YV{constructor(t){this.serviceId=t}toString(){return this.serviceId}getAsType(){return{}}}function XV(e,t,n){return BP(e,t,[n]).then(r=>{if(r.length===0)throw new Error(`fail to create item in ${t}`);return r[0]})}function BP(e,t,n){if(n.length===0)return Promise.resolve([]);const r=e.getSchema().table(t);{const o=HV(r),s=1e3;o<s&&n.forEach((u,h)=>u.id=s+h)}const i=n.map(o=>r.createRow(o));return e.insert().into(r).values(i).exec()}function JV(e,t,n,r){const i=e.getSchema().table(t);return e.delete().from(i).where(i.col(r).eq(n)).exec()}function QV(e,t,n,r="id"){const i=e.getSchema().table(t);return e.delete().from(i).where(i.col(r).in(n)).exec()}function ZV(e,t){const n=e.getSchema().table(t);return e.select().from(n).exec()}function eq(e,t,n,r){const i=e.getSchema().table(t);return e.select().from(i).where(i.col(r).in(n)).exec()}function tq(e,t,n,r){const i=e.getSchema().table(t);return e.select().from(i).where(i.col(r).eq(n)).exec()}function nq(e,t,n,r="id"){const i=e.getSchema().table(t);return e.select().from(i).where(i.col(r).eq(n)).exec().then(s=>{if(s.length===0)throw new Error(`${t} ${r} ${n} not found`);return s[0]})}function rq(e,t,n){return FP(e,t,[n]).then(r=>{if(r.length===0)throw new Error(`fail to update ${t}`);return r[0]})}function FP(e,t,n){const r=e.getSchema().table(t),i=[];return n.forEach(o=>i.push(r.createRow(o))),e.insertOrReplace().into(r).values(i).exec()}function iq(e,t,n,r,i){const o=e.getSchema().table(t);return e.update(o).set(o.col(n),r).where(o.col(n).eq(i)).exec()}class Gt{constructor(t,n){this.dbcf=t,this.schema=n}create(t){return this.dbcf().then(n=>XV(n,this.schema,t))}createMany(t){return this.dbcf().then(n=>BP(n,this.schema,t))}delete(t){return this.deleteMany([t])}deleteChildzz(t,n){return this.dbcf().then(r=>JV(r,this.schema,t,n))}deleteMany(t){return this.dbcf().then(n=>QV(n,this.schema,t))}findAll(){return this.dbcf().then(t=>ZV(t,this.schema))}findAllBelongTo(t,n){return this.dbcf().then(r=>eq(r,this.schema,t,n))}findChildzz(t,n){return this.dbcf().then(r=>tq(r,this.schema,t,n))}observeAll(t){return this.dbcf().then(n=>{const r=n.getSchema().table(this.schema),i=n.select().from(r);n.observe(i,function(){i.exec().then(o=>{t(o)})})})}read(t){return this.dbcf().then(n=>nq(n,this.schema,t))}update(t){return this.dbcf().then(n=>rq(n,this.schema,t))}updateMany(t){return this.dbcf().then(n=>FP(n,this.schema,t))}updateManyColumn(t,n,r){return this.dbcf().then(i=>iq(i,this.schema,t,n,r))}}const IT=Lt.Relation;class oq{constructor(t){mi(this,"crud");this.crud=aq(t,IT)}create(t){return this.crud.create(t)}delete(t){return this.crud.delete(t)}findAll(){return this.crud.findAll()}findAllBelongTo(t){return this.crud.dbcf().then(n=>{const r=n.getSchema().table(IT);return n.select().from(r).where(Ee.op.or(r.col("entity0Id").in(t),r.col("entity1Id").in(t))).exec()})}observeAll(t){return this.crud.observeAll(t)}update(t){return this.crud.update(t)}}function aq(e,t){return new Gt(e,t)}function oS(){return new Gt(jt,Lt.Collection)}function kh(){return new Gt(jt,Lt.CollectionItem)}function Ni(){return new Gt(jt,Lt.Column)}function Dh(){return new Gt(jt,Lt.ColumnConstraint)}function Lh(){return new Gt(jt,Lt.Directory)}function $g(){return new Gt(jt,Lt.DoctrineColumnType)}function vi(){return new Gt(jt,Lt.Entity)}function Wg(){return new Gt(jt,Lt.Example)}function Sb(){return new Gt(jt,Lt.ExampleMap)}function jg(){return new Gt(jt,Lt.File)}function ah(){return new Gt(jt,Lt.Index)}function sh(){return new Gt(jt,Lt.IndexColumn)}function qc(){return new Gt(jt,Lt.Module)}function Ji(){return new Gt(jt,Lt.ModuleAction)}function _c(){return new Gt(jt,Lt.ModuleActionResponse)}function Ac(){return new Gt(jt,Lt.ParameterMap)}function Mh(){return new Gt(jt,Lt.Path)}function lh(){return new Gt(jt,Lt.PathMethod)}function Su(){return new oq(jt)}function Xv(){return new Gt(jt,Lt.Request)}function Kg(){return new Gt(jt,Lt.Response)}function Vg(){return new Gt(jt,Lt.Server)}function Eb(){return new Gt(jt,Lt.ServerMap)}function Cb(){return new Gt(jt,Lt.ServerVariable)}function ei(){return new Gt(jt,Lt.TypeFormat)}function qg(){return new Gt(jt,Lt.Variable)}function Eu(){return new Gt(jt,Lt.Wu)}function Xm(){return new Gt(jt,Lt.WuColumn)}function xb(){return new Gt(jt,Lt.WuColumnConstraint)}function Hg(){return new Gt(jt,Lt.WuParameter)}function Xa(e,t,n,r){function i(o){e({itemzz:o}),r&&r(o)}return{itemzz:[],observed:!1,find(o){return t().itemzz.find(s=>s.id===o)},observe(){t().observed||(e({observed:!0}),n.observeAll(i),n.findAll().then(i))},setItem(o){e(s=>({itemzz:s.itemzz.filter(h=>h.id!==o.id).concat(o)}))}}}function ri(e,t,n,r){const i=Xa(e,t,n);function o(s){t().sorting&&s.sort((u,h)=>u.name.localeCompare(h.name)),e({itemzz:s}),r&&r(s)}return{...i,sorting:!1,findByName(s){return t().itemzz.find(u=>u.name===s)},observe(){t().observed||(e({observed:!0}),n.observeAll(o),n.findAll().then(o))}}}const lC=vt(function(e,t){return{...ri(e,t,oS()),sorting:!0}}),uC=vt(function(e,t){return Xa(e,t,kh())});var Si=(e=>(e.white="#fff",e.red="#f00",e.pink="#f0f",e.orange="#f80",e.yellow="#ff0",e.green="#0f0",e.aqua="#0ff",e.blue="#00f",e.navy="#08f",e.violet="#80f",e))(Si||{});const UP=Object.values(Si);function aS(e,t){return e===t?e:"#fff"}function sS(e){return e==="#fff"?"#333":e}function zo(e){return{item:void 0,keyword:"",tab:"",color:Si.white,search(n){e({keyword:n})},setColor(n){e({color:n})},setItem(n){e({item:n})},setTab(n){e({tab:n})}}}const $P=vt(function(e){return zo(e)});function sq(e){return LP.isAxiosError(e)}function cC(e){return typeof e=="string"?e:sq(e)?e.response&&e.response.data&&e.response.data.message?e.response.data.message:e.message:e instanceof Error?e.message:e instanceof Object&&"message"in e?cC(e.message):JSON.stringify(e)}const Cv=class{constructor(t,n,r){mi(this,"id");mi(this,"date",new Date);this.text=t,this.color=n,this.detail=r,Cv.index+=1,this.id=Cv.index}};let Jm=Cv;mi(Jm,"index",0);const De=vt(function(e,t){return{itemzz:[],list:[],create(r,i="",o=3222,s){const u=new Jm(r.slice(0,333),i,s);e(h=>({itemzz:h.itemzz.concat(u),list:h.list.concat(u)})),o>0&&setTimeout(()=>t().dismiss(u.id),o)},dismiss(r){e(i=>({list:i.list.filter(s=>s.id!==r)}))},showDanger(r,i){t().create(r,"text-danger",0,i)},showError(r){console.log(r);const i=cC(r),o=typeof r=="string"?void 0:JSON.stringify(r);t().showDanger(i,o)},showOK(){t().showSuccess("OK")},showSuccess(r){t().create(r,"text-success")},showWarning(r){t().create(r,"text-warning",0)}}});var WP={exports:{}};/*!
* sweetalert2 v11.7.3
* Released under the MIT License.
*/(function(e,t){(function(n,r){e.exports=r()})(kn,function(){var n={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const r="swal2-",i=A=>{const P={};for(const K in A)P[A[K]]=r+A[K];return P},o=i(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),s=i(["success","warning","info","question","error"]),u="SweetAlert2:",h=A=>{const P=[];for(let K=0;K<A.length;K++)P.indexOf(A[K])===-1&&P.push(A[K]);return P},p=A=>A.charAt(0).toUpperCase()+A.slice(1),v=A=>{console.warn(`${u} ${typeof A=="object"?A.join(" "):A}`)},y=A=>{console.error(`${u} ${A}`)},b=[],I=A=>{b.includes(A)||(b.push(A),v(A))},O=(A,P)=>{I(`"${A}" is deprecated and will be removed in the next major release. Please use "${P}" instead.`)},k=A=>typeof A=="function"?A():A,E=A=>A&&typeof A.toPromise=="function",S=A=>E(A)?A.toPromise():Promise.resolve(A),N=A=>A&&Promise.resolve(A)===A,_=()=>document.body.querySelector(`.${o.container}`),T=A=>{const P=_();return P?P.querySelector(A):null},M=A=>T(`.${A}`),R=()=>M(o.popup),B=()=>M(o.icon),U=()=>M(o["icon-content"]),F=()=>M(o.title),z=()=>M(o["html-container"]),$=()=>M(o.image),G=()=>M(o["progress-steps"]),te=()=>M(o["validation-message"]),q=()=>T(`.${o.actions} .${o.confirm}`),re=()=>T(`.${o.actions} .${o.cancel}`),ne=()=>T(`.${o.actions} .${o.deny}`),Q=()=>M(o["input-label"]),X=()=>T(`.${o.loader}`),J=()=>M(o.actions),ie=()=>M(o.footer),oe=()=>M(o["timer-progress-bar"]),ce=()=>M(o.close),ye=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,ge=()=>{const A=Array.from(R().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((K,ae)=>{const Se=parseInt(K.getAttribute("tabindex")),Ze=parseInt(ae.getAttribute("tabindex"));return Se>Ze?1:Se<Ze?-1:0}),P=Array.from(R().querySelectorAll(ye)).filter(K=>K.getAttribute("tabindex")!=="-1");return h(A.concat(P)).filter(K=>Qe(K))},fe=()=>be(document.body,o.shown)&&!be(document.body,o["toast-shown"])&&!be(document.body,o["no-backdrop"]),ze=()=>R()&&be(R(),o.toast),Ke=()=>R().hasAttribute("data-loading"),Ae={previousBodyPadding:null},_e=(A,P)=>{if(A.textContent="",P){const ae=new DOMParser().parseFromString(P,"text/html");Array.from(ae.querySelector("head").childNodes).forEach(Se=>{A.appendChild(Se)}),Array.from(ae.querySelector("body").childNodes).forEach(Se=>{Se instanceof HTMLVideoElement||Se instanceof HTMLAudioElement?A.appendChild(Se.cloneNode(!0)):A.appendChild(Se)})}},be=(A,P)=>{if(!P)return!1;const K=P.split(/\s+/);for(let ae=0;ae<K.length;ae++)if(!A.classList.contains(K[ae]))return!1;return!0},Le=(A,P)=>{Array.from(A.classList).forEach(K=>{!Object.values(o).includes(K)&&!Object.values(s).includes(K)&&!Object.values(P.showClass).includes(K)&&A.classList.remove(K)})},Re=(A,P,K)=>{if(Le(A,P),P.customClass&&P.customClass[K]){if(typeof P.customClass[K]!="string"&&!P.customClass[K].forEach){v(`Invalid type of customClass.${K}! Expected string or iterable object, got "${typeof P.customClass[K]}"`);return}He(A,P.customClass[K])}},rt=(A,P)=>{if(!P)return null;switch(P){case"select":case"textarea":case"file":return A.querySelector(`.${o.popup} > .${o[P]}`);case"checkbox":return A.querySelector(`.${o.popup} > .${o.checkbox} input`);case"radio":return A.querySelector(`.${o.popup} > .${o.radio} input:checked`)||A.querySelector(`.${o.popup} > .${o.radio} input:first-child`);case"range":return A.querySelector(`.${o.popup} > .${o.range} input`);default:return A.querySelector(`.${o.popup} > .${o.input}`)}},at=A=>{if(A.focus(),A.type!=="file"){const P=A.value;A.value="",A.value=P}},yt=(A,P,K)=>{!A||!P||(typeof P=="string"&&(P=P.split(/\s+/).filter(Boolean)),P.forEach(ae=>{Array.isArray(A)?A.forEach(Se=>{K?Se.classList.add(ae):Se.classList.remove(ae)}):K?A.classList.add(ae):A.classList.remove(ae)}))},He=(A,P)=>{yt(A,P,!0)},le=(A,P)=>{yt(A,P,!1)},ve=(A,P)=>{const K=Array.from(A.children);for(let ae=0;ae<K.length;ae++){const Se=K[ae];if(Se instanceof HTMLElement&&be(Se,P))return Se}},Pe=(A,P,K)=>{K===`${parseInt(K)}`&&(K=parseInt(K)),K||parseInt(K)===0?A.style[P]=typeof K=="number"?`${K}px`:K:A.style.removeProperty(P)},Ie=function(A){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";A.style.display=P},Be=A=>{A.style.display="none"},je=(A,P,K,ae)=>{const Se=A.querySelector(P);Se&&(Se.style[K]=ae)},ht=function(A,P){let K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";P?Ie(A,K):Be(A)},Qe=A=>!!(A&&(A.offsetWidth||A.offsetHeight||A.getClientRects().length)),It=()=>!Qe(q())&&!Qe(ne())&&!Qe(re()),cn=A=>A.scrollHeight>A.clientHeight,ut=A=>{const P=window.getComputedStyle(A),K=parseFloat(P.getPropertyValue("animation-duration")||"0"),ae=parseFloat(P.getPropertyValue("transition-duration")||"0");return K>0||ae>0},tt=function(A){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const K=oe();Qe(K)&&(P&&(K.style.transition="none",K.style.width="100%"),setTimeout(()=>{K.style.transition=`width ${A/1e3}s linear`,K.style.width="0%"},10))},vn=()=>{const A=oe(),P=parseInt(window.getComputedStyle(A).width);A.style.removeProperty("transition"),A.style.width="100%";const K=parseInt(window.getComputedStyle(A).width),ae=P/K*100;A.style.width=`${ae}%`},hr=100,Ge={},hn=()=>{Ge.previousActiveElement instanceof HTMLElement?(Ge.previousActiveElement.focus(),Ge.previousActiveElement=null):document.body&&document.body.focus()},pn=A=>new Promise(P=>{if(!A)return P();const K=window.scrollX,ae=window.scrollY;Ge.restoreFocusTimeout=setTimeout(()=>{hn(),P()},hr),window.scrollTo(K,ae)}),Un=()=>typeof window=="undefined"||typeof document=="undefined",Nn=`
 <div aria-labelledby="${o.title}" aria-describedby="${o["html-container"]}" class="${o.popup}" tabindex="-1">
   <button type="button" class="${o.close}"></button>
   <ul class="${o["progress-steps"]}"></ul>
   <div class="${o.icon}"></div>
   <img class="${o.image}" />
   <h2 class="${o.title}" id="${o.title}"></h2>
   <div class="${o["html-container"]}" id="${o["html-container"]}"></div>
   <input class="${o.input}" />
   <input type="file" class="${o.file}" />
   <div class="${o.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${o.select}"></select>
   <div class="${o.radio}"></div>
   <label for="${o.checkbox}" class="${o.checkbox}">
     <input type="checkbox" />
     <span class="${o.label}"></span>
   </label>
   <textarea class="${o.textarea}"></textarea>
   <div class="${o["validation-message"]}" id="${o["validation-message"]}"></div>
   <div class="${o.actions}">
     <div class="${o.loader}"></div>
     <button type="button" class="${o.confirm}"></button>
     <button type="button" class="${o.deny}"></button>
     <button type="button" class="${o.cancel}"></button>
   </div>
   <div class="${o.footer}"></div>
   <div class="${o["timer-progress-bar-container"]}">
     <div class="${o["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Pn=()=>{const A=_();return A?(A.remove(),le([document.documentElement,document.body],[o["no-backdrop"],o["toast-shown"],o["has-column"]]),!0):!1},$e=()=>{Ge.currentInstance.resetValidationMessage()},Ye=()=>{const A=R(),P=ve(A,o.input),K=ve(A,o.file),ae=A.querySelector(`.${o.range} input`),Se=A.querySelector(`.${o.range} output`),Ze=ve(A,o.select),Vt=A.querySelector(`.${o.checkbox} input`),Or=ve(A,o.textarea);P.oninput=$e,K.onchange=$e,Ze.onchange=$e,Vt.onchange=$e,Or.oninput=$e,ae.oninput=()=>{$e(),Se.value=ae.value},ae.onchange=()=>{$e(),Se.value=ae.value}},st=A=>typeof A=="string"?document.querySelector(A):A,St=A=>{const P=R();P.setAttribute("role",A.toast?"alert":"dialog"),P.setAttribute("aria-live",A.toast?"polite":"assertive"),A.toast||P.setAttribute("aria-modal","true")},xt=A=>{window.getComputedStyle(A).direction==="rtl"&&He(_(),o.rtl)},Ft=A=>{const P=Pn();if(Un()){y("SweetAlert2 requires document to initialize");return}const K=document.createElement("div");K.className=o.container,P&&He(K,o["no-transition"]),_e(K,Nn);const ae=st(A.target);ae.appendChild(K),St(A),xt(ae),Ye()},sn=(A,P)=>{A instanceof HTMLElement?P.appendChild(A):typeof A=="object"?$n(A,P):A&&_e(P,A)},$n=(A,P)=>{A.jquery?Br(P,A):_e(P,A.toString())},Br=(A,P)=>{if(A.textContent="",0 in P)for(let K=0;K in P;K++)A.appendChild(P[K].cloneNode(!0));else A.appendChild(P.cloneNode(!0))},Cr=(()=>{if(Un())return!1;const A=document.createElement("div"),P={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const K in P)if(Object.prototype.hasOwnProperty.call(P,K)&&typeof A.style[K]!="undefined")return P[K];return!1})(),Fr=()=>{const A=document.createElement("div");A.className=o["scrollbar-measure"],document.body.appendChild(A);const P=A.getBoundingClientRect().width-A.clientWidth;return document.body.removeChild(A),P},wa=(A,P)=>{const K=J(),ae=X();!P.showConfirmButton&&!P.showDenyButton&&!P.showCancelButton?Be(K):Ie(K),Re(K,P,"actions"),Wo(K,ae,P),_e(ae,P.loaderHtml),Re(ae,P,"loader")};function Wo(A,P,K){const ae=q(),Se=ne(),Ze=re();ki(ae,"confirm",K),ki(Se,"deny",K),ki(Ze,"cancel",K),Ue(ae,Se,Ze,K),K.reverseButtons&&(K.toast?(A.insertBefore(Ze,ae),A.insertBefore(Se,ae)):(A.insertBefore(Ze,P),A.insertBefore(Se,P),A.insertBefore(ae,P)))}function Ue(A,P,K,ae){if(!ae.buttonsStyling){le([A,P,K],o.styled);return}He([A,P,K],o.styled),ae.confirmButtonColor&&(A.style.backgroundColor=ae.confirmButtonColor,He(A,o["default-outline"])),ae.denyButtonColor&&(P.style.backgroundColor=ae.denyButtonColor,He(P,o["default-outline"])),ae.cancelButtonColor&&(K.style.backgroundColor=ae.cancelButtonColor,He(K,o["default-outline"]))}function ki(A,P,K){ht(A,K[`show${p(P)}Button`],"inline-block"),_e(A,K[`${P}ButtonText`]),A.setAttribute("aria-label",K[`${P}ButtonAriaLabel`]),A.className=o[P],Re(A,K,`${P}Button`),He(A,K[`${P}ButtonClass`])}const yl=(A,P)=>{const K=ce();_e(K,P.closeButtonHtml),Re(K,P,"closeButton"),ht(K,P.showCloseButton),K.setAttribute("aria-label",P.closeButtonAriaLabel)},lo=(A,P)=>{const K=_();!K||(uo(K,P.backdrop),jo(K,P.position),Wn(K,P.grow),Re(K,P,"container"))};function uo(A,P){typeof P=="string"?A.style.background=P:P||He([document.documentElement,document.body],o["no-backdrop"])}function jo(A,P){P in o?He(A,o[P]):(v('The "position" parameter is not valid, defaulting to "center"'),He(A,o.center))}function Wn(A,P){if(P&&typeof P=="string"){const K=`grow-${P}`;K in o&&He(A,o[K])}}const wl=["input","file","range","select","radio","checkbox","textarea"],bl=(A,P)=>{const K=R(),ae=n.innerParams.get(A),Se=!ae||P.input!==ae.input;wl.forEach(Ze=>{const Vt=ve(K,o[Ze]);El(Ze,P.inputAttributes),Vt.className=o[Ze],Se&&Be(Vt)}),P.input&&(Se&&Sl(P),Za(P))},Sl=A=>{if(!In[A.input]){y(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${A.input}"`);return}const P=Ko(A.input),K=In[A.input](P,A);Ie(P),A.inputAutoFocus&&setTimeout(()=>{at(K)})},ba=A=>{for(let P=0;P<A.attributes.length;P++){const K=A.attributes[P].name;["type","value","style"].includes(K)||A.removeAttribute(K)}},El=(A,P)=>{const K=rt(R(),A);if(!!K){ba(K);for(const ae in P)K.setAttribute(ae,P[ae])}},Za=A=>{const P=Ko(A.input);typeof A.customClass=="object"&&He(P,A.customClass.input)},Sa=(A,P)=>{(!A.placeholder||P.inputPlaceholder)&&(A.placeholder=P.inputPlaceholder)},co=(A,P,K)=>{if(K.inputLabel){A.id=o.input;const ae=document.createElement("label"),Se=o["input-label"];ae.setAttribute("for",A.id),ae.className=Se,typeof K.customClass=="object"&&He(ae,K.customClass.inputLabel),ae.innerText=K.inputLabel,P.insertAdjacentElement("beforebegin",ae)}},Ko=A=>ve(R(),o[A]||o.input),Vo=(A,P)=>{["string","number"].includes(typeof P)?A.value=`${P}`:N(P)||v(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof P}"`)},In={};In.text=In.email=In.password=In.number=In.tel=In.url=(A,P)=>(Vo(A,P.inputValue),co(A,A,P),Sa(A,P),A.type=P.input,A),In.file=(A,P)=>(co(A,A,P),Sa(A,P),A),In.range=(A,P)=>{const K=A.querySelector("input"),ae=A.querySelector("output");return Vo(K,P.inputValue),K.type=P.input,Vo(ae,P.inputValue),co(K,A,P),A},In.select=(A,P)=>{if(A.textContent="",P.inputPlaceholder){const K=document.createElement("option");_e(K,P.inputPlaceholder),K.value="",K.disabled=!0,K.selected=!0,A.appendChild(K)}return co(A,A,P),A},In.radio=A=>(A.textContent="",A),In.checkbox=(A,P)=>{const K=rt(R(),"checkbox");K.value="1",K.id=o.checkbox,K.checked=Boolean(P.inputValue);const ae=A.querySelector("span");return _e(ae,P.inputPlaceholder),K},In.textarea=(A,P)=>{Vo(A,P.inputValue),Sa(A,P),co(A,A,P);const K=ae=>parseInt(window.getComputedStyle(ae).marginLeft)+parseInt(window.getComputedStyle(ae).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const ae=parseInt(window.getComputedStyle(R()).width),Se=()=>{const Ze=A.offsetWidth+K(A);Ze>ae?R().style.width=`${Ze}px`:R().style.width=null};new MutationObserver(Se).observe(A,{attributes:!0,attributeFilter:["style"]})}}),A};const Cl=(A,P)=>{const K=z();Re(K,P,"htmlContainer"),P.html?(sn(P.html,K),Ie(K,"block")):P.text?(K.textContent=P.text,Ie(K,"block")):Be(K),bl(A,P)},jn=(A,P)=>{const K=ie();ht(K,P.footer),P.footer&&sn(P.footer,K),Re(K,P,"footer")},es=(A,P)=>{const K=n.innerParams.get(A),ae=B();if(K&&P.icon===K.icon){ai(ae,P),Di(ae,P);return}if(!P.icon&&!P.iconHtml){Be(ae);return}if(P.icon&&Object.keys(s).indexOf(P.icon)===-1){y(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${P.icon}"`),Be(ae);return}Ie(ae),ai(ae,P),Di(ae,P),He(ae,P.showClass.icon)},Di=(A,P)=>{for(const K in s)P.icon!==K&&le(A,s[K]);He(A,s[P.icon]),fo(A,P),xl(),Re(A,P,"icon")},xl=()=>{const A=R(),P=window.getComputedStyle(A).getPropertyValue("background-color"),K=A.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let ae=0;ae<K.length;ae++)K[ae].style.backgroundColor=P},ts=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Ea=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,ai=(A,P)=>{let K=A.innerHTML,ae;P.iconHtml?ae=Ur(P.iconHtml):P.icon==="success"?(ae=ts,K=K.replace(/ style=".*?"/g,"")):P.icon==="error"?ae=Ea:ae=Ur({question:"?",warning:"!",info:"i"}[P.icon]),K.trim()!==ae.trim()&&_e(A,ae)},fo=(A,P)=>{if(!!P.iconColor){A.style.color=P.iconColor,A.style.borderColor=P.iconColor;for(const K of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])je(A,K,"backgroundColor",P.iconColor);je(A,".swal2-success-ring","borderColor",P.iconColor)}},Ur=A=>`<div class="${o["icon-content"]}">${A}</div>`,ns=(A,P)=>{const K=$();if(!P.imageUrl){Be(K);return}Ie(K,""),K.setAttribute("src",P.imageUrl),K.setAttribute("alt",P.imageAlt),Pe(K,"width",P.imageWidth),Pe(K,"height",P.imageHeight),K.className=o.image,Re(K,P,"image")},Nl=(A,P)=>{const K=_(),ae=R();P.toast?(Pe(K,"width",P.width),ae.style.width="100%",ae.insertBefore(X(),B())):Pe(ae,"width",P.width),Pe(ae,"padding",P.padding),P.color&&(ae.style.color=P.color),P.background&&(ae.style.background=P.background),Be(te()),rs(ae,P)},rs=(A,P)=>{A.className=`${o.popup} ${Qe(A)?P.showClass.popup:""}`,P.toast?(He([document.documentElement,document.body],o["toast-shown"]),He(A,o.toast)):He(A,o.modal),Re(A,P,"popup"),typeof P.customClass=="string"&&He(A,P.customClass),P.icon&&He(A,o[`icon-${P.icon}`])},is=(A,P)=>{const K=G();if(!P.progressSteps||P.progressSteps.length===0){Be(K);return}Ie(K),K.textContent="",P.currentProgressStep>=P.progressSteps.length&&v("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),P.progressSteps.forEach((ae,Se)=>{const Ze=Ca(ae);if(K.appendChild(Ze),Se===P.currentProgressStep&&He(Ze,o["active-progress-step"]),Se!==P.progressSteps.length-1){const Vt=xa(P);K.appendChild(Vt)}})},Ca=A=>{const P=document.createElement("li");return He(P,o["progress-step"]),_e(P,A),P},xa=A=>{const P=document.createElement("li");return He(P,o["progress-step-line"]),A.progressStepsDistance&&Pe(P,"width",A.progressStepsDistance),P},os=(A,P)=>{const K=F();ht(K,P.title||P.titleText,"block"),P.title&&sn(P.title,K),P.titleText&&(K.innerText=P.titleText),Re(K,P,"title")},ho=(A,P)=>{Nl(A,P),lo(A,P),is(A,P),es(A,P),ns(A,P),os(A,P),yl(A,P),Cl(A,P),wa(A,P),jn(A,P),typeof P.didRender=="function"&&P.didRender(R())};function qo(){const A=n.innerParams.get(this);if(!A)return;const P=n.domCache.get(this);Be(P.loader),ze()?A.icon&&Ie(B()):si(P),le([P.popup,P.actions],o.loading),P.popup.removeAttribute("aria-busy"),P.popup.removeAttribute("data-loading"),P.confirmButton.disabled=!1,P.denyButton.disabled=!1,P.cancelButton.disabled=!1}const si=A=>{const P=A.popup.getElementsByClassName(A.loader.getAttribute("data-button-to-replace"));P.length?Ie(P[0],"inline-block"):It()&&Be(A.actions)};function Ho(A){const P=n.innerParams.get(A||this),K=n.domCache.get(A||this);return K?rt(K.popup,P.input):null}const pr=()=>Qe(R()),xr=()=>q()&&q().click(),Ln=()=>ne()&&ne().click(),Nr=()=>re()&&re().click(),li=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),po=A=>{A.keydownTarget&&A.keydownHandlerAdded&&(A.keydownTarget.removeEventListener("keydown",A.keydownHandler,{capture:A.keydownListenerCapture}),A.keydownHandlerAdded=!1)},Bu=(A,P,K,ae)=>{po(P),K.toast||(P.keydownHandler=Se=>Yo(A,Se,ae),P.keydownTarget=K.keydownListenerCapture?window:R(),P.keydownListenerCapture=K.keydownListenerCapture,P.keydownTarget.addEventListener("keydown",P.keydownHandler,{capture:P.keydownListenerCapture}),P.keydownHandlerAdded=!0)},Li=(A,P)=>{const K=ge();if(K.length){A=A+P,A===K.length?A=0:A===-1&&(A=K.length-1),K[A].focus();return}R().focus()},Go=["ArrowRight","ArrowDown"],mo=["ArrowLeft","ArrowUp"],Yo=(A,P,K)=>{const ae=n.innerParams.get(A);!ae||P.isComposing||P.keyCode===229||(ae.stopKeydownPropagation&&P.stopPropagation(),P.key==="Enter"?Fu(A,P,ae):P.key==="Tab"?Il(P):[...Go,...mo].includes(P.key)?Uu(P.key):P.key==="Escape"&&as(P,ae,K))},Fu=(A,P,K)=>{if(!!k(K.allowEnterKey)&&P.target&&A.getInput()&&P.target instanceof HTMLElement&&P.target.outerHTML===A.getInput().outerHTML){if(["textarea","file"].includes(K.input))return;xr(),P.preventDefault()}},Il=A=>{const P=A.target,K=ge();let ae=-1;for(let Se=0;Se<K.length;Se++)if(P===K[Se]){ae=Se;break}A.shiftKey?Li(ae,-1):Li(ae,1),A.stopPropagation(),A.preventDefault()},Uu=A=>{const P=q(),K=ne(),ae=re(),Se=[P,K,ae];if(document.activeElement instanceof HTMLElement&&!Se.includes(document.activeElement))return;const Ze=Go.includes(A)?"nextElementSibling":"previousElementSibling";let Vt=document.activeElement;for(let Or=0;Or<J().children.length;Or++){if(Vt=Vt[Ze],!Vt)return;if(Vt instanceof HTMLButtonElement&&Qe(Vt))break}Vt instanceof HTMLButtonElement&&Vt.focus()},as=(A,P,K)=>{k(P.allowEscapeKey)&&(A.preventDefault(),K(li.esc))};var Mi={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const $u=()=>{Array.from(document.body.children).forEach(P=>{P===_()||P.contains(_())||(P.hasAttribute("aria-hidden")&&P.setAttribute("data-previous-aria-hidden",P.getAttribute("aria-hidden")),P.setAttribute("aria-hidden","true"))})},Wu=()=>{Array.from(document.body.children).forEach(P=>{P.hasAttribute("data-previous-aria-hidden")?(P.setAttribute("aria-hidden",P.getAttribute("data-previous-aria-hidden")),P.removeAttribute("data-previous-aria-hidden")):P.removeAttribute("aria-hidden")})},Kf=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!be(document.body,o.iosfix)){const P=document.body.scrollTop;document.body.style.top=`${P*-1}px`,He(document.body,o.iosfix),Ol(),ju()}},ju=()=>{const A=navigator.userAgent,P=!!A.match(/iPad/i)||!!A.match(/iPhone/i),K=!!A.match(/WebKit/i);P&&K&&!A.match(/CriOS/i)&&R().scrollHeight>window.innerHeight-44&&(_().style.paddingBottom=`${44}px`)},Ol=()=>{const A=_();let P;A.ontouchstart=K=>{P=Tl(K)},A.ontouchmove=K=>{P&&(K.preventDefault(),K.stopPropagation())}},Tl=A=>{const P=A.target,K=_();return Ku(A)||_l(A)?!1:P===K||!cn(K)&&P instanceof HTMLElement&&P.tagName!=="INPUT"&&P.tagName!=="TEXTAREA"&&!(cn(z())&&z().contains(P))},Ku=A=>A.touches&&A.touches.length&&A.touches[0].touchType==="stylus",_l=A=>A.touches&&A.touches.length>1,Al=()=>{if(be(document.body,o.iosfix)){const A=parseInt(document.body.style.top,10);le(document.body,o.iosfix),document.body.style.top="",document.body.scrollTop=A*-1}},Rl=()=>{Ae.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(Ae.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Ae.previousBodyPadding+Fr()}px`)},Pl=()=>{Ae.previousBodyPadding!==null&&(document.body.style.paddingRight=`${Ae.previousBodyPadding}px`,Ae.previousBodyPadding=null)};function Vu(A,P,K,ae){ze()?zi(A,ae):(pn(K).then(()=>zi(A,ae)),po(Ge)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(P.setAttribute("style","display:none !important"),P.removeAttribute("class"),P.innerHTML=""):P.remove(),fe()&&(Pl(),Al(),Wu()),Vf()}function Vf(){le([document.documentElement,document.body],[o.shown,o["height-auto"],o["no-backdrop"],o["toast-shown"]])}function ss(A){A=Xo(A);const P=Mi.swalPromiseResolve.get(this),K=Yt(this);this.isAwaitingPromise()?A.isDismissed||(Na(this),P(A)):K&&P(A)}function qf(){return!!n.awaitingPromise.get(this)}const Yt=A=>{const P=R();if(!P)return!1;const K=n.innerParams.get(A);if(!K||be(P,K.hideClass.popup))return!1;le(P,K.showClass.popup),He(P,K.hideClass.popup);const ae=_();return le(ae,K.showClass.backdrop),He(ae,K.hideClass.backdrop),Hf(A,P,K),!0};function qt(A){const P=Mi.swalPromiseReject.get(this);Na(this),P&&P(A)}const Na=A=>{A.isAwaitingPromise()&&(n.awaitingPromise.delete(A),n.innerParams.get(A)||A._destroy())},Xo=A=>typeof A=="undefined"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},A),Hf=(A,P,K)=>{const ae=_(),Se=Cr&&ut(P);typeof K.willClose=="function"&&K.willClose(P),Se?Gf(A,P,ae,K.returnFocus,K.didClose):Vu(A,ae,K.returnFocus,K.didClose)},Gf=(A,P,K,ae,Se)=>{Ge.swalCloseEventFinishedCallback=Vu.bind(null,A,K,ae,Se),P.addEventListener(Cr,function(Ze){Ze.target===P&&(Ge.swalCloseEventFinishedCallback(),delete Ge.swalCloseEventFinishedCallback)})},zi=(A,P)=>{setTimeout(()=>{typeof P=="function"&&P.bind(A.params)(),A._destroy()})};function ls(A,P,K){const ae=n.domCache.get(A);P.forEach(Se=>{ae[Se].disabled=K})}function kl(A,P){if(!!A)if(A.type==="radio"){const ae=A.parentNode.parentNode.querySelectorAll("input");for(let Se=0;Se<ae.length;Se++)ae[Se].disabled=P}else A.disabled=P}function Yf(){ls(this,["confirmButton","denyButton","cancelButton"],!1)}function On(){ls(this,["confirmButton","denyButton","cancelButton"],!0)}function Dl(){kl(this.getInput(),!1)}function go(){kl(this.getInput(),!0)}function Ll(A){const P=n.domCache.get(this),K=n.innerParams.get(this);_e(P.validationMessage,A),P.validationMessage.className=o["validation-message"],K.customClass&&K.customClass.validationMessage&&He(P.validationMessage,K.customClass.validationMessage),Ie(P.validationMessage);const ae=this.getInput();ae&&(ae.setAttribute("aria-invalid",!0),ae.setAttribute("aria-describedby",o["validation-message"]),at(ae),He(ae,o.inputerror))}function vo(){const A=n.domCache.get(this);A.validationMessage&&Be(A.validationMessage);const P=this.getInput();P&&(P.removeAttribute("aria-invalid"),P.removeAttribute("aria-describedby"),le(P,o.inputerror))}const fn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},us=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Ml={},zl=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Bl=A=>Object.prototype.hasOwnProperty.call(fn,A),Ia=A=>us.indexOf(A)!==-1,Jo=A=>Ml[A],Kn=A=>{Bl(A)||v(`Unknown parameter "${A}"`)},qu=A=>{zl.includes(A)&&v(`The parameter "${A}" is incompatible with toasts`)},er=A=>{Jo(A)&&O(A,Jo(A))},Xf=A=>{A.backdrop===!1&&A.allowOutsideClick&&v('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const P in A)Kn(P),A.toast&&qu(P),er(P)};function Hu(A){const P=R(),K=n.innerParams.get(this);if(!P||be(P,K.hideClass.popup)){v("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const ae=Bi(A),Se=Object.assign({},K,ae);ho(this,Se),n.innerParams.set(this,Se),Object.defineProperties(this,{params:{value:Object.assign({},this.params,A),writable:!1,enumerable:!0}})}const Bi=A=>{const P={};return Object.keys(A).forEach(K=>{Ia(K)?P[K]=A[K]:v(`Invalid parameter to update: ${K}`)}),P};function cs(){const A=n.domCache.get(this),P=n.innerParams.get(this);if(!P){Xt(this);return}A.popup&&Ge.swalCloseEventFinishedCallback&&(Ge.swalCloseEventFinishedCallback(),delete Ge.swalCloseEventFinishedCallback),typeof P.didDestroy=="function"&&P.didDestroy(),Fl(this)}const Fl=A=>{Xt(A),delete A.params,delete Ge.keydownHandler,delete Ge.keydownTarget,delete Ge.currentInstance},Xt=A=>{A.isAwaitingPromise()?($r(n,A),n.awaitingPromise.set(A,!0)):($r(Mi,A),$r(n,A))},$r=(A,P)=>{for(const K in A)A[K].delete(P)};var fs=Object.freeze({__proto__:null,_destroy:cs,close:ss,closeModal:ss,closePopup:ss,closeToast:ss,disableButtons:On,disableInput:go,disableLoading:qo,enableButtons:Yf,enableInput:Dl,getInput:Ho,handleAwaitingPromise:Na,hideLoading:qo,isAwaitingPromise:qf,rejectPromise:qt,resetValidationMessage:vo,showValidationMessage:Ll,update:Hu});const Qo=A=>{let P=R();P||new Oa,P=R();const K=X();ze()?Be(B()):Ul(P,A),Ie(K),P.setAttribute("data-loading","true"),P.setAttribute("aria-busy","true"),P.focus()},Ul=(A,P)=>{const K=J(),ae=X();!P&&Qe(q())&&(P=q()),Ie(K),P&&(Be(P),ae.setAttribute("data-button-to-replace",P.className)),ae.parentNode.insertBefore(ae,P),He([A,K],o.loading)},Jf=(A,P)=>{P.input==="select"||P.input==="radio"?tn(A,P):["text","email","number","tel","textarea"].includes(P.input)&&(E(P.inputValue)||N(P.inputValue))&&(Qo(q()),Zf(A,P))},Gu=(A,P)=>{const K=A.getInput();if(!K)return null;switch(P.input){case"checkbox":return Qf(K);case"radio":return $l(K);case"file":return ds(K);default:return P.inputAutoTrim?K.value.trim():K.value}},Qf=A=>A.checked?1:0,$l=A=>A.checked?A.value:null,ds=A=>A.files.length?A.getAttribute("multiple")!==null?A.files:A.files[0]:null,tn=(A,P)=>{const K=R(),ae=Se=>{Yu[P.input](K,hs(Se),P)};E(P.inputOptions)||N(P.inputOptions)?(Qo(q()),S(P.inputOptions).then(Se=>{A.hideLoading(),ae(Se)})):typeof P.inputOptions=="object"?ae(P.inputOptions):y(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof P.inputOptions}`)},Zf=(A,P)=>{const K=A.getInput();Be(K),S(P.inputValue).then(ae=>{K.value=P.input==="number"?`${parseFloat(ae)||0}`:`${ae}`,Ie(K),K.focus(),A.hideLoading()}).catch(ae=>{y(`Error in inputValue promise: ${ae}`),K.value="",Ie(K),K.focus(),A.hideLoading()})},Yu={select:(A,P,K)=>{const ae=ve(A,o.select),Se=(Ze,Vt,Or)=>{const nr=document.createElement("option");nr.value=Or,_e(nr,Vt),nr.selected=ps(Or,K.inputValue),Ze.appendChild(nr)};P.forEach(Ze=>{const Vt=Ze[0],Or=Ze[1];if(Array.isArray(Or)){const nr=document.createElement("optgroup");nr.label=Vt,nr.disabled=!1,ae.appendChild(nr),Or.forEach(bs=>Se(nr,bs[1],bs[0]))}else Se(ae,Or,Vt)}),ae.focus()},radio:(A,P,K)=>{const ae=ve(A,o.radio);P.forEach(Ze=>{const Vt=Ze[0],Or=Ze[1],nr=document.createElement("input"),bs=document.createElement("label");nr.type="radio",nr.name=o.radio,nr.value=Vt,ps(Vt,K.inputValue)&&(nr.checked=!0);const Ss=document.createElement("span");_e(Ss,Or),Ss.className=o.label,bs.appendChild(nr),bs.appendChild(Ss),ae.appendChild(bs)});const Se=ae.querySelectorAll("input");Se.length&&Se[0].focus()}},hs=A=>{const P=[];return typeof Map!="undefined"&&A instanceof Map?A.forEach((K,ae)=>{let Se=K;typeof Se=="object"&&(Se=hs(Se)),P.push([ae,Se])}):Object.keys(A).forEach(K=>{let ae=A[K];typeof ae=="object"&&(ae=hs(ae)),P.push([K,ae])}),P},ps=(A,P)=>P&&P.toString()===A.toString(),Wl=A=>{const P=n.innerParams.get(A);A.disableButtons(),P.input?ms(A,"confirm"):a(A,!0)},Xu=A=>{const P=n.innerParams.get(A);A.disableButtons(),P.returnInputValueOnDeny?ms(A,"deny"):vs(A,!1)},Ju=(A,P)=>{A.disableButtons(),P(li.cancel)},ms=(A,P)=>{const K=n.innerParams.get(A);if(!K.input){y(`The "input" parameter is needed to be set when using returnInputValueOn${p(P)}`);return}const ae=Gu(A,K);K.inputValidator?gs(A,ae,P):A.getInput().checkValidity()?P==="deny"?vs(A,ae):a(A,ae):(A.enableButtons(),A.showValidationMessage(K.validationMessage))},gs=(A,P,K)=>{const ae=n.innerParams.get(A);A.disableInput(),Promise.resolve().then(()=>S(ae.inputValidator(P,ae.validationMessage))).then(Ze=>{A.enableButtons(),A.enableInput(),Ze?A.showValidationMessage(Ze):K==="deny"?vs(A,P):a(A,P)})},vs=(A,P)=>{const K=n.innerParams.get(A||void 0);K.showLoaderOnDeny&&Qo(ne()),K.preDeny?(n.awaitingPromise.set(A||void 0,!0),Promise.resolve().then(()=>S(K.preDeny(P,K.validationMessage))).then(Se=>{Se===!1?(A.hideLoading(),Na(A)):A.close({isDenied:!0,value:typeof Se=="undefined"?P:Se})}).catch(Se=>f(A||void 0,Se))):A.close({isDenied:!0,value:P})},jl=(A,P)=>{A.close({isConfirmed:!0,value:P})},f=(A,P)=>{A.rejectPromise(P)},a=(A,P)=>{const K=n.innerParams.get(A||void 0);K.showLoaderOnConfirm&&Qo(),K.preConfirm?(A.resetValidationMessage(),n.awaitingPromise.set(A||void 0,!0),Promise.resolve().then(()=>S(K.preConfirm(P,K.validationMessage))).then(Se=>{Qe(te())||Se===!1?(A.hideLoading(),Na(A)):jl(A,typeof Se=="undefined"?P:Se)}).catch(Se=>f(A||void 0,Se))):jl(A,P)},l=(A,P,K)=>{n.innerParams.get(A).toast?d(A,P,K):(D(P),W(P),ee(A,P,K))},d=(A,P,K)=>{P.popup.onclick=()=>{const ae=n.innerParams.get(A);ae&&(g(ae)||ae.timer||ae.input)||K(li.close)}},g=A=>A.showConfirmButton||A.showDenyButton||A.showCancelButton||A.showCloseButton;let C=!1;const D=A=>{A.popup.onmousedown=()=>{A.container.onmouseup=function(P){A.container.onmouseup=void 0,P.target===A.container&&(C=!0)}}},W=A=>{A.container.onmousedown=()=>{A.popup.onmouseup=function(P){A.popup.onmouseup=void 0,(P.target===A.popup||A.popup.contains(P.target))&&(C=!0)}}},ee=(A,P,K)=>{P.container.onclick=ae=>{const Se=n.innerParams.get(A);if(C){C=!1;return}ae.target===P.container&&k(Se.allowOutsideClick)&&K(li.backdrop)}},ue=A=>typeof A=="object"&&A.jquery,me=A=>A instanceof Element||ue(A),Te=A=>{const P={};return typeof A[0]=="object"&&!me(A[0])?Object.assign(P,A[0]):["title","html","icon"].forEach((K,ae)=>{const Se=A[ae];typeof Se=="string"||me(Se)?P[K]=Se:Se!==void 0&&y(`Unexpected type of ${K}! Expected "string" or "Element", got ${typeof Se}`)}),P};function Fe(){const A=this;for(var P=arguments.length,K=new Array(P),ae=0;ae<P;ae++)K[ae]=arguments[ae];return new A(...K)}function Xe(A){class P extends this{_main(ae,Se){return super._main(ae,Object.assign({},A,Se))}}return P}const pt=()=>Ge.timeout&&Ge.timeout.getTimerLeft(),it=()=>{if(Ge.timeout)return vn(),Ge.timeout.stop()},Tt=()=>{if(Ge.timeout){const A=Ge.timeout.start();return tt(A),A}},on=()=>{const A=Ge.timeout;return A&&(A.running?it():Tt())},Ut=A=>{if(Ge.timeout){const P=Ge.timeout.increase(A);return tt(P,!0),P}},Vn=()=>Ge.timeout&&Ge.timeout.isRunning();let ui=!1;const tr={};function Rp(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";tr[A]=this,ui||(document.body.addEventListener("click",Wy),ui=!0)}const Wy=A=>{for(let P=A.target;P&&P!==document;P=P.parentNode)for(const K in tr){const ae=P.getAttribute(K);if(ae){tr[K].fire({template:ae});return}}};var jy=Object.freeze({__proto__:null,argsToParams:Te,bindClickHandler:Rp,clickCancel:Nr,clickConfirm:xr,clickDeny:Ln,enableLoading:Qo,fire:Fe,getActions:J,getCancelButton:re,getCloseButton:ce,getConfirmButton:q,getContainer:_,getDenyButton:ne,getFocusableElements:ge,getFooter:ie,getHtmlContainer:z,getIcon:B,getIconContent:U,getImage:$,getInputLabel:Q,getLoader:X,getPopup:R,getProgressSteps:G,getTimerLeft:pt,getTimerProgressBar:oe,getTitle:F,getValidationMessage:te,increaseTimer:Ut,isDeprecatedParameter:Jo,isLoading:Ke,isTimerRunning:Vn,isUpdatableParameter:Ia,isValidParameter:Bl,isVisible:pr,mixin:Xe,resumeTimer:Tt,showLoading:Qo,stopTimer:it,toggleTimer:on});class Ky{constructor(P,K){this.callback=P,this.remaining=K,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(P){const K=this.running;return K&&this.stop(),this.remaining+=P,K&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Pp=["swal-title","swal-html","swal-footer"],Vy=A=>{const P=typeof A.template=="string"?document.querySelector(A.template):A.template;if(!P)return{};const K=P.content;return Tn(K),Object.assign(ys(K),he(K),Ce(K),we(K),Ve(K),wt(K),Mt(K,Pp))},ys=A=>{const P={};return Array.from(A.querySelectorAll("swal-param")).forEach(ae=>{kt(ae,["name","value"]);const Se=ae.getAttribute("name"),Ze=ae.getAttribute("value");typeof fn[Se]=="boolean"?P[Se]=Ze!=="false":typeof fn[Se]=="object"?P[Se]=JSON.parse(Ze):P[Se]=Ze}),P},he=A=>{const P={};return Array.from(A.querySelectorAll("swal-function-param")).forEach(ae=>{const Se=ae.getAttribute("name"),Ze=ae.getAttribute("value");P[Se]=new Function(`return ${Ze}`)()}),P},Ce=A=>{const P={};return Array.from(A.querySelectorAll("swal-button")).forEach(ae=>{kt(ae,["type","color","aria-label"]);const Se=ae.getAttribute("type");P[`${Se}ButtonText`]=ae.innerHTML,P[`show${p(Se)}Button`]=!0,ae.hasAttribute("color")&&(P[`${Se}ButtonColor`]=ae.getAttribute("color")),ae.hasAttribute("aria-label")&&(P[`${Se}ButtonAriaLabel`]=ae.getAttribute("aria-label"))}),P},we=A=>{const P={},K=A.querySelector("swal-image");return K&&(kt(K,["src","width","height","alt"]),K.hasAttribute("src")&&(P.imageUrl=K.getAttribute("src")),K.hasAttribute("width")&&(P.imageWidth=K.getAttribute("width")),K.hasAttribute("height")&&(P.imageHeight=K.getAttribute("height")),K.hasAttribute("alt")&&(P.imageAlt=K.getAttribute("alt"))),P},Ve=A=>{const P={},K=A.querySelector("swal-icon");return K&&(kt(K,["type","color"]),K.hasAttribute("type")&&(P.icon=K.getAttribute("type")),K.hasAttribute("color")&&(P.iconColor=K.getAttribute("color")),P.iconHtml=K.innerHTML),P},wt=A=>{const P={},K=A.querySelector("swal-input");K&&(kt(K,["type","label","placeholder","value"]),P.input=K.getAttribute("type")||"text",K.hasAttribute("label")&&(P.inputLabel=K.getAttribute("label")),K.hasAttribute("placeholder")&&(P.inputPlaceholder=K.getAttribute("placeholder")),K.hasAttribute("value")&&(P.inputValue=K.getAttribute("value")));const ae=Array.from(A.querySelectorAll("swal-input-option"));return ae.length&&(P.inputOptions={},ae.forEach(Se=>{kt(Se,["value"]);const Ze=Se.getAttribute("value"),Vt=Se.innerHTML;P.inputOptions[Ze]=Vt})),P},Mt=(A,P)=>{const K={};for(const ae in P){const Se=P[ae],Ze=A.querySelector(Se);Ze&&(kt(Ze,[]),K[Se.replace(/^swal-/,"")]=Ze.innerHTML.trim())}return K},Tn=A=>{const P=Pp.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(A.children).forEach(K=>{const ae=K.tagName.toLowerCase();P.includes(ae)||v(`Unrecognized element <${ae}>`)})},kt=(A,P)=>{Array.from(A.attributes).forEach(K=>{P.indexOf(K.name)===-1&&v([`Unrecognized attribute "${K.name}" on <${A.tagName.toLowerCase()}>.`,`${P.length?`Allowed attributes are: ${P.join(", ")}`:"To set the value, use HTML within the element."}`])})},Qu=10,qy=A=>{const P=_(),K=R();typeof A.willOpen=="function"&&A.willOpen(K);const Se=window.getComputedStyle(document.body).overflowY;ws(P,K,A),setTimeout(()=>{Zu(P,K)},Qu),fe()&&(Hy(P,A.scrollbarPadding,Se),$u()),!ze()&&!Ge.previousActiveElement&&(Ge.previousActiveElement=document.activeElement),typeof A.didOpen=="function"&&setTimeout(()=>A.didOpen(K)),le(P,o["no-transition"])},Ir=A=>{const P=R();if(A.target!==P)return;const K=_();P.removeEventListener(Cr,Ir),K.style.overflowY="auto"},Zu=(A,P)=>{Cr&&ut(P)?(A.style.overflowY="hidden",P.addEventListener(Cr,Ir)):A.style.overflowY="auto"},Hy=(A,P,K)=>{Kf(),P&&K!=="hidden"&&Rl(),setTimeout(()=>{A.scrollTop=0})},ws=(A,P,K)=>{He(A,K.showClass.backdrop),P.style.setProperty("opacity","0","important"),Ie(P,"grid"),setTimeout(()=>{He(P,K.showClass.popup),P.style.removeProperty("opacity")},Qu),He([document.documentElement,document.body],o.shown),K.heightAuto&&K.backdrop&&!K.toast&&He([document.documentElement,document.body],o["height-auto"])};var Kl={email:(A,P)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(A)?Promise.resolve():Promise.resolve(P||"Invalid email address"),url:(A,P)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(A)?Promise.resolve():Promise.resolve(P||"Invalid URL")};function ec(A){A.inputValidator||Object.keys(Kl).forEach(P=>{A.input===P&&(A.inputValidator=Kl[P])})}function Kt(A){(!A.target||typeof A.target=="string"&&!document.querySelector(A.target)||typeof A.target!="string"&&!A.target.appendChild)&&(v('Target parameter is not valid, defaulting to "body"'),A.target="body")}function Gy(A){ec(A),A.showLoaderOnConfirm&&!A.preConfirm&&v(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Kt(A),typeof A.title=="string"&&(A.title=A.title.split(`
`).join("<br />")),Ft(A)}let ci;class yo{constructor(){if(typeof window=="undefined")return;ci=this;for(var P=arguments.length,K=new Array(P),ae=0;ae<P;ae++)K[ae]=arguments[ae];const Se=Object.freeze(this.constructor.argsToParams(K));Object.defineProperties(this,{params:{value:Se,writable:!1,enumerable:!0,configurable:!0}});const Ze=ci._main(ci.params);n.promise.set(this,Ze)}_main(P){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Xf(Object.assign({},K,P)),Ge.currentInstance&&(Ge.currentInstance._destroy(),fe()&&Wu()),Ge.currentInstance=ci;const ae=Xy(P,K);Gy(ae),Object.freeze(ae),Ge.timeout&&(Ge.timeout.stop(),delete Ge.timeout),clearTimeout(Ge.restoreFocusTimeout);const Se=Jy(ci);return ho(ci,ae),n.innerParams.set(ci,ae),Yy(ci,Se,ae)}then(P){return n.promise.get(this).then(P)}finally(P){return n.promise.get(this).finally(P)}}const Yy=(A,P,K)=>new Promise((ae,Se)=>{const Ze=Vt=>{A.close({isDismissed:!0,dismiss:Vt})};Mi.swalPromiseResolve.set(A,ae),Mi.swalPromiseReject.set(A,Se),P.confirmButton.onclick=()=>{Wl(A)},P.denyButton.onclick=()=>{Xu(A)},P.cancelButton.onclick=()=>{Ju(A,Ze)},P.closeButton.onclick=()=>{Ze(li.close)},l(A,P,Ze),Bu(A,Ge,K,Ze),Jf(A,K),qy(K),tc(Ge,K,Ze),Zo(P,K),setTimeout(()=>{P.container.scrollTop=0})}),Xy=(A,P)=>{const K=Vy(A),ae=Object.assign({},fn,P,K,A);return ae.showClass=Object.assign({},fn.showClass,ae.showClass),ae.hideClass=Object.assign({},fn.hideClass,ae.hideClass),ae},Jy=A=>{const P={popup:R(),container:_(),actions:J(),confirmButton:q(),denyButton:ne(),cancelButton:re(),loader:X(),closeButton:ce(),validationMessage:te(),progressSteps:G()};return n.domCache.set(A,P),P},tc=(A,P,K)=>{const ae=oe();Be(ae),P.timer&&(A.timeout=new Ky(()=>{K("timer"),delete A.timeout},P.timer),P.timerProgressBar&&(Ie(ae),Re(ae,P,"timerProgressBar"),setTimeout(()=>{A.timeout&&A.timeout.running&&tt(P.timer)})))},Zo=(A,P)=>{if(!P.toast){if(!k(P.allowEnterKey)){kp();return}nc(A,P)||Li(-1,1)}},nc=(A,P)=>P.focusDeny&&Qe(A.denyButton)?(A.denyButton.focus(),!0):P.focusCancel&&Qe(A.cancelButton)?(A.cancelButton.focus(),!0):P.focusConfirm&&Qe(A.confirmButton)?(A.confirmButton.focus(),!0):!1,kp=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window!="undefined"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const A=new Date,P=localStorage.getItem("swal-initiation");P?(A.getTime()-Date.parse(P))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const K=document.createElement("audio");K.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",K.loop=!0,document.body.appendChild(K),setTimeout(()=>{K.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${A}`)}Object.assign(yo.prototype,fs),Object.assign(yo,jy),Object.keys(fs).forEach(A=>{yo[A]=function(){if(ci)return ci[A](...arguments)}}),yo.DismissReason=li,yo.version="11.7.3";const Oa=yo;return Oa.default=Oa,Oa}),typeof kn!="undefined"&&kn.Sweetalert2&&(kn.swal=kn.sweetAlert=kn.Swal=kn.SweetAlert=kn.Sweetalert2),typeof document!="undefined"&&function(n,r){var i=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=r);else try{i.innerHTML=r}catch{i.innerText=r}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')})(WP);var Jv=WP.exports;function Mr(e="Are you sure?"){return Jv.fire({cancelButtonColor:"#ccc",confirmButtonColor:"#09f",icon:"warning",showCancelButton:!0,text:e})}function Bn(e,t,n=!1,r){return Jv.fire({cancelButtonColor:"#ccc",confirmButtonColor:"#09f",input:n?"number":"text",inputValue:t,inputValidator:r,showCancelButton:!0,text:e})}var Qv={exports:{}},cp={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lq=H.exports,jP=60103;cp.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var OT=Symbol.for;jP=OT("react.element"),cp.Fragment=OT("react.fragment")}var uq=lq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cq=Object.prototype.hasOwnProperty,fq={key:!0,ref:!0,__self:!0,__source:!0};function KP(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)cq.call(t,r)&&!fq.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:jP,type:e,key:o,ref:s,props:i,_owner:uq.current}}cp.jsx=KP;cp.jsxs=KP;Qv.exports=cp;const w=Qv.exports.jsx,j=Qv.exports.jsxs,Zt=Qv.exports.Fragment;function dq(e){const t=De(),[n,r]=H.exports.useState({...e.item});function i(o){r(o),kh().update(o).then(r).catch(t.showError)}return j("tr",{children:[w("td",{children:j("div",{className:"btn-group",children:[w("span",{onClick:()=>{Mr().then(o=>{if(o.isConfirmed)return kh().delete(n.id)}).catch(t.showError)},className:"btn btn-outline-primary danger",children:"-"}),w("span",{onClick:()=>Bn("Please input the name",n.name).then(o=>{if(o.isConfirmed)return i({...n,name:o.value})}).catch(t.showError),className:"btn btn-outline-primary",children:n.name})]})}),w("td",{children:w("input",{value:n.value,onChange:o=>i({...n,value:o.target.value}),className:"form-control",type:"text"})}),w("td",{children:w("input",{value:n.tag,onChange:o=>i({...n,tag:o.target.value}),className:"form-control",type:"text"})})]})}function Pf(e){return{isOpen:!1,itemId:0,message:"",title:"",close(){e({isOpen:!1,itemId:0})},open(n,r="",i=""){e({isOpen:!0,itemId:n,title:r,message:i})}}}function TT(e){}const fC=vt(function(e){return{...Pf(e),example:"",callback:TT,openCB(n,r="",i="paste JSON array here",o=TT,s=""){e({isOpen:!0,itemId:n,title:r,message:i,example:s,callback:o})}}});function _T(e,t,n="",r=""){return{collectionId:e,name:t,value:n,tag:r}}const hq=`[
    {
        name: "dtCreate",
        tag: "datetime",
    },
    {
        name: "dtUpdate",
        tag: "datetime",
    }
]`;function pq(){const e=$P(),t=uC(),n=De(),[r,i]=H.exports.useState([]);if(H.exports.useEffect(()=>{if(e.item===void 0){i([]);return}i(t.itemzz.filter(s=>{var u;return s.collectionId===((u=e.item)==null?void 0:u.id)}))},[e.item,t.itemzz]),e.item===void 0)return null;function o(s){if(s!=="")try{const u=JSON.parse(s);if(Array.isArray(u)===!1){n.showDanger("text is not JSON array");return}const h=u.map(p=>{var v,y,b;return typeof p=="string"&&(p={name:p}),_T(e.item.id,(v=p.name)!=null?v:"",(y=p.value)!=null?y:"",(b=p.tag)!=null?b:"")});kh().createMany(h).catch(n.showError)}catch(u){n.showError(u)}}return j("table",{className:"table",children:[w("thead",{children:j("tr",{children:[w("th",{children:"name"}),j("th",{children:["value",e.item.valueDescription?` (${e.item.valueDescription})`:""]}),j("th",{children:["tag",e.item.tagDescription?` (${e.item.tagDescription})`:""]})]})}),w("tbody",{children:r.map(s=>w(dq,{item:s},s.id))}),w("tfoot",{children:j("tr",{children:[w("td",{children:w("button",{onClick:()=>Bn("Please input the name","").then(s=>{if(s.isConfirmed)return kh().create(_T(e.item.id,s.value))}).catch(n.showError),className:"btn btn-outline-primary",type:"button",children:"+"})}),w("td",{children:w("span",{onClick:function(){fC.getState().openCB(e.item.id,"import CollectionItem",void 0,o,hq)},className:"btn btn-outline-primary",children:"import"})}),w("td",{})]})})]})}const VP="^[a-zA-Z_][a-zA-Z0-9_]*$",mq=new RegExp(VP);function gq(e){return!!(e&&e.match(mq))}function ti(e,t){return Jv.fire({cancelButtonColor:"#ccc",confirmButtonColor:"#09f",input:"text",inputValue:t,inputValidator(n){return gq(n)?null:`Invalid name. /${VP}/`},showCancelButton:!0,text:e})}function dC(e){const t=e.useItemPageStore(),n=De();function r(i){t.setItem(i),e.makeCRUD().update(i).then(o=>t.setItem(o)).catch(n.showError)}return j("div",{className:"input-group mb-3",children:[e.item.reserved?w("span",{className:"btn btn-outline-secondary",children:e.item.name}):j(Zt,{children:[w("button",{onClick:function(){Mr().then(function(i){var o;if(i.isConfirmed)return((o=e.onDeleteBefore)!=null?o:()=>Promise.resolve())().then(()=>e.makeCRUD().delete(e.item.id).catch(n.showError))}).catch(n.showError)},className:"btn btn-outline-primary danger",type:"button",children:"-"}),w("button",{onClick:function(){e.showDialog(e.message,e.item.name).then(i=>{if(i.isConfirmed)return r({...e.item,name:i.value})}).catch(n.showError)},className:"btn btn-outline-primary",type:"button",children:e.item.name})]}),w("input",{value:e.item.description,onChange:i=>r({...e.item,description:i.target.value}),type:"text",className:"form-control",placeholder:"description"})]})}function hC(e){return new RegExp(e.split("").join(".*"),"i")}function qP(e){var t;return j("div",{className:"hover-trigger "+((t=e.className)!=null?t:""),children:[w("div",{children:w("span",{className:"color-button active",style:{backgroundColor:aS(e.color,e.color),borderColor:sS(e.color)}})}),w("div",{className:"hover-list",children:UP.map(n=>w("div",{children:w("span",{className:"color-button "+(n===e.color?"active":""),onClick:()=>e.setColor(n),style:{backgroundColor:aS(n,e.color),borderColor:sS(n)}})},n))})]})}function Zv(e){const t=e.useStore(),[n,r]=H.exports.useState([]);H.exports.useEffect(()=>{r(i())},[t.color,t.keyword,e.itemzz]);function i(){if(t.color===Si.white&&t.keyword==="")return[...e.itemzz];const o=hC(t.keyword);return t.color===Si.white?e.itemzz.filter(s=>s.name.match(o)):t.keyword===""?e.itemzz.filter(s=>s.color===t.color):e.itemzz.filter(s=>s.color===t.color&&s.name.match(o))}return j("div",{className:"col-3 py-3 h100 overflow-auto "+e.className,children:[j("div",{className:"d-flex align-items-center",children:[w("h1",{className:"inline",children:e.title}),w(qP,{color:t.color,setColor:t.setColor,className:"mx-1"}),e.button]}),w("input",{value:t.keyword,onChange:o=>t.search(o.target.value),className:"form-control mb-3",type:"text"}),w("ul",{className:"list-group overflow-hidden",children:n.map(o=>{var s;return w("li",{onClick:()=>t.setItem(o),className:(((s=t.item)==null?void 0:s.id)===o.id?"active ":"")+"list-group-item list-group-item-action pointer",children:o.name},o.id)})})]})}function Lu(e){var u;const t=e.useItemPageStore(),n=e.useItemzzStore(),r=De(),i=`Please input the ${e.title} name`;let o=Bn;e.validateName&&(o=ti),H.exports.useEffect(()=>{if(t.item===void 0)return;const h=n.find(t.item.id);t.setItem(h)},[n.itemzz]);function s(){var h;if(!(e.onCreateClick===void 0&&e.onCreate===void 0))return w("button",{onClick:(h=e.onCreateClick)!=null?h:function(){o(i,"").then(p=>{if(p.isConfirmed&&p.value&&e.onCreate)return e.onCreate(p.value)}).catch(r.showError)},className:"btn btn-outline-primary",type:"button",children:"+"})}return j(Zt,{children:[w(Zv,{className:e.className,title:e.title,button:s(),itemzz:(u=e.itemzz)!=null?u:n.itemzz,useStore:e.useItemPageStore}),j("div",{className:"col-9 py-3 h100 overflow-auto "+e.className,children:[t.item===void 0?null:w(dC,{item:t.item,makeCRUD:e.makeCRUD,message:i,showDialog:o,useItemPageStore:e.useItemPageStore,validateName:e.validateName}),e.children]})]})}function Bo(e,t={}){return{color:Si.white,description:"",name:e,reserved:!1,...t}}function vq(e){return{...Bo(e),valueDescription:"",tagDescription:""}}function pC(){const e=fC(),[t,n]=H.exports.useState("");return j(Ru,{isOpen:e.isOpen,onRequestClose:e.close,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:[j("div",{className:"mb-3",children:[w("h3",{className:"inline me-3",children:e.title}),w("button",{onClick:function(){e.callback(t)},className:"btn btn-outline-primary",type:"button",children:"import"})]}),w("div",{children:w("textarea",{value:t,onChange:r=>n(r.target.value),rows:11,placeholder:e.message,className:"form-control"})}),j("div",{children:[e.example?w("div",{children:"example"}):null,w("pre",{className:"bg-light border border-secondary",children:e.example})]})]})}function yq(){const e=De();return j("div",{className:"row",children:[w(Lu,{makeCRUD:oS,onCreate:function(t){oS().create(vq(t)).catch(e.showError)},useItemPageStore:$P,useItemzzStore:lC,title:ot.Collection,children:w(pq,{})}),w(pC,{})]})}function wq(){const e=H.exports.createContext(void 0);return{Provider:({initialStore:i,createStore:o,children:s})=>{const u=H.exports.useRef();return u.current||(i&&(console.warn("Provider initialStore is deprecated and will be removed in the next version."),o||(o=()=>i)),u.current=o()),H.exports.createElement(e.Provider,{value:u.current},s)},useStore:(i,o=Object.is)=>{const s=H.exports.useContext(e);if(!s)throw new Error("Seems like you have not used zustand provider as an ancestor.");return s(i,o)},useStoreApi:()=>{const i=H.exports.useContext(e);if(!i)throw new Error("Seems like you have not used zustand provider as an ancestor.");return H.exports.useMemo(()=>({getState:i.getState,setState:i.setState,subscribe:i.subscribe,destroy:i.destroy}),[i])}}}var bq={value:()=>{}};function ey(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Qm(n)}function Qm(e){this._=e}function Sq(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Qm.prototype=ey.prototype={constructor:Qm,on:function(e,t){var n=this._,r=Sq(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=Eq(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=AT(n[i],e.name,t);else if(t==null)for(i in n)n[i]=AT(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Qm(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function Eq(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function AT(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=bq,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var lS="http://www.w3.org/1999/xhtml",RT={svg:"http://www.w3.org/2000/svg",xhtml:lS,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ty(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),RT.hasOwnProperty(t)?{space:RT[t],local:e}:e}function Cq(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===lS&&t.documentElement.namespaceURI===lS?t.createElement(e):t.createElementNS(n,e)}}function xq(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function HP(e){var t=ty(e);return(t.local?xq:Cq)(t)}function Nq(){}function mC(e){return e==null?Nq:function(){return this.querySelector(e)}}function Iq(e){typeof e!="function"&&(e=mC(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,u=r[i]=new Array(s),h,p,v=0;v<s;++v)(h=o[v])&&(p=e.call(h,h.__data__,v,o))&&("__data__"in h&&(p.__data__=h.__data__),u[v]=p);return new Ii(r,this._parents)}function Oq(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Tq(){return[]}function GP(e){return e==null?Tq:function(){return this.querySelectorAll(e)}}function _q(e){return function(){return Oq(e.apply(this,arguments))}}function Aq(e){typeof e=="function"?e=_q(e):e=GP(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],u=s.length,h,p=0;p<u;++p)(h=s[p])&&(r.push(e.call(h,h.__data__,p,s)),i.push(h));return new Ii(r,i)}function YP(e){return function(){return this.matches(e)}}function XP(e){return function(t){return t.matches(e)}}var Rq=Array.prototype.find;function Pq(e){return function(){return Rq.call(this.children,e)}}function kq(){return this.firstElementChild}function Dq(e){return this.select(e==null?kq:Pq(typeof e=="function"?e:XP(e)))}var Lq=Array.prototype.filter;function Mq(){return Array.from(this.children)}function zq(e){return function(){return Lq.call(this.children,e)}}function Bq(e){return this.selectAll(e==null?Mq:zq(typeof e=="function"?e:XP(e)))}function Fq(e){typeof e!="function"&&(e=YP(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,u=r[i]=[],h,p=0;p<s;++p)(h=o[p])&&e.call(h,h.__data__,p,o)&&u.push(h);return new Ii(r,this._parents)}function JP(e){return new Array(e.length)}function Uq(){return new Ii(this._enter||this._groups.map(JP),this._parents)}function Gg(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Gg.prototype={constructor:Gg,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function $q(e){return function(){return e}}function Wq(e,t,n,r,i,o){for(var s=0,u,h=t.length,p=o.length;s<p;++s)(u=t[s])?(u.__data__=o[s],r[s]=u):n[s]=new Gg(e,o[s]);for(;s<h;++s)(u=t[s])&&(i[s]=u)}function jq(e,t,n,r,i,o,s){var u,h,p=new Map,v=t.length,y=o.length,b=new Array(v),I;for(u=0;u<v;++u)(h=t[u])&&(b[u]=I=s.call(h,h.__data__,u,t)+"",p.has(I)?i[u]=h:p.set(I,h));for(u=0;u<y;++u)I=s.call(e,o[u],u,o)+"",(h=p.get(I))?(r[u]=h,h.__data__=o[u],p.delete(I)):n[u]=new Gg(e,o[u]);for(u=0;u<v;++u)(h=t[u])&&p.get(b[u])===h&&(i[u]=h)}function Kq(e){return e.__data__}function Vq(e,t){if(!arguments.length)return Array.from(this,Kq);var n=t?jq:Wq,r=this._parents,i=this._groups;typeof e!="function"&&(e=$q(e));for(var o=i.length,s=new Array(o),u=new Array(o),h=new Array(o),p=0;p<o;++p){var v=r[p],y=i[p],b=y.length,I=qq(e.call(v,v&&v.__data__,p,r)),O=I.length,k=u[p]=new Array(O),E=s[p]=new Array(O),S=h[p]=new Array(b);n(v,y,k,E,S,I,t);for(var N=0,_=0,T,M;N<O;++N)if(T=k[N]){for(N>=_&&(_=N+1);!(M=E[_])&&++_<O;);T._next=M||null}}return s=new Ii(s,r),s._enter=u,s._exit=h,s}function qq(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Hq(){return new Ii(this._exit||this._groups.map(JP),this._parents)}function Gq(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Yq(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),u=new Array(i),h=0;h<s;++h)for(var p=n[h],v=r[h],y=p.length,b=u[h]=new Array(y),I,O=0;O<y;++O)(I=p[O]||v[O])&&(b[O]=I);for(;h<i;++h)u[h]=n[h];return new Ii(u,this._parents)}function Xq(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Jq(e){e||(e=Qq);function t(y,b){return y&&b?e(y.__data__,b.__data__):!y-!b}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],u=s.length,h=i[o]=new Array(u),p,v=0;v<u;++v)(p=s[v])&&(h[v]=p);h.sort(t)}return new Ii(i,this._parents).order()}function Qq(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Zq(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function eH(){return Array.from(this)}function tH(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function nH(){let e=0;for(const t of this)++e;return e}function rH(){return!this.node()}function iH(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,u;o<s;++o)(u=i[o])&&e.call(u,u.__data__,o,i);return this}function oH(e){return function(){this.removeAttribute(e)}}function aH(e){return function(){this.removeAttributeNS(e.space,e.local)}}function sH(e,t){return function(){this.setAttribute(e,t)}}function lH(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function uH(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function cH(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function fH(e,t){var n=ty(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?aH:oH:typeof t=="function"?n.local?cH:uH:n.local?lH:sH)(n,t))}function QP(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function dH(e){return function(){this.style.removeProperty(e)}}function hH(e,t,n){return function(){this.style.setProperty(e,t,n)}}function pH(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function mH(e,t,n){return arguments.length>1?this.each((t==null?dH:typeof t=="function"?pH:hH)(e,t,n==null?"":n)):uf(this.node(),e)}function uf(e,t){return e.style.getPropertyValue(t)||QP(e).getComputedStyle(e,null).getPropertyValue(t)}function gH(e){return function(){delete this[e]}}function vH(e,t){return function(){this[e]=t}}function yH(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function wH(e,t){return arguments.length>1?this.each((t==null?gH:typeof t=="function"?yH:vH)(e,t)):this.node()[e]}function ZP(e){return e.trim().split(/^|\s+/)}function gC(e){return e.classList||new ek(e)}function ek(e){this._node=e,this._names=ZP(e.getAttribute("class")||"")}ek.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function tk(e,t){for(var n=gC(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function nk(e,t){for(var n=gC(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function bH(e){return function(){tk(this,e)}}function SH(e){return function(){nk(this,e)}}function EH(e,t){return function(){(t.apply(this,arguments)?tk:nk)(this,e)}}function CH(e,t){var n=ZP(e+"");if(arguments.length<2){for(var r=gC(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?EH:t?bH:SH)(n,t))}function xH(){this.textContent=""}function NH(e){return function(){this.textContent=e}}function IH(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function OH(e){return arguments.length?this.each(e==null?xH:(typeof e=="function"?IH:NH)(e)):this.node().textContent}function TH(){this.innerHTML=""}function _H(e){return function(){this.innerHTML=e}}function AH(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function RH(e){return arguments.length?this.each(e==null?TH:(typeof e=="function"?AH:_H)(e)):this.node().innerHTML}function PH(){this.nextSibling&&this.parentNode.appendChild(this)}function kH(){return this.each(PH)}function DH(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function LH(){return this.each(DH)}function MH(e){var t=typeof e=="function"?e:HP(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function zH(){return null}function BH(e,t){var n=typeof e=="function"?e:HP(e),r=t==null?zH:typeof t=="function"?t:mC(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function FH(){var e=this.parentNode;e&&e.removeChild(this)}function UH(){return this.each(FH)}function $H(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function WH(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function jH(e){return this.select(e?WH:$H)}function KH(e){return arguments.length?this.property("__data__",e):this.node().__data__}function VH(e){return function(t){e.call(this,t,this.__data__)}}function qH(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function HH(e){return function(){var t=this.__on;if(!!t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function GH(e,t,n){return function(){var r=this.__on,i,o=VH(t);if(r){for(var s=0,u=r.length;s<u;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function YH(e,t,n){var r=qH(e+""),i,o=r.length,s;if(arguments.length<2){var u=this.node().__on;if(u){for(var h=0,p=u.length,v;h<p;++h)for(i=0,v=u[h];i<o;++i)if((s=r[i]).type===v.type&&s.name===v.name)return v.value}return}for(u=t?GH:HH,i=0;i<o;++i)this.each(u(r[i],t,n));return this}function rk(e,t,n){var r=QP(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function XH(e,t){return function(){return rk(this,e,t)}}function JH(e,t){return function(){return rk(this,e,t.apply(this,arguments))}}function QH(e,t){return this.each((typeof t=="function"?JH:XH)(e,t))}function*ZH(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var ik=[null];function Ii(e,t){this._groups=e,this._parents=t}function fp(){return new Ii([[document.documentElement]],ik)}function eG(){return this}Ii.prototype=fp.prototype={constructor:Ii,select:Iq,selectAll:Aq,selectChild:Dq,selectChildren:Bq,filter:Fq,data:Vq,enter:Uq,exit:Hq,join:Gq,merge:Yq,selection:eG,order:Xq,sort:Jq,call:Zq,nodes:eH,node:tH,size:nH,empty:rH,each:iH,attr:fH,style:mH,property:wH,classed:CH,text:OH,html:RH,raise:kH,lower:LH,append:MH,insert:BH,remove:UH,clone:jH,datum:KH,on:YH,dispatch:QH,[Symbol.iterator]:ZH};function Io(e){return typeof e=="string"?new Ii([[document.querySelector(e)]],[document.documentElement]):new Ii([[e]],ik)}function tG(e){let t;for(;t=e.sourceEvent;)e=t;return e}function oa(e,t){if(e=tG(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const nG={passive:!1},zh={capture:!0,passive:!1};function Nb(e){e.stopImmediatePropagation()}function Hc(e){e.preventDefault(),e.stopImmediatePropagation()}function ok(e){var t=e.document.documentElement,n=Io(e).on("dragstart.drag",Hc,zh);"onselectstart"in t?n.on("selectstart.drag",Hc,zh):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function ak(e,t){var n=e.document.documentElement,r=Io(e).on("dragstart.drag",null);t&&(r.on("click.drag",Hc,zh),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var bm=e=>()=>e;function uS(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:u,dx:h,dy:p,dispatch:v}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:p,enumerable:!0,configurable:!0},_:{value:v}})}uS.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function rG(e){return!e.ctrlKey&&!e.button}function iG(){return this.parentNode}function oG(e,t){return t==null?{x:e.x,y:e.y}:t}function aG(){return navigator.maxTouchPoints||"ontouchstart"in this}function sG(){var e=rG,t=iG,n=oG,r=aG,i={},o=ey("start","drag","end"),s=0,u,h,p,v,y=0;function b(T){T.on("mousedown.drag",I).filter(r).on("touchstart.drag",E).on("touchmove.drag",S,nG).on("touchend.drag touchcancel.drag",N).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function I(T,M){if(!(v||!e.call(this,T,M))){var R=_(this,t.call(this,T,M),T,M,"mouse");!R||(Io(T.view).on("mousemove.drag",O,zh).on("mouseup.drag",k,zh),ok(T.view),Nb(T),p=!1,u=T.clientX,h=T.clientY,R("start",T))}}function O(T){if(Hc(T),!p){var M=T.clientX-u,R=T.clientY-h;p=M*M+R*R>y}i.mouse("drag",T)}function k(T){Io(T.view).on("mousemove.drag mouseup.drag",null),ak(T.view,p),Hc(T),i.mouse("end",T)}function E(T,M){if(!!e.call(this,T,M)){var R=T.changedTouches,B=t.call(this,T,M),U=R.length,F,z;for(F=0;F<U;++F)(z=_(this,B,T,M,R[F].identifier,R[F]))&&(Nb(T),z("start",T,R[F]))}}function S(T){var M=T.changedTouches,R=M.length,B,U;for(B=0;B<R;++B)(U=i[M[B].identifier])&&(Hc(T),U("drag",T,M[B]))}function N(T){var M=T.changedTouches,R=M.length,B,U;for(v&&clearTimeout(v),v=setTimeout(function(){v=null},500),B=0;B<R;++B)(U=i[M[B].identifier])&&(Nb(T),U("end",T,M[B]))}function _(T,M,R,B,U,F){var z=o.copy(),$=oa(F||R,M),G,te,q;if((q=n.call(T,new uS("beforestart",{sourceEvent:R,target:b,identifier:U,active:s,x:$[0],y:$[1],dx:0,dy:0,dispatch:z}),B))!=null)return G=q.x-$[0]||0,te=q.y-$[1]||0,function re(ne,Q,X){var J=$,ie;switch(ne){case"start":i[U]=re,ie=s++;break;case"end":delete i[U],--s;case"drag":$=oa(X||Q,M),ie=s;break}z.call(ne,T,new uS(ne,{sourceEvent:Q,subject:q,target:b,identifier:U,active:ie,x:$[0]+G,y:$[1]+te,dx:$[0]-J[0],dy:$[1]-J[1],dispatch:z}),B)}}return b.filter=function(T){return arguments.length?(e=typeof T=="function"?T:bm(!!T),b):e},b.container=function(T){return arguments.length?(t=typeof T=="function"?T:bm(T),b):t},b.subject=function(T){return arguments.length?(n=typeof T=="function"?T:bm(T),b):n},b.touchable=function(T){return arguments.length?(r=typeof T=="function"?T:bm(!!T),b):r},b.on=function(){var T=o.on.apply(o,arguments);return T===o?b:T},b.clickDistance=function(T){return arguments.length?(y=(T=+T)*T,b):Math.sqrt(y)},b}function vC(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function sk(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function dp(){}var Bh=.7,Yg=1/Bh,Gc="\\s*([+-]?\\d+)\\s*",Fh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lG=/^#([0-9a-f]{3,8})$/,uG=new RegExp(`^rgb\\(${Gc},${Gc},${Gc}\\)$`),cG=new RegExp(`^rgb\\(${fa},${fa},${fa}\\)$`),fG=new RegExp(`^rgba\\(${Gc},${Gc},${Gc},${Fh}\\)$`),dG=new RegExp(`^rgba\\(${fa},${fa},${fa},${Fh}\\)$`),hG=new RegExp(`^hsl\\(${Fh},${fa},${fa}\\)$`),pG=new RegExp(`^hsla\\(${Fh},${fa},${fa},${Fh}\\)$`),PT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vC(dp,Uh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:kT,formatHex:kT,formatHex8:mG,formatHsl:gG,formatRgb:DT,toString:DT});function kT(){return this.rgb().formatHex()}function mG(){return this.rgb().formatHex8()}function gG(){return lk(this).formatHsl()}function DT(){return this.rgb().formatRgb()}function Uh(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=lG.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?LT(t):n===3?new Xr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Sm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Sm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=uG.exec(e))?new Xr(t[1],t[2],t[3],1):(t=cG.exec(e))?new Xr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=fG.exec(e))?Sm(t[1],t[2],t[3],t[4]):(t=dG.exec(e))?Sm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=hG.exec(e))?BT(t[1],t[2]/100,t[3]/100,1):(t=pG.exec(e))?BT(t[1],t[2]/100,t[3]/100,t[4]):PT.hasOwnProperty(e)?LT(PT[e]):e==="transparent"?new Xr(NaN,NaN,NaN,0):null}function LT(e){return new Xr(e>>16&255,e>>8&255,e&255,1)}function Sm(e,t,n,r){return r<=0&&(e=t=n=NaN),new Xr(e,t,n,r)}function vG(e){return e instanceof dp||(e=Uh(e)),e?(e=e.rgb(),new Xr(e.r,e.g,e.b,e.opacity)):new Xr}function cS(e,t,n,r){return arguments.length===1?vG(e):new Xr(e,t,n,r==null?1:r)}function Xr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}vC(Xr,cS,sk(dp,{brighter(e){return e=e==null?Yg:Math.pow(Yg,e),new Xr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Bh:Math.pow(Bh,e),new Xr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xr(pu(this.r),pu(this.g),pu(this.b),Xg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:MT,formatHex:MT,formatHex8:yG,formatRgb:zT,toString:zT}));function MT(){return`#${cu(this.r)}${cu(this.g)}${cu(this.b)}`}function yG(){return`#${cu(this.r)}${cu(this.g)}${cu(this.b)}${cu((isNaN(this.opacity)?1:this.opacity)*255)}`}function zT(){const e=Xg(this.opacity);return`${e===1?"rgb(":"rgba("}${pu(this.r)}, ${pu(this.g)}, ${pu(this.b)}${e===1?")":`, ${e})`}`}function Xg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function cu(e){return e=pu(e),(e<16?"0":"")+e.toString(16)}function BT(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Oo(e,t,n,r)}function lk(e){if(e instanceof Oo)return new Oo(e.h,e.s,e.l,e.opacity);if(e instanceof dp||(e=Uh(e)),!e)return new Oo;if(e instanceof Oo)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,u=o-i,h=(o+i)/2;return u?(t===o?s=(n-r)/u+(n<r)*6:n===o?s=(r-t)/u+2:s=(t-n)/u+4,u/=h<.5?o+i:2-o-i,s*=60):u=h>0&&h<1?0:s,new Oo(s,u,h,e.opacity)}function wG(e,t,n,r){return arguments.length===1?lk(e):new Oo(e,t,n,r==null?1:r)}function Oo(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}vC(Oo,wG,sk(dp,{brighter(e){return e=e==null?Yg:Math.pow(Yg,e),new Oo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Bh:Math.pow(Bh,e),new Oo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Xr(Ib(e>=240?e-240:e+120,i,r),Ib(e,i,r),Ib(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Oo(FT(this.h),Em(this.s),Em(this.l),Xg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Xg(this.opacity);return`${e===1?"hsl(":"hsla("}${FT(this.h)}, ${Em(this.s)*100}%, ${Em(this.l)*100}%${e===1?")":`, ${e})`}`}}));function FT(e){return e=(e||0)%360,e<0?e+360:e}function Em(e){return Math.max(0,Math.min(1,e||0))}function Ib(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}var uk=e=>()=>e;function bG(e,t){return function(n){return e+n*t}}function SG(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function EG(e){return(e=+e)==1?ck:function(t,n){return n-t?SG(t,n,e):uk(isNaN(t)?n:t)}}function ck(e,t){var n=t-e;return n?bG(e,n):uk(isNaN(e)?t:e)}var UT=function e(t){var n=EG(t);function r(i,o){var s=n((i=cS(i)).r,(o=cS(o)).r),u=n(i.g,o.g),h=n(i.b,o.b),p=ck(i.opacity,o.opacity);return function(v){return i.r=s(v),i.g=u(v),i.b=h(v),i.opacity=p(v),i+""}}return r.gamma=e,r}(1);function As(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var fS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ob=new RegExp(fS.source,"g");function CG(e){return function(){return e}}function xG(e){return function(t){return e(t)+""}}function NG(e,t){var n=fS.lastIndex=Ob.lastIndex=0,r,i,o,s=-1,u=[],h=[];for(e=e+"",t=t+"";(r=fS.exec(e))&&(i=Ob.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),u[s]?u[s]+=o:u[++s]=o),(r=r[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,h.push({i:s,x:As(r,i)})),n=Ob.lastIndex;return n<t.length&&(o=t.slice(n),u[s]?u[s]+=o:u[++s]=o),u.length<2?h[0]?xG(h[0].x):CG(t):(t=h.length,function(p){for(var v=0,y;v<t;++v)u[(y=h[v]).i]=y.x(p);return u.join("")})}var $T=180/Math.PI,dS={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function fk(e,t,n,r,i,o){var s,u,h;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(h=e*n+t*r)&&(n-=e*h,r-=t*h),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,h/=u),e*r<t*n&&(e=-e,t=-t,h=-h,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*$T,skewX:Math.atan(h)*$T,scaleX:s,scaleY:u}}var Cm;function IG(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?dS:fk(t.a,t.b,t.c,t.d,t.e,t.f)}function OG(e){return e==null||(Cm||(Cm=document.createElementNS("http://www.w3.org/2000/svg","g")),Cm.setAttribute("transform",e),!(e=Cm.transform.baseVal.consolidate()))?dS:(e=e.matrix,fk(e.a,e.b,e.c,e.d,e.e,e.f))}function dk(e,t,n,r){function i(p){return p.length?p.pop()+" ":""}function o(p,v,y,b,I,O){if(p!==y||v!==b){var k=I.push("translate(",null,t,null,n);O.push({i:k-4,x:As(p,y)},{i:k-2,x:As(v,b)})}else(y||b)&&I.push("translate("+y+t+b+n)}function s(p,v,y,b){p!==v?(p-v>180?v+=360:v-p>180&&(p+=360),b.push({i:y.push(i(y)+"rotate(",null,r)-2,x:As(p,v)})):v&&y.push(i(y)+"rotate("+v+r)}function u(p,v,y,b){p!==v?b.push({i:y.push(i(y)+"skewX(",null,r)-2,x:As(p,v)}):v&&y.push(i(y)+"skewX("+v+r)}function h(p,v,y,b,I,O){if(p!==y||v!==b){var k=I.push(i(I)+"scale(",null,",",null,")");O.push({i:k-4,x:As(p,y)},{i:k-2,x:As(v,b)})}else(y!==1||b!==1)&&I.push(i(I)+"scale("+y+","+b+")")}return function(p,v){var y=[],b=[];return p=e(p),v=e(v),o(p.translateX,p.translateY,v.translateX,v.translateY,y,b),s(p.rotate,v.rotate,y,b),u(p.skewX,v.skewX,y,b),h(p.scaleX,p.scaleY,v.scaleX,v.scaleY,y,b),p=v=null,function(I){for(var O=-1,k=b.length,E;++O<k;)y[(E=b[O]).i]=E.x(I);return y.join("")}}}var TG=dk(IG,"px, ","px)","deg)"),_G=dk(OG,", ",")",")"),AG=1e-12;function WT(e){return((e=Math.exp(e))+1/e)/2}function RG(e){return((e=Math.exp(e))-1/e)/2}function PG(e){return((e=Math.exp(2*e))-1)/(e+1)}var kG=function e(t,n,r){function i(o,s){var u=o[0],h=o[1],p=o[2],v=s[0],y=s[1],b=s[2],I=v-u,O=y-h,k=I*I+O*O,E,S;if(k<AG)S=Math.log(b/p)/t,E=function(B){return[u+B*I,h+B*O,p*Math.exp(t*B*S)]};else{var N=Math.sqrt(k),_=(b*b-p*p+r*k)/(2*p*n*N),T=(b*b-p*p-r*k)/(2*b*n*N),M=Math.log(Math.sqrt(_*_+1)-_),R=Math.log(Math.sqrt(T*T+1)-T);S=(R-M)/t,E=function(B){var U=B*S,F=WT(M),z=p/(n*N)*(F*PG(t*U+M)-RG(M));return[u+z*I,h+z*O,p*F/WT(t*U+M)]}}return E.duration=S*1e3*t/Math.SQRT2,E}return i.rho=function(o){var s=Math.max(.001,+o),u=s*s,h=u*u;return e(s,u,h)},i}(Math.SQRT2,2,4),cf=0,Ud=0,Id=0,hk=1e3,Jg,$d,Qg=0,Cu=0,ny=0,$h=typeof performance=="object"&&performance.now?performance:Date,pk=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function yC(){return Cu||(pk(DG),Cu=$h.now()+ny)}function DG(){Cu=0}function Zg(){this._call=this._time=this._next=null}Zg.prototype=mk.prototype={constructor:Zg,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?yC():+n)+(t==null?0:+t),!this._next&&$d!==this&&($d?$d._next=this:Jg=this,$d=this),this._call=e,this._time=n,hS()},stop:function(){this._call&&(this._call=null,this._time=1/0,hS())}};function mk(e,t,n){var r=new Zg;return r.restart(e,t,n),r}function LG(){yC(),++cf;for(var e=Jg,t;e;)(t=Cu-e._time)>=0&&e._call.call(void 0,t),e=e._next;--cf}function jT(){Cu=(Qg=$h.now())+ny,cf=Ud=0;try{LG()}finally{cf=0,zG(),Cu=0}}function MG(){var e=$h.now(),t=e-Qg;t>hk&&(ny-=t,Qg=e)}function zG(){for(var e,t=Jg,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Jg=n);$d=e,hS(r)}function hS(e){if(!cf){Ud&&(Ud=clearTimeout(Ud));var t=e-Cu;t>24?(e<1/0&&(Ud=setTimeout(jT,e-$h.now()-ny)),Id&&(Id=clearInterval(Id))):(Id||(Qg=$h.now(),Id=setInterval(MG,hk)),cf=1,pk(jT))}}function KT(e,t,n){var r=new Zg;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var BG=ey("start","end","cancel","interrupt"),FG=[],gk=0,VT=1,pS=2,Zm=3,qT=4,mS=5,eg=6;function ry(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;UG(e,n,{name:t,index:r,group:i,on:BG,tween:FG,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:gk})}function wC(e,t){var n=Fo(e,t);if(n.state>gk)throw new Error("too late; already scheduled");return n}function ga(e,t){var n=Fo(e,t);if(n.state>Zm)throw new Error("too late; already running");return n}function Fo(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function UG(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=mk(o,0,n.time);function o(p){n.state=VT,n.timer.restart(s,n.delay,n.time),n.delay<=p&&s(p-n.delay)}function s(p){var v,y,b,I;if(n.state!==VT)return h();for(v in r)if(I=r[v],I.name===n.name){if(I.state===Zm)return KT(s);I.state===qT?(I.state=eg,I.timer.stop(),I.on.call("interrupt",e,e.__data__,I.index,I.group),delete r[v]):+v<t&&(I.state=eg,I.timer.stop(),I.on.call("cancel",e,e.__data__,I.index,I.group),delete r[v])}if(KT(function(){n.state===Zm&&(n.state=qT,n.timer.restart(u,n.delay,n.time),u(p))}),n.state=pS,n.on.call("start",e,e.__data__,n.index,n.group),n.state===pS){for(n.state=Zm,i=new Array(b=n.tween.length),v=0,y=-1;v<b;++v)(I=n.tween[v].value.call(e,e.__data__,n.index,n.group))&&(i[++y]=I);i.length=y+1}}function u(p){for(var v=p<n.duration?n.ease.call(null,p/n.duration):(n.timer.restart(h),n.state=mS,1),y=-1,b=i.length;++y<b;)i[y].call(e,v);n.state===mS&&(n.on.call("end",e,e.__data__,n.index,n.group),h())}function h(){n.state=eg,n.timer.stop(),delete r[t];for(var p in r)return;delete e.__transition}}function tg(e,t){var n=e.__transition,r,i,o=!0,s;if(!!n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>pS&&r.state<mS,r.state=eg,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function $G(e){return this.each(function(){tg(this,e)})}function WG(e,t){var n,r;return function(){var i=ga(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,u=r.length;s<u;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function jG(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=ga(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var u={name:t,value:n},h=0,p=i.length;h<p;++h)if(i[h].name===t){i[h]=u;break}h===p&&i.push(u)}o.tween=i}}function KG(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Fo(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?WG:jG)(n,e,t))}function bC(e,t,n){var r=e._id;return e.each(function(){var i=ga(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Fo(i,r).value[t]}}function vk(e,t){var n;return(typeof t=="number"?As:t instanceof Uh?UT:(n=Uh(t))?(t=n,UT):NG)(e,t)}function VG(e){return function(){this.removeAttribute(e)}}function qG(e){return function(){this.removeAttributeNS(e.space,e.local)}}function HG(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function GG(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function YG(e,t,n){var r,i,o;return function(){var s,u=n(this),h;return u==null?void this.removeAttribute(e):(s=this.getAttribute(e),h=u+"",s===h?null:s===r&&h===i?o:(i=h,o=t(r=s,u)))}}function XG(e,t,n){var r,i,o;return function(){var s,u=n(this),h;return u==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),h=u+"",s===h?null:s===r&&h===i?o:(i=h,o=t(r=s,u)))}}function JG(e,t){var n=ty(e),r=n==="transform"?_G:vk;return this.attrTween(e,typeof t=="function"?(n.local?XG:YG)(n,r,bC(this,"attr."+e,t)):t==null?(n.local?qG:VG)(n):(n.local?GG:HG)(n,r,t))}function QG(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function ZG(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function e4(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&ZG(e,o)),n}return i._value=t,i}function t4(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&QG(e,o)),n}return i._value=t,i}function n4(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=ty(e);return this.tween(n,(r.local?e4:t4)(r,t))}function r4(e,t){return function(){wC(this,e).delay=+t.apply(this,arguments)}}function i4(e,t){return t=+t,function(){wC(this,e).delay=t}}function o4(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?r4:i4)(t,e)):Fo(this.node(),t).delay}function a4(e,t){return function(){ga(this,e).duration=+t.apply(this,arguments)}}function s4(e,t){return t=+t,function(){ga(this,e).duration=t}}function l4(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?a4:s4)(t,e)):Fo(this.node(),t).duration}function u4(e,t){if(typeof t!="function")throw new Error;return function(){ga(this,e).ease=t}}function c4(e){var t=this._id;return arguments.length?this.each(u4(t,e)):Fo(this.node(),t).ease}function f4(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;ga(this,e).ease=n}}function d4(e){if(typeof e!="function")throw new Error;return this.each(f4(this._id,e))}function h4(e){typeof e!="function"&&(e=YP(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,u=r[i]=[],h,p=0;p<s;++p)(h=o[p])&&e.call(h,h.__data__,p,o)&&u.push(h);return new Ga(r,this._parents,this._name,this._id)}function p4(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),u=0;u<o;++u)for(var h=t[u],p=n[u],v=h.length,y=s[u]=new Array(v),b,I=0;I<v;++I)(b=h[I]||p[I])&&(y[I]=b);for(;u<r;++u)s[u]=t[u];return new Ga(s,this._parents,this._name,this._id)}function m4(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function g4(e,t,n){var r,i,o=m4(t)?wC:ga;return function(){var s=o(this,e),u=s.on;u!==r&&(i=(r=u).copy()).on(t,n),s.on=i}}function v4(e,t){var n=this._id;return arguments.length<2?Fo(this.node(),n).on.on(e):this.each(g4(n,e,t))}function y4(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function w4(){return this.on("end.remove",y4(this._id))}function b4(e){var t=this._name,n=this._id;typeof e!="function"&&(e=mC(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var u=r[s],h=u.length,p=o[s]=new Array(h),v,y,b=0;b<h;++b)(v=u[b])&&(y=e.call(v,v.__data__,b,u))&&("__data__"in v&&(y.__data__=v.__data__),p[b]=y,ry(p[b],t,n,b,p,Fo(v,n)));return new Ga(o,this._parents,t,n)}function S4(e){var t=this._name,n=this._id;typeof e!="function"&&(e=GP(e));for(var r=this._groups,i=r.length,o=[],s=[],u=0;u<i;++u)for(var h=r[u],p=h.length,v,y=0;y<p;++y)if(v=h[y]){for(var b=e.call(v,v.__data__,y,h),I,O=Fo(v,n),k=0,E=b.length;k<E;++k)(I=b[k])&&ry(I,t,n,k,b,O);o.push(b),s.push(v)}return new Ga(o,s,t,n)}var E4=fp.prototype.constructor;function C4(){return new E4(this._groups,this._parents)}function x4(e,t){var n,r,i;return function(){var o=uf(this,e),s=(this.style.removeProperty(e),uf(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function yk(e){return function(){this.style.removeProperty(e)}}function N4(e,t,n){var r,i=n+"",o;return function(){var s=uf(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function I4(e,t,n){var r,i,o;return function(){var s=uf(this,e),u=n(this),h=u+"";return u==null&&(h=u=(this.style.removeProperty(e),uf(this,e))),s===h?null:s===r&&h===i?o:(i=h,o=t(r=s,u))}}function O4(e,t){var n,r,i,o="style."+t,s="end."+o,u;return function(){var h=ga(this,e),p=h.on,v=h.value[o]==null?u||(u=yk(t)):void 0;(p!==n||i!==v)&&(r=(n=p).copy()).on(s,i=v),h.on=r}}function T4(e,t,n){var r=(e+="")=="transform"?TG:vk;return t==null?this.styleTween(e,x4(e,r)).on("end.style."+e,yk(e)):typeof t=="function"?this.styleTween(e,I4(e,r,bC(this,"style."+e,t))).each(O4(this._id,e)):this.styleTween(e,N4(e,r,t),n).on("end.style."+e,null)}function _4(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function A4(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&_4(e,s,n)),r}return o._value=t,o}function R4(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,A4(e,t,n==null?"":n))}function P4(e){return function(){this.textContent=e}}function k4(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function D4(e){return this.tween("text",typeof e=="function"?k4(bC(this,"text",e)):P4(e==null?"":e+""))}function L4(e){return function(t){this.textContent=e.call(this,t)}}function M4(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&L4(i)),t}return r._value=e,r}function z4(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,M4(e))}function B4(){for(var e=this._name,t=this._id,n=wk(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],u=s.length,h,p=0;p<u;++p)if(h=s[p]){var v=Fo(h,t);ry(h,e,n,p,s,{time:v.time+v.delay+v.duration,delay:0,duration:v.duration,ease:v.ease})}return new Ga(r,this._parents,e,n)}function F4(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var u={value:s},h={value:function(){--i===0&&o()}};n.each(function(){var p=ga(this,r),v=p.on;v!==e&&(t=(e=v).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(h)),p.on=t}),i===0&&o()})}var U4=0;function Ga(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function wk(){return++U4}var Ba=fp.prototype;Ga.prototype={constructor:Ga,select:b4,selectAll:S4,selectChild:Ba.selectChild,selectChildren:Ba.selectChildren,filter:h4,merge:p4,selection:C4,transition:B4,call:Ba.call,nodes:Ba.nodes,node:Ba.node,size:Ba.size,empty:Ba.empty,each:Ba.each,on:v4,attr:JG,attrTween:n4,style:T4,styleTween:R4,text:D4,textTween:z4,remove:w4,tween:KG,delay:o4,duration:l4,ease:c4,easeVarying:d4,end:F4,[Symbol.iterator]:Ba[Symbol.iterator]};function $4(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var W4={time:null,delay:0,duration:250,ease:$4};function j4(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function K4(e){var t,n;e instanceof Ga?(t=e._id,e=e._name):(t=wk(),(n=W4).time=yC(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],u=s.length,h,p=0;p<u;++p)(h=s[p])&&ry(h,e,t,p,s,n||j4(h,t));return new Ga(r,this._parents,e,t)}fp.prototype.interrupt=$G;fp.prototype.transition=K4;var xm=e=>()=>e;function V4(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function ja(e,t,n){this.k=e,this.x=t,this.y=n}ja.prototype={constructor:ja,scale:function(e){return e===1?this:new ja(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ja(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var mu=new ja(1,0,0);ja.prototype;function Tb(e){e.stopImmediatePropagation()}function Od(e){e.preventDefault(),e.stopImmediatePropagation()}function q4(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function H4(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function HT(){return this.__zoom||mu}function G4(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Y4(){return navigator.maxTouchPoints||"ontouchstart"in this}function X4(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function J4(){var e=q4,t=H4,n=X4,r=G4,i=Y4,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],u=250,h=kG,p=ey("start","zoom","end"),v,y,b,I=500,O=150,k=0,E=10;function S(q){q.property("__zoom",HT).on("wheel.zoom",U,{passive:!1}).on("mousedown.zoom",F).on("dblclick.zoom",z).filter(i).on("touchstart.zoom",$).on("touchmove.zoom",G).on("touchend.zoom touchcancel.zoom",te).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}S.transform=function(q,re,ne,Q){var X=q.selection?q.selection():q;X.property("__zoom",HT),q!==X?M(q,re,ne,Q):X.interrupt().each(function(){R(this,arguments).event(Q).start().zoom(null,typeof re=="function"?re.apply(this,arguments):re).end()})},S.scaleBy=function(q,re,ne,Q){S.scaleTo(q,function(){var X=this.__zoom.k,J=typeof re=="function"?re.apply(this,arguments):re;return X*J},ne,Q)},S.scaleTo=function(q,re,ne,Q){S.transform(q,function(){var X=t.apply(this,arguments),J=this.__zoom,ie=ne==null?T(X):typeof ne=="function"?ne.apply(this,arguments):ne,oe=J.invert(ie),ce=typeof re=="function"?re.apply(this,arguments):re;return n(_(N(J,ce),ie,oe),X,s)},ne,Q)},S.translateBy=function(q,re,ne,Q){S.transform(q,function(){return n(this.__zoom.translate(typeof re=="function"?re.apply(this,arguments):re,typeof ne=="function"?ne.apply(this,arguments):ne),t.apply(this,arguments),s)},null,Q)},S.translateTo=function(q,re,ne,Q,X){S.transform(q,function(){var J=t.apply(this,arguments),ie=this.__zoom,oe=Q==null?T(J):typeof Q=="function"?Q.apply(this,arguments):Q;return n(mu.translate(oe[0],oe[1]).scale(ie.k).translate(typeof re=="function"?-re.apply(this,arguments):-re,typeof ne=="function"?-ne.apply(this,arguments):-ne),J,s)},Q,X)};function N(q,re){return re=Math.max(o[0],Math.min(o[1],re)),re===q.k?q:new ja(re,q.x,q.y)}function _(q,re,ne){var Q=re[0]-ne[0]*q.k,X=re[1]-ne[1]*q.k;return Q===q.x&&X===q.y?q:new ja(q.k,Q,X)}function T(q){return[(+q[0][0]+ +q[1][0])/2,(+q[0][1]+ +q[1][1])/2]}function M(q,re,ne,Q){q.on("start.zoom",function(){R(this,arguments).event(Q).start()}).on("interrupt.zoom end.zoom",function(){R(this,arguments).event(Q).end()}).tween("zoom",function(){var X=this,J=arguments,ie=R(X,J).event(Q),oe=t.apply(X,J),ce=ne==null?T(oe):typeof ne=="function"?ne.apply(X,J):ne,ye=Math.max(oe[1][0]-oe[0][0],oe[1][1]-oe[0][1]),ge=X.__zoom,fe=typeof re=="function"?re.apply(X,J):re,ze=h(ge.invert(ce).concat(ye/ge.k),fe.invert(ce).concat(ye/fe.k));return function(Ke){if(Ke===1)Ke=fe;else{var Ae=ze(Ke),_e=ye/Ae[2];Ke=new ja(_e,ce[0]-Ae[0]*_e,ce[1]-Ae[1]*_e)}ie.zoom(null,Ke)}})}function R(q,re,ne){return!ne&&q.__zooming||new B(q,re)}function B(q,re){this.that=q,this.args=re,this.active=0,this.sourceEvent=null,this.extent=t.apply(q,re),this.taps=0}B.prototype={event:function(q){return q&&(this.sourceEvent=q),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(q,re){return this.mouse&&q!=="mouse"&&(this.mouse[1]=re.invert(this.mouse[0])),this.touch0&&q!=="touch"&&(this.touch0[1]=re.invert(this.touch0[0])),this.touch1&&q!=="touch"&&(this.touch1[1]=re.invert(this.touch1[0])),this.that.__zoom=re,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(q){var re=Io(this.that).datum();p.call(q,this.that,new V4(q,{sourceEvent:this.sourceEvent,target:S,type:q,transform:this.that.__zoom,dispatch:p}),re)}};function U(q,...re){if(!e.apply(this,arguments))return;var ne=R(this,re).event(q),Q=this.__zoom,X=Math.max(o[0],Math.min(o[1],Q.k*Math.pow(2,r.apply(this,arguments)))),J=oa(q);if(ne.wheel)(ne.mouse[0][0]!==J[0]||ne.mouse[0][1]!==J[1])&&(ne.mouse[1]=Q.invert(ne.mouse[0]=J)),clearTimeout(ne.wheel);else{if(Q.k===X)return;ne.mouse=[J,Q.invert(J)],tg(this),ne.start()}Od(q),ne.wheel=setTimeout(ie,O),ne.zoom("mouse",n(_(N(Q,X),ne.mouse[0],ne.mouse[1]),ne.extent,s));function ie(){ne.wheel=null,ne.end()}}function F(q,...re){if(b||!e.apply(this,arguments))return;var ne=q.currentTarget,Q=R(this,re,!0).event(q),X=Io(q.view).on("mousemove.zoom",ce,!0).on("mouseup.zoom",ye,!0),J=oa(q,ne),ie=q.clientX,oe=q.clientY;ok(q.view),Tb(q),Q.mouse=[J,this.__zoom.invert(J)],tg(this),Q.start();function ce(ge){if(Od(ge),!Q.moved){var fe=ge.clientX-ie,ze=ge.clientY-oe;Q.moved=fe*fe+ze*ze>k}Q.event(ge).zoom("mouse",n(_(Q.that.__zoom,Q.mouse[0]=oa(ge,ne),Q.mouse[1]),Q.extent,s))}function ye(ge){X.on("mousemove.zoom mouseup.zoom",null),ak(ge.view,Q.moved),Od(ge),Q.event(ge).end()}}function z(q,...re){if(!!e.apply(this,arguments)){var ne=this.__zoom,Q=oa(q.changedTouches?q.changedTouches[0]:q,this),X=ne.invert(Q),J=ne.k*(q.shiftKey?.5:2),ie=n(_(N(ne,J),Q,X),t.apply(this,re),s);Od(q),u>0?Io(this).transition().duration(u).call(M,ie,Q,q):Io(this).call(S.transform,ie,Q,q)}}function $(q,...re){if(!!e.apply(this,arguments)){var ne=q.touches,Q=ne.length,X=R(this,re,q.changedTouches.length===Q).event(q),J,ie,oe,ce;for(Tb(q),ie=0;ie<Q;++ie)oe=ne[ie],ce=oa(oe,this),ce=[ce,this.__zoom.invert(ce),oe.identifier],X.touch0?!X.touch1&&X.touch0[2]!==ce[2]&&(X.touch1=ce,X.taps=0):(X.touch0=ce,J=!0,X.taps=1+!!v);v&&(v=clearTimeout(v)),J&&(X.taps<2&&(y=ce[0],v=setTimeout(function(){v=null},I)),tg(this),X.start())}}function G(q,...re){if(!!this.__zooming){var ne=R(this,re).event(q),Q=q.changedTouches,X=Q.length,J,ie,oe,ce;for(Od(q),J=0;J<X;++J)ie=Q[J],oe=oa(ie,this),ne.touch0&&ne.touch0[2]===ie.identifier?ne.touch0[0]=oe:ne.touch1&&ne.touch1[2]===ie.identifier&&(ne.touch1[0]=oe);if(ie=ne.that.__zoom,ne.touch1){var ye=ne.touch0[0],ge=ne.touch0[1],fe=ne.touch1[0],ze=ne.touch1[1],Ke=(Ke=fe[0]-ye[0])*Ke+(Ke=fe[1]-ye[1])*Ke,Ae=(Ae=ze[0]-ge[0])*Ae+(Ae=ze[1]-ge[1])*Ae;ie=N(ie,Math.sqrt(Ke/Ae)),oe=[(ye[0]+fe[0])/2,(ye[1]+fe[1])/2],ce=[(ge[0]+ze[0])/2,(ge[1]+ze[1])/2]}else if(ne.touch0)oe=ne.touch0[0],ce=ne.touch0[1];else return;ne.zoom("touch",n(_(ie,oe,ce),ne.extent,s))}}function te(q,...re){if(!!this.__zooming){var ne=R(this,re).event(q),Q=q.changedTouches,X=Q.length,J,ie;for(Tb(q),b&&clearTimeout(b),b=setTimeout(function(){b=null},I),J=0;J<X;++J)ie=Q[J],ne.touch0&&ne.touch0[2]===ie.identifier?delete ne.touch0:ne.touch1&&ne.touch1[2]===ie.identifier&&delete ne.touch1;if(ne.touch1&&!ne.touch0&&(ne.touch0=ne.touch1,delete ne.touch1),ne.touch0)ne.touch0[1]=this.__zoom.invert(ne.touch0[0]);else if(ne.end(),ne.taps===2&&(ie=oa(ie,this),Math.hypot(y[0]-ie[0],y[1]-ie[1])<E)){var oe=Io(this).on("dblclick.zoom");oe&&oe.apply(this,arguments)}}}return S.wheelDelta=function(q){return arguments.length?(r=typeof q=="function"?q:xm(+q),S):r},S.filter=function(q){return arguments.length?(e=typeof q=="function"?q:xm(!!q),S):e},S.touchable=function(q){return arguments.length?(i=typeof q=="function"?q:xm(!!q),S):i},S.extent=function(q){return arguments.length?(t=typeof q=="function"?q:xm([[+q[0][0],+q[0][1]],[+q[1][0],+q[1][1]]]),S):t},S.scaleExtent=function(q){return arguments.length?(o[0]=+q[0],o[1]=+q[1],S):[o[0],o[1]]},S.translateExtent=function(q){return arguments.length?(s[0][0]=+q[0][0],s[1][0]=+q[1][0],s[0][1]=+q[0][1],s[1][1]=+q[1][1],S):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},S.constrain=function(q){return arguments.length?(n=q,S):n},S.duration=function(q){return arguments.length?(u=+q,S):u},S.interpolate=function(q){return arguments.length?(h=q,S):h},S.on=function(){var q=p.on.apply(p,arguments);return q===p?S:q},S.clickDistance=function(q){return arguments.length?(k=(q=+q)*q,S):Math.sqrt(k)},S.tapDistance=function(q){return arguments.length?(E=+q,S):E},S}function Qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bk(e,t){if(!!e){if(typeof e=="string")return gS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gS(e,t)}}function Q4(e){if(Array.isArray(e))return e}function Z4(e,t){var n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,u;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(h){o=!0,u=h}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw u}}return r}}function e6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wt(e,t){return Q4(e)||Z4(e,t)||bk(e,t)||e6()}var ff;(function(e){e.Strict="strict",e.Loose="loose"})(ff||(ff={}));var GT;(function(e){e.Lines="lines",e.Dots="dots"})(GT||(GT={}));var Yc;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Yc||(Yc={}));var ks;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(ks||(ks={}));var ev;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(ev||(ev={}));var qe;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(qe||(qe={}));var SC=function(t){return{width:t.offsetWidth,height:t.offsetHeight}},Xc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.min(Math.max(t,n),r)},Sk=function(t,n){return{x:Xc(t.x,n[0][0],n[1][0]),y:Xc(t.y,n[0][1],n[1][1])}},Ek=function(t){var n,r;return((n=t.getRootNode)===null||n===void 0?void 0:n.call(t))||((r=window)===null||r===void 0?void 0:r.document)},t6=function(t,n){return{x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x2,n.x2),y2:Math.max(t.y2,n.y2)}},tv=function(t){var n=t.x,r=t.y,i=t.width,o=t.height;return{x:n,y:r,x2:n+i,y2:r+o}},n6=function(t){var n=t.x,r=t.y,i=t.x2,o=t.y2;return{x:n,y:r,width:i-n,height:o-r}},Ck=function(t){return!isNaN(t)&&isFinite(t)},lr=Symbol("internals");function YT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YT(Object(n),!0).forEach(function(r){Qt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XT(e,t){var n=e.find(function(p){return p.id===t.parentNode});if(n){var r=t.position.x+t.width-n.width,i=t.position.y+t.height-n.height;if(r>0||i>0||t.position.x<0||t.position.y<0){var o,s;if(n.style=Wd({},n.style)||{},n.style.width=(o=n.style.width)!==null&&o!==void 0?o:n.width,n.style.height=(s=n.style.height)!==null&&s!==void 0?s:n.height,r>0&&(n.style.width+=r),i>0&&(n.style.height+=i),t.position.x<0){var u=Math.abs(t.position.x);n.position.x=n.position.x-u,n.style.width+=u,t.position.x=0}if(t.position.y<0){var h=Math.abs(t.position.y);n.position.y=n.position.y-h,n.style.height+=h,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function xk(e,t){if(e.some(function(r){return r.type==="reset"}))return e.filter(function(r){return r.type==="reset"}).map(function(r){return r.item});var n=e.filter(function(r){return r.type==="add"}).map(function(r){return r.item});return t.reduce(function(r,i){var o=e.find(function(h){return h.id===i.id});if(o)switch(o.type){case"select":return r.push(Wd(Wd({},i),{},{selected:o.selected})),r;case"position":{var s=Wd({},i);return typeof o.position!="undefined"&&(s.position=o.position),typeof o.positionAbsolute!="undefined"&&(s.positionAbsolute=o.positionAbsolute),typeof o.dragging!="undefined"&&(s.dragging=o.dragging),s.expandParent&&XT(r,s),r.push(s),r}case"dimensions":{var u=Wd({},i);return typeof o.dimensions!="undefined"&&(u.width=o.dimensions.width,u.height=o.dimensions.height),u.expandParent&&XT(r,u),r.push(u),r}case"remove":return r}return r.push(i),r},n)}function Nk(e,t){return xk(e,t)}function r6(e,t){return xk(e,t)}var Rs=function(t,n){return{id:t,type:"select",selected:n}};function Rc(e,t){return e.reduce(function(n,r){var i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(Rs(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(Rs(r.id,!1))),n},[])}function JT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ik(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(n),!0).forEach(function(r){Qt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var QT=function(t,n,r){var i=n.querySelectorAll(t);if(!i||!i.length)return null;var o=Array.from(i),s=n.getBoundingClientRect();return o.map(function(u){var h=u.getBoundingClientRect();return Ik({id:u.getAttribute("data-handleid"),position:u.getAttribute("data-handlepos"),x:(h.left-s.left)/r,y:(h.top-s.top)/r},SC(u))})};function Td(e,t,n){return n===void 0?n:function(r){var i=t().nodeInternals.get(e);n(r,Ik({},i))}}function Ok(e){var t=e.id,n=e.store,r=n.getState(),i=r.addSelectedNodes,o=r.unselectNodesAndEdges,s=r.multiSelectionActive,u=r.nodeInternals,h=u.get(t);n.setState({nodesSelectionActive:!1}),h.selected?h.selected&&s&&o({nodes:[h]}):i([t])}function ZT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZT(Object(n),!0).forEach(function(r){Qt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var i6=function(t){return"id"in t&&"source"in t&&"target"in t},o6=function(t){var n=t.source,r=t.sourceHandle,i=t.target,o=t.targetHandle;return"reactflow__edge-".concat(n).concat(r||"","-").concat(i).concat(o||"")},vS=function(t,n){if(typeof t=="undefined")return"";if(typeof t=="string")return t;var r=n?"".concat(n,"__"):"";return"".concat(r).concat(Object.keys(t).sort().map(function(i){return"".concat(i,"=").concat(t[i])}).join("&"))},a6=function(t,n){return n.some(function(r){return r.source===t.source&&r.target===t.target&&(r.sourceHandle===t.sourceHandle||!r.sourceHandle&&!t.sourceHandle)&&(r.targetHandle===t.targetHandle||!r.targetHandle&&!t.targetHandle)})},s6=function(t,n){if(!t.source||!t.target)return n;var r;return i6(t)?r=uh({},t):r=uh(uh({},t),{},{id:o6(t)}),a6(r,n)?n:n.concat(r)},Tk=function(t,n,r,i){var o=t.x,s=t.y,u=Wt(n,3),h=u[0],p=u[1],v=u[2],y=Wt(i,2),b=y[0],I=y[1],O={x:(o-h)/v,y:(s-p)/v};return r?{x:b*Math.round(O.x/b),y:I*Math.round(O.y/I)}:O},EC=function(t){if(t.length===0)return{x:0,y:0,width:0,height:0};var n=t.reduce(function(r,i){var o=i.positionAbsolute,s=i.position,u=i.width,h=i.height;return t6(r,tv({x:o?o.x:s.x,y:o?o.y:s.y,width:u||0,height:h||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return n6(n)},_k=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[0,0,1],i=Wt(r,3),o=i[0],s=i[1],u=i[2],h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,v=tv({x:(n.x-o)/u,y:(n.y-s)/u,width:n.width/u,height:n.height/u}),y=[];return t.forEach(function(b){var I=b.positionAbsolute,O=b.width,k=b.height,E=b.selectable,S=E===void 0?!0:E;if(p&&!S)return!1;var N=tv(uh(uh({},I),{},{width:O||0,height:k||0})),_=Math.max(0,Math.min(v.x2,N.x2)-Math.max(v.x,N.x)),T=Math.max(0,Math.min(v.y2,N.y2)-Math.max(v.y,N.y)),M=Math.ceil(_*T),R=typeof O=="undefined"||typeof k=="undefined"||O===null||k===null,B=h&&M>0,U=(O||0)*(k||0),F=R||B||M>=U;F&&y.push(b)}),y},Ak=function(t,n){var r=t.map(function(i){return i.id});return n.filter(function(i){return r.includes(i.source)||r.includes(i.target)})},Rk=function(t,n,r,i,o){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:.1,u=n/(t.width*(1+s)),h=r/(t.height*(1+s)),p=Math.min(u,h),v=Xc(p,i,o),y=t.x+t.width/2,b=t.y+t.height/2,I=n/2-y*v,O=r/2-b*v;return[I,O,v]},tu=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.transition().duration(n)};function e_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e_(Object(n),!0).forEach(function(r){Qt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pk(e,t,n,r){var i,o,s,u,h,p,v,y,b,I,O,k;if(!e.parentNode)return r;var E=t.get(e.parentNode);return Pk(E,t,n,{x:((i=r.x)!==null&&i!==void 0?i:0)+((o=(s=E.position)===null||s===void 0?void 0:s.x)!==null&&o!==void 0?o:0),y:((u=r.y)!==null&&u!==void 0?u:0)+((h=(p=E.position)===null||p===void 0?void 0:p.y)!==null&&h!==void 0?h:0),z:((v=(y=E[lr])===null||y===void 0?void 0:y.z)!==null&&v!==void 0?v:0)>((b=r.z)!==null&&b!==void 0?b:0)?(I=(O=E[lr])===null||O===void 0?void 0:O.z)!==null&&I!==void 0?I:0:(k=r.z)!==null&&k!==void 0?k:0})}function _b(e,t){var n=new Map,r={};return e.forEach(function(i){var o,s=Ck(i.zIndex)?i.zIndex:i.selected?1e3:0,u=t.get(i.id),h=Pc(Pc({width:u==null?void 0:u.width,height:u==null?void 0:u.height},i),{},{positionAbsolute:{x:i.position.x,y:i.position.y}});i.parentNode&&(h.parentNode=i.parentNode,r[i.parentNode]=!0),Object.defineProperty(h,lr,{enumerable:!1,value:{handleBounds:u==null||(o=u[lr])===null||o===void 0?void 0:o.handleBounds,z:s}}),n.set(i.id,h)}),n.forEach(function(i){if(i.parentNode&&!n.has(i.parentNode))throw new Error("Parent node ".concat(i.parentNode," not found"));if(i.parentNode||r[i.id]){var o,s,u=Pk(i,n,r,Pc(Pc({},i.position),{},{z:(o=(s=i[lr])===null||s===void 0?void 0:s.z)!==null&&o!==void 0?o:0})),h=u.x,p=u.y,v=u.z;i.positionAbsolute={x:h,y:p},i[lr].z=v,r[i.id]&&(i[lr].isParent=!0)}}),n}function kk(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e(),r=n.nodeInternals,i=n.width,o=n.height,s=n.minZoom,u=n.maxZoom,h=n.d3Zoom,p=n.d3Selection,v=n.fitViewOnInitDone,y=n.fitViewOnInit;if((t.initial&&!v&&y||!t.initial)&&h&&p){var b=Array.from(r.values()).filter(function(U){return t.includeHiddenNodes?U.width&&U.height:!U.hidden}),I=b.every(function(U){return U.width&&U.height});if(b.length>0&&I){var O,k,E,S=EC(b),N=Rk(S,i,o,(O=t.minZoom)!==null&&O!==void 0?O:s,(k=t.maxZoom)!==null&&k!==void 0?k:u,(E=t.padding)!==null&&E!==void 0?E:.1),_=Wt(N,3),T=_[0],M=_[1],R=_[2],B=mu.translate(T,M).scale(R);return typeof t.duration=="number"&&t.duration>0?h.transform(tu(p,t.duration),B):h.transform(p,B),!0}}return!1}function l6(e,t){return e.forEach(function(n){var r=t.get(n.id);if(r){var i;t.set(r.id,Pc(Pc({},r),{},(i={},Qt(i,lr,r[lr]),Qt(i,"selected",n.selected),i)))}}),new Map(t)}function u6(e,t){return t.map(function(n){var r=e.find(function(i){return i.id===n.id});return r&&(n.selected=r.selected),n})}function Nm(e){var t=e.changedNodes,n=e.changedEdges,r=e.get,i=e.set,o=r(),s=o.nodeInternals,u=o.edges,h=o.onNodesChange,p=o.onEdgesChange,v=o.hasDefaultNodes,y=o.hasDefaultEdges;t!=null&&t.length&&(v&&i({nodeInternals:l6(t,s)}),h==null||h(t)),n!=null&&n.length&&(y&&i({edges:u6(n,u)}),p==null||p(n))}var t_=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],n_={width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:t_,nodeExtent:t_,nodesSelectionActive:!1,userSelectionActive:!1,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionMode:ff.Strict,domNode:null,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,elementsSelectable:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,multiSelectionActive:!1,reactFlowVersion:"10.3.12",connectionStartHandle:null,connectOnClick:!0};function r_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ia(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(n),!0).forEach(function(r){Qt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var CC=wq(),c6=CC.Provider,fr=CC.useStore,ii=CC.useStoreApi,f6=function(){return vt(function(t,n){return ia(ia({},n_),{},{setNodes:function(i){t({nodeInternals:_b(i,n().nodeInternals)})},setEdges:function(i){var o=n(),s=o.defaultEdgeOptions,u=s===void 0?{}:s;t({edges:i.map(function(h){return ia(ia({},u),h)})})},setDefaultNodesAndEdges:function(i,o){var s=typeof i!="undefined",u=typeof o!="undefined",h=s?_b(i,new Map):new Map,p=u?o:[];t({nodeInternals:h,edges:p,hasDefaultNodes:s,hasDefaultEdges:u})},updateNodeDimensions:function(i){var o=n(),s=o.onNodesChange,u=o.nodeInternals,h=o.fitViewOnInit,p=o.fitViewOnInitDone,v=o.fitViewOnInitOptions,y=o.domNode,b=y==null?void 0:y.querySelector(".react-flow__viewport");if(!!b){var I=window.getComputedStyle(b),O=new window.DOMMatrixReadOnly(I.transform),k=O.m22,E=i.reduce(function(N,_){var T=u.get(_.id);if(T){var M=SC(_.nodeElement),R=!!(M.width&&M.height&&(T.width!==M.width||T.height!==M.height||_.forceUpdate));R&&(u.set(T.id,ia(ia({},T),{},Qt({},lr,ia(ia({},T[lr]),{},{handleBounds:{source:QT(".source",_.nodeElement,k),target:QT(".target",_.nodeElement,k)}})),M)),N.push({id:T.id,type:"dimensions",dimensions:M}))}return N},[]),S=p||h&&!p&&kk(n,ia({initial:!0},v));t({nodeInternals:new Map(u),fitViewOnInitDone:S}),(E==null?void 0:E.length)>0&&(s==null||s(E))}},updateNodePositions:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u=n(),h=u.onNodesChange,p=u.nodeInternals,v=u.hasDefaultNodes;if(v||h){var y=i.map(function(O){var k={id:O.id,type:"position",dragging:s};return o&&(k.positionAbsolute=O.positionAbsolute,k.position=O.position),k});if(y!=null&&y.length){if(v){var b=Nk(y,Array.from(p.values())),I=_b(b,p);t({nodeInternals:I})}h==null||h(y)}}},addSelectedNodes:function(i){var o=n(),s=o.multiSelectionActive,u=o.nodeInternals,h=o.edges,p,v=null;s?p=i.map(function(y){return Rs(y,!0)}):(p=Rc(Array.from(u.values()),i),v=Rc(h,[])),Nm({changedNodes:p,changedEdges:v,get:n,set:t})},addSelectedEdges:function(i){var o=n(),s=o.multiSelectionActive,u=o.edges,h=o.nodeInternals,p,v=null;s?p=i.map(function(y){return Rs(y,!0)}):(p=Rc(u,i),v=Rc(Array.from(h.values()),[])),Nm({changedNodes:v,changedEdges:p,get:n,set:t})},unselectNodesAndEdges:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=i.nodes,s=i.edges,u=n(),h=u.nodeInternals,p=u.edges,v=o||Array.from(h.values()),y=s||p,b=v.map(function(O){return O.selected=!1,Rs(O.id,!1)}),I=y.map(function(O){return Rs(O.id,!1)});Nm({changedNodes:b,changedEdges:I,get:n,set:t})},setMinZoom:function(i){var o=n(),s=o.d3Zoom,u=o.maxZoom;s==null||s.scaleExtent([i,u]),t({minZoom:i})},setMaxZoom:function(i){var o=n(),s=o.d3Zoom,u=o.minZoom;s==null||s.scaleExtent([u,i]),t({maxZoom:i})},setTranslateExtent:function(i){var o=n(),s=o.d3Zoom;s==null||s.translateExtent(i),t({translateExtent:i})},resetSelectedElements:function(){var i=n(),o=i.nodeInternals,s=i.edges,u=Array.from(o.values()),h=u.filter(function(v){return v.selected}).map(function(v){return Rs(v.id,!1)}),p=s.filter(function(v){return v.selected}).map(function(v){return Rs(v.id,!1)});Nm({changedNodes:h,changedEdges:p,get:n,set:t})},setNodeExtent:function(i){var o=n(),s=o.nodeInternals;s.forEach(function(u){u.positionAbsolute=Sk(u.position,i)}),t({nodeExtent:i,nodeInternals:new Map(s)})},reset:function(){return t(ia({},n_))}})})};function Oi(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}function d6(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function iy(e,t){if(e==null)return{};var n=d6(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}function h6(e){if(Array.isArray(e))return gS(e)}function p6(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function m6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gu(e){return h6(e)||p6(e)||bk(e)||m6()}var g6={zoomIn:function(){},zoomOut:function(){},zoomTo:function(t){},getZoom:function(){return 1},setViewport:function(t){},getViewport:function(){return{x:0,y:0,zoom:1}},fitView:function(){},setCenter:function(t,n){},fitBounds:function(t){},project:function(t){return t},initialized:!1},v6=function(t){return{d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}},y6=function(){var t=ii(),n=fr(v6,Oi),r=n.d3Zoom,i=n.d3Selection,o=H.exports.useMemo(function(){return i&&r?{zoomIn:function(u){return r.scaleBy(tu(i,u==null?void 0:u.duration),1.2)},zoomOut:function(u){return r.scaleBy(tu(i,u==null?void 0:u.duration),1/1.2)},zoomTo:function(u,h){return r.scaleTo(tu(i,h==null?void 0:h.duration),u)},getZoom:function(){return t.getState().transform[2]},setViewport:function(u,h){var p,v,y,b=Wt(t.getState().transform,3),I=b[0],O=b[1],k=b[2],E=mu.translate((p=u.x)!==null&&p!==void 0?p:I,(v=u.y)!==null&&v!==void 0?v:O).scale((y=u.zoom)!==null&&y!==void 0?y:k);r.transform(tu(i,h==null?void 0:h.duration),E)},getViewport:function(){var u=Wt(t.getState().transform,3),h=u[0],p=u[1],v=u[2];return{x:h,y:p,zoom:v}},fitView:function(u){return kk(t.getState,u)},setCenter:function(u,h,p){var v=t.getState(),y=v.width,b=v.height,I=v.maxZoom,O=typeof(p==null?void 0:p.zoom)!="undefined"?p.zoom:I,k=y/2-u*O,E=b/2-h*O,S=mu.translate(k,E).scale(O);r.transform(tu(i,p==null?void 0:p.duration),S)},fitBounds:function(u,h){var p,v=t.getState(),y=v.width,b=v.height,I=v.minZoom,O=v.maxZoom,k=Rk(u,y,b,I,O,(p=h==null?void 0:h.padding)!==null&&p!==void 0?p:.1),E=Wt(k,3),S=E[0],N=E[1],_=E[2],T=mu.translate(S,N).scale(_);r.transform(tu(i,h==null?void 0:h.duration),T)},project:function(u){var h=t.getState(),p=h.transform,v=h.snapToGrid,y=h.snapGrid;return Tk(u,p,v,y)},initialized:!0}:g6},[r,i]);return o},w6=["initialized"];function i_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i_(Object(n),!0).forEach(function(r){Qt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function b6(){var e=y6(),t=e.initialized,n=iy(e,w6),r=ii(),i=H.exports.useCallback(function(){var I=r.getState(),O=I.nodeInternals,k=Array.from(O.values());return k.map(function(E){return pc({},E)})},[]),o=H.exports.useCallback(function(I){var O=r.getState(),k=O.nodeInternals;return k.get(I)},[]),s=H.exports.useCallback(function(){var I=r.getState(),O=I.edges,k=O===void 0?[]:O;return k.map(function(E){return pc({},E)})},[]),u=H.exports.useCallback(function(I){var O=r.getState(),k=O.edges,E=k===void 0?[]:k;return E.find(function(S){return S.id===I})},[]),h=H.exports.useCallback(function(I){var O=r.getState(),k=O.nodeInternals,E=O.setNodes,S=O.hasDefaultNodes,N=O.onNodesChange,_=Array.from(k.values()),T=typeof I=="function"?I(_):I;if(S)E(T);else if(N){var M=T.length===0?_.map(function(R){return{type:"remove",id:R.id}}):T.map(function(R){return{item:R,type:"reset"}});N(M)}},[]),p=H.exports.useCallback(function(I){var O=r.getState(),k=O.edges,E=k===void 0?[]:k,S=O.setEdges,N=O.hasDefaultEdges,_=O.onEdgesChange,T=typeof I=="function"?I(E):I;if(N)S(T);else if(_){var M=T.length===0?E.map(function(R){return{type:"remove",id:R.id}}):T.map(function(R){return{item:R,type:"reset"}});_(M)}},[]),v=H.exports.useCallback(function(I){var O=Array.isArray(I)?I:[I],k=r.getState(),E=k.nodeInternals,S=k.setNodes,N=k.hasDefaultNodes,_=k.onNodesChange;if(N){var T=Array.from(E.values()),M=[].concat(T,gu(O));S(M)}else if(_){var R=O.map(function(B){return{item:B,type:"add"}});_(R)}},[]),y=H.exports.useCallback(function(I){var O=Array.isArray(I)?I:[I],k=r.getState(),E=k.edges,S=E===void 0?[]:E,N=k.setEdges,_=k.hasDefaultEdges,T=k.onEdgesChange;if(_)N([].concat(gu(S),gu(O)));else if(T){var M=O.map(function(R){return{item:R,type:"add"}});T(M)}},[]),b=H.exports.useCallback(function(){var I=r.getState(),O=I.nodeInternals,k=I.edges,E=k===void 0?[]:k,S=I.transform,N=Array.from(O.values()),_=Wt(S,3),T=_[0],M=_[1],R=_[2];return{nodes:N.map(function(B){return pc({},B)}),edges:E.map(function(B){return pc({},B)}),viewport:{x:T,y:M,zoom:R}}},[]);return pc(pc({},n),{},{viewportInitialized:t,getNodes:i,getNode:o,getEdges:s,getEdge:u,setNodes:h,setEdges:p,addNodes:v,addEdges:y,toObject:b})}function va(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=va(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var S6=["paid-pro","paid-sponsor","paid-enterprise","paid-custom"];function E6(e){var t=e.proOptions,n=e.position,r=n===void 0?"bottom-right":n;if(t!=null&&t.account&&S6.includes(t==null?void 0:t.account)&&t!==null&&t!==void 0&&t.hideAttribution)return null;var i="".concat(r).split("-");return w("div",{className:va(["react-flow__attribution"].concat(gu(i))),"data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev/pricing",children:w("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer",children:"React Flow"})})}var C6=["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"];function o_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function x6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o_(Object(n),!0).forEach(function(r){Qt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var N6=function(t){var n=t.x,r=t.y,i=t.label,o=t.labelStyle,s=o===void 0?{}:o,u=t.labelShowBg,h=u===void 0?!0:u,p=t.labelBgStyle,v=p===void 0?{}:p,y=t.labelBgPadding,b=y===void 0?[2,4]:y,I=t.labelBgBorderRadius,O=I===void 0?2:I,k=t.children,E=t.className,S=iy(t,C6),N=H.exports.useRef(null),_=H.exports.useState({x:0,y:0,width:0,height:0}),T=Wt(_,2),M=T[0],R=T[1],B=va(["react-flow__edge-textwrapper",E]);return H.exports.useEffect(function(){if(N.current){var U=N.current.getBBox();R({x:U.x,y:U.y,width:U.width,height:U.height})}},[i]),typeof i=="undefined"||!i?null:j("g",{...x6({transform:"translate(".concat(n-M.width/2," ").concat(r-M.height/2,")"),className:B},S),children:[h&&w("rect",{width:M.width+2*b[0],x:-b[0],y:-b[1],height:M.height+2*b[1],className:"react-flow__edge-textbg",style:v,rx:O,ry:O}),w("text",{className:"react-flow__edge-text",y:M.height/2,dy:"0.3em",ref:N,style:s,children:i}),k]})},I6=H.exports.memo(N6),oy=function(e){var t=e.path,n=e.centerX,r=e.centerY,i=e.label,o=e.labelStyle,s=e.labelShowBg,u=e.labelBgStyle,h=e.labelBgPadding,p=e.labelBgBorderRadius,v=e.style,y=e.markerEnd,b=e.markerStart,I=i?w(I6,{x:n,y:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:u,labelBgPadding:h,labelBgBorderRadius:p}):null;return j(Zt,{children:[w("path",{style:v,d:t,className:"react-flow__edge-path",markerEnd:y,markerStart:b}),I]})};function nv(e){var t=e.pos,n=e.x1,r=e.y1,i=e.x2,o=e.y2,s,u;switch(t){case qe.Left:case qe.Right:s=.5*(n+i),u=r;break;case qe.Top:case qe.Bottom:s=n,u=.5*(r+o);break}return[s,u]}function Dk(e){var t=e.sourceX,n=e.sourceY,r=e.sourcePosition,i=r===void 0?qe.Bottom:r,o=e.targetX,s=e.targetY,u=e.targetPosition,h=u===void 0?qe.Top:u,p=nv({pos:i,x1:t,y1:n,x2:o,y2:s}),v=Wt(p,2),y=v[0],b=v[1],I=nv({pos:h,x1:o,y1:s,x2:t,y2:n}),O=Wt(I,2),k=O[0],E=O[1];return"M".concat(t,",").concat(n," C").concat(y,",").concat(b," ").concat(k,",").concat(E," ").concat(o,",").concat(s)}function O6(e){var t=e.sourceX,n=e.sourceY,r=e.sourcePosition,i=r===void 0?qe.Bottom:r,o=e.targetX,s=e.targetY,u=e.targetPosition,h=u===void 0?qe.Top:u,p=nv({pos:i,x1:t,y1:n,x2:o,y2:s}),v=Wt(p,2),y=v[0],b=v[1],I=nv({pos:h,x1:o,y1:s,x2:t,y2:n}),O=Wt(I,2),k=O[0],E=O[1],S=t*.125+y*.375+k*.375+o*.125,N=n*.125+b*.375+E*.375+s*.125,_=Math.abs(S-t),T=Math.abs(N-n);return[S,N,_,T]}var Lk=H.exports.memo(function(e){var t=e.sourceX,n=e.sourceY,r=e.targetX,i=e.targetY,o=e.sourcePosition,s=o===void 0?qe.Bottom:o,u=e.targetPosition,h=u===void 0?qe.Top:u,p=e.label,v=e.labelStyle,y=e.labelShowBg,b=e.labelBgStyle,I=e.labelBgPadding,O=e.labelBgBorderRadius,k=e.style,E=e.markerEnd,S=e.markerStart,N={sourceX:t,sourceY:n,sourcePosition:s,targetX:r,targetY:i,targetPosition:h},_=Dk(N),T=O6(N),M=Wt(T,2),R=M[0],B=M[1];return w(oy,{path:_,centerX:R,centerY:B,label:p,labelStyle:v,labelShowBg:y,labelBgStyle:b,labelBgPadding:I,labelBgBorderRadius:O,style:k,markerEnd:E,markerStart:S})});function a_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function T6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a_(Object(n),!0).forEach(function(r){Qt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var s_=[qe.Left,qe.Right],Mk=function(t){var n=t.sourceX,r=t.sourceY,i=t.targetX,o=t.targetY,s=t.sourcePosition,u=s===void 0?qe.Bottom:s,h=t.targetPosition,p=h===void 0?qe.Top:h,v=s_.includes(u),y=s_.includes(p),b=v&&!y||y&&!v;if(b){var I=v?Math.abs(i-n):0,O=n>i?n-I:n+I,k=v?0:Math.abs(o-r),E=r<o?r+k:r-k;return[O,E,I,k]}var S=Math.abs(i-n)/2,N=i<n?i+S:i-S,_=Math.abs(o-r)/2,T=o<r?o+_:o-_;return[N,T,S,_]};function _d(e,t,n){return n===void 0?n:function(r){var i=t().edges.find(function(o){return o.id===e});n(r,T6({},i))}}var Ab=function(t,n,r){return"L ".concat(t,",").concat(n-r,"Q ").concat(t,",").concat(n," ").concat(t+r,",").concat(n)},Rb=function(t,n,r){return"L ".concat(t+r,",").concat(n,"Q ").concat(t,",").concat(n," ").concat(t,",").concat(n-r)},Pb=function(t,n,r){return"L ".concat(t,",").concat(n-r,"Q ").concat(t,",").concat(n," ").concat(t-r,",").concat(n)},kb=function(t,n,r){return"L ".concat(t-r,",").concat(n,"Q ").concat(t,",").concat(n," ").concat(t,",").concat(n-r)},Db=function(t,n,r){return"L ".concat(t+r,",").concat(n,"Q ").concat(t,",").concat(n," ").concat(t,",").concat(n+r)},Lb=function(t,n,r){return"L ".concat(t,",").concat(n+r,"Q ").concat(t,",").concat(n," ").concat(t+r,",").concat(n)},Mb=function(t,n,r){return"L ".concat(t,",").concat(n+r,"Q ").concat(t,",").concat(n," ").concat(t-r,",").concat(n)},zb=function(t,n,r){return"L ".concat(t-r,",").concat(n,"Q ").concat(t,",").concat(n," ").concat(t,",").concat(n+r)};function yS(e){var t=e.sourceX,n=e.sourceY,r=e.sourcePosition,i=r===void 0?qe.Bottom:r,o=e.targetX,s=e.targetY,u=e.targetPosition,h=u===void 0?qe.Top:u,p=e.borderRadius,v=p===void 0?5:p,y=e.centerX,b=e.centerY,I=Mk({sourceX:t,sourceY:n,targetX:o,targetY:s}),O=Wt(I,4),k=O[0],E=O[1],S=O[2],N=O[3],_=Math.min(v,Math.abs(o-t)),T=Math.min(v,Math.abs(s-n)),M=Math.min(_,T,S,N),R=[qe.Left,qe.Right],B=typeof y!="undefined"?y:k,U=typeof b!="undefined"?b:E,F=null,z=null;return t<=o?(F=n<=s?Ab(t,U,M):Lb(t,U,M),z=n<=s?zb(o,U,M):kb(o,U,M)):(F=n<s?Pb(t,U,M):Mb(t,U,M),z=n<s?Db(o,U,M):Rb(o,U,M)),R.includes(i)&&R.includes(h)?t<=o?(F=n<=s?zb(B,n,M):kb(B,n,M),z=n<=s?Ab(B,s,M):Lb(B,s,M)):(i===qe.Right&&h===qe.Left||i===qe.Left&&h===qe.Right||i===qe.Left&&h===qe.Left)&&(F=n<=s?Db(B,n,M):Rb(B,n,M),z=n<=s?Pb(B,s,M):Mb(B,s,M)):R.includes(i)&&!R.includes(h)?(t<=o?F=n<=s?zb(o,n,M):kb(o,n,M):F=n<=s?Db(o,n,M):Rb(o,n,M),z=""):!R.includes(i)&&R.includes(h)&&(t<=o?F=n<=s?Ab(t,s,M):Lb(t,s,M):F=n<=s?Pb(t,s,M):Mb(t,s,M),z=""),"M ".concat(t,",").concat(n).concat(F).concat(z,"L ").concat(o,",").concat(s)}var xC=H.exports.memo(function(e){var t=e.sourceX,n=e.sourceY,r=e.targetX,i=e.targetY,o=e.label,s=e.labelStyle,u=e.labelShowBg,h=e.labelBgStyle,p=e.labelBgPadding,v=e.labelBgBorderRadius,y=e.style,b=e.sourcePosition,I=b===void 0?qe.Bottom:b,O=e.targetPosition,k=O===void 0?qe.Top:O,E=e.markerEnd,S=e.markerStart,N=e.borderRadius,_=N===void 0?5:N,T=Mk({sourceX:t,sourceY:n,targetX:r,targetY:i,sourcePosition:I,targetPosition:k}),M=Wt(T,2),R=M[0],B=M[1],U=yS({sourceX:t,sourceY:n,sourcePosition:I,targetX:r,targetY:i,targetPosition:k,borderRadius:_});return w(oy,{path:U,centerX:R,centerY:B,label:o,labelStyle:s,labelShowBg:u,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:v,style:y,markerEnd:E,markerStart:S})});function l_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function u_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l_(Object(n),!0).forEach(function(r){Qt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var zk=H.exports.memo(function(e){return w(xC,{...u_(u_({},e),{},{borderRadius:0})})}),Bk=H.exports.memo(function(e){var t=e.sourceX,n=e.sourceY,r=e.targetX,i=e.targetY,o=e.label,s=e.labelStyle,u=e.labelShowBg,h=e.labelBgStyle,p=e.labelBgPadding,v=e.labelBgBorderRadius,y=e.style,b=e.markerEnd,I=e.markerStart,O=Math.abs(i-n)/2,k=i<n?i+O:i-O,E=Math.abs(r-t)/2,S=r<t?r+E:r-E,N="M ".concat(t,",").concat(n,"L ").concat(r,",").concat(i);return w(oy,{path:N,centerX:S,centerY:k,label:o,labelStyle:s,labelShowBg:u,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:v,style:y,markerEnd:b,markerStart:I})});function Im(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function rv(e){var t=e.pos,n=e.x1,r=e.y1,i=e.x2,o=e.y2,s=e.c,u,h;switch(t){case qe.Left:u=n-Im(n-i,s),h=r;break;case qe.Right:u=n+Im(i-n,s),h=r;break;case qe.Top:u=n,h=r-Im(r-o,s);break;case qe.Bottom:u=n,h=r+Im(o-r,s);break}return[u,h]}function Fk(e){var t=e.sourceX,n=e.sourceY,r=e.sourcePosition,i=r===void 0?qe.Bottom:r,o=e.targetX,s=e.targetY,u=e.targetPosition,h=u===void 0?qe.Top:u,p=e.curvature,v=p===void 0?.25:p,y=rv({pos:i,x1:t,y1:n,x2:o,y2:s,c:v}),b=Wt(y,2),I=b[0],O=b[1],k=rv({pos:h,x1:o,y1:s,x2:t,y2:n,c:v}),E=Wt(k,2),S=E[0],N=E[1];return"M".concat(t,",").concat(n," C").concat(I,",").concat(O," ").concat(S,",").concat(N," ").concat(o,",").concat(s)}function _6(e){var t=e.sourceX,n=e.sourceY,r=e.sourcePosition,i=r===void 0?qe.Bottom:r,o=e.targetX,s=e.targetY,u=e.targetPosition,h=u===void 0?qe.Top:u,p=e.curvature,v=p===void 0?.25:p,y=rv({pos:i,x1:t,y1:n,x2:o,y2:s,c:v}),b=Wt(y,2),I=b[0],O=b[1],k=rv({pos:h,x1:o,y1:s,x2:t,y2:n,c:v}),E=Wt(k,2),S=E[0],N=E[1],_=t*.125+I*.375+S*.375+o*.125,T=n*.125+O*.375+N*.375+s*.125,M=Math.abs(_-t),R=Math.abs(T-n);return[_,T,M,R]}var wS=H.exports.memo(function(e){var t=e.sourceX,n=e.sourceY,r=e.targetX,i=e.targetY,o=e.sourcePosition,s=o===void 0?qe.Bottom:o,u=e.targetPosition,h=u===void 0?qe.Top:u,p=e.label,v=e.labelStyle,y=e.labelShowBg,b=e.labelBgStyle,I=e.labelBgPadding,O=e.labelBgBorderRadius,k=e.style,E=e.markerEnd,S=e.markerStart,N=e.curvature,_={sourceX:t,sourceY:n,sourcePosition:s,targetX:r,targetY:i,targetPosition:h,curvature:N},T=Fk(_),M=_6(_),R=Wt(M,2),B=R[0],U=R[1];return w(oy,{path:T,centerX:B,centerY:U,label:p,labelStyle:v,labelShowBg:y,labelBgStyle:b,labelBgPadding:I,labelBgBorderRadius:O,style:k,markerEnd:E,markerStart:S})}),NC=H.exports.createContext(null),A6=NC.Provider;NC.Consumer;function bS(e,t,n,r,i,o,s){var u=s.elementFromPoint(e.clientX,e.clientY),h=(u==null?void 0:u.classList.contains("target"))||!1,p=(u==null?void 0:u.classList.contains("source"))||!1,v={elementBelow:u,isValid:!1,connection:{source:null,target:null,sourceHandle:null,targetHandle:null},isHoveringHandle:!1};if(u&&(h||p)){v.isHoveringHandle=!0;var y=u.getAttribute("data-nodeid"),b=u.getAttribute("data-handleid"),I=n?{source:y,sourceHandle:b,target:r,targetHandle:i}:{source:r,sourceHandle:i,target:y,targetHandle:b};v.connection=I;var O=t===ff.Strict?n&&p||!n&&h:!0;O&&(v.isValid=o(I))}return v}function c_(e){e==null||e.classList.remove("react-flow__handle-valid"),e==null||e.classList.remove("react-flow__handle-connecting")}function Uk(e){var t=e.event,n=e.handleId,r=e.nodeId,i=e.onConnect,o=e.isTarget,s=e.getState,u=e.setState,h=e.isValidConnection,p=e.elementEdgeUpdaterType,v=e.onEdgeUpdateEnd,y=t.target.closest(".react-flow"),b=Ek(t.target);if(!b)return;var I=b.elementFromPoint(t.clientX,t.clientY),O=I==null?void 0:I.classList.contains("target"),k=I==null?void 0:I.classList.contains("source");if(!y||!O&&!k&&!p)return;var E=s(),S=E.onConnectStart,N=E.connectionMode,_=p||(O?"target":"source"),T=y.getBoundingClientRect(),M;u({connectionPosition:{x:t.clientX-T.left,y:t.clientY-T.top},connectionNodeId:r,connectionHandleId:n,connectionHandleType:_}),S==null||S(t,{nodeId:r,handleId:n,handleType:_});function R(U){u({connectionPosition:{x:U.clientX-T.left,y:U.clientY-T.top}});var F=bS(U,N,o,r,n,h,b),z=F.connection,$=F.elementBelow,G=F.isValid,te=F.isHoveringHandle;if(!te)return c_(M);z.source!==z.target&&$&&(M=$,$.classList.add("react-flow__handle-connecting"),$.classList.toggle("react-flow__handle-valid",G))}function B(U){var F=s(),z=F.onConnectStop,$=F.onConnectEnd,G=bS(U,N,o,r,n,h,b),te=G.connection,q=G.isValid;z==null||z(U),q&&(i==null||i(te)),$==null||$(U),p&&v&&v(U),c_(M),u({connectionNodeId:null,connectionHandleId:null,connectionHandleType:null}),b.removeEventListener("mousemove",R),b.removeEventListener("mouseup",B)}b.addEventListener("mousemove",R),b.addEventListener("mouseup",B)}var R6=["type","position","isValidConnection","isConnectable","id","onConnect","children","className","onMouseDown"];function f_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f_(Object(n),!0).forEach(function(r){Qt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var P6=function(){return!0},k6=function(t){return{connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick}},$k=H.exports.forwardRef(function(e,t){var n=e.type,r=n===void 0?"source":n,i=e.position,o=i===void 0?qe.Top:i,s=e.isValidConnection,u=s===void 0?P6:s,h=e.isConnectable,p=h===void 0?!0:h,v=e.id,y=e.onConnect,b=e.children,I=e.className,O=e.onMouseDown,k=iy(e,R6),E=ii(),S=H.exports.useContext(NC),N=fr(k6,Oi),_=N.connectionStartHandle,T=N.connectOnClick,M=v||null,R=r==="target",B=function($){var G=E.getState(),te=G.defaultEdgeOptions,q=G.onConnect,re=G.hasDefaultEdges,ne=Bb(Bb({},te),$);if(re){var Q=E.getState(),X=Q.edges;E.setState({edges:s6(ne,X)})}q==null||q(ne),y==null||y(ne)},U=function($){$.button===0&&Uk({event:$,handleId:M,nodeId:S,onConnect:B,isTarget:R,getState:E.getState,setState:E.setState,isValidConnection:u}),O==null||O($)},F=function($){var G=E.getState(),te=G.onClickConnectStart,q=G.onClickConnectStop,re=G.onClickConnectEnd,ne=G.connectionMode;if(!_){te==null||te($,{nodeId:S,handleId:M,handleType:r}),E.setState({connectionStartHandle:{nodeId:S,type:r,handleId:M}});return}var Q=Ek($.target),X=bS($,ne,_.type==="target",_.nodeId,_.handleId||null,u,Q),J=X.connection,ie=X.isValid;q==null||q($),ie&&B(J),re==null||re($),E.setState({connectionStartHandle:null})};return w("div",{...Bb({"data-handleid":M,"data-nodeid":S,"data-handlepos":o,className:va(["react-flow__handle","react-flow__handle-".concat(o),"nodrag",I,{source:!R,target:R,connectable:p,connecting:(_==null?void 0:_.nodeId)===S&&(_==null?void 0:_.handleId)===M&&(_==null?void 0:_.type)===r}]),onMouseDown:U,onClick:T?F:void 0,ref:t},k),children:b})});$k.displayName="Handle";var Us=H.exports.memo($k),Wk=function(t){var n=t.data,r=t.isConnectable,i=t.targetPosition,o=i===void 0?qe.Top:i,s=t.sourcePosition,u=s===void 0?qe.Bottom:s;return j(Zt,{children:[w(Us,{type:"target",position:o,isConnectable:r}),n==null?void 0:n.label,w(Us,{type:"source",position:u,isConnectable:r})]})};Wk.displayName="DefaultNode";var SS=H.exports.memo(Wk),jk=function(t){var n=t.data,r=t.isConnectable,i=t.sourcePosition,o=i===void 0?qe.Bottom:i;return j(Zt,{children:[n==null?void 0:n.label,w(Us,{type:"source",position:o,isConnectable:r})]})};jk.displayName="InputNode";var Kk=H.exports.memo(jk),Vk=function(t){var n=t.data,r=t.isConnectable,i=t.targetPosition,o=i===void 0?qe.Top:i;return j(Zt,{children:[w(Us,{type:"target",position:o,isConnectable:r}),n==null?void 0:n.label]})};Vk.displayName="OutputNode";var qk=H.exports.memo(Vk),D6=function(t){return{selectedNodes:Array.from(t.nodeInternals.values()).filter(function(n){return n.selected}),selectedEdges:t.edges.filter(function(n){return n.selected})}},L6=function(t,n){var r=t.selectedNodes.map(function(u){return u.id}),i=n.selectedNodes.map(function(u){return u.id}),o=t.selectedEdges.map(function(u){return u.id}),s=n.selectedEdges.map(function(u){return u.id});return Oi(r,i)&&Oi(o,s)};function M6(e){var t=e.onSelectionChange,n=fr(D6,L6),r=n.selectedNodes,i=n.selectedEdges;return H.exports.useEffect(function(){t({nodes:r,edges:i})},[r,i]),null}var z6=H.exports.memo(M6),B6=function(t){return{setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset}};function Os(e,t){H.exports.useEffect(function(){typeof e!="undefined"&&t(e)},[e])}function nn(e,t,n){H.exports.useEffect(function(){typeof t!="undefined"&&n(Qt({},e,t))},[t])}var F6=function(t){var n=t.nodes,r=t.edges,i=t.defaultNodes,o=t.defaultEdges,s=t.onConnect,u=t.onConnectStart,h=t.onConnectStop,p=t.onConnectEnd,v=t.onClickConnectStart,y=t.onClickConnectStop,b=t.onClickConnectEnd,I=t.nodesDraggable,O=t.nodesConnectable,k=t.minZoom,E=t.maxZoom,S=t.nodeExtent,N=t.onNodesChange,_=t.onEdgesChange,T=t.elementsSelectable,M=t.connectionMode,R=t.snapGrid,B=t.snapToGrid,U=t.translateExtent,F=t.connectOnClick,z=t.defaultEdgeOptions,$=t.fitView,G=t.fitViewOptions,te=t.onNodesDelete,q=t.onEdgesDelete,re=t.onNodeDrag,ne=t.onNodeDragStart,Q=t.onNodeDragStop,X=t.onSelectionDrag,J=t.onSelectionDragStart,ie=t.onSelectionDragStop,oe=fr(B6,Oi),ce=oe.setNodes,ye=oe.setEdges,ge=oe.setDefaultNodesAndEdges,fe=oe.setMinZoom,ze=oe.setMaxZoom,Ke=oe.setTranslateExtent,Ae=oe.setNodeExtent,_e=oe.reset,be=ii();return H.exports.useEffect(function(){return ge(i,o),function(){_e()}},[]),nn("defaultEdgeOptions",z,be.setState),nn("connectionMode",M,be.setState),nn("onConnect",s,be.setState),nn("onConnectStart",u,be.setState),nn("onConnectStop",h,be.setState),nn("onConnectEnd",p,be.setState),nn("onClickConnectStart",v,be.setState),nn("onClickConnectStop",y,be.setState),nn("onClickConnectEnd",b,be.setState),nn("nodesDraggable",I,be.setState),nn("nodesConnectable",O,be.setState),nn("elementsSelectable",T,be.setState),nn("snapToGrid",B,be.setState),nn("snapGrid",R,be.setState),nn("onNodesChange",N,be.setState),nn("onEdgesChange",_,be.setState),nn("connectOnClick",F,be.setState),nn("fitViewOnInit",$,be.setState),nn("fitViewOnInitOptions",G,be.setState),nn("onNodesDelete",te,be.setState),nn("onEdgesDelete",q,be.setState),nn("onNodeDrag",re,be.setState),nn("onNodeDragStart",ne,be.setState),nn("onNodeDragStop",Q,be.setState),nn("onSelectionDrag",X,be.setState),nn("onSelectionDragStart",J,be.setState),nn("onSelectionDragStop",ie,be.setState),Os(n,ce),Os(r,ye),Os(i,ce),Os(o,ye),Os(k,fe),Os(E,ze),Os(U,Ke),Os(S,Ae),null},U6=".react-flow{height:100%;overflow:hidden;position:relative;width:100%}.react-flow__container{height:100%;left:0;position:absolute;top:0;width:100%}.react-flow__pane{z-index:1}.react-flow__viewport{pointer-events:none;transform-origin:0 0;z-index:2}.react-flow__renderer{z-index:4}.react-flow__selectionpane{z-index:5}.react-flow .react-flow__edges{overflow:visible;pointer-events:none}.react-flow .react-flow__connectionline{z-index:1001}.react-flow__edge{pointer-events:visibleStroke}.react-flow__edge.inactive{pointer-events:none}@-webkit-keyframes dashdraw{0%{stroke-dashoffset:10}}@keyframes dashdraw{0%{stroke-dashoffset:10}}.react-flow__edge-path{fill:none}.react-flow__edge-textwrapper{pointer-events:all}.react-flow__edge-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__connection{pointer-events:none}.react-flow__connection .animated{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__connection-path{fill:none}.react-flow__nodes{pointer-events:none;transform-origin:0 0}.react-flow__node{box-sizing:border-box;pointer-events:all;position:absolute;transform-origin:0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__nodesselection{pointer-events:none;transform-origin:left top;z-index:3}.react-flow__nodesselection-rect{cursor:-webkit-grab;cursor:grab;pointer-events:all;position:absolute}.react-flow__handle{pointer-events:none;position:absolute}.react-flow__handle.connectable{pointer-events:all}.react-flow__handle-bottom{bottom:-4px;left:50%;top:auto;transform:translate(-50%)}.react-flow__handle-top{left:50%;top:-4px;transform:translate(-50%)}.react-flow__handle-left{left:-4px;top:50%;transform:translateY(-50%)}.react-flow__handle-right{right:-4px;top:50%;transform:translateY(-50%)}.react-flow__edgeupdater{cursor:move;pointer-events:all}.react-flow__controls{bottom:20px;left:15px;position:absolute;z-index:5}.react-flow__controls-button{border:none;height:24px;width:24px}.react-flow__controls-button svg{width:100%}.react-flow__minimap{bottom:20px;position:absolute;right:15px;z-index:5}.react-flow__attribution{background:hsla(0,0%,100%,.5);color:#999;font-size:10px;padding:2px 3px;position:absolute;z-index:1000}.react-flow__attribution a{color:#555;text-decoration:none}.react-flow__attribution.top{top:0}.react-flow__attribution.bottom{bottom:0}.react-flow__attribution.left{left:0}.react-flow__attribution.right{right:0}.react-flow__attribution.center{left:50%;transform:translateX(-50%)}",$6=U6,W6=".react-flow__edge.selected .react-flow__edge-path{stroke:#555}.react-flow__edge.animated path{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__edge.updating .react-flow__edge-path{stroke:#777}.react-flow__edge-path{stroke:#b1b1b7;stroke-width:1}.react-flow__edge-text{font-size:10px}.react-flow__edge-textbg{fill:#fff}.react-flow__connection-path{stroke:#b1b1b7;stroke-width:1}.react-flow__node{cursor:-webkit-grab;cursor:grab}.react-flow__node-default,.react-flow__node-group,.react-flow__node-input,.react-flow__node-output{background:#fff;border:1px solid #1a192b;border-radius:3px;color:#222;font-size:12px;padding:10px;text-align:center;width:150px}.react-flow__node-default.selected,.react-flow__node-group.selected,.react-flow__node-input.selected,.react-flow__node-output.selected{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-default .react-flow__handle,.react-flow__node-group .react-flow__handle,.react-flow__node-input .react-flow__handle,.react-flow__node-output .react-flow__handle{background:#1a192b}.react-flow__node-default.selectable:hover,.react-flow__node-group.selectable:hover,.react-flow__node-input.selectable:hover,.react-flow__node-output.selectable:hover{box-shadow:0 1px 4px 1px rgba(0,0,0,.08)}.react-flow__node-default.selectable.selected,.react-flow__node-group.selectable.selected,.react-flow__node-input.selectable.selected,.react-flow__node-output.selectable.selected{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-group{background:hsla(0,0%,94%,.25);border-color:#1a192b}.react-flow__nodesselection-rect,.react-flow__selection{background:rgba(0,89,220,.08);border:1px dotted rgba(0,89,220,.8)}.react-flow__handle{background:#555;border:1px solid #fff;border-radius:100%;height:6px;width:6px}.react-flow__handle.connectable{cursor:crosshair}.react-flow__minimap{background-color:#fff}.react-flow__controls{box-shadow:0 0 2px 1px rgba(0,0,0,.08)}.react-flow__controls-button{align-items:center;background:#fefefe;border-bottom:1px solid #eee;box-sizing:content-box;cursor:pointer;display:flex;height:16px;justify-content:center;padding:5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:16px}.react-flow__controls-button svg{max-height:12px;max-width:12px}.react-flow__controls-button:hover{background:#f4f4f4}",j6=W6,K6=function(t,n,r){return r===qe.Left?t-n:r===qe.Right?t+n:t},V6=function(t,n,r){return r===qe.Top?t-n:r===qe.Bottom?t+n:t},d_=function(t){var n=t.className,r=t.position,i=t.centerX,o=t.centerY,s=t.radius,u=s===void 0?10:s;return w("circle",{className:va(["react-flow__edgeupdater",n]),cx:K6(i,u,r),cy:V6(o,u,r),r:u,stroke:"transparent",fill:"transparent"})},mc=function(e){var t=function(r){var i=r.id,o=r.className,s=r.type,u=r.data,h=r.onClick,p=r.onEdgeDoubleClick,v=r.selected,y=r.animated,b=r.label,I=r.labelStyle,O=r.labelShowBg,k=r.labelBgStyle,E=r.labelBgPadding,S=r.labelBgBorderRadius,N=r.style,_=r.source,T=r.target,M=r.sourceX,R=r.sourceY,B=r.targetX,U=r.targetY,F=r.sourcePosition,z=r.targetPosition,$=r.elementsSelectable,G=r.hidden,te=r.sourceHandleId,q=r.targetHandleId,re=r.onContextMenu,ne=r.onMouseEnter,Q=r.onMouseMove,X=r.onMouseLeave,J=r.edgeUpdaterRadius,ie=r.onEdgeUpdate,oe=r.onEdgeUpdateStart,ce=r.onEdgeUpdateEnd,ye=r.markerEnd,ge=r.markerStart,fe=r.rfId,ze=H.exports.useState(!1),Ke=Wt(ze,2),Ae=Ke[0],_e=Ke[1],be=ii(),Le=function(tt){var vn=be.getState(),hr=vn.edges,Ge=vn.addSelectedEdges,hn=hr.find(function(pn){return pn.id===i});$&&(be.setState({nodesSelectionActive:!1}),Ge([i])),h==null||h(tt,hn)},Re=_d(i,be.getState,p),rt=_d(i,be.getState,re),at=_d(i,be.getState,ne),yt=_d(i,be.getState,Q),He=_d(i,be.getState,X),le=function(tt,vn){var hr=vn?T:_,Ge=(vn?q:te)||null,hn=vn?"target":"source",pn=function(){return!0},Un=vn,Nn=be.getState().edges.find(function(Ye){return Ye.id===i});oe==null||oe(tt,Nn,hn);var Pn=ce?function(Ye){return ce(Ye,Nn,hn)}:void 0,$e=function(st){return ie==null?void 0:ie(Nn,st)};Uk({event:tt,handleId:Ge,nodeId:hr,onConnect:$e,isTarget:Un,getState:be.getState,setState:be.setState,isValidConnection:pn,elementEdgeUpdaterType:hn,onEdgeUpdateEnd:Pn})},ve=function(tt){return le(tt,!0)},Pe=function(tt){return le(tt,!1)},Ie=function(){return _e(!0)},Be=function(){return _e(!1)},je=H.exports.useMemo(function(){return"url(#".concat(vS(ge,fe),")")},[ge,fe]),ht=H.exports.useMemo(function(){return"url(#".concat(vS(ye,fe),")")},[ye,fe]);if(G)return null;var Qe=!$&&!h,It=typeof ie!="undefined",cn=va(["react-flow__edge","react-flow__edge-".concat(s),o,{selected:v,animated:y,inactive:Qe,updating:Ae}]);return j("g",{className:cn,onClick:Le,onDoubleClick:Re,onContextMenu:rt,onMouseEnter:at,onMouseMove:yt,onMouseLeave:He,children:[w(e,{id:i,source:_,target:T,selected:v,animated:y,label:b,labelStyle:I,labelShowBg:O,labelBgStyle:k,labelBgPadding:E,labelBgBorderRadius:S,data:u,style:N,sourceX:M,sourceY:R,targetX:B,targetY:U,sourcePosition:F,targetPosition:z,sourceHandleId:te,targetHandleId:q,markerStart:je,markerEnd:ht}),It&&w("g",{onMouseDown:ve,onMouseEnter:Ie,onMouseOut:Be,children:w(d_,{position:F,centerX:M,centerY:R,radius:J})}),It&&w("g",{onMouseDown:Pe,onMouseEnter:Ie,onMouseOut:Be,children:w(d_,{position:z,centerX:B,centerY:U,radius:J})})]})};return t.displayName="EdgeWrapper",H.exports.memo(t)};function h_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function p_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(n),!0).forEach(function(r){Qt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q6(e){var t={default:mc(e.default||wS),straight:mc(e.bezier||Bk),step:mc(e.step||zk),smoothstep:mc(e.step||xC),simplebezier:mc(e.simplebezier||Lk)},n={},r=Object.keys(e).filter(function(i){return!["default","bezier"].includes(i)}).reduce(function(i,o){return i[o]=mc(e[o]||wS),i},n);return p_(p_({},t),r)}function m_(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=((n==null?void 0:n.x)||0)+t.x,i=((n==null?void 0:n.y)||0)+t.y,o=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case qe.Top:return{x:r+o/2,y:i};case qe.Right:return{x:r+o,y:i+s/2};case qe.Bottom:return{x:r+o/2,y:i+s};case qe.Left:return{x:r,y:i+s/2}}}function g_(e,t){if(!e)return null;var n=null;return e.length===1||!t?n=e[0]:t&&(n=e.find(function(r){return r.id===t})),typeof n=="undefined"?null:n}var H6=function(t,n,r,i,o,s){var u=m_(r,t,n),h=m_(s,i,o);return{sourceX:u.x,sourceY:u.y,targetX:h.x,targetY:h.y}};function G6(e){var t=e.sourcePos,n=e.targetPos,r=e.sourceWidth,i=e.sourceHeight,o=e.targetWidth,s=e.targetHeight,u=e.width,h=e.height,p=e.transform,v={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x+r,n.x+o),y2:Math.max(t.y+i,n.y+s)};v.x===v.x2&&(v.x2+=1),v.y===v.y2&&(v.y2+=1);var y=tv({x:(0-p[0])/p[2],y:(0-p[1])/p[2],width:u/p[2],height:h/p[2]}),b=Math.max(0,Math.min(y.x2,v.x2)-Math.max(y.x,v.x)),I=Math.max(0,Math.min(y.y2,v.y2)-Math.max(y.y,v.y)),O=Math.ceil(b*I);return O>0}function v_(e,t){var n,r,i,o,s,u=e.get(t),h=(u==null||(n=u[lr])===null||n===void 0?void 0:n.handleBounds)||null,p=!u||!h||!u.width||!u.height||typeof((r=u.positionAbsolute)===null||r===void 0?void 0:r.x)=="undefined"||typeof((i=u.positionAbsolute)===null||i===void 0?void 0:i.y)=="undefined";return[{x:(u==null||(o=u.positionAbsolute)===null||o===void 0?void 0:o.x)||0,y:(u==null||(s=u.positionAbsolute)===null||s===void 0?void 0:s.y)||0,width:(u==null?void 0:u.width)||0,height:(u==null?void 0:u.height)||0},h,!p]}var Y6=typeof document!="undefined"?document:null,iv=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{target:Y6},n=H.exports.useState(!1),r=Wt(n,2),i=r[0],o=r[1],s=H.exports.useRef(new Set([])),u=H.exports.useMemo(function(){if(e!==null){var y=Array.isArray(e)?e:[e],b=y.filter(function(O){return typeof O=="string"}).map(function(O){return O.split("+")}),I=b.reduce(function(O,k){return O.concat.apply(O,gu(k))},[]);return[b,I]}return[[],[]]},[e]),h=Wt(u,2),p=h[0],v=h[1];return H.exports.useEffect(function(){if(e!==null){var y,b,I=function(S){if(b_(S))return!1;var N=w_(S.code,v);s.current.add(S[N]),y_(p,s.current,!1)&&(S.preventDefault(),o(!0))},O=function(S){if(b_(S))return!1;var N=w_(S.code,v);y_(p,s.current,!0)?(o(!1),s.current.clear()):s.current.delete(S[N])},k=function(){s.current.clear(),o(!1)};return t==null||(y=t.target)===null||y===void 0||y.addEventListener("keydown",I),t==null||(b=t.target)===null||b===void 0||b.addEventListener("keyup",O),window.addEventListener("blur",k),function(){var E,S;t==null||(E=t.target)===null||E===void 0||E.removeEventListener("keydown",I),t==null||(S=t.target)===null||S===void 0||S.removeEventListener("keyup",O),window.removeEventListener("blur",k)}}},[e,o]),i};function y_(e,t,n){return e.filter(function(r){return n||r.length===t.size}).some(function(r){return r.every(function(i){return t.has(i)})})}function w_(e,t){return t.includes(e)?"code":"key"}function b_(e){var t=e.target;return["INPUT","SELECT","TEXTAREA"].includes(t==null?void 0:t.nodeName)||(t==null?void 0:t.hasAttribute("contenteditable"))}var X6=function(t){return{onNodesChange:t.onNodesChange,onEdgesChange:t.onEdgesChange}},J6=function(e){var t=e.deleteKeyCode,n=e.multiSelectionKeyCode,r=ii(),i=fr(X6,Oi),o=i.onNodesChange,s=i.onEdgesChange,u=iv(t),h=iv(n);H.exports.useEffect(function(){var p=r.getState(),v=p.nodeInternals,y=p.edges,b=p.hasDefaultNodes,I=p.hasDefaultEdges,O=p.onNodesDelete,k=p.onEdgesDelete,E=Array.from(v.values()),S=E.reduce(function(U,F){return(!F.selected&&F.parentNode&&U.find(function(z){return z.id===F.parentNode})||F.selected)&&U.push(F),U},[]),N=y.filter(function(U){return U.selected});if(u&&(S||N)){var _=Ak(S,y),T=[].concat(gu(N),gu(_)),M=T.reduce(function(U,F){return U.includes(F.id)||U.push(F.id),U},[]);if((I||b)&&(I&&r.setState({edges:y.filter(function(U){return!M.includes(U.id)})}),b&&(S.forEach(function(U){v.delete(U.id)}),r.setState({nodeInternals:new Map(v)}))),M.length>0&&(k==null||k(T),s)){var R=M.map(function(U){return{id:U,type:"remove"}});s(R)}if(S.length>0&&(O==null||O(S),o)){var B=S.map(function(U){return{id:U.id,type:"remove"}});o(B)}r.setState({nodesSelectionActive:!1})}},[u,o,s]),H.exports.useEffect(function(){r.setState({multiSelectionActive:h})},[h])};function Q6(e){var t=ii();H.exports.useEffect(function(){var n,r=function(){if(!!e.current){var o=SC(e.current);t.setState({width:o.width||500,height:o.height||500})}};return r(),window.onresize=r,e.current&&(n=new ResizeObserver(function(){return r()}),n.observe(e.current)),function(){window.onresize=null,n&&e.current&&n.unobserve(e.current)}},[])}var Z6=function(t,n){return t.x!==n.x||t.y!==n.y||t.zoom!==n.k},Fb=function(t){return{x:t.x,y:t.y,zoom:t.k}},Om=function(t,n){return t.target.closest(".".concat(n))},eY=function(t){return{d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler}},tY=function(t){var n=t.onMove,r=t.onMoveStart,i=t.onMoveEnd,o=t.zoomOnScroll,s=o===void 0?!0:o,u=t.zoomOnPinch,h=u===void 0?!0:u,p=t.panOnScroll,v=p===void 0?!1:p,y=t.panOnScrollSpeed,b=y===void 0?.5:y,I=t.panOnScrollMode,O=I===void 0?Yc.Free:I,k=t.zoomOnDoubleClick,E=k===void 0?!0:k,S=t.selectionKeyPressed,N=t.elementsSelectable,_=t.panOnDrag,T=_===void 0?!0:_,M=t.defaultPosition,R=M===void 0?[0,0]:M,B=t.defaultZoom,U=B===void 0?1:B,F=t.zoomActivationKeyCode,z=t.preventScrolling,$=z===void 0?!0:z,G=t.children,te=t.noWheelClassName,q=t.noPanClassName,re=ii(),ne=H.exports.useRef(!1),Q=H.exports.useRef(null),X=H.exports.useRef({x:0,y:0,zoom:0}),J=fr(eY,Oi),ie=J.d3Zoom,oe=J.d3Selection,ce=J.d3ZoomHandler,ye=iv(F);return Q6(Q),H.exports.useEffect(function(){if(Q.current){var ge,fe=re.getState(),ze=fe.minZoom,Ke=fe.maxZoom,Ae=fe.translateExtent,_e=J4().scaleExtent([ze,Ke]).translateExtent(Ae),be=Io(Q.current).call(_e),Le=Xc(R[0],Ae[0][0],Ae[1][0]),Re=Xc(R[1],Ae[0][1],Ae[1][1]),rt=Xc(U,ze,Ke),at=mu.translate(Le,Re).scale(rt);_e.transform(be,at),re.setState({d3Zoom:_e,d3Selection:be,d3ZoomHandler:be.on("wheel.zoom"),transform:[Le,Re,rt],domNode:(ge=be.node())===null||ge===void 0?void 0:ge.closest(".react-flow")})}},[]),H.exports.useEffect(function(){oe&&ie&&(v&&!ye?oe.on("wheel",function(ge){if(Om(ge,te))return!1;ge.preventDefault(),ge.stopImmediatePropagation();var fe=oe.property("__zoom").k||1;if(ge.ctrlKey&&h){var ze=oa(ge),Ke=-ge.deltaY*(ge.deltaMode===1?.05:ge.deltaMode?1:.002)*10,Ae=fe*Math.pow(2,Ke);ie.scaleTo(oe,Ae,ze);return}var _e=ge.deltaMode===1?20:1,be=O===Yc.Vertical?0:ge.deltaX*_e,Le=O===Yc.Horizontal?0:ge.deltaY*_e;ie.translateBy(oe,-(be/fe)*b,-(Le/fe)*b)}).on("wheel.zoom",null):typeof ce!="undefined"&&oe.on("wheel",function(ge){if(!$||Om(ge,te))return null;ge.preventDefault()}).on("wheel.zoom",ce))},[v,O,oe,ie,ce,ye,h,$,te]),H.exports.useEffect(function(){ie&&(S&&!ne.current?ie.on("zoom",null):S||ie.on("zoom",function(ge){if(re.setState({transform:[ge.transform.x,ge.transform.y,ge.transform.k]}),n){var fe=Fb(ge.transform);n(ge.sourceEvent,fe)}}))},[S,ie,n]),H.exports.useEffect(function(){ie&&ie.on("start",function(ge){if(ne.current=!0,r){var fe=Fb(ge.transform);X.current=fe,r(ge.sourceEvent,fe)}})},[ie,r]),H.exports.useEffect(function(){ie&&ie.on("end",function(ge){if(ne.current=!1,i&&Z6(X.current,ge.transform)){var fe=Fb(ge.transform);X.current=fe,i(ge.sourceEvent,fe)}})},[ie,i]),H.exports.useEffect(function(){ie&&ie.filter(function(ge){var fe=ye||s,ze=h&&ge.ctrlKey;return!T&&!fe&&!v&&!E&&!h||S||!E&&ge.type==="dblclick"||Om(ge,te)&&ge.type==="wheel"||Om(ge,q)&&ge.type!=="wheel"||!h&&ge.ctrlKey&&ge.type==="wheel"||!fe&&!v&&!ze&&ge.type==="wheel"||!T&&(ge.type==="mousedown"||ge.type==="touchstart")?!1:(!ge.ctrlKey||ge.type==="wheel")&&!ge.button})},[ie,s,h,v,E,T,S,N,ye]),w("div",{className:"react-flow__renderer react-flow__container",ref:Q,children:G})};function S_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function E_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S_(Object(n),!0).forEach(function(r){Qt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function C_(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}var nY=function(t){return{userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable}},x_={startX:0,startY:0,x:0,y:0,width:0,height:0,draw:!1},rY=H.exports.memo(function(e){var t=e.selectionKeyPressed,n=ii(),r=H.exports.useRef(0),i=H.exports.useRef(0),o=H.exports.useRef(),s=H.exports.useState(x_),u=Wt(s,2),h=u[0],p=u[1],v=fr(nY,Oi),y=v.userSelectionActive,b=v.elementsSelectable,I=y||t;if(!b||!I)return null;var O=function(){p(x_),n.setState({userSelectionActive:!1}),r.current=0,i.current=0},k=function(T){var M=T.target.closest(".react-flow");o.current=M.getBoundingClientRect();var R=C_(T,o.current);p({width:0,height:0,startX:R.x,startY:R.y,x:R.x,y:R.y,draw:!0}),n.setState({userSelectionActive:!0,nodesSelectionActive:!1})},E=function(T){var M,R;if(!(!t||!h.draw||!o.current)){var B=C_(T,o.current),U=(M=h.startX)!==null&&M!==void 0?M:0,F=(R=h.startY)!==null&&R!==void 0?R:0,z=E_(E_({},h),{},{x:B.x<U?B.x:U,y:B.y<F?B.y:F,width:Math.abs(B.x-U),height:Math.abs(B.y-F)}),$=n.getState(),G=$.nodeInternals,te=$.edges,q=$.transform,re=$.onNodesChange,ne=$.onEdgesChange,Q=Array.from(G.values()),X=_k(G,z,q,!1,!0),J=Ak(X,te).map(function(ye){return ye.id}),ie=X.map(function(ye){return ye.id});if(r.current!==ie.length){r.current=ie.length;var oe=Rc(Q,ie);oe.length&&(re==null||re(oe))}if(i.current!==J.length){i.current=J.length;var ce=Rc(te,J);ce.length&&(ne==null||ne(ce))}p(z)}},S=function(){n.setState({nodesSelectionActive:r.current>0}),O()},N=function(){n.setState({nodesSelectionActive:!1}),O()};return w("div",{className:"react-flow__selectionpane react-flow__container",onMouseDown:k,onMouseMove:E,onMouseUp:S,onMouseLeave:N,children:h.draw&&w("div",{className:"react-flow__selection react-flow__container",style:{width:h.width,height:h.height,transform:"translate(".concat(h.x,"px, ").concat(h.y,"px)")}})})});function N_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function I_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N_(Object(n),!0).forEach(function(r){Qt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hk(e,t){if(!e.parentNode)return!1;var n=t.get(e.parentNode);return n?n.selected?!0:Hk(n,t):!1}function O_(e,t,n){var r=e;do{var i;if((i=r)!==null&&i!==void 0&&i.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function iY(e,t,n){return Array.from(e.values()).filter(function(r){return(r.selected||r.id===n)&&(!r.parentNode||!Hk(r,e))}).map(function(r){var i,o,s,u;return{id:r.id,position:r.position||{x:0,y:0},positionAbsolute:r.positionAbsolute||{x:0,y:0},distance:{x:t.x-((i=(o=r.positionAbsolute)===null||o===void 0?void 0:o.x)!==null&&i!==void 0?i:0),y:t.y-((s=(u=r.positionAbsolute)===null||u===void 0?void 0:u.y)!==null&&s!==void 0?s:0)},delta:{x:0,y:0},extent:r.extent,parentNode:r.parentNode,width:r.width,height:r.height}})}function oY(e,t,n,r){var i=e.extent||r,o={x:t.x-e.distance.x,y:t.y-e.distance.y};if(e.extent==="parent")if(e.parentNode&&e.width&&e.height){var s=n.get(e.parentNode);i=s!=null&&s.positionAbsolute&&s!==null&&s!==void 0&&s.width&&s!==null&&s!==void 0&&s.height?[[s.positionAbsolute.x,s.positionAbsolute.y],[s.positionAbsolute.x+s.width-e.width,s.positionAbsolute.y+s.height-e.height]]:i}else i=r;else if(e.extent&&e.parentNode){var u,h,p,v,y=n.get(e.parentNode),b=(u=y==null||(h=y.positionAbsolute)===null||h===void 0?void 0:h.x)!==null&&u!==void 0?u:0,I=(p=y==null||(v=y.positionAbsolute)===null||v===void 0?void 0:v.y)!==null&&p!==void 0?p:0;i=[[e.extent[0][0]+b,e.extent[0][1]+I],[e.extent[1][0]+b,e.extent[1][1]+I]]}var O={x:0,y:0};if(e.parentNode){var k,E,S,N,_=n.get(e.parentNode);O={x:(k=_==null||(E=_.positionAbsolute)===null||E===void 0?void 0:E.x)!==null&&k!==void 0?k:0,y:(S=_==null||(N=_.positionAbsolute)===null||N===void 0?void 0:N.y)!==null&&S!==void 0?S:0}}return e.positionAbsolute=i?Sk(o,i):o,e.position={x:e.positionAbsolute.x-O.x,y:e.positionAbsolute.y-O.y},e}function Ub(e){var t=e.nodeId,n=e.dragItems,r=e.nodeInternals,i=n.map(function(o){var s=r.get(o.id);return I_(I_({},s),{},{position:o.position,positionAbsolute:o.positionAbsolute})});return[t?i.find(function(o){return o.id===t}):i[0],i]}function $b(e){return function(t,n,r){return e==null?void 0:e(t,r)}}function Gk(e){var t=e.nodeRef,n=e.disabled,r=n===void 0?!1:n,i=e.noDragClassName,o=e.handleSelector,s=e.nodeId,u=e.isSelectable,h=e.selectNodesOnDrag,p=H.exports.useState(!1),v=Wt(p,2),y=v[0],b=v[1],I=ii(),O=H.exports.useRef(),k=H.exports.useRef({x:null,y:null}),E=H.exports.useCallback(function(S){var N=S.sourceEvent,_=I.getState(),T=_.transform,M=_.snapGrid,R=_.snapToGrid,B=N.touches?N.touches[0].clientX:N.clientX,U=N.touches?N.touches[0].clientY:N.clientY,F=Tk({x:B,y:U},T,R,M);return F},[]);return H.exports.useEffect(function(){if(t!=null&&t.current){var S=Io(t.current);if(r)S.on(".drag",null);else{var N=sG().on("start",function(_){var T=I.getState(),M=T.nodeInternals,R=T.multiSelectionActive,B=T.unselectNodesAndEdges,U=T.onNodeDragStart,F=T.onSelectionDragStart,z=s?U:$b(F);if(!h&&!R&&s){var $;($=M.get(s))!==null&&$!==void 0&&$.selected||B()}s&&u&&h&&Ok({id:s,store:I});var G=E(_);if(k.current=G,O.current=iY(M,G,s),z&&O.current){var te=Ub({nodeId:s,dragItems:O.current,nodeInternals:M}),q=Wt(te,2),re=q[0],ne=q[1];z(_.sourceEvent,re,ne)}}).on("drag",function(_){var T=I.getState(),M=T.updateNodePositions,R=T.nodeInternals,B=T.nodeExtent,U=T.onNodeDrag,F=T.onSelectionDrag,z=E(_);if((k.current.x!==z.x||k.current.y!==z.y)&&O.current){k.current=z,O.current=O.current.map(function(ne){return oY(ne,z,R,B)});var $=s?U:$b(F);if(M(O.current,!0,!0),b(!0),$){var G=Ub({nodeId:s,dragItems:O.current,nodeInternals:R}),te=Wt(G,2),q=te[0],re=te[1];$(_.sourceEvent,q,re)}}_.on("end",function(ne){if(b(!1),O.current){var Q=I.getState(),X=Q.updateNodePositions,J=Q.nodeInternals,ie=Q.onNodeDragStop,oe=Q.onSelectionDragStop,ce=s?ie:$b(oe);if(X(O.current,!1,!1),ce){var ye=Ub({nodeId:s,dragItems:O.current,nodeInternals:J}),ge=Wt(ye,2),fe=ge[0],ze=ge[1];ce(ne.sourceEvent,fe,ze)}}})}).filter(function(_){var T=_.target,M=!_.button&&(!i||!O_(T,".".concat(i),t))&&(!o||O_(T,o,t));return M});return S.call(N),function(){S.on(".drag",null)}}}},[t,r,i,o,u,I,s,h,E]),y}function T_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T_(Object(n),!0).forEach(function(r){Qt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var sY=function(t){return aY({transformString:"translate(".concat(t.transform[0],"px,").concat(t.transform[1],"px) scale(").concat(t.transform[2],")"),userSelectionActive:t.userSelectionActive},EC(Array.from(t.nodeInternals.values()).filter(function(n){return n.selected})))},lY=function(t){var n=Array.from(t.nodeInternals.values()).filter(function(r){return r.selected});return EC(n)};function uY(e){var t=e.onSelectionContextMenu,n=e.noPanClassName,r=ii(),i=fr(sY,Oi),o=i.transformString,s=i.userSelectionActive,u=fr(lY,Oi),h=u.width,p=u.height,v=u.x,y=u.y,b=H.exports.useRef(null);if(Gk({nodeRef:b}),s||!h||!p)return null;var I=t?function(O){var k=Array.from(r.getState().nodeInternals.values()).filter(function(E){return E.selected});t(O,k)}:void 0;return w("div",{className:va(["react-flow__nodesselection","react-flow__container",n]),style:{transform:o},children:w("div",{ref:b,className:"react-flow__nodesselection-rect",onContextMenu:I,style:{width:h,height:p,top:y,left:v}})})}var cY=H.exports.memo(uY),fY=function(t){return t.nodesSelectionActive},Yk=function(t){var n=t.children,r=t.onPaneClick,i=t.onPaneContextMenu,o=t.onPaneScroll,s=t.deleteKeyCode,u=t.onMove,h=t.onMoveStart,p=t.onMoveEnd,v=t.selectionKeyCode,y=t.multiSelectionKeyCode,b=t.zoomActivationKeyCode,I=t.elementsSelectable,O=t.zoomOnScroll,k=t.zoomOnPinch,E=t.panOnScroll,S=t.panOnScrollSpeed,N=t.panOnScrollMode,_=t.zoomOnDoubleClick,T=t.panOnDrag,M=t.defaultPosition,R=t.defaultZoom,B=t.preventScrolling,U=t.onSelectionContextMenu,F=t.noWheelClassName,z=t.noPanClassName,$=ii(),G=fr(fY),te=iv(v);J6({deleteKeyCode:s,multiSelectionKeyCode:y});var q=function(X){r==null||r(X),$.getState().resetSelectedElements(),$.setState({nodesSelectionActive:!1})},re=i?function(Q){return i(Q)}:void 0,ne=o?function(Q){return o(Q)}:void 0;return j(tY,{onMove:u,onMoveStart:h,onMoveEnd:p,selectionKeyPressed:te,elementsSelectable:I,zoomOnScroll:O,zoomOnPinch:k,panOnScroll:E,panOnScrollSpeed:S,panOnScrollMode:N,zoomOnDoubleClick:_,panOnDrag:T,defaultPosition:M,defaultZoom:R,zoomActivationKeyCode:b,preventScrolling:B,noWheelClassName:F,noPanClassName:z,children:[n,w(rY,{selectionKeyPressed:te}),G&&w(cY,{onSelectionContextMenu:U,noPanClassName:z}),w("div",{className:"react-flow__pane react-flow__container",onClick:q,onContextMenu:re,onWheel:ne})]})};Yk.displayName="FlowRenderer";var dY=H.exports.memo(Yk);function hY(e){var t=fr(H.exports.useCallback(function(n){return e?_k(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):Array.from(n.nodeInternals.values())},[e]));return t}var pY=function(t){return{nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions}},Xk=function(t){var n=fr(pY,Oi),r=n.nodesDraggable,i=n.nodesConnectable,o=n.elementsSelectable,s=n.updateNodeDimensions,u=hY(t.onlyRenderVisibleElements),h=H.exports.useRef(),p=H.exports.useMemo(function(){if(typeof ResizeObserver=="undefined")return null;var v=new ResizeObserver(function(y){var b=y.map(function(I){return{id:I.target.getAttribute("data-id"),nodeElement:I.target,forceUpdate:!0}});s(b)});return h.current=v,v},[]);return H.exports.useEffect(function(){return function(){var v;h==null||(v=h.current)===null||v===void 0||v.disconnect()}},[]),w("div",{className:"react-flow__nodes react-flow__container",children:u.map(function(v){var y,b,I,O,k,E,S,N=v.type||"default";t.nodeTypes[N]||(N="default");var _=t.nodeTypes[N]||t.nodeTypes.default,T=!!(v.draggable||r&&typeof v.draggable=="undefined"),M=!!(v.selectable||o&&typeof v.selectable=="undefined"),R=!!(v.connectable||i&&typeof v.connectable=="undefined");return w(_,{id:v.id,className:v.className,style:v.style,type:N,data:v.data,sourcePosition:v.sourcePosition||qe.Bottom,targetPosition:v.targetPosition||qe.Top,hidden:v.hidden,xPos:(y=(b=v.positionAbsolute)===null||b===void 0?void 0:b.x)!==null&&y!==void 0?y:0,yPos:(I=(O=v.positionAbsolute)===null||O===void 0?void 0:O.y)!==null&&I!==void 0?I:0,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!v.selected,isDraggable:T,isSelectable:M,isConnectable:R,resizeObserver:p,dragHandle:v.dragHandle,zIndex:(k=(E=v[lr])===null||E===void 0?void 0:E.z)!==null&&k!==void 0?k:0,isParent:!!((S=v[lr])!==null&&S!==void 0&&S.isParent),noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!v.width&&!!v.height},v.id)})})};Xk.displayName="NodeRenderer";var mY=H.exports.memo(Xk),gc;function __(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function A_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?__(Object(n),!0).forEach(function(r){Qt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):__(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var gY=(gc={},Qt(gc,qe.Left,qe.Right),Qt(gc,qe.Right,qe.Left),Qt(gc,qe.Top,qe.Bottom),Qt(gc,qe.Bottom,qe.Top),gc),vY=function(e){var t,n,r,i,o,s=e.connectionNodeId,u=e.connectionHandleType,h=e.connectionLineStyle,p=e.connectionLineType,v=p===void 0?ks.Bezier:p,y=e.isConnectable,b=e.CustomConnectionLineComponent,I=fr(H.exports.useCallback(function(J){return{fromNode:J.nodeInternals.get(s),handleId:J.connectionHandleId,toX:(J.connectionPosition.x-J.transform[0])/J.transform[2],toY:(J.connectionPosition.y-J.transform[1])/J.transform[2]}},[s]),Oi),O=I.fromNode,k=I.handleId,E=I.toX,S=I.toY,N=O==null||(t=O[lr])===null||t===void 0?void 0:t.handleBounds;if(!O||!y||!(N!=null&&N[u]))return null;var _=N[u],T=k?_.find(function(J){return J.id===k}):_[0],M=T?T.x+T.width/2:((n=O==null?void 0:O.width)!==null&&n!==void 0?n:0)/2,R=T?T.y+T.height/2:(r=O==null?void 0:O.height)!==null&&r!==void 0?r:0,B=((O==null||(i=O.positionAbsolute)===null||i===void 0?void 0:i.x)||0)+M,U=((O==null||(o=O.positionAbsolute)===null||o===void 0?void 0:o.y)||0)+R,F=T==null?void 0:T.position;if(!F)return null;var z=gY[F],$,G,te,q,re,ne;switch(u){case"source":$=B,G=U,te=F,q=E,re=S,ne=z;break;case"target":$=E,G=S,te=z,q=B,re=U,ne=F;break}if(b)return w("g",{className:"react-flow__connection",children:w(b,{connectionLineType:v,connectionLineStyle:h,fromNode:O,fromHandle:T,fromX:B,fromY:U,toX:E,toY:S,fromPosition:F,toPosition:z,sourcePosition:te,targetPosition:ne,sourceNode:O,sourceHandle:T,targetX:q,targetY:re,sourceX:$,sourceY:G})});var Q="",X={sourceX:$,sourceY:G,sourcePosition:te,targetX:q,targetY:re,targetPosition:ne};return v===ks.Bezier?Q=Fk(X):v===ks.Step?Q=yS(A_(A_({},X),{},{borderRadius:0})):v===ks.SmoothStep?Q=yS(X):v===ks.SimpleBezier?Q=Dk(X):Q="M".concat($,",").concat(G," ").concat(q,",").concat(re),w("g",{className:"react-flow__connection",children:w("path",{d:Q,className:"react-flow__connection-path",style:h})})};function ES(e){return ES=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ES(e)}var Tm,yY=function(t){var n=t.color,r=n===void 0?"none":n,i=t.strokeWidth,o=i===void 0?1:i;return w("polyline",{stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:o,fill:"none",points:"-5,-4 0,0 -5,4"})},wY=function(t){var n=t.color,r=n===void 0?"none":n,i=t.strokeWidth,o=i===void 0?1:i;return w("polyline",{stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:o,fill:r,points:"-5,-4 0,0 -5,4 -5,-4"})},R_=(Tm={},Qt(Tm,ev.Arrow,yY),Qt(Tm,ev.ArrowClosed,wY),Tm);function bY(e){var t=H.exports.useMemo(function(){var n=R_.hasOwnProperty(e);return n?R_[e]:function(){return null}},[e]);return t}function P_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P_(Object(n),!0).forEach(function(r){Qt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var EY=function(t){var n=t.id,r=t.type,i=t.color,o=t.width,s=o===void 0?12.5:o,u=t.height,h=u===void 0?12.5:u,p=t.markerUnits,v=p===void 0?"strokeWidth":p,y=t.strokeWidth,b=t.orient,I=b===void 0?"auto":b,O=bY(r);return kr.createElement("marker",{className:"react-flow__arrowhead",id:n,markerWidth:"".concat(s),markerHeight:"".concat(h),viewBox:"-10 -10 20 20",markerUnits:v,orient:I,refX:"0",refY:"0"},kr.createElement(O,{color:i,strokeWidth:y}))},CY=function(t){var n=t.defaultColor,r=t.rfId;return function(i){var o=[];return i.edges.reduce(function(s,u){return[u.markerStart,u.markerEnd].forEach(function(h){if(h&&ES(h)==="object"){var p=vS(h,r);o.includes(p)||(s.push(SY({id:p,color:h.color||n},h)),o.push(p))}}),s},[]).sort(function(s,u){return s.id.localeCompare(u.id)})}},Jk=function(t){var n=t.defaultColor,r=t.rfId,i=fr(H.exports.useCallback(CY({defaultColor:n,rfId:r}),[n,r]),function(o,s){return!(o.length!==s.length||o.some(function(u,h){return u.id!==s[h].id}))});return w("defs",{children:i.map(function(o){return w(EY,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id)})})};Jk.displayName="MarkerDefinitions";var xY=H.exports.memo(Jk),NY=[{level:0,isMaxLevel:!0,edges:[]}];function IY(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=-1,i=e.reduce(function(s,u){var h=Ck(u.zIndex),p=h?u.zIndex:0;if(n){var v,y,b,I;p=h?u.zIndex:Math.max(((v=t.get(u.source))===null||v===void 0||(y=v[lr])===null||y===void 0?void 0:y.z)||0,((b=t.get(u.target))===null||b===void 0||(I=b[lr])===null||I===void 0?void 0:I.z)||0)}return s[p]?s[p].push(u):s[p]=[u],r=p>r?p:r,s},{}),o=Object.entries(i).map(function(s){var u=Wt(s,2),h=u[0],p=u[1],v=+h;return{edges:p,level:v,isMaxLevel:v===r}});return o.length===0?NY:o}function OY(e,t,n){var r=fr(H.exports.useCallback(function(i){return e?i.edges.filter(function(o){var s=t.get(o.source),u=t.get(o.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(u==null?void 0:u.width)&&(u==null?void 0:u.height)&&G6({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:u.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:u.width,targetHeight:u.height,width:i.width,height:i.height,transform:i.transform})}):i.edges},[e,t]));return IY(r,t,n)}var TY=function(t){return{connectionNodeId:t.connectionNodeId,connectionHandleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals}},Qk=function(t){var n=fr(TY,Oi),r=n.connectionNodeId,i=n.connectionHandleType,o=n.nodesConnectable,s=n.elementsSelectable,u=n.width,h=n.height,p=n.connectionMode,v=n.nodeInternals,y=OY(t.onlyRenderVisibleElements,v,t.elevateEdgesOnSelect);if(!u)return null;var b=t.connectionLineType,I=t.defaultMarkerColor,O=t.connectionLineStyle,k=t.connectionLineComponent,E=t.connectionLineContainerStyle,S=r&&i;return j(Zt,{children:[y.map(function(N){var _=N.level,T=N.edges,M=N.isMaxLevel;return j("svg",{style:{zIndex:_},width:u,height:h,className:"react-flow__edges react-flow__container",children:[M&&w(xY,{defaultColor:I,rfId:t.rfId}),w("g",{children:T.map(function(R){var B=v_(v,R.source),U=Wt(B,3),F=U[0],z=U[1],$=U[2],G=v_(v,R.target),te=Wt(G,3),q=te[0],re=te[1],ne=te[2];if(!$||!ne)return null;var Q=R.type||"default",X=t.edgeTypes[Q]||t.edgeTypes.default,J=p===ff.Strict?re.target:re.target||re.source,ie=g_(z.source,R.sourceHandle||null),oe=g_(J,R.targetHandle||null),ce=(ie==null?void 0:ie.position)||qe.Bottom,ye=(oe==null?void 0:oe.position)||qe.Top;if(!ie||!oe)return null;var ge=H6(F,ie,ce,q,oe,ye),fe=ge.sourceX,ze=ge.sourceY,Ke=ge.targetX,Ae=ge.targetY;return w(X,{id:R.id,className:va([R.className,t.noPanClassName]),type:Q,data:R.data,selected:!!R.selected,animated:!!R.animated,hidden:!!R.hidden,label:R.label,labelStyle:R.labelStyle,labelShowBg:R.labelShowBg,labelBgStyle:R.labelBgStyle,labelBgPadding:R.labelBgPadding,labelBgBorderRadius:R.labelBgBorderRadius,style:R.style,source:R.source,target:R.target,sourceHandleId:R.sourceHandle,targetHandleId:R.targetHandle,markerEnd:R.markerEnd,markerStart:R.markerStart,sourceX:fe,sourceY:ze,targetX:Ke,targetY:Ae,sourcePosition:ce,targetPosition:ye,elementsSelectable:s,onEdgeUpdate:t.onEdgeUpdate,onContextMenu:t.onEdgeContextMenu,onMouseEnter:t.onEdgeMouseEnter,onMouseMove:t.onEdgeMouseMove,onMouseLeave:t.onEdgeMouseLeave,onClick:t.onEdgeClick,edgeUpdaterRadius:t.edgeUpdaterRadius,onEdgeDoubleClick:t.onEdgeDoubleClick,onEdgeUpdateStart:t.onEdgeUpdateStart,onEdgeUpdateEnd:t.onEdgeUpdateEnd,rfId:t.rfId},R.id)})})]},_)}),S&&w("svg",{style:E,width:u,height:h,className:"react-flow__edges react-flow__connectionline react-flow__container",children:w(vY,{connectionNodeId:r,connectionHandleType:i,connectionLineStyle:O,connectionLineType:b,isConnectable:o,CustomConnectionLineComponent:k})})]})};Qk.displayName="EdgeRenderer";var _Y=H.exports.memo(Qk),AY=function(t){return"translate(".concat(t.transform[0],"px,").concat(t.transform[1],"px) scale(").concat(t.transform[2],")")};function RY(e){var t=e.children,n=fr(AY);return w("div",{className:"react-flow__viewport react-flow__container",style:{transform:n},children:t})}function PY(e){var t=b6(),n=H.exports.useRef(!1);H.exports.useEffect(function(){!n.current&&t.viewportInitialized&&e&&(setTimeout(function(){return e(t)},1),n.current=!0)},[e,t.viewportInitialized])}var Zk=function(t){var n=t.nodeTypes,r=t.edgeTypes,i=t.onMove,o=t.onMoveStart,s=t.onMoveEnd,u=t.onInit,h=t.onNodeClick,p=t.onEdgeClick,v=t.onNodeDoubleClick,y=t.onEdgeDoubleClick,b=t.onNodeMouseEnter,I=t.onNodeMouseMove,O=t.onNodeMouseLeave,k=t.onNodeContextMenu,E=t.onSelectionContextMenu,S=t.connectionLineType,N=t.connectionLineStyle,_=t.connectionLineComponent,T=t.connectionLineContainerStyle,M=t.selectionKeyCode,R=t.multiSelectionKeyCode,B=t.zoomActivationKeyCode,U=t.deleteKeyCode,F=t.onlyRenderVisibleElements,z=t.elementsSelectable,$=t.selectNodesOnDrag,G=t.defaultZoom,te=t.defaultPosition,q=t.preventScrolling,re=t.defaultMarkerColor,ne=t.zoomOnScroll,Q=t.zoomOnPinch,X=t.panOnScroll,J=t.panOnScrollSpeed,ie=t.panOnScrollMode,oe=t.zoomOnDoubleClick,ce=t.panOnDrag,ye=t.onPaneClick,ge=t.onPaneScroll,fe=t.onPaneContextMenu,ze=t.onEdgeUpdate,Ke=t.onEdgeContextMenu,Ae=t.onEdgeMouseEnter,_e=t.onEdgeMouseMove,be=t.onEdgeMouseLeave,Le=t.edgeUpdaterRadius,Re=t.onEdgeUpdateStart,rt=t.onEdgeUpdateEnd,at=t.noDragClassName,yt=t.noWheelClassName,He=t.noPanClassName,le=t.elevateEdgesOnSelect,ve=t.id;return PY(u),w(dY,{onPaneClick:ye,onPaneContextMenu:fe,onPaneScroll:ge,deleteKeyCode:U,selectionKeyCode:M,multiSelectionKeyCode:R,zoomActivationKeyCode:B,elementsSelectable:z,onMove:i,onMoveStart:o,onMoveEnd:s,zoomOnScroll:ne,zoomOnPinch:Q,zoomOnDoubleClick:oe,panOnScroll:X,panOnScrollSpeed:J,panOnScrollMode:ie,panOnDrag:ce,defaultPosition:te,defaultZoom:G,onSelectionContextMenu:E,preventScrolling:q,noDragClassName:at,noWheelClassName:yt,noPanClassName:He,children:j(RY,{children:[w(_Y,{edgeTypes:r,onEdgeClick:p,onEdgeDoubleClick:y,connectionLineType:S,connectionLineStyle:N,connectionLineComponent:_,connectionLineContainerStyle:T,onEdgeUpdate:ze,onlyRenderVisibleElements:F,onEdgeContextMenu:Ke,onEdgeMouseEnter:Ae,onEdgeMouseMove:_e,onEdgeMouseLeave:be,onEdgeUpdateStart:Re,onEdgeUpdateEnd:rt,edgeUpdaterRadius:Le,defaultMarkerColor:re,noPanClassName:He,elevateEdgesOnSelect:!!le,rfId:ve}),w(mY,{nodeTypes:n,onNodeClick:h,onNodeDoubleClick:v,onNodeMouseEnter:b,onNodeMouseMove:I,onNodeMouseLeave:O,onNodeContextMenu:k,selectNodesOnDrag:$,onlyRenderVisibleElements:F,noPanClassName:He,noDragClassName:at})]})})};Zk.displayName="GraphView";var kY=H.exports.memo(Zk),eD=function(){return null};eD.displayName="GroupNode";function k_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function D_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k_(Object(n),!0).forEach(function(r){Qt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Ad=function(e){var t=function(r){var i=r.id,o=r.type,s=r.data,u=r.xPos,h=r.yPos,p=r.selected,v=r.onClick,y=r.onMouseEnter,b=r.onMouseMove,I=r.onMouseLeave,O=r.onContextMenu,k=r.onDoubleClick,E=r.style,S=r.className,N=r.isDraggable,_=r.isSelectable,T=r.isConnectable,M=r.selectNodesOnDrag,R=r.sourcePosition,B=r.targetPosition,U=r.hidden,F=r.resizeObserver,z=r.dragHandle,$=r.zIndex,G=r.isParent,te=r.noPanClassName,q=r.noDragClassName,re=r.initialized,ne=ii(),Q=H.exports.useRef(null),X=H.exports.useRef(R),J=H.exports.useRef(B),ie=H.exports.useRef(o),oe=_||N||v||y||b||I,ce=Td(i,ne.getState,y),ye=Td(i,ne.getState,b),ge=Td(i,ne.getState,I),fe=Td(i,ne.getState,O),ze=Td(i,ne.getState,k),Ke=function(be){if(_&&(!M||!N)&&Ok({id:i,store:ne}),v){var Le=ne.getState().nodeInternals.get(i);v(be,D_({},Le))}};H.exports.useEffect(function(){if(Q.current&&!U){var _e=Q.current;return F==null||F.observe(_e),function(){return F==null?void 0:F.unobserve(_e)}}},[U]),H.exports.useEffect(function(){var _e=ie.current!==o,be=X.current!==R,Le=J.current!==B;Q.current&&(_e||be||Le)&&(_e&&(ie.current=o),be&&(X.current=R),Le&&(J.current=B),ne.getState().updateNodeDimensions([{id:i,nodeElement:Q.current,forceUpdate:!0}]))},[i,o,R,B]);var Ae=Gk({nodeRef:Q,disabled:U||!N,noDragClassName:q,handleSelector:z,nodeId:i,isSelectable:_,selectNodesOnDrag:M});return U?null:w("div",{className:va(["react-flow__node","react-flow__node-".concat(o),te,S,{selected:p,selectable:_,parent:G}]),ref:Q,style:D_({zIndex:$,transform:"translate(".concat(u,"px,").concat(h,"px)"),pointerEvents:oe?"all":"none",visibility:re?"visible":"hidden"},E),onMouseEnter:ce,onMouseMove:ye,onMouseLeave:ge,onContextMenu:fe,onClick:Ke,onDoubleClick:ze,"data-id":i,children:w(A6,{value:i,children:w(e,{id:i,data:s,type:o,xPos:u,yPos:h,selected:p,isConnectable:T,sourcePosition:R,targetPosition:B,dragging:Ae,dragHandle:z,zIndex:$})})})};return t.displayName="NodeWrapper",H.exports.memo(t)};function L_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function M_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L_(Object(n),!0).forEach(function(r){Qt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DY(e){var t={input:Ad(e.input||Kk),default:Ad(e.default||SS),output:Ad(e.output||qk),group:Ad(e.group||eD)},n={},r=Object.keys(e).filter(function(i){return!["input","default","output","group"].includes(i)}).reduce(function(i,o){return i[o]=Ad(e[o]||SS),i},n);return M_(M_({},t),r)}function z_(e,t){H.exports.useRef(null);var n=H.exports.useMemo(function(){return t(e)},[e]);return n}function B_(e){if(!(!e||typeof document=="undefined")){var t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");t.appendChild(n),n.appendChild(document.createTextNode(e))}}var tD=function(t){var n=t.children,r=!0;try{ii()}catch{r=!1}return r?w(Zt,{children:n}):w(c6,{createStore:f6,children:n})};tD.displayName="ReactFlowWrapper";var LY=["nodes","edges","defaultNodes","defaultEdges","className","nodeTypes","edgeTypes","onNodeClick","onEdgeClick","onInit","onMove","onMoveStart","onMoveEnd","onConnect","onConnectStart","onConnectStop","onConnectEnd","onClickConnectStart","onClickConnectStop","onClickConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onNodesDelete","onEdgesDelete","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","deleteKeyCode","selectionKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","elementsSelectable","minZoom","maxZoom","defaultZoom","defaultPosition","translateExtent","preventScrolling","nodeExtent","defaultMarkerColor","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","panOnDrag","onPaneClick","onPaneScroll","onPaneContextMenu","children","onEdgeUpdate","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdateStart","onEdgeUpdateEnd","edgeUpdaterRadius","onNodesChange","onEdgesChange","noDragClassName","noWheelClassName","noPanClassName","fitView","fitViewOptions","connectOnClick","attributionPosition","proOptions","defaultEdgeOptions","elevateEdgesOnSelect"];function F_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function U_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F_(Object(n),!0).forEach(function(r){Qt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}B_($6),B_(j6);var MY={input:Kk,default:SS,output:qk},zY={default:wS,straight:Bk,step:zk,smoothstep:xC,simplebezier:Lk},BY=[15,15],FY=[0,0],nD=H.exports.forwardRef(function(e,t){var n=e.nodes,r=e.edges,i=e.defaultNodes,o=e.defaultEdges,s=e.className,u=e.nodeTypes,h=u===void 0?MY:u,p=e.edgeTypes,v=p===void 0?zY:p,y=e.onNodeClick,b=e.onEdgeClick,I=e.onInit,O=e.onMove,k=e.onMoveStart,E=e.onMoveEnd,S=e.onConnect,N=e.onConnectStart,_=e.onConnectStop,T=e.onConnectEnd,M=e.onClickConnectStart,R=e.onClickConnectStop,B=e.onClickConnectEnd,U=e.onNodeMouseEnter,F=e.onNodeMouseMove,z=e.onNodeMouseLeave,$=e.onNodeContextMenu,G=e.onNodeDoubleClick,te=e.onNodeDragStart,q=e.onNodeDrag,re=e.onNodeDragStop,ne=e.onNodesDelete,Q=e.onEdgesDelete,X=e.onSelectionChange,J=e.onSelectionDragStart,ie=e.onSelectionDrag,oe=e.onSelectionDragStop,ce=e.onSelectionContextMenu,ye=e.connectionMode,ge=ye===void 0?ff.Strict:ye,fe=e.connectionLineType,ze=fe===void 0?ks.Bezier:fe,Ke=e.connectionLineStyle,Ae=e.connectionLineComponent,_e=e.connectionLineContainerStyle,be=e.deleteKeyCode,Le=be===void 0?"Backspace":be,Re=e.selectionKeyCode,rt=Re===void 0?"Shift":Re,at=e.multiSelectionKeyCode,yt=at===void 0?"Meta":at,He=e.zoomActivationKeyCode,le=He===void 0?"Meta":He,ve=e.snapToGrid,Pe=ve===void 0?!1:ve,Ie=e.snapGrid,Be=Ie===void 0?BY:Ie,je=e.onlyRenderVisibleElements,ht=je===void 0?!1:je,Qe=e.selectNodesOnDrag,It=Qe===void 0?!0:Qe,cn=e.nodesDraggable,ut=e.nodesConnectable,tt=e.elementsSelectable,vn=e.minZoom,hr=e.maxZoom,Ge=e.defaultZoom,hn=Ge===void 0?1:Ge,pn=e.defaultPosition,Un=pn===void 0?FY:pn,Nn=e.translateExtent,Pn=e.preventScrolling,$e=Pn===void 0?!0:Pn,Ye=e.nodeExtent,st=e.defaultMarkerColor,St=st===void 0?"#b1b1b7":st,xt=e.zoomOnScroll,Ft=xt===void 0?!0:xt,sn=e.zoomOnPinch,$n=sn===void 0?!0:sn,Br=e.panOnScroll,Cr=Br===void 0?!1:Br,Fr=e.panOnScrollSpeed,wa=Fr===void 0?.5:Fr,Wo=e.panOnScrollMode,Ue=Wo===void 0?Yc.Free:Wo,ki=e.zoomOnDoubleClick,yl=ki===void 0?!0:ki,lo=e.panOnDrag,uo=lo===void 0?!0:lo,jo=e.onPaneClick,Wn=e.onPaneScroll,wl=e.onPaneContextMenu,bl=e.children,Sl=e.onEdgeUpdate,ba=e.onEdgeContextMenu,El=e.onEdgeDoubleClick,Za=e.onEdgeMouseEnter,Sa=e.onEdgeMouseMove,co=e.onEdgeMouseLeave,Ko=e.onEdgeUpdateStart,Vo=e.onEdgeUpdateEnd,In=e.edgeUpdaterRadius,Cl=In===void 0?10:In,jn=e.onNodesChange,es=e.onEdgesChange,Di=e.noDragClassName,xl=Di===void 0?"nodrag":Di,ts=e.noWheelClassName,Ea=ts===void 0?"nowheel":ts,ai=e.noPanClassName,fo=ai===void 0?"nopan":ai,Ur=e.fitView,ns=Ur===void 0?!1:Ur,Nl=e.fitViewOptions,rs=e.connectOnClick,is=rs===void 0?!0:rs,Ca=e.attributionPosition,xa=e.proOptions,os=e.defaultEdgeOptions,ho=e.elevateEdgesOnSelect,qo=ho===void 0?!1:ho,si=iy(e,LY),Ho=z_(h,DY),pr=z_(v,q6);return w("div",{...U_(U_({},si),{},{ref:t,className:va(["react-flow",s])}),children:j(tD,{children:[w(kY,{onInit:I,onMove:O,onMoveStart:k,onMoveEnd:E,onNodeClick:y,onEdgeClick:b,onNodeMouseEnter:U,onNodeMouseMove:F,onNodeMouseLeave:z,onNodeContextMenu:$,onNodeDoubleClick:G,nodeTypes:Ho,edgeTypes:pr,connectionLineType:ze,connectionLineStyle:Ke,connectionLineComponent:Ae,connectionLineContainerStyle:_e,selectionKeyCode:rt,deleteKeyCode:Le,multiSelectionKeyCode:yt,zoomActivationKeyCode:le,onlyRenderVisibleElements:ht,selectNodesOnDrag:It,defaultZoom:hn,defaultPosition:Un,preventScrolling:$e,zoomOnScroll:Ft,zoomOnPinch:$n,zoomOnDoubleClick:yl,panOnScroll:Cr,panOnScrollSpeed:wa,panOnScrollMode:Ue,panOnDrag:uo,onPaneClick:jo,onPaneScroll:Wn,onPaneContextMenu:wl,onSelectionContextMenu:ce,onEdgeUpdate:Sl,onEdgeContextMenu:ba,onEdgeDoubleClick:El,onEdgeMouseEnter:Za,onEdgeMouseMove:Sa,onEdgeMouseLeave:co,onEdgeUpdateStart:Ko,onEdgeUpdateEnd:Vo,edgeUpdaterRadius:Cl,defaultMarkerColor:St,noDragClassName:xl,noWheelClassName:Ea,noPanClassName:fo,elevateEdgesOnSelect:qo,id:si==null?void 0:si.id}),w(F6,{nodes:n,edges:r,defaultNodes:i,defaultEdges:o,onConnect:S,onConnectStart:N,onConnectStop:_,onConnectEnd:T,onClickConnectStart:M,onClickConnectStop:R,onClickConnectEnd:B,nodesDraggable:cn,nodesConnectable:ut,elementsSelectable:tt,minZoom:vn,maxZoom:hr,nodeExtent:Ye,onNodesChange:jn,onEdgesChange:es,snapToGrid:Pe,snapGrid:Be,connectionMode:ge,translateExtent:Nn,connectOnClick:is,defaultEdgeOptions:os,fitView:ns,fitViewOptions:Nl,onNodesDelete:ne,onEdgesDelete:Q,onNodeDragStart:te,onNodeDrag:q,onNodeDragStop:re,onSelectionDrag:ie,onSelectionDragStart:J,onSelectionDragStop:oe}),X&&w(z6,{onSelectionChange:X}),bl,w(E6,{proOptions:xa,position:Ca})]})})});nD.displayName="ReactFlow";const Er=vt(function(e,t){return{...ri(e,t,vi()),sorting:!0,add(r){e(i=>({itemzz:[...i.itemzz,r]}))}}}),ay=vt(function(e){return Pf(e)}),IC=vt(function(e){return Pf(e)}),OC=vt(function(e){return Pf(e)}),zr=vt(function(e,t){return ri(e,t,Ni())}),kf=vt(function(e,t){return{...ri(e,t,$g()),sorting:!0}});function CS(e){var t,n;return j("select",{className:"form-select "+((t=e.className)!=null?t:""),value:e.value,onChange:function(r){e.change(r.target.value)},children:[j("option",{disabled:!e.allowEmpty,hidden:!e.allowEmpty,value:"",children:["-- ",(n=e.verb)!=null?n:e.isAdd?"add":"select"," --"]}),e.itemzz.map(r=>w("option",{value:r[0],children:r[1]},r[0]))]})}function ko(e){return w(CS,{allowEmpty:e.allowEmpty,className:e.className,isAdd:e.isAdd,itemzz:e.itemzz.map(t=>[t,t]),value:e.value,verb:e.verb,change:e.change})}function $_(e,t,n,r=0){return function(i){let o=parseFloat(i.target.value);isNaN(o)&&(o=r),n({...t,[e]:o})}}function UY(e){return j("div",{children:[w("div",{className:"mb-3",children:j("div",{className:"form-check form-switch",children:[w("input",{checked:e.item.nullable,onChange:function(t){const n=t.target.checked;e.update({...e.item,nullable:n})},className:"form-check-input",type:"checkbox",role:"switch",id:"nullableSwitchCheck"}),w("label",{className:"form-check-label",htmlFor:"nullableSwitchCheck",children:"nullable"})]})}),w("div",{className:"mb-3",children:j("div",{className:"form-check form-switch",children:[w("input",{checked:e.item.unsigned,onChange:t=>e.update({...e.item,unsigned:t.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"unsignedSwitchCheck"}),w("label",{className:"form-check-label",htmlFor:"unsignedSwitchCheck",children:"unsigned"})]})}),j("div",{className:"mb-3",children:[w("label",{className:"form-label",children:"length"}),w("input",{value:e.item.length,onChange:$_("length",e.item,e.update),type:"number",min:0,className:"form-control"})]}),j("div",{className:"mb-3",children:[w("label",{className:"form-label",children:"scale"}),w("input",{value:e.item.scale,onChange:$_("scale",e.item,e.update),type:"number",min:0,className:"form-control"})]}),e.children,j("div",{className:"mb-3",children:[w("label",{className:"form-label",children:"comment"}),w("textarea",{value:e.item.comment,onChange:t=>e.update({...e.item,comment:t.target.value}),rows:3,className:"form-control"})]})]})}function rD(){const e=zr(),t=kf(),n=ay(),r=De(),[i,o]=H.exports.useState();if(H.exports.useEffect(()=>{n.itemId!==0&&o(e.find(n.itemId))},[n.isOpen,n.itemId]),i===void 0)return null;const s=t.itemzz.map(p=>p.name);function u(){ti("Please input the column name",i.name).then(p=>{if(p.isConfirmed)return h({...i,name:p.value})}).catch(r.showError)}function h(p){o(p),Ni().update(p).then(o).catch(r.showError)}return j(Ru,{isOpen:n.isOpen,onRequestClose:n.close,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:[j("div",{className:"mb-3",children:[w("button",{onClick:u,className:"btn btn-outline-primary",type:"button",children:i.name}),j("div",{className:"form-check form-switch inline wa ms-3",children:[w("input",{checked:i.inTable,onChange:p=>h({...i,inTable:p.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"inTableSwitchCheck"}),w("label",{className:"form-check-label",htmlFor:"inTableSwitchCheck",children:"inTable"})]})]}),j(UY,{item:i,update:h,children:[j("div",{className:"mb-3",children:[w("label",{className:"form-label",children:"type"}),w(ko,{itemzz:s,value:i.type,change:p=>h({...i,type:p})})]}),j("div",{className:"mb-3",children:[w("label",{className:"form-label",children:"default"}),w("input",{value:i.default,onChange:p=>h({...i,default:p.target.value}),type:"text",className:"form-control"})]})]})]})}function ya(e){var t;return w("div",{className:"color-button-group "+((t=e.className)!=null?t:""),children:UP.map(n=>w("span",{className:"color-button "+(n===e.color?"active":""),onClick:()=>e.setColor(n),style:{backgroundColor:aS(n,e.color),borderColor:sS(n)}},n))})}function $Y(){const e=OC(),t=Er(),n=De(),[r,i]=H.exports.useState();if(H.exports.useEffect(()=>{e.itemId!==0&&i(t.find(e.itemId))},[e.isOpen,e.itemId]),r===void 0)return null;function o(){ti("Please input the Entity name",r.name).then(u=>{u.isConfirmed&&s({...r,name:u.value})}).catch(n.showError)}function s(u){i(u),vi().update(u).then(i).catch(n.showError)}return j(Ru,{isOpen:e.isOpen,onRequestClose:e.close,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:[w("div",{className:"mb-3",children:w("button",{disabled:r.reserved,onClick:o,className:"btn btn-outline-primary",type:"button",children:r.name})}),j("div",{className:"mb-3",children:[w("label",{className:"form-label",children:"color"}),w(ya,{color:r.color,setColor:u=>s({...r,color:u})})]}),j("div",{className:"mb-3",children:[w("label",{className:"form-label",children:"description"}),w("textarea",{value:r.description,onChange:u=>s({...r,description:u.target.value}),rows:3,className:"form-control"})]})]})}var yi=(e=>(e.OneToMany="OneToMany",e.OneToOne="OneToOne",e))(yi||{});const WY=Object.keys(yi),jY=new Map;WY.forEach(e=>jY.set(e,e));function Wh(e,t=!1){return t?"belongs to":e==="OneToMany"?"has many":"has one"}const hp=vt(function(e,t){return Xa(e,t,Su())});function En(e){var t,n;return j("select",{className:"form-select "+((t=e.className)!=null?t:""),value:e.value,onChange:function(r){const i=parseInt(r.target.value);e.change(i,e.itemzz.find(o=>o.id===i))},children:[j("option",{disabled:!0,hidden:!0,value:0,children:["-- ",(n=e.verb)!=null?n:e.isAdd?"add":"select"," --"]}),e.itemzz.map(r=>w("option",{value:r.id,children:r.name},r.id))]})}function KY(){const e=zr(),t=hp(),n=Er(),r=IC(),i=De(),[o,s]=H.exports.useState(),[u,h]=H.exports.useState(""),[p,v]=H.exports.useState("");if(H.exports.useEffect(()=>{var E,S,N,_;if(r.itemId===0)return;const k=t.find(r.itemId);k!==void 0&&(s(k),h((S=(E=n.find(k.entity0Id))==null?void 0:E.name)!=null?S:""),v((_=(N=n.find(k.entity1Id))==null?void 0:N.name)!=null?_:""))},[r.isOpen,r.itemId]),o===void 0)return null;const y=e.itemzz.filter(k=>k.entityId===o.entity1Id);function b(){ti("Please input the name",o.name0).then(k=>{k.isConfirmed&&O({...o,name0:k.value})}).catch(i.showError)}function I(){ti("Please input the name",o.name1).then(k=>{k.isConfirmed&&O({...o,name1:k.value})}).catch(i.showError)}function O(k){Su().update(k).then(s).catch(i.showError)}return w(Ru,{isOpen:r.isOpen,onRequestClose:r.close,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:j("table",{className:"table",children:[w("thead",{children:j("tr",{children:[w("td",{children:"Entity"}),w("td",{children:"relation"}),w("td",{children:"name"}),w("td",{children:"foreign key"})]})}),j("tbody",{children:[j("tr",{children:[w("td",{children:u}),w("td",{className:"text-secondary",children:Wh(o.type)}),w("td",{children:w("button",{onClick:b,className:"btn btn-outline-primary",type:"button",children:o.name0})}),w("td",{})]}),j("tr",{children:[w("td",{children:p}),w("td",{className:"text-secondary",children:Wh(o.type,!0)}),w("td",{children:w("button",{onClick:I,className:"btn btn-outline-primary",type:"button",children:o.name1})}),w("td",{children:w(En,{itemzz:y,value:o.column1Id,change:function(k,E){O({...o,column1Id:k})}})})]})]})]})})}function VY(){const e=ay(),t=IC(),n=OC();return j(Zt,{children:[e.isOpen?w(rD,{}):null,t.isOpen?w(KY,{}):null,n.isOpen?w($Y,{}):null]})}function iD(e,t,n,r="",i=0,o=[],s,u="",h="",p=!0){var v,y;return{...Bo(t),entityId:e,name:t,type:n,length:i,scale:0,default:r,comment:h,unsigned:!1,nullable:!1,cast:"",fillable:!1,hidden:!1,ro:o.findIndex(b=>b.name===t)>-1,wo:!1,fakeRaw:!0,fakeUnique:!1,fakeMethod:(v=s==null?void 0:s.fakeMethod)!=null?v:"",fakeText:(y=s==null?void 0:s.fakeText)!=null?y:"",inTable:p,allowReserved:!1,deprecated:!1,description:"",example:"",explode:!1,required:!0,style:u}}var gt=(e=>(e.any="any",e.boolean="boolean",e.integer="integer",e.number="number",e.string="string",e.Enum="Enum",e.WuParameter="WuParameter",e.Wu="Wu",e))(gt||{});const xS=Object.keys(gt);var oD=(e=>(e.allOf="allOf",e.anyOf="anyOf",e.oneOf="oneOf",e))(oD||{});const aD=Object.keys(oD),qY=["integer","number","string"];var TC=(e=>(e.delete="delete",e.get="get",e.head="head",e.options="options",e.patch="patch",e.post="post",e.put="put",e.trace="trace",e))(TC||{});const HY=Object.keys(TC),GY=new Map([["Create","post"],["Delete","delete"],["Read","get"],["Update","patch"]]);var sD=(e=>(e.deepObject="deepObject",e.form="form",e.label="label",e.matrix="matrix",e.pipeDelimited="pipeDelimited",e.simple="simple",e.spaceDelimited="spaceDelimited",e))(sD||{});const YY=Object.keys(sD);function XY(e){return["Enum","WuParameter","Wu"].includes(e)}function JY(e){return QY(e)||ZY(e)||lD(e)||_C(e)}function QY(e){const t=Object.keys(e);if(t.length>2)return!1;const n=new Set(["description","nullable"]);return t.every(r=>n.has(r))}function ZY(e){return"items"in e}function lD(e){return"type"in e}function _C(e){return!!aD.find(t=>t in e)}function uD(e){return"$ref"in e}function e8(e){return{type:"array",items:e}}function cD(e=[],t){const n=[];return e.forEach(r=>{(uD(r)||JY(r))&&fD(r,n,t)}),{[t]:n}}function NS(e){return{...e,type:"object"}}function fD(e,t,n){if(_C(e)&&n in e){e[n].forEach(o=>fD(o,t,n));return}t.push(e)}function pl(e=gt.string,t=1,n=null,r=null,i=null,o=null,s=null,u=""){return{isArray:!1,nullable:!1,type:e,format:u,forWuParameterId:o,ownerId:i,variableId:r,wuId:t,wuParameterId:n,ownerColumnId:s,ownerRequestId:null,ownerResponseId:null,ownerWuId:null,ownerWuChildId:null}}function Ti(e){const t=lC.getState().findByName(e);if(t===void 0)throw new Error(`Collection ${e} not found`);return uC.getState().itemzz.filter(n=>n.collectionId===t.id)}function Mu(e,t,n,r="",i=0,o="",s="",u=!0){const h=Ti("ReadOnlyColumn"),p=kf.getState().findByName(n);return Ni().create(iD(e,t,n,r,i,h,p,o,s,u)).then(v=>{const y=pl(p==null?void 0:p.oapiType,1,null,null,null,null,v.id,p==null?void 0:p.oapiFormat);return ei().create(y).then(()=>v)})}function t8(e){const t=ay(),n=De();function r(){Mr().then(i=>{if(i.isConfirmed)return Ni().delete(e.item.id)}).catch(n.showError)}return j("tr",{children:[j("td",{className:"text-secondary ps-3",children:[w("button",{onClick:r,className:"button danger",type:"button",children:"-"}),e.item.type]}),w("td",{children:w("span",{onClick:function(){t.open(e.item.id)},className:"button",children:e.item.name})})]})}function n8(e){const t=De();return j("table",{className:"table table-sm table-borderless py0",children:[j("caption",{children:[w("span",{onClick:()=>ti("Please input the column name","").then(n=>{if(n.isConfirmed)return Mu(e.item.id,n.value,gt.integer)}).catch(t.showError),className:"button",children:"+ column"}),w("span",{className:"mx-1",children:e.columnzz.length}),w("span",{onClick:()=>vi().update({...e.item,openedColumn:!e.item.openedColumn}).catch(t.showError),className:"button px-1",children:"\u02C5"})]}),e.item.openedColumn?w("tbody",{children:e.columnzz.map(n=>w(t8,{item:n,entityId:e.item.id},n.name))}):null]})}function r8(e,t,n,r,i,o){return Ni().findChildzz(n,Pt(Lt.Entity)).then(u=>{const h=u.find(p=>p.name===o);return h?s(h.id):Mu(n,o,gt.integer).then(p=>s(p.id))});function s(u){return Su().create(pD(e,t,n,r,i,u))}}function dD(e,t,n){const r=hD(e,n),i=e===yi.OneToMany?Pt(t.name,oh.CosineCase):Jt.Id;return r8(e,t.id,n.id,r,t.name,i)}function i8(e,t,n,r){const i=hD(e,n),o=t.name;return Su().create(pD(e,t.id,n.id,i,o,r))}function hD(e,t){return t.name+(e===yi.OneToMany?Jt.Zz:"")}function pD(e,t,n,r,i,o){return{type:e,name0:r,name1:i,entity0Id:t,entity1Id:n,column1Id:o}}function o8(e){}const Ja=vt(function(e){return{...Pf(e),namezz:[],text:"",callback:o8,openCB(n,r,i){e({isOpen:!0,namezz:r,title:n,callback:i})},setText(n){e(function(r){return r.text=n,r})}}});function a8(e){const t=IC(),n=De(),r=e.entityId!==e.item.entity0Id;return j("tr",{children:[j("td",{className:"text-secondary ps-3",children:[w("button",{onClick:function(){Mr().then(i=>{if(i.isConfirmed)return Su().delete(e.item.id)}).catch(n.showError)},className:"button danger",type:"button",children:"-"}),Wh(e.item.type,r)]}),w("td",{children:w("span",{onClick:()=>t.open(e.item.id),className:"button",children:r?e.item.name1:e.item.name0})})]})}function s8(e){const t=Ja(),n=hp(),r=Er(),i=De(),[o,s]=H.exports.useState([]);H.exports.useEffect(()=>{s(n.itemzz.filter(h=>h.entity0Id===e.entity.id||h.entity1Id===e.entity.id))},[n.itemzz]);function u(h){t.openCB(`${e.entity.name} ${Wh(h)}`,r.itemzz.map(p=>p.name),function(p){const v=r.findByName(p);if(v===void 0)throw new Error("Entity not found");return dD(h,e.entity,v).catch(i.showError)})}return j("table",{className:"table table-sm table-borderless py0",children:[j("caption",{children:[w("span",{onClick:function(){u(yi.OneToMany)},className:"button",children:"+ relation"}),w("span",{onClick:function(){u(yi.OneToOne)},className:"button mx-2",children:"1..1"})]}),w("tbody",{children:o.map(h=>w(a8,{entityId:e.entity.id,item:h},h.id))})]})}function l8(e){const t=zr(),n=OC(),r=De(),[i,o]=H.exports.useState([]);return H.exports.useEffect(()=>{o(t.itemzz.filter(s=>s.entityId===e.data.id&&s.inTable))},[t.itemzz]),j("div",{className:"EntityNode",children:[j("div",{className:"d-flex justify-content-center",children:[e.data.reserved?null:w("span",{onClick:function(){Mr().then(s=>{if(s.isConfirmed)return vi().delete(e.data.id)}).catch(r.showError)},className:"button danger px-1",children:"-"}),w("span",{onClick:()=>n.open(e.data.id),className:"button mx-1",children:e.data.name}),w("button",{onClick:()=>vi().update({...e.data,opened:!e.data.opened}).catch(r.showError),className:"button px-1",type:"button",children:"\u02C5"})]}),e.data.opened?j(Zt,{children:[w(n8,{columnzz:i,item:e.data}),w(s8,{entity:e.data})]}):null,w(Us,{type:"source",position:qe.Left,id:"sourceLeft"+e.data.id,isConnectable:!1}),w(Us,{type:"source",position:qe.Right,id:"sourceRight"+e.data.id,isConnectable:!1}),w(Us,{type:"target",position:qe.Left,id:"targetLeft"+e.data.id,isConnectable:!1}),w(Us,{type:"target",position:qe.Right,id:"targetRight"+e.data.id,isConnectable:!1})]})}const u8={EntityNode:l8};function AC(e,t="",n=""){return{...Bo(e),description:t,table:n,x:222+Math.floor(Math.random()*111),y:11,isTable:!0,opened:!0,openedColumn:!0}}function mD(e){return vi().create(AC(e)).then(t=>Mu(t.id,Jt.Id,gt.integer))}function c8(){const e=hp(),t=Er(),n=De(),[r,i]=H.exports.useState([]),[o,s]=H.exports.useState([]),u=H.exports.useMemo(()=>u8,[]);H.exports.useEffect(()=>{p()},[t.itemzz]),H.exports.useEffect(()=>{h()},[e.itemzz]);function h(){try{const I=e.itemzz.filter(O=>O.entity0Id!==O.entity1Id).map(O=>{const k=t.find(O.entity0Id),E=t.find(O.entity1Id);let S="sourceLeft",N="targetRight";return Math.abs(k.x-E.x)<222?S="sourceRight":k.x<E.x&&(S="sourceRight",N="targetLeft"),{id:"relation"+O.id,source:k.name,target:E.name,sourceHandle:S+O.entity0Id,targetHandle:N+O.entity1Id}});i(I)}catch(I){console.error(I),n.showError(I),i([])}}function p(){const I=t.itemzz.map(O=>({id:O.name,type:"EntityNode",position:{x:O.x,y:O.y},targetPosition:qe.Top,data:O}));s(I)}const v=H.exports.useCallback(I=>s(O=>Nk(I,O)),[s]),y=H.exports.useCallback(I=>i(O=>r6(I,O)),[i]);function b(I,O){const k={...O.data,x:O.position.x,y:O.position.y};vi().update(k).then(E=>t.setItem(E)).then(()=>h()).catch(n.showError)}return j("div",{className:"h100",children:[w("div",{style:{position:"fixed",top:"66px",zIndex:1},children:w("button",{onClick:()=>ti("Please input the Entity name","").then(I=>{if(I.isConfirmed)return mD(I.value)}).catch(n.showError),className:"btn btn-outline-primary",type:"button",children:"+"})}),w(nD,{nodes:o,edges:r,nodeTypes:u,maxZoom:1,onNodesChange:v,onEdgesChange:y,onNodeDragStop:b}),w(VY,{})]})}function f8(e,t=""){return{...Bo(e),fakeMethod:"",fakeText:"",oapiFormat:"",oapiType:"",phpType:t}}const W_=vt(function(e){return zo(e)});var sy=(e=>(e.edit="edit",e.open="open",e.refresh="refresh",e))(sy||{});function RC(e,t,n){if(window.JavaBridge===void 0)throw new Error("window.JavaBridge is undefined. only available in JetBrains IDE.");const r=JSON.stringify({action:e,key:t,data:n});window.JavaBridge.send(r)}function d8(e,t){return RC(sy.edit,e,t)}function h8(e){return RC(sy.open,e,"")}function ly(){return RC(sy.refresh,"","")}function ni(e){return Wv().ide?w("span",{className:"btn btn-link "+e.className,onClick:()=>h8(e.href),children:e.children}):w("a",{className:e.className,href:e.href,target:"_blank",children:e.children})}function p8(e){const t=De(),n=Ti("FakerMethod").map(o=>[o.name,o.name]),r=xS.slice(0,5).map(o=>[o,o]);function i(o){$g().update(o).catch(t.showError)}return j("table",{className:"table",children:[j("caption",{children:[w(ni,{className:"me-3",href:"https://www.doctrine-project.org/projects/doctrine-dbal/en/latest/reference/types.html#mapping-matrix",children:"Doctrine Column Type"}),"when creating a column with this type, clone the following properties to the column."]}),j("tbody",{children:[j("tr",{children:[w("td",{className:"w111",children:"fakeMethod"}),w("td",{children:w(CS,{allowEmpty:!0,className:"wa",itemzz:n,value:e.item.fakeMethod,change:o=>i({...e.item,fakeMethod:o})})})]}),j("tr",{children:[w("td",{children:"fakeText"}),w("td",{children:w("input",{value:e.item.fakeText,onChange:o=>i({...e.item,fakeText:o.target.value}),className:"form-control wa",type:"text"})})]}),j("tr",{children:[w("td",{children:"oapiFormat"}),w("td",{children:w("input",{value:e.item.oapiFormat,onChange:o=>i({...e.item,oapiFormat:o.target.value}),className:"form-control wa",type:"text"})})]}),j("tr",{children:[w("td",{children:"oapiType"}),w("td",{children:w(CS,{className:"wa",itemzz:r,value:e.item.oapiType,change:o=>i({...e.item,oapiType:o})})})]}),j("tr",{children:[w("td",{children:"phpType"}),w("td",{children:w("input",{value:e.item.phpType,onChange:o=>i({...e.item,phpType:o.target.value}),className:"form-control wa",type:"text"})})]})]})]})}function m8(){const e=W_(),t=De();return j("div",{className:"row",children:[w(Lu,{makeCRUD:$g,onCreate:function(n){$g().create(f8(n)).catch(t.showError)},useItemPageStore:W_,useItemzzStore:kf,title:ot.Doctrine,children:e.item===void 0?void 0:w(p8,{item:e.item})}),w(pC,{})]})}const zu=vt(function(e){return{...zo(e),fileColor:"#fff",tab:"Column",setFileColor(n){e({fileColor:n})}}});function Df(e){return w("ul",{className:"nav nav-tabs mb-3",children:e.tabzz.map(t=>w("li",{onClick:function(){e.setTab(t)},className:"nav-item nav-item-fill",children:w("span",{className:t===e.tab?"nav-link active":"nav-link",children:t})},t))})}function g8(e){const t=Ja(),n=De(),[r,i]=H.exports.useState(e.item);function o(s){return i(s),Ni().update(s).then(i).catch(n.showError)}return j("tr",{children:[w("td",{children:r.name}),j("td",{children:[j("div",{className:"form-check form-switch inline",children:[w("input",{checked:r.fillable,onChange:s=>o({...r,fillable:s.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"fillableSwitchCheck"+r.id}),w("label",{className:"form-check-label",htmlFor:"fillableSwitchCheck"+r.id})]}),j("div",{className:"form-check form-switch inline",children:[w("input",{checked:r.hidden,onChange:s=>o({...r,hidden:s.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"hiddenSwitchCheck"+r.id}),w("label",{className:"form-check-label",htmlFor:"hiddenSwitchCheck"+r.id})]}),j("div",{className:"form-check form-switch inline ms-3",children:[w("input",{checked:r.ro,onChange:s=>o({...r,ro:s.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"roSwitchCheck"+r.id}),w("label",{className:"form-check-label",htmlFor:"roSwitchCheck"+r.id})]}),j("div",{className:"form-check form-switch inline ms-3",children:[w("input",{checked:r.wo,onChange:s=>o({...r,wo:s.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"woSwitchCheck"+r.id}),w("label",{className:"form-check-label",htmlFor:"woSwitchCheck"+r.id})]})]}),w("td",{children:r.type}),w("td",{children:j("div",{role:"group",className:"input-group",children:[w("div",{className:"input-group-prepend",children:w("button",{onClick:function(){const s=Ti("ModelFieldTypeCast");t.openCB("Please select one item",s.map(u=>u.name),function(u){return o({...r,cast:u})})},type:"button",className:"btn btn-outline-primary",children:"+"})}),w("input",{value:r.cast,onChange:s=>o({...r,cast:s.target.value}),type:"text",className:"form-control"})]})})]})}function v8(e){const t=zr(),[n,r]=H.exports.useState([]);return H.exports.useEffect(()=>{r(t.itemzz.filter(i=>i.entityId===e.entity.id))},[e.entity,t.itemzz]),j("table",{className:"table",children:[j("caption",{children:[w("h3",{className:"inline me-3",children:"Cast"}),w(ni,{href:"https://laravel.com/docs/9.x/eloquent-mutators",children:"doc"})]}),w("thead",{children:j("tr",{children:[w("th",{children:"column"}),w("th",{children:"fillable / hidden / read only / write only"}),w("th",{children:"type"}),w("th",{children:"cast"})]})}),w("tbody",{children:n.map(i=>w(g8,{item:i},i.id))})]})}const oi=vt(function(e,t){return ri(e,t,jg())});function gD(e){const t=new Map;return e.forEach(n=>t.set(n.id,{...n,childzz:[]})),e.forEach(n=>{const r=t.get(n.parentId);if(r){const i=t.get(n.id);i.parent=r,r.childzz.push(i)}}),t}function Rd(e,t){const n=Object.keys(t),r=Object.values(t);return new Function(...n,`return \`${e}\`;`)(...r)}function IS(e,t){function n(b,I,O){return o(b,I,O).slice(0,-4)}function r(b,I,O){const k={file:b,entity:I,action:O},E=[b.fileNamePattern];b.nameSpacePattern&&E.push(b.nameSpacePattern);const S=e.get(b.directoryId);S&&p(S,E);const N=E.reverse().join("/");return Rd(N,k).replaceAll("/","\\").slice(0,-4)}function i(b,I,O){const k={entity:I,action:O};k.directory=b;const S=p(b,[]).reverse().join("/");return y(Rd(S,k))}function o(b,I,O){return Rd(b.fileNamePattern,{entity:I,action:O})}function s(b,I,O){const k={file:b,entity:I,action:O},E=[b.fileNamePattern];b.nameSpacePattern&&E.push(b.nameSpacePattern);const S=e.get(b.directoryId);S&&p(S,E);const N=E.reverse().join("/");return y(Rd(N,k))}function u(b,I,O){const k={entity:I,action:O};k.directory=b;const S=p(b,[]).reverse().join("/");return Rd(S,k).replaceAll("/","\\")}function h(b,I,O){const k=r(b,I,O);return k.slice(0,k.lastIndexOf("\\"))}function p(b,I){return v(b,[]).forEach(O=>I.push(O.name)),I}function v(b,I){let O=e.get(b.id);for(;O&&O.parentId!==null;)I.push(O),O=O.parent;return I}function y(b){let I="";return Object.keys(t).forEach(k=>{b.startsWith(k.replaceAll("\\","/"))&&k.length>I.length&&(I=k)}),I.length?t[I]+b.slice(I.length):b}return{getClassName:n,getClassFullName:r,getDirectoryFullName:i,getFileName:o,getFileFullName:s,getFullNameSpace:u,getFullNameSpaceOfFile:h,makeNameSpacezz:p,replacePSR4:y}}function j_(e){const t=Pr(e.tables.Column),n=new Map;e.tables.WuColumn.forEach(u=>{let h=n.get(u.wuId);h===void 0&&(h=[],n.set(u.wuId,h));const p=t.get(u.columnId);let v=p.name;u.alias&&(v=u.alias),h.push({...p,name:v,alias:v,wuColumnId:u.id})});const r=Js(e.tables.TypeFormat,"ownerId"),i=Pr(e.tables.Wu),o=Js(e.tables.TypeFormat,"ownerWuChildId"),s=Js(e.tables.WuParameter,"wuId");return{cicm:t,tfzzm:r,wiczzm:n,wiwm:i,wiwkzzm:o,wiwpzzm:s}}function vD(e,t,n){return OS(PC(e,!1,t,j_(n)),j_(n),new Set)}function OS(e,t,n){var u,h,p;if(e.type!==gt.Wu)return[];const r=t.wiwm.get(e.wuId);if(r===void 0)throw new Error(`Wu ${e.wuId} not found.`);n.has(r.id)&&TS("circular reference detected.",r),n.add(r.id);const i=(u=t.wiwpzzm.get(r.id))!=null?u:[];i.length>e.argumentzz.length&&TS(`Wu ${r.name} require ${i.length} argument.`,r);let o=(h=t.wiczzm.get(r.id))!=null?h:[];return((p=t.wiwkzzm.get(r.id))!=null?p:[]).forEach(function(v){if(v.type===gt.Wu){const y=PC(v,i.length>0,e.argumentzz,t);o=o.concat(OS(y,t,n));return}if(v.type===gt.WuParameter){const y=yD(v,i,r),b=e.argumentzz[y];if(b.type===gt.Wu){o=o.concat(OS(b,t,n));return}}}),o}function yD(e,t,n){const r=t.findIndex(i=>i.id===e.wuParameterId);return r===-1&&TS(`WuParameter ${e.wuParameterId} not found`,n),r}function y8(e,t,n,r){var u,h;const i=(u=r.wiwpzzm.get(e.wuId))!=null?u:[];if(i.length===0)return[];if(e.type!==gt.Wu)return[];const o=r.wiwm.get(e.wuId);return o===void 0?[]:((h=r.tfzzm.get(e.id))!=null?h:[]).map(function(p){if(t){if(p.type===gt.Wu)return PC(p,!0,n,r);if(p.type===gt.WuParameter){const v=yD(p,i,o);return n[v]}}return{...p,argumentzz:[]}})}function PC(e,t,n,r){return{...e,argumentzz:y8(e,t,n,r)}}function TS(e,t){throw new Error(e+` error found in Wu ${t.name}`)}function w8(e,t){const n=t.tables.TypeFormat.find(i=>i.ownerResponseId===e);if(n===void 0)return[];const r=t.tables.TypeFormat.find(i=>i.ownerId===n.id&&i.type===gt.Wu);return r===void 0?[]:vD(r,[],t)}function b8(e){return new Function("return "+e)()}function ov(e,t){return b8(e)(t)}function S8(e,t,n=void 0,r=void 0,i,o,s=void 0){let u;return s===void 0?u=up().then(h=>Bg.exports.cloneDeep(h)):u=Promise.resolve(s),u.then(function(h){return zP(Yv("code004")).then(function(v){const y=v.data.data,b=gD(h.tables.Directory),I=IS(b,o),O={file:e,entity:t,module:n,ma:r,db:h,dependencyzz:[],fileMap:y,getResponseContentColumnzz:w8,getTypeFormatColumnzz:vD,lodash:Ph,makeChildzzMap:Js,makeIdItemMap:Pr,makeIdNameMap:oC,tree:I,treeMap:b,action:i,helper:{}};Ug in y&&ov(y[Ug],O);const k=sl(e,Hv);k in y?ov(y[k],O):console.warn(k+" does not exist");const E=sl(e,Gv);if(E in y){Mm.configure({autoescape:!1}),Mm.renderString(y[E],O);const S=new Set(O.dependencyzz);S.delete(I.getClassFullName(e,t,i)),O.dependencyzz=Array.from(S).sort((T,M)=>T.localeCompare(M));const N=Mm.renderString(y[E],O),_=I.getFileFullName(e,t,i);return iC(_,N).then(T=>(ly(),T))}throw new Error(E+" not exist")})})}const av=vt(function(e){return{psr4:{"App\\":"app/","Database\\Entity\\":"database/Entity/","Database\\Factories\\":"database/factories/","Database\\Seeders\\":"database/seeders/","Tests\\":"tests/"},setPsr4(t){t["Database\\Entity\\"]="database/Entity/",e({psr4:t})}}}),ao=vt(function(e,t){const n=Xa(e,t,Lh(),function(o){const s=gD(o),u=IS(s,av.getState().psr4);e({treeHelper:u,treeMap:s})}),r=new Map,i=IS(r,av.getState().psr4);return{...n,treeHelper:i,treeMap:r}});function ha(e){var n;const t=De();return w("button",{onClick:()=>{try{d8(e.file,e.content)}catch(r){t.showError(r)}},className:"btn btn-outline-success",children:(n=e.text)!=null?n:"edit"})}function Qa(e){const t=ao(),n=av(),r=De(),i=t.treeHelper.getFileName(e.file,e.entity,e.action),o=t.treeHelper.getFileFullName(e.file,e.entity,e.action);return j("div",{className:"btn-group "+e.className,children:[w("button",{onClick:()=>{S8(e.file,e.entity,e.module,e.ma,e.action,n.psr4).then(s=>r.showSuccess(s.data.data)).catch(r.showError)},type:"button",className:"btn btn-outline-warning",children:"\u25BC"}),w(ha,{content:"",file:o,text:e.fullName?o:i})]})}function E8(e){const t=[];return e.item.name===Jt.Id&&t.push("primary key"),e.item.nullable&&t.push("nullable"),e.item.unsigned&&t.push("unsigned"),e.item.length&&t.push("length: "+e.item.length),e.item.scale&&t.push("scale: "+e.item.scale),e.item.comment&&t.push(e.item.comment),t.length===0&&t.push("----"),w("div",{className:"pointer",children:t.map(n=>w("div",{children:n},n))})}function C8(e){const t=ay(),n=kf(),r=Ja(),i=De(),[o,s]=H.exports.useState(e.item);H.exports.useEffect(()=>{s(e.item)},[e.item]);function u(h){s(h),Ni().update(h).then(s).catch(i.showError)}return j("tr",{children:[j("td",{children:[j("div",{className:"form-check form-switch inline",children:[w("input",{checked:o.inTable,onChange:h=>u({...o,inTable:h.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"inTableSwitchCheck"+o.id}),w("label",{className:"form-check-label",htmlFor:"inTableSwitchCheck"+o.id})]}),j("div",{className:"btn-group",children:[w("button",{onClick:()=>Mr().then(h=>{if(h.isConfirmed)return Ni().delete(o.id)}).catch(i.showError),className:"btn btn-outline-primary danger",type:"button",children:"-"}),w("button",{onClick:()=>ti("Please input the Column name",o.name).then(h=>{if(h.isConfirmed)return u({...o,name:h.value})}).catch(i.showError),className:"btn btn-outline-primary",type:"button",children:o.name})]})]}),w("td",{children:w("button",{onClick:()=>{const h=n.itemzz.map(p=>p.name);r.openCB("Select a type",h,function(p){return u({...o,type:p})})},className:"btn btn-outline-primary",type:"button",children:o.type})}),w("td",{children:w("input",{value:o.default,onChange:h=>u({...o,default:h.target.value}),type:"text",className:"form-control"})}),w("td",{onClick:function(){t.open(o.id)},children:w(E8,{item:o})})]})}function x8(e){const t=zr(),n=oi(),r=fC(),i=De(),[o,s]=H.exports.useState([]),u=Ti("CommonColumnName"),h=Ti("CommonColumnType"),p=n.itemzz.find(y=>y.name==="ModelBase");H.exports.useEffect(()=>{s(t.itemzz.filter(y=>y.entityId===e.entity.id))},[e.entity,t.itemzz]);function v(y,b,I,O=""){return Mu(e.entity.id,y,b,I,b==="decimal"?11:0,"",O).catch(i.showError)}return j("table",{className:"table",children:[j("caption",{children:[w("h3",{className:"inline me-3",children:"Column"}),p===void 0?w("span",{className:"text-danger",children:"File ModelBase not found"}):e.entity.isTable?w(Qa,{action:"",file:p,fullName:!0,entity:e.entity}):null]}),w("thead",{children:j("tr",{children:[w("th",{children:"inTable / name"}),w("th",{children:"type"}),w("th",{children:"default"}),w("th",{})]})}),w("tbody",{children:o.map(y=>w(C8,{item:y},y.id))}),w("tfoot",{children:j("tr",{children:[w("td",{children:w(En,{isAdd:!0,itemzz:u,value:0,change:(y,b)=>{b&&v(b.name,b.tag,b.value)}})}),w("td",{children:w(En,{isAdd:!0,itemzz:h,value:0,change:(y,b)=>{b&&v(b.name,b.tag,b.value)}})}),w("td",{children:w("span",{onClick:function(){r.openCB(e.entity.id,"import column",void 0,function(y){if(y!=="")try{const b=JSON.parse(y);if(Array.isArray(b)===!1){i.showDanger("text is not JSON array");return}b.forEach(I=>{var O,k,E;typeof I=="string"&&(I={name:I}),v((O=I.name)!=null?O:"",(k=I.type)!=null?k:"","",(E=I.comment)!=null?E:"")})}catch(b){i.showError(b)}})},className:"btn btn-outline-primary",children:"import"})}),w("td",{})]})})]})}function N8(e){const t=De();return j("table",{className:"table td0-tar",children:[w("caption",{children:w("h3",{className:"inline me-3",children:"Detail"})}),j("tbody",{children:[j("tr",{children:[w("td",{children:"color"}),w("td",{children:w(ya,{color:e.item.color,setColor:n=>vi().update({...e.item,color:n}).catch(t.showError)})})]}),j("tr",{children:[w("td",{children:"isTable"}),w("td",{children:j("div",{className:"form-check form-switch",children:[w("input",{checked:e.item.isTable,onChange:n=>vi().update({...e.item,isTable:n.target.checked}).catch(t.showError),className:"form-check-input",type:"checkbox",role:"switch",id:"isTableSwitchCheck"+e.item.id}),w("label",{className:"form-check-label",htmlFor:"isTableSwitchCheck"+e.item.id})]})})]}),j("tr",{children:[w("td",{children:"table"}),j("td",{children:[w("button",{onClick:()=>Bn("Please input the table name",e.item.table).then(n=>{if(n.isConfirmed)return vi().update({...e.item,table:n.value})}).catch(t.showError),className:"btn btn-outline-primary",type:"button",children:e.item.table?e.item.table:e.item.name}),w("span",{className:"ms-2",children:"leave it empty to use the Entity name as table name"})]})]}),j("tr",{children:[w("td",{children:"description"}),w("td",{children:w("textarea",{rows:3,value:e.item.description,onChange:n=>vi().update({...e.item,description:n.target.value}),className:"form-control"})})]})]})]})}var df=(e=>(e.Action="Action",e.Cache="Cache",e.Command="Command",e.Controller="Controller",e.Entity="Entity",e.Event="Event",e.Factory="Factory",e.Model="Model",e.Repository="Repository",e.Request="Request",e.Response="Response",e.Service="Service",e.Test="Test",e.View="View",e))(df||{});const I8=Object.keys(df);function wD(e,t){return zP(Yv("code004")).then(r=>up().then(i=>{const o=r.data.data;if(!(e in o))throw new Error(e+" not found");const s={db:i,fileMap:o,entity:t,result:[]};return Ug in o&&ov(o[Ug],s),ov(o[e],s),s}))}function hf(e){var t;return j("button",{disabled:e.waiting||e.disabled,className:(t=e.className)!=null?t:"btn btn-outline-primary",onClick:e.onClick,type:"button",children:[e.waiting?w("div",{className:"spinner-border spinner-border-sm text-secondary me-1",role:"status"}):null,e.children]})}function O8(e){const t=Ja(),n=De(),[r,i]=H.exports.useState(e.item);function o(){const u=Ti("FakerMethod").map(h=>h.name);t.openCB("Select a method",u,function(h){s({...r,fakeMethod:h}).catch(n.showError)})}function s(u){return i(u),Ni().update(u).then(i).catch(n.showError)}return j("tr",{children:[w("td",{children:r.name}),j("td",{children:[j("div",{className:"form-check form-switch inline",children:[w("input",{checked:r.fakeRaw===!1,onChange:u=>s({...r,fakeRaw:u.target.checked===!1}),className:"form-check-input",type:"checkbox",role:"switch",id:"fakeRowSwitchCheck"+r.id}),w("label",{className:"form-check-label",htmlFor:"fakeRowSwitchCheck"+r.id})]}),r.fakeRaw?null:j(Zt,{children:[j("div",{className:"form-check form-switch inline",children:[w("input",{checked:r.fakeUnique,onChange:u=>s({...r,fakeUnique:u.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"fakeUniqueSwitchCheck"+r.id}),w("label",{className:"form-check-label",htmlFor:"fakeUniqueSwitchCheck"+r.id,children:"unique"})]}),w("button",{onClick:o,className:"btn btn-outline-primary ms-1",children:r.fakeMethod===""?"+":r.fakeMethod})]})]}),w("td",{children:w("input",{value:r.fakeText,onChange:u=>s({...r,fakeText:u.target.value}),type:"text",className:"form-control"})})]})}function T8(e){const t=zr(),n=oi(),r=De(),[i,o]=H.exports.useState([]),[s,u]=H.exports.useState(!1),h=n.itemzz.find(p=>p.name===df.Factory);return H.exports.useEffect(()=>{o(t.itemzz.filter(p=>p.entityId===e.entity.id))},[e.entity,t.itemzz]),j("table",{className:"table",children:[j("caption",{children:[w("h3",{className:"inline me-3",children:"Factory"}),h===void 0?j("span",{className:"text-danger",children:["File ",df.Factory," not found"]}):w(Qa,{action:"",className:"me-3",file:h,fullName:!0,entity:e.entity}),w(ni,{href:"https://laravel.com/docs/9.x/eloquent-factories",children:"doc"})]}),w("thead",{children:j("tr",{children:[w("th",{children:"column"}),w("th",{children:"Faker"}),w("th",{children:"PHP expression"})]})}),w("tbody",{children:i.map(p=>w(O8,{item:p},p.id))}),w("tfoot",{children:w("tr",{children:j("td",{colSpan:3,children:[j("div",{className:"btn-group me-3",children:[w(ha,{file:ll(vT),content:Jt.ScriptCode}),w(hf,{waiting:s,onClick:function(){u(!0),wD(vT,e.entity).then(p=>Ni().updateMany(p.result)).then(()=>{u(!1),r.showSuccess("Select other Entity to see changes")}).catch(p=>{u(!1),r.showError(p)})},children:"Run"})]}),"set fake value (select other Entity to see changes)"]})})})]})}function bD(e){const t=ao();function n(r){const i=t.treeHelper.getFileFullName(r,e.entity,""),o=i.lastIndexOf("/");return o===-1?"/":i.slice(0,o)}return j("tr",{children:[j("td",{children:[j("div",{className:"btn-group me-2",children:[w(ha,{file:ll(sl(e.item,Hv)),content:Jt.ScriptCode}),w(ha,{file:ll(sl(e.item,Gv)),content:""})]}),e.item.name]}),j("td",{children:[w("div",{children:n(e.item)}),w(Qa,{action:"",file:e.item,entity:e.entity,ma:e.ma,module:e.module})]})]})}function SD(e){const t=oi(),n=zu(),[r,i]=H.exports.useState([]),[o,s]=H.exports.useState("");return H.exports.useEffect(()=>{if(o.length){const u=hC(o);i(t.itemzz.filter(h=>h.name.match(u)).sort((h,p)=>h.directoryId===p.directoryId?h.name.localeCompare(p.name):h.directoryId-p.directoryId));return}if(n.fileColor==="#fff"){i(t.itemzz);return}i(t.itemzz.filter(u=>u.color===n.fileColor).sort((u,h)=>u.directoryId===h.directoryId?u.name.localeCompare(h.name):u.directoryId-h.directoryId))},[n.fileColor,o]),j("table",{className:"table table-sm table-striped",children:[j("caption",{children:[w("h3",{className:"inline me-3",children:"File"}),w("span",{children:"generate files"}),w(ya,{color:n.fileColor,setColor:u=>n.setFileColor(u)}),w("input",{className:"form-control",value:o,onChange:function(u){s(u.target.value)},type:"text"})]}),w("thead",{children:j("tr",{children:[w("td",{children:"edit script / template"}),w("td",{children:"file"})]})}),w("tbody",{children:r.map(u=>w(bD,{entity:e.entity,item:u,ma:e.ma,module:e.module},u.id))})]})}var ED=(e=>(e.index="index",e.unique="unique",e))(ED||{});const K_=Object.keys(ED),CD=vt(function(e,t){return Xa(e,t,ah())});function Ei(e,t){return`-- ${e} ${t} not found --`}function _8(e){var n,r;const t=De();return j(Zt,{children:[w("button",{onClick:function(){sh().delete(e.item.id).then(()=>e.refresh()).catch(t.showError)},className:"button danger",type:"button",children:"-"}),(r=(n=e.cicm.get(e.item.columnId))==null?void 0:n.name)!=null?r:Ei("Column",e.item.columnId)]})}function _S(e,t){return _S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_S(e,t)}function xD(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_S(e,t)}function mt(){return mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mt.apply(this,arguments)}function A8(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function q_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V_(Object(n),!0).forEach(function(r){A8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hr(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var H_=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Wb=function(){return Math.random().toString(36).substring(7).split("").join(".")},G_={INIT:"@@redux/INIT"+Wb(),REPLACE:"@@redux/REPLACE"+Wb(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Wb()}};function R8(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function ND(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Hr(0));if(typeof t=="function"&&typeof n=="undefined"&&(n=t,t=void 0),typeof n!="undefined"){if(typeof n!="function")throw new Error(Hr(1));return n(ND)(e,t)}if(typeof e!="function")throw new Error(Hr(2));var i=e,o=t,s=[],u=s,h=!1;function p(){u===s&&(u=s.slice())}function v(){if(h)throw new Error(Hr(3));return o}function y(k){if(typeof k!="function")throw new Error(Hr(4));if(h)throw new Error(Hr(5));var E=!0;return p(),u.push(k),function(){if(!!E){if(h)throw new Error(Hr(6));E=!1,p();var N=u.indexOf(k);u.splice(N,1),s=null}}}function b(k){if(!R8(k))throw new Error(Hr(7));if(typeof k.type=="undefined")throw new Error(Hr(8));if(h)throw new Error(Hr(9));try{h=!0,o=i(o,k)}finally{h=!1}for(var E=s=u,S=0;S<E.length;S++){var N=E[S];N()}return k}function I(k){if(typeof k!="function")throw new Error(Hr(10));i=k,b({type:G_.REPLACE})}function O(){var k,E=y;return k={subscribe:function(N){if(typeof N!="object"||N===null)throw new Error(Hr(11));function _(){N.next&&N.next(v())}_();var T=E(_);return{unsubscribe:T}}},k[H_]=function(){return this},k}return b({type:G_.INIT}),r={dispatch:b,subscribe:y,getState:v,replaceReducer:I},r[H_]=O,r}function Y_(e,t){return function(){return t(e.apply(this,arguments))}}function X_(e,t){if(typeof e=="function")return Y_(e,t);if(typeof e!="object"||e===null)throw new Error(Hr(16));var n={};for(var r in e){var i=e[r];typeof i=="function"&&(n[r]=Y_(i,t))}return n}function ID(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function P8(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(Hr(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},u=t.map(function(h){return h(s)});return o=ID.apply(void 0,u)(i.dispatch),q_(q_({},i),{},{dispatch:o})}}}var OD=kr.createContext(null);function k8(e){e()}var TD=k8,D8=function(t){return TD=t},L8=function(){return TD};function M8(){var e=L8(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e(function(){for(var i=t;i;)i.callback(),i=i.next})},get:function(){for(var i=[],o=t;o;)i.push(o),o=o.next;return i},subscribe:function(i){var o=!0,s=n={callback:i,next:null,prev:n};return s.prev?s.prev.next=s:t=s,function(){!o||t===null||(o=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var J_={notify:function(){},get:function(){return[]}};function _D(e,t){var n,r=J_;function i(y){return h(),r.subscribe(y)}function o(){r.notify()}function s(){v.onStateChange&&v.onStateChange()}function u(){return Boolean(n)}function h(){n||(n=t?t.addNestedSub(s):e.subscribe(s),r=M8())}function p(){n&&(n(),n=void 0,r.clear(),r=J_)}var v={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:s,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:function(){return r}};return v}var AD=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?H.exports.useLayoutEffect:H.exports.useEffect;function z8(e){var t=e.store,n=e.context,r=e.children,i=H.exports.useMemo(function(){var u=_D(t);return{store:t,subscription:u}},[t]),o=H.exports.useMemo(function(){return t.getState()},[t]);AD(function(){var u=i.subscription;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==t.getState()&&u.notifyNestedSubs(),function(){u.tryUnsubscribe(),u.onStateChange=null}},[i,o]);var s=n||OD;return w(s.Provider,{value:i,children:r})}function sv(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var RD={exports:{}},en={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zn=typeof Symbol=="function"&&Symbol.for,kC=Zn?Symbol.for("react.element"):60103,DC=Zn?Symbol.for("react.portal"):60106,uy=Zn?Symbol.for("react.fragment"):60107,cy=Zn?Symbol.for("react.strict_mode"):60108,fy=Zn?Symbol.for("react.profiler"):60114,dy=Zn?Symbol.for("react.provider"):60109,hy=Zn?Symbol.for("react.context"):60110,LC=Zn?Symbol.for("react.async_mode"):60111,py=Zn?Symbol.for("react.concurrent_mode"):60111,my=Zn?Symbol.for("react.forward_ref"):60112,gy=Zn?Symbol.for("react.suspense"):60113,B8=Zn?Symbol.for("react.suspense_list"):60120,vy=Zn?Symbol.for("react.memo"):60115,yy=Zn?Symbol.for("react.lazy"):60116,F8=Zn?Symbol.for("react.block"):60121,U8=Zn?Symbol.for("react.fundamental"):60117,$8=Zn?Symbol.for("react.responder"):60118,W8=Zn?Symbol.for("react.scope"):60119;function Pi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case kC:switch(e=e.type,e){case LC:case py:case uy:case fy:case cy:case gy:return e;default:switch(e=e&&e.$$typeof,e){case hy:case my:case yy:case vy:case dy:return e;default:return t}}case DC:return t}}}function PD(e){return Pi(e)===py}en.AsyncMode=LC;en.ConcurrentMode=py;en.ContextConsumer=hy;en.ContextProvider=dy;en.Element=kC;en.ForwardRef=my;en.Fragment=uy;en.Lazy=yy;en.Memo=vy;en.Portal=DC;en.Profiler=fy;en.StrictMode=cy;en.Suspense=gy;en.isAsyncMode=function(e){return PD(e)||Pi(e)===LC};en.isConcurrentMode=PD;en.isContextConsumer=function(e){return Pi(e)===hy};en.isContextProvider=function(e){return Pi(e)===dy};en.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===kC};en.isForwardRef=function(e){return Pi(e)===my};en.isFragment=function(e){return Pi(e)===uy};en.isLazy=function(e){return Pi(e)===yy};en.isMemo=function(e){return Pi(e)===vy};en.isPortal=function(e){return Pi(e)===DC};en.isProfiler=function(e){return Pi(e)===fy};en.isStrictMode=function(e){return Pi(e)===cy};en.isSuspense=function(e){return Pi(e)===gy};en.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===uy||e===py||e===fy||e===cy||e===gy||e===B8||typeof e=="object"&&e!==null&&(e.$$typeof===yy||e.$$typeof===vy||e.$$typeof===dy||e.$$typeof===hy||e.$$typeof===my||e.$$typeof===U8||e.$$typeof===$8||e.$$typeof===W8||e.$$typeof===F8)};en.typeOf=Pi;RD.exports=en;var MC=RD.exports,j8={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},K8={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},V8={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},kD={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},zC={};zC[MC.ForwardRef]=V8;zC[MC.Memo]=kD;function Q_(e){return MC.isMemo(e)?kD:zC[e.$$typeof]||j8}var q8=Object.defineProperty,H8=Object.getOwnPropertyNames,Z_=Object.getOwnPropertySymbols,G8=Object.getOwnPropertyDescriptor,Y8=Object.getPrototypeOf,e1=Object.prototype;function DD(e,t,n){if(typeof t!="string"){if(e1){var r=Y8(t);r&&r!==e1&&DD(e,r,n)}var i=H8(t);Z_&&(i=i.concat(Z_(t)));for(var o=Q_(e),s=Q_(t),u=0;u<i.length;++u){var h=i[u];if(!K8[h]&&!(n&&n[h])&&!(s&&s[h])&&!(o&&o[h])){var p=G8(t,h);try{q8(e,h,p)}catch{}}}}return e}var t1=DD,LD={exports:{}},rn={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy=60103,by=60106,pp=60107,mp=60108,gp=60114,vp=60109,yp=60110,wp=60112,bp=60113,BC=60120,Sp=60115,Ep=60116,MD=60121,zD=60122,BD=60117,FD=60129,UD=60131;if(typeof Symbol=="function"&&Symbol.for){var ir=Symbol.for;wy=ir("react.element"),by=ir("react.portal"),pp=ir("react.fragment"),mp=ir("react.strict_mode"),gp=ir("react.profiler"),vp=ir("react.provider"),yp=ir("react.context"),wp=ir("react.forward_ref"),bp=ir("react.suspense"),BC=ir("react.suspense_list"),Sp=ir("react.memo"),Ep=ir("react.lazy"),MD=ir("react.block"),zD=ir("react.server.block"),BD=ir("react.fundamental"),FD=ir("react.debug_trace_mode"),UD=ir("react.legacy_hidden")}function Uo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case wy:switch(e=e.type,e){case pp:case gp:case mp:case bp:case BC:return e;default:switch(e=e&&e.$$typeof,e){case yp:case wp:case Ep:case Sp:case vp:return e;default:return t}}case by:return t}}}var X8=vp,J8=wy,Q8=wp,Z8=pp,e9=Ep,t9=Sp,n9=by,r9=gp,i9=mp,o9=bp;rn.ContextConsumer=yp;rn.ContextProvider=X8;rn.Element=J8;rn.ForwardRef=Q8;rn.Fragment=Z8;rn.Lazy=e9;rn.Memo=t9;rn.Portal=n9;rn.Profiler=r9;rn.StrictMode=i9;rn.Suspense=o9;rn.isAsyncMode=function(){return!1};rn.isConcurrentMode=function(){return!1};rn.isContextConsumer=function(e){return Uo(e)===yp};rn.isContextProvider=function(e){return Uo(e)===vp};rn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===wy};rn.isForwardRef=function(e){return Uo(e)===wp};rn.isFragment=function(e){return Uo(e)===pp};rn.isLazy=function(e){return Uo(e)===Ep};rn.isMemo=function(e){return Uo(e)===Sp};rn.isPortal=function(e){return Uo(e)===by};rn.isProfiler=function(e){return Uo(e)===gp};rn.isStrictMode=function(e){return Uo(e)===mp};rn.isSuspense=function(e){return Uo(e)===bp};rn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===pp||e===gp||e===FD||e===mp||e===bp||e===BC||e===UD||typeof e=="object"&&e!==null&&(e.$$typeof===Ep||e.$$typeof===Sp||e.$$typeof===vp||e.$$typeof===yp||e.$$typeof===wp||e.$$typeof===BD||e.$$typeof===MD||e[0]===zD)};rn.typeOf=Uo;LD.exports=rn;var a9=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],s9=["reactReduxForwardedRef"],l9=[],u9=[null,null];function c9(e,t){var n=e[1];return[t.payload,n+1]}function n1(e,t,n){AD(function(){return e.apply(void 0,t)},n)}function f9(e,t,n,r,i,o,s){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,s())}function d9(e,t,n,r,i,o,s,u,h,p){if(!!e){var v=!1,y=null,b=function(){if(!v){var k=t.getState(),E,S;try{E=r(k,i.current)}catch(N){S=N,y=N}S||(y=null),E===o.current?s.current||h():(o.current=E,u.current=E,s.current=!0,p({type:"STORE_UPDATED",payload:{error:S}}))}};n.onStateChange=b,n.trySubscribe(),b();var I=function(){if(v=!0,n.tryUnsubscribe(),n.onStateChange=null,y)throw y};return I}}var h9=function(){return[null,0]};function p9(e,t){t===void 0&&(t={});var n=t,r=n.getDisplayName,i=r===void 0?function(_){return"ConnectAdvanced("+_+")"}:r,o=n.methodName,s=o===void 0?"connectAdvanced":o,u=n.renderCountProp,h=u===void 0?void 0:u,p=n.shouldHandleStateChanges,v=p===void 0?!0:p,y=n.storeKey,b=y===void 0?"store":y;n.withRef;var I=n.forwardRef,O=I===void 0?!1:I,k=n.context,E=k===void 0?OD:k,S=sv(n,a9),N=E;return function(T){var M=T.displayName||T.name||"Component",R=i(M),B=mt({},S,{getDisplayName:i,methodName:s,renderCountProp:h,shouldHandleStateChanges:v,storeKey:b,displayName:R,wrappedComponentName:M,WrappedComponent:T}),U=S.pure;function F(q){return e(q.dispatch,B)}var z=U?H.exports.useMemo:function(q){return q()};function $(q){var re=H.exports.useMemo(function(){var Pe=q.reactReduxForwardedRef,Ie=sv(q,s9);return[q.context,Pe,Ie]},[q]),ne=re[0],Q=re[1],X=re[2],J=H.exports.useMemo(function(){return ne&&ne.Consumer&&LD.exports.isContextConsumer(kr.createElement(ne.Consumer,null))?ne:N},[ne,N]),ie=H.exports.useContext(J),oe=Boolean(q.store)&&Boolean(q.store.getState)&&Boolean(q.store.dispatch);Boolean(ie)&&Boolean(ie.store);var ce=oe?q.store:ie.store,ye=H.exports.useMemo(function(){return F(ce)},[ce]),ge=H.exports.useMemo(function(){if(!v)return u9;var Pe=_D(ce,oe?null:ie.subscription),Ie=Pe.notifyNestedSubs.bind(Pe);return[Pe,Ie]},[ce,oe,ie]),fe=ge[0],ze=ge[1],Ke=H.exports.useMemo(function(){return oe?ie:mt({},ie,{subscription:fe})},[oe,ie,fe]),Ae=H.exports.useReducer(c9,l9,h9),_e=Ae[0],be=_e[0],Le=Ae[1];if(be&&be.error)throw be.error;var Re=H.exports.useRef(),rt=H.exports.useRef(X),at=H.exports.useRef(),yt=H.exports.useRef(!1),He=z(function(){return at.current&&X===rt.current?at.current:ye(ce.getState(),X)},[ce,be,X]);n1(f9,[rt,Re,yt,X,He,at,ze]),n1(d9,[v,ce,fe,ye,rt,Re,yt,at,ze,Le],[ce,fe,ye]);var le=H.exports.useMemo(function(){return w(T,{...He,ref:Q})},[Q,T,He]),ve=H.exports.useMemo(function(){return v?w(J.Provider,{value:Ke,children:le}):le},[J,le,Ke]);return ve}var G=U?kr.memo($):$;if(G.WrappedComponent=T,G.displayName=$.displayName=R,O){var te=kr.forwardRef(function(re,ne){return w(G,{...re,reactReduxForwardedRef:ne})});return te.displayName=R,te.WrappedComponent=T,t1(te,T)}return t1(G,T)}}function r1(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function jb(e,t){if(r1(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!r1(e[n[i]],t[n[i]]))return!1;return!0}function m9(e,t){var n={},r=function(s){var u=e[s];typeof u=="function"&&(n[s]=function(){return t(u.apply(void 0,arguments))})};for(var i in e)r(i);return n}function FC(e){return function(n,r){var i=e(n,r);function o(){return i}return o.dependsOnOwnProps=!1,o}}function i1(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?Boolean(e.dependsOnOwnProps):e.length!==1}function $D(e,t){return function(r,i){i.displayName;var o=function(u,h){return o.dependsOnOwnProps?o.mapToProps(u,h):o.mapToProps(u)};return o.dependsOnOwnProps=!0,o.mapToProps=function(u,h){o.mapToProps=e,o.dependsOnOwnProps=i1(e);var p=o(u,h);return typeof p=="function"&&(o.mapToProps=p,o.dependsOnOwnProps=i1(p),p=o(u,h)),p},o}}function g9(e){return typeof e=="function"?$D(e):void 0}function v9(e){return e?void 0:FC(function(t){return{dispatch:t}})}function y9(e){return e&&typeof e=="object"?FC(function(t){return m9(e,t)}):void 0}var w9=[g9,v9,y9];function b9(e){return typeof e=="function"?$D(e):void 0}function S9(e){return e?void 0:FC(function(){return{}})}var E9=[b9,S9];function C9(e,t,n){return mt({},n,e,t)}function x9(e){return function(n,r){r.displayName;var i=r.pure,o=r.areMergedPropsEqual,s=!1,u;return function(p,v,y){var b=e(p,v,y);return s?(!i||!o(b,u))&&(u=b):(s=!0,u=b),u}}}function N9(e){return typeof e=="function"?x9(e):void 0}function I9(e){return e?void 0:function(){return C9}}var O9=[N9,I9],T9=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function _9(e,t,n,r){return function(o,s){return n(e(o,s),t(r,s),s)}}function A9(e,t,n,r,i){var o=i.areStatesEqual,s=i.areOwnPropsEqual,u=i.areStatePropsEqual,h=!1,p,v,y,b,I;function O(_,T){return p=_,v=T,y=e(p,v),b=t(r,v),I=n(y,b,v),h=!0,I}function k(){return y=e(p,v),t.dependsOnOwnProps&&(b=t(r,v)),I=n(y,b,v),I}function E(){return e.dependsOnOwnProps&&(y=e(p,v)),t.dependsOnOwnProps&&(b=t(r,v)),I=n(y,b,v),I}function S(){var _=e(p,v),T=!u(_,y);return y=_,T&&(I=n(y,b,v)),I}function N(_,T){var M=!s(T,v),R=!o(_,p);return p=_,v=T,M&&R?k():M?E():R?S():I}return function(T,M){return h?N(T,M):O(T,M)}}function R9(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=sv(t,T9),s=n(e,o),u=r(e,o),h=i(e,o),p=o.pure?A9:_9;return p(s,u,h,e,o)}var P9=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Kb(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(o,s){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+s.wrappedComponentName+".")}}function k9(e,t){return e===t}function D9(e){var t=e===void 0?{}:e,n=t.connectHOC,r=n===void 0?p9:n,i=t.mapStateToPropsFactories,o=i===void 0?E9:i,s=t.mapDispatchToPropsFactories,u=s===void 0?w9:s,h=t.mergePropsFactories,p=h===void 0?O9:h,v=t.selectorFactory,y=v===void 0?R9:v;return function(I,O,k,E){E===void 0&&(E={});var S=E,N=S.pure,_=N===void 0?!0:N,T=S.areStatesEqual,M=T===void 0?k9:T,R=S.areOwnPropsEqual,B=R===void 0?jb:R,U=S.areStatePropsEqual,F=U===void 0?jb:U,z=S.areMergedPropsEqual,$=z===void 0?jb:z,G=sv(S,P9),te=Kb(I,o,"mapStateToProps"),q=Kb(O,u,"mapDispatchToProps"),re=Kb(k,p,"mergeProps");return r(y,mt({methodName:"connect",getDisplayName:function(Q){return"Connect("+Q+")"},shouldHandleStateChanges:Boolean(I),initMapStateToProps:te,initMapDispatchToProps:q,initMergeProps:re,pure:_,areStatesEqual:M,areOwnPropsEqual:B,areStatePropsEqual:F,areMergedPropsEqual:$},G))}}var WD=D9();D8(Zh.exports.unstable_batchedUpdates);function L9(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function jD(e,t){var n=H.exports.useState(function(){return{inputs:t,result:e()}})[0],r=H.exports.useRef(!0),i=H.exports.useRef(n),o=r.current||Boolean(t&&i.current.inputs&&L9(t,i.current.inputs)),s=o?i.current:{inputs:t,result:e()};return H.exports.useEffect(function(){r.current=!1,i.current=s},[s]),s.result}function M9(e,t){return jD(function(){return e},t)}var zt=jD,nt=M9,z9=!0,Vb="Invariant failed";function B9(e,t){if(!e){if(z9)throw new Error(Vb);var n=typeof t=="function"?t():t,r=n?Vb+": "+n:Vb;throw new Error(r)}}var Ao=function(t){var n=t.top,r=t.right,i=t.bottom,o=t.left,s=r-o,u=i-n,h={top:n,right:r,bottom:i,left:o,width:s,height:u,x:o,y:n,center:{x:(r+o)/2,y:(i+n)/2}};return h},UC=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},o1=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},F9=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},qb={top:0,right:0,bottom:0,left:0},$C=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?qb:r,o=t.border,s=o===void 0?qb:o,u=t.padding,h=u===void 0?qb:u,p=Ao(UC(n,i)),v=Ao(o1(n,s)),y=Ao(o1(v,h));return{marginBox:p,borderBox:Ao(n),paddingBox:v,contentBox:y,margin:i,border:s,padding:h}},Ki=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&B9(!1),i},U9=function(){return{x:window.pageXOffset,y:window.pageYOffset}},lv=function(t,n){var r=t.borderBox,i=t.border,o=t.margin,s=t.padding,u=F9(r,n);return $C({borderBox:u,border:i,margin:o,padding:s})},uv=function(t,n){return n===void 0&&(n=U9()),lv(t,n)},KD=function(t,n){var r={top:Ki(n.marginTop),right:Ki(n.marginRight),bottom:Ki(n.marginBottom),left:Ki(n.marginLeft)},i={top:Ki(n.paddingTop),right:Ki(n.paddingRight),bottom:Ki(n.paddingBottom),left:Ki(n.paddingLeft)},o={top:Ki(n.borderTopWidth),right:Ki(n.borderRightWidth),bottom:Ki(n.borderBottomWidth),left:Ki(n.borderLeftWidth)};return $C({borderBox:t,margin:r,padding:i,border:o})},VD=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return KD(n,r)},a1=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function $9(e,t){return!!(e===t||a1(e)&&a1(t))}function W9(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!$9(e[n],t[n]))return!1;return!0}function Yn(e,t){t===void 0&&(t=W9);var n,r=[],i,o=!1;function s(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];return o&&n===this&&t(u,r)||(i=e.apply(this,u),o=!0,n=this,r=u),i}return s}var j9=function(t){var n=[],r=null,i=function(){for(var s=arguments.length,u=new Array(s),h=0;h<s;h++)u[h]=arguments[h];n=u,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){!r||(cancelAnimationFrame(r),r=null)},i},jh=j9;function qD(e,t){}qD.bind(null,"warn");qD.bind(null,"error");function Qs(){}function K9(e,t){return mt({},e,{},t)}function Yi(e,t,n){var r=t.map(function(i){var o=K9(n,i.options);return e.addEventListener(i.eventName,i.fn,o),function(){e.removeEventListener(i.eventName,i.fn,o)}});return function(){r.forEach(function(o){o()})}}var V9="Invariant failed";function cv(e){this.message=e}cv.prototype.toString=function(){return this.message};function Me(e,t){if(!e)throw new cv(V9)}var q9=function(e){xD(t,e);function t(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o))||this,r.callbacks=null,r.unbind=Qs,r.onWindowError=function(u){var h=r.getCallbacks();h.isDragging()&&h.tryAbort();var p=u.error;p instanceof cv&&u.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(u){r.callbacks=u},r}var n=t.prototype;return n.componentDidMount=function(){this.unbind=Yi(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(i){if(i instanceof cv){this.setState({});return}throw i},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(kr.Component),H9=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,fv=function(t){return t+1},G9=function(t){return`
  You have lifted an item in position `+fv(t.source.index)+`
`},HD=function(t,n){var r=t.droppableId===n.droppableId,i=fv(t.index),o=fv(n.index);return r?`
      You have moved the item from position `+i+`
      to position `+o+`
    `:`
    You have moved the item from position `+i+`
    in list `+t.droppableId+`
    to list `+n.droppableId+`
    in position `+o+`
  `},GD=function(t,n,r){var i=n.droppableId===r.droppableId;return i?`
      The item `+t+`
      has been combined with `+r.draggableId:`
      The item `+t+`
      in list `+n.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},Y9=function(t){var n=t.destination;if(n)return HD(t.source,n);var r=t.combine;return r?GD(t.draggableId,t.source,r):"You are over an area that cannot be dropped on"},s1=function(t){return`
  The item has returned to its starting position
  of `+fv(t.index)+`
`},X9=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+s1(t.source)+`
    `;var n=t.destination,r=t.combine;return n?`
      You have dropped the item.
      `+HD(t.source,n)+`
    `:r?`
      You have dropped the item.
      `+GD(t.draggableId,t.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+s1(t.source)+`
  `},ng={dragHandleUsageInstructions:H9,onDragStart:G9,onDragUpdate:Y9,onDragEnd:X9},Qn={x:0,y:0},ur=function(t,n){return{x:t.x+n.x,y:t.y+n.y}},wi=function(t,n){return{x:t.x-n.x,y:t.y-n.y}},Zs=function(t,n){return t.x===n.x&&t.y===n.y},Lf=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},xu=function(t,n,r){var i;return r===void 0&&(r=0),i={},i[t]=n,i[t==="x"?"y":"x"]=r,i},Kh=function(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))},l1=function(t,n){return Math.min.apply(Math,n.map(function(r){return Kh(t,r)}))},YD=function(t){return function(n){return{x:t(n.x),y:t(n.y)}}},J9=function(e,t){var n=Ao({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n},Cp=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},u1=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},Q9={top:0,right:0,bottom:0,left:0},Z9=function(t,n){return n?Cp(t,n.scroll.diff.displacement):t},e7=function(t,n,r){if(r&&r.increasedBy){var i;return mt({},t,(i={},i[n.end]=t[n.end]+r.increasedBy[n.line],i))}return t},t7=function(t,n){return n&&n.shouldClipSubject?J9(n.pageMarginBox,t):Ao(t)},pf=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,i=e.frame,o=Z9(t.marginBox,i),s=e7(o,r,n),u=t7(s,i);return{page:t,withPlaceholder:n,active:u}},WC=function(e,t){e.frame||Me(!1);var n=e.frame,r=wi(t,n.scroll.initial),i=Lf(r),o=mt({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}}),s=pf({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o}),u=mt({},e,{frame:o,subject:s});return u};function dv(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function jC(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function ml(e,t){if(e.find)return e.find(t);var n=jC(e,t);if(n!==-1)return e[n]}function XD(e){return Array.prototype.slice.call(e)}var JD=Yn(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),QD=Yn(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),Sy=Yn(function(e){return dv(e)}),n7=Yn(function(e){return dv(e)}),Mf=Yn(function(e,t){var n=n7(t).filter(function(r){return e===r.descriptor.droppableId}).sort(function(r,i){return r.descriptor.index-i.descriptor.index});return n});function KC(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Ey(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Cy=Yn(function(e,t){return t.filter(function(n){return n.descriptor.id!==e.descriptor.id})}),r7=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.previousImpact;if(!r.isCombineEnabled)return null;var s=KC(o);if(!s)return null;function u(k){var E={type:"COMBINE",combine:{draggableId:k,droppableId:r.descriptor.id}};return mt({},o,{at:E})}var h=o.displaced.all,p=h.length?h[0]:null;if(t)return p?u(p):null;var v=Cy(n,i);if(!p){if(!v.length)return null;var y=v[v.length-1];return u(y.descriptor.id)}var b=jC(v,function(k){return k.descriptor.id===p});b===-1&&Me(!1);var I=b-1;if(I<0)return null;var O=v[I];return u(O.descriptor.id)},zf=function(e,t){return e.descriptor.droppableId===t.descriptor.id},ZD={point:Qn,value:0},Vh={invisible:{},visible:{},all:[]},i7={displaced:Vh,displacedBy:ZD,at:null},Qi=function(e,t){return function(n){return e<=n&&n<=t}},eL=function(e){var t=Qi(e.top,e.bottom),n=Qi(e.left,e.right);return function(r){var i=t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right);if(i)return!0;var o=t(r.top)||t(r.bottom),s=n(r.left)||n(r.right),u=o&&s;if(u)return!0;var h=r.top<e.top&&r.bottom>e.bottom,p=r.left<e.left&&r.right>e.right,v=h&&p;if(v)return!0;var y=h&&s||p&&o;return y}},o7=function(e){var t=Qi(e.top,e.bottom),n=Qi(e.left,e.right);return function(r){var i=t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right);return i}},VC={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},tL={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},a7=function(e){return function(t){var n=Qi(t.top,t.bottom),r=Qi(t.left,t.right);return function(i){return e===VC?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)}}},s7=function(t,n){var r=n.frame?n.frame.scroll.diff.displacement:Qn;return Cp(t,r)},l7=function(t,n,r){return n.subject.active?r(n.subject.active)(t):!1},u7=function(t,n,r){return r(n)(t)},qC=function(t){var n=t.target,r=t.destination,i=t.viewport,o=t.withDroppableDisplacement,s=t.isVisibleThroughFrameFn,u=o?s7(n,r):n;return l7(u,r,s)&&u7(u,i,s)},c7=function(t){return qC(mt({},t,{isVisibleThroughFrameFn:eL}))},nL=function(t){return qC(mt({},t,{isVisibleThroughFrameFn:o7}))},f7=function(t){return qC(mt({},t,{isVisibleThroughFrameFn:a7(t.destination.axis)}))},d7=function(t,n,r){if(typeof r=="boolean")return r;if(!n)return!0;var i=n.invisible,o=n.visible;if(i[t])return!1;var s=o[t];return s?s.shouldAnimate:!0};function h7(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Ao(UC(n,r))}function qh(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,i=e.viewport,o=e.forceShouldAnimate,s=e.last;return t.reduce(function(h,p){var v=h7(p,r),y=p.descriptor.id;h.all.push(y);var b=c7({target:v,destination:n,viewport:i,withDroppableDisplacement:!0});if(!b)return h.invisible[p.descriptor.id]=!0,h;var I=d7(y,s,o),O={draggableId:y,shouldAnimate:I};return h.visible[y]=O,h},{all:[],visible:{},invisible:{}})}function p7(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function c1(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,i=e.destination,o=p7(t,{inHomeList:n});return{displaced:Vh,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function hv(e){var t=e.draggable,n=e.insideDestination,r=e.destination,i=e.viewport,o=e.displacedBy,s=e.last,u=e.index,h=e.forceShouldAnimate,p=zf(t,r);if(u==null)return c1({insideDestination:n,inHomeList:p,displacedBy:o,destination:r});var v=ml(n,function(k){return k.descriptor.index===u});if(!v)return c1({insideDestination:n,inHomeList:p,displacedBy:o,destination:r});var y=Cy(t,n),b=n.indexOf(v),I=y.slice(b),O=qh({afterDragging:I,destination:r,displacedBy:o,last:s,viewport:i.frame,forceShouldAnimate:h});return{displaced:O,displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:u}}}}function ul(e,t){return Boolean(t.effected[e])}var m7=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,i=e.combine,o=e.afterCritical;if(!n.isCombineEnabled)return null;var s=i.draggableId,u=r[s],h=u.descriptor.index,p=ul(s,o);return p?t?h:h-1:t?h+1:h},g7=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,i=e.location;if(!r.length)return null;var o=i.index,s=t?o+1:o-1,u=r[0].descriptor.index,h=r[r.length-1].descriptor.index,p=n?h:h+1;return s<u||s>p?null:s},v7=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,i=e.draggables,o=e.destination,s=e.insideDestination,u=e.previousImpact,h=e.viewport,p=e.afterCritical,v=u.at;if(v||Me(!1),v.type==="REORDER"){var y=g7({isMovingForward:t,isInHomeList:n,location:v.destination,insideDestination:s});return y==null?null:hv({draggable:r,insideDestination:s,destination:o,viewport:h,last:u.displaced,displacedBy:u.displacedBy,index:y})}var b=m7({isMovingForward:t,destination:o,displaced:u.displaced,draggables:i,combine:v.combine,afterCritical:p});return b==null?null:hv({draggable:r,insideDestination:s,destination:o,viewport:h,last:u.displaced,displacedBy:u.displacedBy,index:b})},y7=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,i=e.displacedBy,o=Boolean(t.visible[r]||t.invisible[r]);return ul(r,n)?o?Qn:Lf(i.point):o?i.point:Qn},w7=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,i=Ey(n);i||Me(!1);var o=i.draggableId,s=r[o].page.borderBox.center,u=y7({displaced:n.displaced,afterCritical:t,combineWith:o,displacedBy:n.displacedBy});return ur(s,u)},rL=function(t,n){return n.margin[t.start]+n.borderBox[t.size]/2},b7=function(t,n){return n.margin[t.end]+n.borderBox[t.size]/2},HC=function(t,n,r){return n[t.crossAxisStart]+r.margin[t.crossAxisStart]+r.borderBox[t.crossAxisSize]/2},f1=function(t){var n=t.axis,r=t.moveRelativeTo,i=t.isMoving;return xu(n.line,r.marginBox[n.end]+rL(n,i),HC(n,r.marginBox,i))},d1=function(t){var n=t.axis,r=t.moveRelativeTo,i=t.isMoving;return xu(n.line,r.marginBox[n.start]-b7(n,i),HC(n,r.marginBox,i))},S7=function(t){var n=t.axis,r=t.moveInto,i=t.isMoving;return xu(n.line,r.contentBox[n.start]+rL(n,i),HC(n,r.contentBox,i))},E7=function(e){var t=e.impact,n=e.draggable,r=e.draggables,i=e.droppable,o=e.afterCritical,s=Mf(i.descriptor.id,r),u=n.page,h=i.axis;if(!s.length)return S7({axis:h,moveInto:i.page,isMoving:u});var p=t.displaced,v=t.displacedBy,y=p.all[0];if(y){var b=r[y];if(ul(y,o))return d1({axis:h,moveRelativeTo:b.page,isMoving:u});var I=lv(b.page,v.point);return d1({axis:h,moveRelativeTo:I,isMoving:u})}var O=s[s.length-1];if(O.descriptor.id===n.descriptor.id)return u.borderBox.center;if(ul(O.descriptor.id,o)){var k=lv(O.page,Lf(o.displacedBy.point));return f1({axis:h,moveRelativeTo:k,isMoving:u})}return f1({axis:h,moveRelativeTo:O.page,isMoving:u})},AS=function(e,t){var n=e.frame;return n?ur(t,n.scroll.diff.displacement):t},C7=function(t){var n=t.impact,r=t.draggable,i=t.droppable,o=t.draggables,s=t.afterCritical,u=r.page.borderBox.center,h=n.at;return!i||!h?u:h.type==="REORDER"?E7({impact:n,draggable:r,draggables:o,droppable:i,afterCritical:s}):w7({impact:n,draggables:o,afterCritical:s})},xy=function(e){var t=C7(e),n=e.droppable,r=n?AS(n,t):t;return r},iL=function(e,t){var n=wi(t,e.scroll.initial),r=Lf(n),i=Ao({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),o={frame:i,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}};return o};function h1(e,t){return e.map(function(n){return t[n]})}function x7(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}var N7=function(e){var t=e.impact,n=e.viewport,r=e.destination,i=e.draggables,o=e.maxScrollChange,s=iL(n,ur(n.scroll.current,o)),u=r.frame?WC(r,ur(r.frame.scroll.current,o)):r,h=t.displaced,p=qh({afterDragging:h1(h.all,i),destination:r,displacedBy:t.displacedBy,viewport:s.frame,last:h,forceShouldAnimate:!1}),v=qh({afterDragging:h1(h.all,i),destination:u,displacedBy:t.displacedBy,viewport:n.frame,last:h,forceShouldAnimate:!1}),y={},b={},I=[h,p,v];h.all.forEach(function(k){var E=x7(k,I);if(E){b[k]=E;return}y[k]=!0});var O=mt({},t,{displaced:{all:h.all,invisible:y,visible:b}});return O},I7=function(e,t){return ur(e.scroll.diff.displacement,t)},GC=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=e.viewport,i=I7(r,t),o=wi(i,n.page.borderBox.center);return ur(n.client.borderBox.center,o)},oL=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,i=e.viewport,o=e.withDroppableDisplacement,s=e.onlyOnMainAxis,u=s===void 0?!1:s,h=wi(r,t.page.borderBox.center),p=Cp(t.page.borderBox,h),v={target:p,destination:n,withDroppableDisplacement:o,viewport:i};return u?f7(v):nL(v)},O7=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.draggables,o=e.previousImpact,s=e.viewport,u=e.previousPageBorderBoxCenter,h=e.previousClientSelection,p=e.afterCritical;if(!r.isEnabled)return null;var v=Mf(r.descriptor.id,i),y=zf(n,r),b=r7({isMovingForward:t,draggable:n,destination:r,insideDestination:v,previousImpact:o})||v7({isMovingForward:t,isInHomeList:y,draggable:n,draggables:i,destination:r,insideDestination:v,previousImpact:o,viewport:s,afterCritical:p});if(!b)return null;var I=xy({impact:b,draggable:n,droppable:r,draggables:i,afterCritical:p}),O=oL({draggable:n,destination:r,newPageBorderBoxCenter:I,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(O){var k=GC({pageBorderBoxCenter:I,draggable:n,viewport:s});return{clientSelection:k,impact:b,scrollJumpRequest:null}}var E=wi(I,u),S=N7({impact:b,viewport:s,destination:r,draggables:i,maxScrollChange:E});return{clientSelection:h,impact:S,scrollJumpRequest:E}},Rr=function(t){var n=t.subject.active;return n||Me(!1),n},T7=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,i=e.droppables,o=e.viewport,s=r.subject.active;if(!s)return null;var u=r.axis,h=Qi(s[u.start],s[u.end]),p=Sy(i).filter(function(y){return y!==r}).filter(function(y){return y.isEnabled}).filter(function(y){return Boolean(y.subject.active)}).filter(function(y){return eL(o.frame)(Rr(y))}).filter(function(y){var b=Rr(y);return t?s[u.crossAxisEnd]<b[u.crossAxisEnd]:b[u.crossAxisStart]<s[u.crossAxisStart]}).filter(function(y){var b=Rr(y),I=Qi(b[u.start],b[u.end]);return h(b[u.start])||h(b[u.end])||I(s[u.start])||I(s[u.end])}).sort(function(y,b){var I=Rr(y)[u.crossAxisStart],O=Rr(b)[u.crossAxisStart];return t?I-O:O-I}).filter(function(y,b,I){return Rr(y)[u.crossAxisStart]===Rr(I[0])[u.crossAxisStart]});if(!p.length)return null;if(p.length===1)return p[0];var v=p.filter(function(y){var b=Qi(Rr(y)[u.start],Rr(y)[u.end]);return b(n[u.line])});return v.length===1?v[0]:v.length>1?v.sort(function(y,b){return Rr(y)[u.start]-Rr(b)[u.start]})[0]:p.sort(function(y,b){var I=l1(n,u1(Rr(y))),O=l1(n,u1(Rr(b)));return I!==O?I-O:Rr(y)[u.start]-Rr(b)[u.start]})[0]},p1=function(t,n){var r=t.page.borderBox.center;return ul(t.descriptor.id,n)?wi(r,n.displacedBy.point):r},_7=function(t,n){var r=t.page.borderBox;return ul(t.descriptor.id,n)?Cp(r,Lf(n.displacedBy.point)):r},A7=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,i=e.insideDestination,o=e.afterCritical,s=i.filter(function(u){return nL({target:_7(u,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(u,h){var p=Kh(t,AS(r,p1(u,o))),v=Kh(t,AS(r,p1(h,o)));return p<v?-1:v<p?1:u.descriptor.index-h.descriptor.index});return s[0]||null},xp=Yn(function(t,n){var r=n[t.line];return{value:r,point:xu(t.line,r)}}),R7=function(t,n,r){var i=t.axis;if(t.descriptor.mode==="virtual")return xu(i.line,n[i.line]);var o=t.subject.page.contentBox[i.size],s=Mf(t.descriptor.id,r),u=s.reduce(function(v,y){return v+y.client.marginBox[i.size]},0),h=u+n[i.line],p=h-o;return p<=0?null:xu(i.line,p)},aL=function(t,n){return mt({},t,{scroll:mt({},t.scroll,{max:n})})},sL=function(t,n,r){var i=t.frame;zf(n,t)&&Me(!1),t.subject.withPlaceholder&&Me(!1);var o=xp(t.axis,n.displaceBy).point,s=R7(t,o,r),u={placeholderSize:o,increasedBy:s,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!i){var h=pf({page:t.subject.page,withPlaceholder:u,axis:t.axis,frame:t.frame});return mt({},t,{subject:h})}var p=s?ur(i.scroll.max,s):i.scroll.max,v=aL(i,p),y=pf({page:t.subject.page,withPlaceholder:u,axis:t.axis,frame:v});return mt({},t,{subject:y,frame:v})},P7=function(t){var n=t.subject.withPlaceholder;n||Me(!1);var r=t.frame;if(!r){var i=pf({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return mt({},t,{subject:i})}var o=n.oldFrameMaxScroll;o||Me(!1);var s=aL(r,o),u=pf({page:t.subject.page,axis:t.axis,frame:s,withPlaceholder:null});return mt({},t,{subject:u,frame:s})},k7=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,i=e.draggable,o=e.draggables,s=e.destination,u=e.viewport,h=e.afterCritical;if(!n){if(r.length)return null;var p={displaced:Vh,displacedBy:ZD,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},v=xy({impact:p,draggable:i,droppable:s,draggables:o,afterCritical:h}),y=zf(i,s)?s:sL(s,i,o),b=oL({draggable:i,destination:y,newPageBorderBoxCenter:v,viewport:u.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return b?p:null}var I=Boolean(t[s.axis.line]<=n.page.borderBox.center[s.axis.line]),O=function(){var E=n.descriptor.index;return n.descriptor.id===i.descriptor.id||I?E:E+1}(),k=xp(s.axis,i.displaceBy);return hv({draggable:i,insideDestination:r,destination:s,viewport:u,displacedBy:k,last:Vh,index:O})},D7=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,i=e.isOver,o=e.draggables,s=e.droppables,u=e.viewport,h=e.afterCritical,p=T7({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:s,viewport:u});if(!p)return null;var v=Mf(p.descriptor.id,o),y=A7({pageBorderBoxCenter:n,viewport:u,destination:p,insideDestination:v,afterCritical:h}),b=k7({previousPageBorderBoxCenter:n,destination:p,draggable:r,draggables:o,moveRelativeTo:y,insideDestination:v,viewport:u,afterCritical:h});if(!b)return null;var I=xy({impact:b,draggable:r,droppable:p,draggables:o,afterCritical:h}),O=GC({pageBorderBoxCenter:I,draggable:r,viewport:u});return{clientSelection:O,impact:b,scrollJumpRequest:null}},Ci=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},L7=function(t,n){var r=Ci(t);return r?n[r]:null},M7=function(e){var t=e.state,n=e.type,r=L7(t.impact,t.dimensions.droppables),i=Boolean(r),o=t.dimensions.droppables[t.critical.droppable.id],s=r||o,u=s.axis.direction,h=u==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||u==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(h&&!i)return null;var p=n==="MOVE_DOWN"||n==="MOVE_RIGHT",v=t.dimensions.draggables[t.critical.draggable.id],y=t.current.page.borderBoxCenter,b=t.dimensions,I=b.draggables,O=b.droppables;return h?O7({isMovingForward:p,previousPageBorderBoxCenter:y,draggable:v,destination:s,draggables:I,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):D7({isMovingForward:p,previousPageBorderBoxCenter:y,draggable:v,isOver:s,draggables:I,droppables:O,viewport:t.viewport,afterCritical:t.afterCritical})};function nu(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function lL(e){var t=Qi(e.top,e.bottom),n=Qi(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function z7(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function B7(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,i=n.page.borderBox.center,o=r.map(function(s){var u=s.axis,h=xu(s.axis.line,t.center[u.line],s.page.borderBox.center[u.crossAxisLine]);return{id:s.descriptor.id,distance:Kh(i,h)}}).sort(function(s,u){return u.distance-s.distance});return o[0]?o[0].id:null}function F7(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,i=Sy(r).filter(function(o){if(!o.isEnabled)return!1;var s=o.subject.active;if(!s||!z7(t,s))return!1;if(lL(s)(t.center))return!0;var u=o.axis,h=s.center[u.crossAxisLine],p=t[u.crossAxisStart],v=t[u.crossAxisEnd],y=Qi(s[u.crossAxisStart],s[u.crossAxisEnd]),b=y(p),I=y(v);return!b&&!I?!0:b?p<h:v>h});return i.length?i.length===1?i[0].descriptor.id:B7({pageBorderBox:t,draggable:n,candidates:i}):null}var uL=function(t,n){return Ao(Cp(t,n))},U7=function(e,t){var n=e.frame;return n?uL(t,n.scroll.diff.value):t};function cL(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}function $7(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var W7=function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.last,s=e.viewport,u=e.afterCritical,h=r.axis,p=xp(r.axis,n.displaceBy),v=p.value,y=t[h.start],b=t[h.end],I=Cy(n,i),O=ml(I,function(E){var S=E.descriptor.id,N=E.page.borderBox.center[h.line],_=ul(S,u),T=cL({displaced:o,id:S});return _?T?b<=N:y<N-v:T?b<=N+v:y<N}),k=$7({draggable:n,closest:O,inHomeList:zf(n,r)});return hv({draggable:n,insideDestination:i,destination:r,viewport:s,last:o,displacedBy:p,index:k})},j7=4,K7=function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,i=e.destination,o=e.insideDestination,s=e.afterCritical;if(!i.isCombineEnabled)return null;var u=i.axis,h=xp(i.axis,t.displaceBy),p=h.value,v=n[u.start],y=n[u.end],b=Cy(t,o),I=ml(b,function(k){var E=k.descriptor.id,S=k.page.borderBox,N=S[u.size],_=N/j7,T=ul(E,s),M=cL({displaced:r.displaced,id:E});return T?M?y>S[u.start]+_&&y<S[u.end]-_:v>S[u.start]-p+_&&v<S[u.end]-p-_:M?y>S[u.start]+p+_&&y<S[u.end]+p-_:v>S[u.start]+_&&v<S[u.end]-_});if(!I)return null;var O={displacedBy:h,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:I.descriptor.id,droppableId:i.descriptor.id}}};return O},fL=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,i=e.droppables,o=e.previousImpact,s=e.viewport,u=e.afterCritical,h=uL(n.page.borderBox,t),p=F7({pageBorderBox:h,draggable:n,droppables:i});if(!p)return i7;var v=i[p],y=Mf(v.descriptor.id,r),b=U7(v,h);return K7({pageBorderBoxWithDroppableScroll:b,draggable:n,previousImpact:o,destination:v,insideDestination:y,afterCritical:u})||W7({pageBorderBoxWithDroppableScroll:b,draggable:n,destination:v,insideDestination:y,last:o.displaced,viewport:s,afterCritical:u})},YC=function(e,t){var n;return mt({},e,(n={},n[t.descriptor.id]=t,n))},V7=function(t){var n=t.previousImpact,r=t.impact,i=t.droppables,o=Ci(n),s=Ci(r);if(!o||o===s)return i;var u=i[o];if(!u.subject.withPlaceholder)return i;var h=P7(u);return YC(i,h)},q7=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,i=e.previousImpact,o=e.impact,s=V7({previousImpact:i,impact:o,droppables:r}),u=Ci(o);if(!u)return s;var h=r[u];if(zf(t,h)||h.subject.withPlaceholder)return s;var p=sL(h,t,n);return YC(s,p)},ch=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,i=e.viewport,o=e.impact,s=e.scrollJumpRequest,u=i||t.viewport,h=r||t.dimensions,p=n||t.current.client.selection,v=wi(p,t.initial.client.selection),y={offset:v,selection:p,borderBoxCenter:ur(t.initial.client.borderBoxCenter,v)},b={selection:ur(y.selection,u.scroll.current),borderBoxCenter:ur(y.borderBoxCenter,u.scroll.current),offset:ur(y.offset,u.scroll.diff.value)},I={client:y,page:b};if(t.phase==="COLLECTING")return mt({phase:"COLLECTING"},t,{dimensions:h,viewport:u,current:I});var O=h.draggables[t.critical.draggable.id],k=o||fL({pageOffset:b.offset,draggable:O,draggables:h.draggables,droppables:h.droppables,previousImpact:t.impact,viewport:u,afterCritical:t.afterCritical}),E=q7({draggable:O,impact:k,previousImpact:t.impact,draggables:h.draggables,droppables:h.droppables}),S=mt({},t,{current:I,dimensions:{draggables:h.draggables,droppables:E},impact:k,viewport:u,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null});return S};function H7(e,t){return e.map(function(n){return t[n]})}var dL=function(e){var t=e.impact,n=e.viewport,r=e.draggables,i=e.destination,o=e.forceShouldAnimate,s=t.displaced,u=H7(s.all,r),h=qh({afterDragging:u,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:s});return mt({},t,{displaced:h})},hL=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,o=e.viewport,s=e.afterCritical,u=xy({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:s});return GC({pageBorderBoxCenter:u,draggable:n,viewport:o})},pL=function(e){var t=e.state,n=e.dimensions,r=e.viewport;t.movementMode!=="SNAP"&&Me(!1);var i=t.impact,o=r||t.viewport,s=n||t.dimensions,u=s.draggables,h=s.droppables,p=u[t.critical.draggable.id],v=Ci(i);v||Me(!1);var y=h[v],b=dL({impact:i,viewport:o,destination:y,draggables:u}),I=hL({impact:b,draggable:p,droppable:y,draggables:u,viewport:o,afterCritical:t.afterCritical});return ch({impact:b,clientSelection:I,state:t,dimensions:s,viewport:o})},G7=function(e){return{index:e.index,droppableId:e.droppableId}},mL=function(e){var t=e.draggable,n=e.home,r=e.draggables,i=e.viewport,o=xp(n.axis,t.displaceBy),s=Mf(n.descriptor.id,r),u=s.indexOf(t);u===-1&&Me(!1);var h=s.slice(u+1),p=h.reduce(function(I,O){return I[O.descriptor.id]=!0,I},{}),v={inVirtualList:n.descriptor.mode==="virtual",displacedBy:o,effected:p},y=qh({afterDragging:h,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),b={displaced:y,displacedBy:o,at:{type:"REORDER",destination:G7(t.descriptor)}};return{impact:b,afterCritical:v}},Y7=function(e,t){return{draggables:e.draggables,droppables:YC(e.droppables,t)}},X7=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,i=lv(t.client,n),o=uv(i,r),s=mt({},t,{placeholder:mt({},t.placeholder,{client:i}),client:i,page:o});return s},J7=function(e){var t=e.frame;return t||Me(!1),t},Q7=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,i=r.scroll.diff.value;return t.map(function(o){var s=o.descriptor.droppableId,u=n[s],h=J7(u),p=h.scroll.diff.value,v=ur(i,p),y=X7({draggable:o,offset:v,initialWindowScroll:r.scroll.initial});return y})},Z7=function(e){var t=e.state,n=e.published,r=n.modified.map(function(_){var T=t.dimensions.droppables[_.droppableId],M=WC(T,_.scroll);return M}),i=mt({},t.dimensions.droppables,{},JD(r)),o=QD(Q7({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),s=mt({},t.dimensions.draggables,{},o);n.removals.forEach(function(_){delete s[_]});var u={droppables:i,draggables:s},h=Ci(t.impact),p=h?u.droppables[h]:null,v=u.draggables[t.critical.draggable.id],y=u.droppables[t.critical.droppable.id],b=mL({draggable:v,home:y,draggables:s,viewport:t.viewport}),I=b.impact,O=b.afterCritical,k=p&&p.isCombineEnabled?t.impact:I,E=fL({pageOffset:t.current.page.offset,draggable:u.draggables[t.critical.draggable.id],draggables:u.draggables,droppables:u.droppables,previousImpact:k,viewport:t.viewport,afterCritical:O}),S=mt({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:E,onLiftImpact:I,dimensions:u,afterCritical:O,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return S;var N=mt({phase:"DROP_PENDING"},S,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return N},RS=function(t){return t.movementMode==="SNAP"},Hb=function(t,n,r){var i=Y7(t.dimensions,n);return!RS(t)||r?ch({state:t,dimensions:i}):pL({state:t,dimensions:i})};function Gb(e){return e.isDragging&&e.movementMode==="SNAP"?mt({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var m1={phase:"IDLE",completed:null,shouldFlush:!1},eX=function(e,t){if(e===void 0&&(e=m1),t.type==="FLUSH")return mt({},m1,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Me(!1);var n=t.payload,r=n.critical,i=n.clientSelection,o=n.viewport,s=n.dimensions,u=n.movementMode,h=s.draggables[r.draggable.id],p=s.droppables[r.droppable.id],v={selection:i,borderBoxCenter:h.client.borderBox.center,offset:Qn},y={client:v,page:{selection:ur(v.selection,o.scroll.initial),borderBoxCenter:ur(v.selection,o.scroll.initial),offset:ur(v.selection,o.scroll.diff.value)}},b=Sy(s.droppables).every(function(Le){return!Le.isFixedOnPage}),I=mL({draggable:h,home:p,draggables:s.draggables,viewport:o}),O=I.impact,k=I.afterCritical,E={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:u,dimensions:s,initial:y,current:y,isWindowScrollAllowed:b,impact:O,afterCritical:k,onLiftImpact:O,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null};return E}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Me(!1);var S=mt({phase:"COLLECTING"},e,{phase:"COLLECTING"});return S}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Me(!1),Z7({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;nu(e)||Me(!1);var N=t.payload.client;return Zs(N,e.current.client.selection)?e:ch({state:e,clientSelection:N,impact:RS(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Gb(e);nu(e)||Me(!1);var _=t.payload,T=_.id,M=_.newScroll,R=e.dimensions.droppables[T];if(!R)return e;var B=WC(R,M);return Hb(e,B,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;nu(e)||Me(!1);var U=t.payload,F=U.id,z=U.isEnabled,$=e.dimensions.droppables[F];$||Me(!1),$.isEnabled===z&&Me(!1);var G=mt({},$,{isEnabled:z});return Hb(e,G,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;nu(e)||Me(!1);var te=t.payload,q=te.id,re=te.isCombineEnabled,ne=e.dimensions.droppables[q];ne||Me(!1),ne.isCombineEnabled===re&&Me(!1);var Q=mt({},ne,{isCombineEnabled:re});return Hb(e,Q,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;nu(e)||Me(!1),e.isWindowScrollAllowed||Me(!1);var X=t.payload.newScroll;if(Zs(e.viewport.scroll.current,X))return Gb(e);var J=iL(e.viewport,X);return RS(e)?pL({state:e,viewport:J}):ch({state:e,viewport:J})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!nu(e))return e;var ie=t.payload.maxScroll;if(Zs(ie,e.viewport.scroll.max))return e;var oe=mt({},e.viewport,{scroll:mt({},e.viewport.scroll,{max:ie})});return mt({phase:"DRAGGING"},e,{viewport:oe})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Me(!1);var ce=M7({state:e,type:t.type});return ce?ch({state:e,impact:ce.impact,clientSelection:ce.clientSelection,scrollJumpRequest:ce.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var ye=t.payload.reason;e.phase!=="COLLECTING"&&Me(!1);var ge=mt({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:ye});return ge}if(t.type==="DROP_ANIMATE"){var fe=t.payload,ze=fe.completed,Ke=fe.dropDuration,Ae=fe.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Me(!1);var _e={phase:"DROP_ANIMATING",completed:ze,dropDuration:Ke,newHomeClientOffset:Ae,dimensions:e.dimensions};return _e}if(t.type==="DROP_COMPLETE"){var be=t.payload.completed;return{phase:"IDLE",completed:be,shouldFlush:!1}}return e},tX=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},nX=function(t){return{type:"LIFT",payload:t}},rX=function(t){return{type:"INITIAL_PUBLISH",payload:t}},iX=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},oX=function(){return{type:"COLLECTION_STARTING",payload:null}},aX=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},sX=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},lX=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},gL=function(t){return{type:"MOVE",payload:t}},uX=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},cX=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},fX=function(){return{type:"MOVE_UP",payload:null}},dX=function(){return{type:"MOVE_DOWN",payload:null}},hX=function(){return{type:"MOVE_RIGHT",payload:null}},pX=function(){return{type:"MOVE_LEFT",payload:null}},XC=function(){return{type:"FLUSH",payload:null}},mX=function(t){return{type:"DROP_ANIMATE",payload:t}},JC=function(t){return{type:"DROP_COMPLETE",payload:t}},vL=function(t){return{type:"DROP",payload:t}},gX=function(t){return{type:"DROP_PENDING",payload:t}},yL=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},vX=function(e){return function(t){var n=t.getState,r=t.dispatch;return function(i){return function(o){if(o.type!=="LIFT"){i(o);return}var s=o.payload,u=s.id,h=s.clientSelection,p=s.movementMode,v=n();v.phase==="DROP_ANIMATING"&&r(JC({completed:v.completed})),n().phase!=="IDLE"&&Me(!1),r(XC()),r(tX({draggableId:u,movementMode:p}));var y={shouldPublishImmediately:p==="SNAP"},b={draggableId:u,scrollOptions:y},I=e.startPublishing(b),O=I.critical,k=I.dimensions,E=I.viewport;r(rX({critical:O,dimensions:k,clientSelection:h,movementMode:p,viewport:E}))}}}},yX=function(e){return function(){return function(t){return function(n){n.type==="INITIAL_PUBLISH"&&e.dragging(),n.type==="DROP_ANIMATE"&&e.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&e.resting(),t(n)}}}},QC={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Hh={opacity:{drop:0,combining:.7},scale:{drop:.75}},ZC={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Ql=ZC.outOfTheWay+"s "+QC.outOfTheWay,fh={fluid:"opacity "+Ql,snap:"transform "+Ql+", opacity "+Ql,drop:function(t){var n=t+"s "+QC.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+Ql,placeholder:"height "+Ql+", width "+Ql+", margin "+Ql},g1=function(t){return Zs(t,Qn)?null:"translate("+t.x+"px, "+t.y+"px)"},PS={moveTo:g1,drop:function(t,n){var r=g1(t);return r?n?r+" scale("+Hh.scale.drop+")":r:null}},kS=ZC.minDropTime,wL=ZC.maxDropTime,wX=wL-kS,v1=1500,bX=.6,SX=function(e){var t=e.current,n=e.destination,r=e.reason,i=Kh(t,n);if(i<=0)return kS;if(i>=v1)return wL;var o=i/v1,s=kS+wX*o,u=r==="CANCEL"?s*bX:s;return Number(u.toFixed(2))},EX=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,i=e.viewport,o=e.afterCritical,s=r.draggables,u=r.droppables,h=Ci(t),p=h?u[h]:null,v=u[n.descriptor.droppableId],y=hL({impact:t,draggable:n,draggables:s,afterCritical:o,droppable:p||v,viewport:i}),b=wi(y,n.client.borderBox.center);return b},CX=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,i=e.home,o=e.viewport,s=e.onLiftImpact;if(!r.at||n!=="DROP"){var u=dL({draggables:t,impact:s,destination:i,viewport:o,forceShouldAnimate:!0});return{impact:u,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var h=mt({},r,{displaced:Vh});return{impact:h,didDropInsideDroppable:!0}},xX=function(e){var t=e.getState,n=e.dispatch;return function(r){return function(i){if(i.type!=="DROP"){r(i);return}var o=t(),s=i.payload.reason;if(o.phase==="COLLECTING"){n(gX({reason:s}));return}if(o.phase!=="IDLE"){var u=o.phase==="DROP_PENDING"&&o.isWaiting;u&&Me(!1),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||Me(!1);var h=o.critical,p=o.dimensions,v=p.draggables[o.critical.draggable.id],y=CX({reason:s,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),b=y.impact,I=y.didDropInsideDroppable,O=I?KC(b):null,k=I?Ey(b):null,E={index:h.draggable.index,droppableId:h.droppable.id},S={draggableId:v.descriptor.id,type:v.descriptor.type,source:E,reason:s,mode:o.movementMode,destination:O,combine:k},N=EX({impact:b,draggable:v,dimensions:p,viewport:o.viewport,afterCritical:o.afterCritical}),_={critical:o.critical,afterCritical:o.afterCritical,result:S,impact:b},T=!Zs(o.current.client.offset,N)||Boolean(S.combine);if(!T){n(JC({completed:_}));return}var M=SX({current:o.current.client.offset,destination:N,reason:s}),R={newHomeClientOffset:N,dropDuration:M,completed:_};n(mX(R))}}}},bL=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function NX(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||e()}}}function IX(e){var t=e.onWindowScroll;function n(){t(bL())}var r=jh(n),i=NX(r),o=Qs;function s(){return o!==Qs}function u(){s()&&Me(!1),o=Yi(window,[i])}function h(){s()||Me(!1),r.cancel(),o(),o=Qs}return{start:u,stop:h,isActive:s}}var OX=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},TX=function(e){var t=IX({onWindowScroll:function(r){e.dispatch(uX({newScroll:r}))}});return function(n){return function(r){!t.isActive()&&r.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&OX(r)&&t.stop(),n(r)}}},_X=function(e){var t=!1,n=!1,r=setTimeout(function(){n=!0}),i=function(s){t||n||(t=!0,e(s),clearTimeout(r))};return i.wasCalled=function(){return t},i},AX=function(){var e=[],t=function(o){var s=jC(e,function(p){return p.timerId===o});s===-1&&Me(!1);var u=e.splice(s,1),h=u[0];h.callback()},n=function(o){var s=setTimeout(function(){return t(s)}),u={timerId:s,callback:o};e.push(u)},r=function(){if(!!e.length){var o=[].concat(e);e.length=0,o.forEach(function(s){clearTimeout(s.timerId),s.callback()})}};return{add:n,flush:r}},RX=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.droppableId===n.droppableId&&t.index===n.index},PX=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.draggableId===n.draggableId&&t.droppableId===n.droppableId},kX=function(t,n){if(t===n)return!0;var r=t.draggable.id===n.draggable.id&&t.draggable.droppableId===n.draggable.droppableId&&t.draggable.type===n.draggable.type&&t.draggable.index===n.draggable.index,i=t.droppable.id===n.droppable.id&&t.droppable.type===n.droppable.type;return r&&i},Pd=function(t,n){n()},_m=function(t,n){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:n}},Yb=function(t,n,r,i){if(!t){r(i(n));return}var o=_X(r),s={announce:o};t(n,s),o.wasCalled()||r(i(n))},DX=function(e,t){var n=AX(),r=null,i=function(b,I){r&&Me(!1),Pd("onBeforeCapture",function(){var O=e().onBeforeCapture;if(O){var k={draggableId:b,mode:I};O(k)}})},o=function(b,I){r&&Me(!1),Pd("onBeforeDragStart",function(){var O=e().onBeforeDragStart;O&&O(_m(b,I))})},s=function(b,I){r&&Me(!1);var O=_m(b,I);r={mode:I,lastCritical:b,lastLocation:O.source,lastCombine:null},n.add(function(){Pd("onDragStart",function(){return Yb(e().onDragStart,O,t,ng.onDragStart)})})},u=function(b,I){var O=KC(I),k=Ey(I);r||Me(!1);var E=!kX(b,r.lastCritical);E&&(r.lastCritical=b);var S=!RX(r.lastLocation,O);S&&(r.lastLocation=O);var N=!PX(r.lastCombine,k);if(N&&(r.lastCombine=k),!(!E&&!S&&!N)){var _=mt({},_m(b,r.mode),{combine:k,destination:O});n.add(function(){Pd("onDragUpdate",function(){return Yb(e().onDragUpdate,_,t,ng.onDragUpdate)})})}},h=function(){r||Me(!1),n.flush()},p=function(b){r||Me(!1),r=null,Pd("onDragEnd",function(){return Yb(e().onDragEnd,b,t,ng.onDragEnd)})},v=function(){if(!!r){var b=mt({},_m(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});p(b)}};return{beforeCapture:i,beforeStart:o,start:s,update:u,flush:h,drop:p,abort:v}},LX=function(e,t){var n=DX(e,t);return function(r){return function(i){return function(o){if(o.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(o.type==="INITIAL_PUBLISH"){var s=o.payload.critical;n.beforeStart(s,o.payload.movementMode),i(o),n.start(s,o.payload.movementMode);return}if(o.type==="DROP_COMPLETE"){var u=o.payload.completed.result;n.flush(),i(o),n.drop(u);return}if(i(o),o.type==="FLUSH"){n.abort();return}var h=r.getState();h.phase==="DRAGGING"&&n.update(h.critical,h.impact)}}}},MX=function(e){return function(t){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){t(n);return}var r=e.getState();r.phase!=="DROP_ANIMATING"&&Me(!1),e.dispatch(JC({completed:r.completed}))}}},zX=function(e){var t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return function(i){return function(o){if((o.type==="FLUSH"||o.type==="DROP_COMPLETE"||o.type==="DROP_ANIMATION_FINISHED")&&r(),i(o),o.type==="DROP_ANIMATE"){var s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var h=e.getState();h.phase==="DROP_ANIMATING"&&e.dispatch(yL())}};n=requestAnimationFrame(function(){n=null,t=Yi(window,[s])})}}}},BX=function(e){return function(){return function(t){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&e.stopPublishing(),t(n)}}}},FX=function(e){var t=!1;return function(){return function(n){return function(r){if(r.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(r.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){t=!1;var i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},UX=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},$X=function(e){return function(t){return function(n){return function(r){if(UX(r)){e.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);var i=t.getState();i.phase!=="DRAGGING"&&Me(!1),e.start(i);return}n(r),e.scroll(t.getState())}}}},WX=function(e){return function(t){return function(n){if(t(n),n.type==="PUBLISH_WHILE_DRAGGING"){var r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(vL({reason:r.reason})))}}}},jX=ID,KX=function(e){var t=e.dimensionMarshal,n=e.focusMarshal,r=e.styleMarshal,i=e.getResponders,o=e.announce,s=e.autoScroller;return ND(eX,jX(P8(yX(r),BX(t),vX(t),xX,MX,zX,WX,$X(s),TX,FX(n),LX(i,o))))},Xb=function(){return{additions:{},removals:{},modified:{}}};function VX(e){var t=e.registry,n=e.callbacks,r=Xb(),i=null,o=function(){i||(n.collectionStarting(),i=requestAnimationFrame(function(){i=null;var v=r,y=v.additions,b=v.removals,I=v.modified,O=Object.keys(y).map(function(S){return t.draggable.getById(S).getDimension(Qn)}).sort(function(S,N){return S.descriptor.index-N.descriptor.index}),k=Object.keys(I).map(function(S){var N=t.droppable.getById(S),_=N.callbacks.getScrollWhileDragging();return{droppableId:S,scroll:_}}),E={additions:O,removals:Object.keys(b),modified:k};r=Xb(),n.publish(E)}))},s=function(v){var y=v.descriptor.id;r.additions[y]=v,r.modified[v.descriptor.droppableId]=!0,r.removals[y]&&delete r.removals[y],o()},u=function(v){var y=v.descriptor;r.removals[y.id]=!0,r.modified[y.droppableId]=!0,r.additions[y.id]&&delete r.additions[y.id],o()},h=function(){!i||(cancelAnimationFrame(i),i=null,r=Xb())};return{add:s,remove:u,stop:h}}var SL=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,i=e.width,o=wi({x:n,y:t},{x:i,y:r}),s={x:Math.max(0,o.x),y:Math.max(0,o.y)};return s},EL=function(){var e=document.documentElement;return e||Me(!1),e},CL=function(){var e=EL(),t=SL({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},qX=function(){var e=bL(),t=CL(),n=e.y,r=e.x,i=EL(),o=i.clientWidth,s=i.clientHeight,u=r+o,h=n+s,p=Ao({top:n,left:r,right:u,bottom:h}),v={frame:p,scroll:{initial:e,current:e,max:t,diff:{value:Qn,displacement:Qn}}};return v},HX=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry,i=qX(),o=i.scroll.current,s=t.droppable,u=r.droppable.getAllByType(s.type).map(function(y){return y.callbacks.getDimensionAndWatchScroll(o,n)}),h=r.draggable.getAllByType(t.draggable.type).map(function(y){return y.getDimension(o)}),p={draggables:QD(h),droppables:JD(u)},v={dimensions:p,critical:t,viewport:i};return v};function y1(e,t,n){if(n.descriptor.id===t.id||n.descriptor.type!==t.type)return!1;var r=e.droppable.getById(n.descriptor.droppableId);return r.descriptor.mode==="virtual"}var GX=function(e,t){var n=null,r=VX({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(I,O){e.droppable.exists(I)||Me(!1),n&&t.updateDroppableIsEnabled({id:I,isEnabled:O})},o=function(I,O){!n||(e.droppable.exists(I)||Me(!1),t.updateDroppableIsCombineEnabled({id:I,isCombineEnabled:O}))},s=function(I,O){!n||(e.droppable.exists(I)||Me(!1),t.updateDroppableScroll({id:I,newScroll:O}))},u=function(I,O){!n||e.droppable.getById(I).callbacks.scroll(O)},h=function(){if(!!n){r.stop();var I=n.critical.droppable;e.droppable.getAllByType(I.type).forEach(function(O){return O.callbacks.dragStopped()}),n.unsubscribe(),n=null}},p=function(I){n||Me(!1);var O=n.critical.draggable;I.type==="ADDITION"&&y1(e,O,I.value)&&r.add(I.value),I.type==="REMOVAL"&&y1(e,O,I.value)&&r.remove(I.value)},v=function(I){n&&Me(!1);var O=e.draggable.getById(I.draggableId),k=e.droppable.getById(O.descriptor.droppableId),E={draggable:O.descriptor,droppable:k.descriptor},S=e.subscribe(p);return n={critical:E,unsubscribe:S},HX({critical:E,registry:e,scrollOptions:I.scrollOptions})},y={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:o,scrollDroppable:u,updateDroppableScroll:s,startPublishing:v,stopPublishing:h};return y},xL=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},YX=function(e){window.scrollBy(e.x,e.y)},XX=Yn(function(e){return Sy(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),JX=function(t,n){var r=ml(XX(n),function(i){return i.frame||Me(!1),lL(i.frame.pageMarginBox)(t)});return r},QX=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var i=r[n];return i.frame?i:null}var o=JX(t,r);return o},el={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},ZX=function(e,t){var n=e[t.size]*el.startFromPercentage,r=e[t.size]*el.maxScrollAtPercentage,i={startScrollingFrom:n,maxScrollValueAt:r};return i},NL=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,i=n-t;if(i===0)return 0;var o=r-t,s=o/i;return s},ex=1,eJ=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return el.maxPixelScroll;if(e===t.startScrollingFrom)return ex;var n=NL({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=1-n,i=el.maxPixelScroll*el.ease(r);return Math.ceil(i)},w1=el.durationDampening.accelerateAt,b1=el.durationDampening.stopDampeningAt,tJ=function(e,t){var n=t,r=b1,i=Date.now(),o=i-n;if(o>=b1)return e;if(o<w1)return ex;var s=NL({startOfRange:w1,endOfRange:r,current:o}),u=e*el.ease(s);return Math.ceil(u)},S1=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,i=e.shouldUseTimeDampening,o=eJ(t,n);return o===0?0:i?Math.max(tJ(o,r),ex):o},E1=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,i=e.axis,o=e.shouldUseTimeDampening,s=ZX(t,i),u=n[i.end]<n[i.start];return u?S1({distanceToEdge:n[i.end],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o}):-1*S1({distanceToEdge:n[i.start],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o})},nJ=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,i=n.height>t.height,o=n.width>t.width;return!o&&!i?r:o&&i?null:{x:o?0:r.x,y:i?0:r.y}},rJ=YD(function(e){return e===0?0:e}),IL=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,i=e.center,o=e.shouldUseTimeDampening,s={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},u=E1({container:n,distanceToEdges:s,dragStartTime:t,axis:VC,shouldUseTimeDampening:o}),h=E1({container:n,distanceToEdges:s,dragStartTime:t,axis:tL,shouldUseTimeDampening:o}),p=rJ({x:h,y:u});if(Zs(p,Qn))return null;var v=nJ({container:n,subject:r,proposedScroll:p});return v?Zs(v,Qn)?null:v:null},iJ=YD(function(e){return e===0?0:e>0?1:-1}),tx=function(){var e=function(n,r){return n<0?n:n>r?n-r:0};return function(t){var n=t.current,r=t.max,i=t.change,o=ur(n,i),s={x:e(o.x,r.x),y:e(o.y,r.y)};return Zs(s,Qn)?null:s}}(),OL=function(t){var n=t.max,r=t.current,i=t.change,o={x:Math.max(r.x,n.x),y:Math.max(r.y,n.y)},s=iJ(i),u=tx({max:o,current:r,change:s});return!u||s.x!==0&&u.x===0||s.y!==0&&u.y===0},nx=function(t,n){return OL({current:t.scroll.current,max:t.scroll.max,change:n})},oJ=function(t,n){if(!nx(t,n))return null;var r=t.scroll.max,i=t.scroll.current;return tx({current:i,max:r,change:n})},rx=function(t,n){var r=t.frame;return r?OL({current:r.scroll.current,max:r.scroll.max,change:n}):!1},aJ=function(t,n){var r=t.frame;return!r||!rx(t,n)?null:tx({current:r.scroll.current,max:r.scroll.max,change:n})},sJ=function(e){var t=e.viewport,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,s=IL({dragStartTime:i,container:t.frame,subject:n,center:r,shouldUseTimeDampening:o});return s&&nx(t,s)?s:null},lJ=function(e){var t=e.droppable,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,s=t.frame;if(!s)return null;var u=IL({dragStartTime:i,container:s.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o});return u&&rx(t,u)?u:null},C1=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,i=e.scrollWindow,o=e.scrollDroppable,s=t.current.page.borderBoxCenter,u=t.dimensions.draggables[t.critical.draggable.id],h=u.page.marginBox;if(t.isWindowScrollAllowed){var p=t.viewport,v=sJ({dragStartTime:n,viewport:p,subject:h,center:s,shouldUseTimeDampening:r});if(v){i(v);return}}var y=QX({center:s,destination:Ci(t.impact),droppables:t.dimensions.droppables});if(!!y){var b=lJ({dragStartTime:n,droppable:y,subject:h,center:s,shouldUseTimeDampening:r});b&&o(y.descriptor.id,b)}},uJ=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=jh(t),i=jh(n),o=null,s=function(v){o||Me(!1);var y=o,b=y.shouldUseTimeDampening,I=y.dragStartTime;C1({state:v,scrollWindow:r,scrollDroppable:i,dragStartTime:I,shouldUseTimeDampening:b})},u=function(v){o&&Me(!1);var y=Date.now(),b=!1,I=function(){b=!0};C1({state:v,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:I,scrollDroppable:I}),o={dragStartTime:y,shouldUseTimeDampening:b},b&&s(v)},h=function(){!o||(r.cancel(),i.cancel(),o=null)};return{start:u,stop:h,scroll:s}},cJ=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,i=function(p,v){var y=ur(p.current.client.selection,v);t({client:y})},o=function(p,v){if(!rx(p,v))return v;var y=aJ(p,v);if(!y)return n(p.descriptor.id,v),null;var b=wi(v,y);n(p.descriptor.id,b);var I=wi(v,b);return I},s=function(p,v,y){if(!p||!nx(v,y))return y;var b=oJ(v,y);if(!b)return r(y),null;var I=wi(y,b);r(I);var O=wi(y,I);return O},u=function(p){var v=p.scrollJumpRequest;if(!!v){var y=Ci(p.impact);y||Me(!1);var b=o(p.dimensions.droppables[y],v);if(!!b){var I=p.viewport,O=s(p.isWindowScrollAllowed,I,b);!O||i(p,O)}}};return u},fJ=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,i=uJ({scrollWindow:n,scrollDroppable:t}),o=cJ({move:r,scrollWindow:n,scrollDroppable:t}),s=function(p){if(p.phase==="DRAGGING"){if(p.movementMode==="FLUID"){i.scroll(p);return}!p.scrollJumpRequest||o(p)}},u={scroll:s,start:i.start,stop:i.stop};return u},mf="data-rbd",gf=function(){var e=mf+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),DS=function(){var e=mf+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),dJ=function(){var e=mf+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),x1={contextId:mf+"-scroll-container-context-id"},hJ=function(t){return function(n){return"["+n+'="'+t+'"]'}},kd=function(t,n){return t.map(function(r){var i=r.styles[n];return i?r.selector+" { "+i+" }":""}).join(" ")},pJ="pointer-events: none;",mJ=function(e){var t=hJ(e),n=function(){var u=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(gf.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:u,dragging:pJ,dropAnimating:u}}}(),r=function(){var u=`
      transition: `+fh.outOfTheWay+`;
    `;return{selector:t(DS.contextId),styles:{dragging:u,dropAnimating:u,userCancel:u}}}(),i={selector:t(dJ.contextId),styles:{always:"overflow-anchor: none;"}},o={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},s=[r,n,i,o];return{always:kd(s,"always"),resting:kd(s,"resting"),dragging:kd(s,"dragging"),dropAnimating:kd(s,"dropAnimating"),userCancel:kd(s,"userCancel")}},xi=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?H.exports.useLayoutEffect:H.exports.useEffect,Jb=function(){var t=document.querySelector("head");return t||Me(!1),t},N1=function(t){var n=document.createElement("style");return t&&n.setAttribute("nonce",t),n.type="text/css",n};function gJ(e,t){var n=zt(function(){return mJ(e)},[e]),r=H.exports.useRef(null),i=H.exports.useRef(null),o=nt(Yn(function(y){var b=i.current;b||Me(!1),b.textContent=y}),[]),s=nt(function(y){var b=r.current;b||Me(!1),b.textContent=y},[]);xi(function(){!r.current&&!i.current||Me(!1);var y=N1(t),b=N1(t);return r.current=y,i.current=b,y.setAttribute(mf+"-always",e),b.setAttribute(mf+"-dynamic",e),Jb().appendChild(y),Jb().appendChild(b),s(n.always),o(n.resting),function(){var I=function(k){var E=k.current;E||Me(!1),Jb().removeChild(E),k.current=null};I(r),I(i)}},[t,s,o,n.always,n.resting,e]);var u=nt(function(){return o(n.dragging)},[o,n.dragging]),h=nt(function(y){if(y==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),p=nt(function(){!i.current||o(n.resting)},[o,n.resting]),v=zt(function(){return{dragging:u,dropping:h,resting:p}},[u,h,p]);return v}var TL=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Ny(e){return e instanceof TL(e).HTMLElement}function vJ(e,t){var n="["+gf.contextId+'="'+e+'"]',r=XD(document.querySelectorAll(n));if(!r.length)return null;var i=ml(r,function(o){return o.getAttribute(gf.draggableId)===t});return!i||!Ny(i)?null:i}function yJ(e){var t=H.exports.useRef({}),n=H.exports.useRef(null),r=H.exports.useRef(null),i=H.exports.useRef(!1),o=nt(function(b,I){var O={id:b,focus:I};return t.current[b]=O,function(){var E=t.current,S=E[b];S!==O&&delete E[b]}},[]),s=nt(function(b){var I=vJ(e,b);I&&I!==document.activeElement&&I.focus()},[e]),u=nt(function(b,I){n.current===b&&(n.current=I)},[]),h=nt(function(){r.current||!i.current||(r.current=requestAnimationFrame(function(){r.current=null;var b=n.current;b&&s(b)}))},[s]),p=nt(function(b){n.current=null;var I=document.activeElement;!I||I.getAttribute(gf.draggableId)===b&&(n.current=b)},[]);xi(function(){return i.current=!0,function(){i.current=!1;var b=r.current;b&&cancelAnimationFrame(b)}},[]);var v=zt(function(){return{register:o,tryRecordFocus:p,tryRestoreFocusRecorded:h,tryShiftRecord:u}},[o,p,h,u]);return v}function wJ(){var e={draggables:{},droppables:{}},t=[];function n(y){return t.push(y),function(){var I=t.indexOf(y);I!==-1&&t.splice(I,1)}}function r(y){t.length&&t.forEach(function(b){return b(y)})}function i(y){return e.draggables[y]||null}function o(y){var b=i(y);return b||Me(!1),b}var s={register:function(b){e.draggables[b.descriptor.id]=b,r({type:"ADDITION",value:b})},update:function(b,I){var O=e.draggables[I.descriptor.id];!O||O.uniqueId===b.uniqueId&&(delete e.draggables[I.descriptor.id],e.draggables[b.descriptor.id]=b)},unregister:function(b){var I=b.descriptor.id,O=i(I);!O||b.uniqueId===O.uniqueId&&(delete e.draggables[I],r({type:"REMOVAL",value:b}))},getById:o,findById:i,exists:function(b){return Boolean(i(b))},getAllByType:function(b){return dv(e.draggables).filter(function(I){return I.descriptor.type===b})}};function u(y){return e.droppables[y]||null}function h(y){var b=u(y);return b||Me(!1),b}var p={register:function(b){e.droppables[b.descriptor.id]=b},unregister:function(b){var I=u(b.descriptor.id);!I||b.uniqueId===I.uniqueId&&delete e.droppables[b.descriptor.id]},getById:h,findById:u,exists:function(b){return Boolean(u(b))},getAllByType:function(b){return dv(e.droppables).filter(function(I){return I.descriptor.type===b})}};function v(){e.draggables={},e.droppables={},t.length=0}return{draggable:s,droppable:p,subscribe:n,clean:v}}function bJ(){var e=zt(wJ,[]);return H.exports.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var ix=kr.createContext(null),pv=function(){var e=document.body;return e||Me(!1),e},SJ={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},EJ=function(t){return"rbd-announcement-"+t};function CJ(e){var t=zt(function(){return EJ(e)},[e]),n=H.exports.useRef(null);H.exports.useEffect(function(){var o=document.createElement("div");return n.current=o,o.id=t,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),mt(o.style,SJ),pv().appendChild(o),function(){setTimeout(function(){var h=pv();h.contains(o)&&h.removeChild(o),o===n.current&&(n.current=null)})}},[t]);var r=nt(function(i){var o=n.current;if(o){o.textContent=i;return}},[]);return r}var xJ=0,NJ={separator:"::"};function ox(e,t){return t===void 0&&(t=NJ),zt(function(){return""+e+t.separator+xJ++},[t.separator,e])}function IJ(e){var t=e.contextId,n=e.uniqueId;return"rbd-hidden-text-"+t+"-"+n}function OJ(e){var t=e.contextId,n=e.text,r=ox("hidden-text",{separator:"-"}),i=zt(function(){return IJ({contextId:t,uniqueId:r})},[r,t]);return H.exports.useEffect(function(){var s=document.createElement("div");return s.id=i,s.textContent=n,s.style.display="none",pv().appendChild(s),function(){var h=pv();h.contains(s)&&h.removeChild(s)}},[i,n]),i}var Iy=kr.createContext(null);function _L(e){var t=H.exports.useRef(e);return H.exports.useEffect(function(){t.current=e}),t}function TJ(){var e=null;function t(){return Boolean(e)}function n(s){return s===e}function r(s){e&&Me(!1);var u={abandon:s};return e=u,u}function i(){e||Me(!1),e=null}function o(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:o}}var _J=9,AJ=13,ax=27,AL=32,RJ=33,PJ=34,kJ=35,DJ=36,LJ=37,MJ=38,zJ=39,BJ=40,Am,FJ=(Am={},Am[AJ]=!0,Am[_J]=!0,Am),RL=function(e){FJ[e.keyCode]&&e.preventDefault()},Oy=function(){var e="visibilitychange";if(typeof document=="undefined")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],n=ml(t,function(r){return"on"+r in document});return n||e}(),PL=0,I1=5;function UJ(e,t){return Math.abs(t.x-e.x)>=I1||Math.abs(t.y-e.y)>=I1}var O1={type:"IDLE"};function $J(e){var t=e.cancel,n=e.completed,r=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(s){var u=s.button,h=s.clientX,p=s.clientY;if(u===PL){var v={x:h,y:p},y=r();if(y.type==="DRAGGING"){s.preventDefault(),y.actions.move(v);return}y.type!=="PENDING"&&Me(!1);var b=y.point;if(!!UJ(b,v)){s.preventDefault();var I=y.actions.fluidLift(v);i({type:"DRAGGING",actions:I})}}}},{eventName:"mouseup",fn:function(s){var u=r();if(u.type!=="DRAGGING"){t();return}s.preventDefault(),u.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(s){r().type==="DRAGGING"&&s.preventDefault(),t()}},{eventName:"keydown",fn:function(s){var u=r();if(u.type==="PENDING"){t();return}if(s.keyCode===ax){s.preventDefault(),t();return}RL(s)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(s){var u=r();if(u.type==="IDLE"&&Me(!1),u.actions.shouldRespectForcePress()){t();return}s.preventDefault()}},{eventName:Oy,fn:t}]}function WJ(e){var t=H.exports.useRef(O1),n=H.exports.useRef(Qs),r=zt(function(){return{eventName:"mousedown",fn:function(y){if(!y.defaultPrevented&&y.button===PL&&!(y.ctrlKey||y.metaKey||y.shiftKey||y.altKey)){var b=e.findClosestDraggableId(y);if(!!b){var I=e.tryGetLock(b,s,{sourceEvent:y});if(!!I){y.preventDefault();var O={x:y.clientX,y:y.clientY};n.current(),p(I,O)}}}}}},[e]),i=zt(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(y){if(!y.defaultPrevented){var b=e.findClosestDraggableId(y);if(!!b){var I=e.findOptionsForDraggable(b);!I||I.shouldRespectForcePress||!e.canGetLock(b)||y.preventDefault()}}}}},[e]),o=nt(function(){var y={passive:!1,capture:!0};n.current=Yi(window,[i,r],y)},[i,r]),s=nt(function(){var v=t.current;v.type!=="IDLE"&&(t.current=O1,n.current(),o())},[o]),u=nt(function(){var v=t.current;s(),v.type==="DRAGGING"&&v.actions.cancel({shouldBlockNextClick:!0}),v.type==="PENDING"&&v.actions.abort()},[s]),h=nt(function(){var y={capture:!0,passive:!1},b=$J({cancel:u,completed:s,getPhase:function(){return t.current},setPhase:function(O){t.current=O}});n.current=Yi(window,b,y)},[u,s]),p=nt(function(y,b){t.current.type!=="IDLE"&&Me(!1),t.current={type:"PENDING",point:b,actions:y},h()},[h]);xi(function(){return o(),function(){n.current()}},[o])}var vc;function jJ(){}var KJ=(vc={},vc[PJ]=!0,vc[RJ]=!0,vc[DJ]=!0,vc[kJ]=!0,vc);function VJ(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:function(o){if(o.keyCode===ax){o.preventDefault(),n();return}if(o.keyCode===AL){o.preventDefault(),r();return}if(o.keyCode===BJ){o.preventDefault(),e.moveDown();return}if(o.keyCode===MJ){o.preventDefault(),e.moveUp();return}if(o.keyCode===zJ){o.preventDefault(),e.moveRight();return}if(o.keyCode===LJ){o.preventDefault(),e.moveLeft();return}if(KJ[o.keyCode]){o.preventDefault();return}RL(o)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Oy,fn:n}]}function qJ(e){var t=H.exports.useRef(jJ),n=zt(function(){return{eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==AL)return;var s=e.findClosestDraggableId(o);if(!s)return;var u=e.tryGetLock(s,v,{sourceEvent:o});if(!u)return;o.preventDefault();var h=!0,p=u.snapLift();t.current();function v(){h||Me(!1),h=!1,t.current(),r()}t.current=Yi(window,VJ(p,v),{capture:!0,passive:!1})}}},[e]),r=nt(function(){var o={passive:!1,capture:!0};t.current=Yi(window,[n],o)},[n]);xi(function(){return r(),function(){t.current()}},[r])}var Qb={type:"IDLE"},HJ=120,GJ=.15;function YJ(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(n().type!=="DRAGGING"){t();return}i.keyCode===ax&&i.preventDefault(),t()}},{eventName:Oy,fn:t}]}function XJ(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(o){var s=r();if(s.type!=="DRAGGING"){t();return}s.hasMoved=!0;var u=o.touches[0],h=u.clientX,p=u.clientY,v={x:h,y:p};o.preventDefault(),s.actions.move(v)}},{eventName:"touchend",fn:function(o){var s=r();if(s.type!=="DRAGGING"){t();return}o.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(o){if(r().type!=="DRAGGING"){t();return}o.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(o){var s=r();s.type==="IDLE"&&Me(!1);var u=o.touches[0];if(!!u){var h=u.force>=GJ;if(!!h){var p=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){p&&t();return}if(p){if(s.hasMoved){o.preventDefault();return}t();return}o.preventDefault()}}}},{eventName:Oy,fn:t}]}function JJ(e){var t=H.exports.useRef(Qb),n=H.exports.useRef(Qs),r=nt(function(){return t.current},[]),i=nt(function(I){t.current=I},[]),o=zt(function(){return{eventName:"touchstart",fn:function(I){if(!I.defaultPrevented){var O=e.findClosestDraggableId(I);if(!!O){var k=e.tryGetLock(O,u,{sourceEvent:I});if(!!k){var E=I.touches[0],S=E.clientX,N=E.clientY,_={x:S,y:N};n.current(),y(k,_)}}}}}},[e]),s=nt(function(){var I={capture:!0,passive:!1};n.current=Yi(window,[o],I)},[o]),u=nt(function(){var b=t.current;b.type!=="IDLE"&&(b.type==="PENDING"&&clearTimeout(b.longPressTimerId),i(Qb),n.current(),s())},[s,i]),h=nt(function(){var b=t.current;u(),b.type==="DRAGGING"&&b.actions.cancel({shouldBlockNextClick:!0}),b.type==="PENDING"&&b.actions.abort()},[u]),p=nt(function(){var I={capture:!0,passive:!1},O={cancel:h,completed:u,getPhase:r},k=Yi(window,XJ(O),I),E=Yi(window,YJ(O),I);n.current=function(){k(),E()}},[h,r,u]),v=nt(function(){var I=r();I.type!=="PENDING"&&Me(!1);var O=I.actions.fluidLift(I.point);i({type:"DRAGGING",actions:O,hasMoved:!1})},[r,i]),y=nt(function(I,O){r().type!=="IDLE"&&Me(!1);var k=setTimeout(v,HJ);i({type:"PENDING",point:O,actions:I,longPressTimerId:k}),p()},[p,r,i,v]);xi(function(){return s(),function(){n.current();var O=r();O.type==="PENDING"&&(clearTimeout(O.longPressTimerId),i(Qb))}},[r,s,i]),xi(function(){var I=Yi(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return I},[])}var QJ={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function kL(e,t){if(t==null)return!1;var n=Boolean(QJ[t.tagName.toLowerCase()]);if(n)return!0;var r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:kL(e,t.parentElement)}function ZJ(e,t){var n=t.target;return Ny(n)?kL(e,n):!1}var eQ=function(e){return Ao(e.getBoundingClientRect()).center};function tQ(e){return e instanceof TL(e).Element}var nQ=function(){var e="matches";if(typeof document=="undefined")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],n=ml(t,function(r){return r in Element.prototype});return n||e}();function DL(e,t){return e==null?null:e[nQ](t)?e:DL(e.parentElement,t)}function rQ(e,t){return e.closest?e.closest(t):DL(e,t)}function iQ(e){return"["+gf.contextId+'="'+e+'"]'}function oQ(e,t){var n=t.target;if(!tQ(n))return null;var r=iQ(e),i=rQ(n,r);return!i||!Ny(i)?null:i}function aQ(e,t){var n=oQ(e,t);return n?n.getAttribute(gf.draggableId):null}function sQ(e,t){var n="["+DS.contextId+'="'+e+'"]',r=XD(document.querySelectorAll(n)),i=ml(r,function(o){return o.getAttribute(DS.id)===t});return!i||!Ny(i)?null:i}function lQ(e){e.preventDefault()}function Rm(e){var t=e.expected,n=e.phase,r=e.isLockActive;return e.shouldWarn,!(!r()||t!==n)}function LL(e){var t=e.lockAPI,n=e.store,r=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var o=r.draggable.findById(i);return!(!o||!o.options.isEnabled||!xL(n.getState(),i))}function uQ(e){var t=e.lockAPI,n=e.contextId,r=e.store,i=e.registry,o=e.draggableId,s=e.forceSensorStop,u=e.sourceEvent,h=LL({lockAPI:t,store:r,registry:i,draggableId:o});if(!h)return null;var p=i.draggable.getById(o),v=sQ(n,p.descriptor.id);if(!v||u&&!p.options.canDragInteractiveElements&&ZJ(v,u))return null;var y=t.claim(s||Qs),b="PRE_DRAG";function I(){return p.options.shouldRespectForcePress}function O(){return t.isActive(y)}function k(R,B){Rm({expected:R,phase:b,isLockActive:O,shouldWarn:!0})&&r.dispatch(B())}var E=k.bind(null,"DRAGGING");function S(R){function B(){t.release(),b="COMPLETED"}b!=="PRE_DRAG"&&(B(),b!=="PRE_DRAG"&&Me(!1)),r.dispatch(nX(R.liftActionArgs)),b="DRAGGING";function U(F,z){if(z===void 0&&(z={shouldBlockNextClick:!1}),R.cleanup(),z.shouldBlockNextClick){var $=Yi(window,[{eventName:"click",fn:lQ,options:{once:!0,passive:!1,capture:!0}}]);setTimeout($)}B(),r.dispatch(vL({reason:F}))}return mt({isActive:function(){return Rm({expected:"DRAGGING",phase:b,isLockActive:O,shouldWarn:!1})},shouldRespectForcePress:I,drop:function(z){return U("DROP",z)},cancel:function(z){return U("CANCEL",z)}},R.actions)}function N(R){var B=jh(function(F){E(function(){return gL({client:F})})}),U=S({liftActionArgs:{id:o,clientSelection:R,movementMode:"FLUID"},cleanup:function(){return B.cancel()},actions:{move:B}});return mt({},U,{move:B})}function _(){var R={moveUp:function(){return E(fX)},moveRight:function(){return E(hX)},moveDown:function(){return E(dX)},moveLeft:function(){return E(pX)}};return S({liftActionArgs:{id:o,clientSelection:eQ(v),movementMode:"SNAP"},cleanup:Qs,actions:R})}function T(){var R=Rm({expected:"PRE_DRAG",phase:b,isLockActive:O,shouldWarn:!0});R&&t.release()}var M={isActive:function(){return Rm({expected:"PRE_DRAG",phase:b,isLockActive:O,shouldWarn:!1})},shouldRespectForcePress:I,fluidLift:N,snapLift:_,abort:T};return M}var cQ=[WJ,qJ,JJ];function fQ(e){var t=e.contextId,n=e.store,r=e.registry,i=e.customSensors,o=e.enableDefaultSensors,s=[].concat(o?cQ:[],i||[]),u=H.exports.useState(function(){return TJ()})[0],h=nt(function(N,_){N.isDragging&&!_.isDragging&&u.tryAbandon()},[u]);xi(function(){var N=n.getState(),_=n.subscribe(function(){var T=n.getState();h(N,T),N=T});return _},[u,n,h]),xi(function(){return u.tryAbandon},[u.tryAbandon]);for(var p=nt(function(S){return LL({lockAPI:u,registry:r,store:n,draggableId:S})},[u,r,n]),v=nt(function(S,N,_){return uQ({lockAPI:u,registry:r,contextId:t,store:n,draggableId:S,forceSensorStop:N,sourceEvent:_&&_.sourceEvent?_.sourceEvent:null})},[t,u,r,n]),y=nt(function(S){return aQ(t,S)},[t]),b=nt(function(S){var N=r.draggable.findById(S);return N?N.options:null},[r.draggable]),I=nt(function(){!u.isClaimed()||(u.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(XC()))},[u,n]),O=nt(u.isClaimed,[u]),k=zt(function(){return{canGetLock:p,tryGetLock:v,findClosestDraggableId:y,findOptionsForDraggable:b,tryReleaseLock:I,isLockClaimed:O}},[p,v,y,b,I,O]),E=0;E<s.length;E++)s[E](k)}var dQ=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function Dd(e){return e.current||Me(!1),e.current}function hQ(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,i=e.nonce,o=e.dragHandleUsageInstructions,s=H.exports.useRef(null),u=_L(e),h=nt(function(){return dQ(u.current)},[u]),p=CJ(t),v=OJ({contextId:t,text:o}),y=gJ(t,i),b=nt(function(F){Dd(s).dispatch(F)},[]),I=zt(function(){return X_({publishWhileDragging:iX,updateDroppableScroll:aX,updateDroppableIsEnabled:sX,updateDroppableIsCombineEnabled:lX,collectionStarting:oX},b)},[b]),O=bJ(),k=zt(function(){return GX(O,I)},[O,I]),E=zt(function(){return fJ(mt({scrollWindow:YX,scrollDroppable:k.scrollDroppable},X_({move:gL},b)))},[k.scrollDroppable,b]),S=yJ(t),N=zt(function(){return KX({announce:p,autoScroller:E,dimensionMarshal:k,focusMarshal:S,getResponders:h,styleMarshal:y})},[p,E,k,S,h,y]);s.current=N;var _=nt(function(){var F=Dd(s),z=F.getState();z.phase!=="IDLE"&&F.dispatch(XC())},[]),T=nt(function(){var F=Dd(s).getState();return F.isDragging||F.phase==="DROP_ANIMATING"},[]),M=zt(function(){return{isDragging:T,tryAbort:_}},[T,_]);n(M);var R=nt(function(F){return xL(Dd(s).getState(),F)},[]),B=nt(function(){return nu(Dd(s).getState())},[]),U=zt(function(){return{marshal:k,focus:S,contextId:t,canLift:R,isMovementAllowed:B,dragHandleUsageInstructionsId:v,registry:O}},[t,k,v,S,R,B,O]);return fQ({contextId:t,store:N,registry:O,customSensors:r,enableDefaultSensors:e.enableDefaultSensors!==!1}),H.exports.useEffect(function(){return _},[_]),w(Iy.Provider,{value:U,children:w(z8,{context:ix,store:N,children:e.children})})}var pQ=0;function mQ(){return zt(function(){return""+pQ++},[])}function gQ(e){var t=mQ(),n=e.dragHandleUsageInstructions||ng.dragHandleUsageInstructions;return w(q9,{children:function(r){return w(hQ,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,children:e.children})}})}var ML=function(t){return function(n){return t===n}},vQ=ML("scroll"),yQ=ML("auto"),T1=function(t,n){return n(t.overflowX)||n(t.overflowY)},wQ=function(t){var n=window.getComputedStyle(t),r={overflowX:n.overflowX,overflowY:n.overflowY};return T1(r,vQ)||T1(r,yQ)},bQ=function(){return!1},SQ=function e(t){return t==null?null:t===document.body?bQ()?t:null:t===document.documentElement?null:wQ(t)?t:e(t.parentElement)},LS=function(e){return{x:e.scrollLeft,y:e.scrollTop}},EQ=function e(t){if(!t)return!1;var n=window.getComputedStyle(t);return n.position==="fixed"?!0:e(t.parentElement)},CQ=function(e){var t=SQ(e),n=EQ(e);return{closestScrollable:t,isFixedOnPage:n}},xQ=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,i=e.isFixedOnPage,o=e.direction,s=e.client,u=e.page,h=e.closest,p=function(){if(!h)return null;var I=h.scrollSize,O=h.client,k=SL({scrollHeight:I.scrollHeight,scrollWidth:I.scrollWidth,height:O.paddingBox.height,width:O.paddingBox.width});return{pageMarginBox:h.page.marginBox,frameClient:O,scrollSize:I,shouldClipSubject:h.shouldClipSubject,scroll:{initial:h.scroll,current:h.scroll,max:k,diff:{value:Qn,displacement:Qn}}}}(),v=o==="vertical"?VC:tL,y=pf({page:u,withPlaceholder:null,axis:v,frame:p}),b={descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:v,isEnabled:n,client:s,page:u,frame:p,subject:y};return b},NQ=function(t,n){var r=VD(t);if(!n||t!==n)return r;var i=r.paddingBox.top-n.scrollTop,o=r.paddingBox.left-n.scrollLeft,s=i+n.scrollHeight,u=o+n.scrollWidth,h={top:i,right:u,bottom:s,left:o},p=UC(h,r.border),v=$C({borderBox:p,margin:r.margin,border:r.border,padding:r.padding});return v},IQ=function(e){var t=e.ref,n=e.descriptor,r=e.env,i=e.windowScroll,o=e.direction,s=e.isDropDisabled,u=e.isCombineEnabled,h=e.shouldClipSubject,p=r.closestScrollable,v=NQ(t,p),y=uv(v,i),b=function(){if(!p)return null;var O=VD(p),k={scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth};return{client:O,page:uv(O,i),scroll:LS(p),scrollSize:k,shouldClipSubject:h}}(),I=xQ({descriptor:n,isEnabled:!s,isCombineEnabled:u,isFixedOnPage:r.isFixedOnPage,direction:o,client:v,page:y,closest:b});return I},OQ={passive:!1},TQ={passive:!0},_1=function(e){return e.shouldPublishImmediately?OQ:TQ};function mv(e){var t=H.exports.useContext(e);return t||Me(!1),t}var Pm=function(t){return t&&t.env.closestScrollable||null};function _Q(e){var t=H.exports.useRef(null),n=mv(Iy),r=ox("droppable"),i=n.registry,o=n.marshal,s=_L(e),u=zt(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),h=H.exports.useRef(u),p=zt(function(){return Yn(function(T,M){t.current||Me(!1);var R={x:T,y:M};o.updateDroppableScroll(u.id,R)})},[u.id,o]),v=nt(function(){var T=t.current;return!T||!T.env.closestScrollable?Qn:LS(T.env.closestScrollable)},[]),y=nt(function(){var T=v();p(T.x,T.y)},[v,p]),b=zt(function(){return jh(y)},[y]),I=nt(function(){var T=t.current,M=Pm(T);T&&M||Me(!1);var R=T.scrollOptions;if(R.shouldPublishImmediately){y();return}b()},[b,y]),O=nt(function(T,M){t.current&&Me(!1);var R=s.current,B=R.getDroppableRef();B||Me(!1);var U=CQ(B),F={ref:B,descriptor:u,env:U,scrollOptions:M};t.current=F;var z=IQ({ref:B,descriptor:u,env:U,windowScroll:T,direction:R.direction,isDropDisabled:R.isDropDisabled,isCombineEnabled:R.isCombineEnabled,shouldClipSubject:!R.ignoreContainerClipping}),$=U.closestScrollable;return $&&($.setAttribute(x1.contextId,n.contextId),$.addEventListener("scroll",I,_1(F.scrollOptions))),z},[n.contextId,u,I,s]),k=nt(function(){var T=t.current,M=Pm(T);return T&&M||Me(!1),LS(M)},[]),E=nt(function(){var T=t.current;T||Me(!1);var M=Pm(T);t.current=null,M&&(b.cancel(),M.removeAttribute(x1.contextId),M.removeEventListener("scroll",I,_1(T.scrollOptions)))},[I,b]),S=nt(function(T){var M=t.current;M||Me(!1);var R=Pm(M);R||Me(!1),R.scrollTop+=T.y,R.scrollLeft+=T.x},[]),N=zt(function(){return{getDimensionAndWatchScroll:O,getScrollWhileDragging:k,dragStopped:E,scroll:S}},[E,O,k,S]),_=zt(function(){return{uniqueId:r,descriptor:u,callbacks:N}},[N,u,r]);xi(function(){return h.current=_.descriptor,i.droppable.register(_),function(){t.current&&E(),i.droppable.unregister(_)}},[N,u,E,_,o,i.droppable]),xi(function(){!t.current||o.updateDroppableIsEnabled(h.current.id,!e.isDropDisabled)},[e.isDropDisabled,o]),xi(function(){!t.current||o.updateDroppableIsCombineEnabled(h.current.id,e.isCombineEnabled)},[e.isCombineEnabled,o])}function Zb(){}var A1={width:0,height:0,margin:Q9},AQ=function(t){var n=t.isAnimatingOpenOnMount,r=t.placeholder,i=t.animate;return n||i==="close"?A1:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},RQ=function(t){var n=t.isAnimatingOpenOnMount,r=t.placeholder,i=t.animate,o=AQ({isAnimatingOpenOnMount:n,placeholder:r,animate:i});return{display:r.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?fh.placeholder:null}};function PQ(e){var t=H.exports.useRef(null),n=nt(function(){!t.current||(clearTimeout(t.current),t.current=null)},[]),r=e.animate,i=e.onTransitionEnd,o=e.onClose,s=e.contextId,u=H.exports.useState(e.animate==="open"),h=u[0],p=u[1];H.exports.useEffect(function(){return h?r!=="open"?(n(),p(!1),Zb):t.current?Zb:(t.current=setTimeout(function(){t.current=null,p(!1)}),n):Zb},[r,h,n]);var v=nt(function(b){b.propertyName==="height"&&(i(),r==="close"&&o())},[r,o,i]),y=RQ({isAnimatingOpenOnMount:h,animate:e.animate,placeholder:e.placeholder});return kr.createElement(e.placeholder.tagName,{style:y,"data-rbd-placeholder-context-id":s,onTransitionEnd:v,ref:e.innerRef})}var kQ=kr.memo(PQ),sx=kr.createContext(null),DQ=function(e){xD(t,e);function t(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o))||this,r.state={isVisible:Boolean(r.props.on),data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}t.getDerivedStateFromProps=function(i,o){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(i.on),data:i.on,animate:"none"}};var n=t.prototype;return n.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},t}(kr.PureComponent),R1={dragging:5e3,dropAnimating:4500},LQ=function(t,n){return n?fh.drop(n.duration):t?fh.snap:fh.fluid},MQ=function(t,n){return t?n?Hh.opacity.drop:Hh.opacity.combining:null},zQ=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function BQ(e){var t=e.dimension,n=t.client,r=e.offset,i=e.combineWith,o=e.dropping,s=Boolean(i),u=zQ(e),h=Boolean(o),p=h?PS.drop(r,s):PS.moveTo(r),v={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:LQ(u,o),transform:p,opacity:MQ(s,h),zIndex:h?R1.dropAnimating:R1.dragging,pointerEvents:"none"};return v}function FQ(e){return{transform:PS.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function UQ(e){return e.type==="DRAGGING"?BQ(e):FQ(e)}function $Q(e,t,n){n===void 0&&(n=Qn);var r=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=KD(i,r),s=uv(o,n),u={client:o,tagName:t.tagName.toLowerCase(),display:r.display},h={x:o.marginBox.width,y:o.marginBox.height},p={descriptor:e,placeholder:u,displaceBy:h,client:o,page:s};return p}function WQ(e){var t=ox("draggable"),n=e.descriptor,r=e.registry,i=e.getDraggableRef,o=e.canDragInteractiveElements,s=e.shouldRespectForcePress,u=e.isEnabled,h=zt(function(){return{canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:u}},[o,u,s]),p=nt(function(I){var O=i();return O||Me(!1),$Q(n,O,I)},[n,i]),v=zt(function(){return{uniqueId:t,descriptor:n,options:h,getDimension:p}},[n,p,h,t]),y=H.exports.useRef(v),b=H.exports.useRef(!0);xi(function(){return r.draggable.register(y.current),function(){return r.draggable.unregister(y.current)}},[r.draggable]),xi(function(){if(b.current){b.current=!1;return}var I=y.current;y.current=v,r.draggable.update(v,I)},[v,r.draggable])}function jQ(e){e.preventDefault()}function KQ(e){var t=H.exports.useRef(null),n=nt(function(F){t.current=F},[]),r=nt(function(){return t.current},[]),i=mv(Iy),o=i.contextId,s=i.dragHandleUsageInstructionsId,u=i.registry,h=mv(sx),p=h.type,v=h.droppableId,y=zt(function(){return{id:e.draggableId,index:e.index,type:p,droppableId:v}},[e.draggableId,e.index,p,v]),b=e.children,I=e.draggableId,O=e.isEnabled,k=e.shouldRespectForcePress,E=e.canDragInteractiveElements,S=e.isClone,N=e.mapped,_=e.dropAnimationFinished;if(!S){var T=zt(function(){return{descriptor:y,registry:u,getDraggableRef:r,canDragInteractiveElements:E,shouldRespectForcePress:k,isEnabled:O}},[y,u,r,E,k,O]);WQ(T)}var M=zt(function(){return O?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":I,"data-rbd-drag-handle-context-id":o,draggable:!1,onDragStart:jQ}:null},[o,s,I,O]),R=nt(function(F){N.type==="DRAGGING"&&(!N.dropping||F.propertyName==="transform"&&_())},[_,N]),B=zt(function(){var F=UQ(N),z=N.type==="DRAGGING"&&N.dropping?R:null,$={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":o,"data-rbd-draggable-id":I,style:F,onTransitionEnd:z},dragHandleProps:M};return $},[o,M,I,N,R,n]),U=zt(function(){return{draggableId:y.id,type:y.type,source:{index:y.index,droppableId:y.droppableId}}},[y.droppableId,y.id,y.index,y.type]);return b(B,N.snapshot,U)}var zL=function(e,t){return e===t},BL=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null},VQ=function(t){return t.combine?t.combine.draggableId:null},qQ=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function HQ(){var e=Yn(function(i,o){return{x:i,y:o}}),t=Yn(function(i,o,s,u,h){return{isDragging:!0,isClone:o,isDropAnimating:Boolean(h),dropAnimation:h,mode:i,draggingOver:s,combineWith:u,combineTargetFor:null}}),n=Yn(function(i,o,s,u,h,p,v){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:h,combineWith:p,mode:o,offset:i,dimension:s,forceShouldAnimate:v,snapshot:t(o,u,h,p,null)}}}),r=function(o,s){if(o.isDragging){if(o.critical.draggable.id!==s.draggableId)return null;var u=o.current.client.offset,h=o.dimensions.draggables[s.draggableId],p=Ci(o.impact),v=qQ(o.impact),y=o.forceShouldAnimate;return n(e(u.x,u.y),o.movementMode,h,s.isClone,p,v,y)}if(o.phase==="DROP_ANIMATING"){var b=o.completed;if(b.result.draggableId!==s.draggableId)return null;var I=s.isClone,O=o.dimensions.draggables[s.draggableId],k=b.result,E=k.mode,S=BL(k),N=VQ(k),_=o.dropDuration,T={duration:_,curve:QC.drop,moveTo:o.newHomeClientOffset,opacity:N?Hh.opacity.drop:null,scale:N?Hh.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:O,dropping:T,draggingOver:S,combineWith:N,mode:E,forceShouldAnimate:null,snapshot:t(E,I,S,N,T)}}}return null};return r}function FL(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var GQ={mapped:{type:"SECONDARY",offset:Qn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:FL(null)}};function YQ(){var e=Yn(function(s,u){return{x:s,y:u}}),t=Yn(FL),n=Yn(function(s,u,h){return u===void 0&&(u=null),{mapped:{type:"SECONDARY",offset:s,combineTargetFor:u,shouldAnimateDisplacement:h,snapshot:t(u)}}}),r=function(u){return u?n(Qn,u,!0):null},i=function(u,h,p,v){var y=p.displaced.visible[u],b=Boolean(v.inVirtualList&&v.effected[u]),I=Ey(p),O=I&&I.draggableId===u?h:null;if(!y){if(!b)return r(O);if(p.displaced.invisible[u])return null;var k=Lf(v.displacedBy.point),E=e(k.x,k.y);return n(E,O,!0)}if(b)return r(O);var S=p.displacedBy.point,N=e(S.x,S.y);return n(N,O,y.shouldAnimate)},o=function(u,h){if(u.isDragging)return u.critical.draggable.id===h.draggableId?null:i(h.draggableId,u.critical.draggable.id,u.impact,u.afterCritical);if(u.phase==="DROP_ANIMATING"){var p=u.completed;return p.result.draggableId===h.draggableId?null:i(h.draggableId,p.result.draggableId,p.impact,p.afterCritical)}return null};return o}var XQ=function(){var t=HQ(),n=YQ(),r=function(o,s){return t(o,s)||n(o,s)||GQ};return r},JQ={dropAnimationFinished:yL},QQ=WD(XQ,JQ,null,{context:ix,pure:!0,areStatePropsEqual:zL})(KQ);function UL(e){var t=mv(sx),n=t.isUsingCloneFor;return n===e.draggableId&&!e.isClone?null:w(QQ,{...e})}function ZQ(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return w(UL,{...e,isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r})}function eZ(e){var t=H.exports.useContext(Iy);t||Me(!1);var n=t.contextId,r=t.isMovementAllowed,i=H.exports.useRef(null),o=H.exports.useRef(null),s=e.children,u=e.droppableId,h=e.type,p=e.mode,v=e.direction,y=e.ignoreContainerClipping,b=e.isDropDisabled,I=e.isCombineEnabled,O=e.snapshot,k=e.useClone,E=e.updateViewportMaxScroll,S=e.getContainerForClone,N=nt(function(){return i.current},[]),_=nt(function($){i.current=$},[]);nt(function(){return o.current},[]);var T=nt(function($){o.current=$},[]),M=nt(function(){r()&&E({maxScroll:CL()})},[r,E]);_Q({droppableId:u,type:h,mode:p,direction:v,isDropDisabled:b,isCombineEnabled:I,ignoreContainerClipping:y,getDroppableRef:N});var R=w(DQ,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder,children:function($){var G=$.onClose,te=$.data,q=$.animate;return w(kQ,{placeholder:te,onClose:G,innerRef:T,animate:q,contextId:n,onTransitionEnd:M})}}),B=zt(function(){return{innerRef:_,placeholder:R,droppableProps:{"data-rbd-droppable-id":u,"data-rbd-droppable-context-id":n}}},[n,u,R,_]),U=k?k.dragging.draggableId:null,F=zt(function(){return{droppableId:u,type:h,isUsingCloneFor:U}},[u,U,h]);function z(){if(!k)return null;var $=k.dragging,G=k.render,te=w(UL,{draggableId:$.draggableId,index:$.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0,children:function(q,re){return G(q,re,$)}});return VE.createPortal(te,S())}return j(sx.Provider,{value:F,children:[s(B,O),z()]})}var e0=function(t,n){return t===n.droppable.type},P1=function(t,n){return n.draggables[t.draggable.id]},tZ=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=mt({},t,{shouldAnimatePlaceholder:!1}),r=Yn(function(s){return{draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}}}),i=Yn(function(s,u,h,p,v,y){var b=v.descriptor.id,I=v.descriptor.droppableId===s;if(I){var O=y?{render:y,dragging:r(v.descriptor)}:null,k={isDraggingOver:h,draggingOverWith:h?b:null,draggingFromThisWith:b,isUsingPlaceholder:!0};return{placeholder:v.placeholder,shouldAnimatePlaceholder:!1,snapshot:k,useClone:O}}if(!u)return n;if(!p)return t;var E={isDraggingOver:h,draggingOverWith:b,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:v.placeholder,shouldAnimatePlaceholder:!0,snapshot:E,useClone:null}}),o=function(u,h){var p=h.droppableId,v=h.type,y=!h.isDropDisabled,b=h.renderClone;if(u.isDragging){var I=u.critical;if(!e0(v,I))return n;var O=P1(I,u.dimensions),k=Ci(u.impact)===p;return i(p,y,k,k,O,b)}if(u.phase==="DROP_ANIMATING"){var E=u.completed;if(!e0(v,E.critical))return n;var S=P1(E.critical,u.dimensions);return i(p,y,BL(E.result)===p,Ci(E.impact)===p,S,b)}if(u.phase==="IDLE"&&u.completed&&!u.shouldFlush){var N=u.completed;if(!e0(v,N.critical))return n;var _=Ci(N.impact)===p,T=Boolean(N.impact.at&&N.impact.at.type==="COMBINE"),M=N.critical.droppable.id===p;return _?T?t:n:M?t:n}return n};return o},nZ={updateViewportMaxScroll:cX};function rZ(){return document.body||Me(!1),document.body}var iZ={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:rZ},$L=WD(tZ,nZ,null,{context:ix,pure:!0,areStatePropsEqual:zL})(eZ);$L.defaultProps=iZ;function oZ(e){const t=De(),[n,r]=H.exports.useState([]);H.exports.useEffect(()=>{i()},[e.indexId]);function i(){sh().findAllBelongTo([e.indexId],"indexId").then(o=>r(o.sort((s,u)=>s.sort-u.sort))).catch(t.showError)}return j("div",{children:[w("div",{children:w(En,{className:"wa",isAdd:!0,itemzz:e.columnzz,value:0,change:function(o){sh().create({indexId:e.indexId,columnId:o,sort:n.length}).then(()=>i()).catch(t.showError)}})}),w(gQ,{onDragEnd:o=>{if(o.destination===void 0||o.source.index===o.destination.index||n.length<2)return;const s=[...n],[u]=s.splice(o.source.index,1);s.splice(o.destination.index,0,u),s.forEach((h,p)=>h.sort=p),sh().updateMany(s).then(()=>i()).catch(t.showError)},children:w($L,{droppableId:"IndexColumnListDroppable",children:(o,s)=>j("ul",{className:"list-unstyled",ref:o.innerRef,...o.droppableProps,children:[n.map((u,h)=>w(ZQ,{draggableId:u.id.toString(),index:h,children:(p,v)=>w("li",{ref:p.innerRef,...p.draggableProps,...p.dragHandleProps,children:w(_8,{cicm:e.cicm,item:u,refresh:i})})},u.id)),o.placeholder]})})})]})}function aZ(e){const t=zr(),n=CD(),r=De(),[i,o]=H.exports.useState([]),[s,u]=H.exports.useState([]),h=Pr(i);H.exports.useEffect(()=>{o(t.itemzz.filter(v=>v.entityId===e.entity.id))},[e.entity,t.itemzz]),H.exports.useEffect(()=>{u(n.itemzz.filter(v=>v.entityId===e.entity.id))},[e.entity,n.itemzz]);function p(v){ah().update(v).catch(r.showError)}return j("table",{className:"table",children:[w("caption",{children:w("h3",{className:"inline me-3",children:"Index"})}),w("thead",{children:j("tr",{children:[w("th",{className:"w222",children:"type"}),w("th",{children:"column"})]})}),w("tbody",{children:s.map(v=>j("tr",{children:[w("td",{children:j("div",{className:"input-group",children:[w("button",{onClick:function(){Mr().then(y=>{if(y.isConfirmed)return ah().delete(v.id)}).catch(r.showError)},className:"btn btn-outline-danger",type:"button",children:"-"}),w(ko,{itemzz:K_,value:v.type,change:function(y){p({...v,type:y})}})]})}),w("td",{children:w(oZ,{cicm:h,columnzz:i,indexId:v.id})})]},v.id))}),w("tfoot",{children:j("tr",{children:[w("td",{children:w(ko,{isAdd:!0,itemzz:K_,value:"",change:function(v){ah().create({entityId:e.entity.id,type:v}).catch(r.showError)}})}),w("td",{})]})})]})}function sZ(e){const t=De(),n=e.item.entity0Id===e.item.entity1Id,r=e.entity.id!==e.item.entity0Id||n,i=r?e.item.name1:e.item.name0;function o(u,h){ti("Please input the name",u).then(p=>{if(p.isConfirmed){const v={...e.item};return h?v.name1=p.value:v.name0=p.value,s(v)}}).catch(t.showError)}function s(u){return Su().update(u)}return j("tr",{children:[w("td",{className:"text-secondary",children:j("div",{className:"btn-group",children:[w("button",{onClick:function(){Mr().then(u=>{if(u.isConfirmed)return Su().delete(e.item.id)}).catch(t.showError)},className:"btn btn-outline-danger",type:"button",children:"-"}),w("button",{onClick:function(){Mu(e.entity.id,i,"object","",0,"","",!1).then(()=>t.showSuccess(`column ${i} added`)).catch(t.showError)},className:"btn btn-outline-primary",type:"button",children:"+ Column"})]})}),w("td",{children:j("div",{children:[w("div",{className:"mt-1",children:Wh(e.item.type,r)}),n&&e.item.type===yi.OneToMany?w("div",{className:"mt-4",children:"has many"}):null]})}),j("td",{children:[w("div",{children:w("button",{className:"btn btn-outline-primary",type:"button",onClick:function(){o(i,r)},children:i})}),n&&e.item.type===yi.OneToMany?w("div",{className:"mt-3",children:w("button",{className:"btn btn-outline-primary",type:"button",onClick:function(){o(e.item.name0,!1)},children:e.item.name0})}):null]}),w("td",{children:r?w(En,{itemzz:e.columnzz,value:e.item.column1Id,change:function(u){s({...e.item,column1Id:u}).catch(t.showError)}}):null})]})}function lZ(e){const t=zr(),n=hp(),r=Er(),i=De(),[o,s]=H.exports.useState([]),u=t.itemzz.filter(p=>p.inTable&&p.entityId===e.entity.id);H.exports.useEffect(()=>{s(n.itemzz.filter(p=>p.entity0Id===e.entity.id||p.entity1Id===e.entity.id))},[e.entity,n.itemzz]);function h(p,v,y){v&&y&&dD(p,v,y).catch(i.showError)}return j("table",{className:"table",children:[w("caption",{children:w("h3",{className:"inline me-3",children:"Relation"})}),w("thead",{children:j("tr",{children:[w("th",{className:"w222"}),w("th",{className:"w111"}),w("th",{children:"name"}),w("th",{children:"foreign key"})]})}),w("tbody",{children:o.map(p=>w(sZ,{columnzz:u,item:p,entity:e.entity},p.id))}),j("tfoot",{children:[w("tr",{children:w("td",{className:"p-3",colSpan:4})}),j("tr",{children:[w("td",{}),w("td",{colSpan:3,children:j("div",{className:"d-flex align-items-center",children:[j("div",{children:[e.entity.name," has many"]}),w("div",{className:"ms-2",children:w(En,{isAdd:!0,itemzz:r.itemzz,value:0,change:p=>h(yi.OneToMany,e.entity,r.find(p))})})]})})]}),j("tr",{children:[w("td",{}),w("td",{colSpan:3,children:j("div",{className:"d-flex align-items-center",children:[j("div",{children:[e.entity.name," has one"]}),w("div",{className:"ms-2",children:w(En,{isAdd:!0,itemzz:r.itemzz,value:0,change:p=>h(yi.OneToOne,e.entity,r.find(p))})})]})})]}),j("tr",{children:[w("td",{}),w("td",{colSpan:3,children:j("div",{className:"d-flex align-items-center",children:[w("div",{children:w(En,{isAdd:!0,itemzz:r.itemzz,value:0,change:p=>h(yi.OneToMany,r.find(p),e.entity)})}),j("div",{className:"ms-2",children:["has many ",e.entity.name]})]})})]}),j("tr",{children:[w("td",{}),w("td",{colSpan:3,children:j("div",{className:"d-flex align-items-center",children:[w("div",{children:w(En,{isAdd:!0,itemzz:r.itemzz,value:0,change:p=>h(yi.OneToOne,r.find(p),e.entity)})}),j("div",{className:"ms-2",children:["has one ",e.entity.name]})]})})]})]})]})}const lx=vt(function(e,t){return Xa(e,t,Dh())});function uZ(e){const t=De();return j("tr",{children:[w("td",{children:j("div",{className:"btn-group",children:[w("button",{onClick:()=>Dh().delete(e.item.id).catch(t.showError),className:"btn btn-outline-danger",type:"button",children:"-"}),w("button",{className:"btn btn-outline-secondary",type:"button",children:e.item.name})]})}),w("td",{children:w("input",{value:e.item.parameter,onChange:n=>{var r;return Dh().update({...e.item,parameter:(r=n.target.value)!=null?r:""}).catch(t.showError)},type:"text",className:"form-control"})})]})}function cZ(e){const t=new Set,n=[...e.constraintzz];n.sort((s,u)=>s.name.localeCompare(u.name)),n.forEach(s=>t.add(s.tag));const r=Array.from(t);r.sort((s,u)=>s.localeCompare(u));const[i,o]=H.exports.useState(r[0]);return j("div",{className:"d-flex",children:[w("ul",{className:"list-group w111",children:r.map(s=>w("li",{onClick:function(){o(s)},className:(i===s?"active ":"")+"list-group-item list-group-item-action pointer",children:s},s))}),w("div",{className:"ms-3",children:n.filter(s=>s.tag===i).map(s=>w("div",{children:j("div",{onClick:function(){e.add(s.name)},className:"btn btn-outline-primary mb-1",children:["+ ",s.name]})},s.id))})]})}function WL(e){const t=lx(),n=De(),[r,i]=H.exports.useState([]),[o,s]=H.exports.useState(!1);H.exports.useEffect(()=>{i(t.itemzz.filter(h=>h.columnId===e.column.id))},[e.column,t.itemzz]);function u(h){return h.parameter?`${h.name}:${h.parameter}`:h.name}return w(Zt,{children:o?j("div",{children:[w("button",{onClick:()=>s(!1),className:"btn btn-outline-primary",type:"button",children:"OK"}),w("table",{className:"table",children:w("tbody",{children:r.map(h=>w(uZ,{item:h},h.id))})}),w(cZ,{add:function(h){Dh().create({columnId:e.column.id,name:h,parameter:""}).catch(n.showError)},constraintzz:e.constraintzz})]}):j("ul",{onClick:()=>s(!0),className:"pointer",children:[r.length===0?w("li",{children:"----"}):null,r.map(h=>w("li",{children:u(h)},h.id))]})})}function fZ(e){const t=zr(),n=De(),[r,i]=H.exports.useState([]),[o,s]=H.exports.useState(!1),u=Ti("ValidationRule");return H.exports.useEffect(()=>{i(t.itemzz.filter(h=>h.entityId===e.entity.id))},[e.entity,t.itemzz]),j("table",{className:"table",children:[j("caption",{children:[w("h3",{className:"inline me-3",children:"Validation"}),w("span",{className:"me-3",children:"request constraint"}),w(ni,{href:"https://laravel.com/docs/9.x/validation",children:"doc"})]}),w("thead",{children:j("tr",{children:[w("th",{className:"w111",children:"name"}),w("th",{children:"constraint"})]})}),w("tbody",{children:r.map(h=>j("tr",{children:[w("td",{children:h.name}),w("td",{children:w(WL,{constraintzz:u,column:h})})]},h.id))}),w("tfoot",{children:j("tr",{children:[w("td",{children:j("div",{className:"btn-group",children:[w(ha,{file:ll(yT),content:Jt.ScriptCode}),w(hf,{waiting:o,onClick:function(){s(!0),wD(yT,e.entity).then(h=>Dh().updateMany(h.result)).then(()=>{s(!1),n.showSuccess("Validation rules added")}).catch(h=>{s(!1),n.showError(h)})},children:"Run"})]})}),w("td",{children:"set constraint"})]})})]})}var jL=(e=>(e.Cast="Cast",e.Column="Column",e.Detail="Detail",e.Factory="Factory",e.File="File",e.Index="Index",e.Relation="Relation",e.Validation="Validation",e))(jL||{});function dZ(){const e=zu(),t=Object.keys(jL);if(e.item===void 0)return null;function n(){return e.item===void 0?null:e.tab==="Cast"?w(v8,{entity:e.item}):e.tab==="Column"?w(x8,{entity:e.item}):e.tab==="Detail"?w(N8,{item:e.item}):e.tab==="Factory"?w(T8,{entity:e.item}):e.tab==="File"?w(SD,{entity:e.item}):e.tab==="Index"?w(aZ,{entity:e.item}):e.tab==="Relation"?w(lZ,{entity:e.item}):e.tab==="Validation"?w(fZ,{entity:e.item}):null}return j("div",{children:[w(Df,{tab:e.tab,tabzz:t,setTab:e.setTab}),n()]})}function k1(e){}const ux=vt(function(e){return{...Pf(e),callback:k1,openCB(n,r=k1){e({isOpen:!0,title:n,callback:r})},setItemId(n){e({itemId:n})}}});function KL(e){const t=ux(),r=ao().itemzz.filter(i=>i.parentId===e.item.id).sort((i,o)=>i.name.localeCompare(o.name));return j("div",{className:"ms-4",children:[w("div",{onClick:function(){t.setItemId(e.item.id)},className:(e.item.id===t.itemId?"active ":"")+"button yellow",children:e.item.name}),r.map(i=>w(KL,{item:i},i.id))]})}function VL(){const e=ux(),n=ao().itemzz.find(r=>r.parentId===null);return j(Ru,{isOpen:e.isOpen,onRequestClose:e.close,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:[w("h3",{children:e.title}),w("button",{disabled:e.itemId===0,onClick:function(){e.callback(e.itemId),e.close()},className:"btn btn-outline-primary",type:"button",children:"OK"}),w("div",{children:n===void 0?"no root":w(KL,{item:n})})]})}function hZ(){const e=De();return j("div",{className:"row",children:[w(Lu,{makeCRUD:vi,onCreate:function(t){mD(t).catch(e.showError)},useItemPageStore:zu,useItemzzStore:Er,title:ot.Entity,children:w(dZ,{})}),w(rD,{}),w(VL,{}),w(pC,{})]})}function pZ(e){return{...Bo(e),summary:"",value:""}}const MS=vt(function(e){return zo(e)}),cx=vt(function(e,t){return{...ri(e,t,Wg()),sorting:!0}});function mZ(e){const t=MS(),n=De();function r(i){t.setItem(i),Wg().update(i).then(o=>t.setItem(o)).catch(n.showError)}return w("table",{className:"table td0-tar",children:j("tbody",{children:[j("tr",{children:[w("td",{children:"color"}),w("td",{children:w(ya,{color:e.item.color,setColor:i=>r({...e.item,color:i})})})]}),j("tr",{children:[w("td",{children:"summary"}),w("td",{children:w("input",{value:e.item.summary,onChange:i=>r({...e.item,summary:i.target.value}),className:"form-control",type:"text"})})]}),j("tr",{children:[w("td",{children:"value"}),w("td",{children:w("textarea",{rows:11,value:e.item.value,onChange:i=>r({...e.item,value:i.target.value}),className:"form-control",spellCheck:!1})})]})]})})}function gZ(){const e=MS(),t=De();return w("div",{className:"row",children:w(Lu,{makeCRUD:Wg,useItemPageStore:MS,useItemzzStore:cx,title:ot.Example,validateName:!1,onCreate:function(n){Wg().create(pZ(n)).catch(t.showError)},children:e.item?w(mZ,{item:e.item}):void 0})})}const vf=vt(function(e){return zo(e)});function vZ(e,t,n){return{deprecated:!1,inOapi:!0,inRoute:!0,name:e.name,description:"",routeName:"",filezz:[],summary:n.name+" "+Ph.lowerCase(e.name)+" "+t.name,operationId:n.name+"_"+e.name+t.name,directoryId:e.id,entityId:t.id,moduleId:n.id,requestId:1}}var qi=(e=>(e.Module="Module",e.Path="Path",e.Action="Action",e.Request="Request",e.Response="Response",e.File="File",e))(qi||{});const gl=vt(function(e){return{action:"",ma:void 0,path:void 0,step:"File",setAction(n,r){e({action:n,ma:r})},setPath(n){e({path:n})},setStep(n){e({step:n})}}}),fx=vt(function(e,t){return Xa(e,t,Ji())}),gv=vt(function(e,t){return ri(e,t,Mh())});function yZ(e){for(const[t,n]of GY.entries())if(e.includes(t))return n;return TC.patch}function wZ(e=Jt.Id){return`/{${e}}`}function bZ(e,t,n){return{...Bo(e),moduleId:n,entityId:t,description:"",summary:""}}function SZ(e,t){return lh().create({pathId:e.id,moduleActionId:t.id,method:yZ(t.name),middlewarezz:["auth"]})}function EZ(e,t){const n=`/${e.name}/${t.name}`;return t.name.includes("One")?n+wZ():n}function CZ(e,t,n,r){const i=EZ(t,e),o=r.find(s=>s.moduleId===n.id&&s.name===i);return o?Promise.resolve(o):Mh().create(bZ(i,t.id,n.id))}const xZ=qi.Action;function NZ(e){var O,k,E;const t=ao(),n=gl(),r=fx(),i=gv(),o=(E=(k=(O=t.treeMap.get(e.module.directoryId))==null?void 0:O.childzz)==null?void 0:k.slice().sort((S,N)=>S.name.localeCompare(N.name)))!=null?E:[],s=o.find(S=>n.action===S.name),u=r.itemzz.filter(S=>S.directoryId===e.module.directoryId&&S.entityId===e.entity.id).sort((S,N)=>S.name.localeCompare(N.name));H.exports.useEffect(()=>{var N,_;if(((N=n.path)==null?void 0:N.entityId)===e.entity.id&&((_=n.path)==null?void 0:_.moduleId)===e.module.id)return;const S=i.itemzz.find(T=>T.entityId===e.entity.id&&T.moduleId===e.module.id);n.setPath(S),s?n.setAction(s.name,h(s)):n.setAction("")},[e.entity,e.module]);function h(S){return r.itemzz.find(N=>N.entityId===e.entity.id&&N.moduleId===e.module.id&&N.directoryId===S.id)}function p(S,N){let _="nav-link";return s&&S.id===s.id?(_+=" active",N===void 0&&(_+=" bg-white text-secondary border-primary"),_):(N===void 0&&(_+=" text-secondary"),_)}function v(){ti("please input the action name","").then(function(S){if(S.isConfirmed&&S.value){const N=t.find(e.module.directoryId);if(N){const _={...N,name:S.value};b(_)}}})}function y(S,N){return s===void 0||s.id!==S.id||N?null:w("span",{onClick:function(){b(s)},className:"badge bg-success rounded-pill",children:"+"})}function b(S){Ji().create(vZ(S,e.entity,e.module)).then(function(N){return n.setAction(n.action,N),CZ(N,e.entity,e.module,gv.getState().itemzz).then(function(_){return n.setPath(_),SZ(_,N).then(function(){if(N.name.includes("One")!==!1)return Ac().create({alias:"",columnId:Jt.ColumnIdOfIdInParameterInPath,pathId:_.id,requestId:null,responseId:null})})})}).catch(De.getState().showError)}function I(S){const N=h(S);return w("li",{onClick:function(){n.setAction(S.name,N)},className:"nav-item nav-item-fill",children:j("span",{className:p(S,N),children:[S.name," ",y(S,N)]})},S.id)}return j("div",{children:[w("div",{className:"d-flex",children:w("h3",{children:xZ})}),w("ul",{className:"nav nav-tabs",children:o.map(I)}),j("ul",{className:"nav nav-tabs mt-3",children:[u.map(function(S){return w("li",{className:"nav-item nav-item-fill",onClick:function(){n.setAction(S.name,S)},children:w("span",{className:"nav-link "+(n.action===S.name?"active border-primary":"text-primary"),children:S.name})},"ma"+S.id)}),w("li",{className:"nav-item",children:w("button",{className:"btn btn-outline-primary ms-3",type:"button",onClick:v,children:"+"})})]})]})}function IZ(e){return{...Bo(e),directoryId:10,fileId:53,testDirectoryId:10,prefix:"/"+e}}const dx=vt(function(e,t){return ri(e,t,qc())});function qL(e){return j("div",{className:"list-group",children:[e.children,e.itemzz.map(function(t){var n;return w("button",{className:"list-group-item list-group-item-action"+(((n=e.item)==null?void 0:n.id)===t.id?" active":""),onClick:()=>e.select(t),children:t.name},t.id)})]})}function OZ(){const e=dx();return j("div",{children:[j("div",{className:"d-flex",children:[w("h3",{children:"Module"}),w("div",{children:w("button",{className:"btn btn-outline-primary ms-3",type:"button",onClick:function(){Bn("please input the module name","").then(function(t){t.isConfirmed&&t.value&&qc().create(IZ(t.value)).catch(De.getState().showError)})},children:"+"})})]}),w(qL,{item:vf.getState().item,itemzz:e.itemzz,select:t=>vf.getState().setItem(t)})]})}function TZ(){var o,s;const e=zu(),t=Er(),n=Ja(),r=vf();function i(){const u=t.itemzz.map(h=>h.name);n.openCB("select an Entity",u,function(h){const p=t.findByName(h);p!==void 0&&e.setItem(p)})}return j("div",{className:"d-flex flex-column py-3",style:{gap:"2rem"},children:[j("div",{children:[w("h3",{children:"Entity"}),w("div",{children:w("button",{onClick:i,className:"btn btn-outline-primary",type:"button",children:(s=(o=e.item)==null?void 0:o.name)!=null?s:"-- select an Entity --"})})]}),w(OZ,{}),e.item===void 0||r.item===void 0?null:w(NZ,{entity:e.item,module:r.item})]})}function HL(e){return{...Bo(e),example:"",mediaType:"application/json"}}function _Z(e){return{required:!0,...HL(e)}}function Ty(e,t,n){return`${t.name}_${e}_${n}`}function AZ(e,t){return Ty(e,t,df.Request)}function RZ(e,t){return Ty(e,t,df.Response)}function PZ(e,t,n){return Ty(e,t,n?"Form":"Result")}function GL(e,t,n,r){const i=r.findByName(e);if(i)return Promise.resolve(i);const o=YL(e,t.id,n);return o.color=n?Si.pink:Si.orange,Eu().create(o).then(s=>{const u=pl();return u.ownerWuId=s.id,ei().create(u).then(()=>s)})}function kZ(e,t,n,r){const i=PZ(e,t,n);return GL(i,t,n,r)}function YL(e,t,n=!1){return{...Bo(e),entityId:t,type:"allOf",isRequest:n,description:"",example:"",isMap:!1}}const hx=vt(function(e,t){return{...ri(e,t,Xv()),sorting:!0}}),so=vt(function(e,t){return Xa(e,t,ei())}),Np=vt(function(e,t){return{...Xa(e,t,Xm()),add(r){e(i=>({itemzz:[...i.itemzz,r]}))}}}),cl=vt(function(e,t){return{...ri(e,t,Eu()),sorting:!0,add(r){e(i=>({itemzz:[...i.itemzz,r]}))}}});function yc(e){const t=Er.getState().findByName(e);return t===void 0?[]:zr.getState().itemzz.filter(n=>n.entityId===t.id)}function px(e){return e.replace("ParameterIn","").toLowerCase()}function mx(e){var v,y,b;const t=De(),[n,r]=H.exports.useState([]),i={pathId:(v=e.pathId)!=null?v:null,requestId:(y=e.requestId)!=null?y:null,responseId:(b=e.responseId)!=null?b:null},o=u(),s=oC(o);H.exports.useEffect(()=>{p()},[e.filter,e.pathId,e.requestId,e.responseId]);function u(){return e.responseId?yc(ot.ParameterInHeader):[...yc(ot.ParameterInCookie),...yc(ot.ParameterInHeader),...yc(ot.ParameterInPath),...yc(ot.ParameterInQuery)]}function h(I){return j(Zt,{children:[j("option",{value:I,disabled:!0,children:["-- ",px(I)," --"]}),yc(I).map(O=>w("option",{value:O.id,children:O.name},O.id))]})}function p(){Ac().findAll().then(I=>r(I.filter(function(O){return O.pathId===i.pathId&&O.requestId===i.requestId&&O.responseId===i.responseId}))).catch(t.showError)}return j("table",{className:"table",children:[w("thead",{children:j("tr",{children:[w("th",{children:j("select",{className:"form-select wa",value:0,onChange:function(I){const O=parseInt(I.target.value);Ac().create({alias:"",columnId:O,pathId:i.pathId,requestId:i.requestId,responseId:i.responseId}).then(p).catch(t.showError)},children:[w("option",{value:0,disabled:!0,hidden:!0,children:"-- add --"}),h(ot.ParameterInHeader),e.responseId?null:j(Zt,{children:[h(ot.ParameterInCookie),h(ot.ParameterInPath),h(ot.ParameterInQuery)]})]})}),w("th",{className:"align-middle",children:"alias"})]})}),w("tbody",{children:n.map(I=>{var O;return j("tr",{className:"mb-1",children:[w("td",{children:j("div",{className:"input-group",children:[w("button",{className:"btn btn-outline-danger",type:"button",onClick:function(){Ac().delete(I.id).then(p).catch(t.showError)},children:"-"}),w("button",{className:"btn btn-outline-secondary",type:"button",children:(O=s.get(I.columnId))!=null?O:"-- not found --"})]})}),w("td",{children:w("input",{className:"form-control",type:"text",value:I.alias,onChange:function(k){Ac().update({...I,alias:k.target.value}).then(p).catch(t.showError)}})})]},I.id)})})]})}function XL(e,t,n,r,i){const o=[s()];return e.isArray&&o.push("[]"),e.nullable&&o.push(" | null"),o.join("");function s(){var h,p;if(e.type===gt.Enum){const v=n.find(y=>{var b;return((b=e.variableId)!=null?b:0)===y.id});return v===void 0?Ei("Enum",(h=e.variableId)!=null?h:""):`Enum ${v.name}`}if(e.type===gt.WuParameter){const v=r.find(y=>{var b;return((b=e.wuParameterId)!=null?b:0)===y.id});return v===void 0?Ei("WuParameter",(p=e.wuParameterId)!=null?p:""):v.name}return e.type===gt.Wu?u():e.type}function u(){const h=i.find(y=>e.wuId===y.id);if(h===void 0)return Ei("Wu",e.wuId);const p=t.filter(y=>y.ownerId===e.id);if(p.length===0)return h.name;const v=p.map(y=>XL(y,t,n,r,i));return`${h.name}<${v.join(", ")}>`}}const Ip=vt(function(e,t){return{...ri(e,t,qg()),sorting:!0}}),vl=vt(function(e,t){return{...ri(e,t,Hg()),add(r){e(i=>({itemzz:[...i.itemzz,r]}))}}});function JL(e){return ei().deleteChildzz(e,"ownerId").then(t=>console.log("delete argument ",t))}function DZ(e){var n;const t=Ip();return w(En,{className:"wa inline",itemzz:t.itemzz,value:(n=e.item.variableId)!=null?n:0,change:function(r){e.update({...e.item,variableId:r})}})}function LZ(e){var i;const t=vl(),[n,r]=H.exports.useState([]);return H.exports.useEffect(()=>{r(t.itemzz.filter(o=>o.wuId===e.wuId))},[e.wuId]),w(En,{className:"wa inline",itemzz:n,value:(i=e.item.wuParameterId)!=null?i:0,change:function(o){e.update({...e.item,wuParameterId:o})}})}function QL(e){const t=so(),n=vl(),[r,i]=H.exports.useState([]),[o,s]=H.exports.useState([]);return H.exports.useEffect(()=>{i(n.itemzz.filter(u=>u.wuId===e.item.wuId)),s(t.itemzz.filter(u=>u.ownerId===e.item.id))},[e.item,t.itemzz]),r.length===0?null:j("div",{children:["<",r.map((u,h)=>{const p=o[h];return p===void 0?j("span",{className:"text-danger",children:["argument ",u.name," is missing"]},u.id):w("div",{className:"mt-1",children:w(Op,{id:u.id,item:p,wuId:e.wuId,children:j("div",{className:"text-secondary me-2",children:[u.name,u.isWu&&p.type!==gt.Wu?w("span",{className:"text-danger ms-1",children:"must be Wu"}):null]})})},u.id)}),">"]})}function MZ(e,t){return ei().create(pl(e.isWu?gt.Wu:gt.any,1,null,null,t,e.id))}async function gx(e,t){const n=vl.getState().itemzz.filter(i=>i.wuId===e);if(n.length===0)return[];const r=[];for(const i of n){const o=await MZ(i,t);r.push(o)}return r}function zZ(e){var i;const t=cl(),n=t.itemzz.find(o=>o.id===e.item.wuId);function r(){Ja.getState().openCB("Please select a Wu",t.itemzz.map(o=>o.name),function(o){const s=t.findByName(o);if(s==null||s.id===e.item.wuId)return;const u=e.item;e.update({...e.item,wuId:s.id}).then(()=>JL(u.id)).then(()=>gx(s.id,u.id)).catch(De.getState().showError)})}return j("div",{className:e.className,children:[w("button",{onClick:r,className:"btn btn-outline-primary",type:"button",children:(i=n==null?void 0:n.name)!=null?i:Ei("Wu",e.item.wuId)}),w(QL,{item:e.item,wuId:e.wuId})]})}function BZ(e){return e.item.type===gt.Enum?w(DZ,{item:e.item,update:e.update}):e.item.type===gt.WuParameter?e.wuId===void 0?w("span",{className:"text-danger",children:"only available in Wu page"}):w(LZ,{item:e.item,wuId:e.wuId,update:e.update}):w(zZ,{item:e.item,wuId:e.wuId,update:e.update})}function Op(e){const t=De();if(e.item===void 0)return w("span",{className:"text-danger",children:Ei("TypeFormat","")});const n=e;if(n.wuId===void 0&&n.item.type===gt.WuParameter)return w("span",{className:"text-danger",children:"WuParameter is only available in Wu page"});function r(){return n.wuId?xS:xS.filter(u=>u!==gt.WuParameter)}function i(){if([gt.any,gt.boolean].includes(n.item.type))return null;if(XY(n.item.type))return w(BZ,{item:n.item,wuId:n.wuId,update:o});const u=Ti("TypeFormat").map(h=>h.name);return w("div",{children:w(ko,{allowEmpty:!0,className:"wa",itemzz:u,value:n.item.format,change:h=>o({...n.item,format:h})})})}function o(u){return ei().update(u).catch(t.showError)}function s(u){if(u===n.item.type)return;const h={...n.item,type:u},p=n.item.type;return p===gt.Wu&&(h.wuId=1),p===gt.WuParameter&&(h.wuParameterId=null),p===gt.Enum&&(h.variableId=null),o(h).then(function(){if(p===gt.Wu)return JL(n.item.id)}).catch(t.showError)}return j("div",{children:[j("div",{className:"d-flex mt-2",children:[w("div",{children:n.children}),w("div",{children:j("div",{className:"form-check form-switch",children:[w("input",{checked:n.item.isArray,onChange:u=>o({...n.item,isArray:u.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"isArraySwitchCheck"+n.id}),n.item.isArray?w("label",{className:"form-check-label",htmlFor:"isArraySwitchCheck"+n.id,children:"array"}):null]})}),w("div",{children:j("div",{className:"form-check form-switch ms-2",children:[w("input",{checked:n.item.nullable,onChange:u=>o({...n.item,nullable:u.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"nullableSwitchCheck"+n.id}),n.item.nullable?w("label",{className:"form-check-label",htmlFor:"nullableSwitchCheck"+n.id,children:"nullable"}):null]})})]}),j("div",{className:"d-flex mt-2",children:[w("div",{children:w(ko,{className:"wa me-1",itemzz:r(),value:n.item.type,change:s})}),w("div",{children:i()})]})]})}function ZL(e){const t=so(),n=Ip(),r=vl(),i=cl(),[o,s]=H.exports.useState(!1);if(o)return j("div",{children:[w("div",{children:w("button",{className:"btn btn-outline-primary",type:"button",onClick:()=>s(!1),children:"OK"})}),w(Op,{id:e.id,item:e.item,wuId:e.wuId})]});let u=Ei("TypeFormat",""),h=u.length;return e.item&&(u=XL(e.item,t.itemzz,n.itemzz,r.itemzz,i.itemzz),h=u.indexOf("<"),h===-1&&(h=u.length)),j("span",{className:e.isRoot?"pointer":"",onClick:()=>e.isRoot?s(!0):null,children:[u.slice(0,h),u.slice(h)]})}function FZ(e){const t=lx(),n=De(),[r,i]=H.exports.useState([]),[o,s]=H.exports.useState([]);H.exports.useEffect(()=>{i(t.itemzz.filter(p=>p.columnId===e.wc.columnId)),u()},[]);function u(){xb().findAllBelongTo([e.wc.id],Pt(Lt.WuColumn)).then(p=>s(p)).catch(n.showError)}function h(p){const v=o.find(y=>y.columnConstraintId===p.id&&y.wuColumnId===e.wc.id);return w("td",{children:j("div",{className:"form-check form-switch inline",children:[w("input",{checked:v!==void 0,onChange:function(){if(v){xb().delete(v.id).then(u).catch(n.showError);return}xb().create({wuColumnId:e.wc.id,columnConstraintId:p.id}).then(u).catch(n.showError)},className:"form-check-input",type:"checkbox",role:"switch",id:"wccSwitchCheck"+p.id}),j("label",{className:"form-check-label text-secondary",htmlFor:"wccSwitchCheck"+p.id,children:[p.name,p.parameter?":"+p.parameter:""]})]})})}return w("table",{className:"table table-borderless table-sm",children:w("tbody",{children:r.map(p=>w("tr",{children:h(p)},p.id))})})}function UZ(e){const t=De(),n=so();function r(){if(e.wc){Xm().delete(e.wc.id).catch(t.showError);return}Xm().create({wuId:e.wu.id,columnId:e.item.id,alias:""}).catch(t.showError)}function i(){if(e.wc===void 0)return null;if(e.wu.isRequest)return w(FZ,{wc:e.wc});const o=n.itemzz.find(s=>s.ownerColumnId===e.item.id);return w(ZL,{id:e.item.id,isRoot:!0,item:o,wuId:e.wu.id})}return j("tr",{children:[j("td",{children:[j("div",{className:"form-check form-switch inline",children:[w("input",{checked:e.wc!==void 0,onChange:r,className:"form-check-input",type:"checkbox",role:"switch",id:"includeSwitchCheck"+e.item.id}),w("label",{className:"form-check-label text-secondary",htmlFor:"includeSwitchCheck"+e.item.id,children:e.wc?"":e.item.name})]}),e.wc?w("input",{value:e.wc.alias,onChange:o=>Xm().update({...e.wc,alias:o.target.value}).catch(t.showError),type:"text",className:"form-control inline wa",placeholder:e.item.name}):null]}),w("td",{children:i()})]})}function vx(e){const t=zr(),n=De(),r=Np(),[i,o]=H.exports.useState([]),[s,u]=H.exports.useState(new Map);H.exports.useEffect(()=>{o(t.itemzz.filter(y=>y.entityId===e.item.entityId));const v=r.itemzz.filter(y=>y.wuId===e.item.id);u(new Map(v.map(y=>[y.columnId,y])))},[t.itemzz,e.item,r.itemzz]);function h(v){const y=s.get(v.id);return`${e.item.id} ${y==null?void 0:y.id} ${v.id}`}function p(){return e.noCaption?null:e.caption?e.caption:j("caption",{children:[w("h3",{className:"inline me-3",children:"Column"}),j("div",{className:"form-check form-switch inline",children:[w("input",{checked:e.item.isRequest,onChange:function(v){Eu().update({...e.item,isRequest:v.target.checked}).catch(n.showError)},className:"form-check-input",type:"checkbox",role:"switch",id:"isRequestSwitchCheck"}),w("label",{className:"form-check-label",htmlFor:"isRequestSwitchCheck",children:"isRequest"})]}),w(ni,{className:"ms-3",href:"https://spec.openapis.org/oas/v3.0.3#schema-object",children:"doc"})]})}return j("table",{className:"table td0-tal",children:[p(),w("thead",{children:j("tr",{children:[w("th",{className:"w333",children:"include / alias (can be empty)"}),j("th",{children:[e.item.isRequest?"include constraint":"isArray / nullable / type / format",e.item.isRequest?null:w(ni,{className:"ms-3",href:"https://spec.openapis.org/oas/v3.0.3#data-types",children:"doc"})]})]})}),w("tbody",{children:i.map(v=>w(UZ,{isRequest:e.item.isRequest,item:v,wc:s.get(v.id),wu:e.item},h(v)))})]})}const t0=qi.Request;function $Z(e){const t=gl(),n=hx(),r=De(),i=so(),o=Np(),s=cl(),[u,h]=H.exports.useState(!1),[p,v]=H.exports.useState(),y=AZ(e.action,e.entity),b=n.find(e.ma.requestId),I="Filter",O=Ty(e.action,e.entity,I);if(H.exports.useEffect(()=>{if(b===void 0){v(void 0);return}const S=i.itemzz.find(N=>N.ownerRequestId===b.id);S!==void 0&&(S.type===gt.Wu?v(s.find(S.wuId)):v(void 0))},[e.ma.requestId]),e.step!==t0){const S=o.itemzz.filter(N=>N.wuId===(p==null?void 0:p.id));return j("div",{className:"my-3",children:[w("h3",{className:"pointer hover-blue text-secondary",onClick:()=>t.setStep(t0),children:t0}),b===void 0?null:j("div",{className:"mt-3",children:[b.name," ",p===void 0||b.id===1?null:S.length===0?w("span",{className:"text-danger",children:"(0 fields)"}):j("span",{className:"text-secondary",children:["(",S.length," fields)"]})]})]})}function k(){const S=Er.getState().findByName(ot.ParameterInQuery);if(S===void 0)return;if(zr.getState().itemzz.find(_=>_.entityId===S.id&&_.name===O)){r.showError(`Parameter ${O} already exists`);return}Mu(S.id,O,"object","",0,"form","",!1).then(function(_){return r.showSuccess(`Parameter ${O} created`),Ac().create({alias:I,columnId:_.id,pathId:null,requestId:e.ma.requestId,responseId:null})}).then(()=>h(!0)).catch(r.showError)}function E(){return kZ(e.action,e.entity,!0,s).then(S=>(v(S),r.showSuccess(`Wu ${S.name} created`),Xv().create(_Z(y)).then(N=>{r.showSuccess(`Request ${N.name} created`);const _=pl(gt.Wu,S.id);return _.ownerRequestId=N.id,ei().create(_).then(()=>Ji().update({...e.ma,requestId:N.id}).then(T=>t.setAction(e.action,T)))}))).catch(r.showError)}return j("div",{children:[w("div",{className:"my-2",children:n.findByName(y)?null:j("span",{onClick:E,className:"btn btn-outline-primary",children:["+ ",y]})}),w("div",{children:w(En,{className:"wa",itemzz:n.itemzz.filter(S=>S.id===1||S.name.startsWith(e.entity.name+"_")),value:e.ma.requestId,change:function(S){Ji().update({...e.ma,requestId:S}).then(N=>t.setAction(e.action,N)).catch(r.showError)}})}),p===void 0?null:j(Zt,{children:[w("h3",{className:"my-3",children:p.name}),w(vx,{item:p,noCaption:!0})]}),j("div",{children:[w("h3",{className:"inline me-3",children:"Parameter"}),e.ma.name.includes("ReadPage")?j("button",{onClick:k,className:"btn btn-outline-primary",type:"button",children:["+ ",O]}):null]}),w(mx,{filter:u,requestId:e.ma.requestId})]})}const yx=vt(function(e,t){return ri(e,t,Vg())});function wx(e){const t=De();function n(r){if(!(e.fieldName in r))throw new Error(`field ${e.fieldName} not exists`);const o=r[e.fieldName],s=e.source.find(u=>u.id===o);return s?s.name:`${e.fieldName} ${o} not found`}return j("ul",{className:"list-unstyled",children:[j("li",{className:"mb-1",children:[e.title?w("h3",{className:"inline me-3",children:e.title}):null,w(En,{isAdd:!0,itemzz:e.source,value:0,change:function(r){e.create(r).catch(t.showError)},className:"inline wa"})]}),e.itemzz.map(r=>w("li",{className:"mb-1",children:j("button",{onClick:function(){return e.delete(r.id).catch(t.showError)},className:"btn btn-outline-danger",type:"button",children:["- ",n(r)]})},r.id))]})}function eM(e){const t=yx(),n=De(),[r,i]=H.exports.useState([]);H.exports.useEffect(()=>{o()},[e.requestId,e.pathId]);function o(){Eb().findAll().then(s=>i(s.filter(function(u){return u.requestId===e.requestId&&u.pathId===e.pathId}))).catch(n.showError)}return w(wx,{fieldName:"serverId",itemzz:r,source:t.itemzz.filter(s=>s.global===!1),create:function(s){return Eb().create({serverId:s,pathId:e.pathId,requestId:e.requestId}).then(o)},delete:function(s){return Eb().delete(s).then(o)}})}function WZ(e){const t=De(),[n,r]=H.exports.useState(e.ma);H.exports.useEffect(()=>{r(e.ma)},[e.ma]);function i(o){r(o),Ji().update(o).then(r).catch(t.showError)}return j("table",{className:"table td0-tar",children:[w("caption",{children:e.children}),j("tbody",{children:[j("tr",{children:[w("td",{children:"deprecated"}),w("td",{children:j("div",{className:"form-check form-switch",children:[w("input",{checked:n.deprecated,onChange:o=>i({...n,deprecated:o.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"deprecatedSwitchCheck"+n.id}),w("label",{className:"form-check-label",htmlFor:"deprecatedSwitchCheck"+n.id})]})})]}),j("tr",{children:[w("td",{children:"inOapi"}),j("td",{children:[j("div",{className:"form-check form-switch inline",children:[w("input",{checked:n.inOapi,onChange:o=>i({...n,inOapi:o.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"inOapiSwitchCheck"+n.id}),w("label",{className:"form-check-label",htmlFor:"inOapiSwitchCheck"+n.id})]}),w("span",{children:"if true, it will be included in OpenApi document"})]})]}),j("tr",{children:[w("td",{children:"inRoute"}),j("td",{children:[j("div",{className:"form-check form-switch inline",children:[w("input",{checked:n.inRoute,onChange:o=>i({...n,inRoute:o.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"inRouteSwitchCheck"+n.id}),w("label",{className:"form-check-label",htmlFor:"inRouteSwitchCheck"+n.id})]}),w("span",{children:"if true, it will be included in route file"})]})]}),j("tr",{children:[w("td",{children:"server"}),w("td",{children:w(eM,{requestId:e.ma.requestId,pathId:null})}),w("td",{})]}),j("tr",{children:[w("td",{children:"summary"}),w("td",{children:w("input",{value:n.summary,onChange:o=>i({...n,summary:o.target.value}),type:"text",className:"form-control"})})]}),j("tr",{children:[w("td",{children:"routeName"}),w("td",{children:w("input",{value:n.routeName,onChange:o=>i({...n,routeName:o.target.value}),type:"text",className:"form-control"})})]}),j("tr",{children:[w("td",{children:"operationId"}),w("td",{children:w("button",{className:"btn btn-outline-primary",type:"button",onClick:function(){ti("Please input an unique operationId",n.operationId).then(o=>{if(o.isConfirmed)return Ji().update({...n,operationId:o.value}).then(r)}).catch(t.showError)},children:n.operationId})})]}),j("tr",{children:[w("td",{children:"description"}),w("td",{children:w("textarea",{value:n.description,onChange:o=>i({...n,description:o.target.value}),className:"form-control"})})]})]})]})}function _y(e){var n;const t=De();return j("div",{className:"btn-group "+((n=e.className)!=null?n:""),children:[w("button",{disabled:e.canDelete===!1,onClick:function(){Mr().then(r=>e.onDelete(r.isConfirmed)).catch(t.showError)},className:"btn btn-outline-primary danger",type:"button",children:"-"}),w("button",{disabled:e.canChange===!1,onClick:e.onChange,className:"btn btn-outline-primary",type:"button",children:e.name}),e.children]})}function jZ(e){const t=gl(),n=De();return w(WZ,{action:e.ma.name,entity:e.entity,ma:e.ma,children:w(_y,{name:e.ma.name,onChange:function(){ti("Please input the path",e.ma.name).then(r=>{if(r.isConfirmed)return Ji().update({...e.ma,name:r.value}).then(i=>t.setAction(i.name,i))}).catch(n.showError)},onDelete:function(r){r&&Ji().delete(e.ma.id).then(()=>t.setAction("")).catch(n.showError)}})})}function KZ(e){const t=oi(),n=gl(),r=Ja(),i=De(),o=Pr(e.ma.filezz),s=e.ma.filezz.filter(p=>p.isExtra&&p.directoryId===e.directoryId);function u(p){return j(Zt,{children:[w("button",{onClick:function(){Ji().update({...e.ma,filezz:e.ma.filezz.filter(v=>v.id!==p.id)}).then(v=>n.setAction(v.name,v)).catch(i.showError)},className:"btn btn-outline-danger",type:"button",children:"-"}),w(Qa,{action:e.action,className:"ms-3",entity:e.entity,file:p,ma:e.ma,module:e.module})]})}function h(){r.text===""&&(r.text=e.action);const p=t.itemzz.filter(v=>v.isSingle===!1).map(v=>v.name);r.openCB("select a file",p,function(v){const y=t.findByName(v);y!==void 0&&Bn("please input the fileNamePattern",y.fileNamePattern).then(function(b){if(b.isConfirmed&&b.value){const I={...y,directoryId:e.directoryId,isExtra:!0,fileNamePattern:b.value,id:y.id};return e.isTest?I.nameSpacePattern=e.entity.name:I.nameSpacePattern=e.ma.name,Ji().update({...e.ma,filezz:[...e.ma.filezz,I]}).then(O=>n.setAction(O.name,O))}}).catch(i.showError)})}return j("tbody",{children:[e.source.map(p=>{const v=o.get(p.id);return j("tr",{children:[j("td",{children:[j("div",{className:"btn-group me-2",children:[w(ha,{file:ll(sl(p,Hv)),content:Jt.ScriptCode}),w(ha,{file:ll(sl(p,Gv)),content:""})]}),p.name]}),w("td",{children:v===void 0?w("button",{className:"btn btn-outline-primary",type:"button",onClick:function(){const y={...p,isExtra:!1,directoryId:e.directoryId};e.isTest===!1&&(y.nameSpacePattern=e.ma.name),Ji().update({...e.ma,filezz:[...e.ma.filezz,y]}).then(b=>n.setAction(b.name,b)).catch(i.showError)},children:"+"}):u(v)})]},p.id)}),s.map(function(p){return j("tr",{children:[w("td",{}),w("td",{children:u(p)})]},p.id)}),j("tr",{children:[w("td",{}),w("td",{children:w("button",{className:"btn btn-outline-success",type:"button",onClick:h,children:"+"})})]})]})}function D1(e){const t=ao(),n=oi(),r=t.find(e.directoryId),i=n.itemzz.filter(s=>e.isTest?s.directoryId===e.module.testDirectoryId:s.directoryId===e.ma.directoryId||o(e.ma.name,s.directoryId)||s.directoryId===e.module.directoryId).sort((s,u)=>s.directoryId===u.directoryId?s.name.localeCompare(u.name):s.directoryId-u.directoryId);function o(s,u){const h=e.directoryMap.get(u);if(h===void 0)return!1;if(s.includes(h.name))return v(h.parentId);return!1;function v(y){if(y===null)return!1;if(y===e.module.directoryId)return!0;const b=e.directoryMap.get(y);return b===void 0?!1:v(b.parentId)}}return j("table",{className:"table",children:[j("caption",{children:[w("span",{className:"me-3",children:"Directory:"}),r?t.treeHelper.getDirectoryFullName(r,e.entity,e.action):`Directory ${e.directoryId} not found`,e.isTest?"/"+e.entity.name:""]}),w("thead",{children:j("tr",{children:[w("td",{className:"w-50",children:"edit script / template"}),w("td",{children:"file"})]})}),w(KZ,{action:e.action,directoryId:e.directoryId,entity:e.entity,isTest:e.isTest,ma:e.ma,module:e.module,source:i})]})}const n0=qi.File;var tM=(e=>(e.All="All",e.Crud="Crud",e.Test="Test",e))(tM||{});function VZ(e){const t=ao(),n=gl(),[r,i]=H.exports.useState("Crud"),o=Pr(t.itemzz),s=Object.keys(tM);return e.step!==n0?j("table",{className:"table",children:[w("caption",{children:w("h3",{className:"pointer hover-blue",onClick:()=>n.setStep(n0),children:n0})}),w("tbody",{children:e.ma.filezz.sort((u,h)=>{if(u.directoryId===h.directoryId){const p=t.treeHelper.getFileName(u,e.entity,e.action),v=t.treeHelper.getFileName(h,e.entity,e.action);return p.localeCompare(v)}return u.directoryId-h.directoryId}).map(u=>w("tr",{children:w("td",{children:w(Qa,{action:e.action,file:u,fullName:!0,ma:e.ma,entity:e.entity})})},u.id))})]}):j("div",{children:[w(Df,{tab:r,tabzz:s,setTab:i}),r==="All"?w(SD,{entity:e.entity,ma:e.ma,module:e.module}):null,r==="Crud"?w(D1,{action:e.action,directoryId:e.module.directoryId,entity:e.entity,isTest:!1,ma:e.ma,module:e.module,directoryMap:o}):null,r==="Test"?w(D1,{action:e.action,directoryId:e.module.testDirectoryId,entity:e.entity,isTest:!0,ma:e.ma,module:e.module,directoryMap:o}):null]})}function qZ(e){const t=ux(),n=ao(),r=oi(),i=vf(),o=De(),s=AC("Item"),u=n.find(e.item.directoryId),h=n.find(e.item.testDirectoryId);function p(y){t.openCB("Please select a Directory",function(b){const I={...e.item};y?I.testDirectoryId=b:I.directoryId=b,v(I)})}function v(y){qc().update(y).then(b=>i.setItem(b)).catch(o.showError)}return j("table",{className:"table td0-tar",children:[j("caption",{children:[e.children,w(_y,{name:e.item.name,onChange:function(){Bn("Please input the path",e.item.name).then(y=>{if(y.isConfirmed)return qc().update({...e.item,name:y.value}).then(i.setItem)}).catch(o.showError)},onDelete:function(y){y&&qc().delete(e.item.id).then(()=>i.setItem()).catch(o.showError)}})]}),j("tbody",{children:[j("tr",{children:[w("td",{className:"w111",children:"color"}),w("td",{children:w(ya,{color:e.item.color,setColor:y=>v({...e.item,color:y})})})]}),j("tr",{children:[w("td",{children:"URI prefix"}),w("td",{children:w("button",{className:"btn btn-outline-primary",type:"button",onClick:function(){Bn("Please input the Module name",e.item.prefix).then(function(y){if(y.isConfirmed)return v({...e.item,prefix:y.value})}).catch(o.showError)},children:e.item.prefix})})]}),j("tr",{children:[w("td",{children:"directory"}),w("td",{children:w("button",{className:"btn btn-outline-"+(u?"primary":"danger"),type:"button",onClick:function(){p(!1)},children:u?n.treeHelper.getDirectoryFullName(u,s,""):`Directory ${e.item.directoryId} not found`})})]}),j("tr",{children:[w("td",{children:"test directory"}),w("td",{children:w("button",{className:"btn btn-outline-"+(h?"primary":"danger"),type:"button",onClick:function(){p(!0)},children:h?n.treeHelper.getDirectoryFullName(h,s,""):`Directory ${e.item.testDirectoryId} not found`})})]}),j("tr",{children:[w("td",{children:"route file"}),w("td",{children:w(En,{className:"wa",itemzz:r.itemzz,value:e.item.fileId,change:function(y){v({...e.item,fileId:y})}})})]}),j("tr",{children:[w("td",{children:"description"}),w("td",{children:w("textarea",{value:e.item.description,onChange:y=>v({...e.item,description:y.target.value}),className:"form-control"})})]})]})]})}const HZ=vt(function(e){return{...zo(e),moduleId:1,setModuleId(t){e({moduleId:t,item:void 0})}}});function GZ(e){return j("ul",{className:"list-unstyled",children:[j("li",{className:"mb-1",children:[e.title?w("h3",{className:"inline me-3",children:e.title}):null,w(ko,{isAdd:!0,itemzz:e.source,value:"",change:function(t){e.create(t)}})]}),e.itemzz.map(t=>w("li",{className:"mb-1",children:j("button",{className:"btn btn-outline-danger",type:"button",onClick:function(){e.delete(t)},children:["- ",t]})},t))]})}function YZ(e){return w(GZ,{itemzz:e.item.middlewarezz,source:e.middlewarezz,create:function(t){const n=new Set(e.item.middlewarezz);if(n.has(t))return;const r=Array.from(n.values());r.push(t),r.sort(),e.update({...e.item,middlewarezz:r})},delete:function(t){const n=e.item.middlewarezz.indexOf(t);if(n===-1)return;const r=[...e.item.middlewarezz];r.splice(n,1),e.update({...e.item,middlewarezz:r})}})}function XZ(e){const t=De();function n(o){lh().update(o).then(()=>e.refresh()).catch(t.showError)}const r=e.itemzz.find(o=>o.method===e.method);if(r===void 0)return j("tr",{children:[w("td",{children:e.method}),w("td",{children:w(En,{className:"wa inline",itemzz:e.mazz,value:0,change:function(o){lh().create({pathId:e.path.id,moduleActionId:o,method:e.method,middlewarezz:[]}).then(()=>e.refresh()).catch(t.showError)}})}),w("td",{})]});const i=e.mazz.find(o=>o.id===r.moduleActionId);return i===void 0?w("tr",{children:w("td",{colSpan:3,children:j("span",{className:"text-danger",children:["ModuleAction ",r.moduleActionId," not found"]})})}):j("tr",{children:[w("td",{children:e.method}),j("td",{children:[w("button",{className:"btn btn-outline-danger me-1",type:"button",onClick:function(){lh().delete(r.id).then(()=>e.refresh()).catch(t.showError)},children:"-"}),w(En,{className:"wa inline",itemzz:e.mazz,value:i.id,change:function(o){n({...r,moduleActionId:o})}})]}),w("td",{children:w(YZ,{item:r,middlewarezz:e.middlewarezz,path:e.path,update:n})})]})}function JZ(e){const t=fx(),n=De(),[r,i]=H.exports.useState([]),o=Ti("Middleware").map(h=>h.name),s=t.itemzz.filter(h=>h.entityId===e.item.entityId&&h.moduleId===e.item.moduleId).sort((h,p)=>h.name.localeCompare(p.name));H.exports.useEffect(()=>{u()},[e.item]);function u(){lh().findAll().then(h=>i(h.filter(p=>p.pathId===e.item.id))).catch(n.showError)}return w(Zt,{children:HY.map(h=>w(XZ,{itemzz:r,mazz:s,method:h,middlewarezz:o,path:e.item,refresh:u},h))})}function QZ(e){const t=HZ();function n(r){t.setItem(r),Mh().update(r).then(i=>t.setItem(i)).catch(De.getState().showError)}return j("table",{className:"table td0-tar",children:[w("caption",{children:e.children}),j("tbody",{children:[j("tr",{children:[w("td",{children:"color"}),w("td",{children:w(ya,{color:e.item.color,setColor:r=>n({...e.item,color:r})})})]}),j("tr",{children:[w("td",{className:"w111",children:"parameter"}),w("td",{children:w(mx,{pathId:e.item.id})}),w("td",{})]}),j("tr",{children:[w("td",{children:"server"}),w("td",{colSpan:2,children:w(eM,{requestId:null,pathId:e.item.id})})]}),j("tr",{children:[w("td",{children:"summary"}),w("td",{colSpan:2,children:w("input",{value:e.item.summary,onChange:r=>n({...e.item,summary:r.target.value}),className:"form-control",type:"text"})})]}),j("tr",{children:[w("td",{children:"description"}),w("td",{colSpan:2,children:w("textarea",{className:"form-control",value:e.item.description,onChange:r=>n({...e.item,description:r.target.value})})})]}),w(JZ,{item:e.item,module:e.module})]})]})}function ZZ(e){const t=oi(),n=gl(),r=gv(),i=t.find(e.module.fileId),o=r.itemzz.filter(s=>s.moduleId===e.module.id&&s.entityId===e.entity.id);return j("div",{className:"my-3",children:[w("div",{className:"mb-3",children:i===void 0?j("span",{className:"text-danger",children:["route file ",e.module.fileId," not found"]}):w(Qa,{action:"",file:i,fullName:!0,entity:e.entity,module:e.module})}),w(qL,{item:n.path,itemzz:o,select:s=>n.setPath(s)})]})}function eee(e){const t=gl(),n=De();function r(i){return w(QZ,{entity:e.entity,item:i,module:e.module,children:w(_y,{name:i.name,onChange:function(){Bn("Please input the path",i.name).then(o=>{if(o.isConfirmed)return Mh().update({...i,name:o.value}).then(t.setPath)}).catch(n.showError)},onDelete:function(o){o&&Mh().delete(i.id).then(()=>t.setPath()).catch(n.showError)}})})}return j("div",{children:[w(ZZ,{entity:e.entity,module:e.module}),t.path===void 0?null:r(t.path)]})}function L1(e,t,n=2){return{status:e,responseId:n,moduleActionId:t,description:""}}const Ay=vt(function(e,t){return{...ri(e,t,Kg()),sorting:!0}});function tee(e){var u,h;const t=Ay(),n=De(),r=so(),i=t.find(e.item.responseId);function o(){if(i===void 0)return w("span",{className:"text-danger",children:Ei("",e.item.responseId)});const p=r.itemzz.find(v=>v.ownerResponseId===i.id);return w(ZL,{id:e.item.id,item:p})}function s(p){return _c().update(p).then(e.refresh).catch(n.showError)}return j("tr",{children:[w("td",{children:j("div",{className:"input-group",children:[w("button",{onClick:function(){Mr().then(p=>{if(p.isConfirmed)return _c().delete(e.item.id).then(e.refresh)}).catch(n.showError)},className:"btn btn-outline-danger",type:"button",children:"-"}),w(En,{itemzz:e.statuszz,value:(h=(u=e.statuszz.find(p=>p.name===e.item.status))==null?void 0:u.id)!=null?h:0,change:function(p,v){var y;s({...e.item,status:(y=v==null?void 0:v.name)!=null?y:""})}})]})}),w("td",{children:w(En,{className:"wa",itemzz:t.itemzz.filter(p=>p.id===1||p.name.startsWith(e.entity.name+"_")),value:e.item.responseId,change:function(p){s({...e.item,responseId:p})}})}),w("td",{children:o()})]})}const nee=qi.Response;function ree(e){const t=Ay(),n=De(),r=so(),i=Np(),o=cl(),[s,u]=H.exports.useState([]),h=RZ(e.action,e.entity),p=Ti("HttpStatus");let v=!1;const y=s.find(S=>S.status==="200"),b=I();if(H.exports.useEffect(()=>(E().catch(n.showError),function(){v=!0}),[e.ma,e.entity]),e.step!==nee){let S=function(){if(b===void 0)return null;const N=i.itemzz.filter(_=>_.wuId===(b==null?void 0:b.id));return N.length===0?j("span",{className:"text-danger",children:["(",b.name," 0 fields)"]}):j("span",{className:"text-secondary",children:["(",b.name," ",N.length," fields)"]})};return w(Zt,{children:w("table",{className:"table table-borderless table-sm",children:j("tbody",{children:[y===void 0?w("tr",{children:w("td",{colSpan:2,children:w("div",{className:"text-danger",children:"Response 200 is missing"})})}):null,s.map(N=>{var _;return j("tr",{children:[w("td",{className:"w111",children:N.status}),j("td",{children:[(_=t.find(N.responseId))==null?void 0:_.name," ",N.id===(y==null?void 0:y.id)?S():null]})]},N.status)})]})})})}function I(){if(y===void 0)return;const S=r.itemzz.find(N=>N.ownerResponseId===(y==null?void 0:y.responseId));if(S&&S.type===gt.Wu){const N=r.itemzz.find(_=>_.ownerId===S.id);if(N&&N.type===gt.Wu)return o.find(N.wuId)}}function O(S){var T,M,R,B;const N=(T=o.findByName("ApiItemzz"))==null?void 0:T.id,_=new Map([["ReadAll",N],["ReadMany",N],["One",(M=o.findByName("ApiItem"))==null?void 0:M.id],["ReadPage",(R=o.findByName("ApiPage"))==null?void 0:R.id]]);for(const[U,F]of _)if(S.includes(U))return F;return(B=o.findByName("ApiData"))==null?void 0:B.id}function k(){return Kg().create(HL(h)).then(S=>{var T;n.showSuccess(`Response ${S.name} created`);const N=(T=O(e.action))!=null?T:1,_=pl(gt.Wu,N);return _.ownerResponseId=S.id,ei().create(_).then(function(M){return gx(N,M.id).then(function(R){if(R.length!==0)return GL(e.entity.name,e.entity,!1,o).then(B=>ei().update({...R[0],wuId:B.id})).then(()=>n.showSuccess(`Wu ${e.entity.name} created`))})}).then(function(){return y===void 0?_c().create(L1("200",e.ma.id,S.id)).then(function(){n.showSuccess("Response 200 created")}):_c().update({...y,responseId:S.id}).then(function(){})})}).then(E).catch(n.showError)}function E(){return _c().findAll().then(S=>{if(v)return;const N=S.filter(_=>_.moduleActionId===e.ma.id);u(N)})}return j(Zt,{children:[j("table",{className:"table td0-tal",children:[w("caption",{children:w("div",{children:t.findByName(h)?null:j("span",{onClick:k,className:"btn btn-outline-primary",children:["+ ",h]})})}),w("thead",{children:j("tr",{children:[w("th",{children:"status"}),w("th",{children:"name"}),w("th",{children:"content"})]})}),w("tbody",{children:s.map(S=>w(tee,{entity:e.entity,item:S,refresh:E,statuszz:p},S.status))}),w("tfoot",{children:j("tr",{children:[w("td",{children:w(En,{isAdd:!0,itemzz:p,value:0,change:function(S,N){var _;_c().create(L1((_=N==null?void 0:N.name)!=null?_:"",e.ma.id)).then(E).catch(n.showError)}})}),w("td",{}),w("td",{})]})})]}),y&&b?w(vx,{item:b,caption:w("caption",{children:j("h3",{className:"text-dark",children:["Wu ",b.name]})})}):null]})}function iee(){const e=zu(),t=gl(),n=vf();if(H.exports.useEffect(()=>{n.item===void 0&&qc().findAll().then(o=>n.setItem(o[0]))},[]),e.item===void 0)return null;const r=Object.keys(qi);let i="white";return n.item&&(i=n.item.color+2),j("div",{children:[w("div",{className:"position-fixed bg-white w-100",style:{zIndex:111},children:w("div",{className:"pt-3 ps-3 d-flex align-items-baseline",style:{backgroundColor:i},children:w(Df,{tab:t.step,tabzz:r,setTab:function(o){t.setStep(o)}})})}),w("div",{style:{height:"77px"}}),n.item&&t.step===qi.Module?w(qZ,{item:n.item}):null,n.item&&t.step===qi.Path?w(eee,{entity:e.item,module:n.item}):null,n.item&&t.ma&&t.step===qi.Action?w(jZ,{entity:e.item,ma:t.ma,module:n.item}):null,t.ma&&n.item&&t.step===qi.Request?w($Z,{action:t.action,entity:e.item,ma:t.ma,module:n.item,step:t.step}):null,t.ma&&n.item&&t.step===qi.Response?w(ree,{action:t.action,entity:e.item,ma:t.ma,module:n.item,step:t.step}):null,t.ma&&n.item&&t.step===qi.File?w(VZ,{action:t.action,entity:e.item,ma:t.ma,module:n.item,step:t.step}):null]})}function oee(){return j("div",{className:"row",children:[w("div",{className:"col-3 h100 overflow-auto",children:w(TZ,{})}),w("div",{className:"col-9 h100 overflow-auto",children:w(iee,{})}),w(VL,{})]})}function aee(){window.bridge={error(e,t){console.log(e,t)},send(e){console.log(e)}}}function To(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function yf(e){return!!e&&!!e[_i]}function Nu(e){return!!e&&(function(t){if(!t||typeof t!="object")return!1;var n=Object.getPrototypeOf(t);if(n===null)return!0;var r=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return r===Object||typeof r=="function"&&Function.toString.call(r)===pee}(e)||Array.isArray(e)||!!e[j1]||!!e.constructor[j1]||bx(e)||Sx(e))}function Gh(e,t,n){n===void 0&&(n=!1),Bf(e)===0?(n?Object.keys:Ix)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Bf(e){var t=e[_i];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:bx(e)?2:Sx(e)?3:0}function zS(e,t){return Bf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function see(e,t){return Bf(e)===2?e.get(t):e[t]}function nM(e,t,n){var r=Bf(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function lee(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function bx(e){return dee&&e instanceof Map}function Sx(e){return hee&&e instanceof Set}function ru(e){return e.o||e.t}function Ex(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=mee(e);delete t[_i];for(var n=Ix(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Cx(e,t){return t===void 0&&(t=!1),xx(e)||yf(e)||!Nu(e)||(Bf(e)>1&&(e.set=e.add=e.clear=e.delete=uee),Object.freeze(e),t&&Gh(e,function(n,r){return Cx(r,!0)},!0)),e}function uee(){To(2)}function xx(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function da(e){var t=gee[e];return t||To(18,e),t}function M1(){return Yh}function r0(e,t){t&&(da("Patches"),e.u=[],e.s=[],e.v=t)}function vv(e){BS(e),e.p.forEach(cee),e.p=null}function BS(e){e===Yh&&(Yh=e.l)}function z1(e){return Yh={p:[],l:Yh,h:e,m:!0,_:0}}function cee(e){var t=e[_i];t.i===0||t.i===1?t.j():t.O=!0}function i0(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||da("ES5").S(t,e,r),r?(n[_i].P&&(vv(t),To(4)),Nu(e)&&(e=yv(t,e),t.l||wv(t,e)),t.u&&da("Patches").M(n[_i].t,e,t.u,t.s)):e=yv(t,n,[]),vv(t),t.u&&t.v(t.u,t.s),e!==rM?e:void 0}function yv(e,t,n){if(xx(t))return t;var r=t[_i];if(!r)return Gh(t,function(o,s){return B1(e,r,t,o,s,n)},!0),t;if(r.A!==e)return t;if(!r.P)return wv(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=Ex(r.k):r.o;Gh(r.i===3?new Set(i):i,function(o,s){return B1(e,r,i,o,s,n)}),wv(e,i,!1),n&&e.u&&da("Patches").R(r,n,e.u,e.s)}return r.o}function B1(e,t,n,r,i,o){if(yf(i)){var s=yv(e,i,o&&t&&t.i!==3&&!zS(t.D,r)?o.concat(r):void 0);if(nM(n,r,s),!yf(s))return;e.m=!1}if(Nu(i)&&!xx(i)){if(!e.h.F&&e._<1)return;yv(e,i),t&&t.A.l||wv(e,i)}}function wv(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&Cx(t,n)}function o0(e,t){var n=e[_i];return(n?ru(n):e)[t]}function F1(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function FS(e){e.P||(e.P=!0,e.l&&FS(e.l))}function a0(e){e.o||(e.o=Ex(e.t))}function US(e,t,n){var r=bx(t)?da("MapSet").N(t,n):Sx(t)?da("MapSet").T(t,n):e.g?function(i,o){var s=Array.isArray(i),u={i:s?1:0,A:o?o.A:M1(),P:!1,I:!1,D:{},l:o,t:i,k:null,o:null,j:null,C:!1},h=u,p=$S;s&&(h=[u],p=jd);var v=Proxy.revocable(h,p),y=v.revoke,b=v.proxy;return u.k=b,u.j=y,b}(t,n):da("ES5").J(t,n);return(n?n.A:M1()).p.push(r),r}function fee(e){return yf(e)||To(22,e),function t(n){if(!Nu(n))return n;var r,i=n[_i],o=Bf(n);if(i){if(!i.P&&(i.i<4||!da("ES5").K(i)))return i.t;i.I=!0,r=U1(n,o),i.I=!1}else r=U1(n,o);return Gh(r,function(s,u){i&&see(i.t,s)===u||nM(r,s,t(u))}),o===3?new Set(r):r}(e)}function U1(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Ex(e)}var $1,Yh,Nx=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",dee=typeof Map!="undefined",hee=typeof Set!="undefined",W1=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",rM=Nx?Symbol.for("immer-nothing"):(($1={})["immer-nothing"]=!0,$1),j1=Nx?Symbol.for("immer-draftable"):"__$immer_draftable",_i=Nx?Symbol.for("immer-state"):"__$immer_state",pee=""+Object.prototype.constructor,Ix=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,mee=Object.getOwnPropertyDescriptors||function(e){var t={};return Ix(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},gee={},$S={get:function(e,t){if(t===_i)return e;var n=ru(e);if(!zS(n,t))return function(i,o,s){var u,h=F1(o,s);return h?"value"in h?h.value:(u=h.get)===null||u===void 0?void 0:u.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Nu(r)?r:r===o0(e.t,t)?(a0(e),e.o[t]=US(e.A.h,r,e)):r},has:function(e,t){return t in ru(e)},ownKeys:function(e){return Reflect.ownKeys(ru(e))},set:function(e,t,n){var r=F1(ru(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=o0(ru(e),t),o=i==null?void 0:i[_i];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(lee(n,i)&&(n!==void 0||zS(e.t,t)))return!0;a0(e),FS(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return o0(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,a0(e),FS(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=ru(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){To(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){To(12)}},jd={};Gh($S,function(e,t){jd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),jd.deleteProperty=function(e,t){return jd.set.call(this,e,t,void 0)},jd.set=function(e,t,n){return $S.set.call(this,e[0],t,n,e[0])};var vee=function(){function e(n){var r=this;this.g=W1,this.F=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var u=o;o=i;var h=r;return function(k){var E=this;k===void 0&&(k=u);for(var S=arguments.length,N=Array(S>1?S-1:0),_=1;_<S;_++)N[_-1]=arguments[_];return h.produce(k,function(T){var M;return(M=o).call.apply(M,[E,T].concat(N))})}}var p;if(typeof o!="function"&&To(6),s!==void 0&&typeof s!="function"&&To(7),Nu(i)){var v=z1(r),y=US(r,i,void 0),b=!0;try{p=o(y),b=!1}finally{b?vv(v):BS(v)}return typeof Promise!="undefined"&&p instanceof Promise?p.then(function(k){return r0(v,s),i0(k,v)},function(k){throw vv(v),k}):(r0(v,s),i0(p,v))}if(!i||typeof i!="object"){if((p=o(i))===void 0&&(p=i),p===rM&&(p=void 0),r.F&&Cx(p,!0),s){var I=[],O=[];da("Patches").M(i,p,I,O),s(I,O)}return p}To(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(p){for(var v=arguments.length,y=Array(v>1?v-1:0),b=1;b<v;b++)y[b-1]=arguments[b];return r.produceWithPatches(p,function(I){return i.apply(void 0,[I].concat(y))})};var s,u,h=r.produce(i,o,function(p,v){s=p,u=v});return typeof Promise!="undefined"&&h instanceof Promise?h.then(function(p){return[p,s,u]}):[h,s,u]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Nu(n)||To(8),yf(n)&&(n=fee(n));var r=z1(this),i=US(this,n,void 0);return i[_i].C=!0,BS(r),i},t.finishDraft=function(n,r){var i=n&&n[_i],o=i.A;return r0(o,r),i0(void 0,o)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!W1&&To(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=da("Patches").$;return yf(n)?s(n,r):this.produce(n,function(u){return s(u,r)})},e}(),Ai=new vee,yee=Ai.produce;Ai.produceWithPatches.bind(Ai);Ai.setAutoFreeze.bind(Ai);Ai.setUseProxies.bind(Ai);Ai.applyPatches.bind(Ai);Ai.createDraft.bind(Ai);Ai.finishDraft.bind(Ai);var km=yee;const Ox=Symbol.for("yaml.alias"),WS=Symbol.for("yaml.document"),tl=Symbol.for("yaml.map"),iM=Symbol.for("yaml.pair"),Ry=Symbol.for("yaml.scalar"),Ff=Symbol.for("yaml.seq"),io=Symbol.for("yaml.node.type"),Uf=e=>!!e&&typeof e=="object"&&e[io]===Ox,Py=e=>!!e&&typeof e=="object"&&e[io]===WS,Tp=e=>!!e&&typeof e=="object"&&e[io]===tl,Fn=e=>!!e&&typeof e=="object"&&e[io]===iM,xn=e=>!!e&&typeof e=="object"&&e[io]===Ry,_p=e=>!!e&&typeof e=="object"&&e[io]===Ff;function Dn(e){if(e&&typeof e=="object")switch(e[io]){case tl:case Ff:return!0}return!1}function Xn(e){if(e&&typeof e=="object")switch(e[io]){case Ox:case tl:case Ry:case Ff:return!0}return!1}const wee=e=>(xn(e)||Dn(e))&&!!e.anchor,iu=Symbol("break visit"),bee=Symbol("skip children"),dh=Symbol("remove node");function Iu(e,t){const n=See(t);Py(e)?kc(null,e.contents,n,Object.freeze([e]))===dh&&(e.contents=null):kc(null,e,n,Object.freeze([]))}Iu.BREAK=iu;Iu.SKIP=bee;Iu.REMOVE=dh;function kc(e,t,n,r){const i=Eee(e,t,n,r);if(Xn(i)||Fn(i))return Cee(e,r,i),kc(e,i,n,r);if(typeof i!="symbol"){if(Dn(t)){r=Object.freeze(r.concat(t));for(let o=0;o<t.items.length;++o){const s=kc(o,t.items[o],n,r);if(typeof s=="number")o=s-1;else{if(s===iu)return iu;s===dh&&(t.items.splice(o,1),o-=1)}}}else if(Fn(t)){r=Object.freeze(r.concat(t));const o=kc("key",t.key,n,r);if(o===iu)return iu;o===dh&&(t.key=null);const s=kc("value",t.value,n,r);if(s===iu)return iu;s===dh&&(t.value=null)}}return i}function See(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function Eee(e,t,n,r){var i,o,s,u,h;if(typeof n=="function")return n(e,t,r);if(Tp(t))return(i=n.Map)==null?void 0:i.call(n,e,t,r);if(_p(t))return(o=n.Seq)==null?void 0:o.call(n,e,t,r);if(Fn(t))return(s=n.Pair)==null?void 0:s.call(n,e,t,r);if(xn(t))return(u=n.Scalar)==null?void 0:u.call(n,e,t,r);if(Uf(t))return(h=n.Alias)==null?void 0:h.call(n,e,t,r)}function Cee(e,t,n){const r=t[t.length-1];if(Dn(r))r.items[e]=n;else if(Fn(r))e==="key"?r.key=n:r.value=n;else if(Py(r))r.contents=n;else{const i=Uf(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const xee={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Nee=e=>e.replace(/[!,[\]{}]/g,t=>xee[t]);class Yr{constructor(t,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Yr.defaultYaml,t),this.tags=Object.assign({},Yr.defaultTags,n)}clone(){const t=new Yr(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new Yr(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Yr.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Yr.defaultTags);break}return t}add(t,n){this.atNextDocument&&(this.yaml={explicit:Yr.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Yr.defaultTags),this.atNextDocument=!1);const r=t.trim().split(/[ \t]+/),i=r.shift();switch(i){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[o,s]=r;return this.tags[o]=s,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[o]=r;if(o==="1.1"||o==="1.2")return this.yaml.version=o,!0;{const s=/^\d+\.\d+$/.test(o);return n(6,`Unsupported YAML version ${o}`,s),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(t,n){if(t==="!")return"!";if(t[0]!=="!")return n(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const s=t.slice(2,-1);return s==="!"||s==="!!"?(n(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&n("Verbatim tags must end with a >"),s)}const[,r,i]=t.match(/^(.*!)([^!]*)$/);i||n(`The ${t} tag has no suffix`);const o=this.tags[r];if(o)try{return o+decodeURIComponent(i)}catch(s){return n(String(s)),null}return r==="!"?t:(n(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[n,r]of Object.entries(this.tags))if(t.startsWith(r))return n+Nee(t.substring(r.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let i;if(t&&r.length>0&&Xn(t.contents)){const o={};Iu(t.contents,(s,u)=>{Xn(u)&&u.tag&&(o[u.tag]=!0)}),i=Object.keys(o)}else i=[];for(const[o,s]of r)o==="!!"&&s==="tag:yaml.org,2002:"||(!t||i.some(u=>u.startsWith(s)))&&n.push(`%TAG ${o} ${s}`);return n.join(`
`)}}Yr.defaultYaml={explicit:!1,version:"1.2"};Yr.defaultTags={"!!":"tag:yaml.org,2002:"};function oM(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(n)}return!0}function aM(e){const t=new Set;return Iu(e,{Value(n,r){r.anchor&&t.add(r.anchor)}}),t}function sM(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function Iee(e,t){const n=[],r=new Map;let i=null;return{onAnchor:o=>{n.push(o),i||(i=aM(e));const s=sM(t,i);return i.add(s),s},setAnchors:()=>{for(const o of n){const s=r.get(o);if(typeof s=="object"&&s.anchor&&(xn(s.node)||Dn(s.node)))s.node.anchor=s.anchor;else{const u=new Error("Failed to resolve repeated object (this should not happen)");throw u.source=o,u}}},sourceObjects:r}}function Dc(e,t,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let i=0,o=r.length;i<o;++i){const s=r[i],u=Dc(e,r,String(i),s);u===void 0?delete r[i]:u!==s&&(r[i]=u)}else if(r instanceof Map)for(const i of Array.from(r.keys())){const o=r.get(i),s=Dc(e,r,i,o);s===void 0?r.delete(i):s!==o&&r.set(i,s)}else if(r instanceof Set)for(const i of Array.from(r)){const o=Dc(e,r,i,i);o===void 0?r.delete(i):o!==i&&(r.delete(i),r.add(o))}else for(const[i,o]of Object.entries(r)){const s=Dc(e,r,i,o);s===void 0?delete r[i]:s!==o&&(r[i]=s)}return e.call(t,n,r)}function Zi(e,t,n){if(Array.isArray(e))return e.map((r,i)=>Zi(r,String(i),n));if(e&&typeof e.toJSON=="function"){if(!n||!wee(e))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=o=>{r.res=o,delete n.onCreate};const i=e.toJSON(t,n);return n.onCreate&&n.onCreate(i),i}return typeof e=="bigint"&&!(n!=null&&n.keep)?Number(e):e}class Tx{constructor(t){Object.defineProperty(this,io,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:n,maxAliasCount:r,onAnchor:i,reviver:o}={}){if(!Py(t))throw new TypeError("A document argument is required");const s={anchors:new Map,doc:t,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},u=Zi(this,"",s);if(typeof i=="function")for(const{count:h,res:p}of s.anchors.values())i(p,h);return typeof o=="function"?Dc(o,{"":u},"",u):u}}class lM extends Tx{constructor(t){super(Ox),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let n;return Iu(t,{Node:(r,i)=>{if(i===this)return Iu.BREAK;i.anchor===this.source&&(n=i)}}),n}toJSON(t,n){if(!n)return{source:this.source};const{anchors:r,doc:i,maxAliasCount:o}=n,s=this.resolve(i);if(!s){const h=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(h)}let u=r.get(s);if(u||(Zi(s,null,n),u=r.get(s)),!u||u.res===void 0){const h="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(h)}if(o>=0&&(u.count+=1,u.aliasCount===0&&(u.aliasCount=rg(i,s,r)),u.count*u.aliasCount>o)){const h="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(h)}return u.res}toString(t,n,r){const i=`*${this.source}`;if(t){if(oM(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const o=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(o)}if(t.implicitKey)return`${i} `}return i}}function rg(e,t,n){if(Uf(t)){const r=t.resolve(e),i=n&&r&&n.get(r);return i?i.count*i.aliasCount:0}else if(Dn(t)){let r=0;for(const i of t.items){const o=rg(e,i,n);o>r&&(r=o)}return r}else if(Fn(t)){const r=rg(e,t.key,n),i=rg(e,t.value,n);return Math.max(r,i)}return 1}const uM=e=>!e||typeof e!="function"&&typeof e!="object";class $t extends Tx{constructor(t){super(Ry),this.value=t}toJSON(t,n){return n!=null&&n.keep?this.value:Zi(this.value,t,n)}toString(){return String(this.value)}}$t.BLOCK_FOLDED="BLOCK_FOLDED";$t.BLOCK_LITERAL="BLOCK_LITERAL";$t.PLAIN="PLAIN";$t.QUOTE_DOUBLE="QUOTE_DOUBLE";$t.QUOTE_SINGLE="QUOTE_SINGLE";const Oee="tag:yaml.org,2002:";function Tee(e,t,n){var r;if(t){const i=n.filter(s=>s.tag===t),o=(r=i.find(s=>!s.format))!=null?r:i[0];if(!o)throw new Error(`Tag ${t} not found`);return o}return n.find(i=>{var o;return((o=i.identify)==null?void 0:o.call(i,e))&&!i.format})}function Xh(e,t,n){var y,b,I;if(Py(e)&&(e=e.contents),Xn(e))return e;if(Fn(e)){const O=(b=(y=n.schema[tl]).createNode)==null?void 0:b.call(y,n.schema,null,n);return O.items.push(e),O}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt!="undefined"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:r,onAnchor:i,onTagObj:o,schema:s,sourceObjects:u}=n;let h;if(r&&e&&typeof e=="object"){if(h=u.get(e),h)return h.anchor||(h.anchor=i(e)),new lM(h.anchor);h={anchor:null,node:null},u.set(e,h)}t!=null&&t.startsWith("!!")&&(t=Oee+t.slice(2));let p=Tee(e,t,s.tags);if(!p){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const O=new $t(e);return h&&(h.node=O),O}p=e instanceof Map?s[tl]:Symbol.iterator in Object(e)?s[Ff]:s[tl]}o&&(o(p),delete n.onTagObj);const v=p!=null&&p.createNode?p.createNode(n.schema,e,n):typeof((I=p==null?void 0:p.nodeClass)==null?void 0:I.from)=="function"?p.nodeClass.from(n.schema,e,n):new $t(e);return t?v.tag=t:p.default||(v.tag=p.tag),h&&(h.node=v),v}function bv(e,t,n){let r=n;for(let i=t.length-1;i>=0;--i){const o=t[i];if(typeof o=="number"&&Number.isInteger(o)&&o>=0){const s=[];s[o]=r,r=s}else r=new Map([[o,r]])}return Xh(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const Kd=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class ky extends Tx{constructor(t,n){super(t),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(t){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(n.schema=t),n.items=n.items.map(r=>Xn(r)||Fn(r)?r.clone(t):r),this.range&&(n.range=this.range.slice()),n}addIn(t,n){if(Kd(t))this.add(n);else{const[r,...i]=t,o=this.get(r,!0);if(Dn(o))o.addIn(i,n);else if(o===void 0&&this.schema)this.set(r,bv(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn(t){const[n,...r]=t;if(r.length===0)return this.delete(n);const i=this.get(n,!0);if(Dn(i))return i.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(t,n){const[r,...i]=t,o=this.get(r,!0);return i.length===0?!n&&xn(o)?o.value:o:Dn(o)?o.getIn(i,n):void 0}hasAllNullValues(t){return this.items.every(n=>{if(!Fn(n))return!1;const r=n.value;return r==null||t&&xn(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(t){const[n,...r]=t;if(r.length===0)return this.has(n);const i=this.get(n,!0);return Dn(i)?i.hasIn(r):!1}setIn(t,n){const[r,...i]=t;if(i.length===0)this.set(r,n);else{const o=this.get(r,!0);if(Dn(o))o.setIn(i,n);else if(o===void 0&&this.schema)this.set(r,bv(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}}ky.maxFlowStringSingleLineLength=60;const _ee=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function Ka(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const $s=(e,t,n)=>e.endsWith(`
`)?Ka(n,t):n.includes(`
`)?`
`+Ka(n,t):(e.endsWith(" ")?"":" ")+n,cM="flow",jS="block",ig="quoted";function Dy(e,t,n="flow",{indentAtStart:r,lineWidth:i=80,minContentWidth:o=20,onFold:s,onOverflow:u}={}){if(!i||i<0)return e;const h=Math.max(1+o,1+i-t.length);if(e.length<=h)return e;const p=[],v={};let y=i-t.length;typeof r=="number"&&(r>i-Math.max(2,o)?p.push(0):y=i-r);let b,I,O=!1,k=-1,E=-1,S=-1;n===jS&&(k=K1(e,k),k!==-1&&(y=k+h));for(let _;_=e[k+=1];){if(n===ig&&_==="\\"){switch(E=k,e[k+1]){case"x":k+=3;break;case"u":k+=5;break;case"U":k+=9;break;default:k+=1}S=k}if(_===`
`)n===jS&&(k=K1(e,k)),y=k+h,b=void 0;else{if(_===" "&&I&&I!==" "&&I!==`
`&&I!=="	"){const T=e[k+1];T&&T!==" "&&T!==`
`&&T!=="	"&&(b=k)}if(k>=y)if(b)p.push(b),y=b+h,b=void 0;else if(n===ig){for(;I===" "||I==="	";)I=_,_=e[k+=1],O=!0;const T=k>S+1?k-2:E-1;if(v[T])return e;p.push(T),v[T]=!0,y=T+h,b=void 0}else O=!0}I=_}if(O&&u&&u(),p.length===0)return e;s&&s();let N=e.slice(0,p[0]);for(let _=0;_<p.length;++_){const T=p[_],M=p[_+1]||e.length;T===0?N=`
${t}${e.slice(0,M)}`:(n===ig&&v[T]&&(N+=`${e[T]}\\`),N+=`
${t}${e.slice(T+1,M)}`)}return N}function K1(e,t){let n=e[t+1];for(;n===" "||n==="	";){do n=e[t+=1];while(n&&n!==`
`);n=e[t+1]}return t}const Ly=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),My=e=>/^(%|---|\.\.\.)/m.test(e);function Aee(e,t,n){if(!t||t<0)return!1;const r=t-n,i=e.length;if(i<=r)return!1;for(let o=0,s=0;o<i;++o)if(e[o]===`
`){if(o-s>r)return!0;if(s=o+1,i-s<=r)return!1}return!0}function hh(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,i=t.options.doubleQuotedMinMultiLineLength,o=t.indent||(My(e)?"  ":"");let s="",u=0;for(let h=0,p=n[h];p;p=n[++h])if(p===" "&&n[h+1]==="\\"&&n[h+2]==="n"&&(s+=n.slice(u,h)+"\\ ",h+=1,u=h,p="\\"),p==="\\")switch(n[h+1]){case"u":{s+=n.slice(u,h);const v=n.substr(h+2,4);switch(v){case"0000":s+="\\0";break;case"0007":s+="\\a";break;case"000b":s+="\\v";break;case"001b":s+="\\e";break;case"0085":s+="\\N";break;case"00a0":s+="\\_";break;case"2028":s+="\\L";break;case"2029":s+="\\P";break;default:v.substr(0,2)==="00"?s+="\\x"+v.substr(2):s+=n.substr(h,6)}h+=5,u=h+1}break;case"n":if(r||n[h+2]==='"'||n.length<i)h+=1;else{for(s+=n.slice(u,h)+`

`;n[h+2]==="\\"&&n[h+3]==="n"&&n[h+4]!=='"';)s+=`
`,h+=2;s+=o,n[h+2]===" "&&(s+="\\"),h+=1,u=h+1}break;default:h+=1}return s=u?s+n.slice(u):n,r?s:Dy(s,o,ig,Ly(t,!1))}function KS(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return hh(e,t);const n=t.indent||(My(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return t.implicitKey?r:Dy(r,n,cM,Ly(t,!1))}function Lc(e,t){const{singleQuote:n}=t.options;let r;if(n===!1)r=hh;else{const i=e.includes('"'),o=e.includes("'");i&&!o?r=KS:o&&!i?r=hh:r=n?KS:hh}return r(e,t)}let VS;try{VS=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{VS=/\n+(?!\n|$)/g}function og({comment:e,type:t,value:n},r,i,o){const{blockQuote:s,commentString:u,lineWidth:h}=r.options;if(!s||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return Lc(n,r);const p=r.indent||(r.forceBlockIndent||My(n)?"  ":""),v=s==="literal"?!0:s==="folded"||t===$t.BLOCK_FOLDED?!1:t===$t.BLOCK_LITERAL?!0:!Aee(n,h,p.length);if(!n)return v?`|
`:`>
`;let y,b;for(b=n.length;b>0;--b){const R=n[b-1];if(R!==`
`&&R!=="	"&&R!==" ")break}let I=n.substring(b);const O=I.indexOf(`
`);O===-1?y="-":n===I||O!==I.length-1?(y="+",o&&o()):y="",I&&(n=n.slice(0,-I.length),I[I.length-1]===`
`&&(I=I.slice(0,-1)),I=I.replace(VS,`$&${p}`));let k=!1,E,S=-1;for(E=0;E<n.length;++E){const R=n[E];if(R===" ")k=!0;else if(R===`
`)S=E;else break}let N=n.substring(0,S<E?S+1:E);N&&(n=n.substring(N.length),N=N.replace(/\n+/g,`$&${p}`));let T=(v?"|":">")+(k?p?"2":"1":"")+y;if(e&&(T+=" "+u(e.replace(/ ?[\r\n]+/g," ")),i&&i()),v)return n=n.replace(/\n+/g,`$&${p}`),`${T}
${p}${N}${n}${I}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${p}`);const M=Dy(`${N}${n}${I}`,p,jS,Ly(r,!0));return`${T}
${p}${M}`}function Ree(e,t,n,r){const{type:i,value:o}=e,{actualString:s,implicitKey:u,indent:h,indentStep:p,inFlow:v}=t;if(u&&o.includes(`
`)||v&&/[[\]{},]/.test(o))return Lc(o,t);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return u||v||!o.includes(`
`)?Lc(o,t):og(e,t,n,r);if(!u&&!v&&i!==$t.PLAIN&&o.includes(`
`))return og(e,t,n,r);if(My(o)){if(h==="")return t.forceBlockIndent=!0,og(e,t,n,r);if(u&&h===p)return Lc(o,t)}const y=o.replace(/\n+/g,`$&
${h}`);if(s){const b=k=>{var E;return k.default&&k.tag!=="tag:yaml.org,2002:str"&&((E=k.test)==null?void 0:E.test(y))},{compat:I,tags:O}=t.doc.schema;if(O.some(b)||(I==null?void 0:I.some(b)))return Lc(o,t)}return u?y:Dy(y,h,cM,Ly(t,!1))}function _x(e,t,n,r){const{implicitKey:i,inFlow:o}=t,s=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:u}=e;u!==$t.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(s.value)&&(u=$t.QUOTE_DOUBLE);const h=v=>{switch(v){case $t.BLOCK_FOLDED:case $t.BLOCK_LITERAL:return i||o?Lc(s.value,t):og(s,t,n,r);case $t.QUOTE_DOUBLE:return hh(s.value,t);case $t.QUOTE_SINGLE:return KS(s.value,t);case $t.PLAIN:return Ree(s,t,n,r);default:return null}};let p=h(u);if(p===null){const{defaultKeyType:v,defaultStringType:y}=t.options,b=i&&v||y;if(p=h(b),p===null)throw new Error(`Unsupported default string type ${b}`)}return p}function fM(e,t){const n=Object.assign({blockQuote:!0,commentString:_ee,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function Pee(e,t){var i,o,s,u;if(t.tag){const h=e.filter(p=>p.tag===t.tag);if(h.length>0)return(i=h.find(p=>p.format===t.format))!=null?i:h[0]}let n,r;if(xn(t)){r=t.value;const h=e.filter(p=>{var v;return(v=p.identify)==null?void 0:v.call(p,r)});n=(o=h.find(p=>p.format===t.format))!=null?o:h.find(p=>!p.format)}else r=t,n=e.find(h=>h.nodeClass&&r instanceof h.nodeClass);if(!n){const h=(u=(s=r==null?void 0:r.constructor)==null?void 0:s.name)!=null?u:typeof r;throw new Error(`Tag not resolved for ${h} value`)}return n}function kee(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const i=[],o=(xn(e)||Dn(e))&&e.anchor;o&&oM(o)&&(n.add(o),i.push(`&${o}`));const s=e.tag?e.tag:t.default?null:t.tag;return s&&i.push(r.directives.tagString(s)),i.join(" ")}function wf(e,t,n,r){var h,p;if(Fn(e))return e.toString(t,n,r);if(Uf(e)){if(t.doc.directives)return e.toString(t);if((h=t.resolvedAliases)!=null&&h.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let i;const o=Xn(e)?e:t.doc.createNode(e,{onTagObj:v=>i=v});i||(i=Pee(t.doc.schema.tags,o));const s=kee(o,i,t);s.length>0&&(t.indentAtStart=((p=t.indentAtStart)!=null?p:0)+s.length+1);const u=typeof i.stringify=="function"?i.stringify(o,t,n,r):xn(o)?_x(o,t,n,r):o.toString(t,n,r);return s?xn(o)||u[0]==="{"||u[0]==="["?`${s} ${u}`:`${s}
${t.indent}${u}`:u}function Dee({key:e,value:t},n,r,i){var B,U;const{allNullValues:o,doc:s,indent:u,indentStep:h,options:{commentString:p,indentSeq:v,simpleKeys:y}}=n;let b=Xn(e)&&e.comment||null;if(y){if(b)throw new Error("With simple keys, key nodes cannot have comments");if(Dn(e)){const F="With simple keys, collection cannot be used as a key value";throw new Error(F)}}let I=!y&&(!e||b&&t==null&&!n.inFlow||Dn(e)||(xn(e)?e.type===$t.BLOCK_FOLDED||e.type===$t.BLOCK_LITERAL:typeof e=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!I&&(y||!o),indent:u+h});let O=!1,k=!1,E=wf(e,n,()=>O=!0,()=>k=!0);if(!I&&!n.inFlow&&E.length>1024){if(y)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");I=!0}if(n.inFlow){if(o||t==null)return O&&r&&r(),E===""?"?":I?`? ${E}`:E}else if(o&&!y||t==null&&I)return E=`? ${E}`,b&&!O?E+=$s(E,n.indent,p(b)):k&&i&&i(),E;O&&(b=null),I?(b&&(E+=$s(E,n.indent,p(b))),E=`? ${E}
${u}:`):(E=`${E}:`,b&&(E+=$s(E,n.indent,p(b))));let S,N,_;Xn(t)?(S=!!t.spaceBefore,N=t.commentBefore,_=t.comment):(S=!1,N=null,_=null,t&&typeof t=="object"&&(t=s.createNode(t))),n.implicitKey=!1,!I&&!b&&xn(t)&&(n.indentAtStart=E.length+1),k=!1,!v&&h.length>=2&&!n.inFlow&&!I&&_p(t)&&!t.flow&&!t.tag&&!t.anchor&&(n.indent=n.indent.substring(2));let T=!1;const M=wf(t,n,()=>T=!0,()=>k=!0);let R=" ";if(b||S||N){if(R=S?`
`:"",N){const F=p(N);R+=`
${Ka(F,n.indent)}`}M===""&&!n.inFlow?R===`
`&&(R=`

`):R+=`
${n.indent}`}else if(!I&&Dn(t)){const F=M[0],z=M.indexOf(`
`),$=z!==-1,G=(U=(B=n.inFlow)!=null?B:t.flow)!=null?U:t.items.length===0;if($||!G){let te=!1;if($&&(F==="&"||F==="!")){let q=M.indexOf(" ");F==="&"&&q!==-1&&q<z&&M[q+1]==="!"&&(q=M.indexOf(" ",q+1)),(q===-1||z<q)&&(te=!0)}te||(R=`
${n.indent}`)}}else(M===""||M[0]===`
`)&&(R="");return E+=R+M,n.inFlow?T&&r&&r():_&&!T?E+=$s(E,n.indent,p(_)):k&&i&&i(),E}function Lee(e,t){(e==="debug"||e==="warn")&&(typeof process!="undefined"&&process.emitWarning?process.emitWarning(t):console.warn(t))}const V1="<<";function dM(e,t,{key:n,value:r}){if((e==null?void 0:e.doc.schema.merge)&&Mee(n))if(r=Uf(r)?r.resolve(e.doc):r,_p(r))for(const i of r.items)s0(e,t,i);else if(Array.isArray(r))for(const i of r)s0(e,t,i);else s0(e,t,r);else{const i=Zi(n,"",e);if(t instanceof Map)t.set(i,Zi(r,i,e));else if(t instanceof Set)t.add(i);else{const o=zee(n,i,e),s=Zi(r,o,e);o in t?Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0}):t[o]=s}}return t}const Mee=e=>e===V1||xn(e)&&e.value===V1&&(!e.type||e.type===$t.PLAIN);function s0(e,t,n){const r=e&&Uf(n)?n.resolve(e.doc):n;if(!Tp(r))throw new Error("Merge sources must be maps or map aliases");const i=r.toJSON(null,e,Map);for(const[o,s]of i)t instanceof Map?t.has(o)||t.set(o,s):t instanceof Set?t.add(o):Object.prototype.hasOwnProperty.call(t,o)||Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0});return t}function zee(e,t,n){if(t===null)return"";if(typeof t!="object")return String(t);if(Xn(e)&&(n==null?void 0:n.doc)){const r=fM(n.doc,{});r.anchors=new Set;for(const o of n.anchors.keys())r.anchors.add(o.anchor);r.inFlow=!0,r.inStringifyKey=!0;const i=e.toString(r);if(!n.mapKeyWarned){let o=JSON.stringify(i);o.length>40&&(o=o.substring(0,36)+'..."'),Lee(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${o}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(t)}function Ax(e,t,n){const r=Xh(e,void 0,n),i=Xh(t,void 0,n);return new eo(r,i)}class eo{constructor(t,n=null){Object.defineProperty(this,io,{value:iM}),this.key=t,this.value=n}clone(t){let{key:n,value:r}=this;return Xn(n)&&(n=n.clone(t)),Xn(r)&&(r=r.clone(t)),new eo(n,r)}toJSON(t,n){const r=n!=null&&n.mapAsMap?new Map:{};return dM(n,r,this)}toString(t,n,r){return t!=null&&t.doc?Dee(this,t,n,r):JSON.stringify(this)}}function hM(e,t,n){var o;return(((o=t.inFlow)!=null?o:e.flow)?Fee:Bee)(e,t,n)}function Bee({comment:e,items:t},n,{blockItemPrefix:r,flowChars:i,itemIndent:o,onChompKeep:s,onComment:u}){const{indent:h,options:{commentString:p}}=n,v=Object.assign({},n,{indent:o,type:null});let y=!1;const b=[];for(let O=0;O<t.length;++O){const k=t[O];let E=null;if(Xn(k))!y&&k.spaceBefore&&b.push(""),Sv(n,b,k.commentBefore,y),k.comment&&(E=k.comment);else if(Fn(k)){const N=Xn(k.key)?k.key:null;N&&(!y&&N.spaceBefore&&b.push(""),Sv(n,b,N.commentBefore,y))}y=!1;let S=wf(k,v,()=>E=null,()=>y=!0);E&&(S+=$s(S,o,p(E))),y&&E&&(y=!1),b.push(r+S)}let I;if(b.length===0)I=i.start+i.end;else{I=b[0];for(let O=1;O<b.length;++O){const k=b[O];I+=k?`
${h}${k}`:`
`}}return e?(I+=`
`+Ka(p(e),h),u&&u()):y&&s&&s(),I}function Fee({comment:e,items:t},n,{flowChars:r,itemIndent:i,onComment:o}){const{indent:s,indentStep:u,flowCollectionPadding:h,options:{commentString:p}}=n;i+=u;const v=Object.assign({},n,{indent:i,inFlow:!0,type:null});let y=!1,b=0;const I=[];for(let S=0;S<t.length;++S){const N=t[S];let _=null;if(Xn(N))N.spaceBefore&&I.push(""),Sv(n,I,N.commentBefore,!1),N.comment&&(_=N.comment);else if(Fn(N)){const M=Xn(N.key)?N.key:null;M&&(M.spaceBefore&&I.push(""),Sv(n,I,M.commentBefore,!1),M.comment&&(y=!0));const R=Xn(N.value)?N.value:null;R?(R.comment&&(_=R.comment),R.commentBefore&&(y=!0)):N.value==null&&(M==null?void 0:M.comment)&&(_=M.comment)}_&&(y=!0);let T=wf(N,v,()=>_=null);S<t.length-1&&(T+=","),_&&(T+=$s(T,i,p(_))),!y&&(I.length>b||T.includes(`
`))&&(y=!0),I.push(T),b=I.length}let O;const{start:k,end:E}=r;if(I.length===0)O=k+E;else if(y||(y=I.reduce((N,_)=>N+_.length+2,2)>ky.maxFlowStringSingleLineLength),y){O=k;for(const S of I)O+=S?`
${u}${s}${S}`:`
`;O+=`
${s}${E}`}else O=`${k}${h}${I.join(" ")}${h}${E}`;return e&&(O+=$s(O,s,p(e)),o&&o()),O}function Sv({indent:e,options:{commentString:t}},n,r,i){if(r&&i&&(r=r.replace(/^\n+/,"")),r){const o=Ka(t(r),e);n.push(o.trimStart())}}function fu(e,t){const n=xn(t)?t.value:t;for(const r of e)if(Fn(r)&&(r.key===t||r.key===n||xn(r.key)&&r.key.value===n))return r}class Ds extends ky{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(tl,t),this.items=[]}static from(t,n,r){const{keepUndefined:i,replacer:o}=r,s=new this(t),u=(h,p)=>{if(typeof o=="function")p=o.call(n,h,p);else if(Array.isArray(o)&&!o.includes(h))return;(p!==void 0||i)&&s.items.push(Ax(h,p,r))};if(n instanceof Map)for(const[h,p]of n)u(h,p);else if(n&&typeof n=="object")for(const h of Object.keys(n))u(h,n[h]);return typeof t.sortMapEntries=="function"&&s.items.sort(t.sortMapEntries),s}add(t,n){var s;let r;Fn(t)?r=t:!t||typeof t!="object"||!("key"in t)?r=new eo(t,t==null?void 0:t.value):r=new eo(t.key,t.value);const i=fu(this.items,r.key),o=(s=this.schema)==null?void 0:s.sortMapEntries;if(i){if(!n)throw new Error(`Key ${r.key} already set`);xn(i.value)&&uM(r.value)?i.value.value=r.value:i.value=r.value}else if(o){const u=this.items.findIndex(h=>o(r,h)<0);u===-1?this.items.push(r):this.items.splice(u,0,r)}else this.items.push(r)}delete(t){const n=fu(this.items,t);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(t,n){var o;const r=fu(this.items,t),i=r==null?void 0:r.value;return(o=!n&&xn(i)?i.value:i)!=null?o:void 0}has(t){return!!fu(this.items,t)}set(t,n){this.add(new eo(t,n),!0)}toJSON(t,n,r){const i=r?new r:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(i);for(const o of this.items)dM(n,i,o);return i}toString(t,n,r){if(!t)return JSON.stringify(this);for(const i of this.items)if(!Fn(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),hM(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:r,onComment:n})}}const $f={collection:"map",default:!0,nodeClass:Ds,tag:"tag:yaml.org,2002:map",resolve(e,t){return Tp(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,n)=>Ds.from(e,t,n)};class Ev extends ky{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(Ff,t),this.items=[]}add(t){this.items.push(t)}delete(t){const n=Dm(t);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(t,n){const r=Dm(t);if(typeof r!="number")return;const i=this.items[r];return!n&&xn(i)?i.value:i}has(t){const n=Dm(t);return typeof n=="number"&&n<this.items.length}set(t,n){const r=Dm(t);if(typeof r!="number")throw new Error(`Expected a valid index, not ${t}.`);const i=this.items[r];xn(i)&&uM(n)?i.value=n:this.items[r]=n}toJSON(t,n){const r=[];n!=null&&n.onCreate&&n.onCreate(r);let i=0;for(const o of this.items)r.push(Zi(o,String(i++),n));return r}toString(t,n,r){return t?hM(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(t,n,r){const{replacer:i}=r,o=new this(t);if(n&&Symbol.iterator in Object(n)){let s=0;for(let u of n){if(typeof i=="function"){const h=n instanceof Set?u:String(s++);u=i.call(n,h,u)}o.items.push(Xh(u,void 0,r))}}return o}}function Dm(e){let t=xn(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}const Wf={collection:"seq",default:!0,nodeClass:Ev,tag:"tag:yaml.org,2002:seq",resolve(e,t){return _p(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,n)=>Ev.from(e,t,n)},zy={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,n,r){return t=Object.assign({actualString:!0},t),_x(e,t,n,r)}},By={identify:e=>e==null,createNode:()=>new $t(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new $t(null),stringify:({source:e},t)=>typeof e=="string"&&By.test.test(e)?e:t.options.nullStr},Rx={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new $t(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},n){if(e&&Rx.test.test(e)){const r=e[0]==="t"||e[0]==="T";if(t===r)return e}return t?n.options.trueStr:n.options.falseStr}};function $o({format:e,minFractionDigits:t,tag:n,value:r}){if(typeof r=="bigint")return String(r);const i=typeof r=="number"?r:Number(r);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let o=JSON.stringify(r);if(!e&&t&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(o)){let s=o.indexOf(".");s<0&&(s=o.length,o+=".");let u=t-(o.length-s-1);for(;u-- >0;)o+="0"}return o}const pM={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:$o},mM={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():$o(e)}},gM={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new $t(parseFloat(e)),n=e.indexOf(".");return n!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-n-1),t},stringify:$o},Fy=e=>typeof e=="bigint"||Number.isInteger(e),Px=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function vM(e,t,n){const{value:r}=e;return Fy(r)&&r>=0?n+r.toString(t):$o(e)}const yM={identify:e=>Fy(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>Px(e,2,8,n),stringify:e=>vM(e,8,"0o")},wM={identify:Fy,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>Px(e,0,10,n),stringify:$o},bM={identify:e=>Fy(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>Px(e,2,16,n),stringify:e=>vM(e,16,"0x")},Uee=[$f,Wf,zy,By,Rx,yM,wM,bM,pM,mM,gM];function q1(e){return typeof e=="bigint"||Number.isInteger(e)}const Lm=({value:e})=>JSON.stringify(e),$ee=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:Lm},{identify:e=>e==null,createNode:()=>new $t(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Lm},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>e==="true",stringify:Lm},{identify:q1,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>q1(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:Lm}],Wee={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},jee=[$f,Wf].concat($ee,Wee),kx={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof Buffer=="function")return Buffer.from(e,"base64");if(typeof atob=="function"){const n=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,i,o){const s=n;let u;if(typeof Buffer=="function")u=s instanceof Buffer?s.toString("base64"):Buffer.from(s.buffer).toString("base64");else if(typeof btoa=="function"){let h="";for(let p=0;p<s.length;++p)h+=String.fromCharCode(s[p]);u=btoa(h)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t||(t=$t.BLOCK_LITERAL),t!==$t.QUOTE_DOUBLE){const h=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),p=Math.ceil(u.length/h),v=new Array(p);for(let y=0,b=0;y<p;++y,b+=h)v[y]=u.substr(b,h);u=v.join(t===$t.BLOCK_LITERAL?`
`:" ")}return _x({comment:e,type:t,value:u},r,i,o)}};function SM(e,t){var n;if(_p(e))for(let r=0;r<e.items.length;++r){let i=e.items[r];if(!Fn(i)){if(Tp(i)){i.items.length>1&&t("Each pair must have its own sequence indicator");const o=i.items[0]||new eo(new $t(null));if(i.commentBefore&&(o.key.commentBefore=o.key.commentBefore?`${i.commentBefore}
${o.key.commentBefore}`:i.commentBefore),i.comment){const s=(n=o.value)!=null?n:o.key;s.comment=s.comment?`${i.comment}
${s.comment}`:i.comment}i=o}e.items[r]=Fn(i)?i:new eo(i)}}else t("Expected a sequence for this tag");return e}function EM(e,t,n){const{replacer:r}=n,i=new Ev(e);i.tag="tag:yaml.org,2002:pairs";let o=0;if(t&&Symbol.iterator in Object(t))for(let s of t){typeof r=="function"&&(s=r.call(t,String(o++),s));let u,h;if(Array.isArray(s))if(s.length===2)u=s[0],h=s[1];else throw new TypeError(`Expected [key, value] tuple: ${s}`);else if(s&&s instanceof Object){const p=Object.keys(s);if(p.length===1)u=p[0],h=s[u];else throw new TypeError(`Expected tuple with one key, not ${p.length} keys`)}else u=s;i.items.push(Ax(u,h,n))}return i}const Dx={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:SM,createNode:EM};class Jc extends Ev{constructor(){super(),this.add=Ds.prototype.add.bind(this),this.delete=Ds.prototype.delete.bind(this),this.get=Ds.prototype.get.bind(this),this.has=Ds.prototype.has.bind(this),this.set=Ds.prototype.set.bind(this),this.tag=Jc.tag}toJSON(t,n){if(!n)return super.toJSON(t);const r=new Map;n!=null&&n.onCreate&&n.onCreate(r);for(const i of this.items){let o,s;if(Fn(i)?(o=Zi(i.key,"",n),s=Zi(i.value,o,n)):o=Zi(i,"",n),r.has(o))throw new Error("Ordered maps must not include duplicate keys");r.set(o,s)}return r}static from(t,n,r){const i=EM(t,n,r),o=new this;return o.items=i.items,o}}Jc.tag="tag:yaml.org,2002:omap";const Lx={collection:"seq",identify:e=>e instanceof Map,nodeClass:Jc,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=SM(e,t),r=[];for(const{key:i}of n.items)xn(i)&&(r.includes(i.value)?t(`Ordered maps must not include duplicate keys: ${i.value}`):r.push(i.value));return Object.assign(new Jc,n)},createNode:(e,t,n)=>Jc.from(e,t,n)};function CM({value:e,source:t},n){return t&&(e?xM:NM).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const xM={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new $t(!0),stringify:CM},NM={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new $t(!1),stringify:CM},Kee={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:$o},Vee={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():$o(e)}},qee={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new $t(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(n!==-1){const r=e.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(t.minFractionDigits=r.length)}return t},stringify:$o},Ap=e=>typeof e=="bigint"||Number.isInteger(e);function Uy(e,t,n,{intAsBigInt:r}){const i=e[0];if((i==="-"||i==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const s=BigInt(e);return i==="-"?BigInt(-1)*s:s}const o=parseInt(e,n);return i==="-"?-1*o:o}function Mx(e,t,n){const{value:r}=e;if(Ap(r)){const i=r.toString(t);return r<0?"-"+n+i.substr(1):n+i}return $o(e)}const Hee={identify:Ap,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>Uy(e,2,2,n),stringify:e=>Mx(e,2,"0b")},Gee={identify:Ap,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>Uy(e,1,8,n),stringify:e=>Mx(e,8,"0")},Yee={identify:Ap,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>Uy(e,0,10,n),stringify:$o},Xee={identify:Ap,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>Uy(e,2,16,n),stringify:e=>Mx(e,16,"0x")};class Qc extends Ds{constructor(t){super(t),this.tag=Qc.tag}add(t){let n;Fn(t)?n=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?n=new eo(t.key,null):n=new eo(t,null),fu(this.items,n.key)||this.items.push(n)}get(t,n){const r=fu(this.items,t);return!n&&Fn(r)?xn(r.key)?r.key.value:r.key:r}set(t,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=fu(this.items,t);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new eo(t))}toJSON(t,n){return super.toJSON(t,n,Set)}toString(t,n,r){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(t,n,r){const{replacer:i}=r,o=new this(t);if(n&&Symbol.iterator in Object(n))for(let s of n)typeof i=="function"&&(s=i.call(n,s,s)),o.items.push(Ax(s,null,r));return o}}Qc.tag="tag:yaml.org,2002:set";const zx={collection:"map",identify:e=>e instanceof Set,nodeClass:Qc,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>Qc.from(e,t,n),resolve(e,t){if(Tp(e)){if(e.hasAllNullValues(!0))return Object.assign(new Qc,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function Bx(e,t){const n=e[0],r=n==="-"||n==="+"?e.substring(1):e,i=s=>t?BigInt(s):Number(s),o=r.replace(/_/g,"").split(":").reduce((s,u)=>s*i(60)+i(u),i(0));return n==="-"?i(-1)*o:o}function IM(e){let{value:t}=e,n=s=>s;if(typeof t=="bigint")n=s=>BigInt(s);else if(isNaN(t)||!isFinite(t))return $o(e);let r="";t<0&&(r="-",t*=n(-1));const i=n(60),o=[t%i];return t<60?o.unshift(0):(t=(t-o[0])/i,o.unshift(t%i),t>=60&&(t=(t-o[0])/i,o.unshift(t))),r+o.map(s=>String(s).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const OM={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>Bx(e,n),stringify:IM},TM={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>Bx(e,!1),stringify:IM},$y={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match($y.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,i,o,s,u]=t.map(Number),h=t[7]?Number((t[7]+"00").substr(1,3)):0;let p=Date.UTC(n,r-1,i,o||0,s||0,u||0,h);const v=t[8];if(v&&v!=="Z"){let y=Bx(v,!1);Math.abs(y)<30&&(y*=60),p-=6e4*y}return new Date(p)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},H1=[$f,Wf,zy,By,xM,NM,Hee,Gee,Yee,Xee,Kee,Vee,qee,kx,Lx,Dx,zx,OM,TM,$y],G1=new Map([["core",Uee],["failsafe",[$f,Wf,zy]],["json",jee],["yaml11",H1],["yaml-1.1",H1]]),Y1={binary:kx,bool:Rx,float:gM,floatExp:mM,floatNaN:pM,floatTime:TM,int:wM,intHex:bM,intOct:yM,intTime:OM,map:$f,null:By,omap:Lx,pairs:Dx,seq:Wf,set:zx,timestamp:$y},Jee={"tag:yaml.org,2002:binary":kx,"tag:yaml.org,2002:omap":Lx,"tag:yaml.org,2002:pairs":Dx,"tag:yaml.org,2002:set":zx,"tag:yaml.org,2002:timestamp":$y};function l0(e,t){let n=G1.get(t);if(!n)if(Array.isArray(e))n=[];else{const r=Array.from(G1.keys()).filter(i=>i!=="yaml11").map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${r} or define customTags array`)}if(Array.isArray(e))for(const r of e)n=n.concat(r);else typeof e=="function"&&(n=e(n.slice()));return n.map(r=>{if(typeof r!="string")return r;const i=Y1[r];if(i)return i;const o=Object.keys(Y1).map(s=>JSON.stringify(s)).join(", ");throw new Error(`Unknown custom tag "${r}"; use one of ${o}`)})}const Qee=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class Fx{constructor({compat:t,customTags:n,merge:r,resolveKnownTags:i,schema:o,sortMapEntries:s,toStringDefaults:u}){this.compat=Array.isArray(t)?l0(t,"compat"):t?l0(null,t):null,this.merge=!!r,this.name=typeof o=="string"&&o||"core",this.knownTags=i?Jee:{},this.tags=l0(n,this.name),this.toStringOptions=u!=null?u:null,Object.defineProperty(this,tl,{value:$f}),Object.defineProperty(this,Ry,{value:zy}),Object.defineProperty(this,Ff,{value:Wf}),this.sortMapEntries=typeof s=="function"?s:s===!0?Qee:null}clone(){const t=Object.create(Fx.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function Zee(e,t){var h;const n=[];let r=t.directives===!0;if(t.directives!==!1&&e.directives){const p=e.directives.toString(e);p?(n.push(p),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");const i=fM(e,t),{commentString:o}=i.options;if(e.commentBefore){n.length!==1&&n.unshift("");const p=o(e.commentBefore);n.unshift(Ka(p,""))}let s=!1,u=null;if(e.contents){if(Xn(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){const y=o(e.contents.commentBefore);n.push(Ka(y,""))}i.forceBlockIndent=!!e.comment,u=e.contents.comment}const p=u?void 0:()=>s=!0;let v=wf(e.contents,i,()=>u=null,p);u&&(v+=$s(v,"",o(u))),(v[0]==="|"||v[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${v}`:n.push(v)}else n.push(wf(e.contents,i));if((h=e.directives)!=null&&h.docEnd)if(e.comment){const p=o(e.comment);p.includes(`
`)?(n.push("..."),n.push(Ka(p,""))):n.push(`... ${p}`)}else n.push("...");else{let p=e.comment;p&&s&&(p=p.replace(/^\n+/,"")),p&&((!s||u)&&n[n.length-1]!==""&&n.push(""),n.push(Ka(o(p),"")))}return n.join(`
`)+`
`}class Ux{constructor(t,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,io,{value:WS});let i=null;typeof n=="function"||Array.isArray(n)?i=n:r===void 0&&n&&(r=n,n=void 0);const o=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},r);this.options=o;let{version:s}=o;r!=null&&r._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(s=this.directives.yaml.version)):this.directives=new Yr({version:s}),this.setSchema(s,r),this.contents=t===void 0?null:this.createNode(t,i,r)}clone(){const t=Object.create(Ux.prototype,{[io]:{value:WS}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=Xn(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){wc(this.contents)&&this.contents.add(t)}addIn(t,n){wc(this.contents)&&this.contents.addIn(t,n)}createAlias(t,n){if(!t.anchor){const r=aM(this);t.anchor=!n||r.has(n)?sM(n||"a",r):n}return new lM(t.anchor)}createNode(t,n,r){let i;if(typeof n=="function")t=n.call({"":t},"",t),i=n;else if(Array.isArray(n)){const E=N=>typeof N=="number"||N instanceof String||N instanceof Number,S=n.filter(E).map(String);S.length>0&&(n=n.concat(S)),i=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:o,anchorPrefix:s,flow:u,keepUndefined:h,onTagObj:p,tag:v}=r!=null?r:{},{onAnchor:y,setAnchors:b,sourceObjects:I}=Iee(this,s||"a"),O={aliasDuplicateObjects:o!=null?o:!0,keepUndefined:h!=null?h:!1,onAnchor:y,onTagObj:p,replacer:i,schema:this.schema,sourceObjects:I},k=Xh(t,v,O);return u&&Dn(k)&&(k.flow=!0),b(),k}createPair(t,n,r={}){const i=this.createNode(t,null,r),o=this.createNode(n,null,r);return new eo(i,o)}delete(t){return wc(this.contents)?this.contents.delete(t):!1}deleteIn(t){return Kd(t)?this.contents==null?!1:(this.contents=null,!0):wc(this.contents)?this.contents.deleteIn(t):!1}get(t,n){return Dn(this.contents)?this.contents.get(t,n):void 0}getIn(t,n){return Kd(t)?!n&&xn(this.contents)?this.contents.value:this.contents:Dn(this.contents)?this.contents.getIn(t,n):void 0}has(t){return Dn(this.contents)?this.contents.has(t):!1}hasIn(t){return Kd(t)?this.contents!==void 0:Dn(this.contents)?this.contents.hasIn(t):!1}set(t,n){this.contents==null?this.contents=bv(this.schema,[t],n):wc(this.contents)&&this.contents.set(t,n)}setIn(t,n){Kd(t)?this.contents=n:this.contents==null?this.contents=bv(this.schema,Array.from(t),n):wc(this.contents)&&this.contents.setIn(t,n)}setSchema(t,n={}){typeof t=="number"&&(t=String(t));let r;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Yr({version:"1.1"}),r={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new Yr({version:t}),r={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const i=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new Fx(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:n,mapAsMap:r,maxAliasCount:i,onAnchor:o,reviver:s}={}){const u={anchors:new Map,doc:this,keep:!t,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},h=Zi(this.contents,n!=null?n:"",u);if(typeof o=="function")for(const{count:p,res:v}of u.anchors.values())o(v,p);return typeof s=="function"?Dc(s,{"":h},"",h):h}toJSON(t,n){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:n})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const n=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return Zee(this,t)}}function wc(e){if(Dn(e))return!0;throw new Error("Expected a YAML collection as document contents")}function ete(e,t,n){var i;let r=null;if(typeof t=="function"||Array.isArray(t)?r=t:n===void 0&&t&&(n=t),typeof n=="string"&&(n=n.length),typeof n=="number"){const o=Math.round(n);n=o<1?void 0:o>8?{indent:8}:{indent:o}}if(e===void 0){const{keepUndefined:o}=(i=n!=null?n:t)!=null?i:{};if(!o)return}return new Ux(e,r,n).toString(n)}class bf{constructor(t){this.rootDoc=t||{openapi:"3.0.0",info:{title:"app",version:"version"},paths:{},components:{schemas:{},responses:{},parameters:{},examples:{},requestBodies:{},headers:{},securitySchemes:{},links:{},callbacks:{}},tags:[],servers:[]}}static create(t){return new bf(t)}getSpec(){return this.rootDoc}getSpecAsJson(t,n){return JSON.stringify(this.rootDoc,t,n)}getSpecAsYaml(){return ete(this.rootDoc)}static isValidOpenApiVersion(t){t=t||"";const n=/(\d+)\.(\d+).(\d+)/.exec(t);return!!(n&&parseInt(n[1],10)>=3)}addOpenApiVersion(t){if(!bf.isValidOpenApiVersion(t))throw new Error("Invalid OpenApi version: "+t+". Follow convention: 3.x.y");return this.rootDoc.openapi=t,this}addInfo(t){return this.rootDoc.info=t,this}addContact(t){return this.rootDoc.info.contact=t,this}addLicense(t){return this.rootDoc.info.license=t,this}addTitle(t){return this.rootDoc.info.title=t,this}addDescription(t){return this.rootDoc.info.description=t,this}addTermsOfService(t){return this.rootDoc.info.termsOfService=t,this}addVersion(t){return this.rootDoc.info.version=t,this}addPath(t,n){return this.rootDoc.paths[t]=n,this}addSchema(t,n){return this.rootDoc.components.schemas[t]=n,this}addResponse(t,n){return this.rootDoc.components.responses[t]=n,this}addParameter(t,n){return this.rootDoc.components.parameters[t]=n,this}addExample(t,n){return this.rootDoc.components.examples[t]=n,this}addRequestBody(t,n){return this.rootDoc.components.requestBodies[t]=n,this}addHeader(t,n){return this.rootDoc.components.headers[t]=n,this}addSecurityScheme(t,n){return this.rootDoc.components.securitySchemes[t]=n,this}addLink(t,n){return this.rootDoc.components.links[t]=n,this}addCallback(t,n){return this.rootDoc.components.callbacks[t]=n,this}addServer(t){return this.rootDoc.servers.push(t),this}addTag(t){return this.rootDoc.tags.push(t),this}addExternalDocs(t){return this.rootDoc.externalDocs=t,this}}const Do=vt(function(e){return{...{...bf.create().getSpec(),openapi:"3.0.3",info:{contact:{name:"name",url:"",email:""},description:"",license:{name:"license",url:""},termsOfService:"",title:"title",version:"0.1.0"},externalDocs:{description:"",url:""}},setContact(n){e(km(function(r){r.info.contact=n}))},setExternal(n){e(km(function(r){r.externalDocs=n}))},setInfo(n){e(km(function(r){r.info=n}))},setLicense(n){e(km(function(r){r.info.license=n}))},setOAPI(n){e(n)}}});function tte(e){if(typeof e!="string")throw new Error("unsupported version: "+e);const[t,n]=e.split(".").map(s=>parseInt(s)),[r,i]="0.4.1".split(".").map(s=>parseInt(s));if(t===r&&n===i)return;const o=`Please upgrade the PHP package ${Jt.PackageName} to version: 0.4.1`;throw t<r?new Error(o):t===r&&n<i?new Error(o):new Error(`Please upgrade the PhpStorm plugin ${Jt.Name} to version: ${e}`)}function nte(){uC.getState().observe(),lC.getState().observe(),ao.getState().observe(),oi.getState().observe(),kf.getState().observe(),so.getState().observe(),zr.getState().observe(),lx.getState().observe(),CD.getState().observe(),hp.getState().observe(),Er.getState().observe(),cx.getState().observe(),dx.getState().observe(),fx.getState().observe(),gv.getState().observe(),hx.getState().observe(),Ay.getState().observe(),yx.getState().observe(),Ip.getState().observe(),Np.getState().observe(),vl.getState().observe(),cl.getState().observe()}const qS=vt(function(e){return{note:""}}),rte=1222,X1=111;function ite(e){let t=0,n=!1;setInterval(function(){n||up().then(function(r){const i=JSON.stringify({db:r,oapi:Do.getState(),setting:qS.getState()});if(i!==e)return e=i,t+=1,n=!0,RV(e,t===X1).finally(function(){n=!1,t===X1&&(t=0)})}).catch(De.getState().showError)},rte)}function ote(e){let t=["db","oapi","setting"].every(n=>n in e);if(typeof e.db.version=="number"){if(e.db.version>aC)throw new Error(`Cannot load version ${e.db.version} data`)}else t=!1;if(t===!1)throw new Error("Cannot load corrupted data");e.setting.note===void 0&&(e.setting.note="")}function ate(e,t){Object.keys(t.db.tables).forEach(function(n){const r=n;r in e.tables&&(De.getState().showSuccess(`importing ${r}`),ste(e.tables[r],t.db.tables[r]))})}function ste(e,t){const n=new Map(e.map(r=>[r.id,r]));t.forEach(function(r){var s;if(n.get(r.id))return;e.push(r);const o=(s=r.name)!=null?s:"";De.getState().showSuccess(`${r.id} ${o} imported`)})}async function _M(e,t,n=!1){aee();const r=await fetch("preset.json").then(i=>i.json());return e===null?e=r:ote(e),Do.getState().setOAPI(e.oapi),VV(e.db,t,r),n&&ate(e.db,r),GV(e.db).then(()=>vf.setState({item:e==null?void 0:e.db.tables.Module[0]})).then(nte)}function lte(){const e="index.d.ts";return fetch(e).then(t=>t.text()).then(t=>iC(Yv(e),t)).then(()=>ly())}function ute(e,t=!1){tte(e.version),lte();let n=null;if(e.data){n=JSON.parse(e.data);const r=JSON.parse(e.composer);av.getState().setPsr4({...r["autoload-dev"]["psr-4"],...r.autoload["psr-4"]})}return _M(n,e.data,t).then(()=>{var r;return ite((r=e.data)!=null?r:"")})}function cte(){return _M(null,null)}function fte(){const[e,t]=H.exports.useState(""),[n,r]=H.exports.useState(!1),[i,o]=H.exports.useState(!1),s=Wv();function u(){i||(o(!0),t(""),_V().then(p=>ute(p.data.data,n)).then(()=>s.setConnected()).catch(p=>{console.log(p),s.setConnected(!1),t(cC(p))}).finally(function(){o(!1)}))}function h(){cte().then(()=>{o(!1),s.setConnected(!0,!0),t("")})}return w("div",{className:"row justify-content-center mt-5",children:j("div",{className:"col-6 text-center",children:[w("h1",{className:"text-secondary",children:Jt.Name}),w("p",{children:"0.4.1"}),j("p",{children:[location.origin," ",s.connected?w("span",{className:"text-success",children:"connected"}):null]}),s.connected?null:w("p",{children:i?w("span",{className:"spinner-border text-primary"}):j(Zt,{children:[j("span",{className:"form-check form-switch inline",children:[w("input",{checked:n,onChange:p=>r(!n),className:"form-check-input",type:"checkbox",role:"switch",id:"fillableSwitchCheck"}),w("label",{className:"form-check-label",htmlFor:"fillableSwitchCheck",children:"import missing data from preset.json"})]}),w("br",{}),w("br",{}),w(hf,{onClick:u,waiting:i,children:"connect"}),s.ide?null:w(hf,{className:"btn btn-outline-primary ms-3",onClick:h,waiting:i,children:"demo"})]})}),null,e?j(Zt,{children:[w("p",{className:"text-danger",children:e}),j("p",{children:["make sure Laravel server ",location.origin," is running,",w("br",{}),"and PHP package ",Jt.PackageName," is installed."]})]}):null,w(ni,{href:"https://googee.github.io/laravel-builder",children:"help"})]})})}function dte(){const e=Do(n=>n.info.contact),t=Do();return w("table",{className:"table td0-tar",children:j("tbody",{children:[j("tr",{children:[w("td",{className:"w222",children:"email"}),w("td",{children:w("input",{value:e.email,onChange:n=>t.setContact({...e,email:n.target.value}),className:"form-control",type:"text"})})]}),j("tr",{children:[w("td",{children:"name"}),w("td",{children:w("input",{value:e.name,onChange:n=>t.setContact({...e,name:n.target.value}),className:"form-control",type:"text"})})]}),j("tr",{children:[w("td",{children:"url"}),w("td",{children:w("input",{value:e.url,onChange:n=>t.setContact({...e,url:n.target.value}),className:"form-control",type:"text"})})]})]})})}function hte(){const e=Do(n=>n.info),t=Do();return w("table",{className:"table td0-tar",children:j("tbody",{children:[j("tr",{children:[w("td",{className:"w222",children:"title"}),w("td",{children:w("input",{value:e.title,onChange:n=>t.setInfo({...e,title:n.target.value}),className:"form-control",type:"text"})})]}),j("tr",{children:[w("td",{children:"version"}),w("td",{children:w("input",{value:e.version,onChange:n=>t.setInfo({...e,version:n.target.value}),className:"form-control",type:"text"})})]}),j("tr",{children:[w("td",{children:"description"}),w("td",{children:w("textarea",{rows:3,value:e.description,onChange:n=>t.setInfo({...e,description:n.target.value}),className:"form-control"})})]}),j("tr",{children:[w("td",{children:"termsOfService"}),w("td",{children:w("textarea",{rows:3,value:e.termsOfService,onChange:n=>t.setInfo({...e,termsOfService:n.target.value}),className:"form-control"})})]})]})})}function pte(){const e=Do(n=>n.info.license),t=Do();return w("table",{className:"table td0-tar",children:j("tbody",{children:[j("tr",{children:[w("td",{className:"w222",children:"name"}),w("td",{children:w("input",{value:e.name,onChange:n=>t.setLicense({...e,name:n.target.value}),className:"form-control",type:"text"})})]}),j("tr",{children:[w("td",{children:"url"}),w("td",{children:w("input",{value:e.url,onChange:n=>t.setLicense({...e,url:n.target.value}),className:"form-control",type:"text"})})]})]})})}function mte(){const e=Do(n=>n.externalDocs),t=Do();return w("table",{className:"table td0-tar",children:j("tbody",{children:[j("tr",{children:[w("td",{className:"w222",children:"url"}),w("td",{children:w("input",{value:e.url,onChange:n=>t.setExternal({...e,url:n.target.value}),className:"form-control",type:"text"})})]}),j("tr",{children:[w("td",{children:"description"}),w("td",{children:w("textarea",{rows:3,value:e.description,onChange:n=>t.setExternal({...e,description:n.target.value}),className:"form-control"})})]})]})})}var AM=(e=>(e.contact="contact",e.external="external",e.info="info",e.license="license",e))(AM||{});function gte(){const e=Object.keys(AM),[t,n]=H.exports.useState("info");function r(){if(t==="contact")return w(dte,{});if(t==="external")return w(mte,{});if(t==="info")return w(hte,{});if(t==="license")return w(pte,{})}return w("div",{className:"row",children:j("div",{className:"col offset-3",children:[j("div",{children:[w("h1",{className:"inline",children:"OpenApi 3.0"}),w(ni,{className:"ms-3",href:"https://spec.openapis.org/oas/v3.0.3#info-object",children:"doc"})]}),w(Df,{tab:t,tabzz:e,setTab:n}),r()]})})}function vte(e,t,n,r){let i="";e.default===null||(["","''",'""'].includes(e.default)?i="''":i=e.default);const o=iD(t.id,e.name,e.type,i,e.length,n,r);return o.comment=e.comment,o.nullable=e.nullable,o.scale=e.scale,o.unsigned=e.unsigned,Ni().create(o).then(s=>{const u=pl(r==null?void 0:r.oapiType);return u.ownerColumnId=s.id,ei().create(u).then(()=>s)})}function yte(e,t,n){return ah().create({entityId:t.id,type:e.type}).then(function(r){const i=e.columnzz.map((o,s)=>{const u=n.find(h=>h.name===o);return{indexId:r.id,columnId:u.id,sort:s+1}});return sh().createMany(i)})}function wte(e,t,n){return console.log(`createRelation ${e.name} - ${t.name}`),i8(yi.OneToMany,e,t,n)}function bte(e){console.log(`createTable ${e.name}`);const t=Ph.startCase(e.name).replaceAll(" ",""),n=t===e.name?"":e.name,r=AC(t,e.comment,n);return vi().create(r)}async function Ste(e){const t=kf.getState(),n=Ti("ReadOnlyColumn"),r=e.tablezz.filter(s=>s.included),i=new Map;await up().then(s=>s.tables.Entity.forEach(u=>i.set(u.table?u.table:u.name,u)));for(const s of r)await bte(s).then(u=>i.set(s.name,u));const o=new Map;for(const s of r)for(const u of s.columnzz){let h=o.get(s.name);h===void 0&&(h=[],o.set(s.name,h)),await vte(u,i.get(s.name),n,t.findByName(u.type)).then(p=>h.push(p))}for(const s of r){const u=o.get(s.name),h=new Set;for(const p of s.relationzz){p.columnzz.length===1&&h.add(p.columnzz[0]);const v=u.find(y=>y.name===p.columnzz[0]);await wte(i.get(p.schema),i.get(s.name),v.id)}for(const p of s.indexzz){if(p.columnzz.length===1&&h.has(p.columnzz[0])&&p.type==="index")break;await yte(p,i.get(s.name),o.get(s.name))}}return r.length}function Ete(){const e=Er(),t=De(),[n,r]=H.exports.useState(!1),[i,o]=H.exports.useState(),[s,u]=H.exports.useState(!1),h=new Set(e.itemzz.map(v=>v.table?v.table:v.name));function p(v,y){if(i===void 0)return;const b=i.tablezz.map(I=>Object.is(I,v)?{...I,included:y}:I);o({...i,tablezz:b})}return j("table",{className:"table",children:[w("caption",{children:w(hf,{waiting:s,onClick:function(){s||(u(!0),PV().then(v=>{u(!1),v.data.data.tablezz.forEach(y=>y.included=!1),o(v.data.data)}).catch(v=>{u(!1),t.showError(v)}))},children:"read DB tables"})}),w("thead",{children:w("tr",{children:w("td",{children:"selected"})})}),w("tbody",{children:i?i.tablezz.map(v=>w("tr",{children:w("td",{children:j("div",{className:"form-check form-switch",children:[w("input",{checked:v.included,onChange:y=>p(v,y.target.checked),className:"form-check-input",type:"checkbox",role:"switch",id:"nameSwitchCheck"+v.name}),j("label",{className:"form-check-label",htmlFor:"nameSwitchCheck"+v.name,children:[v.name,h.has(v.name)?w("span",{className:"text-danger ms-1",children:"exists"}):null]})]})})},v.name)):null}),j("tfoot",{children:[w("tr",{children:j("td",{children:[j("div",{className:"form-check form-switch inline me-3",children:[w("input",{checked:n,onChange:function(v){if(r(v.target.checked),i===void 0)return;const y=i.tablezz.map(b=>({...b,included:v.target.checked}));o({...i,tablezz:y})},className:"form-check-input",type:"checkbox",role:"switch",id:"allSwitchCheck"}),w("label",{className:"form-check-label",htmlFor:"allSwitchCheck",children:"all"})]}),w(hf,{waiting:s,onClick:function(){i!==void 0&&(s||(u(!0),Ste(i).then(v=>{u(!1),t.showSuccess(`created ${v} schemas`)}).catch(v=>{u(!1),t.showError(v)})))},children:"import selected tables"})]})}),w("tr",{children:w("td",{children:j("ul",{children:[w("li",{children:"table names and column names are case sensitive."}),w("li",{children:"cannot import existed tables."}),w("li",{children:"if related tables not exist when importing a table, it will fail."}),w("li",{children:"if a table and a schema with the same name, but have different columns(foreign keys), it will fail."})]})})})]})]})}function Cte(e){return w("span",{className:e.className,children:j("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-check-circle",viewBox:"0 0 16 16",children:[w("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),w("path",{d:"M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"})]})})}function xte(e){return w("span",{className:e.className,children:w("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-caret-left-fill",viewBox:"0 0 16 16",children:w("path",{d:"m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z"})})})}function Nte(e){return w("span",{className:e.className,children:w("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-skip-end-fill",viewBox:"0 0 16 16",children:w("path",{d:"M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0V4z"})})})}function Ite(e){return w("span",{className:e.className,children:w("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-skip-start-fill",viewBox:"0 0 16 16",children:w("path",{d:"M4 4a.5.5 0 0 1 1 0v3.248l6.267-3.636c.54-.313 1.232.066 1.232.696v7.384c0 .63-.692 1.01-1.232.697L5 8.753V12a.5.5 0 0 1-1 0V4z"})})})}function Ote(e){const t=De(),[n,r]=H.exports.useState(!1);function i(o){if(!n)return r(!0),DV(o).then(s=>t.showSuccess(s.data.data)).then(e.read).catch(t.showError).then(()=>r(!1))}return j("div",{children:[j("div",{className:"mb-3",children:[n===!1?null:w("div",{className:"spinner-border text-primary",role:"status",children:w("span",{className:"visually-hidden",children:"Loading..."})}),w("button",{disabled:n||e.waiting,onClick:function(){n||(r(!0),LV().then(function(o){t.showSuccess(o.data.data)}).then(ly).then(e.read).catch(t.showError).finally(()=>r(!1)))},className:"btn btn-outline-success me-2",type:"button",children:"diff"}),w("span",{children:"compare files in `database/Entity` with database schemas, and generate a migration file of their difference."})]}),j("div",{children:[w("button",{disabled:n||e.waiting,onClick:()=>Mr().then(o=>{if(o.isConfirmed)return i(0)}).catch(t.showError),className:"btn btn-outline-warning me-3",type:"button",children:w(Ite,{})}),w("button",{disabled:n||e.waiting,onClick:()=>i(-1),className:"btn btn-outline-warning me-3",type:"button",children:w(xte,{})}),w("button",{disabled:n||e.waiting,onClick:()=>i(11),className:"btn btn-outline-warning me-2",type:"button",children:w(Nte,{})}),w("span",{children:"run artisan command `migrate`"})]})]})}function Tte(){const e=De(),[t,n]=H.exports.useState(s()),[r,i]=H.exports.useState(!1);let o=!1;H.exports.useEffect(()=>(u().catch(e.showError),function(){o=!0}),[]);function s(){return{dbexist:!1,filezz:[],migrationzz:[]}}function u(){return r?Promise.reject("waiting..."):(i(!0),kV().then(y=>{o||n(y.data.data)}).finally(()=>i(!1)))}const h=new Map;t.migrationzz.forEach(y=>h.set(y.migration,{...y}));const p=[...h.values()];t.filezz.forEach(y=>{const b=h.get(y.replace(".php",""));if(b){b.migration=y;return}p.push({batch:0,migration:y})}),p.reverse();function v(y){return y.migration.endsWith(".php")?j("div",{className:"btn-group",children:[w("button",{onClick:()=>Mr().then(b=>{if(b.isConfirmed)return MV(y.migration).then(ly).then(u)}).catch(e.showError),disabled:y.batch>0,className:"btn btn-outline-primary danger",type:"button",children:"-"}),w(ha,{content:"",file:"database/migrations/"+y.migration,text:y.migration})]}):w("span",{className:"text-danger",children:y.migration})}return j("table",{className:"table",children:[w("caption",{children:w(Ote,{read:u,waiting:r})}),w("thead",{children:j("tr",{children:[w("td",{children:"batch"}),w("td",{children:"migration / file"})]})}),j("tbody",{children:[p.length?null:w("tr",{children:w("td",{colSpan:2,className:"text-secondary",children:"no migration"})}),p.map(y=>j("tr",{children:[w("td",{children:y.batch===0?null:j("div",{children:[w(Cte,{className:"text-success me-3"}),y.batch]})}),w("td",{children:v(y)})]},y.migration))]})]})}var RM=(e=>(e.Database="Database",e.Migration="Migration",e))(RM||{});function _te(e){const t=zu(),[n,r]=H.exports.useState("Migration"),i=Object.keys(RM);function o(){return n==="Migration"?w(Tte,{}):w(Ete,{})}return j(Zt,{children:[t.item===void 0?null:w("div",{className:"mb-3",children:w(Qa,{action:"",file:e.file,fullName:!0,entity:t.item})}),w(Df,{tab:n,tabzz:i,setTab:r}),o()]})}function Ate(){const e=Er(),n=oi().find(1);return n===void 0?w("div",{children:w("span",{className:"text-danger",children:"file Entity not found"})}):j("div",{className:"row",children:[w(Zv,{title:ot.Entity,itemzz:e.itemzz.filter(r=>r.isTable),useStore:zu}),w("div",{className:"col-9 py-3 h100 overflow-auto",children:w(_te,{file:n})})]})}function Sf(e,t,n){const r=n.find(i=>i[t]===e);if(r===void 0)throw new Error(`TypeFormat ${e} not found`);return r}function Rte(e,t){if(e.type===gt.WuParameter)return Jh();const n=t.get(e.wuId);return n===void 0?Jh():Po(n.name,to.schemas)}function Jh(){return Po("Empty",to.schemas)}function Po(e,t){return{$ref:`#/components/${t}/${e}`}}var to=(e=>(e.callbacks="callbacks",e.examples="examples",e.headers="headers",e.links="links",e.parameters="parameters",e.requestBodies="requestBodies",e.responses="responses",e.schemas="schemas",e.securitySchemes="securitySchemes",e))(to||{});function Pte(e){return{description:e.description,enum:e.enum,type:e.type}}function PM(e){return"__Enum__"+e}function kte(e,t,n,r,i,o,s,u,h){var E,S,N;const p=(E=u.get(e.id))!=null?E:[];if(p.length===0)return Po(e.name,to.schemas);if(h.length<p.length)throw new Error(`${e.name} require ${p.length} WuParameter`);const v=new Map(p.map((_,T)=>[_.id,h[T]])),y=(S=i.get(e.id))!=null?S:[],b=(N=o.get(e.id))!=null?N:[];if(b.length===0&&y.length===0&&e.isMap===!1)return Jh();const I=y.reduce(function(_,T){const M=Sf(T.id,"ownerColumnId",t);return _[T.name]=qa(M,t,n,r,i,o,s,u,h,v),_},Object.create(null)),O=NS({description:e.description,properties:I});if(e.example&&(O.example=e.example),e.isRequest&&(O.required=y.map(_=>_.name)),e.isMap){const _=Sf(e.id,"ownerWuId",t);O.additionalProperties=qa(_,t,n,r,i,o,s,u,h,v)}if(b.length===0)return O;const k=b.map(_=>qa(_,t,n,r,i,o,s,u,h,v));return(y.length||e.isMap)&&k.push(O),cD(k,e.type)}function qa(e,t,n,r,i,o,s,u,h,p){let v=y();if(e.isArray&&(v=e8(v)),e.nullable){if(_C(v)||uD(v))return v;v.nullable=e.nullable}return v;function y(){var I,O,k,E;if(e.type===gt.any)return{};if(e.type===gt.Enum){const S=r.get((I=e.variableId)!=null?I:0);if(S===void 0)throw new Error(Ei("Enum",(O=e.variableId)!=null?O:""));const N=PM(S.name);return Po(N,to.schemas)}if(e.type===gt.WuParameter){const S=p.get((k=e.wuParameterId)!=null?k:0);return S||Jh()}if(e.type===gt.Wu){const S=(E=n.get(e.id))!=null?E:[];if(S.length){const N=s.get(e.wuId);if(N===void 0)throw new Error(Ei("Wu",e.wuId));const _=S.map(T=>qa(T,t,n,r,i,o,s,u,h,p));return kte(N,t,n,r,i,o,s,u,_)}return Rte(e,s)}const b={format:e.format,type:e.type};return e.nullable&&(b.nullable=!0),b}}function J1(e,t,n,r,i,o,s,u,h){var y;const p=Sf(e.id,"required"in e?"ownerRequestId":"ownerResponseId",t),v={schema:qa(p,t,n,r,o,s,u,h,[],new Map)};if(e.example)v.example=e.example;else{const b=("required"in e?"rb":"r")+e.id,I=(y=i.get(b))!=null?y:[];I.length&&(v.examples=I.reduce(function(O,k){return O[k.name]=Po(k.name,to.examples),O},Object.create(null)))}return v}function Dte(e,t,n,r,i){const o={allowReserved:t.allowReserved,deprecated:t.deprecated,description:t.description,explode:t.explode,required:t.required,schema:i,style:t.style};t.example&&(o.example=t.example);const s=n.get(t.entityId);if(s===void 0)return;if(s.name===ot.ParameterInHeader){r.addHeader(t.name,o);return}const u=px(s.name);r.addParameter(kM(u,t),{...o,name:e.alias?e.alias:t.name,in:u})}function kM(e,t){return e+"-"+t.name}function Q1(e,t){const n=t.get(e.entityId);if(n===void 0)return Po(e.name,to.parameters);if(n.name===ot.ParameterInHeader)return Po(e.name,to.headers);const r=px(n.name);return Po(kM(r,e),to.parameters)}function DM(e,t){var i;const r=((i=t.get(e.id))!=null?i:[]).reduce(function(o,s){const u={default:s.default,description:s.description,enum:s.enum};return o[s.name]=u,o},Object.create(null));return{description:e.description,url:e.name,variables:r}}function Lte(e,t,n,r,i,o,s,u,h,p,v){var S,N;const y={description:e.description,parameters:((S=i.get(e.id))!=null?S:[]).map(_=>Q1(_,t)),summary:e.summary},b=E(1,e.id);b.length&&(y.servers=b);const O=((N=o.get(e.id))!=null?N:[]).filter(_=>{var T;return((T=n.get(_.id))!=null?T:[]).length});if(O.length===0)return null;return O.reduce(function(_,T){var $,G;const M=($=n.get(T.id))!=null?$:[];if(M.length===0)return _;const R=M.reduce(function(te,q){return te[q.status]=Po(q.name,to.responses),te},Object.create(null)),B={deprecated:T.deprecated,description:T.description,parameters:((G=r.get(T.requestId))!=null?G:[]).map(te=>Q1(te,t)),responses:R,operationId:T.operationId,summary:T.summary,tags:[v]},U=E(T.requestId,1);U.length&&(B.servers=U);const F=T.method;if(_[F]=B,["get","delete"].includes(T.method)||T.requestId===1)return _;const z=s.get(T.requestId);return B.requestBody=Po(z.name,to.requestBodies),_},y);function E(_,T){return u.filter(R=>R.requestId===_&&R.pathId===T).map(R=>h.get(R.serverId)).map(R=>DM(R,p))}}function Mte(e,t,n,r,i,o,s){var k,E;const u=new Map,h=[],p=new Map,v=(k=i.get(e.id))!=null?k:[],y=(E=o.get(e.id))!=null?E:[];if(y.length===0&&v.length===0&&e.isMap===!1)return e.id===1?NS({}):Jh();const b=v.reduce(function(S,N){const _=Sf(N.id,"ownerColumnId",t);if(HS(_,n))return S;const T=qa(_,t,n,r,i,o,s,u,h,p);return lD(T)&&(N.ro&&(T.readOnly=!0),N.wo&&(T.writeOnly=!0)),S[N.name]=T,S},Object.create(null)),I=NS({description:e.description,properties:b});if(e.example&&(I.example=e.example),e.isRequest,e.isMap){const S=Sf(e.id,"ownerWuId",t);HS(S,n)===!1&&(I.additionalProperties=qa(S,t,n,r,i,o,s,u,h,p))}if(y.length===0)return I;const O=[];return y.forEach(S=>{O.push(qa(S,t,n,r,i,o,s,u,h,p))}),(v.length||e.isMap)&&O.push(I),cD(O,e.type)}function HS(e,t){var r;return!!(e.type===gt.WuParameter||((r=t.get(e.id))!=null?r:[]).find(i=>HS(i,t)))}function zte(e,t){const n=bf.create({...bf.create().getSpec(),info:e.info,externalDocs:e.externalDocs}),r=new Map;t.tables.Example.forEach($=>{r.set($.id,$),n.addExample($.name,{description:$.description,summary:$.summary,value:$.value})});const i=Pr(t.tables.Entity),o=Pr(t.tables.Column);Pr(t.tables.Module);const s=Pr(t.tables.Variable),u=t.tables.TypeFormat,h=Js(t.tables.TypeFormat,"ownerId");t.tables.Variable.forEach($=>n.addSchema(PM($.name),Pte($)));const p=new Map;t.tables.WuColumn.forEach($=>{let G=p.get($.wuId);G===void 0&&(G=[],p.set($.wuId,G));const te=o.get($.columnId);let q=te.name;$.alias&&(q=$.alias),G.push({...te,name:q})});const v=Pr(t.tables.Wu),y=Js(t.tables.TypeFormat,"ownerWuChildId"),b=Js(t.tables.WuParameter,"wuId"),I=new Map,O=new Map,k=new Map;t.tables.ParameterMap.forEach($=>{if($.pathId){E(I,$,$.pathId);return}if($.requestId){E(k,$,$.requestId);return}if($.responseId){E(O,$,$.responseId);return}});function E($,G,te){let q=$.get(te);q===void 0&&(q=[],$.set(te,q));const re=o.get(G.columnId);re&&q.push(re)}const S=new Map;t.tables.ExampleMap.forEach($=>{const G=$.requestId?"rb"+$.requestId:"r"+$.responseId;let te=S.get(G);te===void 0&&(te=[],S.set(G,te));const q=r.get($.exampleId);q&&te.push(q)}),t.tables.Wu.forEach($=>{var te;((te=b.get($.id))!=null?te:[]).length||n.addSchema($.name,Mte($,u,h,s,p,y,v))}),t.tables.ParameterMap.forEach($=>{const G=o.get($.columnId);if(G===void 0)return;const te=Sf(G.id,"ownerColumnId",u);Dte($,G,i,n,qa(te,u,h,s,p,y,v,b,[],new Map))}),t.tables.Request.forEach($=>{n.addRequestBody($.name,{content:{[$.mediaType]:J1($,u,h,s,S,p,y,v,b)},description:$.description,required:$.required})}),t.tables.Response.forEach($=>{var G;n.addResponse($.name,{content:{[$.mediaType]:J1($,u,h,s,S,p,y,v,b)},description:$.description,headers:((G=O.get($.id))!=null?G:[]).reduce(function(te,q){return te[q.name]=Po(q.name,to.headers),te},Object.create(null))})});const N=Pr(t.tables.Request),_=Pr(t.tables.Response),T=new Map;t.tables.ModuleActionResponse.forEach($=>{let G=T.get($.moduleActionId);G===void 0&&(G=[],T.set($.moduleActionId,G));const te=_.get($.responseId);te&&G.push({...$,name:te.name})});const M=Pr(t.tables.ModuleAction),R=new Map;t.tables.PathMethod.forEach($=>{let G=R.get($.pathId);G===void 0&&(G=[],R.set($.pathId,G));const te=M.get($.moduleActionId);te&&te.inOapi&&G.push({...te,method:$.method})});const B=new Map;t.tables.ServerVariable.forEach($=>{let G=B.get($.serverId);G===void 0&&(G=[],B.set($.serverId,G));const te=s.get($.variableId);te&&G.push(te)});const U=new Map;t.tables.Server.forEach($=>{U.set($.id,$),$.global&&n.addServer(DM($,B))});const F=new Set,z=[...t.tables.Path];return z.sort(($,G)=>$.name.localeCompare(G.name)),z.forEach($=>{var q;const G=i.get($.entityId),te=Lte($,i,T,k,I,R,N,t.tables.ServerMap,U,B,(q=G==null?void 0:G.name)!=null?q:"not found");te!==null&&(G&&F.add(G.name),n.addPath($.name,te))}),Array.from(F).sort(($,G)=>$.localeCompare(G)).forEach($=>n.addTag({name:$})),n}function Bte(){const e=Do(),[t,n]=H.exports.useState("");return j("div",{children:[j("div",{className:"mb-3",children:[w("h1",{className:"inline",children:"OpenApi 3.0"}),w(ni,{className:"ms-3",href:"https://spec.openapis.org/oas/v3.0.3",children:"doc"}),w(ni,{className:"ms-3",href:"https://editor.swagger.io/",children:"editor"}),w("button",{onClick:()=>up().then(function(r){const i=zte(e,r);n(i.getSpecAsJson())}),className:"btn btn-outline-primary ms-3",type:"button",children:"toJSON"})]}),w("div",{className:"mb-3",children:w("textarea",{className:"form-control",readOnly:!0,rows:11,value:t})})]})}const ag=vt(function(e){return zo(e)});function Fte(e){const t=ag(),n=De(),i=so().itemzz.find(s=>s.ownerColumnId===e.item.id);function o(s){t.setItem(s),Ni().update(s).then(t.setItem).catch(n.showError)}return w("table",{className:"table td0-tar",children:j("tbody",{children:[j("tr",{children:[w("td",{className:"w111",children:"type"}),w("td",{children:w(Op,{id:e.item.id,item:i})})]}),j("tr",{children:[w("td",{children:"allowReserved"}),w("td",{children:j("div",{className:"form-check form-switch",children:[w("input",{checked:e.item.allowReserved,onChange:s=>o({...e.item,allowReserved:s.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"allowReservedSwitchCheck"+e.item.id}),w("label",{className:"form-check-label",htmlFor:"allowReservedSwitchCheck"+e.item.id})]})})]}),j("tr",{children:[w("td",{children:"deprecated"}),w("td",{children:j("div",{className:"form-check form-switch",children:[w("input",{checked:e.item.deprecated,onChange:s=>o({...e.item,deprecated:s.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"deprecatedSwitchCheck"+e.item.id}),w("label",{className:"form-check-label",htmlFor:"deprecatedSwitchCheck"+e.item.id})]})})]}),j("tr",{children:[w("td",{children:"explode"}),w("td",{children:j("div",{className:"form-check form-switch",children:[w("input",{checked:e.item.explode,onChange:s=>o({...e.item,explode:s.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"explodeSwitchCheck"+e.item.id}),w("label",{className:"form-check-label",htmlFor:"explodeSwitchCheck"+e.item.id})]})})]}),j("tr",{children:[w("td",{children:"required"}),w("td",{children:j("div",{className:"form-check form-switch",children:[w("input",{checked:e.item.required,onChange:s=>o({...e.item,required:s.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"requiredSwitchCheck"+e.item.id}),w("label",{className:"form-check-label",htmlFor:"requiredSwitchCheck"+e.item.id})]})})]}),j("tr",{children:[w("td",{children:"style"}),w("td",{children:w(ko,{className:"wa",itemzz:YY,value:e.item.style,change:function(s){o({...e.item,style:s})}})})]}),j("tr",{children:[j("td",{children:[w("span",{children:"constraint"}),w("br",{}),w(ni,{href:"https://laravel.com/docs/9.x/validation",children:"doc"})]}),w("td",{children:w(WL,{column:e.item,constraintzz:e.constraintzz})})]}),j("tr",{children:[w("td",{children:"example"}),w("td",{children:w("textarea",{value:e.item.example,onChange:s=>o({...e.item,example:s.target.value}),className:"form-control"})})]})]})})}function Ute(e){const t=zr(),n=Er(),r=ag(),i=De(),[o,s]=H.exports.useState([]),u=Ti("ValidationRule"),h=n.findByName(e.page);if(h===void 0)return null;const p="Please input the name";H.exports.useEffect(()=>{r.setItem()},[e.page]),H.exports.useEffect(()=>{s(t.itemzz.filter(y=>y.entityId===h.id).sort((y,b)=>y.name.localeCompare(b.name)))},[e.page,t.itemzz]);function v(y){if(h===void 0)return null;let b="form";return[ot.ParameterInHeader,ot.ParameterInPath].includes(h.name)&&(b="simple"),Mu(h.id,y,gt.string,"",333,b).catch(i.showError)}return j("div",{className:"row",children:[w(Zv,{title:e.page.includes("ParameterIn")?e.page.replace("ParameterIn",""):e.page,button:w("button",{onClick:function(){Bn(p,"").then(y=>{if(y.isConfirmed&&y.value)return v(y.value)}).catch(i.showError)},className:"btn btn-outline-primary",type:"button",children:"+"}),itemzz:o,useStore:ag}),w("div",{className:"col-9 py-3 h100 overflow-auto",children:r.item===void 0?null:j(Zt,{children:[w(dC,{item:r.item,makeCRUD:Ni,message:p,showDialog:Bn,useItemPageStore:ag}),w(Fte,{constraintzz:u,item:r.item})]})})]})}function $te(){const e=Wv();function t(r){return j("li",{className:"nav-item",children:[n(r," nav-link"+(r.childzz.length?" dropdown-toggle":"")),r.childzz.length===0?null:w("ul",{className:"dropdown-menu",children:r.childzz.map(i=>w("li",{children:n(i," dropdown-item")},i.path))})]},r.path)}function n(r,i){return w(ZK,{to:r.path,className:({isActive:o})=>(o?"active ":"")+i,children:r.name})}return w("nav",{className:"navbar navbar-expand navbar-dark bg-primary",children:j("div",{className:"container-fluid",children:[w("a",{className:"navbar-brand",children:"LB"}),e.connected?w("ul",{className:"navbar-nav me-auto",children:o5.filter(r=>r.visible).map(r=>t(r))}):null]})})}function Wte(){const e=De();return w("div",{className:"toast-container position-fixed bottom-0 mb-3 pb-3 end-0 me-3",children:e.list.map(t=>w("div",{className:t.color+" toast show align-items-center",children:j("div",{className:"d-flex",children:[w("div",{className:"toast-body",children:t.text}),w("button",{onClick:()=>e.dismiss(t.id),className:"btn-close me-2 m-auto",type:"button"})]})},t.id))})}const sg=vt(function(e){return zo(e)});function jte(e){const t=cx(),n=De(),[r,i]=H.exports.useState([]);H.exports.useEffect(()=>{o()},[e.requestId,e.responseId]);function o(){Sb().findAll().then(s=>i(s.filter(u=>u.requestId===e.requestId&&u.responseId===e.responseId))).catch(n.showError)}return w(wx,{fieldName:"exampleId",itemzz:r,source:t.itemzz,create:function(s){return Sb().create({exampleId:s,requestId:e.requestId,responseId:e.responseId}).then(()=>o())},delete:function(s){return Sb().delete(s).then(()=>o())}})}function LM(e){var o,s;const t=so(),n=Ti("MediaType"),r=(s=(o=n.find(u=>u.name===e.item.mediaType))==null?void 0:o.id)!=null?s:0,i=t.itemzz.find(u=>(e.isRequest?u.ownerRequestId:u.ownerResponseId)===e.item.id);return j("table",{className:"table td0-tar",children:[e.caption,j("tbody",{children:[j("tr",{children:[w("td",{children:"color"}),w("td",{children:w(ya,{color:e.item.color,setColor:u=>e.update({...e.item,color:u})})})]}),e.children,j("tr",{children:[w("td",{className:"w111",children:"MediaType"}),w("td",{children:w(En,{className:"wa",itemzz:n,value:r,change:function(u,h){var p;e.update({...e.item,mediaType:(p=h==null?void 0:h.name)!=null?p:""})}})})]}),j("tr",{children:[w("td",{children:"content"}),w("td",{children:w(Op,{id:e.item.id,item:i})})]}),j("tr",{children:[w("td",{children:"examples"}),w("td",{children:w(jte,{requestId:e.isRequest?e.item.id:null,responseId:e.isRequest?null:e.item.id})})]}),j("tr",{children:[w("td",{children:"example"}),w("td",{children:w("textarea",{rows:3,value:e.item.example,onChange:u=>e.update({...e.item,example:u.target.value}),className:"form-control"})})]})]})]})}function Kte(e){const t=sg(),n=De();function r(i){t.setItem(i),Xv().update(i).then(o=>t.setItem(o)).catch(n.showError)}return w(LM,{item:e.item,isRequest:!0,update:r,children:j("tr",{children:[w("td",{children:"required"}),w("td",{children:j("div",{className:"form-check form-switch",children:[w("input",{checked:e.item.required,onChange:i=>r({...e.item,required:i.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"requiredSwitchCheck"+e.item.id}),w("label",{className:"form-check-label",htmlFor:"requiredSwitchCheck"+e.item.id})]})})]})})}function Vte(){const e=sg(),t=hx();return j("div",{className:"row",children:[w(Zv,{title:ot.Request,itemzz:t.itemzz,useStore:sg}),w("div",{className:"col-9 py-3 h100 overflow-auto",children:e.item?j(Zt,{children:[w(dC,{item:e.item,makeCRUD:Xv,message:`Please input the ${ot.Request} name`,showDialog:Bn,useItemPageStore:sg,validateName:!1,onDeleteBefore:function(){return e.setItem(void 0),Ji().updateManyColumn(Pt(Lt.Request),1,e.item.id)}}),w(Kte,{item:e.item})]}):void 0})]})}const Z1=vt(function(e){return zo(e)});function qte(e){return w(LM,{caption:e.caption,item:e.item,isRequest:!1,update:e.update,children:j("tr",{children:[w("td",{children:"header"}),w("td",{children:w(mx,{responseId:e.item.id})})]})})}function Hte(){const e=Z1(),t=De();function n(r){e.setItem(r),Kg().update(r).then(i=>e.setItem(i)).catch(t.showError)}return w("div",{className:"row",children:w(Lu,{makeCRUD:Kg,useItemPageStore:Z1,useItemzzStore:Ay,title:ot.Response,validateName:!1,children:e.item?w(qte,{item:e.item,update:n}):void 0})})}function Gte(e){const t=Ip(),n=De(),[r,i]=H.exports.useState(e.item),[o,s]=H.exports.useState([]);H.exports.useEffect(()=>{u()},[]);function u(){Cb().findAll().then(p=>s(p.filter(v=>v.serverId===e.item.id))).catch(n.showError)}function h(p){i(p),Vg().update(p).then(i).catch(n.showError)}return j("tr",{children:[j("td",{children:[j("div",{children:[j("div",{className:"form-check form-switch inline",children:[w("input",{checked:e.item.global,onChange:p=>h({...e.item,global:p.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"globalSwitchCheck"+e.item.id}),w("label",{className:"form-check-label",htmlFor:"globalSwitchCheck"+e.item.id})]}),w(_y,{className:"ms-1",name:r.name,onChange:function(){Bn("Please input server URI",r.name).then(p=>{p.isConfirmed&&h({...r,name:p.value})})},onDelete:function(p){p&&Vg().delete(r.id).catch(n.showError)}})]}),w("input",{value:r.description,onChange:p=>h({...r,description:p.target.value}),className:"form-control mt-1",placeholder:"description",type:"text"})]}),w("td",{children:w(wx,{fieldName:"variableId",itemzz:o,source:t.itemzz,create:function(p){return Cb().create({serverId:r.id,variableId:p}).then(()=>u())},delete:function(p){return Cb().delete(p).then(()=>u())}})})]})}function Yte(){const e=yx(),t=De();return w("div",{className:"row",children:w("div",{className:"col",children:j("table",{className:"table",children:[j("caption",{children:[w("h1",{className:"inline me-3",children:ot.Server}),w("button",{onClick:function(){Bn("Please input server URI","https://").then(n=>{if(n.isConfirmed){const r=Bo(n.value);return r.global=!0,Vg().create(r)}}).catch(t.showError)},className:"btn btn-outline-primary",type:"button",children:"+"}),w(ni,{className:"ms-3",href:"https://spec.openapis.org/oas/v3.0.3#server-object",children:"doc"})]}),w("thead",{children:j("tr",{children:[w("th",{children:"global / URI"}),w("th",{children:"variable"})]})}),w("tbody",{children:e.itemzz.map(n=>w(Gte,{item:n},n.id))}),w("tfoot",{children:w("tr",{children:j("td",{colSpan:2,children:["only global servers will be added to `servers` object of OpenApi document.",w("br",{}),"non-global servers are for path / operation."]})})})]})})})}function Xte(){const e=De();return j("table",{className:"table",children:[j("caption",{children:[w("h1",{className:"inline",children:ot.Toast}),w("span",{className:"ms-3",children:e.itemzz.length})]}),w("tbody",{children:e.itemzz.slice().reverse().map(t=>w(Jte,{item:t},t.id))})]})}function Jte(e){const[t,n]=H.exports.useState(!1);return j("tr",{children:[w("td",{children:e.item.date.toISOString().replace("T"," ").slice(0,19)}),j("td",{children:[w("div",{onClick:()=>n(!0),className:"pointer",children:e.item.text}),t?j("div",{children:[w("div",{children:w("button",{className:"btn btn-outline-primary",type:"button",onClick:()=>n(!1),children:"hide"})}),e.item.detail]}):null]})]})}const jf=vt(function(e){return{color:Si.white,directoryId:0,fileId:0,keyword:"",hide(){e({directoryId:0,fileId:0})},search(n){e({directoryId:0,fileId:0,keyword:n})},setColor(n){e({directoryId:0,fileId:0,color:n})},showDirectory(n){e({directoryId:n,fileId:0})},showFile(n){e({directoryId:0,fileId:n})}}});function Qte(e,t){return{parentId:e,name:t,opened:!0,description:""}}function Zte(e,t){let n=e;return e.includes(".")===!1&&(n=n+".php"),{directoryId:t,name:e,color:Si.white,isSingle:!1,layer:"",description:"",nameSpacePattern:"",fileNamePattern:n}}function ene(e){return w("div",{children:e.itemzz.map(t=>w(zM,{item:t},t.id))})}function MM(e){const t=jf();return j("div",{children:[w("span",{className:"text-primary",children:"|"}),w("button",{onClick:()=>t.showFile(e.item.id),className:"button"+(e.item.id===t.fileId?" active":""),type:"button",children:e.item.name})]})}function tne(e){return w("div",{children:e.itemzz.map(t=>w(MM,{item:t},t.id))})}function zM(e){const t=oi(),n=ao(),r=jf(),i=De(),[o,s]=H.exports.useState([]),[u,h]=H.exports.useState([]);H.exports.useEffect(()=>{s(n.itemzz.filter(y=>y.parentId===e.item.id).sort((y,b)=>y.name.localeCompare(b.name)))},[n.itemzz]),H.exports.useEffect(()=>{h(t.itemzz.filter(y=>y.directoryId===e.item.id).sort((y,b)=>y.name.localeCompare(b.name)))},[t.itemzz]);function p(){Bn("Please input the Directory name","").then(y=>{if(y.isConfirmed){const b=Qte(e.item.id,y.value);return Lh().create(b).then(()=>i.showOK())}}).catch(i.showError)}function v(){Bn("Please input the File name","").then(y=>{if(y.isConfirmed){const b=Zte(y.value,e.item.id);return jg().create(b).then(()=>i.showOK())}}).catch(i.showError)}return j("div",{children:[j("div",{className:"hover-group my-1",children:[w("span",{className:"text-warning",children:"|"}),w("button",{onClick:()=>{r.showDirectory(e.item.id),e.item.parentId!==null&&r.directoryId===e.item.id&&Lh().update({...e.item,opened:!e.item.opened}).then(y=>n.setItem({...e.item,...y})).catch(i.showError)},className:"button yellow"+(e.item.id===r.directoryId?" active":""),type:"button",children:e.item.name}),w("span",{className:"text-secondary mx-1",children:o.length+u.length}),j("span",{className:"hover-item",children:[w("button",{onClick:p,className:"button yellow mx-1",type:"button",children:"+"}),w("button",{onClick:v,className:"button",type:"button",children:"+"})]})]}),e.item.opened?j("div",{className:"ms-4",children:[w(ene,{parentId:e.item.id,itemzz:o}),w(tne,{directoryId:e.item.id,itemzz:u})]}):null]})}function nne(e,t){const n=new Map;e.forEach(i=>{n.set(i.id,[])}),e.forEach(i=>{const o=n.get(i.parentId);o&&o.push(i)});const r=[];return BM(n,t,r),r}function BM(e,t,n){const r=e.get(t);r&&r.forEach(i=>{n.push(i),BM(e,i.id,n)})}function rne(){const e=ao(),t=jf(),n=De(),[r,i]=H.exports.useState();if(H.exports.useEffect(()=>{t.directoryId!==0&&i(e.find(t.directoryId))},[t.directoryId,e.itemzz]),t.directoryId===0||r===void 0)return null;function o(s){i(s),Lh().update(s).then(i).catch(n.showError)}return w("table",{className:"table table-borderless td0-tar",children:j("tbody",{children:[j("tr",{children:[w("td",{style:{width:"222px"},children:"id"}),w("td",{children:r.id})]}),j("tr",{children:[w("td",{children:"name"}),w("td",{children:j("div",{className:"btn-group",children:[r.parentId===null?null:w("button",{onClick:()=>Mr("Delete all included directories and files. Continue?").then(s=>{if(s.isConfirmed){t.hide();const u=nne(e.itemzz,r.id).map(h=>h.id);return u.push(r.id),Lh().deleteMany(u).then(()=>n.showOK())}}).catch(n.showError),className:"btn btn-outline-primary danger",type:"button",children:"-"}),w("button",{onClick:()=>Bn("Please input the directory name",r.name).then(s=>{s.isConfirmed&&o({...r,name:s.value})}),className:"btn btn-outline-primary",type:"button",children:r.name})]})})]}),j("tr",{children:[w("td",{children:"description"}),w("td",{children:w("textarea",{className:"form-control",value:r.description,rows:3,onChange:s=>o({...r,description:s.target.value})})})]})]})})}function ine(){const e=Er.getState().itemzz[0],t=oi(),n=jf(),r=De(),[i,o]=H.exports.useState();if(H.exports.useEffect(()=>{n.fileId!==0&&o(t.find(n.fileId))},[n.fileId,t.itemzz]),n.fileId===0||i===void 0)return null;function s(u){o(u),jg().update(u).then(o).catch(r.showError)}return w("table",{className:"table table-borderless td0-tar",children:j("tbody",{children:[j("tr",{children:[w("td",{style:{width:"222px"},children:"id"}),w("td",{children:i.id})]}),j("tr",{children:[w("td",{children:"name"}),w("td",{children:j("div",{className:"btn-group",children:[w("button",{onClick:()=>Mr().then(u=>{if(u.isConfirmed)return n.hide(),jg().delete(i.id).then(()=>r.showOK())}).catch(r.showError),className:"btn btn-outline-primary danger",type:"button",children:"-"}),w("button",{onClick:()=>Bn("Please input the file name",i.name).then(u=>{u.isConfirmed&&s({...i,name:u.value})}),className:"btn btn-outline-primary",type:"button",children:i.name})]})})]}),j("tr",{children:[w("td",{children:"color"}),w("td",{children:w(ya,{color:i.color,setColor:u=>s({...i,color:u})})})]}),j("tr",{children:[w("td",{children:"isSingle"}),j("td",{children:[j("div",{className:"form-check form-switch",children:[w("input",{checked:i.isSingle,onChange:u=>s({...i,isSingle:u.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"isSingleSwitchCheck"+i.id}),w("label",{className:"form-check-label",htmlFor:"isSingleSwitchCheck"+i.id})]}),i.isSingle?w(Qa,{action:"",file:i,entity:e}):null]})]}),j("tr",{children:[w("td",{children:"layer"}),w("td",{children:w(ko,{allowEmpty:!0,className:"wa",itemzz:I8,value:i.layer,change:function(u){s({...i,layer:u})}})})]}),j("tr",{children:[w("td",{children:"nameSpacePattern"}),w("td",{children:w("input",{value:i.nameSpacePattern,onChange:u=>s({...i,nameSpacePattern:u.target.value}),className:"form-control",type:"text"})})]}),j("tr",{children:[w("td",{children:"fileNamePattern"}),w("td",{children:w("input",{value:i.fileNamePattern,onChange:u=>s({...i,fileNamePattern:u.target.value}),className:"form-control",type:"text"})})]}),j("tr",{children:[w("td",{children:"description"}),w("td",{children:w("textarea",{className:"form-control",value:i.description,onChange:u=>s({...i,description:u.target.value})})})]}),j("tr",{children:[w("td",{children:"script"}),w("td",{children:w(ha,{file:ll(sl(i,Hv)),content:Jt.ScriptCode})})]}),j("tr",{children:[w("td",{children:"template"}),w("td",{children:w(ha,{file:ll(sl(i,Gv)),content:""})})]})]})})}function one(){return jf(),H.exports.useState("Property"),w(ine,{})}function ane(){const e=ao(),t=oi(),n=jf(),[r,i]=H.exports.useState([]),[o,s]=H.exports.useState();H.exports.useEffect(()=>{const p=e.itemzz.find(v=>v.parentId===null);p&&s(p)},[t.itemzz]),H.exports.useEffect(()=>{i(u())},[n.color,n.keyword]);function u(){return n.keyword===""&&n.color===Si.white?[]:n.color===Si.white?t.itemzz.filter(p=>p.name.includes(n.keyword)):n.keyword===""?t.itemzz.filter(p=>p.color===n.color):t.itemzz.filter(p=>p.color===n.color&&p.name.includes(n.keyword))}function h(){return n.keyword===""&&n.color===Si.white?o?w(zM,{item:o}):null:r.map(p=>w(MM,{item:p},p.id))}return j("div",{className:"row",children:[j("div",{className:"col-5 py-3 h100 overflow-auto",children:[j("div",{className:"d-flex align-items-center justify-content-center",children:[w("h1",{className:"inline",children:ot.Tree}),w(qP,{color:n.color,setColor:n.setColor,className:"mx-1"})]}),w("input",{value:n.keyword,onChange:p=>n.search(p.target.value),className:"form-control",type:"text"}),h()]}),j("div",{className:"col-7 py-3 h100 overflow-auto",children:[n.directoryId?w(rne,{}):null,n.fileId?w(one,{}):null]})]})}function sne(e){const t=De();return j("ul",{className:"list-unstyled",children:[w("li",{className:"mb-1",children:w("button",{className:"btn btn-outline-primary",type:"button",onClick:function(){Bn("Please input a value","").then(n=>{if(n.isConfirmed&&n.value){if(e.item.enum.includes(n.value)){t.showDanger(`${n.value} exists`);return}const r=[...e.item.enum];r.push(n.value),r.sort(),e.update({...e.item,enum:r})}}).catch(t.showError)},children:"+"})}),e.item.enum.map(n=>w("li",{className:"mb-1",children:j("button",{className:"btn btn-outline-danger",type:"button",onClick:function(){const r=[...e.item.enum],i=r.indexOf(n);i!==-1&&(r.splice(i,1),e.update({...e.item,enum:r}))},children:["- ",n]})},n))]})}function lne(e){const t=oi().findByName("Enum");if(t===void 0)return De().showDanger("Enum file not found"),null;function n(r){qg().update(r).catch(De.getState().showError)}return w("table",{className:"table td0-tar",children:j("tbody",{children:[j("tr",{children:[w("td",{children:"color"}),w("td",{children:w(ya,{color:e.item.color,setColor:r=>n({...e.item,color:r})})})]}),j("tr",{children:[w("td",{children:"type"}),w("td",{children:w(ko,{className:"wa",itemzz:qY,value:e.item.type,change:function(r){n({...e.item,type:r})}})})]}),j("tr",{children:[w("td",{children:"default"}),w("td",{children:w(ko,{className:"wa",itemzz:e.item.enum,value:e.item.default,change:function(r){n({...e.item,default:r})}})})]}),j("tr",{children:[w("td",{children:"enum"}),w("td",{children:w(sne,{item:e.item,update:n})})]}),j("tr",{children:[w("td",{}),w("td",{children:w(Qa,{action:"",file:t,entity:e.item})})]})]})})}function une(e){return{...Bo(e),default:"",enum:[],type:"string"}}const eA=vt(function(e){return zo(e)});function cne(){const e=eA(),t=De();return w("div",{className:"row",children:w(Lu,{makeCRUD:qg,useItemPageStore:eA,useItemzzStore:Ip,title:ot.Enum,validateName:!1,onCreate:function(n){qg().create(une(n)).catch(t.showError)},children:e.item?w(lne,{item:e.item}):void 0})})}const $x=vt(function(e){return{...zo(e),tab:"Column"}});function fne(e){const t=De(),n=so(),r=$x(),i=n.itemzz.find(s=>s.ownerWuId===e.item.id);function o(s){r.setItem(s),Eu().update(s).then(u=>r.setItem(u)).catch(t.showError)}return j("table",{className:"table td0-tar",children:[j("caption",{children:[w("h3",{className:"inline me-3",children:"Map"}),j("div",{className:"form-check form-switch inline",children:[w("input",{checked:e.item.isMap,onChange:function(s){o({...e.item,isMap:s.target.checked})},className:"form-check-input",type:"checkbox",role:"switch",id:"isMapSwitchCheck"}),w("label",{className:"form-check-label",htmlFor:"isMapSwitchCheck",children:"isMap"})]}),w(ni,{className:"ms-3",href:"https://spec.openapis.org/oas/v3.0.3#model-with-map-dictionary-properties",children:"doc"})]}),j("tbody",{children:[j("tr",{children:[w("td",{children:"color"}),w("td",{children:w(ya,{color:e.item.color,setColor:s=>o({...e.item,color:s})})})]}),j("tr",{children:[w("td",{}),w("td",{children:"Map<string, value type>"})]}),j("tr",{children:[w("td",{children:"value type"}),w("td",{children:w(Op,{id:e.item.id,item:i,wuId:e.item.id})})]}),j("tr",{children:[w("td",{children:"example"}),w("td",{children:w("textarea",{value:e.item.example,onChange:s=>o({...e.item,example:s.target.value}),className:"form-control",rows:3})})]})]})]})}function dne(e){const t=vl(),[n,r]=H.exports.useState([]);return H.exports.useEffect(()=>{r(t.itemzz.filter(function(i){return i.wuId===e.wuId?e.isWu?i.isWu:!0:!1}))},[e.wuId,t.itemzz]),w(En,{className:"inline wa",itemzz:n,value:0,verb:gt.WuParameter,change:i=>{const o=t.find(i);o!==void 0&&e.add(o)}})}function hne(e){const t=zr(),n=De(),r=so(),i=Np(),o=new Set;i.itemzz.forEach(p=>p.wuId===e.tf.wuId?o.add(p.columnId):null);const s=t.itemzz.filter(p=>o.has(p.id));if(s.length===0)return w("tr",{children:w("td",{colSpan:3,children:h()})});function u(p){const v=r.itemzz.find(y=>y.ownerColumnId===p.id);return v===void 0?w("span",{children:Ei("TypeFormat","")}):j("span",{children:[v.type,v.isArray?"[]":""]})}function h(){return j(Zt,{children:[w("div",{children:j("button",{className:"btn btn-outline-danger",type:"button",onClick:function(){ei().delete(e.tf.id).catch(n.showError)},children:["- ",e.wu.name]})}),w(QL,{item:e.tf,wuId:e.wu.id})]})}return w(Zt,{children:s.map((p,v)=>j("tr",{children:[v===0?w("td",{rowSpan:s.length,children:h()}):null,w("td",{children:p.name}),w("td",{children:u(p)})]},p.id))})}function pne(e){const t=De(),n=so(),r=vl(),i=cl(),[o,s]=H.exports.useState([]);H.exports.useEffect(()=>{s(n.itemzz.filter(p=>p.ownerWuChildId===e.item.id))},[e.item,n.itemzz]);function u(p,v=1,y=null){const b=pl(p,v,y);return b.ownerWuChildId=e.item.id,ei().create(b).then(function(I){if(p===gt.Wu)return gx(v,I.id)}).catch(t.showError)}function h(){return o.map(p=>{var y;if(p.type===gt.Wu){const b=i.find(p.wuId);return b===void 0?w("tr",{children:w("td",{colSpan:3,children:Ei("Wu",p.wuId)})}):w(hne,{tf:p,wu:b},p.id)}const v=r.find((y=p.wuParameterId)!=null?y:0);return v===void 0?w("tr",{children:w("td",{colSpan:3,children:Ei("WuParameter","")})}):j("tr",{children:[w("td",{children:j("button",{className:"btn btn-outline-danger",type:"button",onClick:function(){ei().delete(p.id).catch(t.showError)},children:["- ",v.name]})}),w("td",{}),w("td",{})]},p.id)})}return w("div",{children:j("table",{className:"table",children:[j("caption",{children:[w("h3",{className:"inline me-3",children:"Composition"}),w(ko,{className:"inline wa",itemzz:aD,value:e.item.type,change:function(p){Eu().update({...e.item,type:p}).catch(t.showError)}}),w(ni,{className:"ms-3",href:"https://spec.openapis.org/oas/v3.0.3#models-with-polymorphism-support",children:"doc"})]}),w("thead",{children:j("tr",{children:[w("th",{}),w("th",{children:"column"}),w("th",{children:"type"})]})}),w("tbody",{children:h()}),j("tfoot",{children:[j("tr",{children:[w("td",{children:w(En,{className:"form-select",itemzz:i.itemzz,value:0,verb:"Wu",change:p=>{const v=i.find(p);if(v!==void 0){if(v.id===e.item.id){t.showDanger("Including self will cause circular reference error");return}u(gt.Wu,v.id)}}})}),w("td",{children:w(dne,{add:p=>u(gt.WuParameter,1,p.id),isWu:!0,wuId:e.item.id})}),w("td",{})]}),w("tr",{children:w("td",{colSpan:3,children:w("span",{className:"text-danger",children:"Be careful of circular reference"})})})]})]})})}function mne(e,t){return{wuId:e,name:t,description:"",isWu:!1}}function gne(e){const t=De();function n(r){Hg().update(r).catch(t.showError)}return j("tr",{children:[w("td",{children:j("div",{className:"btn-group",children:[w("span",{onClick:()=>Mr().then(r=>{if(r.isConfirmed)return Hg().delete(e.item.id)}).catch(t.showError),className:"btn btn-outline-primary danger",children:"-"}),w("span",{onClick:()=>ti("Please input the Parameter name",e.item.name).then(r=>{if(r.isConfirmed)return n({...e.item,name:r.value})}).catch(t.showError),className:"btn btn-outline-primary",children:e.item.name})]})}),w("td",{children:j("div",{className:"form-check form-switch",children:[w("input",{checked:e.item.isWu,onChange:r=>n({...e.item,isWu:r.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"isWuSwitchCheck"+e.item.id}),w("label",{className:"form-check-label",htmlFor:"isWuSwitchCheck"+e.item.id})]})}),w("td",{children:w("input",{onChange:r=>n({...e.item,description:r.target.value}),type:"text",placeholder:"description",className:"form-control"})})]})}function vne(e){const t=De(),n=vl(),[r,i]=H.exports.useState([]);return H.exports.useEffect(()=>{i(n.itemzz.filter(o=>o.wuId===e.item.id))},[e.item,n.itemzz]),j("table",{className:"table",children:[j("caption",{children:[w("h3",{className:"inline",children:"WuParameter"}),w("span",{onClick:()=>{ti("Please input the WuParameter name","").then(o=>{if(o.isConfirmed&&o.value)return Hg().create(mne(e.item.id,o.value))}).catch(t.showError)},className:"btn btn-outline-primary mx-1",children:"+"})]}),w("thead",{children:j("tr",{children:[w("td",{children:"name"}),w("td",{children:"isWu"}),w("td",{children:"description"})]})}),w("tbody",{children:r.map(o=>w(gne,{item:o},o.id))})]})}function yne(){const e=$x();if(e.item===void 0)return null;const t=["Column","Composition","Map","WuParameter"];return j(Zt,{children:[w(Df,{tab:e.tab,tabzz:t,setTab:e.setTab}),e.tab===t[0]?w(vx,{item:e.item}):null,e.tab===t[1]?w(pne,{item:e.item}):null,e.tab===t[2]?w(fne,{item:e.item}):null,e.tab===t[3]?w(vne,{item:e.item}):null]})}function wne(){const e=Ja(),t=Er(),n=De(),r=cl();return w("div",{className:"row",children:w(Lu,{makeCRUD:Eu,onCreateClick:function(){e.openCB("Please select a Entity",t.itemzz.map(i=>i.name),function(i){const o=t.findByName(i);if(o){let s=o.name;return r.findByName(s)&&(s+="-"+new Date().getTime()),Eu().create(YL(s,o.id)).then(u=>{const h=pl();return h.ownerWuId=u.id,ei().create(h)}).catch(n.showError)}})},useItemPageStore:$x,useItemzzStore:cl,title:ot.Wu,children:w(yne,{})})})}function bne(){return Jv.fire({allowEscapeKey:!1,allowOutsideClick:!1,cancelButtonColor:"#ccc",confirmButtonColor:"#09f",input:"textarea",inputValue:qS.getState().note,showCancelButton:!0,text:"note",width:"88%"}).then(function(e){e.isConfirmed&&qS.setState({note:e.value})}).catch(De.getState().showError)}function Sne(){const e=Ja(),[t,n]=H.exports.useState(e.text);H.exports.useEffect(()=>{n(e.text)},[e.text]);const r=hC(t);return j(Ru,{isOpen:e.isOpen,onRequestClose:e.close,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:[w("h3",{children:e.title}),w("div",{className:"mb-3",children:w("input",{value:t,onChange:function(i){n(i.target.value),e.setText(i.target.value)},autoFocus:!0,type:"text",className:"form-control"})}),w("ul",{className:"list-group",children:e.namezz.filter(i=>i.match(r)).map(i=>w("li",{onClick:function(){e.close(),e.callback(i)},className:"list-group-item pointer",children:i},i))})]})}function Ene(){return oi.getState().itemzz.filter(e=>e.isSingle)}function Cne(){H.exports.useState(!1);const e=Er.getState().itemzz[0],t=dx.getState().itemzz[0];return w("div",{className:"row justify-content-center",children:j("div",{className:"col-6",children:[w("h1",{className:"text-secondary",children:"create files"}),j("table",{className:"table",children:[w("thead",{children:j("tr",{children:[w("td",{children:"edit script / template"}),w("td",{children:"file"})]})}),w("tbody",{children:Ene().map(n=>w(bD,{entity:e,item:n,module:t},n.id))})]})]})})}function xne(){const e=Wv();H.exports.useEffect(()=>{const r=new URLSearchParams(window.location.search).get("ide");r&&e.setIde(r)},[]);function t(n){switch(n){case ot.Collection:return w(yq,{});case ot.Doctrine:return w(m8,{});case ot.Diagram:return w(c8,{});case ot.Entity:return w(hZ,{});case ot.Example:return w(gZ,{});case ot.Flow:return w(oee,{});case ot.Info:return w(gte,{});case ot.Install:return w(Cne,{});case ot.Migration:return w(Ate,{});case ot.OpenApi:return w(Bte,{});case ot.ParameterInHeader:case ot.ParameterInCookie:case ot.ParameterInPath:case ot.ParameterInQuery:return w(Ute,{page:n});case ot.Request:return w(Vte,{});case ot.Response:return w(Hte,{});case ot.Server:return w(Yte,{});case ot.Enum:return w(cne,{});case ot.Tree:return w(ane,{});case ot.Wu:return w(wne,{});case ot.Toast:return w(Xte,{})}return w(fte,{})}return j(Zt,{children:[w($te,{}),j("div",{className:"container-fluid",children:[w(FK,{children:i5.filter(n=>n.visible).map(n=>w(dP,{path:n.path,element:t(n.name)},n.path))}),w(Wte,{})]}),w(Sne,{}),w("div",{className:"position-fixed bottom-0 end-0 bg-white m-3",style:{zIndex:1222},children:w("button",{className:"btn btn-outline-primary",onClick:bne,children:"note"})})]})}Mm.configure({autoescape:!1});Ru.setAppElement("#root");VE.render(w(kr.StrictMode,{children:w(YK,{children:w(xne,{})})}),document.getElementById("root"));
