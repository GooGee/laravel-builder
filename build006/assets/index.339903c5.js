var FM=Object.defineProperty;var UM=(e,t,n)=>t in e?FM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Yr=(e,t,n)=>(UM(e,typeof t!="symbol"?t+"":t,n),n);function cT(e,t){return t.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in e)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}const WM=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}};WM();var Sn=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function fT(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function $M(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),t}var dT={exports:{}};/*! Browser bundle of nunjucks 3.2.4  */(function(e,t){(function(r,i){e.exports=i()})(typeof self!="undefined"?self:Sn,function(){return function(n){var r={};function i(a){if(r[a])return r[a].exports;var c=r[a]={i:a,l:!1,exports:{}};return n[a].call(c.exports,c,c.exports,i),c.l=!0,c.exports}return i.m=n,i.c=r,i.d=function(a,c,d){i.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},i.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(c,"a",c),c},i.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)},i.p="",i(i.s=11)}([function(n,g,i){var a=Array.prototype,c=Object.prototype,d={"&":"&amp;",'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","\\":"&#92;"},m=/[&"'<>\\]/g,g=n.exports={};function y(Q,ue){return c.hasOwnProperty.call(Q,ue)}g.hasOwnProp=y;function b(Q){return d[Q]}function C(Q,ue,se){if(se.Update||(se=new g.TemplateError(se)),se.Update(Q),!ue){var he=se;se=new Error(he.message),se.name=he.name}return se}g._prettifyError=C;function A(Q,ue,se){var he,Ce;Q instanceof Error&&(Ce=Q,Q=Ce.name+": "+Ce.message),Object.setPrototypeOf?(he=new Error(Q),Object.setPrototypeOf(he,A.prototype)):(he=this,Object.defineProperty(he,"message",{enumerable:!1,writable:!0,value:Q})),Object.defineProperty(he,"name",{value:"Template render error"}),Error.captureStackTrace&&Error.captureStackTrace(he,this.constructor);var ze;if(Ce){var pe=Object.getOwnPropertyDescriptor(Ce,"stack");ze=pe&&(pe.get||function(){return pe.value}),ze||(ze=function(){return Ce.stack})}else{var et=new Error(Q).stack;ze=function(){return et}}return Object.defineProperty(he,"stack",{get:function(){return ze.call(he)}}),Object.defineProperty(he,"cause",{value:Ce}),he.lineno=ue,he.colno=se,he.firstUpdate=!0,he.Update=function(qe){var Be="("+(qe||"unknown path")+")";return this.firstUpdate&&(this.lineno&&this.colno?Be+=" [Line "+this.lineno+", Column "+this.colno+"]":this.lineno&&(Be+=" [Line "+this.lineno+"]")),Be+=`
 `,this.firstUpdate&&(Be+=" "),this.message=Be+(this.message||""),this.firstUpdate=!1,this},he}Object.setPrototypeOf?Object.setPrototypeOf(A.prototype,Error.prototype):A.prototype=Object.create(Error.prototype,{constructor:{value:A}}),g.TemplateError=A;function P(Q){return Q.replace(m,b)}g.escape=P;function L(Q){return c.toString.call(Q)==="[object Function]"}g.isFunction=L;function E(Q){return c.toString.call(Q)==="[object Array]"}g.isArray=E;function I(Q){return c.toString.call(Q)==="[object String]"}g.isString=I;function N(Q){return c.toString.call(Q)==="[object Object]"}g.isObject=N;function D(Q){return Q?typeof Q=="string"?Q.split("."):[Q]:[]}function O(Q){var ue=D(Q);return function(he){for(var Ce=he,ze=0;ze<ue.length;ze++){var pe=ue[ze];if(y(Ce,pe))Ce=Ce[pe];else return}return Ce}}g.getAttrGetter=O;function z(Q,ue,se){for(var he={},Ce=L(ue)?ue:O(ue),ze=0;ze<Q.length;ze++){var pe=Q[ze],et=Ce(pe,ze);if(et===void 0&&se===!0)throw new TypeError('groupby: attribute "'+ue+'" resolved to undefined');(he[et]||(he[et]=[])).push(pe)}return he}g.groupBy=z;function k(Q){return Array.prototype.slice.call(Q)}g.toArray=k;function W(Q){var ue=[];if(!Q)return ue;for(var se=Q.length,he=k(arguments).slice(1),Ce=-1;++Ce<se;)Z(he,Q[Ce])===-1&&ue.push(Q[Ce]);return ue}g.without=W;function j(Q,ue){for(var se="",he=0;he<ue;he++)se+=Q;return se}g.repeat=j;function $(Q,ue,se){if(Q!=null){if(a.forEach&&Q.forEach===a.forEach)Q.forEach(ue,se);else if(Q.length===+Q.length)for(var he=0,Ce=Q.length;he<Ce;he++)ue.call(se,Q[he],he,Q)}}g.each=$;function M(Q,ue){var se=[];if(Q==null)return se;if(a.map&&Q.map===a.map)return Q.map(ue);for(var he=0;he<Q.length;he++)se[se.length]=ue(Q[he],he);return Q.length===+Q.length&&(se.length=Q.length),se}g.map=M;function Y(Q,ue,se){var he=-1;function Ce(){he++,he<Q.length?ue(Q[he],he,Ce,se):se()}Ce()}g.asyncIter=Y;function K(Q,ue,se){var he=ne(Q||{}),Ce=he.length,ze=-1;function pe(){ze++;var et=he[ze];ze<Ce?ue(et,Q[et],ze,Ce,pe):se()}pe()}g.asyncFor=K;function Z(Q,ue,se){return Array.prototype.indexOf.call(Q||[],ue,se)}g.indexOf=Z;function ne(Q){var ue=[];for(var se in Q)y(Q,se)&&ue.push(se);return ue}g.keys=ne;function ae(Q){return ne(Q).map(function(ue){return[ue,Q[ue]]})}g._entries=ae;function de(Q){return ne(Q).map(function(ue){return Q[ue]})}g._values=de;function re(Q,ue){return Q=Q||{},ne(ue).forEach(function(se){Q[se]=ue[se]}),Q}g._assign=g.extend=re;function J(Q,ue){if(E(ue)||I(ue))return ue.indexOf(Q)!==-1;if(N(ue))return Q in ue;throw new Error('Cannot use "in" operator to search for "'+Q+'" in unexpected types.')}g.inOperator=J},function(n,r,i){function a(I,N){for(var D=0;D<N.length;D++){var O=N[D];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(I,d(O.key),O)}}function c(I,N,D){return N&&a(I.prototype,N),D&&a(I,D),Object.defineProperty(I,"prototype",{writable:!1}),I}function d(I){var N=m(I,"string");return typeof N=="symbol"?N:String(N)}function m(I,N){if(typeof I!="object"||I===null)return I;var D=I[Symbol.toPrimitive];if(D!==void 0){var O=D.call(I,N||"default");if(typeof O!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(I)}function g(I,N){I.prototype=Object.create(N.prototype),I.prototype.constructor=I,y(I,N)}function y(I,N){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,z){return O.__proto__=z,O},y(I,N)}var b=i(16),C=i(0);function A(I,N){return typeof I!="function"||typeof N!="function"?N:function(){var O=this.parent;this.parent=I;var z=N.apply(this,arguments);return this.parent=O,z}}function P(I,N,D){D=D||{},C.keys(D).forEach(function(z){D[z]=A(I.prototype[z],D[z])});var O=function(z){g(k,z);function k(){return z.apply(this,arguments)||this}return c(k,[{key:"typename",get:function(){return N}}]),k}(I);return C._assign(O.prototype,D),O}var L=function(){function I(){this.init.apply(this,arguments)}var N=I.prototype;return N.init=function(){},I.extend=function(O,z){return typeof O=="object"&&(z=O,O="anonymous"),P(this,O,z)},c(I,[{key:"typename",get:function(){return this.constructor.name}}]),I}(),E=function(I){g(N,I);function N(){var O,z;return z=I.call(this)||this,(O=z).init.apply(O,arguments),z}var D=N.prototype;return D.init=function(){},N.extend=function(z,k){return typeof z=="object"&&(k=z,z="anonymous"),P(this,z,k)},c(N,[{key:"typename",get:function(){return this.constructor.name}}]),N}(b);n.exports={Obj:L,EmitterObj:E}},function(n,r,i){var a=i(0),c=Array.from,d=typeof Symbol=="function"&&Symbol.iterator&&typeof c=="function",m=function(){function M(K,Z){this.variables=Object.create(null),this.parent=K,this.topLevel=!1,this.isolateWrites=Z}var Y=M.prototype;return Y.set=function(Z,ne,ae){var de=Z.split("."),re=this.variables,J=this;if(ae&&(J=this.resolve(de[0],!0))){J.set(Z,ne);return}for(var Q=0;Q<de.length-1;Q++){var ue=de[Q];re[ue]||(re[ue]={}),re=re[ue]}re[de[de.length-1]]=ne},Y.get=function(Z){var ne=this.variables[Z];return ne!==void 0?ne:null},Y.lookup=function(Z){var ne=this.parent,ae=this.variables[Z];return ae!==void 0?ae:ne&&ne.lookup(Z)},Y.resolve=function(Z,ne){var ae=ne&&this.isolateWrites?void 0:this.parent,de=this.variables[Z];return de!==void 0?this:ae&&ae.resolve(Z)},Y.push=function(Z){return new M(this,Z)},Y.pop=function(){return this.parent},M}();function g(M,Y,K){return function(){for(var ne=arguments.length,ae=new Array(ne),de=0;de<ne;de++)ae[de]=arguments[de];var re=A(ae),J,Q=C(ae);if(re>M.length)J=ae.slice(0,M.length),ae.slice(J.length,re).forEach(function(he,Ce){Ce<Y.length&&(Q[Y[Ce]]=he)}),J.push(Q);else if(re<M.length){J=ae.slice(0,re);for(var ue=re;ue<M.length;ue++){var se=M[ue];J.push(Q[se]),delete Q[se]}J.push(Q)}else J=ae;return K.apply(this,J)}}function y(M){return M.__keywords=!0,M}function b(M){return M&&Object.prototype.hasOwnProperty.call(M,"__keywords")}function C(M){var Y=M.length;if(Y){var K=M[Y-1];if(b(K))return K}return{}}function A(M){var Y=M.length;if(Y===0)return 0;var K=M[Y-1];return b(K)?Y-1:Y}function P(M){if(typeof M!="string")return M;this.val=M,this.length=M.length}P.prototype=Object.create(String.prototype,{length:{writable:!0,configurable:!0,value:0}}),P.prototype.valueOf=function(){return this.val},P.prototype.toString=function(){return this.val};function L(M,Y){return M instanceof P?new P(Y):Y.toString()}function E(M){var Y=typeof M;return Y==="string"?new P(M):Y!=="function"?M:function(Z){var ne=M.apply(this,arguments);return typeof ne=="string"?new P(ne):ne}}function I(M,Y){return M=M!=null?M:"",Y&&!(M instanceof P)&&(M=a.escape(M.toString())),M}function N(M,Y,K){if(M==null)throw new a.TemplateError("attempted to output null or undefined value",Y+1,K+1);return M}function D(M,Y){if(M!=null)return typeof M[Y]=="function"?function(){for(var K=arguments.length,Z=new Array(K),ne=0;ne<K;ne++)Z[ne]=arguments[ne];return M[Y].apply(M,Z)}:M[Y]}function O(M,Y,K,Z){if(M){if(typeof M!="function")throw new Error("Unable to call `"+Y+"`, which is not a function")}else throw new Error("Unable to call `"+Y+"`, which is undefined or falsey");return M.apply(K,Z)}function z(M,Y,K){var Z=Y.lookup(K);return Z!==void 0?Z:M.lookup(K)}function k(M,Y,K){return M.lineno?M:new a.TemplateError(M,Y,K)}function W(M,Y,K,Z){if(a.isArray(M)){var ne=M.length;a.asyncIter(M,function(de,re,J){switch(Y){case 1:K(de,re,ne,J);break;case 2:K(de[0],de[1],re,ne,J);break;case 3:K(de[0],de[1],de[2],re,ne,J);break;default:de.push(re,ne,J),K.apply(this,de)}},Z)}else a.asyncFor(M,function(de,re,J,Q,ue){K(de,re,J,Q,ue)},Z)}function j(M,Y,K,Z){var ne=0,ae,de;function re(Ce,ze){ne++,de[Ce]=ze,ne===ae&&Z(null,de.join(""))}if(a.isArray(M))if(ae=M.length,de=new Array(ae),ae===0)Z(null,"");else for(var J=0;J<M.length;J++){var Q=M[J];switch(Y){case 1:K(Q,J,ae,re);break;case 2:K(Q[0],Q[1],J,ae,re);break;case 3:K(Q[0],Q[1],Q[2],J,ae,re);break;default:Q.push(J,ae,re),K.apply(this,Q)}}else{var ue=a.keys(M||{});if(ae=ue.length,de=new Array(ae),ae===0)Z(null,"");else for(var se=0;se<ue.length;se++){var he=ue[se];K(he,M[he],se,ae,re)}}}function $(M){return typeof M!="object"||M===null||a.isArray(M)?M:d&&Symbol.iterator in M?c(M):M}n.exports={Frame:m,makeMacro:g,makeKeywordArgs:y,numArgs:A,suppressValue:I,ensureDefined:N,memberLookup:D,contextOrFrameLookup:z,callWrap:O,handleError:k,isArray:a.isArray,keys:a.keys,SafeString:P,copySafeness:L,markSafe:E,asyncEach:W,asyncAll:j,inOperator:a.inOperator,fromIterator:$}},function(n,r,i){function a(Fe,Ye){for(var ut=0;ut<Ye.length;ut++){var wt=Ye[ut];wt.enumerable=wt.enumerable||!1,wt.configurable=!0,"value"in wt&&(wt.writable=!0),Object.defineProperty(Fe,d(wt.key),wt)}}function c(Fe,Ye,ut){return Ye&&a(Fe.prototype,Ye),ut&&a(Fe,ut),Object.defineProperty(Fe,"prototype",{writable:!1}),Fe}function d(Fe){var Ye=m(Fe,"string");return typeof Ye=="symbol"?Ye:String(Ye)}function m(Fe,Ye){if(typeof Fe!="object"||Fe===null)return Fe;var ut=Fe[Symbol.toPrimitive];if(ut!==void 0){var wt=ut.call(Fe,Ye||"default");if(typeof wt!="object")return wt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ye==="string"?String:Number)(Fe)}function g(Fe,Ye){Fe.prototype=Object.create(Ye.prototype),Fe.prototype.constructor=Fe,y(Fe,Ye)}function y(Fe,Ye){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(wt,Nt){return wt.__proto__=Nt,wt},y(Fe,Ye)}var b=i(1),C=b.Obj;function A(Fe,Ye,ut){Fe instanceof Ye&&ut.push(Fe),Fe instanceof P&&Fe.findAll(Ye,ut)}var P=function(Fe){g(Ye,Fe);function Ye(){return Fe.apply(this,arguments)||this}var ut=Ye.prototype;return ut.init=function(Nt,qt){for(var sn=arguments,Zn=this,Ui=arguments.length,Wr=new Array(Ui>2?Ui-2:0),Wi=2;Wi<Ui;Wi++)Wr[Wi-2]=arguments[Wi];this.lineno=Nt,this.colno=qt,this.fields.forEach(function(Os,As){var Le=sn[As+2];Le===void 0&&(Le=null),Zn[Os]=Le})},ut.findAll=function(Nt,qt){var sn=this;return qt=qt||[],this instanceof E?this.children.forEach(function(Zn){return A(Zn,Nt,qt)}):this.fields.forEach(function(Zn){return A(sn[Zn],Nt,qt)}),qt},ut.iterFields=function(Nt){var qt=this;this.fields.forEach(function(sn){Nt(qt[sn],sn)})},Ye}(C),L=function(Fe){g(Ye,Fe);function Ye(){return Fe.apply(this,arguments)||this}return c(Ye,[{key:"typename",get:function(){return"Value"}},{key:"fields",get:function(){return["value"]}}]),Ye}(P),E=function(Fe){g(Ye,Fe);function Ye(){return Fe.apply(this,arguments)||this}var ut=Ye.prototype;return ut.init=function(Nt,qt,sn){Fe.prototype.init.call(this,Nt,qt,sn||[])},ut.addChild=function(Nt){this.children.push(Nt)},c(Ye,[{key:"typename",get:function(){return"NodeList"}},{key:"fields",get:function(){return["children"]}}]),Ye}(P),I=E.extend("Root"),N=L.extend("Literal"),D=L.extend("Symbol"),O=E.extend("Group"),z=E.extend("Array"),k=P.extend("Pair",{fields:["key","value"]}),W=E.extend("Dict"),j=P.extend("LookupVal",{fields:["target","val"]}),$=P.extend("If",{fields:["cond","body","else_"]}),M=$.extend("IfAsync"),Y=P.extend("InlineIf",{fields:["cond","body","else_"]}),K=P.extend("For",{fields:["arr","name","body","else_"]}),Z=K.extend("AsyncEach"),ne=K.extend("AsyncAll"),ae=P.extend("Macro",{fields:["name","args","body"]}),de=ae.extend("Caller"),re=P.extend("Import",{fields:["template","target","withContext"]}),J=function(Fe){g(Ye,Fe);function Ye(){return Fe.apply(this,arguments)||this}var ut=Ye.prototype;return ut.init=function(Nt,qt,sn,Zn,Ui){Fe.prototype.init.call(this,Nt,qt,sn,Zn||new E,Ui)},c(Ye,[{key:"typename",get:function(){return"FromImport"}},{key:"fields",get:function(){return["template","names","withContext"]}}]),Ye}(P),Q=P.extend("FunCall",{fields:["name","args"]}),ue=Q.extend("Filter"),se=ue.extend("FilterAsync",{fields:["name","args","symbol"]}),he=W.extend("KeywordArgs"),Ce=P.extend("Block",{fields:["name","body"]}),ze=P.extend("Super",{fields:["blockName","symbol"]}),pe=P.extend("TemplateRef",{fields:["template"]}),et=pe.extend("Extends"),Et=P.extend("Include",{fields:["template","ignoreMissing"]}),qe=P.extend("Set",{fields:["targets","value"]}),Be=P.extend("Switch",{fields:["expr","cases","default"]}),Ae=P.extend("Case",{fields:["cond","body"]}),Ue=E.extend("Output"),ke=P.extend("Capture",{fields:["body"]}),ht=N.extend("TemplateData"),bt=P.extend("UnaryOp",{fields:["target"]}),Ct=P.extend("BinOp",{fields:["left","right"]}),Je=Ct.extend("In"),oe=Ct.extend("Is"),ge=Ct.extend("Or"),_e=Ct.extend("And"),Ie=bt.extend("Not"),Pe=Ct.extend("Add"),We=Ct.extend("Concat"),pt=Ct.extend("Sub"),Qe=Ct.extend("Mul"),At=Ct.extend("Div"),bn=Ct.extend("FloorDiv"),yt=Ct.extend("Mod"),at=Ct.extend("Pow"),fi=bt.extend("Neg"),vo=bt.extend("Pos"),Ge=P.extend("Compare",{fields:["expr","ops"]}),ur=P.extend("CompareOperand",{fields:["expr","type"]}),Xn=P.extend("CallExtension",{init:function(Ye,ut,wt,Nt){this.parent(),this.extName=Ye.__name||Ye,this.prop=ut,this.args=wt||new E,this.contentArgs=Nt||[],this.autoescape=Ye.autoescape},fields:["extName","prop","args","contentArgs"]}),Er=Xn.extend("CallExtensionAsync");function cr(Fe,Ye,ut){var wt=Fe.split(`
`);wt.forEach(function(Nt,qt){Nt&&(ut&&qt>0||!ut)&&process.stdout.write(" ".repeat(Ye));var sn=qt===wt.length-1?"":`
`;process.stdout.write(""+Nt+sn)})}function fr(Fe,Ye){if(Ye=Ye||0,cr(Fe.typename+": ",Ye),Fe instanceof E)cr(`
`),Fe.children.forEach(function(Nt){fr(Nt,Ye+2)});else if(Fe instanceof Xn)cr(Fe.extName+"."+Fe.prop+`
`),Fe.args&&fr(Fe.args,Ye+2),Fe.contentArgs&&Fe.contentArgs.forEach(function(Nt){fr(Nt,Ye+2)});else{var ut=[],wt=null;Fe.iterFields(function(Nt,qt){Nt instanceof P?ut.push([qt,Nt]):(wt=wt||{},wt[qt]=Nt)}),wt?cr(JSON.stringify(wt,null,2)+`
`,null,!0):cr(`
`),ut.forEach(function(Nt){var qt=Nt[0],sn=Nt[1];cr("["+qt+"] =>",Ye+2),fr(sn,Ye+4)})}}n.exports={Node:P,Root:I,NodeList:E,Value:L,Literal:N,Symbol:D,Group:O,Array:z,Pair:k,Dict:W,Output:Ue,Capture:ke,TemplateData:ht,If:$,IfAsync:M,InlineIf:Y,For:K,AsyncEach:Z,AsyncAll:ne,Macro:ae,Caller:de,Import:re,FromImport:J,FunCall:Q,Filter:ue,FilterAsync:se,KeywordArgs:he,Block:Ce,Super:ze,Extends:et,Include:Et,Set:qe,Switch:Be,Case:Ae,LookupVal:j,BinOp:Ct,In:Je,Is:oe,Or:ge,And:_e,Not:Ie,Add:Pe,Concat:We,Sub:pt,Mul:Qe,Div:At,FloorDiv:bn,Mod:yt,Pow:at,Neg:fi,Pos:vo,Compare:Ge,CompareOperand:ur,CallExtension:Xn,CallExtensionAsync:Er,printNodes:fr}},function(n,r){},function(n,r,i){function a(N,D){N.prototype=Object.create(D.prototype),N.prototype.constructor=N,c(N,D)}function c(N,D){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(z,k){return z.__proto__=k,z},c(N,D)}var d=i(8),m=i(17),g=i(3),y=i(0),b=y.TemplateError,C=i(2),A=C.Frame,P=i(1),L=P.Obj,E={"==":"==","===":"===","!=":"!=","!==":"!==","<":"<",">":">","<=":"<=",">=":">="},I=function(N){a(D,N);function D(){return N.apply(this,arguments)||this}var O=D.prototype;return O.init=function(k,W){this.templateName=k,this.codebuf=[],this.lastId=0,this.buffer=null,this.bufferStack=[],this._scopeClosers="",this.inBlock=!1,this.throwOnUndefined=W},O.fail=function(k,W,j){throw W!==void 0&&(W+=1),j!==void 0&&(j+=1),new b(k,W,j)},O._pushBuffer=function(){var k=this._tmpid();return this.bufferStack.push(this.buffer),this.buffer=k,this._emit("var "+this.buffer+' = "";'),k},O._popBuffer=function(){this.buffer=this.bufferStack.pop()},O._emit=function(k){this.codebuf.push(k)},O._emitLine=function(k){this._emit(k+`
`)},O._emitLines=function(){for(var k=this,W=arguments.length,j=new Array(W),$=0;$<W;$++)j[$]=arguments[$];j.forEach(function(M){return k._emitLine(M)})},O._emitFuncBegin=function(k,W){this.buffer="output",this._scopeClosers="",this._emitLine("function "+W+"(env, context, frame, runtime, cb) {"),this._emitLine("var lineno = "+k.lineno+";"),this._emitLine("var colno = "+k.colno+";"),this._emitLine("var "+this.buffer+' = "";'),this._emitLine("try {")},O._emitFuncEnd=function(k){k||this._emitLine("cb(null, "+this.buffer+");"),this._closeScopeLevels(),this._emitLine("} catch (e) {"),this._emitLine("  cb(runtime.handleError(e, lineno, colno));"),this._emitLine("}"),this._emitLine("}"),this.buffer=null},O._addScopeLevel=function(){this._scopeClosers+="})"},O._closeScopeLevels=function(){this._emitLine(this._scopeClosers+";"),this._scopeClosers=""},O._withScopedSyntax=function(k){var W=this._scopeClosers;this._scopeClosers="",k.call(this),this._closeScopeLevels(),this._scopeClosers=W},O._makeCallback=function(k){var W=this._tmpid();return"function("+W+(k?","+k:"")+`) {
if(`+W+") { cb("+W+"); return; }"},O._tmpid=function(){return this.lastId++,"t_"+this.lastId},O._templateName=function(){return this.templateName==null?"undefined":JSON.stringify(this.templateName)},O._compileChildren=function(k,W){var j=this;k.children.forEach(function($){j.compile($,W)})},O._compileAggregate=function(k,W,j,$){var M=this;j&&this._emit(j),k.children.forEach(function(Y,K){K>0&&M._emit(","),M.compile(Y,W)}),$&&this._emit($)},O._compileExpression=function(k,W){this.assertType(k,g.Literal,g.Symbol,g.Group,g.Array,g.Dict,g.FunCall,g.Caller,g.Filter,g.LookupVal,g.Compare,g.InlineIf,g.In,g.Is,g.And,g.Or,g.Not,g.Add,g.Concat,g.Sub,g.Mul,g.Div,g.FloorDiv,g.Mod,g.Pow,g.Neg,g.Pos,g.Compare,g.NodeList),this.compile(k,W)},O.assertType=function(k){for(var W=arguments.length,j=new Array(W>1?W-1:0),$=1;$<W;$++)j[$-1]=arguments[$];j.some(function(M){return k instanceof M})||this.fail("assertType: invalid type: "+k.typename,k.lineno,k.colno)},O.compileCallExtension=function(k,W,j){var $=this,M=k.args,Y=k.contentArgs,K=typeof k.autoescape=="boolean"?k.autoescape:!0;if(j||this._emit(this.buffer+" += runtime.suppressValue("),this._emit('env.getExtension("'+k.extName+'")["'+k.prop+'"]('),this._emit("context"),(M||Y)&&this._emit(","),M&&(M instanceof g.NodeList||this.fail("compileCallExtension: arguments must be a NodeList, use `parser.parseSignature`"),M.children.forEach(function(ne,ae){$._compileExpression(ne,W),(ae!==M.children.length-1||Y.length)&&$._emit(",")})),Y.length&&Y.forEach(function(ne,ae){if(ae>0&&$._emit(","),ne){$._emitLine("function(cb) {"),$._emitLine("if(!cb) { cb = function(err) { if(err) { throw err; }}}");var de=$._pushBuffer();$._withScopedSyntax(function(){$.compile(ne,W),$._emitLine("cb(null, "+de+");")}),$._popBuffer(),$._emitLine("return "+de+";"),$._emitLine("}")}else $._emit("null")}),j){var Z=this._tmpid();this._emitLine(", "+this._makeCallback(Z)),this._emitLine(this.buffer+" += runtime.suppressValue("+Z+", "+K+" && env.opts.autoescape);"),this._addScopeLevel()}else this._emit(")"),this._emit(", "+K+` && env.opts.autoescape);
`)},O.compileCallExtensionAsync=function(k,W){this.compileCallExtension(k,W,!0)},O.compileNodeList=function(k,W){this._compileChildren(k,W)},O.compileLiteral=function(k){if(typeof k.value=="string"){var W=k.value.replace(/\\/g,"\\\\");W=W.replace(/"/g,'\\"'),W=W.replace(/\n/g,"\\n"),W=W.replace(/\r/g,"\\r"),W=W.replace(/\t/g,"\\t"),W=W.replace(/\u2028/g,"\\u2028"),this._emit('"'+W+'"')}else k.value===null?this._emit("null"):this._emit(k.value.toString())},O.compileSymbol=function(k,W){var j=k.value,$=W.lookup(j);$?this._emit($):this._emit('runtime.contextOrFrameLookup(context, frame, "'+j+'")')},O.compileGroup=function(k,W){this._compileAggregate(k,W,"(",")")},O.compileArray=function(k,W){this._compileAggregate(k,W,"[","]")},O.compileDict=function(k,W){this._compileAggregate(k,W,"{","}")},O.compilePair=function(k,W){var j=k.key,$=k.value;j instanceof g.Symbol?j=new g.Literal(j.lineno,j.colno,j.value):j instanceof g.Literal&&typeof j.value=="string"||this.fail("compilePair: Dict keys must be strings or names",j.lineno,j.colno),this.compile(j,W),this._emit(": "),this._compileExpression($,W)},O.compileInlineIf=function(k,W){this._emit("("),this.compile(k.cond,W),this._emit("?"),this.compile(k.body,W),this._emit(":"),k.else_!==null?this.compile(k.else_,W):this._emit('""'),this._emit(")")},O.compileIn=function(k,W){this._emit("runtime.inOperator("),this.compile(k.left,W),this._emit(","),this.compile(k.right,W),this._emit(")")},O.compileIs=function(k,W){var j=k.right.name?k.right.name.value:k.right.value;this._emit('env.getTest("'+j+'").call(context, '),this.compile(k.left,W),k.right.args&&(this._emit(","),this.compile(k.right.args,W)),this._emit(") === true")},O._binOpEmitter=function(k,W,j){this.compile(k.left,W),this._emit(j),this.compile(k.right,W)},O.compileOr=function(k,W){return this._binOpEmitter(k,W," || ")},O.compileAnd=function(k,W){return this._binOpEmitter(k,W," && ")},O.compileAdd=function(k,W){return this._binOpEmitter(k,W," + ")},O.compileConcat=function(k,W){return this._binOpEmitter(k,W,' + "" + ')},O.compileSub=function(k,W){return this._binOpEmitter(k,W," - ")},O.compileMul=function(k,W){return this._binOpEmitter(k,W," * ")},O.compileDiv=function(k,W){return this._binOpEmitter(k,W," / ")},O.compileMod=function(k,W){return this._binOpEmitter(k,W," % ")},O.compileNot=function(k,W){this._emit("!"),this.compile(k.target,W)},O.compileFloorDiv=function(k,W){this._emit("Math.floor("),this.compile(k.left,W),this._emit(" / "),this.compile(k.right,W),this._emit(")")},O.compilePow=function(k,W){this._emit("Math.pow("),this.compile(k.left,W),this._emit(", "),this.compile(k.right,W),this._emit(")")},O.compileNeg=function(k,W){this._emit("-"),this.compile(k.target,W)},O.compilePos=function(k,W){this._emit("+"),this.compile(k.target,W)},O.compileCompare=function(k,W){var j=this;this.compile(k.expr,W),k.ops.forEach(function($){j._emit(" "+E[$.type]+" "),j.compile($.expr,W)})},O.compileLookupVal=function(k,W){this._emit("runtime.memberLookup(("),this._compileExpression(k.target,W),this._emit("),"),this._compileExpression(k.val,W),this._emit(")")},O._getNodeName=function(k){switch(k.typename){case"Symbol":return k.value;case"FunCall":return"the return value of ("+this._getNodeName(k.name)+")";case"LookupVal":return this._getNodeName(k.target)+'["'+this._getNodeName(k.val)+'"]';case"Literal":return k.value.toString();default:return"--expression--"}},O.compileFunCall=function(k,W){this._emit("(lineno = "+k.lineno+", colno = "+k.colno+", "),this._emit("runtime.callWrap("),this._compileExpression(k.name,W),this._emit(', "'+this._getNodeName(k.name).replace(/"/g,'\\"')+'", context, '),this._compileAggregate(k.args,W,"[","])"),this._emit(")")},O.compileFilter=function(k,W){var j=k.name;this.assertType(j,g.Symbol),this._emit('env.getFilter("'+j.value+'").call(context, '),this._compileAggregate(k.args,W),this._emit(")")},O.compileFilterAsync=function(k,W){var j=k.name,$=k.symbol.value;this.assertType(j,g.Symbol),W.set($,$),this._emit('env.getFilter("'+j.value+'").call(context, '),this._compileAggregate(k.args,W),this._emitLine(", "+this._makeCallback($)),this._addScopeLevel()},O.compileKeywordArgs=function(k,W){this._emit("runtime.makeKeywordArgs("),this.compileDict(k,W),this._emit(")")},O.compileSet=function(k,W){var j=this,$=[];k.targets.forEach(function(M){var Y=M.value,K=W.lookup(Y);K==null&&(K=j._tmpid(),j._emitLine("var "+K+";")),$.push(K)}),k.value?(this._emit($.join(" = ")+" = "),this._compileExpression(k.value,W),this._emitLine(";")):(this._emit($.join(" = ")+" = "),this.compile(k.body,W),this._emitLine(";")),k.targets.forEach(function(M,Y){var K=$[Y],Z=M.value;j._emitLine('frame.set("'+Z+'", '+K+", true);"),j._emitLine("if(frame.topLevel) {"),j._emitLine('context.setVariable("'+Z+'", '+K+");"),j._emitLine("}"),Z.charAt(0)!=="_"&&(j._emitLine("if(frame.topLevel) {"),j._emitLine('context.addExport("'+Z+'", '+K+");"),j._emitLine("}"))})},O.compileSwitch=function(k,W){var j=this;this._emit("switch ("),this.compile(k.expr,W),this._emit(") {"),k.cases.forEach(function($,M){j._emit("case "),j.compile($.cond,W),j._emit(": "),j.compile($.body,W),$.body.children.length&&j._emitLine("break;")}),k.default&&(this._emit("default:"),this.compile(k.default,W)),this._emit("}")},O.compileIf=function(k,W,j){var $=this;this._emit("if("),this._compileExpression(k.cond,W),this._emitLine(") {"),this._withScopedSyntax(function(){$.compile(k.body,W),j&&$._emit("cb()")}),k.else_?(this._emitLine(`}
else {`),this._withScopedSyntax(function(){$.compile(k.else_,W),j&&$._emit("cb()")})):j&&(this._emitLine(`}
else {`),this._emit("cb()")),this._emitLine("}")},O.compileIfAsync=function(k,W){this._emit("(function(cb) {"),this.compileIf(k,W,!0),this._emit("})("+this._makeCallback()),this._addScopeLevel()},O._emitLoopBindings=function(k,W,j,$){var M=this,Y=[{name:"index",val:j+" + 1"},{name:"index0",val:j},{name:"revindex",val:$+" - "+j},{name:"revindex0",val:$+" - "+j+" - 1"},{name:"first",val:j+" === 0"},{name:"last",val:j+" === "+$+" - 1"},{name:"length",val:$}];Y.forEach(function(K){M._emitLine('frame.set("loop.'+K.name+'", '+K.val+");")})},O.compileFor=function(k,W){var j=this,$=this._tmpid(),M=this._tmpid(),Y=this._tmpid();if(W=W.push(),this._emitLine("frame = frame.push();"),this._emit("var "+Y+" = "),this._compileExpression(k.arr,W),this._emitLine(";"),this._emit("if("+Y+") {"),this._emitLine(Y+" = runtime.fromIterator("+Y+");"),k.name instanceof g.Array){this._emitLine("var "+$+";"),this._emitLine("if(runtime.isArray("+Y+")) {"),this._emitLine("var "+M+" = "+Y+".length;"),this._emitLine("for("+$+"=0; "+$+" < "+Y+".length; "+$+"++) {"),k.name.children.forEach(function(J,Q){var ue=j._tmpid();j._emitLine("var "+ue+" = "+Y+"["+$+"]["+Q+"];"),j._emitLine('frame.set("'+J+'", '+Y+"["+$+"]["+Q+"]);"),W.set(k.name.children[Q].value,ue)}),this._emitLoopBindings(k,Y,$,M),this._withScopedSyntax(function(){j.compile(k.body,W)}),this._emitLine("}"),this._emitLine("} else {");var K=k.name.children,Z=K[0],ne=K[1],ae=this._tmpid(),de=this._tmpid();W.set(Z.value,ae),W.set(ne.value,de),this._emitLine($+" = -1;"),this._emitLine("var "+M+" = runtime.keys("+Y+").length;"),this._emitLine("for(var "+ae+" in "+Y+") {"),this._emitLine($+"++;"),this._emitLine("var "+de+" = "+Y+"["+ae+"];"),this._emitLine('frame.set("'+Z.value+'", '+ae+");"),this._emitLine('frame.set("'+ne.value+'", '+de+");"),this._emitLoopBindings(k,Y,$,M),this._withScopedSyntax(function(){j.compile(k.body,W)}),this._emitLine("}"),this._emitLine("}")}else{var re=this._tmpid();W.set(k.name.value,re),this._emitLine("var "+M+" = "+Y+".length;"),this._emitLine("for(var "+$+"=0; "+$+" < "+Y+".length; "+$+"++) {"),this._emitLine("var "+re+" = "+Y+"["+$+"];"),this._emitLine('frame.set("'+k.name.value+'", '+re+");"),this._emitLoopBindings(k,Y,$,M),this._withScopedSyntax(function(){j.compile(k.body,W)}),this._emitLine("}")}this._emitLine("}"),k.else_&&(this._emitLine("if (!"+M+") {"),this.compile(k.else_,W),this._emitLine("}")),this._emitLine("frame = frame.pop();")},O._compileAsyncLoop=function(k,W,j){var $=this,M=this._tmpid(),Y=this._tmpid(),K=this._tmpid(),Z=j?"asyncAll":"asyncEach";if(W=W.push(),this._emitLine("frame = frame.push();"),this._emit("var "+K+" = runtime.fromIterator("),this._compileExpression(k.arr,W),this._emitLine(");"),k.name instanceof g.Array){var ne=k.name.children.length;this._emit("runtime."+Z+"("+K+", "+ne+", function("),k.name.children.forEach(function(re){$._emit(re.value+",")}),this._emit(M+","+Y+",next) {"),k.name.children.forEach(function(re){var J=re.value;W.set(J,J),$._emitLine('frame.set("'+J+'", '+J+");")})}else{var ae=k.name.value;this._emitLine("runtime."+Z+"("+K+", 1, function("+ae+", "+M+", "+Y+",next) {"),this._emitLine('frame.set("'+ae+'", '+ae+");"),W.set(ae,ae)}this._emitLoopBindings(k,K,M,Y),this._withScopedSyntax(function(){var re;j&&(re=$._pushBuffer()),$.compile(k.body,W),$._emitLine("next("+M+(re?","+re:"")+");"),j&&$._popBuffer()});var de=this._tmpid();this._emitLine("}, "+this._makeCallback(de)),this._addScopeLevel(),j&&this._emitLine(this.buffer+" += "+de+";"),k.else_&&(this._emitLine("if (!"+K+".length) {"),this.compile(k.else_,W),this._emitLine("}")),this._emitLine("frame = frame.pop();")},O.compileAsyncEach=function(k,W){this._compileAsyncLoop(k,W)},O.compileAsyncAll=function(k,W){this._compileAsyncLoop(k,W,!0)},O._compileMacro=function(k,W){var j=this,$=[],M=null,Y="macro_"+this._tmpid(),K=W!==void 0;k.args.children.forEach(function(J,Q){Q===k.args.children.length-1&&J instanceof g.Dict?M=J:(j.assertType(J,g.Symbol),$.push(J))});var Z=[].concat($.map(function(J){return"l_"+J.value}),["kwargs"]),ne=$.map(function(J){return'"'+J.value+'"'}),ae=(M&&M.children||[]).map(function(J){return'"'+J.key.value+'"'}),de;K?de=W.push(!0):de=new A,this._emitLines("var "+Y+" = runtime.makeMacro(","["+ne.join(", ")+"], ","["+ae.join(", ")+"], ","function ("+Z.join(", ")+") {","var callerFrame = frame;","frame = "+(K?"frame.push(true);":"new runtime.Frame();"),"kwargs = kwargs || {};",'if (Object.prototype.hasOwnProperty.call(kwargs, "caller")) {','frame.set("caller", kwargs.caller); }'),$.forEach(function(J){j._emitLine('frame.set("'+J.value+'", l_'+J.value+");"),de.set(J.value,"l_"+J.value)}),M&&M.children.forEach(function(J){var Q=J.key.value;j._emit('frame.set("'+Q+'", '),j._emit('Object.prototype.hasOwnProperty.call(kwargs, "'+Q+'")'),j._emit(' ? kwargs["'+Q+'"] : '),j._compileExpression(J.value,de),j._emit(");")});var re=this._pushBuffer();return this._withScopedSyntax(function(){j.compile(k.body,de)}),this._emitLine("frame = "+(K?"frame.pop();":"callerFrame;")),this._emitLine("return new runtime.SafeString("+re+");"),this._emitLine("});"),this._popBuffer(),Y},O.compileMacro=function(k,W){var j=this._compileMacro(k),$=k.name.value;W.set($,j),W.parent?this._emitLine('frame.set("'+$+'", '+j+");"):(k.name.value.charAt(0)!=="_"&&this._emitLine('context.addExport("'+$+'");'),this._emitLine('context.setVariable("'+$+'", '+j+");"))},O.compileCaller=function(k,W){this._emit("(function (){");var j=this._compileMacro(k,W);this._emit("return "+j+";})()")},O._compileGetTemplate=function(k,W,j,$){var M=this._tmpid(),Y=this._templateName(),K=this._makeCallback(M),Z=j?"true":"false",ne=$?"true":"false";return this._emit("env.getTemplate("),this._compileExpression(k.template,W),this._emitLine(", "+Z+", "+Y+", "+ne+", "+K),M},O.compileImport=function(k,W){var j=k.target.value,$=this._compileGetTemplate(k,W,!1,!1);this._addScopeLevel(),this._emitLine($+".getExported("+(k.withContext?"context.getVariables(), frame, ":"")+this._makeCallback($)),this._addScopeLevel(),W.set(j,$),W.parent?this._emitLine('frame.set("'+j+'", '+$+");"):this._emitLine('context.setVariable("'+j+'", '+$+");")},O.compileFromImport=function(k,W){var j=this,$=this._compileGetTemplate(k,W,!1,!1);this._addScopeLevel(),this._emitLine($+".getExported("+(k.withContext?"context.getVariables(), frame, ":"")+this._makeCallback($)),this._addScopeLevel(),k.names.children.forEach(function(M){var Y,K,Z=j._tmpid();M instanceof g.Pair?(Y=M.key.value,K=M.value.value):(Y=M.value,K=Y),j._emitLine("if(Object.prototype.hasOwnProperty.call("+$+', "'+Y+'")) {'),j._emitLine("var "+Z+" = "+$+"."+Y+";"),j._emitLine("} else {"),j._emitLine(`cb(new Error("cannot import '`+Y+`'")); return;`),j._emitLine("}"),W.set(K,Z),W.parent?j._emitLine('frame.set("'+K+'", '+Z+");"):j._emitLine('context.setVariable("'+K+'", '+Z+");")})},O.compileBlock=function(k){var W=this._tmpid();this.inBlock||this._emit('(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : '),this._emit('context.getBlock("'+k.name.value+'")'),this.inBlock||this._emit(")"),this._emitLine("(env, context, frame, runtime, "+this._makeCallback(W)),this._emitLine(this.buffer+" += "+W+";"),this._addScopeLevel()},O.compileSuper=function(k,W){var j=k.blockName.value,$=k.symbol.value,M=this._makeCallback($);this._emitLine('context.getSuper(env, "'+j+'", b_'+j+", frame, runtime, "+M),this._emitLine($+" = runtime.markSafe("+$+");"),this._addScopeLevel(),W.set($,$)},O.compileExtends=function(k,W){var j=this._tmpid(),$=this._compileGetTemplate(k,W,!0,!1);this._emitLine("parentTemplate = "+$),this._emitLine("for(var "+j+" in parentTemplate.blocks) {"),this._emitLine("context.addBlock("+j+", parentTemplate.blocks["+j+"]);"),this._emitLine("}"),this._addScopeLevel()},O.compileInclude=function(k,W){this._emitLine("var tasks = [];"),this._emitLine("tasks.push("),this._emitLine("function(callback) {");var j=this._compileGetTemplate(k,W,!1,k.ignoreMissing);this._emitLine("callback(null,"+j+");});"),this._emitLine("});");var $=this._tmpid();this._emitLine("tasks.push("),this._emitLine("function(template, callback){"),this._emitLine("template.render(context.getVariables(), frame, "+this._makeCallback($)),this._emitLine("callback(null,"+$+");});"),this._emitLine("});"),this._emitLine("tasks.push("),this._emitLine("function(result, callback){"),this._emitLine(this.buffer+" += result;"),this._emitLine("callback(null);"),this._emitLine("});"),this._emitLine("env.waterfall(tasks, function(){"),this._addScopeLevel()},O.compileTemplateData=function(k,W){this.compileLiteral(k,W)},O.compileCapture=function(k,W){var j=this,$=this.buffer;this.buffer="output",this._emitLine("(function() {"),this._emitLine('var output = "";'),this._withScopedSyntax(function(){j.compile(k.body,W)}),this._emitLine("return output;"),this._emitLine("})()"),this.buffer=$},O.compileOutput=function(k,W){var j=this,$=k.children;$.forEach(function(M){M instanceof g.TemplateData?M.value&&(j._emit(j.buffer+" += "),j.compileLiteral(M,W),j._emitLine(";")):(j._emit(j.buffer+" += runtime.suppressValue("),j.throwOnUndefined&&j._emit("runtime.ensureDefined("),j.compile(M,W),j.throwOnUndefined&&j._emit(","+k.lineno+","+k.colno+")"),j._emit(`, env.opts.autoescape);
`))})},O.compileRoot=function(k,W){var j=this;W&&this.fail("compileRoot: root node can't have frame"),W=new A,this._emitFuncBegin(k,"root"),this._emitLine("var parentTemplate = null;"),this._compileChildren(k,W),this._emitLine("if(parentTemplate) {"),this._emitLine("parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);"),this._emitLine("} else {"),this._emitLine("cb(null, "+this.buffer+");"),this._emitLine("}"),this._emitFuncEnd(!0),this.inBlock=!0;var $=[],M=k.findAll(g.Block);M.forEach(function(Y,K){var Z=Y.name.value;if($.indexOf(Z)!==-1)throw new Error('Block "'+Z+'" defined more than once.');$.push(Z),j._emitFuncBegin(Y,"b_"+Z);var ne=new A;j._emitLine("var frame = frame.push(true);"),j.compile(Y.body,ne),j._emitFuncEnd()}),this._emitLine("return {"),M.forEach(function(Y,K){var Z="b_"+Y.name.value;j._emitLine(Z+": "+Z+",")}),this._emitLine(`root: root
};`)},O.compile=function(k,W){var j=this["compile"+k.typename];j?j.call(this,k,W):this.fail("compile: Cannot compile node: "+k.typename,k.lineno,k.colno)},O.getCode=function(){return this.codebuf.join("")},D}(L);n.exports={compile:function(D,O,z,k,W){W===void 0&&(W={});var j=new I(k,W.throwOnUndefined),$=(z||[]).map(function(Y){return Y.preprocess}).filter(function(Y){return!!Y}),M=$.reduce(function(Y,K){return K(Y)},D);return j.compile(m.transform(d.parse(M,z,W),O,k)),j.getCode()},Compiler:I}},function(n,r,i){function a(y,b){y.prototype=Object.create(b.prototype),y.prototype.constructor=y,c(y,b)}function c(y,b){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,P){return A.__proto__=P,A},c(y,b)}var d=i(4),m=i(1),g=m.EmitterObj;n.exports=function(y){a(b,y);function b(){return y.apply(this,arguments)||this}var C=b.prototype;return C.resolve=function(P,L){return d.resolve(d.dirname(P),L)},C.isRelative=function(P){return P.indexOf("./")===0||P.indexOf("../")===0},b}(g)},function(n,r,i){function a(ne,ae){ne.prototype=Object.create(ae.prototype),ne.prototype.constructor=ne,c(ne,ae)}function c(ne,ae){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(re,J){return re.__proto__=J,re},c(ne,ae)}var d=i(12),m=i(15),g=i(0),y=i(5),b=i(18),C=i(10),A=C.FileSystemLoader,P=C.WebLoader,L=C.PrecompiledLoader,E=i(20),I=i(21),N=i(1),D=N.Obj,O=N.EmitterObj,z=i(2),k=z.handleError,W=z.Frame,j=i(22);function $(ne,ae,de){d(function(){ne(ae,de)})}var M={type:"code",obj:{root:function(ae,de,re,J,Q){try{Q(null,"")}catch(ue){Q(k(ue,null,null))}}}},Y=function(ne){a(ae,ne);function ae(){return ne.apply(this,arguments)||this}var de=ae.prototype;return de.init=function(J,Q){var ue=this;Q=this.opts=Q||{},this.opts.dev=!!Q.dev,this.opts.autoescape=Q.autoescape!=null?Q.autoescape:!0,this.opts.throwOnUndefined=!!Q.throwOnUndefined,this.opts.trimBlocks=!!Q.trimBlocks,this.opts.lstripBlocks=!!Q.lstripBlocks,this.loaders=[],J?this.loaders=g.isArray(J)?J:[J]:A?this.loaders=[new A("views")]:P&&(this.loaders=[new P("/views")]),typeof window!="undefined"&&window.nunjucksPrecompiled&&this.loaders.unshift(new L(window.nunjucksPrecompiled)),this._initLoaders(),this.globals=I(),this.filters={},this.tests={},this.asyncFilters=[],this.extensions={},this.extensionsList=[],g._entries(b).forEach(function(se){var he=se[0],Ce=se[1];return ue.addFilter(he,Ce)}),g._entries(E).forEach(function(se){var he=se[0],Ce=se[1];return ue.addTest(he,Ce)})},de._initLoaders=function(){var J=this;this.loaders.forEach(function(Q){Q.cache={},typeof Q.on=="function"&&(Q.on("update",function(ue,se){Q.cache[ue]=null,J.emit("update",ue,se,Q)}),Q.on("load",function(ue,se){J.emit("load",ue,se,Q)}))})},de.invalidateCache=function(){this.loaders.forEach(function(J){J.cache={}})},de.addExtension=function(J,Q){return Q.__name=J,this.extensions[J]=Q,this.extensionsList.push(Q),this},de.removeExtension=function(J){var Q=this.getExtension(J);!Q||(this.extensionsList=g.without(this.extensionsList,Q),delete this.extensions[J])},de.getExtension=function(J){return this.extensions[J]},de.hasExtension=function(J){return!!this.extensions[J]},de.addGlobal=function(J,Q){return this.globals[J]=Q,this},de.getGlobal=function(J){if(typeof this.globals[J]=="undefined")throw new Error("global not found: "+J);return this.globals[J]},de.addFilter=function(J,Q,ue){var se=Q;return ue&&this.asyncFilters.push(J),this.filters[J]=se,this},de.getFilter=function(J){if(!this.filters[J])throw new Error("filter not found: "+J);return this.filters[J]},de.addTest=function(J,Q){return this.tests[J]=Q,this},de.getTest=function(J){if(!this.tests[J])throw new Error("test not found: "+J);return this.tests[J]},de.resolveTemplate=function(J,Q,ue){var se=J.isRelative&&Q?J.isRelative(ue):!1;return se&&J.resolve?J.resolve(Q,ue):ue},de.getTemplate=function(J,Q,ue,se,he){var Ce=this,ze=this,pe=null;if(J&&J.raw&&(J=J.raw),g.isFunction(ue)&&(he=ue,ue=null,Q=Q||!1),g.isFunction(Q)&&(he=Q,Q=!1),J instanceof Z)pe=J;else{if(typeof J!="string")throw new Error("template names must be a string: "+J);for(var et=0;et<this.loaders.length;et++){var Et=this.loaders[et];if(pe=Et.cache[this.resolveTemplate(Et,ue,J)],pe)break}}if(pe)if(Q&&pe.compile(),he){he(null,pe);return}else return pe;var qe,Be=function(Ue,ke){if(!ke&&!Ue&&!se&&(Ue=new Error("template not found: "+J)),Ue)if(he){he(Ue);return}else throw Ue;var ht;ke?(ht=new Z(ke.src,Ce,ke.path,Q),ke.noCache||(ke.loader.cache[J]=ht)):ht=new Z(M,Ce,"",Q),he?he(null,ht):qe=ht};return g.asyncIter(this.loaders,function(Ae,Ue,ke,ht){function bt(Ct,Je){Ct?ht(Ct):Je?(Je.loader=Ae,ht(null,Je)):ke()}J=ze.resolveTemplate(Ae,ue,J),Ae.async?Ae.getSource(J,bt):bt(null,Ae.getSource(J))},Be),qe},de.express=function(J){return j(this,J)},de.render=function(J,Q,ue){g.isFunction(Q)&&(ue=Q,Q=null);var se=null;return this.getTemplate(J,function(he,Ce){if(he&&ue)$(ue,he);else{if(he)throw he;se=Ce.render(Q,ue)}}),se},de.renderString=function(J,Q,ue,se){g.isFunction(ue)&&(se=ue,ue={}),ue=ue||{};var he=new Z(J,this,ue.path);return he.render(Q,se)},de.waterfall=function(J,Q,ue){return m(J,Q,ue)},ae}(O),K=function(ne){a(ae,ne);function ae(){return ne.apply(this,arguments)||this}var de=ae.prototype;return de.init=function(J,Q,ue){var se=this;this.env=ue||new Y,this.ctx=g.extend({},J),this.blocks={},this.exported=[],g.keys(Q).forEach(function(he){se.addBlock(he,Q[he])})},de.lookup=function(J){return J in this.env.globals&&!(J in this.ctx)?this.env.globals[J]:this.ctx[J]},de.setVariable=function(J,Q){this.ctx[J]=Q},de.getVariables=function(){return this.ctx},de.addBlock=function(J,Q){return this.blocks[J]=this.blocks[J]||[],this.blocks[J].push(Q),this},de.getBlock=function(J){if(!this.blocks[J])throw new Error('unknown block "'+J+'"');return this.blocks[J][0]},de.getSuper=function(J,Q,ue,se,he,Ce){var ze=g.indexOf(this.blocks[Q]||[],ue),pe=this.blocks[Q][ze+1],et=this;if(ze===-1||!pe)throw new Error('no super block available for "'+Q+'"');pe(J,et,se,he,Ce)},de.addExport=function(J){this.exported.push(J)},de.getExported=function(){var J=this,Q={};return this.exported.forEach(function(ue){Q[ue]=J.ctx[ue]}),Q},ae}(D),Z=function(ne){a(ae,ne);function ae(){return ne.apply(this,arguments)||this}var de=ae.prototype;return de.init=function(J,Q,ue,se){if(this.env=Q||new Y,g.isObject(J))switch(J.type){case"code":this.tmplProps=J.obj;break;case"string":this.tmplStr=J.obj;break;default:throw new Error("Unexpected template object type "+J.type+"; expected 'code', or 'string'")}else if(g.isString(J))this.tmplStr=J;else throw new Error("src must be a string or an object describing the source");if(this.path=ue,se)try{this._compile()}catch(he){throw g._prettifyError(this.path,this.env.opts.dev,he)}else this.compiled=!1},de.render=function(J,Q,ue){var se=this;typeof J=="function"?(ue=J,J={}):typeof Q=="function"&&(ue=Q,Q=null);var he=!Q;try{this.compile()}catch(qe){var Ce=g._prettifyError(this.path,this.env.opts.dev,qe);if(ue)return $(ue,Ce);throw Ce}var ze=new K(J||{},this.blocks,this.env),pe=Q?Q.push(!0):new W;pe.topLevel=!0;var et=null,Et=!1;return this.rootRenderFunc(this.env,ze,pe,z,function(qe,Be){if(!(Et&&ue&&typeof Be!="undefined"))if(qe&&(qe=g._prettifyError(se.path,se.env.opts.dev,qe),Et=!0),ue)he?$(ue,qe,Be):ue(qe,Be);else{if(qe)throw qe;et=Be}}),et},de.getExported=function(J,Q,ue){typeof J=="function"&&(ue=J,J={}),typeof Q=="function"&&(ue=Q,Q=null);try{this.compile()}catch(Ce){if(ue)return ue(Ce);throw Ce}var se=Q?Q.push():new W;se.topLevel=!0;var he=new K(J||{},this.blocks,this.env);this.rootRenderFunc(this.env,he,se,z,function(Ce){Ce?ue(Ce,null):ue(null,he.getExported())})},de.compile=function(){this.compiled||this._compile()},de._compile=function(){var J;if(this.tmplProps)J=this.tmplProps;else{var Q=y.compile(this.tmplStr,this.env.asyncFilters,this.env.extensionsList,this.path,this.env.opts),ue=new Function(Q);J=ue()}this.blocks=this._getBlocks(J),this.rootRenderFunc=J.root,this.compiled=!0},de._getBlocks=function(J){var Q={};return g.keys(J).forEach(function(ue){ue.slice(0,2)==="b_"&&(Q[ue.slice(2)]=J[ue])}),Q},ae}(D);n.exports={Environment:Y,Template:Z}},function(n,r,i){function a(C,A){C.prototype=Object.create(A.prototype),C.prototype.constructor=C,c(C,A)}function c(C,A){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,E){return L.__proto__=E,L},c(C,A)}var d=i(9),m=i(3),g=i(1).Obj,y=i(0),b=function(C){a(A,C);function A(){return C.apply(this,arguments)||this}var P=A.prototype;return P.init=function(E){this.tokens=E,this.peeked=null,this.breakOnBlocks=null,this.dropLeadingWhitespace=!1,this.extensions=[]},P.nextToken=function(E){var I;if(this.peeked)if(!E&&this.peeked.type===d.TOKEN_WHITESPACE)this.peeked=null;else return I=this.peeked,this.peeked=null,I;if(I=this.tokens.nextToken(),!E)for(;I&&I.type===d.TOKEN_WHITESPACE;)I=this.tokens.nextToken();return I},P.peekToken=function(){return this.peeked=this.peeked||this.nextToken(),this.peeked},P.pushToken=function(E){if(this.peeked)throw new Error("pushToken: can only push one token on between reads");this.peeked=E},P.error=function(E,I,N){if(I===void 0||N===void 0){var D=this.peekToken()||{};I=D.lineno,N=D.colno}return I!==void 0&&(I+=1),N!==void 0&&(N+=1),new y.TemplateError(E,I,N)},P.fail=function(E,I,N){throw this.error(E,I,N)},P.skip=function(E){var I=this.nextToken();return!I||I.type!==E?(this.pushToken(I),!1):!0},P.expect=function(E){var I=this.nextToken();return I.type!==E&&this.fail("expected "+E+", got "+I.type,I.lineno,I.colno),I},P.skipValue=function(E,I){var N=this.nextToken();return!N||N.type!==E||N.value!==I?(this.pushToken(N),!1):!0},P.skipSymbol=function(E){return this.skipValue(d.TOKEN_SYMBOL,E)},P.advanceAfterBlockEnd=function(E){var I;return E||(I=this.peekToken(),I||this.fail("unexpected end of file"),I.type!==d.TOKEN_SYMBOL&&this.fail("advanceAfterBlockEnd: expected symbol token or explicit name to be passed"),E=this.nextToken().value),I=this.nextToken(),I&&I.type===d.TOKEN_BLOCK_END?I.value.charAt(0)==="-"&&(this.dropLeadingWhitespace=!0):this.fail("expected block end in "+E+" statement"),I},P.advanceAfterVariableEnd=function(){var E=this.nextToken();E&&E.type===d.TOKEN_VARIABLE_END?this.dropLeadingWhitespace=E.value.charAt(E.value.length-this.tokens.tags.VARIABLE_END.length-1)==="-":(this.pushToken(E),this.fail("expected variable end"))},P.parseFor=function(){var E=this.peekToken(),I,N;this.skipSymbol("for")?(I=new m.For(E.lineno,E.colno),N="endfor"):this.skipSymbol("asyncEach")?(I=new m.AsyncEach(E.lineno,E.colno),N="endeach"):this.skipSymbol("asyncAll")?(I=new m.AsyncAll(E.lineno,E.colno),N="endall"):this.fail("parseFor: expected for{Async}",E.lineno,E.colno),I.name=this.parsePrimary(),I.name instanceof m.Symbol||this.fail("parseFor: variable name expected for loop");var D=this.peekToken().type;if(D===d.TOKEN_COMMA){var O=I.name;for(I.name=new m.Array(O.lineno,O.colno),I.name.addChild(O);this.skip(d.TOKEN_COMMA);){var z=this.parsePrimary();I.name.addChild(z)}}return this.skipSymbol("in")||this.fail('parseFor: expected "in" keyword for loop',E.lineno,E.colno),I.arr=this.parseExpression(),this.advanceAfterBlockEnd(E.value),I.body=this.parseUntilBlocks(N,"else"),this.skipSymbol("else")&&(this.advanceAfterBlockEnd("else"),I.else_=this.parseUntilBlocks(N)),this.advanceAfterBlockEnd(),I},P.parseMacro=function(){var E=this.peekToken();this.skipSymbol("macro")||this.fail("expected macro");var I=this.parsePrimary(!0),N=this.parseSignature(),D=new m.Macro(E.lineno,E.colno,I,N);return this.advanceAfterBlockEnd(E.value),D.body=this.parseUntilBlocks("endmacro"),this.advanceAfterBlockEnd(),D},P.parseCall=function(){var E=this.peekToken();this.skipSymbol("call")||this.fail("expected call");var I=this.parseSignature(!0)||new m.NodeList,N=this.parsePrimary();this.advanceAfterBlockEnd(E.value);var D=this.parseUntilBlocks("endcall");this.advanceAfterBlockEnd();var O=new m.Symbol(E.lineno,E.colno,"caller"),z=new m.Caller(E.lineno,E.colno,O,I,D),k=N.args.children;k[k.length-1]instanceof m.KeywordArgs||k.push(new m.KeywordArgs);var W=k[k.length-1];return W.addChild(new m.Pair(E.lineno,E.colno,O,z)),new m.Output(E.lineno,E.colno,[N])},P.parseWithContext=function(){var E=this.peekToken(),I=null;return this.skipSymbol("with")?I=!0:this.skipSymbol("without")&&(I=!1),I!==null&&(this.skipSymbol("context")||this.fail("parseFrom: expected context after with/without",E.lineno,E.colno)),I},P.parseImport=function(){var E=this.peekToken();this.skipSymbol("import")||this.fail("parseImport: expected import",E.lineno,E.colno);var I=this.parseExpression();this.skipSymbol("as")||this.fail('parseImport: expected "as" keyword',E.lineno,E.colno);var N=this.parseExpression(),D=this.parseWithContext(),O=new m.Import(E.lineno,E.colno,I,N,D);return this.advanceAfterBlockEnd(E.value),O},P.parseFrom=function(){var E=this.peekToken();this.skipSymbol("from")||this.fail("parseFrom: expected from");var I=this.parseExpression();this.skipSymbol("import")||this.fail("parseFrom: expected import",E.lineno,E.colno);for(var N=new m.NodeList,D;;){var O=this.peekToken();if(O.type===d.TOKEN_BLOCK_END){N.children.length||this.fail("parseFrom: Expected at least one import name",E.lineno,E.colno),O.value.charAt(0)==="-"&&(this.dropLeadingWhitespace=!0),this.nextToken();break}N.children.length>0&&!this.skip(d.TOKEN_COMMA)&&this.fail("parseFrom: expected comma",E.lineno,E.colno);var z=this.parsePrimary();if(z.value.charAt(0)==="_"&&this.fail("parseFrom: names starting with an underscore cannot be imported",z.lineno,z.colno),this.skipSymbol("as")){var k=this.parsePrimary();N.addChild(new m.Pair(z.lineno,z.colno,z,k))}else N.addChild(z);D=this.parseWithContext()}return new m.FromImport(E.lineno,E.colno,I,N,D)},P.parseBlock=function(){var E=this.peekToken();this.skipSymbol("block")||this.fail("parseBlock: expected block",E.lineno,E.colno);var I=new m.Block(E.lineno,E.colno);I.name=this.parsePrimary(),I.name instanceof m.Symbol||this.fail("parseBlock: variable name expected",E.lineno,E.colno),this.advanceAfterBlockEnd(E.value),I.body=this.parseUntilBlocks("endblock"),this.skipSymbol("endblock"),this.skipSymbol(I.name.value);var N=this.peekToken();return N||this.fail("parseBlock: expected endblock, got end of file"),this.advanceAfterBlockEnd(N.value),I},P.parseExtends=function(){var E="extends",I=this.peekToken();this.skipSymbol(E)||this.fail("parseTemplateRef: expected "+E);var N=new m.Extends(I.lineno,I.colno);return N.template=this.parseExpression(),this.advanceAfterBlockEnd(I.value),N},P.parseInclude=function(){var E="include",I=this.peekToken();this.skipSymbol(E)||this.fail("parseInclude: expected "+E);var N=new m.Include(I.lineno,I.colno);return N.template=this.parseExpression(),this.skipSymbol("ignore")&&this.skipSymbol("missing")&&(N.ignoreMissing=!0),this.advanceAfterBlockEnd(I.value),N},P.parseIf=function(){var E=this.peekToken(),I;this.skipSymbol("if")||this.skipSymbol("elif")||this.skipSymbol("elseif")?I=new m.If(E.lineno,E.colno):this.skipSymbol("ifAsync")?I=new m.IfAsync(E.lineno,E.colno):this.fail("parseIf: expected if, elif, or elseif",E.lineno,E.colno),I.cond=this.parseExpression(),this.advanceAfterBlockEnd(E.value),I.body=this.parseUntilBlocks("elif","elseif","else","endif");var N=this.peekToken();switch(N&&N.value){case"elseif":case"elif":I.else_=this.parseIf();break;case"else":this.advanceAfterBlockEnd(),I.else_=this.parseUntilBlocks("endif"),this.advanceAfterBlockEnd();break;case"endif":I.else_=null,this.advanceAfterBlockEnd();break;default:this.fail("parseIf: expected elif, else, or endif, got end of file")}return I},P.parseSet=function(){var E=this.peekToken();this.skipSymbol("set")||this.fail("parseSet: expected set",E.lineno,E.colno);for(var I=new m.Set(E.lineno,E.colno,[]),N;(N=this.parsePrimary())&&(I.targets.push(N),!!this.skip(d.TOKEN_COMMA)););return this.skipValue(d.TOKEN_OPERATOR,"=")?(I.value=this.parseExpression(),this.advanceAfterBlockEnd(E.value)):this.skip(d.TOKEN_BLOCK_END)?(I.body=new m.Capture(E.lineno,E.colno,this.parseUntilBlocks("endset")),I.value=null,this.advanceAfterBlockEnd()):this.fail("parseSet: expected = or block end in set tag",E.lineno,E.colno),I},P.parseSwitch=function(){var E="switch",I="endswitch",N="case",D="default",O=this.peekToken();!this.skipSymbol(E)&&!this.skipSymbol(N)&&!this.skipSymbol(D)&&this.fail('parseSwitch: expected "switch," "case" or "default"',O.lineno,O.colno);var z=this.parseExpression();this.advanceAfterBlockEnd(E),this.parseUntilBlocks(N,D,I);var k=this.peekToken(),W=[],j;do{this.skipSymbol(N);var $=this.parseExpression();this.advanceAfterBlockEnd(E);var M=this.parseUntilBlocks(N,D,I);W.push(new m.Case(k.line,k.col,$,M)),k=this.peekToken()}while(k&&k.value===N);switch(k.value){case D:this.advanceAfterBlockEnd(),j=this.parseUntilBlocks(I),this.advanceAfterBlockEnd();break;case I:this.advanceAfterBlockEnd();break;default:this.fail('parseSwitch: expected "case," "default" or "endswitch," got EOF.')}return new m.Switch(O.lineno,O.colno,z,W,j)},P.parseStatement=function(){var E=this.peekToken(),I;if(E.type!==d.TOKEN_SYMBOL&&this.fail("tag name expected",E.lineno,E.colno),this.breakOnBlocks&&y.indexOf(this.breakOnBlocks,E.value)!==-1)return null;switch(E.value){case"raw":return this.parseRaw();case"verbatim":return this.parseRaw("verbatim");case"if":case"ifAsync":return this.parseIf();case"for":case"asyncEach":case"asyncAll":return this.parseFor();case"block":return this.parseBlock();case"extends":return this.parseExtends();case"include":return this.parseInclude();case"set":return this.parseSet();case"macro":return this.parseMacro();case"call":return this.parseCall();case"import":return this.parseImport();case"from":return this.parseFrom();case"filter":return this.parseFilterStatement();case"switch":return this.parseSwitch();default:if(this.extensions.length)for(var N=0;N<this.extensions.length;N++){var D=this.extensions[N];if(y.indexOf(D.tags||[],E.value)!==-1)return D.parse(this,m,d)}this.fail("unknown block tag: "+E.value,E.lineno,E.colno)}return I},P.parseRaw=function(E){E=E||"raw";for(var I="end"+E,N=new RegExp("([\\s\\S]*?){%\\s*("+E+"|"+I+")\\s*(?=%})%}"),D=1,O="",z=null,k=this.advanceAfterBlockEnd();(z=this.tokens._extractRegex(N))&&D>0;){var W=z[0],j=z[1],$=z[2];$===E?D+=1:$===I&&(D-=1),D===0?(O+=j,this.tokens.backN(W.length-j.length)):O+=W}return new m.Output(k.lineno,k.colno,[new m.TemplateData(k.lineno,k.colno,O)])},P.parsePostfix=function(E){for(var I,N=this.peekToken();N;){if(N.type===d.TOKEN_LEFT_PAREN)E=new m.FunCall(N.lineno,N.colno,E,this.parseSignature());else if(N.type===d.TOKEN_LEFT_BRACKET)I=this.parseAggregate(),I.children.length>1&&this.fail("invalid index"),E=new m.LookupVal(N.lineno,N.colno,E,I.children[0]);else if(N.type===d.TOKEN_OPERATOR&&N.value==="."){this.nextToken();var D=this.nextToken();D.type!==d.TOKEN_SYMBOL&&this.fail("expected name as lookup value, got "+D.value,D.lineno,D.colno),I=new m.Literal(D.lineno,D.colno,D.value),E=new m.LookupVal(N.lineno,N.colno,E,I)}else break;N=this.peekToken()}return E},P.parseExpression=function(){var E=this.parseInlineIf();return E},P.parseInlineIf=function(){var E=this.parseOr();if(this.skipSymbol("if")){var I=this.parseOr(),N=E;E=new m.InlineIf(E.lineno,E.colno),E.body=N,E.cond=I,this.skipSymbol("else")?E.else_=this.parseOr():E.else_=null}return E},P.parseOr=function(){for(var E=this.parseAnd();this.skipSymbol("or");){var I=this.parseAnd();E=new m.Or(E.lineno,E.colno,E,I)}return E},P.parseAnd=function(){for(var E=this.parseNot();this.skipSymbol("and");){var I=this.parseNot();E=new m.And(E.lineno,E.colno,E,I)}return E},P.parseNot=function(){var E=this.peekToken();return this.skipSymbol("not")?new m.Not(E.lineno,E.colno,this.parseNot()):this.parseIn()},P.parseIn=function(){for(var E=this.parseIs();;){var I=this.nextToken();if(!I)break;var N=I.type===d.TOKEN_SYMBOL&&I.value==="not";if(N||this.pushToken(I),this.skipSymbol("in")){var D=this.parseIs();E=new m.In(E.lineno,E.colno,E,D),N&&(E=new m.Not(E.lineno,E.colno,E))}else{N&&this.pushToken(I);break}}return E},P.parseIs=function(){var E=this.parseCompare();if(this.skipSymbol("is")){var I=this.skipSymbol("not"),N=this.parseCompare();E=new m.Is(E.lineno,E.colno,E,N),I&&(E=new m.Not(E.lineno,E.colno,E))}return E},P.parseCompare=function(){for(var E=["==","===","!=","!==","<",">","<=",">="],I=this.parseConcat(),N=[];;){var D=this.nextToken();if(D)if(E.indexOf(D.value)!==-1)N.push(new m.CompareOperand(D.lineno,D.colno,this.parseConcat(),D.value));else{this.pushToken(D);break}else break}return N.length?new m.Compare(N[0].lineno,N[0].colno,I,N):I},P.parseConcat=function(){for(var E=this.parseAdd();this.skipValue(d.TOKEN_TILDE,"~");){var I=this.parseAdd();E=new m.Concat(E.lineno,E.colno,E,I)}return E},P.parseAdd=function(){for(var E=this.parseSub();this.skipValue(d.TOKEN_OPERATOR,"+");){var I=this.parseSub();E=new m.Add(E.lineno,E.colno,E,I)}return E},P.parseSub=function(){for(var E=this.parseMul();this.skipValue(d.TOKEN_OPERATOR,"-");){var I=this.parseMul();E=new m.Sub(E.lineno,E.colno,E,I)}return E},P.parseMul=function(){for(var E=this.parseDiv();this.skipValue(d.TOKEN_OPERATOR,"*");){var I=this.parseDiv();E=new m.Mul(E.lineno,E.colno,E,I)}return E},P.parseDiv=function(){for(var E=this.parseFloorDiv();this.skipValue(d.TOKEN_OPERATOR,"/");){var I=this.parseFloorDiv();E=new m.Div(E.lineno,E.colno,E,I)}return E},P.parseFloorDiv=function(){for(var E=this.parseMod();this.skipValue(d.TOKEN_OPERATOR,"//");){var I=this.parseMod();E=new m.FloorDiv(E.lineno,E.colno,E,I)}return E},P.parseMod=function(){for(var E=this.parsePow();this.skipValue(d.TOKEN_OPERATOR,"%");){var I=this.parsePow();E=new m.Mod(E.lineno,E.colno,E,I)}return E},P.parsePow=function(){for(var E=this.parseUnary();this.skipValue(d.TOKEN_OPERATOR,"**");){var I=this.parseUnary();E=new m.Pow(E.lineno,E.colno,E,I)}return E},P.parseUnary=function(E){var I=this.peekToken(),N;return this.skipValue(d.TOKEN_OPERATOR,"-")?N=new m.Neg(I.lineno,I.colno,this.parseUnary(!0)):this.skipValue(d.TOKEN_OPERATOR,"+")?N=new m.Pos(I.lineno,I.colno,this.parseUnary(!0)):N=this.parsePrimary(),E||(N=this.parseFilter(N)),N},P.parsePrimary=function(E){var I=this.nextToken(),N,D=null;if(I?I.type===d.TOKEN_STRING?N=I.value:I.type===d.TOKEN_INT?N=parseInt(I.value,10):I.type===d.TOKEN_FLOAT?N=parseFloat(I.value):I.type===d.TOKEN_BOOLEAN?I.value==="true"?N=!0:I.value==="false"?N=!1:this.fail("invalid boolean: "+I.value,I.lineno,I.colno):I.type===d.TOKEN_NONE?N=null:I.type===d.TOKEN_REGEX&&(N=new RegExp(I.value.body,I.value.flags)):this.fail("expected expression, got end of file"),N!==void 0?D=new m.Literal(I.lineno,I.colno,N):I.type===d.TOKEN_SYMBOL?D=new m.Symbol(I.lineno,I.colno,I.value):(this.pushToken(I),D=this.parseAggregate()),E||(D=this.parsePostfix(D)),D)return D;throw this.error("unexpected token: "+I.value,I.lineno,I.colno)},P.parseFilterName=function(){for(var E=this.expect(d.TOKEN_SYMBOL),I=E.value;this.skipValue(d.TOKEN_OPERATOR,".");)I+="."+this.expect(d.TOKEN_SYMBOL).value;return new m.Symbol(E.lineno,E.colno,I)},P.parseFilterArgs=function(E){if(this.peekToken().type===d.TOKEN_LEFT_PAREN){var I=this.parsePostfix(E);return I.args.children}return[]},P.parseFilter=function(E){for(;this.skip(d.TOKEN_PIPE);){var I=this.parseFilterName();E=new m.Filter(I.lineno,I.colno,I,new m.NodeList(I.lineno,I.colno,[E].concat(this.parseFilterArgs(E))))}return E},P.parseFilterStatement=function(){var E=this.peekToken();this.skipSymbol("filter")||this.fail("parseFilterStatement: expected filter");var I=this.parseFilterName(),N=this.parseFilterArgs(I);this.advanceAfterBlockEnd(E.value);var D=new m.Capture(I.lineno,I.colno,this.parseUntilBlocks("endfilter"));this.advanceAfterBlockEnd();var O=new m.Filter(I.lineno,I.colno,I,new m.NodeList(I.lineno,I.colno,[D].concat(N)));return new m.Output(I.lineno,I.colno,[O])},P.parseAggregate=function(){var E=this.nextToken(),I;switch(E.type){case d.TOKEN_LEFT_PAREN:I=new m.Group(E.lineno,E.colno);break;case d.TOKEN_LEFT_BRACKET:I=new m.Array(E.lineno,E.colno);break;case d.TOKEN_LEFT_CURLY:I=new m.Dict(E.lineno,E.colno);break;default:return null}for(;;){var N=this.peekToken().type;if(N===d.TOKEN_RIGHT_PAREN||N===d.TOKEN_RIGHT_BRACKET||N===d.TOKEN_RIGHT_CURLY){this.nextToken();break}if(I.children.length>0&&(this.skip(d.TOKEN_COMMA)||this.fail("parseAggregate: expected comma after expression",E.lineno,E.colno)),I instanceof m.Dict){var D=this.parsePrimary();this.skip(d.TOKEN_COLON)||this.fail("parseAggregate: expected colon after dict key",E.lineno,E.colno);var O=this.parseExpression();I.addChild(new m.Pair(D.lineno,D.colno,D,O))}else{var z=this.parseExpression();I.addChild(z)}}return I},P.parseSignature=function(E,I){var N=this.peekToken();if(!I&&N.type!==d.TOKEN_LEFT_PAREN){if(E)return null;this.fail("expected arguments",N.lineno,N.colno)}N.type===d.TOKEN_LEFT_PAREN&&(N=this.nextToken());for(var D=new m.NodeList(N.lineno,N.colno),O=new m.KeywordArgs(N.lineno,N.colno),z=!1;;){if(N=this.peekToken(),!I&&N.type===d.TOKEN_RIGHT_PAREN){this.nextToken();break}else if(I&&N.type===d.TOKEN_BLOCK_END)break;if(z&&!this.skip(d.TOKEN_COMMA))this.fail("parseSignature: expected comma after expression",N.lineno,N.colno);else{var k=this.parseExpression();this.skipValue(d.TOKEN_OPERATOR,"=")?O.addChild(new m.Pair(k.lineno,k.colno,k,this.parseExpression())):D.addChild(k)}z=!0}return O.children.length&&D.addChild(O),D},P.parseUntilBlocks=function(){for(var E=this.breakOnBlocks,I=arguments.length,N=new Array(I),D=0;D<I;D++)N[D]=arguments[D];this.breakOnBlocks=N;var O=this.parse();return this.breakOnBlocks=E,O},P.parseNodes=function(){for(var E,I=[];E=this.nextToken();)if(E.type===d.TOKEN_DATA){var N=E.value,D=this.peekToken(),O=D&&D.value;this.dropLeadingWhitespace&&(N=N.replace(/^\s*/,""),this.dropLeadingWhitespace=!1),D&&(D.type===d.TOKEN_BLOCK_START&&O.charAt(O.length-1)==="-"||D.type===d.TOKEN_VARIABLE_START&&O.charAt(this.tokens.tags.VARIABLE_START.length)==="-"||D.type===d.TOKEN_COMMENT&&O.charAt(this.tokens.tags.COMMENT_START.length)==="-")&&(N=N.replace(/\s*$/,"")),I.push(new m.Output(E.lineno,E.colno,[new m.TemplateData(E.lineno,E.colno,N)]))}else if(E.type===d.TOKEN_BLOCK_START){this.dropLeadingWhitespace=!1;var z=this.parseStatement();if(!z)break;I.push(z)}else if(E.type===d.TOKEN_VARIABLE_START){var k=this.parseExpression();this.dropLeadingWhitespace=!1,this.advanceAfterVariableEnd(),I.push(new m.Output(E.lineno,E.colno,[k]))}else E.type===d.TOKEN_COMMENT?this.dropLeadingWhitespace=E.value.charAt(E.value.length-this.tokens.tags.COMMENT_END.length-1)==="-":this.fail("Unexpected token at top-level: "+E.type,E.lineno,E.colno);return I},P.parse=function(){return new m.NodeList(0,0,this.parseNodes())},P.parseAsRoot=function(){return new m.Root(0,0,this.parseNodes())},A}(g);n.exports={parse:function(A,P,L){var E=new b(d.lex(A,L));return P!==void 0&&(E.extensions=P),E.parseAsRoot()},Parser:b}},function(n,r,i){var a=i(0),c=` 
	\r\xA0`,d="()[]{}%*-+~/#,:|.<>=!",m="0123456789",g="{%",y="%}",b="{{",C="}}",A="{#",P="#}",L="string",E="whitespace",I="data",N="block-start",D="block-end",O="variable-start",z="variable-end",k="comment",W="left-paren",j="right-paren",$="left-bracket",M="right-bracket",Y="left-curly",K="right-curly",Z="operator",ne="comma",ae="colon",de="tilde",re="pipe",J="int",Q="float",ue="boolean",se="none",he="symbol",Ce="special",ze="regex";function pe(Et,qe,Be,Ae){return{type:Et,value:qe,lineno:Be,colno:Ae}}var et=function(){function Et(Be,Ae){this.str=Be,this.index=0,this.len=Be.length,this.lineno=0,this.colno=0,this.in_code=!1,Ae=Ae||{};var Ue=Ae.tags||{};this.tags={BLOCK_START:Ue.blockStart||g,BLOCK_END:Ue.blockEnd||y,VARIABLE_START:Ue.variableStart||b,VARIABLE_END:Ue.variableEnd||C,COMMENT_START:Ue.commentStart||A,COMMENT_END:Ue.commentEnd||P},this.trimBlocks=!!Ae.trimBlocks,this.lstripBlocks=!!Ae.lstripBlocks}var qe=Et.prototype;return qe.nextToken=function(){var Ae=this.lineno,Ue=this.colno,ke;if(this.in_code){var ht=this.current();if(this.isFinished())return null;if(ht==='"'||ht==="'")return pe(L,this._parseString(ht),Ae,Ue);if(ke=this._extract(c))return pe(E,ke,Ae,Ue);if((ke=this._extractString(this.tags.BLOCK_END))||(ke=this._extractString("-"+this.tags.BLOCK_END)))return this.in_code=!1,this.trimBlocks&&(ht=this.current(),ht===`
`?this.forward():ht==="\r"&&(this.forward(),ht=this.current(),ht===`
`?this.forward():this.back())),pe(D,ke,Ae,Ue);if((ke=this._extractString(this.tags.VARIABLE_END))||(ke=this._extractString("-"+this.tags.VARIABLE_END)))return this.in_code=!1,pe(z,ke,Ae,Ue);if(ht==="r"&&this.str.charAt(this.index+1)==="/"){this.forwardN(2);for(var bt="";!this.isFinished();)if(this.current()==="/"&&this.previous()!=="\\"){this.forward();break}else bt+=this.current(),this.forward();for(var Ct=["g","i","m","y"],Je="";!this.isFinished();){var oe=Ct.indexOf(this.current())!==-1;if(oe)Je+=this.current(),this.forward();else break}return pe(ze,{body:bt,flags:Je},Ae,Ue)}else if(d.indexOf(ht)!==-1){this.forward();var ge=["==","===","!=","!==","<=",">=","//","**"],_e=ht+this.current(),Ie;switch(a.indexOf(ge,_e)!==-1&&(this.forward(),ht=_e,a.indexOf(ge,_e+this.current())!==-1&&(ht=_e+this.current(),this.forward())),ht){case"(":Ie=W;break;case")":Ie=j;break;case"[":Ie=$;break;case"]":Ie=M;break;case"{":Ie=Y;break;case"}":Ie=K;break;case",":Ie=ne;break;case":":Ie=ae;break;case"~":Ie=de;break;case"|":Ie=re;break;default:Ie=Z}return pe(Ie,ht,Ae,Ue)}else if(ke=this._extractUntil(c+d),ke.match(/^[-+]?[0-9]+$/))if(this.current()==="."){this.forward();var Pe=this._extract(m);return pe(Q,ke+"."+Pe,Ae,Ue)}else return pe(J,ke,Ae,Ue);else{if(ke.match(/^(true|false)$/))return pe(ue,ke,Ae,Ue);if(ke==="none")return pe(se,ke,Ae,Ue);if(ke==="null")return pe(se,ke,Ae,Ue);if(ke)return pe(he,ke,Ae,Ue);throw new Error("Unexpected value while parsing: "+ke)}}else{var We=this.tags.BLOCK_START.charAt(0)+this.tags.VARIABLE_START.charAt(0)+this.tags.COMMENT_START.charAt(0)+this.tags.COMMENT_END.charAt(0);if(this.isFinished())return null;if((ke=this._extractString(this.tags.BLOCK_START+"-"))||(ke=this._extractString(this.tags.BLOCK_START)))return this.in_code=!0,pe(N,ke,Ae,Ue);if((ke=this._extractString(this.tags.VARIABLE_START+"-"))||(ke=this._extractString(this.tags.VARIABLE_START)))return this.in_code=!0,pe(O,ke,Ae,Ue);ke="";var pt,Qe=!1;for(this._matches(this.tags.COMMENT_START)&&(Qe=!0,ke=this._extractString(this.tags.COMMENT_START));(pt=this._extractUntil(We))!==null;)if(ke+=pt,(this._matches(this.tags.BLOCK_START)||this._matches(this.tags.VARIABLE_START)||this._matches(this.tags.COMMENT_START))&&!Qe){if(this.lstripBlocks&&this._matches(this.tags.BLOCK_START)&&this.colno>0&&this.colno<=ke.length){var At=ke.slice(-this.colno);if(/^\s+$/.test(At)&&(ke=ke.slice(0,-this.colno),!ke.length))return this.nextToken()}break}else if(this._matches(this.tags.COMMENT_END)){if(!Qe)throw new Error("unexpected end of comment");ke+=this._extractString(this.tags.COMMENT_END);break}else ke+=this.current(),this.forward();if(pt===null&&Qe)throw new Error("expected end of comment, got end of file");return pe(Qe?k:I,ke,Ae,Ue)}},qe._parseString=function(Ae){this.forward();for(var Ue="";!this.isFinished()&&this.current()!==Ae;){var ke=this.current();if(ke==="\\"){switch(this.forward(),this.current()){case"n":Ue+=`
`;break;case"t":Ue+="	";break;case"r":Ue+="\r";break;default:Ue+=this.current()}this.forward()}else Ue+=ke,this.forward()}return this.forward(),Ue},qe._matches=function(Ae){if(this.index+Ae.length>this.len)return null;var Ue=this.str.slice(this.index,this.index+Ae.length);return Ue===Ae},qe._extractString=function(Ae){return this._matches(Ae)?(this.forwardN(Ae.length),Ae):null},qe._extractUntil=function(Ae){return this._extractMatching(!0,Ae||"")},qe._extract=function(Ae){return this._extractMatching(!1,Ae)},qe._extractMatching=function(Ae,Ue){if(this.isFinished())return null;var ke=Ue.indexOf(this.current());if(Ae&&ke===-1||!Ae&&ke!==-1){var ht=this.current();this.forward();for(var bt=Ue.indexOf(this.current());(Ae&&bt===-1||!Ae&&bt!==-1)&&!this.isFinished();)ht+=this.current(),this.forward(),bt=Ue.indexOf(this.current());return ht}return""},qe._extractRegex=function(Ae){var Ue=this.currentStr().match(Ae);return Ue?(this.forwardN(Ue[0].length),Ue):null},qe.isFinished=function(){return this.index>=this.len},qe.forwardN=function(Ae){for(var Ue=0;Ue<Ae;Ue++)this.forward()},qe.forward=function(){this.index++,this.previous()===`
`?(this.lineno++,this.colno=0):this.colno++},qe.backN=function(Ae){for(var Ue=0;Ue<Ae;Ue++)this.back()},qe.back=function(){if(this.index--,this.current()===`
`){this.lineno--;var Ae=this.src.lastIndexOf(`
`,this.index-1);Ae===-1?this.colno=this.index:this.colno=this.index-Ae}else this.colno--},qe.current=function(){return this.isFinished()?"":this.str.charAt(this.index)},qe.currentStr=function(){return this.isFinished()?"":this.str.substr(this.index)},qe.previous=function(){return this.str.charAt(this.index-1)},Et}();n.exports={lex:function(qe,Be){return new et(qe,Be)},TOKEN_STRING:L,TOKEN_WHITESPACE:E,TOKEN_DATA:I,TOKEN_BLOCK_START:N,TOKEN_BLOCK_END:D,TOKEN_VARIABLE_START:O,TOKEN_VARIABLE_END:z,TOKEN_COMMENT:k,TOKEN_LEFT_PAREN:W,TOKEN_RIGHT_PAREN:j,TOKEN_LEFT_BRACKET:$,TOKEN_RIGHT_BRACKET:M,TOKEN_LEFT_CURLY:Y,TOKEN_RIGHT_CURLY:K,TOKEN_OPERATOR:Z,TOKEN_COMMA:ne,TOKEN_COLON:ae,TOKEN_TILDE:de,TOKEN_PIPE:re,TOKEN_INT:J,TOKEN_FLOAT:Q,TOKEN_BOOLEAN:ue,TOKEN_NONE:se,TOKEN_SYMBOL:he,TOKEN_SPECIAL:Ce,TOKEN_REGEX:ze}},function(n,r,i){function a(b,C){b.prototype=Object.create(C.prototype),b.prototype.constructor=b,c(b,C)}function c(b,C){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,L){return P.__proto__=L,P},c(b,C)}var d=i(6),m=i(19),g=m.PrecompiledLoader,y=function(b){a(C,b);function C(P,L){var E;return E=b.call(this)||this,E.baseURL=P||".",L=L||{},E.useCache=!!L.useCache,E.async=!!L.async,E}var A=C.prototype;return A.resolve=function(L,E){throw new Error("relative templates not support in the browser yet")},A.getSource=function(L,E){var I=this,N=this.useCache,D;return this.fetch(this.baseURL+"/"+L,function(O,z){if(O)if(E)E(O.content);else if(O.status===404)D=null;else throw O.content;else D={src:z,path:L,noCache:!N},I.emit("load",L,D),E&&E(null,D)}),D},A.fetch=function(L,E){if(typeof window=="undefined")throw new Error("WebLoader can only by used in a browser");var I=new XMLHttpRequest,N=!0;I.onreadystatechange=function(){I.readyState===4&&N&&(N=!1,I.status===0||I.status===200?E(null,I.responseText):E({status:I.status,content:I.responseText}))},L+=(L.indexOf("?")===-1?"?":"&")+"s="+new Date().getTime(),I.open("GET",L,this.async),I.send()},C}(d);n.exports={WebLoader:y,PrecompiledLoader:g}},function(n,r,i){var a=i(0),c=i(7),d=c.Environment,m=c.Template,g=i(6),y=i(10),b=i(23),C=i(5),A=i(8),P=i(9),L=i(2),E=i(3),I=i(25),N;function D(O,z){z=z||{},a.isObject(O)&&(z=O,O=null);var k;return y.FileSystemLoader?k=new y.FileSystemLoader(O,{watch:z.watch,noCache:z.noCache}):y.WebLoader&&(k=new y.WebLoader(O,{useCache:z.web&&z.web.useCache,async:z.web&&z.web.async})),N=new d(k,z),z&&z.express&&N.express(z.express),N}n.exports={Environment:d,Template:m,Loader:g,FileSystemLoader:y.FileSystemLoader,NodeResolveLoader:y.NodeResolveLoader,PrecompiledLoader:y.PrecompiledLoader,WebLoader:y.WebLoader,compiler:C,parser:A,lexer:P,runtime:L,lib:a,nodes:E,installJinjaCompat:I,configure:D,reset:function(){N=void 0},compile:function(z,k,W,j){return N||D(),new m(z,k,W,j)},render:function(z,k,W){return N||D(),N.render(z,k,W)},renderString:function(z,k,W){return N||D(),N.renderString(z,k,W)},precompile:b?b.precompile:void 0,precompileString:b?b.precompileString:void 0}},function(n,r,i){var a=i(13),c=[],d=[],m=a.makeRequestCallFromTimer(g);function g(){if(d.length)throw d.shift()}n.exports=y;function y(C){var A;c.length?A=c.pop():A=new b,A.task=C,a(A)}function b(){this.task=null}b.prototype.call=function(){try{this.task.call()}catch(C){y.onerror?y.onerror(C):(d.push(C),m())}finally{this.task=null,c[c.length]=this}}},function(n,r,i){(function(a){n.exports=c;function c(E){d.length||m(),d[d.length]=E}var d=[],m,g=0,y=1024;function b(){for(;g<d.length;){var E=g;if(g=g+1,d[E].call(),g>y){for(var I=0,N=d.length-g;I<N;I++)d[I]=d[I+g];d.length-=g,g=0}}d.length=0,g=0}var C=typeof a!="undefined"?a:self,A=C.MutationObserver||C.WebKitMutationObserver;typeof A=="function"?m=P(b):m=L(b),c.requestFlush=m;function P(E){var I=1,N=new A(E),D=document.createTextNode("");return N.observe(D,{characterData:!0}),function(){I=-I,D.data=I}}function L(E){return function(){var N=setTimeout(O,0),D=setInterval(O,50);function O(){clearTimeout(N),clearInterval(D),E()}}}c.makeRequestCallFromTimer=L}).call(r,i(14))},function(n,r){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(i=window)}n.exports=i},function(n,r,i){var a,c;(function(d){var m=function(){var A=Array.prototype.slice.call(arguments);typeof A[0]=="function"&&A[0].apply(null,A.splice(1))},g=function(A){typeof setImmediate=="function"?setImmediate(A):typeof process!="undefined"&&process.nextTick?process.nextTick(A):setTimeout(A,0)},y=function(A){var P=function(L){var E=function(){return A.length&&A[L].apply(null,arguments),E.next()};return E.next=function(){return L<A.length-1?P(L+1):null},E};return P(0)},b=Array.isArray||function(A){return Object.prototype.toString.call(A)==="[object Array]"},C=function(A,P,L){var E=L?g:m;if(P=P||function(){},!b(A)){var I=new Error("First argument to waterfall must be an array of functions");return P(I)}if(!A.length)return P();var N=function(D){return function(O){if(O)P.apply(null,arguments),P=function(){};else{var z=Array.prototype.slice.call(arguments,1),k=D.next();k?z.push(N(k)):z.push(P),E(function(){D.apply(null,z)})}}};N(y(A))()};a=[],c=function(){return C}.apply(r,a),c!==void 0&&(n.exports=c)})()},function(n,r,i){var a=typeof Reflect=="object"?Reflect:null,c=a&&typeof a.apply=="function"?a.apply:function(M,Y,K){return Function.prototype.apply.call(M,Y,K)},d;a&&typeof a.ownKeys=="function"?d=a.ownKeys:Object.getOwnPropertySymbols?d=function(M){return Object.getOwnPropertyNames(M).concat(Object.getOwnPropertySymbols(M))}:d=function(M){return Object.getOwnPropertyNames(M)};function m($){console&&console.warn&&console.warn($)}var g=Number.isNaN||function(M){return M!==M};function y(){y.init.call(this)}n.exports=y,n.exports.once=k,y.EventEmitter=y,y.prototype._events=void 0,y.prototype._eventsCount=0,y.prototype._maxListeners=void 0;var b=10;function C($){if(typeof $!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof $)}Object.defineProperty(y,"defaultMaxListeners",{enumerable:!0,get:function(){return b},set:function($){if(typeof $!="number"||$<0||g($))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+$+".");b=$}}),y.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},y.prototype.setMaxListeners=function(M){if(typeof M!="number"||M<0||g(M))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+M+".");return this._maxListeners=M,this};function A($){return $._maxListeners===void 0?y.defaultMaxListeners:$._maxListeners}y.prototype.getMaxListeners=function(){return A(this)},y.prototype.emit=function(M){for(var Y=[],K=1;K<arguments.length;K++)Y.push(arguments[K]);var Z=M==="error",ne=this._events;if(ne!==void 0)Z=Z&&ne.error===void 0;else if(!Z)return!1;if(Z){var ae;if(Y.length>0&&(ae=Y[0]),ae instanceof Error)throw ae;var de=new Error("Unhandled error."+(ae?" ("+ae.message+")":""));throw de.context=ae,de}var re=ne[M];if(re===void 0)return!1;if(typeof re=="function")c(re,this,Y);else for(var J=re.length,Q=D(re,J),K=0;K<J;++K)c(Q[K],this,Y);return!0};function P($,M,Y,K){var Z,ne,ae;if(C(Y),ne=$._events,ne===void 0?(ne=$._events=Object.create(null),$._eventsCount=0):(ne.newListener!==void 0&&($.emit("newListener",M,Y.listener?Y.listener:Y),ne=$._events),ae=ne[M]),ae===void 0)ae=ne[M]=Y,++$._eventsCount;else if(typeof ae=="function"?ae=ne[M]=K?[Y,ae]:[ae,Y]:K?ae.unshift(Y):ae.push(Y),Z=A($),Z>0&&ae.length>Z&&!ae.warned){ae.warned=!0;var de=new Error("Possible EventEmitter memory leak detected. "+ae.length+" "+String(M)+" listeners added. Use emitter.setMaxListeners() to increase limit");de.name="MaxListenersExceededWarning",de.emitter=$,de.type=M,de.count=ae.length,m(de)}return $}y.prototype.addListener=function(M,Y){return P(this,M,Y,!1)},y.prototype.on=y.prototype.addListener,y.prototype.prependListener=function(M,Y){return P(this,M,Y,!0)};function L(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function E($,M,Y){var K={fired:!1,wrapFn:void 0,target:$,type:M,listener:Y},Z=L.bind(K);return Z.listener=Y,K.wrapFn=Z,Z}y.prototype.once=function(M,Y){return C(Y),this.on(M,E(this,M,Y)),this},y.prototype.prependOnceListener=function(M,Y){return C(Y),this.prependListener(M,E(this,M,Y)),this},y.prototype.removeListener=function(M,Y){var K,Z,ne,ae,de;if(C(Y),Z=this._events,Z===void 0)return this;if(K=Z[M],K===void 0)return this;if(K===Y||K.listener===Y)--this._eventsCount===0?this._events=Object.create(null):(delete Z[M],Z.removeListener&&this.emit("removeListener",M,K.listener||Y));else if(typeof K!="function"){for(ne=-1,ae=K.length-1;ae>=0;ae--)if(K[ae]===Y||K[ae].listener===Y){de=K[ae].listener,ne=ae;break}if(ne<0)return this;ne===0?K.shift():O(K,ne),K.length===1&&(Z[M]=K[0]),Z.removeListener!==void 0&&this.emit("removeListener",M,de||Y)}return this},y.prototype.off=y.prototype.removeListener,y.prototype.removeAllListeners=function(M){var Y,K,Z;if(K=this._events,K===void 0)return this;if(K.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):K[M]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete K[M]),this;if(arguments.length===0){var ne=Object.keys(K),ae;for(Z=0;Z<ne.length;++Z)ae=ne[Z],ae!=="removeListener"&&this.removeAllListeners(ae);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(Y=K[M],typeof Y=="function")this.removeListener(M,Y);else if(Y!==void 0)for(Z=Y.length-1;Z>=0;Z--)this.removeListener(M,Y[Z]);return this};function I($,M,Y){var K=$._events;if(K===void 0)return[];var Z=K[M];return Z===void 0?[]:typeof Z=="function"?Y?[Z.listener||Z]:[Z]:Y?z(Z):D(Z,Z.length)}y.prototype.listeners=function(M){return I(this,M,!0)},y.prototype.rawListeners=function(M){return I(this,M,!1)},y.listenerCount=function($,M){return typeof $.listenerCount=="function"?$.listenerCount(M):N.call($,M)},y.prototype.listenerCount=N;function N($){var M=this._events;if(M!==void 0){var Y=M[$];if(typeof Y=="function")return 1;if(Y!==void 0)return Y.length}return 0}y.prototype.eventNames=function(){return this._eventsCount>0?d(this._events):[]};function D($,M){for(var Y=new Array(M),K=0;K<M;++K)Y[K]=$[K];return Y}function O($,M){for(;M+1<$.length;M++)$[M]=$[M+1];$.pop()}function z($){for(var M=new Array($.length),Y=0;Y<M.length;++Y)M[Y]=$[Y].listener||$[Y];return M}function k($,M){return new Promise(function(Y,K){function Z(ae){$.removeListener(M,ne),K(ae)}function ne(){typeof $.removeListener=="function"&&$.removeListener("error",Z),Y([].slice.call(arguments))}j($,M,ne,{once:!0}),M!=="error"&&W($,Z,{once:!0})})}function W($,M,Y){typeof $.on=="function"&&j($,"error",M,Y)}function j($,M,Y,K){if(typeof $.on=="function")K.once?$.once(M,Y):$.on(M,Y);else if(typeof $.addEventListener=="function")$.addEventListener(M,function Z(ne){K.once&&$.removeEventListener(M,Z),Y(ne)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof $)}},function(n,r,i){var a=i(3),c=i(0),d=0;function m(){return"hole_"+d++}function g(N,D){for(var O=null,z=0;z<N.length;z++){var k=D(N[z]);k!==N[z]&&(O||(O=N.slice()),O[z]=k)}return O||N}function y(N,D,O){if(!(N instanceof a.Node))return N;if(!O){var z=D(N);if(z&&z!==N)return z}if(N instanceof a.NodeList){var k=g(N.children,function(Y){return y(Y,D,O)});k!==N.children&&(N=new a[N.typename](N.lineno,N.colno,k))}else if(N instanceof a.CallExtension){var W=y(N.args,D,O),j=g(N.contentArgs,function(Y){return y(Y,D,O)});(W!==N.args||j!==N.contentArgs)&&(N=new a[N.typename](N.extName,N.prop,W,j))}else{var $=N.fields.map(function(Y){return N[Y]}),M=g($,function(Y){return y(Y,D,O)});M!==$&&(N=new a[N.typename](N.lineno,N.colno),M.forEach(function(Y,K){N[N.fields[K]]=Y}))}return O&&D(N)||N}function b(N,D){return y(N,D,!0)}function C(N,D,O){var z=[],k=b(O?N[O]:N,function(W){var j;return W instanceof a.Block?W:((W instanceof a.Filter&&c.indexOf(D,W.name.value)!==-1||W instanceof a.CallExtensionAsync)&&(j=new a.Symbol(W.lineno,W.colno,m()),z.push(new a.FilterAsync(W.lineno,W.colno,W.name,W.args,j))),j)});return O?N[O]=k:N=k,z.length?(z.push(N),new a.NodeList(N.lineno,N.colno,z)):N}function A(N,D){return b(N,function(O){return O instanceof a.Output?C(O,D):O instanceof a.Set?C(O,D,"value"):O instanceof a.For?C(O,D,"arr"):O instanceof a.If?C(O,D,"cond"):O instanceof a.CallExtension?C(O,D,"args"):void 0})}function P(N){return y(N,function(D){if(D instanceof a.Block){var O=!1,z=m();D.body=y(D.body,function(k){if(k instanceof a.FunCall&&k.name.value==="super")return O=!0,new a.Symbol(k.lineno,k.colno,z)}),O&&D.body.children.unshift(new a.Super(0,0,D.name,new a.Symbol(0,0,z)))}})}function L(N){return b(N,function(D){if(!(!(D instanceof a.If)&&!(D instanceof a.For))){var O=!1;if(y(D,function(z){if(z instanceof a.FilterAsync||z instanceof a.IfAsync||z instanceof a.AsyncEach||z instanceof a.AsyncAll||z instanceof a.CallExtensionAsync)return O=!0,z}),O){if(D instanceof a.If)return new a.IfAsync(D.lineno,D.colno,D.cond,D.body,D.else_);if(D instanceof a.For&&!(D instanceof a.AsyncAll))return new a.AsyncEach(D.lineno,D.colno,D.arr,D.name,D.body,D.else_)}}})}function E(N,D){return L(P(A(N,D)))}function I(N,D){return E(N,D||[])}n.exports={transform:I}},function(n,d,i){var a=i(0),c=i(2),d=n.exports={};function m(oe,ge){return oe==null||oe===!1?ge:oe}d.abs=Math.abs;function g(oe){return oe!==oe}function y(oe,ge,_e){var Ie,Pe=[],We=[];for(Ie=0;Ie<oe.length;Ie++)Ie%ge===0&&We.length&&(Pe.push(We),We=[]),We.push(oe[Ie]);if(We.length){if(_e)for(Ie=We.length;Ie<ge;Ie++)We.push(_e);Pe.push(We)}return Pe}d.batch=y;function b(oe){oe=m(oe,"");var ge=oe.toLowerCase();return c.copySafeness(oe,ge.charAt(0).toUpperCase()+ge.slice(1))}d.capitalize=b;function C(oe,ge){if(oe=m(oe,""),ge=ge||80,oe.length>=ge)return oe;var _e=ge-oe.length,Ie=a.repeat(" ",_e/2-_e%2),Pe=a.repeat(" ",_e/2);return c.copySafeness(oe,Ie+oe+Pe)}d.center=C;function A(oe,ge,_e){return _e?oe||ge:oe!==void 0?oe:ge}d.default=A;function P(oe,ge,_e){if(!a.isObject(oe))throw new a.TemplateError("dictsort filter: val must be an object");var Ie=[];for(var Pe in oe)Ie.push([Pe,oe[Pe]]);var We;if(_e===void 0||_e==="key")We=0;else if(_e==="value")We=1;else throw new a.TemplateError("dictsort filter: You can only sort by either key or value");return Ie.sort(function(pt,Qe){var At=pt[We],bn=Qe[We];return ge||(a.isString(At)&&(At=At.toUpperCase()),a.isString(bn)&&(bn=bn.toUpperCase())),At>bn?1:At===bn?0:-1}),Ie}d.dictsort=P;function L(oe,ge){return JSON.stringify(oe,null,ge)}d.dump=L;function E(oe){return oe instanceof c.SafeString?oe:(oe=oe==null?"":oe,c.markSafe(a.escape(oe.toString())))}d.escape=E;function I(oe){return oe instanceof c.SafeString?oe:(oe=oe==null?"":oe,c.markSafe(oe.toString()))}d.safe=I;function N(oe){return oe[0]}d.first=N;function D(oe){return oe=oe==null?"":oe,c.markSafe(a.escape(oe.toString()))}d.forceescape=D;function O(oe,ge){return a.groupBy(oe,ge,this.env.opts.throwOnUndefined)}d.groupby=O;function z(oe,ge,_e){if(oe=m(oe,""),oe==="")return"";ge=ge||4;var Ie=oe.split(`
`),Pe=a.repeat(" ",ge),We=Ie.map(function(pt,Qe){return Qe===0&&!_e?pt:""+Pe+pt}).join(`
`);return c.copySafeness(oe,We)}d.indent=z;function k(oe,ge,_e){return ge=ge||"",_e&&(oe=a.map(oe,function(Ie){return Ie[_e]})),oe.join(ge)}d.join=k;function W(oe){return oe[oe.length-1]}d.last=W;function j(oe){var ge=m(oe,"");return ge!==void 0?typeof Map=="function"&&ge instanceof Map||typeof Set=="function"&&ge instanceof Set?ge.size:a.isObject(ge)&&!(ge instanceof c.SafeString)?a.keys(ge).length:ge.length:0}d.length=j;function $(oe){if(a.isString(oe))return oe.split("");if(a.isObject(oe))return a._entries(oe||{}).map(function(ge){var _e=ge[0],Ie=ge[1];return{key:_e,value:Ie}});if(a.isArray(oe))return oe;throw new a.TemplateError("list filter: type not iterable")}d.list=$;function M(oe){return oe=m(oe,""),oe.toLowerCase()}d.lower=M;function Y(oe){return oe==null?"":c.copySafeness(oe,oe.replace(/\r\n|\n/g,`<br />
`))}d.nl2br=Y;function K(oe){return oe[Math.floor(Math.random()*oe.length)]}d.random=K;function Z(oe){function ge(_e,Ie,Pe){Ie===void 0&&(Ie="truthy");var We=this,pt=We.env.getTest(Ie);return a.toArray(_e).filter(function(At){return pt.call(We,At,Pe)===oe})}return ge}d.reject=Z(!1);function ne(oe,ge){return oe.filter(function(_e){return!_e[ge]})}d.rejectattr=ne,d.select=Z(!0);function ae(oe,ge){return oe.filter(function(_e){return!!_e[ge]})}d.selectattr=ae;function de(oe,ge,_e,Ie){var Pe=oe;if(ge instanceof RegExp)return oe.replace(ge,_e);typeof Ie=="undefined"&&(Ie=-1);var We="";if(typeof ge=="number")ge=""+ge;else if(typeof ge!="string")return oe;if(typeof oe=="number"&&(oe=""+oe),typeof oe!="string"&&!(oe instanceof c.SafeString))return oe;if(ge==="")return We=_e+oe.split("").join(_e)+_e,c.copySafeness(oe,We);var pt=oe.indexOf(ge);if(Ie===0||pt===-1)return oe;for(var Qe=0,At=0;pt>-1&&(Ie===-1||At<Ie);)We+=oe.substring(Qe,pt)+_e,Qe=pt+ge.length,At++,pt=oe.indexOf(ge,Qe);return Qe<oe.length&&(We+=oe.substring(Qe)),c.copySafeness(Pe,We)}d.replace=de;function re(oe){var ge;return a.isString(oe)?ge=$(oe):ge=a.map(oe,function(_e){return _e}),ge.reverse(),a.isString(oe)?c.copySafeness(oe,ge.join("")):ge}d.reverse=re;function J(oe,ge,_e){ge=ge||0;var Ie=Math.pow(10,ge),Pe;return _e==="ceil"?Pe=Math.ceil:_e==="floor"?Pe=Math.floor:Pe=Math.round,Pe(oe*Ie)/Ie}d.round=J;function Q(oe,ge,_e){for(var Ie=Math.floor(oe.length/ge),Pe=oe.length%ge,We=[],pt=0,Qe=0;Qe<ge;Qe++){var At=pt+Qe*Ie;Qe<Pe&&pt++;var bn=pt+(Qe+1)*Ie,yt=oe.slice(At,bn);_e&&Qe>=Pe&&yt.push(_e),We.push(yt)}return We}d.slice=Q;function ue(oe,ge,_e){return _e===void 0&&(_e=0),ge&&(oe=a.map(oe,function(Ie){return Ie[ge]})),_e+oe.reduce(function(Ie,Pe){return Ie+Pe},0)}d.sum=ue,d.sort=c.makeMacro(["value","reverse","case_sensitive","attribute"],[],function(ge,_e,Ie,Pe){var We=this,pt=a.map(ge,function(At){return At}),Qe=a.getAttrGetter(Pe);return pt.sort(function(At,bn){var yt=Pe?Qe(At):At,at=Pe?Qe(bn):bn;if(We.env.opts.throwOnUndefined&&Pe&&(yt===void 0||at===void 0))throw new TypeError('sort: attribute "'+Pe+'" resolved to undefined');return!Ie&&a.isString(yt)&&a.isString(at)&&(yt=yt.toLowerCase(),at=at.toLowerCase()),yt<at?_e?1:-1:yt>at?_e?-1:1:0}),pt});function se(oe){return c.copySafeness(oe,oe)}d.string=se;function he(oe,ge){oe=m(oe,"");var _e=/<\/?([a-z][a-z0-9]*)\b[^>]*>|<!--[\s\S]*?-->/gi,Ie=ze(oe.replace(_e,"")),Pe="";return ge?Pe=Ie.replace(/^ +| +$/gm,"").replace(/ +/g," ").replace(/(\r\n)/g,`
`).replace(/\n\n\n+/g,`

`):Pe=Ie.replace(/\s+/gi," "),c.copySafeness(oe,Pe)}d.striptags=he;function Ce(oe){oe=m(oe,"");var ge=oe.split(" ").map(function(_e){return b(_e)});return c.copySafeness(oe,ge.join(" "))}d.title=Ce;function ze(oe){return c.copySafeness(oe,oe.replace(/^\s*|\s*$/g,""))}d.trim=ze;function pe(oe,ge,_e,Ie){var Pe=oe;if(oe=m(oe,""),ge=ge||255,oe.length<=ge)return oe;if(_e)oe=oe.substring(0,ge);else{var We=oe.lastIndexOf(" ",ge);We===-1&&(We=ge),oe=oe.substring(0,We)}return oe+=Ie!=null?Ie:"...",c.copySafeness(Pe,oe)}d.truncate=pe;function et(oe){return oe=m(oe,""),oe.toUpperCase()}d.upper=et;function Et(oe){var ge=encodeURIComponent;if(a.isString(oe))return ge(oe);var _e=a.isArray(oe)?oe:a._entries(oe);return _e.map(function(Ie){var Pe=Ie[0],We=Ie[1];return ge(Pe)+"="+ge(We)}).join("&")}d.urlencode=Et;var qe=/^(?:\(|<|&lt;)?(.*?)(?:\.|,|\)|\n|&gt;)?$/,Be=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,Ae=/^https?:\/\/.*$/,Ue=/^www\./,ke=/\.(?:org|net|com)(?:\:|\/|$)/;function ht(oe,ge,_e){g(ge)&&(ge=1/0);var Ie=_e===!0?' rel="nofollow"':"",Pe=oe.split(/(\s+)/).filter(function(We){return We&&We.length}).map(function(We){var pt=We.match(qe),Qe=pt?pt[1]:We,At=Qe.substr(0,ge);return Ae.test(Qe)?'<a href="'+Qe+'"'+Ie+">"+At+"</a>":Ue.test(Qe)?'<a href="http://'+Qe+'"'+Ie+">"+At+"</a>":Be.test(Qe)?'<a href="mailto:'+Qe+'">'+Qe+"</a>":ke.test(Qe)?'<a href="http://'+Qe+'"'+Ie+">"+At+"</a>":We});return Pe.join("")}d.urlize=ht;function bt(oe){oe=m(oe,"");var ge=oe?oe.match(/\w+/g):null;return ge?ge.length:null}d.wordcount=bt;function Ct(oe,ge){var _e=parseFloat(oe);return g(_e)?ge:_e}d.float=Ct;var Je=c.makeMacro(["value","default","base"],[],function(ge,_e,Ie){Ie===void 0&&(Ie=10);var Pe=parseInt(ge,Ie);return g(Pe)?_e:Pe});d.int=Je,d.d=d.default,d.e=d.escape},function(n,r,i){function a(g,y){g.prototype=Object.create(y.prototype),g.prototype.constructor=g,c(g,y)}function c(g,y){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,A){return C.__proto__=A,C},c(g,y)}var d=i(6),m=function(g){a(y,g);function y(C){var A;return A=g.call(this)||this,A.precompiled=C||{},A}var b=y.prototype;return b.getSource=function(A){return this.precompiled[A]?{src:{type:"code",obj:this.precompiled[A]},path:A}:null},y}(d);n.exports={PrecompiledLoader:m}},function(n,r,i){var a=i(2).SafeString;function c(K){return typeof K=="function"}r.callable=c;function d(K){return K!==void 0}r.defined=d;function m(K,Z){return K%Z===0}r.divisibleby=m;function g(K){return K instanceof a}r.escaped=g;function y(K,Z){return K===Z}r.equalto=y,r.eq=r.equalto,r.sameas=r.equalto;function b(K){return K%2===0}r.even=b;function C(K){return!K}r.falsy=C;function A(K,Z){return K>=Z}r.ge=A;function P(K,Z){return K>Z}r.greaterthan=P,r.gt=r.greaterthan;function L(K,Z){return K<=Z}r.le=L;function E(K,Z){return K<Z}r.lessthan=E,r.lt=r.lessthan;function I(K){return K.toLowerCase()===K}r.lower=I;function N(K,Z){return K!==Z}r.ne=N;function D(K){return K===null}r.null=D;function O(K){return typeof K=="number"}r.number=O;function z(K){return K%2===1}r.odd=z;function k(K){return typeof K=="string"}r.string=k;function W(K){return!!K}r.truthy=W;function j(K){return K===void 0}r.undefined=j;function $(K){return K.toUpperCase()===K}r.upper=$;function M(K){return typeof Symbol!="undefined"?!!K[Symbol.iterator]:Array.isArray(K)||typeof K=="string"}r.iterable=M;function Y(K){var Z=K!=null&&typeof K=="object"&&!Array.isArray(K);return Set?Z&&!(K instanceof Set):Z}r.mapping=Y},function(n,r,i){function a(m){var g=-1;return{current:null,reset:function(){g=-1,this.current=null},next:function(){return g++,g>=m.length&&(g=0),this.current=m[g],this.current}}}function c(m){m=m||",";var g=!0;return function(){var y=g?"":m;return g=!1,y}}function d(){return{range:function(g,y,b){typeof y=="undefined"?(y=g,g=0,b=1):b||(b=1);var C=[];if(b>0)for(var A=g;A<y;A+=b)C.push(A);else for(var P=g;P>y;P+=b)C.push(P);return C},cycler:function(){return a(Array.prototype.slice.call(arguments))},joiner:function(g){return c(g)}}}n.exports=d},function(n,r,i){var a=i(4);n.exports=function(d,m){function g(y,b){if(this.name=y,this.path=y,this.defaultEngine=b.defaultEngine,this.ext=a.extname(y),!this.ext&&!this.defaultEngine)throw new Error("No default engine was specified and no extension was provided.");this.ext||(this.name+=this.ext=(this.defaultEngine[0]!=="."?".":"")+this.defaultEngine)}return g.prototype.render=function(b,C){d.render(this.name,b,C)},m.set("view",g),m.set("nunjucksEnv",d),d}},function(n,r,i){var a=i(4),c=i(4),d=i(0),m=d._prettifyError,g=i(5),y=i(7),b=y.Environment,C=i(24);function A(I,N){return Array.isArray(N)?N.some(function(D){return I.match(D)}):!1}function P(I,N){N=N||{},N.isString=!0;var D=N.env||new b([]),O=N.wrapper||C;if(!N.name)throw new Error('the "name" option is required when compiling a string');return O([E(I,N.name,D)],N)}function L(I,N){N=N||{};var D=N.env||new b([]),O=N.wrapper||C;if(N.isString)return P(I,N);var z=a.existsSync(I)&&a.statSync(I),k=[],W=[];function j(Y){a.readdirSync(Y).forEach(function(K){var Z=c.join(Y,K),ne=Z.substr(c.join(I,"/").length),ae=a.statSync(Z);ae&&ae.isDirectory()?(ne+="/",A(ne,N.exclude)||j(Z)):A(ne,N.include)&&W.push(Z)})}if(z.isFile())k.push(E(a.readFileSync(I,"utf-8"),N.name||I,D));else if(z.isDirectory()){j(I);for(var $=0;$<W.length;$++){var M=W[$].replace(c.join(I,"/"),"");try{k.push(E(a.readFileSync(W[$],"utf-8"),M,D))}catch(Y){if(N.force)console.error(Y);else throw Y}}}return O(k,N)}function E(I,N,D){D=D||new b([]);var O=D.asyncFilters,z=D.extensionsList,k;N=N.replace(/\\/g,"/");try{k=g.compile(I,O,z,N,D.opts)}catch(W){throw m(N,!1,W)}return{name:N,template:k}}n.exports={precompile:L,precompileString:P}},function(n,r,i){function a(c,d){var m="";d=d||{};for(var g=0;g<c.length;g++){var y=JSON.stringify(c[g].name),b=c[g].template;m+="(function() {(window.nunjucksPrecompiled = window.nunjucksPrecompiled || {})["+y+`] = (function() {
`+b+`
})();
`,d.asFunction&&(m+="return function(ctx, cb) { return nunjucks.render("+y+`, ctx, cb); }
`),m+=`})();
`}return m}n.exports=a},function(n,r,i){function a(){var c=this.runtime,d=this.lib,m=this.compiler.Compiler,g=this.parser.Parser,y=this.nodes,b=this.lexer,C=c.contextOrFrameLookup,A=c.memberLookup,P,L;m&&(P=m.prototype.assertType),g&&(L=g.prototype.parseAggregate);function E(){c.contextOrFrameLookup=C,c.memberLookup=A,m&&(m.prototype.assertType=P),g&&(g.prototype.parseAggregate=L)}c.contextOrFrameLookup=function(j,$,M){var Y=C.apply(this,arguments);if(Y!==void 0)return Y;switch(M){case"True":return!0;case"False":return!1;case"None":return null;default:return}};function I(W){return{index:W.index,lineno:W.lineno,colno:W.colno}}if(y&&m&&g){var N=y.Node.extend("Slice",{fields:["start","stop","step"],init:function(j,$,M,Y,K){M=M||new y.Literal(j,$,null),Y=Y||new y.Literal(j,$,null),K=K||new y.Literal(j,$,1),this.parent(j,$,M,Y,K)}});m.prototype.assertType=function(j){j instanceof N||P.apply(this,arguments)},m.prototype.compileSlice=function(j,$){this._emit("("),this._compileExpression(j.start,$),this._emit("),("),this._compileExpression(j.stop,$),this._emit("),("),this._compileExpression(j.step,$),this._emit(")")},g.prototype.parseAggregate=function(){var j=this,$=I(this.tokens);$.colno--,$.index--;try{return L.apply(this)}catch(re){var M=I(this.tokens),Y=function(){return d._assign(j.tokens,M),re};d._assign(this.tokens,$),this.peeked=!1;var K=this.peekToken();if(K.type!==b.TOKEN_LEFT_BRACKET)throw Y();this.nextToken();for(var Z=new N(K.lineno,K.colno),ne=!1,ae=0;ae<=Z.fields.length&&!this.skip(b.TOKEN_RIGHT_BRACKET);ae++){if(ae===Z.fields.length)if(ne)this.fail("parseSlice: too many slice components",K.lineno,K.colno);else break;if(this.skip(b.TOKEN_COLON))ne=!0;else{var de=Z.fields[ae];Z[de]=this.parseExpression(),ne=this.skip(b.TOKEN_COLON)||ne}}if(!ne)throw Y();return new y.Array(K.lineno,K.colno,[Z])}}}function D(W,j,$,M){W=W||[],j===null&&(j=M<0?W.length-1:0),$===null?$=M<0?-1:W.length:$<0&&($+=W.length),j<0&&(j+=W.length);for(var Y=[],K=j;!(K<0||K>W.length||M>0&&K>=$||M<0&&K<=$);K+=M)Y.push(c.memberLookup(W,K));return Y}function O(W,j){return Object.prototype.hasOwnProperty.call(W,j)}var z={pop:function(j){if(j===void 0)return this.pop();if(j>=this.length||j<0)throw new Error("KeyError");return this.splice(j,1)},append:function(j){return this.push(j)},remove:function(j){for(var $=0;$<this.length;$++)if(this[$]===j)return this.splice($,1);throw new Error("ValueError")},count:function(j){for(var $=0,M=0;M<this.length;M++)this[M]===j&&$++;return $},index:function(j){var $;if(($=this.indexOf(j))===-1)throw new Error("ValueError");return $},find:function(j){return this.indexOf(j)},insert:function(j,$){return this.splice(j,0,$)}},k={items:function(){return d._entries(this)},values:function(){return d._values(this)},keys:function(){return d.keys(this)},get:function(j,$){var M=this[j];return M===void 0&&(M=$),M},has_key:function(j){return O(this,j)},pop:function(j,$){var M=this[j];if(M===void 0&&$!==void 0)M=$;else{if(M===void 0)throw new Error("KeyError");delete this[j]}return M},popitem:function(){var j=d.keys(this);if(!j.length)throw new Error("KeyError");var $=j[0],M=this[$];return delete this[$],[$,M]},setdefault:function(j,$){return $===void 0&&($=null),j in this||(this[j]=$),this[j]},update:function(j){return d._assign(this,j),null}};return k.iteritems=k.items,k.itervalues=k.values,k.iterkeys=k.keys,c.memberLookup=function(j,$,M){return arguments.length===4?D.apply(this,arguments):(j=j||{},d.isArray(j)&&O(z,$)?z[$].bind(j):d.isObject(j)&&O(k,$)?k[$].bind(j):A.apply(this,arguments))},E}n.exports=a}])})})(dT);var bp=fT(dT.exports),X={exports:{}},zt={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var eI=Object.getOwnPropertySymbols,qM=Object.prototype.hasOwnProperty,jM=Object.prototype.propertyIsEnumerable;function KM(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function VM(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(a){return t[a]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var hT=VM()?Object.assign:function(e,t){for(var n,r=KM(e),i,a=1;a<arguments.length;a++){n=Object(arguments[a]);for(var c in n)qM.call(n,c)&&(r[c]=n[c]);if(eI){i=eI(n);for(var d=0;d<i.length;d++)jM.call(n,i[d])&&(r[i[d]]=n[i[d]])}}return r};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rb=hT,Ec=60103,pT=60106;zt.Fragment=60107;zt.StrictMode=60108;zt.Profiler=60114;var mT=60109,gT=60110,vT=60112;zt.Suspense=60113;var yT=60115,wT=60116;if(typeof Symbol=="function"&&Symbol.for){var Qi=Symbol.for;Ec=Qi("react.element"),pT=Qi("react.portal"),zt.Fragment=Qi("react.fragment"),zt.StrictMode=Qi("react.strict_mode"),zt.Profiler=Qi("react.profiler"),mT=Qi("react.provider"),gT=Qi("react.context"),vT=Qi("react.forward_ref"),zt.Suspense=Qi("react.suspense"),yT=Qi("react.memo"),wT=Qi("react.lazy")}var tI=typeof Symbol=="function"&&Symbol.iterator;function GM(e){return e===null||typeof e!="object"?null:(e=tI&&e[tI]||e["@@iterator"],typeof e=="function"?e:null)}function Vd(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ST={};function Cc(e,t,n){this.props=e,this.context=t,this.refs=ST,this.updater=n||bT}Cc.prototype.isReactComponent={};Cc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(Vd(85));this.updater.enqueueSetState(this,e,t,"setState")};Cc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ET(){}ET.prototype=Cc.prototype;function kb(e,t,n){this.props=e,this.context=t,this.refs=ST,this.updater=n||bT}var Pb=kb.prototype=new ET;Pb.constructor=kb;Rb(Pb,Cc.prototype);Pb.isPureReactComponent=!0;var Db={current:null},CT=Object.prototype.hasOwnProperty,IT={key:!0,ref:!0,__self:!0,__source:!0};function NT(e,t,n){var r,i={},a=null,c=null;if(t!=null)for(r in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(a=""+t.key),t)CT.call(t,r)&&!IT.hasOwnProperty(r)&&(i[r]=t[r]);var d=arguments.length-2;if(d===1)i.children=n;else if(1<d){for(var m=Array(d),g=0;g<d;g++)m[g]=arguments[g+2];i.children=m}if(e&&e.defaultProps)for(r in d=e.defaultProps,d)i[r]===void 0&&(i[r]=d[r]);return{$$typeof:Ec,type:e,key:a,ref:c,props:i,_owner:Db.current}}function HM(e,t){return{$$typeof:Ec,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Lb(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ec}function YM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var nI=/\/+/g;function oy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?YM(""+e.key):t.toString(36)}function Sp(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case Ec:case pT:c=!0}}if(c)return c=e,i=i(c),e=r===""?"."+oy(c,0):r,Array.isArray(i)?(n="",e!=null&&(n=e.replace(nI,"$&/")+"/"),Sp(i,t,n,"",function(g){return g})):i!=null&&(Lb(i)&&(i=HM(i,n+(!i.key||c&&c.key===i.key?"":(""+i.key).replace(nI,"$&/")+"/")+e)),t.push(i)),1;if(c=0,r=r===""?".":r+":",Array.isArray(e))for(var d=0;d<e.length;d++){a=e[d];var m=r+oy(a,d);c+=Sp(a,t,n,m,i)}else if(m=GM(e),typeof m=="function")for(e=m.call(e),d=0;!(a=e.next()).done;)a=a.value,m=r+oy(a,d++),c+=Sp(a,t,n,m,i);else if(a==="object")throw t=""+e,Error(Vd(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return c}function Xh(e,t,n){if(e==null)return e;var r=[],i=0;return Sp(e,r,"","",function(a){return t.call(n,a,i++)}),r}function JM(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(n){e._status===0&&(n=n.default,e._status=1,e._result=n)},function(n){e._status===0&&(e._status=2,e._result=n)})}if(e._status===1)return e._result;throw e._result}var xT={current:null};function ca(){var e=xT.current;if(e===null)throw Error(Vd(321));return e}var QM={ReactCurrentDispatcher:xT,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Db,IsSomeRendererActing:{current:!1},assign:Rb};zt.Children={map:Xh,forEach:function(e,t,n){Xh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xh(e,function(){t++}),t},toArray:function(e){return Xh(e,function(t){return t})||[]},only:function(e){if(!Lb(e))throw Error(Vd(143));return e}};zt.Component=Cc;zt.PureComponent=kb;zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QM;zt.cloneElement=function(e,t,n){if(e==null)throw Error(Vd(267,e));var r=Rb({},e.props),i=e.key,a=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,c=Db.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var d=e.type.defaultProps;for(m in t)CT.call(t,m)&&!IT.hasOwnProperty(m)&&(r[m]=t[m]===void 0&&d!==void 0?d[m]:t[m])}var m=arguments.length-2;if(m===1)r.children=n;else if(1<m){d=Array(m);for(var g=0;g<m;g++)d[g]=arguments[g+2];r.children=d}return{$$typeof:Ec,type:e.type,key:i,ref:a,props:r,_owner:c}};zt.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:gT,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:mT,_context:e},e.Consumer=e};zt.createElement=NT;zt.createFactory=function(e){var t=NT.bind(null,e);return t.type=e,t};zt.createRef=function(){return{current:null}};zt.forwardRef=function(e){return{$$typeof:vT,render:e}};zt.isValidElement=Lb;zt.lazy=function(e){return{$$typeof:wT,_payload:{_status:-1,_result:e},_init:JM}};zt.memo=function(e,t){return{$$typeof:yT,type:e,compare:t===void 0?null:t}};zt.useCallback=function(e,t){return ca().useCallback(e,t)};zt.useContext=function(e,t){return ca().useContext(e,t)};zt.useDebugValue=function(){};zt.useEffect=function(e,t){return ca().useEffect(e,t)};zt.useImperativeHandle=function(e,t,n){return ca().useImperativeHandle(e,t,n)};zt.useLayoutEffect=function(e,t){return ca().useLayoutEffect(e,t)};zt.useMemo=function(e,t){return ca().useMemo(e,t)};zt.useReducer=function(e,t,n){return ca().useReducer(e,t,n)};zt.useRef=function(e){return ca().useRef(e)};zt.useState=function(e){return ca().useState(e)};zt.version="17.0.2";X.exports=zt;var Zr=X.exports,zb=cT({__proto__:null,default:Zr},[X.exports]),Gd={exports:{}},zi={},TT={exports:{}},_T={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){var t,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var m=null,g=null,y=function(){if(m!==null)try{var se=e.unstable_now();m(!0,se),m=null}catch(he){throw setTimeout(y,0),he}};t=function(se){m!==null?setTimeout(t,0,se):(m=se,setTimeout(y,0))},n=function(se,he){g=setTimeout(se,he)},r=function(){clearTimeout(g)},e.unstable_shouldYield=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var b=window.setTimeout,C=window.clearTimeout;if(typeof console!="undefined"){var A=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof A!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var P=!1,L=null,E=-1,I=5,N=0;e.unstable_shouldYield=function(){return e.unstable_now()>=N},i=function(){},e.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<se?Math.floor(1e3/se):5};var D=new MessageChannel,O=D.port2;D.port1.onmessage=function(){if(L!==null){var se=e.unstable_now();N=se+I;try{L(!0,se)?O.postMessage(null):(P=!1,L=null)}catch(he){throw O.postMessage(null),he}}else P=!1},t=function(se){L=se,P||(P=!0,O.postMessage(null))},n=function(se,he){E=b(function(){se(e.unstable_now())},he)},r=function(){C(E),E=-1}}function z(se,he){var Ce=se.length;se.push(he);e:for(;;){var ze=Ce-1>>>1,pe=se[ze];if(pe!==void 0&&0<j(pe,he))se[ze]=he,se[Ce]=pe,Ce=ze;else break e}}function k(se){return se=se[0],se===void 0?null:se}function W(se){var he=se[0];if(he!==void 0){var Ce=se.pop();if(Ce!==he){se[0]=Ce;e:for(var ze=0,pe=se.length;ze<pe;){var et=2*(ze+1)-1,Et=se[et],qe=et+1,Be=se[qe];if(Et!==void 0&&0>j(Et,Ce))Be!==void 0&&0>j(Be,Et)?(se[ze]=Be,se[qe]=Ce,ze=qe):(se[ze]=Et,se[et]=Ce,ze=et);else if(Be!==void 0&&0>j(Be,Ce))se[ze]=Be,se[qe]=Ce,ze=qe;else break e}}return he}return null}function j(se,he){var Ce=se.sortIndex-he.sortIndex;return Ce!==0?Ce:se.id-he.id}var $=[],M=[],Y=1,K=null,Z=3,ne=!1,ae=!1,de=!1;function re(se){for(var he=k(M);he!==null;){if(he.callback===null)W(M);else if(he.startTime<=se)W(M),he.sortIndex=he.expirationTime,z($,he);else break;he=k(M)}}function J(se){if(de=!1,re(se),!ae)if(k($)!==null)ae=!0,t(Q);else{var he=k(M);he!==null&&n(J,he.startTime-se)}}function Q(se,he){ae=!1,de&&(de=!1,r()),ne=!0;var Ce=Z;try{for(re(he),K=k($);K!==null&&(!(K.expirationTime>he)||se&&!e.unstable_shouldYield());){var ze=K.callback;if(typeof ze=="function"){K.callback=null,Z=K.priorityLevel;var pe=ze(K.expirationTime<=he);he=e.unstable_now(),typeof pe=="function"?K.callback=pe:K===k($)&&W($),re(he)}else W($);K=k($)}if(K!==null)var et=!0;else{var Et=k(M);Et!==null&&n(J,Et.startTime-he),et=!1}return et}finally{K=null,Z=Ce,ne=!1}}var ue=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(se){se.callback=null},e.unstable_continueExecution=function(){ae||ne||(ae=!0,t(Q))},e.unstable_getCurrentPriorityLevel=function(){return Z},e.unstable_getFirstCallbackNode=function(){return k($)},e.unstable_next=function(se){switch(Z){case 1:case 2:case 3:var he=3;break;default:he=Z}var Ce=Z;Z=he;try{return se()}finally{Z=Ce}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=ue,e.unstable_runWithPriority=function(se,he){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var Ce=Z;Z=se;try{return he()}finally{Z=Ce}},e.unstable_scheduleCallback=function(se,he,Ce){var ze=e.unstable_now();switch(typeof Ce=="object"&&Ce!==null?(Ce=Ce.delay,Ce=typeof Ce=="number"&&0<Ce?ze+Ce:ze):Ce=ze,se){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=Ce+pe,se={id:Y++,callback:he,priorityLevel:se,startTime:Ce,expirationTime:pe,sortIndex:-1},Ce>ze?(se.sortIndex=Ce,z(M,se),k($)===null&&se===k(M)&&(de?r():de=!0,n(J,Ce-ze))):(se.sortIndex=pe,z($,se),ae||ne||(ae=!0,t(Q))),se},e.unstable_wrapCallback=function(se){var he=Z;return function(){var Ce=Z;Z=he;try{return se.apply(this,arguments)}finally{Z=Ce}}}})(_T);TT.exports=_T;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm=X.exports,on=hT,Bn=TT.exports;function Te(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Vm)throw Error(Te(227));var OT=new Set,pd={};function Pl(e,t){tc(e,t),tc(e+"Capture",t)}function tc(e,t){for(pd[e]=t,e=0;e<t.length;e++)OT.add(t[e])}var ua=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),XM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rI=Object.prototype.hasOwnProperty,iI={},oI={};function ZM(e){return rI.call(oI,e)?!0:rI.call(iI,e)?!1:XM.test(e)?oI[e]=!0:(iI[e]=!0,!1)}function eB(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tB(e,t,n,r){if(t===null||typeof t=="undefined"||eB(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Sr(e,t,n,r,i,a,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=c}var Jn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Jn[e]=new Sr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Jn[t]=new Sr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Jn[e]=new Sr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Jn[e]=new Sr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Jn[e]=new Sr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Jn[e]=new Sr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Jn[e]=new Sr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Jn[e]=new Sr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Jn[e]=new Sr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Mb=/[\-:]([a-z])/g;function Bb(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Mb,Bb);Jn[t]=new Sr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Mb,Bb);Jn[t]=new Sr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Mb,Bb);Jn[t]=new Sr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Jn[e]=new Sr(e,1,!1,e.toLowerCase(),null,!1,!1)});Jn.xlinkHref=new Sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Jn[e]=new Sr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fb(e,t,n,r){var i=Jn.hasOwnProperty(t)?Jn[t]:null,a=i!==null?i.type===0:r?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");a||(tB(t,n,i,r)&&(n=null),r||i===null?ZM(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Dl=Vm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Uf=60103,pl=60106,Ka=60107,Ub=60108,Gf=60114,Wb=60109,$b=60110,Gm=60112,Hf=60113,$p=60120,Hm=60115,qb=60116,jb=60121,Kb=60128,AT=60129,Vb=60130,sw=60131;if(typeof Symbol=="function"&&Symbol.for){var Pn=Symbol.for;Uf=Pn("react.element"),pl=Pn("react.portal"),Ka=Pn("react.fragment"),Ub=Pn("react.strict_mode"),Gf=Pn("react.profiler"),Wb=Pn("react.provider"),$b=Pn("react.context"),Gm=Pn("react.forward_ref"),Hf=Pn("react.suspense"),$p=Pn("react.suspense_list"),Hm=Pn("react.memo"),qb=Pn("react.lazy"),jb=Pn("react.block"),Pn("react.scope"),Kb=Pn("react.opaque.id"),AT=Pn("react.debug_trace_mode"),Vb=Pn("react.offscreen"),sw=Pn("react.legacy_hidden")}var aI=typeof Symbol=="function"&&Symbol.iterator;function Cf(e){return e===null||typeof e!="object"?null:(e=aI&&e[aI]||e["@@iterator"],typeof e=="function"?e:null)}var ay;function Wf(e){if(ay===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ay=t&&t[1]||""}return`
`+ay+e}var sy=!1;function Zh(e,t){if(!e||sy)return"";sy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var r=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){r=m}e.call(t.prototype)}else{try{throw Error()}catch(m){r=m}e()}}catch(m){if(m&&r&&typeof m.stack=="string"){for(var i=m.stack.split(`
`),a=r.stack.split(`
`),c=i.length-1,d=a.length-1;1<=c&&0<=d&&i[c]!==a[d];)d--;for(;1<=c&&0<=d;c--,d--)if(i[c]!==a[d]){if(c!==1||d!==1)do if(c--,d--,0>d||i[c]!==a[d])return`
`+i[c].replace(" at new "," at ");while(1<=c&&0<=d);break}}}finally{sy=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Wf(e):""}function nB(e){switch(e.tag){case 5:return Wf(e.type);case 16:return Wf("Lazy");case 13:return Wf("Suspense");case 19:return Wf("SuspenseList");case 0:case 2:case 15:return e=Zh(e.type,!1),e;case 11:return e=Zh(e.type.render,!1),e;case 22:return e=Zh(e.type._render,!1),e;case 1:return e=Zh(e.type,!0),e;default:return""}}function $u(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ka:return"Fragment";case pl:return"Portal";case Gf:return"Profiler";case Ub:return"StrictMode";case Hf:return"Suspense";case $p:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $b:return(e.displayName||"Context")+".Consumer";case Wb:return(e._context.displayName||"Context")+".Provider";case Gm:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case Hm:return $u(e.type);case jb:return $u(e._render);case qb:t=e._payload,e=e._init;try{return $u(e(t))}catch{}}return null}function hs(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function RT(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rB(e){var t=RT(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(c){r=""+c,a.call(this,c)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ep(e){e._valueTracker||(e._valueTracker=rB(e))}function kT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=RT(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function qp(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch{return e.body}}function lw(e,t){var n=t.checked;return on({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function sI(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=hs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function PT(e,t){t=t.checked,t!=null&&Fb(e,"checked",t,!1)}function uw(e,t){PT(e,t);var n=hs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?cw(e,t.type,n):t.hasOwnProperty("defaultValue")&&cw(e,t.type,hs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function lI(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function cw(e,t,n){(t!=="number"||qp(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function iB(e){var t="";return Vm.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function fw(e,t){return e=on({children:void 0},t),(t=iB(t.children))&&(e.children=t),e}function qu(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+hs(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function dw(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Te(91));return on({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function uI(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Te(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(Te(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:hs(n)}}function DT(e,t){var n=hs(t.value),r=hs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function cI(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var hw={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function LT(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pw(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?LT(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var tp,zT=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!==hw.svg||"innerHTML"in e)e.innerHTML=t;else{for(tp=tp||document.createElement("div"),tp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=tp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function md(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Yf={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oB=["Webkit","ms","Moz","O"];Object.keys(Yf).forEach(function(e){oB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Yf[t]=Yf[e]})});function MT(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Yf.hasOwnProperty(e)&&Yf[e]?(""+t).trim():t+"px"}function BT(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=MT(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var aB=on({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mw(e,t){if(t){if(aB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Te(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Te(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(Te(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Te(62))}}function gw(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Gb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vw=null,ju=null,Ku=null;function fI(e){if(e=Yd(e)){if(typeof vw!="function")throw Error(Te(280));var t=e.stateNode;t&&(t=eg(t),vw(e.stateNode,e.type,t))}}function FT(e){ju?Ku?Ku.push(e):Ku=[e]:ju=e}function UT(){if(ju){var e=ju,t=Ku;if(Ku=ju=null,fI(e),t)for(e=0;e<t.length;e++)fI(t[e])}}function Hb(e,t){return e(t)}function WT(e,t,n,r,i){return e(t,n,r,i)}function Yb(){}var $T=Hb,ml=!1,ly=!1;function Jb(){(ju!==null||Ku!==null)&&(Yb(),UT())}function sB(e,t,n){if(ly)return e(t,n);ly=!0;try{return $T(e,t,n)}finally{ly=!1,Jb()}}function gd(e,t){var n=e.stateNode;if(n===null)return null;var r=eg(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Te(231,t,typeof n));return n}var yw=!1;if(ua)try{var If={};Object.defineProperty(If,"passive",{get:function(){yw=!0}}),window.addEventListener("test",If,If),window.removeEventListener("test",If,If)}catch{yw=!1}function lB(e,t,n,r,i,a,c,d,m){var g=Array.prototype.slice.call(arguments,3);try{t.apply(n,g)}catch(y){this.onError(y)}}var Jf=!1,jp=null,Kp=!1,ww=null,uB={onError:function(e){Jf=!0,jp=e}};function cB(e,t,n,r,i,a,c,d,m){Jf=!1,jp=null,lB.apply(uB,arguments)}function fB(e,t,n,r,i,a,c,d,m){if(cB.apply(this,arguments),Jf){if(Jf){var g=jp;Jf=!1,jp=null}else throw Error(Te(198));Kp||(Kp=!0,ww=g)}}function Ll(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&1026)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function qT(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dI(e){if(Ll(e)!==e)throw Error(Te(188))}function dB(e){var t=e.alternate;if(!t){if(t=Ll(e),t===null)throw Error(Te(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return dI(i),e;if(a===r)return dI(i),t;a=a.sibling}throw Error(Te(188))}if(n.return!==r.return)n=i,r=a;else{for(var c=!1,d=i.child;d;){if(d===n){c=!0,n=i,r=a;break}if(d===r){c=!0,r=i,n=a;break}d=d.sibling}if(!c){for(d=a.child;d;){if(d===n){c=!0,n=a,r=i;break}if(d===r){c=!0,r=a,n=i;break}d=d.sibling}if(!c)throw Error(Te(189))}}if(n.alternate!==r)throw Error(Te(190))}if(n.tag!==3)throw Error(Te(188));return n.stateNode.current===n?e:t}function jT(e){if(e=dB(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function hI(e,t){for(var n=e.alternate;t!==null;){if(t===e||t===n)return!0;t=t.return}return!1}var KT,Qb,VT,GT,bw=!1,Oo=[],es=null,ts=null,ns=null,vd=new Map,yd=new Map,Nf=[],pI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sw(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function mI(e,t){switch(e){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":vd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yd.delete(t.pointerId)}}function xf(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e=Sw(t,n,r,i,a),t!==null&&(t=Yd(t),t!==null&&Qb(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function hB(e,t,n,r,i){switch(t){case"focusin":return es=xf(es,e,t,n,r,i),!0;case"dragenter":return ts=xf(ts,e,t,n,r,i),!0;case"mouseover":return ns=xf(ns,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return vd.set(a,xf(vd.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,yd.set(a,xf(yd.get(a)||null,e,t,n,r,i)),!0}return!1}function pB(e){var t=gl(e.target);if(t!==null){var n=Ll(t);if(n!==null){if(t=n.tag,t===13){if(t=qT(n),t!==null){e.blockedOn=t,GT(e.lanePriority,function(){Bn.unstable_runWithPriority(e.priority,function(){VT(n)})});return}}else if(t===3&&n.stateNode.hydrate){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ep(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=t0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null)return t=Yd(n),t!==null&&Qb(t),e.blockedOn=n,!1;t.shift()}return!0}function gI(e,t,n){Ep(e)&&n.delete(t)}function mB(){for(bw=!1;0<Oo.length;){var e=Oo[0];if(e.blockedOn!==null){e=Yd(e.blockedOn),e!==null&&KT(e);break}for(var t=e.targetContainers;0<t.length;){var n=t0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null){e.blockedOn=n;break}t.shift()}e.blockedOn===null&&Oo.shift()}es!==null&&Ep(es)&&(es=null),ts!==null&&Ep(ts)&&(ts=null),ns!==null&&Ep(ns)&&(ns=null),vd.forEach(gI),yd.forEach(gI)}function Tf(e,t){e.blockedOn===t&&(e.blockedOn=null,bw||(bw=!0,Bn.unstable_scheduleCallback(Bn.unstable_NormalPriority,mB)))}function HT(e){function t(i){return Tf(i,e)}if(0<Oo.length){Tf(Oo[0],e);for(var n=1;n<Oo.length;n++){var r=Oo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(es!==null&&Tf(es,e),ts!==null&&Tf(ts,e),ns!==null&&Tf(ns,e),vd.forEach(t),yd.forEach(t),n=0;n<Nf.length;n++)r=Nf[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Nf.length&&(n=Nf[0],n.blockedOn===null);)pB(n),n.blockedOn===null&&Nf.shift()}function np(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ru={animationend:np("Animation","AnimationEnd"),animationiteration:np("Animation","AnimationIteration"),animationstart:np("Animation","AnimationStart"),transitionend:np("Transition","TransitionEnd")},uy={},YT={};ua&&(YT=document.createElement("div").style,"AnimationEvent"in window||(delete Ru.animationend.animation,delete Ru.animationiteration.animation,delete Ru.animationstart.animation),"TransitionEvent"in window||delete Ru.transitionend.transition);function Ym(e){if(uy[e])return uy[e];if(!Ru[e])return e;var t=Ru[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in YT)return uy[e]=t[n];return e}var JT=Ym("animationend"),QT=Ym("animationiteration"),XT=Ym("animationstart"),ZT=Ym("transitionend"),e_=new Map,Xb=new Map,gB=["abort","abort",JT,"animationEnd",QT,"animationIteration",XT,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",ZT,"transitionEnd","waiting","waiting"];function Zb(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Xb.set(r,t),e_.set(r,i),Pl(i,[r])}}var vB=Bn.unstable_now;vB();var en=8;function Ou(e){if((1&e)!==0)return en=15,1;if((2&e)!==0)return en=14,2;if((4&e)!==0)return en=13,4;var t=24&e;return t!==0?(en=12,t):(e&32)!==0?(en=11,32):(t=192&e,t!==0?(en=10,t):(e&256)!==0?(en=9,256):(t=3584&e,t!==0?(en=8,t):(e&4096)!==0?(en=7,4096):(t=4186112&e,t!==0?(en=6,t):(t=62914560&e,t!==0?(en=5,t):e&67108864?(en=4,67108864):(e&134217728)!==0?(en=3,134217728):(t=805306368&e,t!==0?(en=2,t):(1073741824&e)!==0?(en=1,1073741824):(en=8,e))))))}function yB(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function wB(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Te(358,e))}}function wd(e,t){var n=e.pendingLanes;if(n===0)return en=0;var r=0,i=0,a=e.expiredLanes,c=e.suspendedLanes,d=e.pingedLanes;if(a!==0)r=a,i=en=15;else if(a=n&134217727,a!==0){var m=a&~c;m!==0?(r=Ou(m),i=en):(d&=a,d!==0&&(r=Ou(d),i=en))}else a=n&~c,a!==0?(r=Ou(a),i=en):d!==0&&(r=Ou(d),i=en);if(r===0)return 0;if(r=31-ps(r),r=n&((0>r?0:1<<r)<<1)-1,t!==0&&t!==r&&(t&c)===0){if(Ou(t),i<=en)return t;en=i}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ps(t),i=1<<n,r|=e[n],t&=~i;return r}function t_(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Vp(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=Au(24&~t),e===0?Vp(10,t):e;case 10:return e=Au(192&~t),e===0?Vp(8,t):e;case 8:return e=Au(3584&~t),e===0&&(e=Au(4186112&~t),e===0&&(e=512)),e;case 2:return t=Au(805306368&~t),t===0&&(t=268435456),t}throw Error(Te(358,e))}function Au(e){return e&-e}function cy(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Jm(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,e=e.eventTimes,t=31-ps(t),e[t]=n}var ps=Math.clz32?Math.clz32:EB,bB=Math.log,SB=Math.LN2;function EB(e){return e===0?32:31-(bB(e)/SB|0)|0}var CB=Bn.unstable_UserBlockingPriority,IB=Bn.unstable_runWithPriority,Cp=!0;function NB(e,t,n,r){ml||Yb();var i=e0,a=ml;ml=!0;try{WT(i,e,t,n,r)}finally{(ml=a)||Jb()}}function xB(e,t,n,r){IB(CB,e0.bind(null,e,t,n,r))}function e0(e,t,n,r){if(Cp){var i;if((i=(t&4)===0)&&0<Oo.length&&-1<pI.indexOf(e))e=Sw(null,e,t,n,r),Oo.push(e);else{var a=t0(e,t,n,r);if(a===null)i&&mI(e,r);else{if(i){if(-1<pI.indexOf(e)){e=Sw(a,e,t,n,r),Oo.push(e);return}if(hB(a,e,t,n,r))return;mI(e,r)}p_(e,t,r,null,n)}}}}function t0(e,t,n,r){var i=Gb(r);if(i=gl(i),i!==null){var a=Ll(i);if(a===null)i=null;else{var c=a.tag;if(c===13){if(i=qT(a),i!==null)return i;i=null}else if(c===3){if(a.stateNode.hydrate)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return p_(e,t,r,i,n),null}var Ga=null,n0=null,Ip=null;function n_(){if(Ip)return Ip;var e,t=n0,n=t.length,r,i="value"in Ga?Ga.value:Ga.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var c=n-e;for(r=1;r<=c&&t[n-r]===i[a-r];r++);return Ip=i.slice(e,1<r?1-r:void 0)}function Np(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rp(){return!0}function vI(){return!1}function li(e){function t(n,r,i,a,c){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=c,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(n=e[d],this[d]=n?n(a):a[d]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?rp:vI,this.isPropagationStopped=vI,this}return on(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rp)},persist:function(){},isPersistent:rp}),t}var Ic={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},r0=li(Ic),Hd=on({},Ic,{view:0,detail:0}),TB=li(Hd),fy,dy,_f,Qm=on({},Hd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:i0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_f&&(_f&&e.type==="mousemove"?(fy=e.screenX-_f.screenX,dy=e.screenY-_f.screenY):dy=fy=0,_f=e),fy)},movementY:function(e){return"movementY"in e?e.movementY:dy}}),yI=li(Qm),_B=on({},Qm,{dataTransfer:0}),OB=li(_B),AB=on({},Hd,{relatedTarget:0}),hy=li(AB),RB=on({},Ic,{animationName:0,elapsedTime:0,pseudoElement:0}),kB=li(RB),PB=on({},Ic,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),DB=li(PB),LB=on({},Ic,{data:0}),wI=li(LB),zB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FB(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=BB[e])?!!t[e]:!1}function i0(){return FB}var UB=on({},Hd,{key:function(e){if(e.key){var t=zB[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Np(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?MB[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:i0,charCode:function(e){return e.type==="keypress"?Np(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Np(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),WB=li(UB),$B=on({},Qm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bI=li($B),qB=on({},Hd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:i0}),jB=li(qB),KB=on({},Ic,{propertyName:0,elapsedTime:0,pseudoElement:0}),VB=li(KB),GB=on({},Qm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),HB=li(GB),YB=[9,13,27,32],o0=ua&&"CompositionEvent"in window,Qf=null;ua&&"documentMode"in document&&(Qf=document.documentMode);var JB=ua&&"TextEvent"in window&&!Qf,r_=ua&&(!o0||Qf&&8<Qf&&11>=Qf),SI=String.fromCharCode(32),EI=!1;function i_(e,t){switch(e){case"keyup":return YB.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function o_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ku=!1;function QB(e,t){switch(e){case"compositionend":return o_(t);case"keypress":return t.which!==32?null:(EI=!0,SI);case"textInput":return e=t.data,e===SI&&EI?null:e;default:return null}}function XB(e,t){if(ku)return e==="compositionend"||!o0&&i_(e,t)?(e=n_(),Ip=n0=Ga=null,ku=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return r_&&t.locale!=="ko"?null:t.data;default:return null}}var ZB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ZB[e.type]:t==="textarea"}function a_(e,t,n,r){FT(r),t=Gp(t,"onChange"),0<t.length&&(n=new r0("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xf=null,bd=null;function eF(e){f_(e,0)}function Xm(e){var t=Du(e);if(kT(t))return e}function tF(e,t){if(e==="change")return t}var s_=!1;if(ua){var py;if(ua){var my="oninput"in document;if(!my){var II=document.createElement("div");II.setAttribute("oninput","return;"),my=typeof II.oninput=="function"}py=my}else py=!1;s_=py&&(!document.documentMode||9<document.documentMode)}function NI(){Xf&&(Xf.detachEvent("onpropertychange",l_),bd=Xf=null)}function l_(e){if(e.propertyName==="value"&&Xm(bd)){var t=[];if(a_(t,bd,e,Gb(e)),e=eF,ml)e(t);else{ml=!0;try{Hb(e,t)}finally{ml=!1,Jb()}}}}function nF(e,t,n){e==="focusin"?(NI(),Xf=t,bd=n,Xf.attachEvent("onpropertychange",l_)):e==="focusout"&&NI()}function rF(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xm(bd)}function iF(e,t){if(e==="click")return Xm(t)}function oF(e,t){if(e==="input"||e==="change")return Xm(t)}function aF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ii=typeof Object.is=="function"?Object.is:aF,sF=Object.prototype.hasOwnProperty;function Sd(e,t){if(Ii(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!sF.call(t,n[r])||!Ii(e[n[r]],t[n[r]]))return!1;return!0}function xI(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function TI(e,t){var n=xI(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xI(n)}}function u_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?u_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _I(){for(var e=window,t=qp();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=qp(e.document)}return t}function Ew(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var lF=ua&&"documentMode"in document&&11>=document.documentMode,Pu=null,Cw=null,Zf=null,Iw=!1;function OI(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Iw||Pu==null||Pu!==qp(r)||(r=Pu,"selectionStart"in r&&Ew(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zf&&Sd(Zf,r)||(Zf=r,r=Gp(Cw,"onSelect"),0<r.length&&(t=new r0("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Pu)))}Zb("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Zb("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Zb(gB,2);for(var AI="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),gy=0;gy<AI.length;gy++)Xb.set(AI[gy],0);tc("onMouseEnter",["mouseout","mouseover"]);tc("onMouseLeave",["mouseout","mouseover"]);tc("onPointerEnter",["pointerout","pointerover"]);tc("onPointerLeave",["pointerout","pointerover"]);Pl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $f="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c_=new Set("cancel close invalid load scroll toggle".split(" ").concat($f));function RI(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,fB(r,t,void 0,e),e.currentTarget=null}function f_(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var c=r.length-1;0<=c;c--){var d=r[c],m=d.instance,g=d.currentTarget;if(d=d.listener,m!==a&&i.isPropagationStopped())break e;RI(i,d,g),a=m}else for(c=0;c<r.length;c++){if(d=r[c],m=d.instance,g=d.currentTarget,d=d.listener,m!==a&&i.isPropagationStopped())break e;RI(i,d,g),a=m}}}if(Kp)throw e=ww,Kp=!1,ww=null,e}function tn(e,t){var n=g_(t),r=e+"__bubble";n.has(r)||(h_(t,e,2,!1),n.add(r))}var kI="_reactListening"+Math.random().toString(36).slice(2);function d_(e){e[kI]||(e[kI]=!0,OT.forEach(function(t){c_.has(t)||PI(t,!1,e,null),PI(t,!0,e,null)}))}function PI(e,t,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,a=n;if(e==="selectionchange"&&n.nodeType!==9&&(a=n.ownerDocument),r!==null&&!t&&c_.has(e)){if(e!=="scroll")return;i|=2,a=r}var c=g_(a),d=e+"__"+(t?"capture":"bubble");c.has(d)||(t&&(i|=4),h_(a,e,i,t),c.add(d))}function h_(e,t,n,r){var i=Xb.get(t);switch(i===void 0?2:i){case 0:i=NB;break;case 1:i=xB;break;default:i=e0}n=i.bind(null,t,n,e),i=void 0,!yw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function p_(e,t,n,r,i){var a=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var d=r.stateNode.containerInfo;if(d===i||d.nodeType===8&&d.parentNode===i)break;if(c===4)for(c=r.return;c!==null;){var m=c.tag;if((m===3||m===4)&&(m=c.stateNode.containerInfo,m===i||m.nodeType===8&&m.parentNode===i))return;c=c.return}for(;d!==null;){if(c=gl(d),c===null)return;if(m=c.tag,m===5||m===6){r=a=c;continue e}d=d.parentNode}}r=r.return}sB(function(){var g=a,y=Gb(n),b=[];e:{var C=e_.get(e);if(C!==void 0){var A=r0,P=e;switch(e){case"keypress":if(Np(n)===0)break e;case"keydown":case"keyup":A=WB;break;case"focusin":P="focus",A=hy;break;case"focusout":P="blur",A=hy;break;case"beforeblur":case"afterblur":A=hy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=yI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=OB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=jB;break;case JT:case QT:case XT:A=kB;break;case ZT:A=VB;break;case"scroll":A=TB;break;case"wheel":A=HB;break;case"copy":case"cut":case"paste":A=DB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=bI}var L=(t&4)!==0,E=!L&&e==="scroll",I=L?C!==null?C+"Capture":null:C;L=[];for(var N=g,D;N!==null;){D=N;var O=D.stateNode;if(D.tag===5&&O!==null&&(D=O,I!==null&&(O=gd(N,I),O!=null&&L.push(Ed(N,O,D)))),E)break;N=N.return}0<L.length&&(C=new A(C,P,null,n,y),b.push({event:C,listeners:L}))}}if((t&7)===0){e:{if(C=e==="mouseover"||e==="pointerover",A=e==="mouseout"||e==="pointerout",C&&(t&16)===0&&(P=n.relatedTarget||n.fromElement)&&(gl(P)||P[Nc]))break e;if((A||C)&&(C=y.window===y?y:(C=y.ownerDocument)?C.defaultView||C.parentWindow:window,A?(P=n.relatedTarget||n.toElement,A=g,P=P?gl(P):null,P!==null&&(E=Ll(P),P!==E||P.tag!==5&&P.tag!==6)&&(P=null)):(A=null,P=g),A!==P)){if(L=yI,O="onMouseLeave",I="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(L=bI,O="onPointerLeave",I="onPointerEnter",N="pointer"),E=A==null?C:Du(A),D=P==null?C:Du(P),C=new L(O,N+"leave",A,n,y),C.target=E,C.relatedTarget=D,O=null,gl(y)===g&&(L=new L(I,N+"enter",P,n,y),L.target=D,L.relatedTarget=E,O=L),E=O,A&&P)t:{for(L=A,I=P,N=0,D=L;D;D=Eu(D))N++;for(D=0,O=I;O;O=Eu(O))D++;for(;0<N-D;)L=Eu(L),N--;for(;0<D-N;)I=Eu(I),D--;for(;N--;){if(L===I||I!==null&&L===I.alternate)break t;L=Eu(L),I=Eu(I)}L=null}else L=null;A!==null&&DI(b,C,A,L,!1),P!==null&&E!==null&&DI(b,E,P,L,!0)}}e:{if(C=g?Du(g):window,A=C.nodeName&&C.nodeName.toLowerCase(),A==="select"||A==="input"&&C.type==="file")var z=tF;else if(CI(C))if(s_)z=oF;else{z=rF;var k=nF}else(A=C.nodeName)&&A.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(z=iF);if(z&&(z=z(e,g))){a_(b,z,n,y);break e}k&&k(e,C,g),e==="focusout"&&(k=C._wrapperState)&&k.controlled&&C.type==="number"&&cw(C,"number",C.value)}switch(k=g?Du(g):window,e){case"focusin":(CI(k)||k.contentEditable==="true")&&(Pu=k,Cw=g,Zf=null);break;case"focusout":Zf=Cw=Pu=null;break;case"mousedown":Iw=!0;break;case"contextmenu":case"mouseup":case"dragend":Iw=!1,OI(b,n,y);break;case"selectionchange":if(lF)break;case"keydown":case"keyup":OI(b,n,y)}var W;if(o0)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else ku?i_(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(r_&&n.locale!=="ko"&&(ku||j!=="onCompositionStart"?j==="onCompositionEnd"&&ku&&(W=n_()):(Ga=y,n0="value"in Ga?Ga.value:Ga.textContent,ku=!0)),k=Gp(g,j),0<k.length&&(j=new wI(j,e,null,n,y),b.push({event:j,listeners:k}),W?j.data=W:(W=o_(n),W!==null&&(j.data=W)))),(W=JB?QB(e,n):XB(e,n))&&(g=Gp(g,"onBeforeInput"),0<g.length&&(y=new wI("onBeforeInput","beforeinput",null,n,y),b.push({event:y,listeners:g}),y.data=W))}f_(b,t)})}function Ed(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gp(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=gd(e,n),a!=null&&r.unshift(Ed(e,a,i)),a=gd(e,t),a!=null&&r.push(Ed(e,a,i))),e=e.return}return r}function Eu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function DI(e,t,n,r,i){for(var a=t._reactName,c=[];n!==null&&n!==r;){var d=n,m=d.alternate,g=d.stateNode;if(m!==null&&m===r)break;d.tag===5&&g!==null&&(d=g,i?(m=gd(n,a),m!=null&&c.unshift(Ed(n,m,d))):i||(m=gd(n,a),m!=null&&c.push(Ed(n,m,d)))),n=n.return}c.length!==0&&e.push({event:t,listeners:c})}function Hp(){}var vy=null,yy=null;function m_(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Nw(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var LI=typeof setTimeout=="function"?setTimeout:void 0,uF=typeof clearTimeout=="function"?clearTimeout:void 0;function a0(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function Vu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function zI(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var wy=0;function cF(e){return{$$typeof:Kb,toString:e,valueOf:e}}var Zm=Math.random().toString(36).slice(2),Ha="__reactFiber$"+Zm,Yp="__reactProps$"+Zm,Nc="__reactContainer$"+Zm,MI="__reactEvents$"+Zm;function gl(e){var t=e[Ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Nc]||n[Ha]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=zI(e);e!==null;){if(n=e[Ha])return n;e=zI(e)}return t}e=n,n=e.parentNode}return null}function Yd(e){return e=e[Ha]||e[Nc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Du(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Te(33))}function eg(e){return e[Yp]||null}function g_(e){var t=e[MI];return t===void 0&&(t=e[MI]=new Set),t}var xw=[],Lu=-1;function Ss(e){return{current:e}}function nn(e){0>Lu||(e.current=xw[Lu],xw[Lu]=null,Lu--)}function fn(e,t){Lu++,xw[Lu]=e.current,e.current=t}var ms={},lr=Ss(ms),Dr=Ss(!1),Il=ms;function nc(e,t){var n=e.type.contextTypes;if(!n)return ms;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Lr(e){return e=e.childContextTypes,e!=null}function Jp(){nn(Dr),nn(lr)}function BI(e,t,n){if(lr.current!==ms)throw Error(Te(168));fn(lr,t),fn(Dr,n)}function v_(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Te(108,$u(t)||"Unknown",i));return on({},n,r)}function xp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ms,Il=lr.current,fn(lr,e),fn(Dr,Dr.current),!0}function FI(e,t,n){var r=e.stateNode;if(!r)throw Error(Te(169));n?(e=v_(e,t,Il),r.__reactInternalMemoizedMergedChildContext=e,nn(Dr),nn(lr),fn(lr,e)):nn(Dr),fn(Dr,n)}var s0=null,Sl=null,fF=Bn.unstable_runWithPriority,l0=Bn.unstable_scheduleCallback,Tw=Bn.unstable_cancelCallback,dF=Bn.unstable_shouldYield,UI=Bn.unstable_requestPaint,_w=Bn.unstable_now,hF=Bn.unstable_getCurrentPriorityLevel,tg=Bn.unstable_ImmediatePriority,y_=Bn.unstable_UserBlockingPriority,w_=Bn.unstable_NormalPriority,b_=Bn.unstable_LowPriority,S_=Bn.unstable_IdlePriority,by={},pF=UI!==void 0?UI:function(){},na=null,Tp=null,Sy=!1,WI=_w(),ar=1e4>WI?_w:function(){return _w()-WI};function rc(){switch(hF()){case tg:return 99;case y_:return 98;case w_:return 97;case b_:return 96;case S_:return 95;default:throw Error(Te(332))}}function E_(e){switch(e){case 99:return tg;case 98:return y_;case 97:return w_;case 96:return b_;case 95:return S_;default:throw Error(Te(332))}}function Nl(e,t){return e=E_(e),fF(e,t)}function Cd(e,t,n){return e=E_(e),l0(e,t,n)}function zo(){if(Tp!==null){var e=Tp;Tp=null,Tw(e)}C_()}function C_(){if(!Sy&&na!==null){Sy=!0;var e=0;try{var t=na;Nl(99,function(){for(;e<t.length;e++){var n=t[e];do n=n(!0);while(n!==null)}}),na=null}catch(n){throw na!==null&&(na=na.slice(e+1)),l0(tg,zo),n}finally{Sy=!1}}}var mF=Dl.ReactCurrentBatchConfig;function Zi(e,t){if(e&&e.defaultProps){t=on({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Qp=Ss(null),Xp=null,zu=null,Zp=null;function u0(){Zp=zu=Xp=null}function c0(e){var t=Qp.current;nn(Qp),e.type._context._currentValue=t}function I_(e,t){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)===t){if(n===null||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,n!==null&&(n.childLanes|=t);e=e.return}}function Gu(e,t){Xp=e,Zp=zu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(no=!0),e.firstContext=null)}function ki(e,t){if(Zp!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(Zp=e,t=1073741823),t={context:e,observedBits:t,next:null},zu===null){if(Xp===null)throw Error(Te(308));zu=t,Xp.dependencies={lanes:0,firstContext:t,responders:null}}else zu=zu.next=t;return e._currentValue}var qa=!1;function f0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function N_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function is(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function $I(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var c={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=c:a=a.next=c,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Id(e,t,n,r){var i=e.updateQueue;qa=!1;var a=i.firstBaseUpdate,c=i.lastBaseUpdate,d=i.shared.pending;if(d!==null){i.shared.pending=null;var m=d,g=m.next;m.next=null,c===null?a=g:c.next=g,c=m;var y=e.alternate;if(y!==null){y=y.updateQueue;var b=y.lastBaseUpdate;b!==c&&(b===null?y.firstBaseUpdate=g:b.next=g,y.lastBaseUpdate=m)}}if(a!==null){b=i.baseState,c=0,y=g=m=null;do{d=a.lane;var C=a.eventTime;if((r&d)===d){y!==null&&(y=y.next={eventTime:C,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var A=e,P=a;switch(d=t,C=n,P.tag){case 1:if(A=P.payload,typeof A=="function"){b=A.call(C,b,d);break e}b=A;break e;case 3:A.flags=A.flags&-4097|64;case 0:if(A=P.payload,d=typeof A=="function"?A.call(C,b,d):A,d==null)break e;b=on({},b,d);break e;case 2:qa=!0}}a.callback!==null&&(e.flags|=32,d=i.effects,d===null?i.effects=[a]:d.push(a))}else C={eventTime:C,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},y===null?(g=y=C,m=b):y=y.next=C,c|=d;if(a=a.next,a===null){if(d=i.shared.pending,d===null)break;a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);y===null&&(m=b),i.baseState=m,i.firstBaseUpdate=g,i.lastBaseUpdate=y,Qd|=c,e.lanes=c,e.memoizedState=b}}function qI(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Te(191,i));i.call(r)}}}var x_=new Vm.Component().refs;function em(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:on({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ng={isMounted:function(e){return(e=e._reactInternals)?Ll(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ei(),i=os(e),a=rs(r,i);a.payload=t,n!=null&&(a.callback=n),is(e,a),as(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ei(),i=os(e),a=rs(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),is(e,a),as(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ei(),r=os(e),i=rs(n,r);i.tag=2,t!=null&&(i.callback=t),is(e,i),as(e,r,n)}};function jI(e,t,n,r,i,a,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,c):t.prototype&&t.prototype.isPureReactComponent?!Sd(n,r)||!Sd(i,a):!0}function T_(e,t,n){var r=!1,i=ms,a=t.contextType;return typeof a=="object"&&a!==null?a=ki(a):(i=Lr(t)?Il:lr.current,r=t.contextTypes,a=(r=r!=null)?nc(e,i):ms),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ng,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function KI(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ng.enqueueReplaceState(t,t.state,null)}function Ow(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=x_,f0(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=ki(a):(a=Lr(t)?Il:lr.current,i.context=nc(e,a)),Id(e,n,i,r),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(em(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ng.enqueueReplaceState(i,i.state,null),Id(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4)}var ip=Array.isArray;function Of(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Te(309));var r=n.stateNode}if(!r)throw Error(Te(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var c=r.refs;c===x_&&(c=r.refs={}),a===null?delete c[i]:c[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(Te(284));if(!n._owner)throw Error(Te(290,e))}return e}function op(e,t){if(e.type!=="textarea")throw Error(Te(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function __(e){function t(E,I){if(e){var N=E.lastEffect;N!==null?(N.nextEffect=I,E.lastEffect=I):E.firstEffect=E.lastEffect=I,I.nextEffect=null,I.flags=8}}function n(E,I){if(!e)return null;for(;I!==null;)t(E,I),I=I.sibling;return null}function r(E,I){for(E=new Map;I!==null;)I.key!==null?E.set(I.key,I):E.set(I.index,I),I=I.sibling;return E}function i(E,I){return E=vs(E,I),E.index=0,E.sibling=null,E}function a(E,I,N){return E.index=N,e?(N=E.alternate,N!==null?(N=N.index,N<I?(E.flags=2,I):N):(E.flags=2,I)):I}function c(E){return e&&E.alternate===null&&(E.flags=2),E}function d(E,I,N,D){return I===null||I.tag!==6?(I=xy(N,E.mode,D),I.return=E,I):(I=i(I,N),I.return=E,I)}function m(E,I,N,D){return I!==null&&I.elementType===N.type?(D=i(I,N.props),D.ref=Of(E,I,N),D.return=E,D):(D=Rp(N.type,N.key,N.props,null,E.mode,D),D.ref=Of(E,I,N),D.return=E,D)}function g(E,I,N,D){return I===null||I.tag!==4||I.stateNode.containerInfo!==N.containerInfo||I.stateNode.implementation!==N.implementation?(I=Ty(N,E.mode,D),I.return=E,I):(I=i(I,N.children||[]),I.return=E,I)}function y(E,I,N,D,O){return I===null||I.tag!==7?(I=Qu(N,E.mode,D,O),I.return=E,I):(I=i(I,N),I.return=E,I)}function b(E,I,N){if(typeof I=="string"||typeof I=="number")return I=xy(""+I,E.mode,N),I.return=E,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Uf:return N=Rp(I.type,I.key,I.props,null,E.mode,N),N.ref=Of(E,null,I),N.return=E,N;case pl:return I=Ty(I,E.mode,N),I.return=E,I}if(ip(I)||Cf(I))return I=Qu(I,E.mode,N,null),I.return=E,I;op(E,I)}return null}function C(E,I,N,D){var O=I!==null?I.key:null;if(typeof N=="string"||typeof N=="number")return O!==null?null:d(E,I,""+N,D);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Uf:return N.key===O?N.type===Ka?y(E,I,N.props.children,D,O):m(E,I,N,D):null;case pl:return N.key===O?g(E,I,N,D):null}if(ip(N)||Cf(N))return O!==null?null:y(E,I,N,D,null);op(E,N)}return null}function A(E,I,N,D,O){if(typeof D=="string"||typeof D=="number")return E=E.get(N)||null,d(I,E,""+D,O);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Uf:return E=E.get(D.key===null?N:D.key)||null,D.type===Ka?y(I,E,D.props.children,O,D.key):m(I,E,D,O);case pl:return E=E.get(D.key===null?N:D.key)||null,g(I,E,D,O)}if(ip(D)||Cf(D))return E=E.get(N)||null,y(I,E,D,O,null);op(I,D)}return null}function P(E,I,N,D){for(var O=null,z=null,k=I,W=I=0,j=null;k!==null&&W<N.length;W++){k.index>W?(j=k,k=null):j=k.sibling;var $=C(E,k,N[W],D);if($===null){k===null&&(k=j);break}e&&k&&$.alternate===null&&t(E,k),I=a($,I,W),z===null?O=$:z.sibling=$,z=$,k=j}if(W===N.length)return n(E,k),O;if(k===null){for(;W<N.length;W++)k=b(E,N[W],D),k!==null&&(I=a(k,I,W),z===null?O=k:z.sibling=k,z=k);return O}for(k=r(E,k);W<N.length;W++)j=A(k,E,W,N[W],D),j!==null&&(e&&j.alternate!==null&&k.delete(j.key===null?W:j.key),I=a(j,I,W),z===null?O=j:z.sibling=j,z=j);return e&&k.forEach(function(M){return t(E,M)}),O}function L(E,I,N,D){var O=Cf(N);if(typeof O!="function")throw Error(Te(150));if(N=O.call(N),N==null)throw Error(Te(151));for(var z=O=null,k=I,W=I=0,j=null,$=N.next();k!==null&&!$.done;W++,$=N.next()){k.index>W?(j=k,k=null):j=k.sibling;var M=C(E,k,$.value,D);if(M===null){k===null&&(k=j);break}e&&k&&M.alternate===null&&t(E,k),I=a(M,I,W),z===null?O=M:z.sibling=M,z=M,k=j}if($.done)return n(E,k),O;if(k===null){for(;!$.done;W++,$=N.next())$=b(E,$.value,D),$!==null&&(I=a($,I,W),z===null?O=$:z.sibling=$,z=$);return O}for(k=r(E,k);!$.done;W++,$=N.next())$=A(k,E,W,$.value,D),$!==null&&(e&&$.alternate!==null&&k.delete($.key===null?W:$.key),I=a($,I,W),z===null?O=$:z.sibling=$,z=$);return e&&k.forEach(function(Y){return t(E,Y)}),O}return function(E,I,N,D){var O=typeof N=="object"&&N!==null&&N.type===Ka&&N.key===null;O&&(N=N.props.children);var z=typeof N=="object"&&N!==null;if(z)switch(N.$$typeof){case Uf:e:{for(z=N.key,O=I;O!==null;){if(O.key===z){switch(O.tag){case 7:if(N.type===Ka){n(E,O.sibling),I=i(O,N.props.children),I.return=E,E=I;break e}break;default:if(O.elementType===N.type){n(E,O.sibling),I=i(O,N.props),I.ref=Of(E,O,N),I.return=E,E=I;break e}}n(E,O);break}else t(E,O);O=O.sibling}N.type===Ka?(I=Qu(N.props.children,E.mode,D,N.key),I.return=E,E=I):(D=Rp(N.type,N.key,N.props,null,E.mode,D),D.ref=Of(E,I,N),D.return=E,E=D)}return c(E);case pl:e:{for(O=N.key;I!==null;){if(I.key===O)if(I.tag===4&&I.stateNode.containerInfo===N.containerInfo&&I.stateNode.implementation===N.implementation){n(E,I.sibling),I=i(I,N.children||[]),I.return=E,E=I;break e}else{n(E,I);break}else t(E,I);I=I.sibling}I=Ty(N,E.mode,D),I.return=E,E=I}return c(E)}if(typeof N=="string"||typeof N=="number")return N=""+N,I!==null&&I.tag===6?(n(E,I.sibling),I=i(I,N),I.return=E,E=I):(n(E,I),I=xy(N,E.mode,D),I.return=E,E=I),c(E);if(ip(N))return P(E,I,N,D);if(Cf(N))return L(E,I,N,D);if(z&&op(E,N),typeof N=="undefined"&&!O)switch(E.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Te(152,$u(E.type)||"Component"))}return n(E,I)}}var tm=__(!0),O_=__(!1),Jd={},ko=Ss(Jd),Nd=Ss(Jd),xd=Ss(Jd);function vl(e){if(e===Jd)throw Error(Te(174));return e}function Aw(e,t){switch(fn(xd,t),fn(Nd,e),fn(ko,Jd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pw(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pw(t,e)}nn(ko),fn(ko,t)}function ic(){nn(ko),nn(Nd),nn(xd)}function VI(e){vl(xd.current);var t=vl(ko.current),n=pw(t,e.type);t!==n&&(fn(Nd,e),fn(ko,n))}function d0(e){Nd.current===e&&(nn(ko),nn(Nd))}var cn=Ss(0);function nm(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&64)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ia=null,Ya=null,Po=!1;function A_(e,t){var n=Ni(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function GI(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function Rw(e){if(Po){var t=Ya;if(t){var n=t;if(!GI(e,t)){if(t=Vu(n.nextSibling),!t||!GI(e,t)){e.flags=e.flags&-1025|2,Po=!1,ia=e;return}A_(ia,n)}ia=e,Ya=Vu(t.firstChild)}else e.flags=e.flags&-1025|2,Po=!1,ia=e}}function HI(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ia=e}function ap(e){if(e!==ia)return!1;if(!Po)return HI(e),Po=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!Nw(t,e.memoizedProps))for(t=Ya;t;)A_(e,t),t=Vu(t.nextSibling);if(HI(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Te(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ya=Vu(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ya=null}}else Ya=ia?Vu(e.stateNode.nextSibling):null;return!0}function Ey(){Ya=ia=null,Po=!1}var Hu=[];function h0(){for(var e=0;e<Hu.length;e++)Hu[e]._workInProgressVersionPrimary=null;Hu.length=0}var ed=Dl.ReactCurrentDispatcher,Ti=Dl.ReactCurrentBatchConfig,Td=0,wn=null,or=null,Gn=null,rm=!1,td=!1;function Or(){throw Error(Te(321))}function p0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ii(e[n],t[n]))return!1;return!0}function m0(e,t,n,r,i,a){if(Td=a,wn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ed.current=e===null||e.memoizedState===null?vF:yF,e=n(r,i),td){a=0;do{if(td=!1,!(25>a))throw Error(Te(301));a+=1,Gn=or=null,t.updateQueue=null,ed.current=wF,e=n(r,i)}while(td)}if(ed.current=sm,t=or!==null&&or.next!==null,Td=0,Gn=or=wn=null,rm=!1,t)throw Error(Te(300));return e}function yl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gn===null?wn.memoizedState=Gn=e:Gn=Gn.next=e,Gn}function zl(){if(or===null){var e=wn.alternate;e=e!==null?e.memoizedState:null}else e=or.next;var t=Gn===null?wn.memoizedState:Gn.next;if(t!==null)Gn=t,or=e;else{if(e===null)throw Error(Te(310));or=e,e={memoizedState:or.memoizedState,baseState:or.baseState,baseQueue:or.baseQueue,queue:or.queue,next:null},Gn===null?wn.memoizedState=Gn=e:Gn=Gn.next=e}return Gn}function Ao(e,t){return typeof t=="function"?t(e):t}function Af(e){var t=zl(),n=t.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=e;var r=or,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var c=i.next;i.next=a.next,a.next=c}r.baseQueue=i=a,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var d=c=a=null,m=i;do{var g=m.lane;if((Td&g)===g)d!==null&&(d=d.next={lane:0,action:m.action,eagerReducer:m.eagerReducer,eagerState:m.eagerState,next:null}),r=m.eagerReducer===e?m.eagerState:e(r,m.action);else{var y={lane:g,action:m.action,eagerReducer:m.eagerReducer,eagerState:m.eagerState,next:null};d===null?(c=d=y,a=r):d=d.next=y,wn.lanes|=g,Qd|=g}m=m.next}while(m!==null&&m!==i);d===null?a=r:d.next=c,Ii(r,t.memoizedState)||(no=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=d,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Rf(e){var t=zl(),n=t.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var c=i=i.next;do a=e(a,c.action),c=c.next;while(c!==i);Ii(a,t.memoizedState)||(no=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function YI(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(i!==null?e=i===r:(e=e.mutableReadLanes,(e=(Td&e)===e)&&(t._workInProgressVersionPrimary=r,Hu.push(t))),e)return n(t._source);throw Hu.push(t),Error(Te(350))}function R_(e,t,n,r){var i=br;if(i===null)throw Error(Te(349));var a=t._getVersion,c=a(t._source),d=ed.current,m=d.useState(function(){return YI(i,t,n)}),g=m[1],y=m[0];m=Gn;var b=e.memoizedState,C=b.refs,A=C.getSnapshot,P=b.source;b=b.subscribe;var L=wn;return e.memoizedState={refs:C,source:t,subscribe:r},d.useEffect(function(){C.getSnapshot=n,C.setSnapshot=g;var E=a(t._source);if(!Ii(c,E)){E=n(t._source),Ii(y,E)||(g(E),E=os(L),i.mutableReadLanes|=E&i.pendingLanes),E=i.mutableReadLanes,i.entangledLanes|=E;for(var I=i.entanglements,N=E;0<N;){var D=31-ps(N),O=1<<D;I[D]|=E,N&=~O}}},[n,t,r]),d.useEffect(function(){return r(t._source,function(){var E=C.getSnapshot,I=C.setSnapshot;try{I(E(t._source));var N=os(L);i.mutableReadLanes|=N&i.pendingLanes}catch(D){I(function(){throw D})}})},[t,r]),Ii(A,n)&&Ii(P,t)&&Ii(b,r)||(e={pending:null,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:y},e.dispatch=g=y0.bind(null,wn,e),m.queue=e,m.baseQueue=null,y=YI(i,t,n),m.memoizedState=m.baseState=y),y}function k_(e,t,n){var r=zl();return R_(r,e,t,n)}function kf(e){var t=yl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:e},e=e.dispatch=y0.bind(null,wn,e),[t.memoizedState,e]}function im(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=wn.updateQueue,t===null?(t={lastEffect:null},wn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function JI(e){var t=yl();return e={current:e},t.memoizedState=e}function om(){return zl().memoizedState}function kw(e,t,n,r){var i=yl();wn.flags|=e,i.memoizedState=im(1|t,n,void 0,r===void 0?null:r)}function g0(e,t,n,r){var i=zl();r=r===void 0?null:r;var a=void 0;if(or!==null){var c=or.memoizedState;if(a=c.destroy,r!==null&&p0(r,c.deps)){im(t,n,a,r);return}}wn.flags|=e,i.memoizedState=im(1|t,n,a,r)}function QI(e,t){return kw(516,4,e,t)}function am(e,t){return g0(516,4,e,t)}function P_(e,t){return g0(4,2,e,t)}function D_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function L_(e,t,n){return n=n!=null?n.concat([e]):null,g0(4,2,D_.bind(null,t,e),n)}function v0(){}function z_(e,t){var n=zl();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&p0(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function M_(e,t){var n=zl();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&p0(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function gF(e,t){var n=rc();Nl(98>n?98:n,function(){e(!0)}),Nl(97<n?97:n,function(){var r=Ti.transition;Ti.transition=1;try{e(!1),t()}finally{Ti.transition=r}})}function y0(e,t,n){var r=ei(),i=os(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},c=t.pending;if(c===null?a.next=a:(a.next=c.next,c.next=a),t.pending=a,c=e.alternate,e===wn||c!==null&&c===wn)td=rm=!0;else{if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var d=t.lastRenderedState,m=c(d,n);if(a.eagerReducer=c,a.eagerState=m,Ii(m,d))return}catch{}finally{}as(e,i,r)}}var sm={readContext:ki,useCallback:Or,useContext:Or,useEffect:Or,useImperativeHandle:Or,useLayoutEffect:Or,useMemo:Or,useReducer:Or,useRef:Or,useState:Or,useDebugValue:Or,useDeferredValue:Or,useTransition:Or,useMutableSource:Or,useOpaqueIdentifier:Or,unstable_isNewReconciler:!1},vF={readContext:ki,useCallback:function(e,t){return yl().memoizedState=[e,t===void 0?null:t],e},useContext:ki,useEffect:QI,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,kw(4,2,D_.bind(null,t,e),n)},useLayoutEffect:function(e,t){return kw(4,2,e,t)},useMemo:function(e,t){var n=yl();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yl();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=y0.bind(null,wn,e),[r.memoizedState,e]},useRef:JI,useState:kf,useDebugValue:v0,useDeferredValue:function(e){var t=kf(e),n=t[0],r=t[1];return QI(function(){var i=Ti.transition;Ti.transition=1;try{r(e)}finally{Ti.transition=i}},[e]),n},useTransition:function(){var e=kf(!1),t=e[0];return e=gF.bind(null,e[1]),JI(e),[e,t]},useMutableSource:function(e,t,n){var r=yl();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},R_(r,e,t,n)},useOpaqueIdentifier:function(){if(Po){var e=!1,t=cF(function(){throw e||(e=!0,n("r:"+(wy++).toString(36))),Error(Te(355))}),n=kf(t)[1];return(wn.mode&2)===0&&(wn.flags|=516,im(5,function(){n("r:"+(wy++).toString(36))},void 0,null)),t}return t="r:"+(wy++).toString(36),kf(t),t},unstable_isNewReconciler:!1},yF={readContext:ki,useCallback:z_,useContext:ki,useEffect:am,useImperativeHandle:L_,useLayoutEffect:P_,useMemo:M_,useReducer:Af,useRef:om,useState:function(){return Af(Ao)},useDebugValue:v0,useDeferredValue:function(e){var t=Af(Ao),n=t[0],r=t[1];return am(function(){var i=Ti.transition;Ti.transition=1;try{r(e)}finally{Ti.transition=i}},[e]),n},useTransition:function(){var e=Af(Ao)[0];return[om().current,e]},useMutableSource:k_,useOpaqueIdentifier:function(){return Af(Ao)[0]},unstable_isNewReconciler:!1},wF={readContext:ki,useCallback:z_,useContext:ki,useEffect:am,useImperativeHandle:L_,useLayoutEffect:P_,useMemo:M_,useReducer:Rf,useRef:om,useState:function(){return Rf(Ao)},useDebugValue:v0,useDeferredValue:function(e){var t=Rf(Ao),n=t[0],r=t[1];return am(function(){var i=Ti.transition;Ti.transition=1;try{r(e)}finally{Ti.transition=i}},[e]),n},useTransition:function(){var e=Rf(Ao)[0];return[om().current,e]},useMutableSource:k_,useOpaqueIdentifier:function(){return Rf(Ao)[0]},unstable_isNewReconciler:!1},bF=Dl.ReactCurrentOwner,no=!1;function kr(e,t,n,r){t.child=e===null?O_(t,null,n,r):tm(t,e.child,n,r)}function XI(e,t,n,r,i){n=n.render;var a=t.ref;return Gu(t,i),r=m0(e,t,n,r,a,i),e!==null&&!no?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,oa(e,t,i)):(t.flags|=1,kr(e,t,r,i),t.child)}function ZI(e,t,n,r,i,a){if(e===null){var c=n.type;return typeof c=="function"&&!I0(c)&&c.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=c,B_(e,t,c,r,i,a)):(e=Rp(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}return c=e.child,(i&a)===0&&(i=c.memoizedProps,n=n.compare,n=n!==null?n:Sd,n(i,r)&&e.ref===t.ref)?oa(e,t,a):(t.flags|=1,e=vs(c,r),e.ref=t.ref,e.return=t,t.child=e)}function B_(e,t,n,r,i,a){if(e!==null&&Sd(e.memoizedProps,r)&&e.ref===t.ref)if(no=!1,(a&i)!==0)(e.flags&16384)!==0&&(no=!0);else return t.lanes=e.lanes,oa(e,t,a);return Pw(e,t,n,r,a)}function Cy(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((t.mode&4)===0)t.memoizedState={baseLanes:0},lp(t,n);else if((n&1073741824)!==0)t.memoizedState={baseLanes:0},lp(t,a!==null?a.baseLanes:n);else return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},lp(t,e),null;else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,lp(t,r);return kr(e,t,i,n),t.child}function F_(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=128)}function Pw(e,t,n,r,i){var a=Lr(n)?Il:lr.current;return a=nc(t,a),Gu(t,i),n=m0(e,t,n,r,a,i),e!==null&&!no?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,oa(e,t,i)):(t.flags|=1,kr(e,t,n,i),t.child)}function eN(e,t,n,r,i){if(Lr(n)){var a=!0;xp(t)}else a=!1;if(Gu(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),T_(t,n,r),Ow(t,n,r,i),r=!0;else if(e===null){var c=t.stateNode,d=t.memoizedProps;c.props=d;var m=c.context,g=n.contextType;typeof g=="object"&&g!==null?g=ki(g):(g=Lr(n)?Il:lr.current,g=nc(t,g));var y=n.getDerivedStateFromProps,b=typeof y=="function"||typeof c.getSnapshotBeforeUpdate=="function";b||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==r||m!==g)&&KI(t,c,r,g),qa=!1;var C=t.memoizedState;c.state=C,Id(t,r,c,i),m=t.memoizedState,d!==r||C!==m||Dr.current||qa?(typeof y=="function"&&(em(t,n,y,r),m=t.memoizedState),(d=qa||jI(t,n,d,r,C,m,g))?(b||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4)):(typeof c.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=m),c.props=r,c.state=m,c.context=g,r=d):(typeof c.componentDidMount=="function"&&(t.flags|=4),r=!1)}else{c=t.stateNode,N_(e,t),d=t.memoizedProps,g=t.type===t.elementType?d:Zi(t.type,d),c.props=g,b=t.pendingProps,C=c.context,m=n.contextType,typeof m=="object"&&m!==null?m=ki(m):(m=Lr(n)?Il:lr.current,m=nc(t,m));var A=n.getDerivedStateFromProps;(y=typeof A=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==b||C!==m)&&KI(t,c,r,m),qa=!1,C=t.memoizedState,c.state=C,Id(t,r,c,i);var P=t.memoizedState;d!==b||C!==P||Dr.current||qa?(typeof A=="function"&&(em(t,n,A,r),P=t.memoizedState),(g=qa||jI(t,n,g,r,C,P,m))?(y||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,P,m),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,P,m)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=P),c.props=r,c.state=P,c.context=m,r=g):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=256),r=!1)}return Dw(e,t,n,r,a,i)}function Dw(e,t,n,r,i,a){F_(e,t);var c=(t.flags&64)!==0;if(!r&&!c)return i&&FI(t,n,!1),oa(e,t,a);r=t.stateNode,bF.current=t;var d=c&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&c?(t.child=tm(t,e.child,null,a),t.child=tm(t,null,d,a)):kr(e,t,d,a),t.memoizedState=r.state,i&&FI(t,n,!0),t.child}function tN(e){var t=e.stateNode;t.pendingContext?BI(e,t.pendingContext,t.pendingContext!==t.context):t.context&&BI(e,t.context,!1),Aw(e,t.containerInfo)}var sp={dehydrated:null,retryLane:0};function nN(e,t,n){var r=t.pendingProps,i=cn.current,a=!1,c;return(c=(t.flags&64)!==0)||(c=e!==null&&e.memoizedState===null?!1:(i&2)!==0),c?(a=!0,t.flags&=-65):e!==null&&e.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),fn(cn,i&1),e===null?(r.fallback!==void 0&&Rw(t),e=r.children,i=r.fallback,a?(e=rN(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=sp,e):typeof r.unstable_expectedLoadTime=="number"?(e=rN(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=sp,t.lanes=33554432,e):(n=N0({mode:"visible",children:e},t.mode,n,null),n.return=t,t.child=n)):e.memoizedState!==null?a?(r=oN(e,t,r.children,r.fallback,n),a=t.child,i=e.child.memoizedState,a.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=sp,r):(n=iN(e,t,r.children,n),t.memoizedState=null,n):a?(r=oN(e,t,r.children,r.fallback,n),a=t.child,i=e.child.memoizedState,a.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=sp,r):(n=iN(e,t,r.children,n),t.memoizedState=null,n)}function rN(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},(i&2)===0&&a!==null?(a.childLanes=0,a.pendingProps=t):a=N0(t,i,0,null),n=Qu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function iN(e,t,n,r){var i=e.child;return e=i.sibling,n=vs(i,{mode:"visible",children:n}),(t.mode&2)===0&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function oN(e,t,n,r,i){var a=t.mode,c=e.child;e=c.sibling;var d={mode:"hidden",children:n};return(a&2)===0&&t.child!==c?(n=t.child,n.childLanes=0,n.pendingProps=d,c=n.lastEffect,c!==null?(t.firstEffect=n.firstEffect,t.lastEffect=c,c.nextEffect=null):t.firstEffect=t.lastEffect=null):n=vs(c,d),e!==null?r=vs(e,r):(r=Qu(r,a,i,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,r}function aN(e,t){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),I_(e.return,t)}function Iy(e,t,n,r,i,a){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=r,c.tail=n,c.tailMode=i,c.lastEffect=a)}function sN(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(kr(e,t,r.children,n),r=cn.current,(r&2)!==0)r=r&1|2,t.flags|=64;else{if(e!==null&&(e.flags&64)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&aN(e,n);else if(e.tag===19)aN(e,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fn(cn,r),(t.mode&2)===0)t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&nm(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Iy(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&nm(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Iy(t,!0,n,null,a,t.lastEffect);break;case"together":Iy(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function oa(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Qd|=t.lanes,(n&t.childLanes)!==0){if(e!==null&&t.child!==e.child)throw Error(Te(153));if(t.child!==null){for(e=t.child,n=vs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=vs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}return null}var U_,Lw,W_,$_;U_=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Lw=function(){};W_=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,vl(ko.current);var a=null;switch(n){case"input":i=lw(e,i),r=lw(e,r),a=[];break;case"option":i=fw(e,i),r=fw(e,r),a=[];break;case"select":i=on({},i,{value:void 0}),r=on({},r,{value:void 0}),a=[];break;case"textarea":i=dw(e,i),r=dw(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Hp)}mw(n,r);var c;n=null;for(g in i)if(!r.hasOwnProperty(g)&&i.hasOwnProperty(g)&&i[g]!=null)if(g==="style"){var d=i[g];for(c in d)d.hasOwnProperty(c)&&(n||(n={}),n[c]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(pd.hasOwnProperty(g)?a||(a=[]):(a=a||[]).push(g,null));for(g in r){var m=r[g];if(d=i!=null?i[g]:void 0,r.hasOwnProperty(g)&&m!==d&&(m!=null||d!=null))if(g==="style")if(d){for(c in d)!d.hasOwnProperty(c)||m&&m.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in m)m.hasOwnProperty(c)&&d[c]!==m[c]&&(n||(n={}),n[c]=m[c])}else n||(a||(a=[]),a.push(g,n)),n=m;else g==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,d=d?d.__html:void 0,m!=null&&d!==m&&(a=a||[]).push(g,m)):g==="children"?typeof m!="string"&&typeof m!="number"||(a=a||[]).push(g,""+m):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(pd.hasOwnProperty(g)?(m!=null&&g==="onScroll"&&tn("scroll",e),a||d===m||(a=[])):typeof m=="object"&&m!==null&&m.$$typeof===Kb?m.toString():(a=a||[]).push(g,m))}n&&(a=a||[]).push("style",n);var g=a;(t.updateQueue=g)&&(t.flags|=4)}};$_=function(e,t,n,r){n!==r&&(t.flags|=4)};function Pf(e,t){if(!Po)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function SF(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Lr(t.type)&&Jp(),null;case 3:return ic(),nn(Dr),nn(lr),h0(),r=t.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ap(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Lw(t),null;case 5:d0(t);var i=vl(xd.current);if(n=t.type,e!==null&&t.stateNode!=null)W_(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(t.stateNode===null)throw Error(Te(166));return null}if(e=vl(ko.current),ap(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Ha]=t,r[Yp]=a,n){case"dialog":tn("cancel",r),tn("close",r);break;case"iframe":case"object":case"embed":tn("load",r);break;case"video":case"audio":for(e=0;e<$f.length;e++)tn($f[e],r);break;case"source":tn("error",r);break;case"img":case"image":case"link":tn("error",r),tn("load",r);break;case"details":tn("toggle",r);break;case"input":sI(r,a),tn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},tn("invalid",r);break;case"textarea":uI(r,a),tn("invalid",r)}mw(n,a),e=null;for(var c in a)a.hasOwnProperty(c)&&(i=a[c],c==="children"?typeof i=="string"?r.textContent!==i&&(e=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(e=["children",""+i]):pd.hasOwnProperty(c)&&i!=null&&c==="onScroll"&&tn("scroll",r));switch(n){case"input":ep(r),lI(r,a,!0);break;case"textarea":ep(r),cI(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Hp)}r=e,t.updateQueue=r,r!==null&&(t.flags|=4)}else{switch(c=i.nodeType===9?i:i.ownerDocument,e===hw.html&&(e=LT(n)),e===hw.html?n==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),n==="select"&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Ha]=t,e[Yp]=r,U_(e,t,!1,!1),t.stateNode=e,c=gw(n,r),n){case"dialog":tn("cancel",e),tn("close",e),i=r;break;case"iframe":case"object":case"embed":tn("load",e),i=r;break;case"video":case"audio":for(i=0;i<$f.length;i++)tn($f[i],e);i=r;break;case"source":tn("error",e),i=r;break;case"img":case"image":case"link":tn("error",e),tn("load",e),i=r;break;case"details":tn("toggle",e),i=r;break;case"input":sI(e,r),i=lw(e,r),tn("invalid",e);break;case"option":i=fw(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=on({},r,{value:void 0}),tn("invalid",e);break;case"textarea":uI(e,r),i=dw(e,r),tn("invalid",e);break;default:i=r}mw(n,i);var d=i;for(a in d)if(d.hasOwnProperty(a)){var m=d[a];a==="style"?BT(e,m):a==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&zT(e,m)):a==="children"?typeof m=="string"?(n!=="textarea"||m!=="")&&md(e,m):typeof m=="number"&&md(e,""+m):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(pd.hasOwnProperty(a)?m!=null&&a==="onScroll"&&tn("scroll",e):m!=null&&Fb(e,a,m,c))}switch(n){case"input":ep(e),lI(e,r,!1);break;case"textarea":ep(e),cI(e);break;case"option":r.value!=null&&e.setAttribute("value",""+hs(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?qu(e,!!r.multiple,a,!1):r.defaultValue!=null&&qu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Hp)}m_(n,r)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)$_(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Te(166));n=vl(xd.current),vl(ko.current),ap(t)?(r=t.stateNode,n=t.memoizedProps,r[Ha]=t,r.nodeValue!==n&&(t.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ha]=t,t.stateNode=r)}return null;case 13:return nn(cn),r=t.memoizedState,(t.flags&64)!==0?(t.lanes=n,t):(r=r!==null,n=!1,e===null?t.memoizedProps.fallback!==void 0&&ap(t):n=e.memoizedState!==null,r&&!n&&(t.mode&2)!==0&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||(cn.current&1)!==0?Hn===0&&(Hn=3):((Hn===0||Hn===3)&&(Hn=4),br===null||(Qd&134217727)===0&&(Tc&134217727)===0||Yu(br,sr))),(r||n)&&(t.flags|=4),null);case 4:return ic(),Lw(t),e===null&&d_(t.stateNode.containerInfo),null;case 10:return c0(t),null;case 17:return Lr(t.type)&&Jp(),null;case 19:if(nn(cn),r=t.memoizedState,r===null)return null;if(a=(t.flags&64)!==0,c=r.rendering,c===null)if(a)Pf(r,!1);else{if(Hn!==0||e!==null&&(e.flags&64)!==0)for(e=t.child;e!==null;){if(c=nm(e),c!==null){for(t.flags|=64,Pf(r,!1),a=c.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),r.lastEffect===null&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,c=a.alternate,c===null?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fn(cn,cn.current&1|2),t.child}e=e.sibling}r.tail!==null&&ar()>Ww&&(t.flags|=64,a=!0,Pf(r,!1),t.lanes=33554432)}else{if(!a)if(e=nm(c),e!==null){if(t.flags|=64,a=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Pf(r,!0),r.tail===null&&r.tailMode==="hidden"&&!c.alternate&&!Po)return t=t.lastEffect=r.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*ar()-r.renderingStartTime>Ww&&n!==1073741824&&(t.flags|=64,a=!0,Pf(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(n=r.last,n!==null?n.sibling=c:t.child=c,r.last=c)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=ar(),n.sibling=null,t=cn.current,fn(cn,a?t&1|2:t&1),n):null;case 23:case 24:return C0(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error(Te(156,t.tag))}function EF(e){switch(e.tag){case 1:Lr(e.type)&&Jp();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(ic(),nn(Dr),nn(lr),h0(),t=e.flags,(t&64)!==0)throw Error(Te(285));return e.flags=t&-4097|64,e;case 5:return d0(e),null;case 13:return nn(cn),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return nn(cn),null;case 4:return ic(),null;case 10:return c0(e),null;case 23:case 24:return C0(),null;default:return null}}function w0(e,t){try{var n="",r=t;do n+=nB(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i}}function zw(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var CF=typeof WeakMap=="function"?WeakMap:Map;function q_(e,t,n){n=rs(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){um||(um=!0,$w=r),zw(e,t)},n}function j_(e,t,n){n=rs(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return zw(e,t),r(i)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(Ro===null?Ro=new Set([this]):Ro.add(this),zw(e,t));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),n}var IF=typeof WeakSet=="function"?WeakSet:Set;function lN(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){ss(e,n)}else t.current=null}function NF(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var n=e.memoizedProps,r=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:Zi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&a0(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(Te(163))}function xF(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var i=e;r=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(Z_(n,e),DF(n,e)),e=r}while(e!==t)}return;case 1:e=n.stateNode,n.flags&4&&(t===null?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Zi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=n.updateQueue,t!==null&&qI(n,t,e);return;case 3:if(t=n.updateQueue,t!==null){if(e=null,n.child!==null)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}qI(n,t,e)}return;case 5:e=n.stateNode,t===null&&n.flags&4&&m_(n.type,n.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&HT(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(Te(163))}function uN(e,t){for(var n=e;;){if(n.tag===5){var r=n.stateNode;if(t)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=MT("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function cN(e,t){if(Sl&&typeof Sl.onCommitFiberUnmount=="function")try{Sl.onCommitFiberUnmount(s0,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if((r&4)!==0)Z_(t,n);else{r=t;try{i()}catch(a){ss(r,a)}}n=n.next}while(n!==e)}break;case 1:if(lN(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){ss(t,a)}break;case 5:lN(t);break;case 4:K_(e,t)}}function fN(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function dN(e){return e.tag===5||e.tag===3||e.tag===4}function hN(e){e:{for(var t=e.return;t!==null;){if(dN(t))break e;t=t.return}throw Error(Te(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:t=t.containerInfo,r=!0;break;case 4:t=t.containerInfo,r=!0;break;default:throw Error(Te(161))}n.flags&16&&(md(t,""),n.flags&=-17);e:t:for(n=e;;){for(;n.sibling===null;){if(n.return===null||dN(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?Mw(e,n,t):Bw(e,n,t)}function Mw(e,t,n){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Hp));else if(r!==4&&(e=e.child,e!==null))for(Mw(e,t,n),e=e.sibling;e!==null;)Mw(e,t,n),e=e.sibling}function Bw(e,t,n){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Bw(e,t,n),e=e.sibling;e!==null;)Bw(e,t,n),e=e.sibling}function K_(e,t){for(var n=t,r=!1,i,a;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(Te(160));switch(i=r.stateNode,r.tag){case 5:a=!1;break e;case 3:i=i.containerInfo,a=!0;break e;case 4:i=i.containerInfo,a=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var c=e,d=n,m=d;;)if(cN(c,m),m.child!==null&&m.tag!==4)m.child.return=m,m=m.child;else{if(m===d)break e;for(;m.sibling===null;){if(m.return===null||m.return===d)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a?(c=i,d=n.stateNode,c.nodeType===8?c.parentNode.removeChild(d):c.removeChild(d)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,a=!0,n.child.return=n,n=n.child;continue}}else if(cN(e,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function Ny(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(e=r.destroy,r.destroy=void 0,e!==void 0&&e()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=t.stateNode,n!=null){r=t.memoizedProps;var i=e!==null?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,a!==null){for(n[Yp]=r,e==="input"&&r.type==="radio"&&r.name!=null&&PT(n,r),gw(e,i),t=gw(e,r),i=0;i<a.length;i+=2){var c=a[i],d=a[i+1];c==="style"?BT(n,d):c==="dangerouslySetInnerHTML"?zT(n,d):c==="children"?md(n,d):Fb(n,c,d,t)}switch(e){case"input":uw(n,r);break;case"textarea":DT(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,a=r.value,a!=null?qu(n,!!r.multiple,a,!1):e!==!!r.multiple&&(r.defaultValue!=null?qu(n,!!r.multiple,r.defaultValue,!0):qu(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(Te(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:n=t.stateNode,n.hydrate&&(n.hydrate=!1,HT(n.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(E0=ar(),uN(t.child,!0)),pN(t);return;case 19:pN(t);return;case 17:return;case 23:case 24:uN(t,t.memoizedState!==null);return}throw Error(Te(163))}function pN(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new IF),t.forEach(function(r){var i=MF.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function TF(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var _F=Math.ceil,lm=Dl.ReactCurrentDispatcher,b0=Dl.ReactCurrentOwner,dt=0,br=null,xn=null,sr=0,xl=0,Fw=Ss(0),Hn=0,rg=null,xc=0,Qd=0,Tc=0,S0=0,Uw=null,E0=0,Ww=1/0;function _c(){Ww=ar()+500}var Ke=null,um=!1,$w=null,Ro=null,gs=!1,nd=null,qf=90,qw=[],jw=[],sa=null,rd=0,Kw=null,_p=-1,ra=0,Op=0,id=null,Ap=!1;function ei(){return(dt&48)!==0?ar():_p!==-1?_p:_p=ar()}function os(e){if(e=e.mode,(e&2)===0)return 1;if((e&4)===0)return rc()===99?1:2;if(ra===0&&(ra=xc),mF.transition!==0){Op!==0&&(Op=Uw!==null?Uw.pendingLanes:0),e=ra;var t=4186112&~Op;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=rc(),(dt&4)!==0&&e===98?e=Vp(12,ra):(e=yB(e),e=Vp(e,ra)),e}function as(e,t,n){if(50<rd)throw rd=0,Kw=null,Error(Te(185));if(e=ig(e,t),e===null)return null;Jm(e,t,n),e===br&&(Tc|=t,Hn===4&&Yu(e,sr));var r=rc();t===1?(dt&8)!==0&&(dt&48)===0?Vw(e):(Pi(e,n),dt===0&&(_c(),zo())):((dt&4)===0||r!==98&&r!==99||(sa===null?sa=new Set([e]):sa.add(e)),Pi(e,n)),Uw=e}function ig(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}function Pi(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,c=e.pendingLanes;0<c;){var d=31-ps(c),m=1<<d,g=a[d];if(g===-1){if((m&r)===0||(m&i)!==0){g=t,Ou(m);var y=en;a[d]=10<=y?g+250:6<=y?g+5e3:-1}}else g<=t&&(e.expiredLanes|=m);c&=~m}if(r=wd(e,e===br?sr:0),t=en,r===0)n!==null&&(n!==by&&Tw(n),e.callbackNode=null,e.callbackPriority=0);else{if(n!==null){if(e.callbackPriority===t)return;n!==by&&Tw(n)}t===15?(n=Vw.bind(null,e),na===null?(na=[n],Tp=l0(tg,C_)):na.push(n),n=by):t===14?n=Cd(99,Vw.bind(null,e)):(n=wB(t),n=Cd(n,V_.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function V_(e){if(_p=-1,Op=ra=0,(dt&48)!==0)throw Error(Te(327));var t=e.callbackNode;if(Es()&&e.callbackNode!==t)return null;var n=wd(e,e===br?sr:0);if(n===0)return null;var r=n,i=dt;dt|=16;var a=J_();(br!==e||sr!==r)&&(_c(),Ju(e,r));do try{RF();break}catch(d){Y_(e,d)}while(1);if(u0(),lm.current=a,dt=i,xn!==null?r=0:(br=null,sr=0,r=Hn),(xc&Tc)!==0)Ju(e,0);else if(r!==0){if(r===2&&(dt|=64,e.hydrate&&(e.hydrate=!1,a0(e.containerInfo)),n=t_(e),n!==0&&(r=jf(e,n))),r===1)throw t=rg,Ju(e,0),Yu(e,n),Pi(e,ar()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(Te(345));case 2:ul(e);break;case 3:if(Yu(e,n),(n&62914560)===n&&(r=E0+500-ar(),10<r)){if(wd(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){ei(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=LI(ul.bind(null,e),r);break}ul(e);break;case 4:if(Yu(e,n),(n&4186112)===n)break;for(r=e.eventTimes,i=-1;0<n;){var c=31-ps(n);a=1<<c,c=r[c],c>i&&(i=c),n&=~a}if(n=i,n=ar()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_F(n/1960))-n,10<n){e.timeoutHandle=LI(ul.bind(null,e),n);break}ul(e);break;case 5:ul(e);break;default:throw Error(Te(329))}}return Pi(e,ar()),e.callbackNode===t?V_.bind(null,e):null}function Yu(e,t){for(t&=~S0,t&=~Tc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ps(t),r=1<<n;e[n]=-1,t&=~r}}function Vw(e){if((dt&48)!==0)throw Error(Te(327));if(Es(),e===br&&(e.expiredLanes&sr)!==0){var t=sr,n=jf(e,t);(xc&Tc)!==0&&(t=wd(e,t),n=jf(e,t))}else t=wd(e,0),n=jf(e,t);if(e.tag!==0&&n===2&&(dt|=64,e.hydrate&&(e.hydrate=!1,a0(e.containerInfo)),t=t_(e),t!==0&&(n=jf(e,t))),n===1)throw n=rg,Ju(e,0),Yu(e,t),Pi(e,ar()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,ul(e),Pi(e,ar()),null}function OF(){if(sa!==null){var e=sa;sa=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,Pi(t,ar())})}zo()}function G_(e,t){var n=dt;dt|=1;try{return e(t)}finally{dt=n,dt===0&&(_c(),zo())}}function H_(e,t){var n=dt;dt&=-2,dt|=8;try{return e(t)}finally{dt=n,dt===0&&(_c(),zo())}}function lp(e,t){fn(Fw,xl),xl|=t,xc|=t}function C0(){xl=Fw.current,nn(Fw)}function Ju(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,uF(n)),xn!==null)for(n=xn.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jp();break;case 3:ic(),nn(Dr),nn(lr),h0();break;case 5:d0(r);break;case 4:ic();break;case 13:nn(cn);break;case 19:nn(cn);break;case 10:c0(r);break;case 23:case 24:C0()}n=n.return}br=e,xn=vs(e.current,null),sr=xl=xc=t,Hn=0,rg=null,S0=Tc=Qd=0}function Y_(e,t){do{var n=xn;try{if(u0(),ed.current=sm,rm){for(var r=wn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}rm=!1}if(Td=0,Gn=or=wn=null,td=!1,b0.current=null,n===null||n.return===null){Hn=1,rg=t,xn=null;break}e:{var a=e,c=n.return,d=n,m=t;if(t=sr,d.flags|=2048,d.firstEffect=d.lastEffect=null,m!==null&&typeof m=="object"&&typeof m.then=="function"){var g=m;if((d.mode&2)===0){var y=d.alternate;y?(d.updateQueue=y.updateQueue,d.memoizedState=y.memoizedState,d.lanes=y.lanes):(d.updateQueue=null,d.memoizedState=null)}var b=(cn.current&1)!==0,C=c;do{var A;if(A=C.tag===13){var P=C.memoizedState;if(P!==null)A=P.dehydrated!==null;else{var L=C.memoizedProps;A=L.fallback===void 0?!1:L.unstable_avoidThisFallback!==!0?!0:!b}}if(A){var E=C.updateQueue;if(E===null){var I=new Set;I.add(g),C.updateQueue=I}else E.add(g);if((C.mode&2)===0){if(C.flags|=64,d.flags|=16384,d.flags&=-2981,d.tag===1)if(d.alternate===null)d.tag=17;else{var N=rs(-1,1);N.tag=2,is(d,N)}d.lanes|=1;break e}m=void 0,d=t;var D=a.pingCache;if(D===null?(D=a.pingCache=new CF,m=new Set,D.set(g,m)):(m=D.get(g),m===void 0&&(m=new Set,D.set(g,m))),!m.has(d)){m.add(d);var O=zF.bind(null,a,g,d);g.then(O,O)}C.flags|=4096,C.lanes=t;break e}C=C.return}while(C!==null);m=Error(($u(d.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Hn!==5&&(Hn=2),m=w0(m,d),C=c;do{switch(C.tag){case 3:a=m,C.flags|=4096,t&=-t,C.lanes|=t;var z=q_(C,a,t);$I(C,z);break e;case 1:a=m;var k=C.type,W=C.stateNode;if((C.flags&64)===0&&(typeof k.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Ro===null||!Ro.has(W)))){C.flags|=4096,t&=-t,C.lanes|=t;var j=j_(C,a,t);$I(C,j);break e}}C=C.return}while(C!==null)}X_(n)}catch($){t=$,xn===n&&n!==null&&(xn=n=n.return);continue}break}while(1)}function J_(){var e=lm.current;return lm.current=sm,e===null?sm:e}function jf(e,t){var n=dt;dt|=16;var r=J_();br===e&&sr===t||Ju(e,t);do try{AF();break}catch(i){Y_(e,i)}while(1);if(u0(),dt=n,lm.current=r,xn!==null)throw Error(Te(261));return br=null,sr=0,Hn}function AF(){for(;xn!==null;)Q_(xn)}function RF(){for(;xn!==null&&!dF();)Q_(xn)}function Q_(e){var t=eO(e.alternate,e,xl);e.memoizedProps=e.pendingProps,t===null?X_(e):xn=t,b0.current=null}function X_(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&2048)===0){if(n=SF(n,t,xl),n!==null){xn=n;return}if(n=t,n.tag!==24&&n.tag!==23||n.memoizedState===null||(xl&1073741824)!==0||(n.mode&4)===0){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}e!==null&&(e.flags&2048)===0&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(n=EF(t),n!==null){n.flags&=2047,xn=n;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(t=t.sibling,t!==null){xn=t;return}xn=t=e}while(t!==null);Hn===0&&(Hn=5)}function ul(e){var t=rc();return Nl(99,kF.bind(null,e,t)),null}function kF(e,t){do Es();while(nd!==null);if((dt&48)!==0)throw Error(Te(327));var n=e.finishedWork;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Te(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var c=e.eventTimes,d=e.expirationTimes;0<a;){var m=31-ps(a),g=1<<m;i[m]=0,c[m]=-1,d[m]=-1,a&=~g}if(sa!==null&&(r&24)===0&&sa.has(e)&&sa.delete(e),e===br&&(xn=br=null,sr=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=dt,dt|=32,b0.current=null,vy=Cp,c=_I(),Ew(c)){if("selectionStart"in c)d={start:c.selectionStart,end:c.selectionEnd};else e:if(d=(d=c.ownerDocument)&&d.defaultView||window,(g=d.getSelection&&d.getSelection())&&g.rangeCount!==0){d=g.anchorNode,a=g.anchorOffset,m=g.focusNode,g=g.focusOffset;try{d.nodeType,m.nodeType}catch{d=null;break e}var y=0,b=-1,C=-1,A=0,P=0,L=c,E=null;t:for(;;){for(var I;L!==d||a!==0&&L.nodeType!==3||(b=y+a),L!==m||g!==0&&L.nodeType!==3||(C=y+g),L.nodeType===3&&(y+=L.nodeValue.length),(I=L.firstChild)!==null;)E=L,L=I;for(;;){if(L===c)break t;if(E===d&&++A===a&&(b=y),E===m&&++P===g&&(C=y),(I=L.nextSibling)!==null)break;L=E,E=L.parentNode}L=I}d=b===-1||C===-1?null:{start:b,end:C}}else d=null;d=d||{start:0,end:0}}else d=null;yy={focusedElem:c,selectionRange:d},Cp=!1,id=null,Ap=!1,Ke=r;do try{PF()}catch($){if(Ke===null)throw Error(Te(330));ss(Ke,$),Ke=Ke.nextEffect}while(Ke!==null);id=null,Ke=r;do try{for(c=e;Ke!==null;){var N=Ke.flags;if(N&16&&md(Ke.stateNode,""),N&128){var D=Ke.alternate;if(D!==null){var O=D.ref;O!==null&&(typeof O=="function"?O(null):O.current=null)}}switch(N&1038){case 2:hN(Ke),Ke.flags&=-3;break;case 6:hN(Ke),Ke.flags&=-3,Ny(Ke.alternate,Ke);break;case 1024:Ke.flags&=-1025;break;case 1028:Ke.flags&=-1025,Ny(Ke.alternate,Ke);break;case 4:Ny(Ke.alternate,Ke);break;case 8:d=Ke,K_(c,d);var z=d.alternate;fN(d),z!==null&&fN(z)}Ke=Ke.nextEffect}}catch($){if(Ke===null)throw Error(Te(330));ss(Ke,$),Ke=Ke.nextEffect}while(Ke!==null);if(O=yy,D=_I(),N=O.focusedElem,c=O.selectionRange,D!==N&&N&&N.ownerDocument&&u_(N.ownerDocument.documentElement,N)){for(c!==null&&Ew(N)&&(D=c.start,O=c.end,O===void 0&&(O=D),"selectionStart"in N?(N.selectionStart=D,N.selectionEnd=Math.min(O,N.value.length)):(O=(D=N.ownerDocument||document)&&D.defaultView||window,O.getSelection&&(O=O.getSelection(),d=N.textContent.length,z=Math.min(c.start,d),c=c.end===void 0?z:Math.min(c.end,d),!O.extend&&z>c&&(d=c,c=z,z=d),d=TI(N,z),a=TI(N,c),d&&a&&(O.rangeCount!==1||O.anchorNode!==d.node||O.anchorOffset!==d.offset||O.focusNode!==a.node||O.focusOffset!==a.offset)&&(D=D.createRange(),D.setStart(d.node,d.offset),O.removeAllRanges(),z>c?(O.addRange(D),O.extend(a.node,a.offset)):(D.setEnd(a.node,a.offset),O.addRange(D)))))),D=[],O=N;O=O.parentNode;)O.nodeType===1&&D.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<D.length;N++)O=D[N],O.element.scrollLeft=O.left,O.element.scrollTop=O.top}Cp=!!vy,yy=vy=null,e.current=n,Ke=r;do try{for(N=e;Ke!==null;){var k=Ke.flags;if(k&36&&xF(N,Ke.alternate,Ke),k&128){D=void 0;var W=Ke.ref;if(W!==null){var j=Ke.stateNode;switch(Ke.tag){case 5:D=j;break;default:D=j}typeof W=="function"?W(D):W.current=D}}Ke=Ke.nextEffect}}catch($){if(Ke===null)throw Error(Te(330));ss(Ke,$),Ke=Ke.nextEffect}while(Ke!==null);Ke=null,pF(),dt=i}else e.current=n;if(gs)gs=!1,nd=e,qf=t;else for(Ke=r;Ke!==null;)t=Ke.nextEffect,Ke.nextEffect=null,Ke.flags&8&&(k=Ke,k.sibling=null,k.stateNode=null),Ke=t;if(r=e.pendingLanes,r===0&&(Ro=null),r===1?e===Kw?rd++:(rd=0,Kw=e):rd=0,n=n.stateNode,Sl&&typeof Sl.onCommitFiberRoot=="function")try{Sl.onCommitFiberRoot(s0,n,void 0,(n.current.flags&64)===64)}catch{}if(Pi(e,ar()),um)throw um=!1,e=$w,$w=null,e;return(dt&8)!==0||zo(),null}function PF(){for(;Ke!==null;){var e=Ke.alternate;Ap||id===null||((Ke.flags&8)!==0?hI(Ke,id)&&(Ap=!0):Ke.tag===13&&TF(e,Ke)&&hI(Ke,id)&&(Ap=!0));var t=Ke.flags;(t&256)!==0&&NF(e,Ke),(t&512)===0||gs||(gs=!0,Cd(97,function(){return Es(),null})),Ke=Ke.nextEffect}}function Es(){if(qf!==90){var e=97<qf?97:qf;return qf=90,Nl(e,LF)}return!1}function DF(e,t){qw.push(t,e),gs||(gs=!0,Cd(97,function(){return Es(),null}))}function Z_(e,t){jw.push(t,e),gs||(gs=!0,Cd(97,function(){return Es(),null}))}function LF(){if(nd===null)return!1;var e=nd;if(nd=null,(dt&48)!==0)throw Error(Te(331));var t=dt;dt|=32;var n=jw;jw=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],c=i.destroy;if(i.destroy=void 0,typeof c=="function")try{c()}catch(m){if(a===null)throw Error(Te(330));ss(a,m)}}for(n=qw,qw=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var d=i.create;i.destroy=d()}catch(m){if(a===null)throw Error(Te(330));ss(a,m)}}for(d=e.current.firstEffect;d!==null;)e=d.nextEffect,d.nextEffect=null,d.flags&8&&(d.sibling=null,d.stateNode=null),d=e;return dt=t,zo(),!0}function mN(e,t,n){t=w0(n,t),t=q_(e,t,1),is(e,t),t=ei(),e=ig(e,1),e!==null&&(Jm(e,1,t),Pi(e,t))}function ss(e,t){if(e.tag===3)mN(e,e,t);else for(var n=e.return;n!==null;){if(n.tag===3){mN(n,e,t);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ro===null||!Ro.has(r))){e=w0(t,e);var i=j_(n,e,1);if(is(n,i),i=ei(),n=ig(n,1),n!==null)Jm(n,1,i),Pi(n,i);else if(typeof r.componentDidCatch=="function"&&(Ro===null||!Ro.has(r)))try{r.componentDidCatch(t,e)}catch{}break}}n=n.return}}function zF(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ei(),e.pingedLanes|=e.suspendedLanes&n,br===e&&(sr&n)===n&&(Hn===4||Hn===3&&(sr&62914560)===sr&&500>ar()-E0?Ju(e,0):S0|=n),Pi(e,t)}function MF(e,t){var n=e.stateNode;n!==null&&n.delete(t),t=0,t===0&&(t=e.mode,(t&2)===0?t=1:(t&4)===0?t=rc()===99?1:2:(ra===0&&(ra=xc),t=Au(62914560&~ra),t===0&&(t=4194304))),n=ei(),e=ig(e,t),e!==null&&(Jm(e,t,n),Pi(e,n))}var eO;eO=function(e,t,n){var r=t.lanes;if(e!==null)if(e.memoizedProps!==t.pendingProps||Dr.current)no=!0;else if((n&r)!==0)no=(e.flags&16384)!==0;else{switch(no=!1,t.tag){case 3:tN(t),Ey();break;case 5:VI(t);break;case 1:Lr(t.type)&&xp(t);break;case 4:Aw(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fn(Qp,i._currentValue),i._currentValue=r;break;case 13:if(t.memoizedState!==null)return(n&t.child.childLanes)!==0?nN(e,t,n):(fn(cn,cn.current&1),t=oa(e,t,n),t!==null?t.sibling:null);fn(cn,cn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&64)!==0){if(r)return sN(e,t,n);t.flags|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),fn(cn,cn.current),r)break;return null;case 23:case 24:return t.lanes=0,Cy(e,t,n)}return oa(e,t,n)}else no=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=nc(t,lr.current),Gu(t,n),i=m0(null,t,r,e,i,n),t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Lr(r)){var a=!0;xp(t)}else a=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,f0(t);var c=r.getDerivedStateFromProps;typeof c=="function"&&em(t,r,c,e),i.updater=ng,t.stateNode=i,i._reactInternals=t,Ow(t,r,e,n),t=Dw(null,t,r,!0,a,n)}else t.tag=0,kr(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=i._init,i=a(i._payload),t.type=i,a=t.tag=FF(i),e=Zi(i,e),a){case 0:t=Pw(null,t,i,e,n);break e;case 1:t=eN(null,t,i,e,n);break e;case 11:t=XI(null,t,i,e,n);break e;case 14:t=ZI(null,t,i,Zi(i.type,e),r,n);break e}throw Error(Te(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zi(r,i),Pw(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zi(r,i),eN(e,t,r,i,n);case 3:if(tN(t),r=t.updateQueue,e===null||r===null)throw Error(Te(282));if(r=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,N_(e,t),Id(t,r,null,n),r=t.memoizedState.element,r===i)Ey(),t=oa(e,t,n);else{if(i=t.stateNode,(a=i.hydrate)&&(Ya=Vu(t.stateNode.containerInfo.firstChild),ia=t,a=Po=!0),a){if(e=i.mutableSourceEagerHydrationData,e!=null)for(i=0;i<e.length;i+=2)a=e[i],a._workInProgressVersionPrimary=e[i+1],Hu.push(a);for(n=O_(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else kr(e,t,r,n),Ey();t=t.child}return t;case 5:return VI(t),e===null&&Rw(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,c=i.children,Nw(r,i)?c=null:a!==null&&Nw(r,a)&&(t.flags|=16),F_(e,t),kr(e,t,c,n),t.child;case 6:return e===null&&Rw(t),null;case 13:return nN(e,t,n);case 4:return Aw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=tm(t,null,r,n):kr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zi(r,i),XI(e,t,r,i,n);case 7:return kr(e,t,t.pendingProps,n),t.child;case 8:return kr(e,t,t.pendingProps.children,n),t.child;case 12:return kr(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,c=t.memoizedProps,a=i.value;var d=t.type._context;if(fn(Qp,d._currentValue),d._currentValue=a,c!==null)if(d=c.value,a=Ii(d,a)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(d,a):1073741823)|0,a===0){if(c.children===i.children&&!Dr.current){t=oa(e,t,n);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var m=d.dependencies;if(m!==null){c=d.child;for(var g=m.firstContext;g!==null;){if(g.context===r&&(g.observedBits&a)!==0){d.tag===1&&(g=rs(-1,n&-n),g.tag=2,is(d,g)),d.lanes|=n,g=d.alternate,g!==null&&(g.lanes|=n),I_(d.return,n),m.lanes|=n;break}g=g.next}}else c=d.tag===10&&d.type===t.type?null:d.child;if(c!==null)c.return=d;else for(c=d;c!==null;){if(c===t){c=null;break}if(d=c.sibling,d!==null){d.return=c.return,c=d;break}c=c.return}d=c}kr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,a=t.pendingProps,r=a.children,Gu(t,n),i=ki(i,a.unstable_observedBits),r=r(i),t.flags|=1,kr(e,t,r,n),t.child;case 14:return i=t.type,a=Zi(i,t.pendingProps),a=Zi(i.type,a),ZI(e,t,i,a,r,n);case 15:return B_(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zi(r,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Lr(r)?(e=!0,xp(t)):e=!1,Gu(t,n),T_(t,r,i),Ow(t,r,i,n),Dw(null,t,r,!0,e,n);case 19:return sN(e,t,n);case 23:return Cy(e,t,n);case 24:return Cy(e,t,n)}throw Error(Te(156,t.tag))};function BF(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ni(e,t,n,r){return new BF(e,t,n,r)}function I0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function FF(e){if(typeof e=="function")return I0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Gm)return 11;if(e===Hm)return 14}return 2}function vs(e,t){var n=e.alternate;return n===null?(n=Ni(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rp(e,t,n,r,i,a){var c=2;if(r=e,typeof e=="function")I0(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case Ka:return Qu(n.children,i,a,t);case AT:c=8,i|=16;break;case Ub:c=8,i|=1;break;case Gf:return e=Ni(12,n,t,i|8),e.elementType=Gf,e.type=Gf,e.lanes=a,e;case Hf:return e=Ni(13,n,t,i),e.type=Hf,e.elementType=Hf,e.lanes=a,e;case $p:return e=Ni(19,n,t,i),e.elementType=$p,e.lanes=a,e;case Vb:return N0(n,i,a,t);case sw:return e=Ni(24,n,t,i),e.elementType=sw,e.lanes=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Wb:c=10;break e;case $b:c=9;break e;case Gm:c=11;break e;case Hm:c=14;break e;case qb:c=16,r=null;break e;case jb:c=22;break e}throw Error(Te(130,e==null?e:typeof e,""))}return t=Ni(c,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Qu(e,t,n,r){return e=Ni(7,e,r,t),e.lanes=n,e}function N0(e,t,n,r){return e=Ni(23,e,r,t),e.elementType=Vb,e.lanes=n,e}function xy(e,t,n){return e=Ni(6,e,null,t),e.lanes=n,e}function Ty(e,t,n){return t=Ni(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function UF(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=cy(0),this.expirationTimes=cy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cy(0),this.mutableSourceEagerHydrationData=null}function WF(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pl,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function cm(e,t,n,r){var i=t.current,a=ei(),c=os(i);e:if(n){n=n._reactInternals;t:{if(Ll(n)!==n||n.tag!==1)throw Error(Te(170));var d=n;do{switch(d.tag){case 3:d=d.stateNode.context;break t;case 1:if(Lr(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break t}}d=d.return}while(d!==null);throw Error(Te(171))}if(n.tag===1){var m=n.type;if(Lr(m)){n=v_(n,m,d);break e}}n=d}else n=ms;return t.context===null?t.context=n:t.pendingContext=n,t=rs(a,c),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),is(i,t),as(i,c,a),c}function _y(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gN(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function x0(e,t){gN(e,t),(e=e.alternate)&&gN(e,t)}function $F(){return null}function T0(e,t,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new UF(e,t,n!=null&&n.hydrate===!0),t=Ni(3,null,null,t===2?7:t===1?3:0),n.current=t,t.stateNode=n,f0(t),e[Nc]=n.current,d_(e.nodeType===8?e.parentNode:e),r)for(e=0;e<r.length;e++){t=r[e];var i=t._getVersion;i=i(t._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}T0.prototype.render=function(e){cm(e,this._internalRoot,null,null)};T0.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;cm(null,e,null,function(){t[Nc]=null})};function Xd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qF(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new T0(e,0,t?{hydrate:!0}:void 0)}function og(e,t,n,r,i){var a=n._reactRootContainer;if(a){var c=a._internalRoot;if(typeof i=="function"){var d=i;i=function(){var g=_y(c);d.call(g)}}cm(t,c,e,i)}else{if(a=n._reactRootContainer=qF(n,r),c=a._internalRoot,typeof i=="function"){var m=i;i=function(){var g=_y(c);m.call(g)}}H_(function(){cm(t,c,e,i)})}return _y(c)}KT=function(e){if(e.tag===13){var t=ei();as(e,4,t),x0(e,4)}};Qb=function(e){if(e.tag===13){var t=ei();as(e,67108864,t),x0(e,67108864)}};VT=function(e){if(e.tag===13){var t=ei(),n=os(e);as(e,n,t),x0(e,n)}};GT=function(e,t){return t()};vw=function(e,t,n){switch(t){case"input":if(uw(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=eg(r);if(!i)throw Error(Te(90));kT(r),uw(r,i)}}}break;case"textarea":DT(e,n);break;case"select":t=n.value,t!=null&&qu(e,!!n.multiple,t,!1)}};Hb=G_;WT=function(e,t,n,r,i){var a=dt;dt|=4;try{return Nl(98,e.bind(null,t,n,r,i))}finally{dt=a,dt===0&&(_c(),zo())}};Yb=function(){(dt&49)===0&&(OF(),Es())};$T=function(e,t){var n=dt;dt|=2;try{return e(t)}finally{dt=n,dt===0&&(_c(),zo())}};function tO(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xd(t))throw Error(Te(200));return WF(e,t,null,n)}var jF={Events:[Yd,Du,eg,FT,UT,Es,{current:!1}]},Df={findFiberByHostInstance:gl,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},KF={bundleType:Df.bundleType,version:Df.version,rendererPackageName:Df.rendererPackageName,rendererConfig:Df.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jT(e),e===null?null:e.stateNode},findFiberByHostInstance:Df.findFiberByHostInstance||$F,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var up=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!up.isDisabled&&up.supportsFiber)try{s0=up.inject(KF),Sl=up}catch{}}zi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jF;zi.createPortal=tO;zi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Te(188)):Error(Te(268,Object.keys(e)));return e=jT(t),e=e===null?null:e.stateNode,e};zi.flushSync=function(e,t){var n=dt;if((n&48)!==0)return e(t);dt|=1;try{if(e)return Nl(99,e.bind(null,t))}finally{dt=n,zo()}};zi.hydrate=function(e,t,n){if(!Xd(t))throw Error(Te(200));return og(null,e,t,!0,n)};zi.render=function(e,t,n){if(!Xd(t))throw Error(Te(200));return og(null,e,t,!1,n)};zi.unmountComponentAtNode=function(e){if(!Xd(e))throw Error(Te(40));return e._reactRootContainer?(H_(function(){og(null,null,e,!1,function(){e._reactRootContainer=null,e[Nc]=null})}),!0):!1};zi.unstable_batchedUpdates=G_;zi.unstable_createPortal=function(e,t){return tO(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};zi.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xd(n))throw Error(Te(200));if(e==null||e._reactInternals===void 0)throw Error(Te(38));return og(e,t,n,!1,r)};zi.version="17.0.2";function nO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nO)}catch(e){console.error(e)}}nO(),Gd.exports=zi;var _0=Gd.exports,VF=cT({__proto__:null,default:_0},[Gd.exports]),Gw={exports:{}},Tl={},O0={exports:{}},GF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",HF=GF,YF=HF;function rO(){}function iO(){}iO.resetWarningCache=rO;var JF=function(){function e(r,i,a,c,d,m){if(m!==YF){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:iO,resetWarningCache:rO};return n.PropTypes=n,n};O0.exports=JF();var Hw={exports:{}},lo={},fm={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n=/input|select|textarea|button|object|iframe/;function r(m){var g=m.offsetWidth<=0&&m.offsetHeight<=0;if(g&&!m.innerHTML)return!0;try{var y=window.getComputedStyle(m);return g?y.getPropertyValue("overflow")!=="visible"||m.scrollWidth<=0&&m.scrollHeight<=0:y.getPropertyValue("display")=="none"}catch{return console.warn("Failed to inspect element style"),!1}}function i(m){for(var g=m,y=m.getRootNode&&m.getRootNode();g&&g!==document.body;){if(y&&g===y&&(g=y.host.parentNode),r(g))return!1;g=g.parentNode}return!0}function a(m,g){var y=m.nodeName.toLowerCase(),b=n.test(y)&&!m.disabled||y==="a"&&m.href||g;return b&&i(m)}function c(m){var g=m.getAttribute("tabindex");g===null&&(g=void 0);var y=isNaN(g);return(y||g>=0)&&a(m,!y)}function d(m){var g=[].slice.call(m.querySelectorAll("*"),0).reduce(function(y,b){return y.concat(b.shadowRoot?d(b.shadowRoot):[b])},[]);return g.filter(c)}e.exports=t.default})(fm,fm.exports);Object.defineProperty(lo,"__esModule",{value:!0});lo.resetState=e2;lo.log=t2;lo.handleBlur=_d;lo.handleFocus=Od;lo.markForFocusLater=n2;lo.returnFocus=r2;lo.popWithoutFocus=i2;lo.setupScopedFocus=o2;lo.teardownScopedFocus=a2;var QF=fm.exports,XF=ZF(QF);function ZF(e){return e&&e.__esModule?e:{default:e}}var oc=[],Mu=null,Yw=!1;function e2(){oc=[]}function t2(){}function _d(){Yw=!0}function Od(){if(Yw){if(Yw=!1,!Mu)return;setTimeout(function(){if(!Mu.contains(document.activeElement)){var e=(0,XF.default)(Mu)[0]||Mu;e.focus()}},0)}}function n2(){oc.push(document.activeElement)}function r2(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=null;try{oc.length!==0&&(t=oc.pop(),t.focus({preventScroll:e}));return}catch{console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}}function i2(){oc.length>0&&oc.pop()}function o2(e){Mu=e,window.addEventListener?(window.addEventListener("blur",_d,!1),document.addEventListener("focus",Od,!0)):(window.attachEvent("onBlur",_d),document.attachEvent("onFocus",Od))}function a2(){Mu=null,window.addEventListener?(window.removeEventListener("blur",_d),document.removeEventListener("focus",Od)):(window.detachEvent("onBlur",_d),document.detachEvent("onFocus",Od))}var Jw={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=fm.exports,r=i(n);function i(d){return d&&d.__esModule?d:{default:d}}function a(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return d.activeElement.shadowRoot?a(d.activeElement.shadowRoot):d.activeElement}function c(d,m){var g=(0,r.default)(d);if(!g.length){m.preventDefault();return}var y=void 0,b=m.shiftKey,C=g[0],A=g[g.length-1],P=a();if(d===P){if(!b)return;y=A}if(A===P&&!b&&(y=C),C===P&&b&&(y=A),y){m.preventDefault(),y.focus();return}var L=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),E=L!=null&&L[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(!!E){var I=g.indexOf(P);if(I>-1&&(I+=b?-1:1),y=g[I],typeof y=="undefined"){m.preventDefault(),y=b?A:C,y.focus();return}m.preventDefault(),y.focus()}}e.exports=t.default})(Jw,Jw.exports);var uo={},s2=function(){},l2=s2,oo={},oO={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(e){(function(){var t=!!(typeof window!="undefined"&&window.document&&window.document.createElement),n={canUseDOM:t,canUseWorkers:typeof Worker!="undefined",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=n:window.ExecutionEnvironment=n})()})(oO);Object.defineProperty(oo,"__esModule",{value:!0});oo.canUseDOM=oo.SafeNodeList=oo.SafeHTMLCollection=void 0;var u2=oO.exports,c2=f2(u2);function f2(e){return e&&e.__esModule?e:{default:e}}var ag=c2.default,d2=ag.canUseDOM?window.HTMLElement:{};oo.SafeHTMLCollection=ag.canUseDOM?window.HTMLCollection:{};oo.SafeNodeList=ag.canUseDOM?window.NodeList:{};oo.canUseDOM=ag.canUseDOM;oo.default=d2;Object.defineProperty(uo,"__esModule",{value:!0});uo.resetState=v2;uo.log=y2;uo.assertNodeList=aO;uo.setElement=w2;uo.validateElement=A0;uo.hide=b2;uo.show=S2;uo.documentNotReadyOrSSRTesting=E2;var h2=l2,p2=g2(h2),m2=oo;function g2(e){return e&&e.__esModule?e:{default:e}}var Ei=null;function v2(){Ei&&(Ei.removeAttribute?Ei.removeAttribute("aria-hidden"):Ei.length!=null?Ei.forEach(function(e){return e.removeAttribute("aria-hidden")}):document.querySelectorAll(Ei).forEach(function(e){return e.removeAttribute("aria-hidden")})),Ei=null}function y2(){}function aO(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function w2(e){var t=e;if(typeof t=="string"&&m2.canUseDOM){var n=document.querySelectorAll(t);aO(n,t),t=n}return Ei=t||Ei,Ei}function A0(e){var t=e||Ei;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,p2.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function b2(e){var t=!0,n=!1,r=void 0;try{for(var i=A0(e)[Symbol.iterator](),a;!(t=(a=i.next()).done);t=!0){var c=a.value;c.setAttribute("aria-hidden","true")}}catch(d){n=!0,r=d}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}function S2(e){var t=!0,n=!1,r=void 0;try{for(var i=A0(e)[Symbol.iterator](),a;!(t=(a=i.next()).done);t=!0){var c=a.value;c.removeAttribute("aria-hidden")}}catch(d){n=!0,r=d}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}function E2(){Ei=null}var Oc={};Object.defineProperty(Oc,"__esModule",{value:!0});Oc.resetState=C2;Oc.log=I2;var od={},ad={};function vN(e,t){e.classList.remove(t)}function C2(){var e=document.getElementsByTagName("html")[0];for(var t in od)vN(e,od[t]);var n=document.body;for(var r in ad)vN(n,ad[r]);od={},ad={}}function I2(){}var N2=function(t,n){return t[n]||(t[n]=0),t[n]+=1,n},x2=function(t,n){return t[n]&&(t[n]-=1),n},T2=function(t,n,r){r.forEach(function(i){N2(n,i),t.add(i)})},_2=function(t,n,r){r.forEach(function(i){x2(n,i),n[i]===0&&t.remove(i)})};Oc.add=function(t,n){return T2(t.classList,t.nodeName.toLowerCase()=="html"?od:ad,n.split(" "))};Oc.remove=function(t,n){return _2(t.classList,t.nodeName.toLowerCase()=="html"?od:ad,n.split(" "))};var Ac={};Object.defineProperty(Ac,"__esModule",{value:!0});Ac.log=A2;Ac.resetState=R2;function O2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var sO=function e(){var t=this;O2(this,e),this.register=function(n){t.openInstances.indexOf(n)===-1&&(t.openInstances.push(n),t.emit("register"))},this.deregister=function(n){var r=t.openInstances.indexOf(n);r!==-1&&(t.openInstances.splice(r,1),t.emit("deregister"))},this.subscribe=function(n){t.subscribers.push(n)},this.emit=function(n){t.subscribers.forEach(function(r){return r(n,t.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},dm=new sO;function A2(){console.log("portalOpenInstances ----------"),console.log(dm.openInstances.length),dm.openInstances.forEach(function(e){return console.log(e)}),console.log("end portalOpenInstances ----------")}function R2(){dm=new sO}Ac.default=dm;var R0={};Object.defineProperty(R0,"__esModule",{value:!0});R0.resetState=L2;R0.log=z2;var k2=Ac,P2=D2(k2);function D2(e){return e&&e.__esModule?e:{default:e}}var ir=void 0,eo=void 0,El=[];function L2(){for(var e=[ir,eo],t=0;t<e.length;t++){var n=e[t];!n||n.parentNode&&n.parentNode.removeChild(n)}ir=eo=null,El=[]}function z2(){console.log("bodyTrap ----------"),console.log(El.length);for(var e=[ir,eo],t=0;t<e.length;t++){var n=e[t],r=n||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")}function yN(){El.length!==0&&El[El.length-1].focusContent()}function M2(e,t){!ir&&!eo&&(ir=document.createElement("div"),ir.setAttribute("data-react-modal-body-trap",""),ir.style.position="absolute",ir.style.opacity="0",ir.setAttribute("tabindex","0"),ir.addEventListener("focus",yN),eo=ir.cloneNode(),eo.addEventListener("focus",yN)),El=t,El.length>0?(document.body.firstChild!==ir&&document.body.insertBefore(ir,document.body.firstChild),document.body.lastChild!==eo&&document.body.appendChild(eo)):(ir.parentElement&&ir.parentElement.removeChild(ir),eo.parentElement&&eo.parentElement.removeChild(eo))}P2.default.subscribe(M2);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(ne){for(var ae=1;ae<arguments.length;ae++){var de=arguments[ae];for(var re in de)Object.prototype.hasOwnProperty.call(de,re)&&(ne[re]=de[re])}return ne},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},i=function(){function ne(ae,de){for(var re=0;re<de.length;re++){var J=de[re];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(ae,J.key,J)}}return function(ae,de,re){return de&&ne(ae.prototype,de),re&&ne(ae,re),ae}}(),a=X.exports,c=O0.exports,d=z(c),m=lo,g=O(m),y=Jw.exports,b=z(y),C=uo,A=O(C),P=Oc,L=O(P),E=oo,I=z(E),N=Ac,D=z(N);function O(ne){if(ne&&ne.__esModule)return ne;var ae={};if(ne!=null)for(var de in ne)Object.prototype.hasOwnProperty.call(ne,de)&&(ae[de]=ne[de]);return ae.default=ne,ae}function z(ne){return ne&&ne.__esModule?ne:{default:ne}}function k(ne,ae){if(!(ne instanceof ae))throw new TypeError("Cannot call a class as a function")}function W(ne,ae){if(!ne)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ae&&(typeof ae=="object"||typeof ae=="function")?ae:ne}function j(ne,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ae);ne.prototype=Object.create(ae&&ae.prototype,{constructor:{value:ne,enumerable:!1,writable:!0,configurable:!0}}),ae&&(Object.setPrototypeOf?Object.setPrototypeOf(ne,ae):ne.__proto__=ae)}var $={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},M=9,Y=27,K=0,Z=function(ne){j(ae,ne);function ae(de){k(this,ae);var re=W(this,(ae.__proto__||Object.getPrototypeOf(ae)).call(this,de));return re.setOverlayRef=function(J){re.overlay=J,re.props.overlayRef&&re.props.overlayRef(J)},re.setContentRef=function(J){re.content=J,re.props.contentRef&&re.props.contentRef(J)},re.afterClose=function(){var J=re.props,Q=J.appElement,ue=J.ariaHideApp,se=J.htmlOpenClassName,he=J.bodyOpenClassName;he&&L.remove(document.body,he),se&&L.remove(document.getElementsByTagName("html")[0],se),ue&&K>0&&(K-=1,K===0&&A.show(Q)),re.props.shouldFocusAfterRender&&(re.props.shouldReturnFocusAfterClose?(g.returnFocus(re.props.preventScroll),g.teardownScopedFocus()):g.popWithoutFocus()),re.props.onAfterClose&&re.props.onAfterClose(),D.default.deregister(re)},re.open=function(){re.beforeOpen(),re.state.afterOpen&&re.state.beforeClose?(clearTimeout(re.closeTimer),re.setState({beforeClose:!1})):(re.props.shouldFocusAfterRender&&(g.setupScopedFocus(re.node),g.markForFocusLater()),re.setState({isOpen:!0},function(){re.openAnimationFrame=requestAnimationFrame(function(){re.setState({afterOpen:!0}),re.props.isOpen&&re.props.onAfterOpen&&re.props.onAfterOpen({overlayEl:re.overlay,contentEl:re.content})})}))},re.close=function(){re.props.closeTimeoutMS>0?re.closeWithTimeout():re.closeWithoutTimeout()},re.focusContent=function(){return re.content&&!re.contentHasFocus()&&re.content.focus({preventScroll:!0})},re.closeWithTimeout=function(){var J=Date.now()+re.props.closeTimeoutMS;re.setState({beforeClose:!0,closesAt:J},function(){re.closeTimer=setTimeout(re.closeWithoutTimeout,re.state.closesAt-Date.now())})},re.closeWithoutTimeout=function(){re.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},re.afterClose)},re.handleKeyDown=function(J){J.keyCode===M&&(0,b.default)(re.content,J),re.props.shouldCloseOnEsc&&J.keyCode===Y&&(J.stopPropagation(),re.requestClose(J))},re.handleOverlayOnClick=function(J){re.shouldClose===null&&(re.shouldClose=!0),re.shouldClose&&re.props.shouldCloseOnOverlayClick&&(re.ownerHandlesClose()?re.requestClose(J):re.focusContent()),re.shouldClose=null},re.handleContentOnMouseUp=function(){re.shouldClose=!1},re.handleOverlayOnMouseDown=function(J){!re.props.shouldCloseOnOverlayClick&&J.target==re.overlay&&J.preventDefault()},re.handleContentOnClick=function(){re.shouldClose=!1},re.handleContentOnMouseDown=function(){re.shouldClose=!1},re.requestClose=function(J){return re.ownerHandlesClose()&&re.props.onRequestClose(J)},re.ownerHandlesClose=function(){return re.props.onRequestClose},re.shouldBeClosed=function(){return!re.state.isOpen&&!re.state.beforeClose},re.contentHasFocus=function(){return document.activeElement===re.content||re.content.contains(document.activeElement)},re.buildClassName=function(J,Q){var ue=(typeof Q=="undefined"?"undefined":r(Q))==="object"?Q:{base:$[J],afterOpen:$[J]+"--after-open",beforeClose:$[J]+"--before-close"},se=ue.base;return re.state.afterOpen&&(se=se+" "+ue.afterOpen),re.state.beforeClose&&(se=se+" "+ue.beforeClose),typeof Q=="string"&&Q?se+" "+Q:se},re.attributesFromObject=function(J,Q){return Object.keys(Q).reduce(function(ue,se){return ue[J+"-"+se]=Q[se],ue},{})},re.state={afterOpen:!1,beforeClose:!1},re.shouldClose=null,re.moveFromContentToOverlay=null,re}return i(ae,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(re,J){this.props.isOpen&&!re.isOpen?this.open():!this.props.isOpen&&re.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!J.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var re=this.props,J=re.appElement,Q=re.ariaHideApp,ue=re.htmlOpenClassName,se=re.bodyOpenClassName;se&&L.add(document.body,se),ue&&L.add(document.getElementsByTagName("html")[0],ue),Q&&(K+=1,A.hide(J)),D.default.register(this)}},{key:"render",value:function(){var re=this.props,J=re.id,Q=re.className,ue=re.overlayClassName,se=re.defaultStyles,he=re.children,Ce=Q?{}:se.content,ze=ue?{}:se.overlay;if(this.shouldBeClosed())return null;var pe={ref:this.setOverlayRef,className:this.buildClassName("overlay",ue),style:n({},ze,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},et=n({id:J,ref:this.setContentRef,style:n({},Ce,this.props.style.content),className:this.buildClassName("content",Q),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Et=this.props.contentElement(et,he);return this.props.overlayElement(pe,Et)}}]),ae}(a.Component);Z.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},Z.propTypes={isOpen:d.default.bool.isRequired,defaultStyles:d.default.shape({content:d.default.object,overlay:d.default.object}),style:d.default.shape({content:d.default.object,overlay:d.default.object}),className:d.default.oneOfType([d.default.string,d.default.object]),overlayClassName:d.default.oneOfType([d.default.string,d.default.object]),bodyOpenClassName:d.default.string,htmlOpenClassName:d.default.string,ariaHideApp:d.default.bool,appElement:d.default.oneOfType([d.default.instanceOf(I.default),d.default.instanceOf(E.SafeHTMLCollection),d.default.instanceOf(E.SafeNodeList),d.default.arrayOf(d.default.instanceOf(I.default))]),onAfterOpen:d.default.func,onAfterClose:d.default.func,onRequestClose:d.default.func,closeTimeoutMS:d.default.number,shouldFocusAfterRender:d.default.bool,shouldCloseOnOverlayClick:d.default.bool,shouldReturnFocusAfterClose:d.default.bool,preventScroll:d.default.bool,role:d.default.string,contentLabel:d.default.string,aria:d.default.object,data:d.default.object,children:d.default.node,shouldCloseOnEsc:d.default.bool,overlayRef:d.default.func,contentRef:d.default.func,id:d.default.string,overlayElement:d.default.func,contentElement:d.default.func,testId:d.default.string},t.default=Z,e.exports=t.default})(Hw,Hw.exports);function lO(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function uO(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r!=null?r:null}this.setState(t.bind(this))}function cO(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}lO.__suppressDeprecationWarning=!0;uO.__suppressDeprecationWarning=!0;cO.__suppressDeprecationWarning=!0;function B2(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,i=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var a=e.displayName||e.name,c=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+c+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=lO,t.componentWillReceiveProps=uO),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=cO;var d=t.componentDidUpdate;t.componentDidUpdate=function(g,y,b){var C=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:b;d.call(this,g,y,C)}}return e}var F2=Object.freeze(Object.defineProperty({__proto__:null,polyfill:B2},Symbol.toStringTag,{value:"Module"})),U2=$M(F2);Object.defineProperty(Tl,"__esModule",{value:!0});Tl.bodyOpenClassName=Tl.portalClassName=void 0;var wN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W2=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),fO=X.exports,hm=Zd(fO),$2=Gd.exports,pm=Zd($2),q2=O0.exports,mt=Zd(q2),j2=Hw.exports,bN=Zd(j2),K2=uo,V2=H2(K2),Ja=oo,SN=Zd(Ja),G2=U2;function H2(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Zd(e){return e&&e.__esModule?e:{default:e}}function Y2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EN(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function J2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Q2=Tl.portalClassName="ReactModalPortal",X2=Tl.bodyOpenClassName="ReactModal__Body--open",cl=Ja.canUseDOM&&pm.default.createPortal!==void 0,CN=function(t){return document.createElement(t)},IN=function(){return cl?pm.default.createPortal:pm.default.unstable_renderSubtreeIntoContainer};function cp(e){return e()}var eh=function(e){J2(t,e);function t(){var n,r,i,a;Y2(this,t);for(var c=arguments.length,d=Array(c),m=0;m<c;m++)d[m]=arguments[m];return a=(r=(i=EN(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(d))),i),i.removePortal=function(){!cl&&pm.default.unmountComponentAtNode(i.node);var g=cp(i.props.parentSelector);g&&g.contains(i.node)?g.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(g){i.portal=g},i.renderPortal=function(g){var y=IN(),b=y(i,hm.default.createElement(bN.default,wN({defaultStyles:t.defaultStyles},g)),i.node);i.portalRef(b)},r),EN(i,a)}return W2(t,[{key:"componentDidMount",value:function(){if(!!Ja.canUseDOM){cl||(this.node=CN("div")),this.node.className=this.props.portalClassName;var r=cp(this.props.parentSelector);r.appendChild(this.node),!cl&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(r){var i=cp(r.parentSelector),a=cp(this.props.parentSelector);return{prevParent:i,nextParent:a}}},{key:"componentDidUpdate",value:function(r,i,a){if(!!Ja.canUseDOM){var c=this.props,d=c.isOpen,m=c.portalClassName;r.portalClassName!==m&&(this.node.className=m);var g=a.prevParent,y=a.nextParent;y!==g&&(g.removeChild(this.node),y.appendChild(this.node)),!(!r.isOpen&&!d)&&!cl&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!Ja.canUseDOM||!this.node||!this.portal)){var r=this.portal.state,i=Date.now(),a=r.isOpen&&this.props.closeTimeoutMS&&(r.closesAt||i+this.props.closeTimeoutMS);a?(r.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,a-i)):this.removePortal()}}},{key:"render",value:function(){if(!Ja.canUseDOM||!cl)return null;!this.node&&cl&&(this.node=CN("div"));var r=IN();return r(hm.default.createElement(bN.default,wN({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(r){V2.setElement(r)}}]),t}(fO.Component);eh.propTypes={isOpen:mt.default.bool.isRequired,style:mt.default.shape({content:mt.default.object,overlay:mt.default.object}),portalClassName:mt.default.string,bodyOpenClassName:mt.default.string,htmlOpenClassName:mt.default.string,className:mt.default.oneOfType([mt.default.string,mt.default.shape({base:mt.default.string.isRequired,afterOpen:mt.default.string.isRequired,beforeClose:mt.default.string.isRequired})]),overlayClassName:mt.default.oneOfType([mt.default.string,mt.default.shape({base:mt.default.string.isRequired,afterOpen:mt.default.string.isRequired,beforeClose:mt.default.string.isRequired})]),appElement:mt.default.oneOfType([mt.default.instanceOf(SN.default),mt.default.instanceOf(Ja.SafeHTMLCollection),mt.default.instanceOf(Ja.SafeNodeList),mt.default.arrayOf(mt.default.instanceOf(SN.default))]),onAfterOpen:mt.default.func,onRequestClose:mt.default.func,closeTimeoutMS:mt.default.number,ariaHideApp:mt.default.bool,shouldFocusAfterRender:mt.default.bool,shouldCloseOnOverlayClick:mt.default.bool,shouldReturnFocusAfterClose:mt.default.bool,preventScroll:mt.default.bool,parentSelector:mt.default.func,aria:mt.default.object,data:mt.default.object,role:mt.default.string,contentLabel:mt.default.string,shouldCloseOnEsc:mt.default.bool,overlayRef:mt.default.func,contentRef:mt.default.func,id:mt.default.string,overlayElement:mt.default.func,contentElement:mt.default.func};eh.defaultProps={isOpen:!1,portalClassName:Q2,bodyOpenClassName:X2,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(t,n){return hm.default.createElement("div",t,n)},contentElement:function(t,n){return hm.default.createElement("div",t,n)}};eh.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,G2.polyfill)(eh);Tl.default=eh;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Tl,r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}t.default=r.default,e.exports=t.default})(Gw,Gw.exports);var th=fT(Gw.exports);/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ad(){return Ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ad.apply(this,arguments)}var Qa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Qa||(Qa={}));const NN="popstate";function Z2(e){e===void 0&&(e={});function t(i,a){let{pathname:c="/",search:d="",hash:m=""}=Ml(i.location.hash.substr(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Qw("",{pathname:c,search:d,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let c=i.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let m=i.location.href,g=m.indexOf("#");d=g===-1?m:m.slice(0,g)}return d+"#"+(typeof a=="string"?a:mm(a))}function r(i,a){k0(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return tU(t,n,r,e)}function dn(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function k0(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch{}}}function eU(){return Math.random().toString(36).substr(2,8)}function xN(e,t){return{usr:e.state,key:e.key,idx:t}}function Qw(e,t,n,r){return n===void 0&&(n=null),Ad({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ml(t):t,{state:n,key:t&&t.key||r||eU()})}function mm(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ml(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function tU(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,c=i.history,d=Qa.Pop,m=null,g=y();g==null&&(g=0,c.replaceState(Ad({},c.state,{idx:g}),""));function y(){return(c.state||{idx:null}).idx}function b(){d=Qa.Pop;let E=y(),I=E==null?null:E-g;g=E,m&&m({action:d,location:L.location,delta:I})}function C(E,I){d=Qa.Push;let N=Qw(L.location,E,I);n&&n(N,E),g=y()+1;let D=xN(N,g),O=L.createHref(N);try{c.pushState(D,"",O)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(O)}a&&m&&m({action:d,location:L.location,delta:1})}function A(E,I){d=Qa.Replace;let N=Qw(L.location,E,I);n&&n(N,E),g=y();let D=xN(N,g),O=L.createHref(N);c.replaceState(D,"",O),a&&m&&m({action:d,location:L.location,delta:0})}function P(E){let I=i.location.origin!=="null"?i.location.origin:i.location.href,N=typeof E=="string"?E:mm(E);return N=N.replace(/ $/,"%20"),dn(I,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,I)}let L={get action(){return d},get location(){return e(i,c)},listen(E){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(NN,b),m=E,()=>{i.removeEventListener(NN,b),m=null}},createHref(E){return t(i,E)},createURL:P,encodeLocation(E){let I=P(E);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:C,replace:A,go(E){return c.go(E)}};return L}var TN;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(TN||(TN={}));function nU(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Ml(t):t,i=ac(r.pathname||"/",n);if(i==null)return null;let a=dO(e);rU(a);let c=null;for(let d=0;c==null&&d<a.length;++d){let m=pU(i);c=dU(a[d],m)}return c}function dO(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,c,d)=>{let m={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};m.relativePath.startsWith("/")&&(dn(m.relativePath.startsWith(r),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(r.length));let g=ls([r,m.relativePath]),y=n.concat(m);a.children&&a.children.length>0&&(dn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),dO(a.children,t,y,g)),!(a.path==null&&!a.index)&&t.push({path:g,score:cU(g,a.index),routesMeta:y})};return e.forEach((a,c)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))i(a,c);else for(let m of hO(a.path))i(a,c,m)}),t}function hO(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let c=hO(r.join("/")),d=[];return d.push(...c.map(m=>m===""?a:[a,m].join("/"))),i&&d.push(...c),d.map(m=>e.startsWith("/")&&m===""?"/":m)}function rU(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:fU(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const iU=/^:[\w-]+$/,oU=3,aU=2,sU=1,lU=10,uU=-2,_N=e=>e==="*";function cU(e,t){let n=e.split("/"),r=n.length;return n.some(_N)&&(r+=uU),t&&(r+=aU),n.filter(i=>!_N(i)).reduce((i,a)=>i+(iU.test(a)?oU:a===""?sU:lU),r)}function fU(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function dU(e,t){let{routesMeta:n}=e,r={},i="/",a=[];for(let c=0;c<n.length;++c){let d=n[c],m=c===n.length-1,g=i==="/"?t:t.slice(i.length)||"/",y=Xw({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},g);if(!y)return null;Object.assign(r,y.params);let b=d.route;a.push({params:r,pathname:ls([i,y.pathname]),pathnameBase:yU(ls([i,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(i=ls([i,y.pathnameBase]))}return a}function Xw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=hU(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],c=a.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((g,y,b)=>{let{paramName:C,isOptional:A}=y;if(C==="*"){let L=d[b]||"";c=a.slice(0,a.length-L.length).replace(/(.)\/+$/,"$1")}const P=d[b];return A&&!P?g[C]=void 0:g[C]=(P||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:c,pattern:e}}function hU(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),k0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(r.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function pU(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return k0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ac(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function mU(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ml(e):e;return{pathname:n?n.startsWith("/")?n:gU(n,t):t,search:wU(r),hash:bU(i)}}function gU(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Oy(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vU(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function pO(e,t){let n=vU(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function mO(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Ml(e):(i=Ad({},e),dn(!i.pathname||!i.pathname.includes("?"),Oy("?","pathname","search",i)),dn(!i.pathname||!i.pathname.includes("#"),Oy("#","pathname","hash",i)),dn(!i.search||!i.search.includes("#"),Oy("#","search","hash",i)));let a=e===""||i.pathname==="",c=a?"/":i.pathname,d;if(c==null)d=n;else{let b=t.length-1;if(!r&&c.startsWith("..")){let C=c.split("/");for(;C[0]==="..";)C.shift(),b-=1;i.pathname=C.join("/")}d=b>=0?t[b]:"/"}let m=mU(i,d),g=c&&c!=="/"&&c.endsWith("/"),y=(a||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}const ls=e=>e.join("/").replace(/\/\/+/g,"/"),yU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),wU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function SU(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const EU=["post","put","patch","delete"];[...EU];/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rd(){return Rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rd.apply(this,arguments)}const sg=X.exports.createContext(null),gO=X.exports.createContext(null),Cs=X.exports.createContext(null),lg=X.exports.createContext(null),Bl=X.exports.createContext({outlet:null,matches:[],isDataRoute:!1}),vO=X.exports.createContext(null);function CU(e,t){let{relative:n}=t===void 0?{}:t;nh()||dn(!1);let{basename:r,navigator:i}=X.exports.useContext(Cs),{hash:a,pathname:c,search:d}=ug(e,{relative:n}),m=c;return r!=="/"&&(m=c==="/"?r:ls([r,c])),i.createHref({pathname:m,search:d,hash:a})}function nh(){return X.exports.useContext(lg)!=null}function rh(){return nh()||dn(!1),X.exports.useContext(lg).location}function yO(e){X.exports.useContext(Cs).static||X.exports.useLayoutEffect(e)}function IU(){let{isDataRoute:e}=X.exports.useContext(Bl);return e?MU():NU()}function NU(){nh()||dn(!1);let e=X.exports.useContext(sg),{basename:t,future:n,navigator:r}=X.exports.useContext(Cs),{matches:i}=X.exports.useContext(Bl),{pathname:a}=rh(),c=JSON.stringify(pO(i,n.v7_relativeSplatPath)),d=X.exports.useRef(!1);return yO(()=>{d.current=!0}),X.exports.useCallback(function(g,y){if(y===void 0&&(y={}),!d.current)return;if(typeof g=="number"){r.go(g);return}let b=mO(g,JSON.parse(c),a,y.relative==="path");e==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:ls([t,b.pathname])),(y.replace?r.replace:r.push)(b,y.state,y)},[t,r,c,a,e])}function ug(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=X.exports.useContext(Cs),{matches:i}=X.exports.useContext(Bl),{pathname:a}=rh(),c=JSON.stringify(pO(i,r.v7_relativeSplatPath));return X.exports.useMemo(()=>mO(e,JSON.parse(c),a,n==="path"),[e,c,a,n])}function xU(e,t){return TU(e,t)}function TU(e,t,n,r){nh()||dn(!1);let{navigator:i}=X.exports.useContext(Cs),{matches:a}=X.exports.useContext(Bl),c=a[a.length-1],d=c?c.params:{};c&&c.pathname;let m=c?c.pathnameBase:"/";c&&c.route;let g=rh(),y;if(t){var b;let E=typeof t=="string"?Ml(t):t;m==="/"||((b=E.pathname)==null?void 0:b.startsWith(m))||dn(!1),y=E}else y=g;let C=y.pathname||"/",A=C;if(m!=="/"){let E=m.replace(/^\//,"").split("/"),I=C.replace(/^\//,"").split("/");A="/"+I.slice(E.length).join("/")}let P=nU(e,{pathname:A}),L=kU(P&&P.map(E=>Object.assign({},E,{params:Object.assign({},d,E.params),pathname:ls([m,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?m:ls([m,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),a,n,r);return t&&L?X.exports.createElement(lg.Provider,{value:{location:Rd({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Qa.Pop}},L):L}function _U(){let e=zU(),t=SU(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return X.exports.createElement(X.exports.Fragment,null,X.exports.createElement("h2",null,"Unexpected Application Error!"),X.exports.createElement("h3",{style:{fontStyle:"italic"}},t),n?X.exports.createElement("pre",{style:i},n):null,a)}const OU=X.exports.createElement(_U,null);class AU extends X.exports.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?X.exports.createElement(Bl.Provider,{value:this.props.routeContext},X.exports.createElement(vO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RU(e){let{routeContext:t,match:n,children:r}=e,i=X.exports.useContext(sg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),X.exports.createElement(Bl.Provider,{value:t},r)}function kU(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if((a=n)!=null&&a.errors)e=n.matches;else return null}let c=e,d=(i=n)==null?void 0:i.errors;if(d!=null){let y=c.findIndex(b=>b.route.id&&(d==null?void 0:d[b.route.id])!==void 0);y>=0||dn(!1),c=c.slice(0,Math.min(c.length,y+1))}let m=!1,g=-1;if(n&&r&&r.v7_partialHydration)for(let y=0;y<c.length;y++){let b=c[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=y),b.route.id){let{loaderData:C,errors:A}=n,P=b.route.loader&&C[b.route.id]===void 0&&(!A||A[b.route.id]===void 0);if(b.route.lazy||P){m=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((y,b,C)=>{let A,P=!1,L=null,E=null;n&&(A=d&&b.route.id?d[b.route.id]:void 0,L=b.route.errorElement||OU,m&&(g<0&&C===0?(BU("route-fallback",!1),P=!0,E=null):g===C&&(P=!0,E=b.route.hydrateFallbackElement||null)));let I=t.concat(c.slice(0,C+1)),N=()=>{let D;return A?D=L:P?D=E:b.route.Component?D=X.exports.createElement(b.route.Component,null):b.route.element?D=b.route.element:D=y,X.exports.createElement(RU,{match:b,routeContext:{outlet:y,matches:I,isDataRoute:n!=null},children:D})};return n&&(b.route.ErrorBoundary||b.route.errorElement||C===0)?X.exports.createElement(AU,{location:n.location,revalidation:n.revalidation,component:L,error:A,children:N(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):N()},null)}var wO=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(wO||{}),gm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(gm||{});function PU(e){let t=X.exports.useContext(sg);return t||dn(!1),t}function DU(e){let t=X.exports.useContext(gO);return t||dn(!1),t}function LU(e){let t=X.exports.useContext(Bl);return t||dn(!1),t}function bO(e){let t=LU(),n=t.matches[t.matches.length-1];return n.route.id||dn(!1),n.route.id}function zU(){var e;let t=X.exports.useContext(vO),n=DU(gm.UseRouteError),r=bO(gm.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function MU(){let{router:e}=PU(wO.UseNavigateStable),t=bO(gm.UseNavigateStable),n=X.exports.useRef(!1);return yO(()=>{n.current=!0}),X.exports.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Rd({fromRouteId:t},a)))},[e,t])}const ON={};function BU(e,t,n){!t&&!ON[e]&&(ON[e]=!0)}const FU="startTransition";zb[FU];function SO(e){dn(!1)}function UU(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Qa.Pop,navigator:a,static:c=!1,future:d}=e;nh()&&dn(!1);let m=t.replace(/^\/*/,"/"),g=X.exports.useMemo(()=>({basename:m,navigator:a,static:c,future:Rd({v7_relativeSplatPath:!1},d)}),[m,d,a,c]);typeof r=="string"&&(r=Ml(r));let{pathname:y="/",search:b="",hash:C="",state:A=null,key:P="default"}=r,L=X.exports.useMemo(()=>{let E=ac(y,m);return E==null?null:{location:{pathname:E,search:b,hash:C,state:A,key:P},navigationType:i}},[m,y,b,C,A,P,i]);return L==null?null:X.exports.createElement(Cs.Provider,{value:g},X.exports.createElement(lg.Provider,{children:n,value:L}))}function WU(e){let{children:t,location:n}=e;return xU(Zw(t),n)}new Promise(()=>{});function Zw(e,t){t===void 0&&(t=[]);let n=[];return X.exports.Children.forEach(e,(r,i)=>{if(!X.exports.isValidElement(r))return;let a=[...t,i];if(r.type===X.exports.Fragment){n.push.apply(n,Zw(r.props.children,a));return}r.type!==SO&&dn(!1),!r.props.index||!r.props.children||dn(!1);let c={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Zw(r.props.children,a)),n.push(c)}),n}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vm(){return vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vm.apply(this,arguments)}function EO(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function $U(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qU(e,t){return e.button===0&&(!t||t==="_self")&&!$U(e)}const jU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],KU=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],VU="6";try{window.__reactRouterVersion=VU}catch{}const GU=X.exports.createContext({isTransitioning:!1}),HU="startTransition",AN=zb[HU],YU="flushSync";VF[YU];const JU="useId";zb[JU];function QU(e){let{basename:t,children:n,future:r,window:i}=e,a=X.exports.useRef();a.current==null&&(a.current=Z2({window:i,v5Compat:!0}));let c=a.current,[d,m]=X.exports.useState({action:c.action,location:c.location}),{v7_startTransition:g}=r||{},y=X.exports.useCallback(b=>{g&&AN?AN(()=>m(b)):m(b)},[m,g]);return X.exports.useLayoutEffect(()=>c.listen(y),[c,y]),X.exports.createElement(UU,{basename:t,children:n,location:d.location,navigationType:d.action,navigator:c,future:r})}const XU=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",ZU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eW=X.exports.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:a,replace:c,state:d,target:m,to:g,preventScrollReset:y,unstable_viewTransition:b}=t,C=EO(t,jU),{basename:A}=X.exports.useContext(Cs),P,L=!1;if(typeof g=="string"&&ZU.test(g)&&(P=g,XU))try{let D=new URL(window.location.href),O=g.startsWith("//")?new URL(D.protocol+g):new URL(g),z=ac(O.pathname,A);O.origin===D.origin&&z!=null?g=z+O.search+O.hash:L=!0}catch{}let E=CU(g,{relative:i}),I=rW(g,{replace:c,state:d,target:m,preventScrollReset:y,relative:i,unstable_viewTransition:b});function N(D){r&&r(D),D.defaultPrevented||I(D)}return X.exports.createElement("a",vm({},C,{href:P||E,onClick:L||a?r:N,ref:n,target:m}))}),tW=X.exports.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:c=!1,style:d,to:m,unstable_viewTransition:g,children:y}=t,b=EO(t,KU),C=ug(m,{relative:b.relative}),A=rh(),P=X.exports.useContext(gO),{navigator:L,basename:E}=X.exports.useContext(Cs),I=P!=null&&iW(C)&&g===!0,N=L.encodeLocation?L.encodeLocation(C).pathname:C.pathname,D=A.pathname,O=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;i||(D=D.toLowerCase(),O=O?O.toLowerCase():null,N=N.toLowerCase()),O&&E&&(O=ac(O,E)||O);const z=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let k=D===N||!c&&D.startsWith(N)&&D.charAt(z)==="/",W=O!=null&&(O===N||!c&&O.startsWith(N)&&O.charAt(N.length)==="/"),j={isActive:k,isPending:W,isTransitioning:I},$=k?r:void 0,M;typeof a=="function"?M=a(j):M=[a,k?"active":null,W?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let Y=typeof d=="function"?d(j):d;return X.exports.createElement(eW,vm({},b,{"aria-current":$,className:M,ref:n,style:Y,to:m,unstable_viewTransition:g}),typeof y=="function"?y(j):y)});var eb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(eb||(eb={}));var RN;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(RN||(RN={}));function nW(e){let t=X.exports.useContext(sg);return t||dn(!1),t}function rW(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:c,unstable_viewTransition:d}=t===void 0?{}:t,m=IU(),g=rh(),y=ug(e,{relative:c});return X.exports.useCallback(b=>{if(qU(b,n)){b.preventDefault();let C=r!==void 0?r:mm(g)===mm(y);m(e,{replace:C,state:i,preventScrollReset:a,relative:c,unstable_viewTransition:d})}},[g,m,y,r,i,n,e,a,c,d])}function iW(e,t){t===void 0&&(t={});let n=X.exports.useContext(GU);n==null&&dn(!1);let{basename:r}=nW(eb.useViewTransitionState),i=ug(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=ac(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=ac(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Xw(i.pathname,c)!=null||Xw(i.pathname,a)!=null}var tt=(e=>(e.Home="Home",e.Collection="Collection",e.DangerPage="DangerPage",e.Doctrine="Doctrine",e.Entity="Entity",e.Enum="Enum",e.Example="Example",e.Flow="Flow",e.ParameterInHeader="ParameterInHeader",e.Info="Info",e.Install="Install",e.Migration="Migration",e.OpenApi="OpenApi",e.ParameterInCookie="ParameterInCookie",e.ParameterInPath="ParameterInPath",e.ParameterInQuery="ParameterInQuery",e.Request="Request",e.Response="Response",e.Server="Server",e.Toast="Toast",e.Tree="Tree",e.Wu="Wu",e))(tt||{});class un{constructor(t,n,r=!0,i=[]){this.name=t,this.path=n,this.visible=r,this.childzz=i}}const CO="/",oW=Object.keys(tt),aW=oW.map(e=>new un(tt[e],yn(tt[e]))),sW=[new un("Home",CO),new un("Collection",yn("Collection")),new un("Doctrine",yn("Doctrine")),new un("Entity",yn("Entity")),new un("Flow",yn("Flow")),new un("Install",yn("Install")),new un("Migration",yn("Migration")),new un("OpenApi",yn("OpenApi"),!0,[new un("Info",yn("Info")),new un("Enum",yn("Enum")),new un("Example",yn("Example")),new un("ParameterInHeader",yn("ParameterInHeader")),new un("ParameterInCookie",yn("ParameterInCookie")),new un("ParameterInPath",yn("ParameterInPath")),new un("ParameterInQuery",yn("ParameterInQuery")),new un("Request",yn("Request")),new un("Response",yn("Response")),new un("Server",yn("Server")),new un("Wu",yn("Wu"))]),new un("Toast",yn("Toast")),new un("Tree",yn("Tree"))];function yn(e){return CO+(e==="Home"?"":e)}function lW(e){let t;const n=new Set,r=(g,y)=>{const b=typeof g=="function"?g(t):g;if(b!==t){const C=t;t=y?b:Object.assign({},t,b),n.forEach(A=>A(t,C))}},i=()=>t,a=(g,y=i,b=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let C=y(t);function A(){const P=y(t);if(!b(C,P)){const L=C;g(C=P,L)}}return n.add(A),()=>n.delete(A)},m={setState:r,getState:i,subscribe:(g,y,b)=>y||b?a(g,y,b):(n.add(g),()=>n.delete(g)),destroy:()=>n.clear()};return t=e(r,i,m),m}const uW=typeof window=="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),kN=uW?X.exports.useEffect:X.exports.useLayoutEffect;function gt(e){const t=typeof e=="function"?lW(e):e,n=(r=t.getState,i=Object.is)=>{const[,a]=X.exports.useReducer(E=>E+1,0),c=t.getState(),d=X.exports.useRef(c),m=X.exports.useRef(r),g=X.exports.useRef(i),y=X.exports.useRef(!1),b=X.exports.useRef();b.current===void 0&&(b.current=r(c));let C,A=!1;(d.current!==c||m.current!==r||g.current!==i||y.current)&&(C=r(c),A=!i(b.current,C)),kN(()=>{A&&(b.current=C),d.current=c,m.current=r,g.current=i,y.current=!1});const P=X.exports.useRef(c);kN(()=>{const E=()=>{try{const N=t.getState(),D=m.current(N);g.current(b.current,D)||(d.current=N,b.current=D,a())}catch{y.current=!0,a()}},I=t.subscribe(E);return t.getState()!==P.current&&E(),I},[]);const L=A?C:b.current;return X.exports.useDebugValue(L),L};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,t];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const cg=gt(function(e){return{connected:!1,isDemo:!1,ide:"",setConnected(n=!0,r=!1){e({connected:n,isDemo:r})},setIde(n){e({ide:n})}}});var sd=(e=>(e.CosineCase="CosineCase",e.SineCase="SineCase",e.SnakeCase="SnakeCase",e))(sd||{});const mE=class{};let Ht=mE;Yr(Ht,"ColumnIdOfIdInParameterInPath",32),Yr(Ht,"Name","Laravel Builder"),Yr(Ht,"Name2","laravel-builder"),Yr(Ht,"Folder",mE.Name2),Yr(Ht,"Id","Id"),Yr(Ht,"PackageName","googee/laravel-builder"),Yr(Ht,"ScriptCode",`function run(data) {
    /** @type {LB.DataForScript} */
    const ddd = data

    /**
     * write code below
     * it will be executed before generating files
     */
}
`),Yr(Ht,"Zz","zz");var ym={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var n,r="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",d="Invalid `variable` option passed into `_.template`",m="__lodash_hash_undefined__",g=500,y="__lodash_placeholder__",b=1,C=2,A=4,P=1,L=2,E=1,I=2,N=4,D=8,O=16,z=32,k=64,W=128,j=256,$=512,M=30,Y="...",K=800,Z=16,ne=1,ae=2,de=3,re=1/0,J=9007199254740991,Q=17976931348623157e292,ue=0/0,se=4294967295,he=se-1,Ce=se>>>1,ze=[["ary",W],["bind",E],["bindKey",I],["curry",D],["curryRight",O],["flip",$],["partial",z],["partialRight",k],["rearg",j]],pe="[object Arguments]",et="[object Array]",Et="[object AsyncFunction]",qe="[object Boolean]",Be="[object Date]",Ae="[object DOMException]",Ue="[object Error]",ke="[object Function]",ht="[object GeneratorFunction]",bt="[object Map]",Ct="[object Number]",Je="[object Null]",oe="[object Object]",ge="[object Promise]",_e="[object Proxy]",Ie="[object RegExp]",Pe="[object Set]",We="[object String]",pt="[object Symbol]",Qe="[object Undefined]",At="[object WeakMap]",bn="[object WeakSet]",yt="[object ArrayBuffer]",at="[object DataView]",fi="[object Float32Array]",vo="[object Float64Array]",Ge="[object Int8Array]",ur="[object Int16Array]",Xn="[object Int32Array]",Er="[object Uint8Array]",cr="[object Uint8ClampedArray]",fr="[object Uint16Array]",Fe="[object Uint32Array]",Ye=/\b__p \+= '';/g,ut=/\b(__p \+=) '' \+/g,wt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Nt=/&(?:amp|lt|gt|quot|#39);/g,qt=/[&<>"']/g,sn=RegExp(Nt.source),Zn=RegExp(qt.source),Ui=/<%-([\s\S]+?)%>/g,Wr=/<%([\s\S]+?)%>/g,Wi=/<%=([\s\S]+?)%>/g,Os=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,As=/^\w*$/,Le=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bo=/[\\^$.*+?()[\]{}|]/g,qc=RegExp(Bo.source),ha=/^\s+/,Fo=/\s/,pa=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,er=/\{\n\/\* \[wrapped with (.+)\] \*/,jc=/,? & /,Kc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Vc=/[()=,{}\[\]\/\s]/,Rs=/\\(\\)?/g,Gc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,jl=/\w*$/,ks=/^[-+]0x[0-9a-f]+$/i,Uo=/^0b[01]+$/i,ma=/^\[object .+?Constructor\]$/,ga=/^0o[0-7]+$/i,On=/^(?:0|[1-9]\d*)$/,Hc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,tr=/($^)/,Kl=/['\n\r\u2028\u2029\\]/g,Wo="\\ud800-\\udfff",Yc="\\u0300-\\u036f",Jc="\\ufe20-\\ufe2f",Ps="\\u20d0-\\u20ff",yo=Yc+Jc+Ps,$o="\\u2700-\\u27bf",$i="a-z\\xdf-\\xf6\\xf8-\\xff",Vl="\\xac\\xb1\\xd7\\xf7",Qc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Xc="\\u2000-\\u206f",Gl=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ds="A-Z\\xc0-\\xd6\\xd8-\\xde",Ls="\\ufe0e\\ufe0f",Hl=Vl+Qc+Xc+Gl,va="['\u2019]",ya="["+Wo+"]",wa="["+Hl+"]",ba="["+yo+"]",Cr="\\d+",dr="["+$o+"]",In="["+$i+"]",hr="[^"+Wo+Hl+Cr+$o+$i+Ds+"]",$r="\\ud83c[\\udffb-\\udfff]",qi="(?:"+ba+"|"+$r+")",Yl="[^"+Wo+"]",di="(?:\\ud83c[\\udde6-\\uddff]){2}",wo="[\\ud800-\\udbff][\\udc00-\\udfff]",ji="["+Ds+"]",bo="\\u200d",Jl="(?:"+In+"|"+hr+")",zs="(?:"+ji+"|"+hr+")",Ql="(?:"+va+"(?:d|ll|m|re|s|t|ve))?",Sa="(?:"+va+"(?:D|LL|M|RE|S|T|VE))?",hi=qi+"?",Xl="["+Ls+"]?",Zl="(?:"+bo+"(?:"+[Yl,di,wo].join("|")+")"+Xl+hi+")*",Zc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",eu="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ms=Xl+hi+Zl,Bs="(?:"+[dr,di,wo].join("|")+")"+Ms,tu="(?:"+[Yl+ba+"?",ba,di,wo,ya].join("|")+")",Fs=RegExp(va,"g"),Us=RegExp(ba,"g"),Ws=RegExp($r+"(?="+$r+")|"+tu+Ms,"g"),$s=RegExp([ji+"?"+In+"+"+Ql+"(?="+[wa,ji,"$"].join("|")+")",zs+"+"+Sa+"(?="+[wa,ji+Jl,"$"].join("|")+")",ji+"?"+Jl+"+"+Ql,ji+"+"+Sa,eu,Zc,Cr,Bs].join("|"),"g"),nu=RegExp("["+bo+Wo+yo+Ls+"]"),ef=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ea=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],tf=-1,Vt={};Vt[fi]=Vt[vo]=Vt[Ge]=Vt[ur]=Vt[Xn]=Vt[Er]=Vt[cr]=Vt[fr]=Vt[Fe]=!0,Vt[pe]=Vt[et]=Vt[yt]=Vt[qe]=Vt[at]=Vt[Be]=Vt[Ue]=Vt[ke]=Vt[bt]=Vt[Ct]=Vt[oe]=Vt[Ie]=Vt[Pe]=Vt[We]=Vt[At]=!1;var jt={};jt[pe]=jt[et]=jt[yt]=jt[at]=jt[qe]=jt[Be]=jt[fi]=jt[vo]=jt[Ge]=jt[ur]=jt[Xn]=jt[bt]=jt[Ct]=jt[oe]=jt[Ie]=jt[Pe]=jt[We]=jt[pt]=jt[Er]=jt[cr]=jt[fr]=jt[Fe]=!0,jt[Ue]=jt[ke]=jt[At]=!1;var qo={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},So={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},nf={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},rf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},pi=parseFloat,Ca=parseInt,qs=typeof Sn=="object"&&Sn&&Sn.Object===Object&&Sn,of=typeof self=="object"&&self&&self.Object===Object&&self,pn=qs||of||Function("return this")(),js=t&&!t.nodeType&&t,Ki=js&&!0&&e&&!e.nodeType&&e,Ks=Ki&&Ki.exports===js,Vi=Ks&&qs.process,rn=function(){try{var ce=Ki&&Ki.require&&Ki.require("util").types;return ce||Vi&&Vi.binding&&Vi.binding("util")}catch{}}(),Ia=rn&&rn.isArrayBuffer,Vs=rn&&rn.isDate,Gs=rn&&rn.isMap,Hs=rn&&rn.isRegExp,jo=rn&&rn.isSet,Eo=rn&&rn.isTypedArray;function An(ce,we,ve){switch(ve.length){case 0:return ce.call(we);case 1:return ce.call(we,ve[0]);case 2:return ce.call(we,ve[0],ve[1]);case 3:return ce.call(we,ve[0],ve[1],ve[2])}return ce.apply(we,ve)}function ru(ce,we,ve,$e){for(var ct=-1,Dt=ce==null?0:ce.length;++ct<Dt;){var mn=ce[ct];we($e,mn,ve(mn),ce)}return $e}function $n(ce,we){for(var ve=-1,$e=ce==null?0:ce.length;++ve<$e&&we(ce[ve],ve,ce)!==!1;);return ce}function af(ce,we){for(var ve=ce==null?0:ce.length;ve--&&we(ce[ve],ve,ce)!==!1;);return ce}function iu(ce,we){for(var ve=-1,$e=ce==null?0:ce.length;++ve<$e;)if(!we(ce[ve],ve,ce))return!1;return!0}function mi(ce,we){for(var ve=-1,$e=ce==null?0:ce.length,ct=0,Dt=[];++ve<$e;){var mn=ce[ve];we(mn,ve,ce)&&(Dt[ct++]=mn)}return Dt}function Na(ce,we){var ve=ce==null?0:ce.length;return!!ve&&Qt(ce,we,0)>-1}function Ys(ce,we,ve){for(var $e=-1,ct=ce==null?0:ce.length;++$e<ct;)if(ve(we,ce[$e]))return!0;return!1}function Gt(ce,we){for(var ve=-1,$e=ce==null?0:ce.length,ct=Array($e);++ve<$e;)ct[ve]=we(ce[ve],ve,ce);return ct}function Ir(ce,we){for(var ve=-1,$e=we.length,ct=ce.length;++ve<$e;)ce[ct+ve]=we[ve];return ce}function xa(ce,we,ve,$e){var ct=-1,Dt=ce==null?0:ce.length;for($e&&Dt&&(ve=ce[++ct]);++ct<Dt;)ve=we(ve,ce[ct],ct,ce);return ve}function Co(ce,we,ve,$e){var ct=ce==null?0:ce.length;for($e&&ct&&(ve=ce[--ct]);ct--;)ve=we(ve,ce[ct],ct,ce);return ve}function Js(ce,we){for(var ve=-1,$e=ce==null?0:ce.length;++ve<$e;)if(we(ce[ve],ve,ce))return!0;return!1}var sf=Oa("length");function ou(ce){return ce.split("")}function lf(ce){return ce.match(Kc)||[]}function Qs(ce,we,ve){var $e;return ve(ce,function(ct,Dt,mn){if(we(ct,Dt,mn))return $e=Dt,!1}),$e}function Ta(ce,we,ve,$e){for(var ct=ce.length,Dt=ve+($e?1:-1);$e?Dt--:++Dt<ct;)if(we(ce[Dt],Dt,ce))return Dt;return-1}function Qt(ce,we,ve){return we===we?Bt(ce,we,ve):Ta(ce,au,ve)}function uf(ce,we,ve,$e){for(var ct=ve-1,Dt=ce.length;++ct<Dt;)if($e(ce[ct],we))return ct;return-1}function au(ce){return ce!==ce}function _a(ce,we){var ve=ce==null?0:ce.length;return ve?Aa(ce,we)/ve:ue}function Oa(ce){return function(we){return we==null?n:we[ce]}}function Xs(ce){return function(we){return ce==null?n:ce[we]}}function su(ce,we,ve,$e,ct){return ct(ce,function(Dt,mn,Rt){ve=$e?($e=!1,Dt):we(ve,Dt,mn,Rt)}),ve}function lu(ce,we){var ve=ce.length;for(ce.sort(we);ve--;)ce[ve]=ce[ve].value;return ce}function Aa(ce,we){for(var ve,$e=-1,ct=ce.length;++$e<ct;){var Dt=we(ce[$e]);Dt!==n&&(ve=ve===n?Dt:ve+Dt)}return ve}function Ra(ce,we){for(var ve=-1,$e=Array(ce);++ve<ce;)$e[ve]=we(ve);return $e}function ka(ce,we){return Gt(we,function(ve){return[ve,ce[ve]]})}function Zs(ce){return ce&&ce.slice(0,Ch(ce)+1).replace(ha,"")}function u(ce){return function(we){return ce(we)}}function o(ce,we){return Gt(we,function(ve){return ce[ve]})}function s(ce,we){return ce.has(we)}function f(ce,we){for(var ve=-1,$e=ce.length;++ve<$e&&Qt(we,ce[ve],0)>-1;);return ve}function p(ce,we){for(var ve=ce.length;ve--&&Qt(we,ce[ve],0)>-1;);return ve}function w(ce,we){for(var ve=ce.length,$e=0;ve--;)ce[ve]===we&&++$e;return $e}var _=Xs(qo),B=Xs(So);function H(ce){return"\\"+rf[ce]}function ie(ce,we){return ce==null?n:ce[we]}function me(ce){return nu.test(ce)}function xe(ce){return ef.test(ce)}function Re(ce){for(var we,ve=[];!(we=ce.next()).done;)ve.push(we.value);return ve}function je(ce){var we=-1,ve=Array(ce.size);return ce.forEach(function($e,ct){ve[++we]=[ct,$e]}),ve}function st(ce,we){return function(ve){return ce(we(ve))}}function Ze(ce,we){for(var ve=-1,$e=ce.length,ct=0,Dt=[];++ve<$e;){var mn=ce[ve];(mn===we||mn===y)&&(ce[ve]=y,Dt[ct++]=ve)}return Dt}function xt(ce){var we=-1,ve=Array(ce.size);return ce.forEach(function($e){ve[++we]=$e}),ve}function Zt(ce){var we=-1,ve=Array(ce.size);return ce.forEach(function($e){ve[++we]=[$e,$e]}),ve}function Bt(ce,we,ve){for(var $e=ve-1,ct=ce.length;++$e<ct;)if(ce[$e]===we)return $e;return-1}function Rn(ce,we,ve){for(var $e=ve+1;$e--;)if(ce[$e]===we)return $e;return $e}function qr(ce){return me(ce)?rv(ce):sf(ce)}function qn(ce){return me(ce)?iv(ce):ou(ce)}function Ch(ce){for(var we=ce.length;we--&&Fo.test(ce.charAt(we)););return we}var nv=Xs(nf);function rv(ce){for(var we=Ws.lastIndex=0;Ws.test(ce);)++we;return we}function iv(ce){return ce.match(Ws)||[]}function Ih(ce){return ce.match($s)||[]}var ov=function ce(we){we=we==null?pn:Pa.defaults(pn.Object(),we,Pa.pick(pn,Ea));var ve=we.Array,$e=we.Date,ct=we.Error,Dt=we.Function,mn=we.Math,Rt=we.Object,uu=we.RegExp,av=we.String,pr=we.TypeError,cu=ve.prototype,sv=Dt.prototype,Da=Rt.prototype,el=we["__core-js_shared__"],fu=sv.toString,Ut=Da.hasOwnProperty,lv=0,jr=function(){var l=/[^.]+$/.exec(el&&el.keys&&el.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),Gi=Da.toString,uv=fu.call(Rt),cv=pn._,fv=uu("^"+fu.call(Ut).replace(Bo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),du=Ks?we.Buffer:n,Io=we.Symbol,hu=we.Uint8Array,Nh=du?du.allocUnsafe:n,Ko=st(Rt.getPrototypeOf,Rt),x=Rt.create,T=Da.propertyIsEnumerable,F=cu.splice,ee=Io?Io.isConcatSpreadable:n,ye=Io?Io.iterator:n,Ve=Io?Io.toStringTag:n,Wt=function(){try{var l=ol(Rt,"defineProperty");return l({},"",{}),l}catch{}}(),mr=we.clearTimeout!==pn.clearTimeout&&we.clearTimeout,jn=$e&&$e.now!==pn.Date.now&&$e.now,La=we.setTimeout!==pn.setTimeout&&we.setTimeout,za=mn.ceil,xh=mn.floor,dv=Rt.getOwnPropertySymbols,W1=du?du.isBuffer:n,gE=we.isFinite,$1=cu.join,q1=st(Rt.keys,Rt),Nn=mn.max,nr=mn.min,j1=$e.now,K1=we.parseInt,vE=mn.random,V1=cu.reverse,hv=ol(we,"DataView"),cf=ol(we,"Map"),pv=ol(we,"Promise"),pu=ol(we,"Set"),ff=ol(we,"WeakMap"),df=ol(Rt,"create"),Th=ff&&new ff,mu={},G1=al(hv),H1=al(cf),Y1=al(pv),J1=al(pu),Q1=al(ff),_h=Io?Io.prototype:n,hf=_h?_h.valueOf:n,yE=_h?_h.toString:n;function V(l){if(ln(l)&&!vt(l)&&!(l instanceof Ot)){if(l instanceof gi)return l;if(Ut.call(l,"__wrapped__"))return wC(l)}return new gi(l)}var gu=function(){function l(){}return function(h){if(!an(h))return{};if(x)return x(h);l.prototype=h;var S=new l;return l.prototype=n,S}}();function Oh(){}function gi(l,h){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!h,this.__index__=0,this.__values__=n}V.templateSettings={escape:Ui,evaluate:Wr,interpolate:Wi,variable:"",imports:{_:V}},V.prototype=Oh.prototype,V.prototype.constructor=V,gi.prototype=gu(Oh.prototype),gi.prototype.constructor=gi;function Ot(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=se,this.__views__=[]}function X1(){var l=new Ot(this.__wrapped__);return l.__actions__=Nr(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=Nr(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=Nr(this.__views__),l}function Z1(){if(this.__filtered__){var l=new Ot(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function ek(){var l=this.__wrapped__.value(),h=this.__dir__,S=vt(l),R=h<0,q=S?l.length:0,G=dP(0,q,this.__views__),te=G.start,le=G.end,fe=le-te,Se=R?le:te-1,Ee=this.__iteratees__,Ne=Ee.length,Me=0,He=nr(fe,this.__takeCount__);if(!S||!R&&q==fe&&He==fe)return $E(l,this.__actions__);var rt=[];e:for(;fe--&&Me<He;){Se+=h;for(var It=-1,it=l[Se];++It<Ne;){var _t=Ee[It],kt=_t.iteratee,Gr=_t.type,yr=kt(it);if(Gr==ae)it=yr;else if(!yr){if(Gr==ne)continue e;break e}}rt[Me++]=it}return rt}Ot.prototype=gu(Oh.prototype),Ot.prototype.constructor=Ot;function tl(l){var h=-1,S=l==null?0:l.length;for(this.clear();++h<S;){var R=l[h];this.set(R[0],R[1])}}function tk(){this.__data__=df?df(null):{},this.size=0}function nk(l){var h=this.has(l)&&delete this.__data__[l];return this.size-=h?1:0,h}function rk(l){var h=this.__data__;if(df){var S=h[l];return S===m?n:S}return Ut.call(h,l)?h[l]:n}function ik(l){var h=this.__data__;return df?h[l]!==n:Ut.call(h,l)}function ok(l,h){var S=this.__data__;return this.size+=this.has(l)?0:1,S[l]=df&&h===n?m:h,this}tl.prototype.clear=tk,tl.prototype.delete=nk,tl.prototype.get=rk,tl.prototype.has=ik,tl.prototype.set=ok;function Vo(l){var h=-1,S=l==null?0:l.length;for(this.clear();++h<S;){var R=l[h];this.set(R[0],R[1])}}function ak(){this.__data__=[],this.size=0}function sk(l){var h=this.__data__,S=Ah(h,l);if(S<0)return!1;var R=h.length-1;return S==R?h.pop():F.call(h,S,1),--this.size,!0}function lk(l){var h=this.__data__,S=Ah(h,l);return S<0?n:h[S][1]}function uk(l){return Ah(this.__data__,l)>-1}function ck(l,h){var S=this.__data__,R=Ah(S,l);return R<0?(++this.size,S.push([l,h])):S[R][1]=h,this}Vo.prototype.clear=ak,Vo.prototype.delete=sk,Vo.prototype.get=lk,Vo.prototype.has=uk,Vo.prototype.set=ck;function Go(l){var h=-1,S=l==null?0:l.length;for(this.clear();++h<S;){var R=l[h];this.set(R[0],R[1])}}function fk(){this.size=0,this.__data__={hash:new tl,map:new(cf||Vo),string:new tl}}function dk(l){var h=$h(this,l).delete(l);return this.size-=h?1:0,h}function hk(l){return $h(this,l).get(l)}function pk(l){return $h(this,l).has(l)}function mk(l,h){var S=$h(this,l),R=S.size;return S.set(l,h),this.size+=S.size==R?0:1,this}Go.prototype.clear=fk,Go.prototype.delete=dk,Go.prototype.get=hk,Go.prototype.has=pk,Go.prototype.set=mk;function nl(l){var h=-1,S=l==null?0:l.length;for(this.__data__=new Go;++h<S;)this.add(l[h])}function gk(l){return this.__data__.set(l,m),this}function vk(l){return this.__data__.has(l)}nl.prototype.add=nl.prototype.push=gk,nl.prototype.has=vk;function Hi(l){var h=this.__data__=new Vo(l);this.size=h.size}function yk(){this.__data__=new Vo,this.size=0}function wk(l){var h=this.__data__,S=h.delete(l);return this.size=h.size,S}function bk(l){return this.__data__.get(l)}function Sk(l){return this.__data__.has(l)}function Ek(l,h){var S=this.__data__;if(S instanceof Vo){var R=S.__data__;if(!cf||R.length<i-1)return R.push([l,h]),this.size=++S.size,this;S=this.__data__=new Go(R)}return S.set(l,h),this.size=S.size,this}Hi.prototype.clear=yk,Hi.prototype.delete=wk,Hi.prototype.get=bk,Hi.prototype.has=Sk,Hi.prototype.set=Ek;function wE(l,h){var S=vt(l),R=!S&&sl(l),q=!S&&!R&&Wa(l),G=!S&&!R&&!q&&bu(l),te=S||R||q||G,le=te?Ra(l.length,av):[],fe=le.length;for(var Se in l)(h||Ut.call(l,Se))&&!(te&&(Se=="length"||q&&(Se=="offset"||Se=="parent")||G&&(Se=="buffer"||Se=="byteLength"||Se=="byteOffset")||Qo(Se,fe)))&&le.push(Se);return le}function bE(l){var h=l.length;return h?l[Nv(0,h-1)]:n}function Ck(l,h){return qh(Nr(l),rl(h,0,l.length))}function Ik(l){return qh(Nr(l))}function mv(l,h,S){(S!==n&&!Yi(l[h],S)||S===n&&!(h in l))&&Ho(l,h,S)}function pf(l,h,S){var R=l[h];(!(Ut.call(l,h)&&Yi(R,S))||S===n&&!(h in l))&&Ho(l,h,S)}function Ah(l,h){for(var S=l.length;S--;)if(Yi(l[S][0],h))return S;return-1}function Nk(l,h,S,R){return Ma(l,function(q,G,te){h(R,q,S(q),te)}),R}function SE(l,h){return l&&xo(h,kn(h),l)}function xk(l,h){return l&&xo(h,Tr(h),l)}function Ho(l,h,S){h=="__proto__"&&Wt?Wt(l,h,{configurable:!0,enumerable:!0,value:S,writable:!0}):l[h]=S}function gv(l,h){for(var S=-1,R=h.length,q=ve(R),G=l==null;++S<R;)q[S]=G?n:Jv(l,h[S]);return q}function rl(l,h,S){return l===l&&(S!==n&&(l=l<=S?l:S),h!==n&&(l=l>=h?l:h)),l}function vi(l,h,S,R,q,G){var te,le=h&b,fe=h&C,Se=h&A;if(S&&(te=q?S(l,R,q,G):S(l)),te!==n)return te;if(!an(l))return l;var Ee=vt(l);if(Ee){if(te=pP(l),!le)return Nr(l,te)}else{var Ne=rr(l),Me=Ne==ke||Ne==ht;if(Wa(l))return KE(l,le);if(Ne==oe||Ne==pe||Me&&!q){if(te=fe||Me?{}:cC(l),!le)return fe?rP(l,xk(te,l)):nP(l,SE(te,l))}else{if(!jt[Ne])return q?l:{};te=mP(l,Ne,le)}}G||(G=new Hi);var He=G.get(l);if(He)return He;G.set(l,te),FC(l)?l.forEach(function(it){te.add(vi(it,h,S,it,l,G))}):MC(l)&&l.forEach(function(it,_t){te.set(_t,vi(it,h,S,_t,l,G))});var rt=Se?fe?zv:Lv:fe?Tr:kn,It=Ee?n:rt(l);return $n(It||l,function(it,_t){It&&(_t=it,it=l[_t]),pf(te,_t,vi(it,h,S,_t,l,G))}),te}function Tk(l){var h=kn(l);return function(S){return EE(S,l,h)}}function EE(l,h,S){var R=S.length;if(l==null)return!R;for(l=Rt(l);R--;){var q=S[R],G=h[q],te=l[q];if(te===n&&!(q in l)||!G(te))return!1}return!0}function CE(l,h,S){if(typeof l!="function")throw new pr(c);return Sf(function(){l.apply(n,S)},h)}function mf(l,h,S,R){var q=-1,G=Na,te=!0,le=l.length,fe=[],Se=h.length;if(!le)return fe;S&&(h=Gt(h,u(S))),R?(G=Ys,te=!1):h.length>=i&&(G=s,te=!1,h=new nl(h));e:for(;++q<le;){var Ee=l[q],Ne=S==null?Ee:S(Ee);if(Ee=R||Ee!==0?Ee:0,te&&Ne===Ne){for(var Me=Se;Me--;)if(h[Me]===Ne)continue e;fe.push(Ee)}else G(h,Ne,R)||fe.push(Ee)}return fe}var Ma=JE(No),IE=JE(yv,!0);function _k(l,h){var S=!0;return Ma(l,function(R,q,G){return S=!!h(R,q,G),S}),S}function Rh(l,h,S){for(var R=-1,q=l.length;++R<q;){var G=l[R],te=h(G);if(te!=null&&(le===n?te===te&&!Vr(te):S(te,le)))var le=te,fe=G}return fe}function Ok(l,h,S,R){var q=l.length;for(S=St(S),S<0&&(S=-S>q?0:q+S),R=R===n||R>q?q:St(R),R<0&&(R+=q),R=S>R?0:WC(R);S<R;)l[S++]=h;return l}function NE(l,h){var S=[];return Ma(l,function(R,q,G){h(R,q,G)&&S.push(R)}),S}function Kn(l,h,S,R,q){var G=-1,te=l.length;for(S||(S=vP),q||(q=[]);++G<te;){var le=l[G];h>0&&S(le)?h>1?Kn(le,h-1,S,R,q):Ir(q,le):R||(q[q.length]=le)}return q}var vv=QE(),xE=QE(!0);function No(l,h){return l&&vv(l,h,kn)}function yv(l,h){return l&&xE(l,h,kn)}function kh(l,h){return mi(h,function(S){return Xo(l[S])})}function il(l,h){h=Fa(h,l);for(var S=0,R=h.length;l!=null&&S<R;)l=l[To(h[S++])];return S&&S==R?l:n}function TE(l,h,S){var R=h(l);return vt(l)?R:Ir(R,S(l))}function gr(l){return l==null?l===n?Qe:Je:Ve&&Ve in Rt(l)?fP(l):IP(l)}function wv(l,h){return l>h}function Ak(l,h){return l!=null&&Ut.call(l,h)}function Rk(l,h){return l!=null&&h in Rt(l)}function kk(l,h,S){return l>=nr(h,S)&&l<Nn(h,S)}function bv(l,h,S){for(var R=S?Ys:Na,q=l[0].length,G=l.length,te=G,le=ve(G),fe=1/0,Se=[];te--;){var Ee=l[te];te&&h&&(Ee=Gt(Ee,u(h))),fe=nr(Ee.length,fe),le[te]=!S&&(h||q>=120&&Ee.length>=120)?new nl(te&&Ee):n}Ee=l[0];var Ne=-1,Me=le[0];e:for(;++Ne<q&&Se.length<fe;){var He=Ee[Ne],rt=h?h(He):He;if(He=S||He!==0?He:0,!(Me?s(Me,rt):R(Se,rt,S))){for(te=G;--te;){var It=le[te];if(!(It?s(It,rt):R(l[te],rt,S)))continue e}Me&&Me.push(rt),Se.push(He)}}return Se}function Pk(l,h,S,R){return No(l,function(q,G,te){h(R,S(q),G,te)}),R}function gf(l,h,S){h=Fa(h,l),l=pC(l,h);var R=l==null?l:l[To(wi(h))];return R==null?n:An(R,l,S)}function _E(l){return ln(l)&&gr(l)==pe}function Dk(l){return ln(l)&&gr(l)==yt}function Lk(l){return ln(l)&&gr(l)==Be}function vf(l,h,S,R,q){return l===h?!0:l==null||h==null||!ln(l)&&!ln(h)?l!==l&&h!==h:zk(l,h,S,R,vf,q)}function zk(l,h,S,R,q,G){var te=vt(l),le=vt(h),fe=te?et:rr(l),Se=le?et:rr(h);fe=fe==pe?oe:fe,Se=Se==pe?oe:Se;var Ee=fe==oe,Ne=Se==oe,Me=fe==Se;if(Me&&Wa(l)){if(!Wa(h))return!1;te=!0,Ee=!1}if(Me&&!Ee)return G||(G=new Hi),te||bu(l)?sC(l,h,S,R,q,G):uP(l,h,fe,S,R,q,G);if(!(S&P)){var He=Ee&&Ut.call(l,"__wrapped__"),rt=Ne&&Ut.call(h,"__wrapped__");if(He||rt){var It=He?l.value():l,it=rt?h.value():h;return G||(G=new Hi),q(It,it,S,R,G)}}return Me?(G||(G=new Hi),cP(l,h,S,R,q,G)):!1}function Mk(l){return ln(l)&&rr(l)==bt}function Sv(l,h,S,R){var q=S.length,G=q,te=!R;if(l==null)return!G;for(l=Rt(l);q--;){var le=S[q];if(te&&le[2]?le[1]!==l[le[0]]:!(le[0]in l))return!1}for(;++q<G;){le=S[q];var fe=le[0],Se=l[fe],Ee=le[1];if(te&&le[2]){if(Se===n&&!(fe in l))return!1}else{var Ne=new Hi;if(R)var Me=R(Se,Ee,fe,l,h,Ne);if(!(Me===n?vf(Ee,Se,P|L,R,Ne):Me))return!1}}return!0}function OE(l){if(!an(l)||wP(l))return!1;var h=Xo(l)?fv:ma;return h.test(al(l))}function Bk(l){return ln(l)&&gr(l)==Ie}function Fk(l){return ln(l)&&rr(l)==Pe}function Uk(l){return ln(l)&&Yh(l.length)&&!!Vt[gr(l)]}function AE(l){return typeof l=="function"?l:l==null?_r:typeof l=="object"?vt(l)?PE(l[0],l[1]):kE(l):XC(l)}function Ev(l){if(!bf(l))return q1(l);var h=[];for(var S in Rt(l))Ut.call(l,S)&&S!="constructor"&&h.push(S);return h}function Wk(l){if(!an(l))return CP(l);var h=bf(l),S=[];for(var R in l)R=="constructor"&&(h||!Ut.call(l,R))||S.push(R);return S}function Cv(l,h){return l<h}function RE(l,h){var S=-1,R=xr(l)?ve(l.length):[];return Ma(l,function(q,G,te){R[++S]=h(q,G,te)}),R}function kE(l){var h=Bv(l);return h.length==1&&h[0][2]?dC(h[0][0],h[0][1]):function(S){return S===l||Sv(S,l,h)}}function PE(l,h){return Uv(l)&&fC(h)?dC(To(l),h):function(S){var R=Jv(S,l);return R===n&&R===h?Qv(S,l):vf(h,R,P|L)}}function Ph(l,h,S,R,q){l!==h&&vv(h,function(G,te){if(q||(q=new Hi),an(G))$k(l,h,te,S,Ph,R,q);else{var le=R?R($v(l,te),G,te+"",l,h,q):n;le===n&&(le=G),mv(l,te,le)}},Tr)}function $k(l,h,S,R,q,G,te){var le=$v(l,S),fe=$v(h,S),Se=te.get(fe);if(Se){mv(l,S,Se);return}var Ee=G?G(le,fe,S+"",l,h,te):n,Ne=Ee===n;if(Ne){var Me=vt(fe),He=!Me&&Wa(fe),rt=!Me&&!He&&bu(fe);Ee=fe,Me||He||rt?vt(le)?Ee=le:gn(le)?Ee=Nr(le):He?(Ne=!1,Ee=KE(fe,!0)):rt?(Ne=!1,Ee=VE(fe,!0)):Ee=[]:Ef(fe)||sl(fe)?(Ee=le,sl(le)?Ee=$C(le):(!an(le)||Xo(le))&&(Ee=cC(fe))):Ne=!1}Ne&&(te.set(fe,Ee),q(Ee,fe,R,G,te),te.delete(fe)),mv(l,S,Ee)}function DE(l,h){var S=l.length;if(!!S)return h+=h<0?S:0,Qo(h,S)?l[h]:n}function LE(l,h,S){h.length?h=Gt(h,function(G){return vt(G)?function(te){return il(te,G.length===1?G[0]:G)}:G}):h=[_r];var R=-1;h=Gt(h,u(nt()));var q=RE(l,function(G,te,le){var fe=Gt(h,function(Se){return Se(G)});return{criteria:fe,index:++R,value:G}});return lu(q,function(G,te){return tP(G,te,S)})}function qk(l,h){return zE(l,h,function(S,R){return Qv(l,R)})}function zE(l,h,S){for(var R=-1,q=h.length,G={};++R<q;){var te=h[R],le=il(l,te);S(le,te)&&yf(G,Fa(te,l),le)}return G}function jk(l){return function(h){return il(h,l)}}function Iv(l,h,S,R){var q=R?uf:Qt,G=-1,te=h.length,le=l;for(l===h&&(h=Nr(h)),S&&(le=Gt(l,u(S)));++G<te;)for(var fe=0,Se=h[G],Ee=S?S(Se):Se;(fe=q(le,Ee,fe,R))>-1;)le!==l&&F.call(le,fe,1),F.call(l,fe,1);return l}function ME(l,h){for(var S=l?h.length:0,R=S-1;S--;){var q=h[S];if(S==R||q!==G){var G=q;Qo(q)?F.call(l,q,1):_v(l,q)}}return l}function Nv(l,h){return l+xh(vE()*(h-l+1))}function Kk(l,h,S,R){for(var q=-1,G=Nn(za((h-l)/(S||1)),0),te=ve(G);G--;)te[R?G:++q]=l,l+=S;return te}function xv(l,h){var S="";if(!l||h<1||h>J)return S;do h%2&&(S+=l),h=xh(h/2),h&&(l+=l);while(h);return S}function Tt(l,h){return qv(hC(l,h,_r),l+"")}function Vk(l){return bE(Su(l))}function Gk(l,h){var S=Su(l);return qh(S,rl(h,0,S.length))}function yf(l,h,S,R){if(!an(l))return l;h=Fa(h,l);for(var q=-1,G=h.length,te=G-1,le=l;le!=null&&++q<G;){var fe=To(h[q]),Se=S;if(fe==="__proto__"||fe==="constructor"||fe==="prototype")return l;if(q!=te){var Ee=le[fe];Se=R?R(Ee,fe,le):n,Se===n&&(Se=an(Ee)?Ee:Qo(h[q+1])?[]:{})}pf(le,fe,Se),le=le[fe]}return l}var BE=Th?function(l,h){return Th.set(l,h),l}:_r,Hk=Wt?function(l,h){return Wt(l,"toString",{configurable:!0,enumerable:!1,value:Zv(h),writable:!0})}:_r;function Yk(l){return qh(Su(l))}function yi(l,h,S){var R=-1,q=l.length;h<0&&(h=-h>q?0:q+h),S=S>q?q:S,S<0&&(S+=q),q=h>S?0:S-h>>>0,h>>>=0;for(var G=ve(q);++R<q;)G[R]=l[R+h];return G}function Jk(l,h){var S;return Ma(l,function(R,q,G){return S=h(R,q,G),!S}),!!S}function Dh(l,h,S){var R=0,q=l==null?R:l.length;if(typeof h=="number"&&h===h&&q<=Ce){for(;R<q;){var G=R+q>>>1,te=l[G];te!==null&&!Vr(te)&&(S?te<=h:te<h)?R=G+1:q=G}return q}return Tv(l,h,_r,S)}function Tv(l,h,S,R){var q=0,G=l==null?0:l.length;if(G===0)return 0;h=S(h);for(var te=h!==h,le=h===null,fe=Vr(h),Se=h===n;q<G;){var Ee=xh((q+G)/2),Ne=S(l[Ee]),Me=Ne!==n,He=Ne===null,rt=Ne===Ne,It=Vr(Ne);if(te)var it=R||rt;else Se?it=rt&&(R||Me):le?it=rt&&Me&&(R||!He):fe?it=rt&&Me&&!He&&(R||!It):He||It?it=!1:it=R?Ne<=h:Ne<h;it?q=Ee+1:G=Ee}return nr(G,he)}function FE(l,h){for(var S=-1,R=l.length,q=0,G=[];++S<R;){var te=l[S],le=h?h(te):te;if(!S||!Yi(le,fe)){var fe=le;G[q++]=te===0?0:te}}return G}function UE(l){return typeof l=="number"?l:Vr(l)?ue:+l}function Kr(l){if(typeof l=="string")return l;if(vt(l))return Gt(l,Kr)+"";if(Vr(l))return yE?yE.call(l):"";var h=l+"";return h=="0"&&1/l==-re?"-0":h}function Ba(l,h,S){var R=-1,q=Na,G=l.length,te=!0,le=[],fe=le;if(S)te=!1,q=Ys;else if(G>=i){var Se=h?null:sP(l);if(Se)return xt(Se);te=!1,q=s,fe=new nl}else fe=h?[]:le;e:for(;++R<G;){var Ee=l[R],Ne=h?h(Ee):Ee;if(Ee=S||Ee!==0?Ee:0,te&&Ne===Ne){for(var Me=fe.length;Me--;)if(fe[Me]===Ne)continue e;h&&fe.push(Ne),le.push(Ee)}else q(fe,Ne,S)||(fe!==le&&fe.push(Ne),le.push(Ee))}return le}function _v(l,h){return h=Fa(h,l),l=pC(l,h),l==null||delete l[To(wi(h))]}function WE(l,h,S,R){return yf(l,h,S(il(l,h)),R)}function Lh(l,h,S,R){for(var q=l.length,G=R?q:-1;(R?G--:++G<q)&&h(l[G],G,l););return S?yi(l,R?0:G,R?G+1:q):yi(l,R?G+1:0,R?q:G)}function $E(l,h){var S=l;return S instanceof Ot&&(S=S.value()),xa(h,function(R,q){return q.func.apply(q.thisArg,Ir([R],q.args))},S)}function Ov(l,h,S){var R=l.length;if(R<2)return R?Ba(l[0]):[];for(var q=-1,G=ve(R);++q<R;)for(var te=l[q],le=-1;++le<R;)le!=q&&(G[q]=mf(G[q]||te,l[le],h,S));return Ba(Kn(G,1),h,S)}function qE(l,h,S){for(var R=-1,q=l.length,G=h.length,te={};++R<q;){var le=R<G?h[R]:n;S(te,l[R],le)}return te}function Av(l){return gn(l)?l:[]}function Rv(l){return typeof l=="function"?l:_r}function Fa(l,h){return vt(l)?l:Uv(l,h)?[l]:yC(Kt(l))}var Qk=Tt;function Ua(l,h,S){var R=l.length;return S=S===n?R:S,!h&&S>=R?l:yi(l,h,S)}var jE=mr||function(l){return pn.clearTimeout(l)};function KE(l,h){if(h)return l.slice();var S=l.length,R=Nh?Nh(S):new l.constructor(S);return l.copy(R),R}function kv(l){var h=new l.constructor(l.byteLength);return new hu(h).set(new hu(l)),h}function Xk(l,h){var S=h?kv(l.buffer):l.buffer;return new l.constructor(S,l.byteOffset,l.byteLength)}function Zk(l){var h=new l.constructor(l.source,jl.exec(l));return h.lastIndex=l.lastIndex,h}function eP(l){return hf?Rt(hf.call(l)):{}}function VE(l,h){var S=h?kv(l.buffer):l.buffer;return new l.constructor(S,l.byteOffset,l.length)}function GE(l,h){if(l!==h){var S=l!==n,R=l===null,q=l===l,G=Vr(l),te=h!==n,le=h===null,fe=h===h,Se=Vr(h);if(!le&&!Se&&!G&&l>h||G&&te&&fe&&!le&&!Se||R&&te&&fe||!S&&fe||!q)return 1;if(!R&&!G&&!Se&&l<h||Se&&S&&q&&!R&&!G||le&&S&&q||!te&&q||!fe)return-1}return 0}function tP(l,h,S){for(var R=-1,q=l.criteria,G=h.criteria,te=q.length,le=S.length;++R<te;){var fe=GE(q[R],G[R]);if(fe){if(R>=le)return fe;var Se=S[R];return fe*(Se=="desc"?-1:1)}}return l.index-h.index}function HE(l,h,S,R){for(var q=-1,G=l.length,te=S.length,le=-1,fe=h.length,Se=Nn(G-te,0),Ee=ve(fe+Se),Ne=!R;++le<fe;)Ee[le]=h[le];for(;++q<te;)(Ne||q<G)&&(Ee[S[q]]=l[q]);for(;Se--;)Ee[le++]=l[q++];return Ee}function YE(l,h,S,R){for(var q=-1,G=l.length,te=-1,le=S.length,fe=-1,Se=h.length,Ee=Nn(G-le,0),Ne=ve(Ee+Se),Me=!R;++q<Ee;)Ne[q]=l[q];for(var He=q;++fe<Se;)Ne[He+fe]=h[fe];for(;++te<le;)(Me||q<G)&&(Ne[He+S[te]]=l[q++]);return Ne}function Nr(l,h){var S=-1,R=l.length;for(h||(h=ve(R));++S<R;)h[S]=l[S];return h}function xo(l,h,S,R){var q=!S;S||(S={});for(var G=-1,te=h.length;++G<te;){var le=h[G],fe=R?R(S[le],l[le],le,S,l):n;fe===n&&(fe=l[le]),q?Ho(S,le,fe):pf(S,le,fe)}return S}function nP(l,h){return xo(l,Fv(l),h)}function rP(l,h){return xo(l,lC(l),h)}function zh(l,h){return function(S,R){var q=vt(S)?ru:Nk,G=h?h():{};return q(S,l,nt(R,2),G)}}function vu(l){return Tt(function(h,S){var R=-1,q=S.length,G=q>1?S[q-1]:n,te=q>2?S[2]:n;for(G=l.length>3&&typeof G=="function"?(q--,G):n,te&&vr(S[0],S[1],te)&&(G=q<3?n:G,q=1),h=Rt(h);++R<q;){var le=S[R];le&&l(h,le,R,G)}return h})}function JE(l,h){return function(S,R){if(S==null)return S;if(!xr(S))return l(S,R);for(var q=S.length,G=h?q:-1,te=Rt(S);(h?G--:++G<q)&&R(te[G],G,te)!==!1;);return S}}function QE(l){return function(h,S,R){for(var q=-1,G=Rt(h),te=R(h),le=te.length;le--;){var fe=te[l?le:++q];if(S(G[fe],fe,G)===!1)break}return h}}function iP(l,h,S){var R=h&E,q=wf(l);function G(){var te=this&&this!==pn&&this instanceof G?q:l;return te.apply(R?S:this,arguments)}return G}function XE(l){return function(h){h=Kt(h);var S=me(h)?qn(h):n,R=S?S[0]:h.charAt(0),q=S?Ua(S,1).join(""):h.slice(1);return R[l]()+q}}function yu(l){return function(h){return xa(JC(YC(h).replace(Fs,"")),l,"")}}function wf(l){return function(){var h=arguments;switch(h.length){case 0:return new l;case 1:return new l(h[0]);case 2:return new l(h[0],h[1]);case 3:return new l(h[0],h[1],h[2]);case 4:return new l(h[0],h[1],h[2],h[3]);case 5:return new l(h[0],h[1],h[2],h[3],h[4]);case 6:return new l(h[0],h[1],h[2],h[3],h[4],h[5]);case 7:return new l(h[0],h[1],h[2],h[3],h[4],h[5],h[6])}var S=gu(l.prototype),R=l.apply(S,h);return an(R)?R:S}}function oP(l,h,S){var R=wf(l);function q(){for(var G=arguments.length,te=ve(G),le=G,fe=wu(q);le--;)te[le]=arguments[le];var Se=G<3&&te[0]!==fe&&te[G-1]!==fe?[]:Ze(te,fe);if(G-=Se.length,G<S)return rC(l,h,Mh,q.placeholder,n,te,Se,n,n,S-G);var Ee=this&&this!==pn&&this instanceof q?R:l;return An(Ee,this,te)}return q}function ZE(l){return function(h,S,R){var q=Rt(h);if(!xr(h)){var G=nt(S,3);h=kn(h),S=function(le){return G(q[le],le,q)}}var te=l(h,S,R);return te>-1?q[G?h[te]:te]:n}}function eC(l){return Jo(function(h){var S=h.length,R=S,q=gi.prototype.thru;for(l&&h.reverse();R--;){var G=h[R];if(typeof G!="function")throw new pr(c);if(q&&!te&&Wh(G)=="wrapper")var te=new gi([],!0)}for(R=te?R:S;++R<S;){G=h[R];var le=Wh(G),fe=le=="wrapper"?Mv(G):n;fe&&Wv(fe[0])&&fe[1]==(W|D|z|j)&&!fe[4].length&&fe[9]==1?te=te[Wh(fe[0])].apply(te,fe[3]):te=G.length==1&&Wv(G)?te[le]():te.thru(G)}return function(){var Se=arguments,Ee=Se[0];if(te&&Se.length==1&&vt(Ee))return te.plant(Ee).value();for(var Ne=0,Me=S?h[Ne].apply(this,Se):Ee;++Ne<S;)Me=h[Ne].call(this,Me);return Me}})}function Mh(l,h,S,R,q,G,te,le,fe,Se){var Ee=h&W,Ne=h&E,Me=h&I,He=h&(D|O),rt=h&$,It=Me?n:wf(l);function it(){for(var _t=arguments.length,kt=ve(_t),Gr=_t;Gr--;)kt[Gr]=arguments[Gr];if(He)var yr=wu(it),Hr=w(kt,yr);if(R&&(kt=HE(kt,R,q,He)),G&&(kt=YE(kt,G,te,He)),_t-=Hr,He&&_t<Se){var vn=Ze(kt,yr);return rC(l,h,Mh,it.placeholder,S,kt,vn,le,fe,Se-_t)}var Ji=Ne?S:this,ea=Me?Ji[l]:l;return _t=kt.length,le?kt=NP(kt,le):rt&&_t>1&&kt.reverse(),Ee&&fe<_t&&(kt.length=fe),this&&this!==pn&&this instanceof it&&(ea=It||wf(ea)),ea.apply(Ji,kt)}return it}function tC(l,h){return function(S,R){return Pk(S,l,h(R),{})}}function Bh(l,h){return function(S,R){var q;if(S===n&&R===n)return h;if(S!==n&&(q=S),R!==n){if(q===n)return R;typeof S=="string"||typeof R=="string"?(S=Kr(S),R=Kr(R)):(S=UE(S),R=UE(R)),q=l(S,R)}return q}}function Pv(l){return Jo(function(h){return h=Gt(h,u(nt())),Tt(function(S){var R=this;return l(h,function(q){return An(q,R,S)})})})}function Fh(l,h){h=h===n?" ":Kr(h);var S=h.length;if(S<2)return S?xv(h,l):h;var R=xv(h,za(l/qr(h)));return me(h)?Ua(qn(R),0,l).join(""):R.slice(0,l)}function aP(l,h,S,R){var q=h&E,G=wf(l);function te(){for(var le=-1,fe=arguments.length,Se=-1,Ee=R.length,Ne=ve(Ee+fe),Me=this&&this!==pn&&this instanceof te?G:l;++Se<Ee;)Ne[Se]=R[Se];for(;fe--;)Ne[Se++]=arguments[++le];return An(Me,q?S:this,Ne)}return te}function nC(l){return function(h,S,R){return R&&typeof R!="number"&&vr(h,S,R)&&(S=R=n),h=Zo(h),S===n?(S=h,h=0):S=Zo(S),R=R===n?h<S?1:-1:Zo(R),Kk(h,S,R,l)}}function Uh(l){return function(h,S){return typeof h=="string"&&typeof S=="string"||(h=bi(h),S=bi(S)),l(h,S)}}function rC(l,h,S,R,q,G,te,le,fe,Se){var Ee=h&D,Ne=Ee?te:n,Me=Ee?n:te,He=Ee?G:n,rt=Ee?n:G;h|=Ee?z:k,h&=~(Ee?k:z),h&N||(h&=~(E|I));var It=[l,h,q,He,Ne,rt,Me,le,fe,Se],it=S.apply(n,It);return Wv(l)&&mC(it,It),it.placeholder=R,gC(it,l,h)}function Dv(l){var h=mn[l];return function(S,R){if(S=bi(S),R=R==null?0:nr(St(R),292),R&&gE(S)){var q=(Kt(S)+"e").split("e"),G=h(q[0]+"e"+(+q[1]+R));return q=(Kt(G)+"e").split("e"),+(q[0]+"e"+(+q[1]-R))}return h(S)}}var sP=pu&&1/xt(new pu([,-0]))[1]==re?function(l){return new pu(l)}:ny;function iC(l){return function(h){var S=rr(h);return S==bt?je(h):S==Pe?Zt(h):ka(h,l(h))}}function Yo(l,h,S,R,q,G,te,le){var fe=h&I;if(!fe&&typeof l!="function")throw new pr(c);var Se=R?R.length:0;if(Se||(h&=~(z|k),R=q=n),te=te===n?te:Nn(St(te),0),le=le===n?le:St(le),Se-=q?q.length:0,h&k){var Ee=R,Ne=q;R=q=n}var Me=fe?n:Mv(l),He=[l,h,S,R,q,Ee,Ne,G,te,le];if(Me&&EP(He,Me),l=He[0],h=He[1],S=He[2],R=He[3],q=He[4],le=He[9]=He[9]===n?fe?0:l.length:Nn(He[9]-Se,0),!le&&h&(D|O)&&(h&=~(D|O)),!h||h==E)var rt=iP(l,h,S);else h==D||h==O?rt=oP(l,h,le):(h==z||h==(E|z))&&!q.length?rt=aP(l,h,S,R):rt=Mh.apply(n,He);var It=Me?BE:mC;return gC(It(rt,He),l,h)}function oC(l,h,S,R){return l===n||Yi(l,Da[S])&&!Ut.call(R,S)?h:l}function aC(l,h,S,R,q,G){return an(l)&&an(h)&&(G.set(h,l),Ph(l,h,n,aC,G),G.delete(h)),l}function lP(l){return Ef(l)?n:l}function sC(l,h,S,R,q,G){var te=S&P,le=l.length,fe=h.length;if(le!=fe&&!(te&&fe>le))return!1;var Se=G.get(l),Ee=G.get(h);if(Se&&Ee)return Se==h&&Ee==l;var Ne=-1,Me=!0,He=S&L?new nl:n;for(G.set(l,h),G.set(h,l);++Ne<le;){var rt=l[Ne],It=h[Ne];if(R)var it=te?R(It,rt,Ne,h,l,G):R(rt,It,Ne,l,h,G);if(it!==n){if(it)continue;Me=!1;break}if(He){if(!Js(h,function(_t,kt){if(!s(He,kt)&&(rt===_t||q(rt,_t,S,R,G)))return He.push(kt)})){Me=!1;break}}else if(!(rt===It||q(rt,It,S,R,G))){Me=!1;break}}return G.delete(l),G.delete(h),Me}function uP(l,h,S,R,q,G,te){switch(S){case at:if(l.byteLength!=h.byteLength||l.byteOffset!=h.byteOffset)return!1;l=l.buffer,h=h.buffer;case yt:return!(l.byteLength!=h.byteLength||!G(new hu(l),new hu(h)));case qe:case Be:case Ct:return Yi(+l,+h);case Ue:return l.name==h.name&&l.message==h.message;case Ie:case We:return l==h+"";case bt:var le=je;case Pe:var fe=R&P;if(le||(le=xt),l.size!=h.size&&!fe)return!1;var Se=te.get(l);if(Se)return Se==h;R|=L,te.set(l,h);var Ee=sC(le(l),le(h),R,q,G,te);return te.delete(l),Ee;case pt:if(hf)return hf.call(l)==hf.call(h)}return!1}function cP(l,h,S,R,q,G){var te=S&P,le=Lv(l),fe=le.length,Se=Lv(h),Ee=Se.length;if(fe!=Ee&&!te)return!1;for(var Ne=fe;Ne--;){var Me=le[Ne];if(!(te?Me in h:Ut.call(h,Me)))return!1}var He=G.get(l),rt=G.get(h);if(He&&rt)return He==h&&rt==l;var It=!0;G.set(l,h),G.set(h,l);for(var it=te;++Ne<fe;){Me=le[Ne];var _t=l[Me],kt=h[Me];if(R)var Gr=te?R(kt,_t,Me,h,l,G):R(_t,kt,Me,l,h,G);if(!(Gr===n?_t===kt||q(_t,kt,S,R,G):Gr)){It=!1;break}it||(it=Me=="constructor")}if(It&&!it){var yr=l.constructor,Hr=h.constructor;yr!=Hr&&"constructor"in l&&"constructor"in h&&!(typeof yr=="function"&&yr instanceof yr&&typeof Hr=="function"&&Hr instanceof Hr)&&(It=!1)}return G.delete(l),G.delete(h),It}function Jo(l){return qv(hC(l,n,EC),l+"")}function Lv(l){return TE(l,kn,Fv)}function zv(l){return TE(l,Tr,lC)}var Mv=Th?function(l){return Th.get(l)}:ny;function Wh(l){for(var h=l.name+"",S=mu[h],R=Ut.call(mu,h)?S.length:0;R--;){var q=S[R],G=q.func;if(G==null||G==l)return q.name}return h}function wu(l){var h=Ut.call(V,"placeholder")?V:l;return h.placeholder}function nt(){var l=V.iteratee||ey;return l=l===ey?AE:l,arguments.length?l(arguments[0],arguments[1]):l}function $h(l,h){var S=l.__data__;return yP(h)?S[typeof h=="string"?"string":"hash"]:S.map}function Bv(l){for(var h=kn(l),S=h.length;S--;){var R=h[S],q=l[R];h[S]=[R,q,fC(q)]}return h}function ol(l,h){var S=ie(l,h);return OE(S)?S:n}function fP(l){var h=Ut.call(l,Ve),S=l[Ve];try{l[Ve]=n;var R=!0}catch{}var q=Gi.call(l);return R&&(h?l[Ve]=S:delete l[Ve]),q}var Fv=dv?function(l){return l==null?[]:(l=Rt(l),mi(dv(l),function(h){return T.call(l,h)}))}:ry,lC=dv?function(l){for(var h=[];l;)Ir(h,Fv(l)),l=Ko(l);return h}:ry,rr=gr;(hv&&rr(new hv(new ArrayBuffer(1)))!=at||cf&&rr(new cf)!=bt||pv&&rr(pv.resolve())!=ge||pu&&rr(new pu)!=Pe||ff&&rr(new ff)!=At)&&(rr=function(l){var h=gr(l),S=h==oe?l.constructor:n,R=S?al(S):"";if(R)switch(R){case G1:return at;case H1:return bt;case Y1:return ge;case J1:return Pe;case Q1:return At}return h});function dP(l,h,S){for(var R=-1,q=S.length;++R<q;){var G=S[R],te=G.size;switch(G.type){case"drop":l+=te;break;case"dropRight":h-=te;break;case"take":h=nr(h,l+te);break;case"takeRight":l=Nn(l,h-te);break}}return{start:l,end:h}}function hP(l){var h=l.match(er);return h?h[1].split(jc):[]}function uC(l,h,S){h=Fa(h,l);for(var R=-1,q=h.length,G=!1;++R<q;){var te=To(h[R]);if(!(G=l!=null&&S(l,te)))break;l=l[te]}return G||++R!=q?G:(q=l==null?0:l.length,!!q&&Yh(q)&&Qo(te,q)&&(vt(l)||sl(l)))}function pP(l){var h=l.length,S=new l.constructor(h);return h&&typeof l[0]=="string"&&Ut.call(l,"index")&&(S.index=l.index,S.input=l.input),S}function cC(l){return typeof l.constructor=="function"&&!bf(l)?gu(Ko(l)):{}}function mP(l,h,S){var R=l.constructor;switch(h){case yt:return kv(l);case qe:case Be:return new R(+l);case at:return Xk(l,S);case fi:case vo:case Ge:case ur:case Xn:case Er:case cr:case fr:case Fe:return VE(l,S);case bt:return new R;case Ct:case We:return new R(l);case Ie:return Zk(l);case Pe:return new R;case pt:return eP(l)}}function gP(l,h){var S=h.length;if(!S)return l;var R=S-1;return h[R]=(S>1?"& ":"")+h[R],h=h.join(S>2?", ":" "),l.replace(pa,`{
/* [wrapped with `+h+`] */
`)}function vP(l){return vt(l)||sl(l)||!!(ee&&l&&l[ee])}function Qo(l,h){var S=typeof l;return h=h==null?J:h,!!h&&(S=="number"||S!="symbol"&&On.test(l))&&l>-1&&l%1==0&&l<h}function vr(l,h,S){if(!an(S))return!1;var R=typeof h;return(R=="number"?xr(S)&&Qo(h,S.length):R=="string"&&h in S)?Yi(S[h],l):!1}function Uv(l,h){if(vt(l))return!1;var S=typeof l;return S=="number"||S=="symbol"||S=="boolean"||l==null||Vr(l)?!0:As.test(l)||!Os.test(l)||h!=null&&l in Rt(h)}function yP(l){var h=typeof l;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?l!=="__proto__":l===null}function Wv(l){var h=Wh(l),S=V[h];if(typeof S!="function"||!(h in Ot.prototype))return!1;if(l===S)return!0;var R=Mv(S);return!!R&&l===R[0]}function wP(l){return!!jr&&jr in l}var bP=el?Xo:iy;function bf(l){var h=l&&l.constructor,S=typeof h=="function"&&h.prototype||Da;return l===S}function fC(l){return l===l&&!an(l)}function dC(l,h){return function(S){return S==null?!1:S[l]===h&&(h!==n||l in Rt(S))}}function SP(l){var h=Gh(l,function(R){return S.size===g&&S.clear(),R}),S=h.cache;return h}function EP(l,h){var S=l[1],R=h[1],q=S|R,G=q<(E|I|W),te=R==W&&S==D||R==W&&S==j&&l[7].length<=h[8]||R==(W|j)&&h[7].length<=h[8]&&S==D;if(!(G||te))return l;R&E&&(l[2]=h[2],q|=S&E?0:N);var le=h[3];if(le){var fe=l[3];l[3]=fe?HE(fe,le,h[4]):le,l[4]=fe?Ze(l[3],y):h[4]}return le=h[5],le&&(fe=l[5],l[5]=fe?YE(fe,le,h[6]):le,l[6]=fe?Ze(l[5],y):h[6]),le=h[7],le&&(l[7]=le),R&W&&(l[8]=l[8]==null?h[8]:nr(l[8],h[8])),l[9]==null&&(l[9]=h[9]),l[0]=h[0],l[1]=q,l}function CP(l){var h=[];if(l!=null)for(var S in Rt(l))h.push(S);return h}function IP(l){return Gi.call(l)}function hC(l,h,S){return h=Nn(h===n?l.length-1:h,0),function(){for(var R=arguments,q=-1,G=Nn(R.length-h,0),te=ve(G);++q<G;)te[q]=R[h+q];q=-1;for(var le=ve(h+1);++q<h;)le[q]=R[q];return le[h]=S(te),An(l,this,le)}}function pC(l,h){return h.length<2?l:il(l,yi(h,0,-1))}function NP(l,h){for(var S=l.length,R=nr(h.length,S),q=Nr(l);R--;){var G=h[R];l[R]=Qo(G,S)?q[G]:n}return l}function $v(l,h){if(!(h==="constructor"&&typeof l[h]=="function")&&h!="__proto__")return l[h]}var mC=vC(BE),Sf=La||function(l,h){return pn.setTimeout(l,h)},qv=vC(Hk);function gC(l,h,S){var R=h+"";return qv(l,gP(R,xP(hP(R),S)))}function vC(l){var h=0,S=0;return function(){var R=j1(),q=Z-(R-S);if(S=R,q>0){if(++h>=K)return arguments[0]}else h=0;return l.apply(n,arguments)}}function qh(l,h){var S=-1,R=l.length,q=R-1;for(h=h===n?R:h;++S<h;){var G=Nv(S,q),te=l[G];l[G]=l[S],l[S]=te}return l.length=h,l}var yC=SP(function(l){var h=[];return l.charCodeAt(0)===46&&h.push(""),l.replace(Le,function(S,R,q,G){h.push(q?G.replace(Rs,"$1"):R||S)}),h});function To(l){if(typeof l=="string"||Vr(l))return l;var h=l+"";return h=="0"&&1/l==-re?"-0":h}function al(l){if(l!=null){try{return fu.call(l)}catch{}try{return l+""}catch{}}return""}function xP(l,h){return $n(ze,function(S){var R="_."+S[0];h&S[1]&&!Na(l,R)&&l.push(R)}),l.sort()}function wC(l){if(l instanceof Ot)return l.clone();var h=new gi(l.__wrapped__,l.__chain__);return h.__actions__=Nr(l.__actions__),h.__index__=l.__index__,h.__values__=l.__values__,h}function TP(l,h,S){(S?vr(l,h,S):h===n)?h=1:h=Nn(St(h),0);var R=l==null?0:l.length;if(!R||h<1)return[];for(var q=0,G=0,te=ve(za(R/h));q<R;)te[G++]=yi(l,q,q+=h);return te}function _P(l){for(var h=-1,S=l==null?0:l.length,R=0,q=[];++h<S;){var G=l[h];G&&(q[R++]=G)}return q}function OP(){var l=arguments.length;if(!l)return[];for(var h=ve(l-1),S=arguments[0],R=l;R--;)h[R-1]=arguments[R];return Ir(vt(S)?Nr(S):[S],Kn(h,1))}var AP=Tt(function(l,h){return gn(l)?mf(l,Kn(h,1,gn,!0)):[]}),RP=Tt(function(l,h){var S=wi(h);return gn(S)&&(S=n),gn(l)?mf(l,Kn(h,1,gn,!0),nt(S,2)):[]}),kP=Tt(function(l,h){var S=wi(h);return gn(S)&&(S=n),gn(l)?mf(l,Kn(h,1,gn,!0),n,S):[]});function PP(l,h,S){var R=l==null?0:l.length;return R?(h=S||h===n?1:St(h),yi(l,h<0?0:h,R)):[]}function DP(l,h,S){var R=l==null?0:l.length;return R?(h=S||h===n?1:St(h),h=R-h,yi(l,0,h<0?0:h)):[]}function LP(l,h){return l&&l.length?Lh(l,nt(h,3),!0,!0):[]}function zP(l,h){return l&&l.length?Lh(l,nt(h,3),!0):[]}function MP(l,h,S,R){var q=l==null?0:l.length;return q?(S&&typeof S!="number"&&vr(l,h,S)&&(S=0,R=q),Ok(l,h,S,R)):[]}function bC(l,h,S){var R=l==null?0:l.length;if(!R)return-1;var q=S==null?0:St(S);return q<0&&(q=Nn(R+q,0)),Ta(l,nt(h,3),q)}function SC(l,h,S){var R=l==null?0:l.length;if(!R)return-1;var q=R-1;return S!==n&&(q=St(S),q=S<0?Nn(R+q,0):nr(q,R-1)),Ta(l,nt(h,3),q,!0)}function EC(l){var h=l==null?0:l.length;return h?Kn(l,1):[]}function BP(l){var h=l==null?0:l.length;return h?Kn(l,re):[]}function FP(l,h){var S=l==null?0:l.length;return S?(h=h===n?1:St(h),Kn(l,h)):[]}function UP(l){for(var h=-1,S=l==null?0:l.length,R={};++h<S;){var q=l[h];R[q[0]]=q[1]}return R}function CC(l){return l&&l.length?l[0]:n}function WP(l,h,S){var R=l==null?0:l.length;if(!R)return-1;var q=S==null?0:St(S);return q<0&&(q=Nn(R+q,0)),Qt(l,h,q)}function $P(l){var h=l==null?0:l.length;return h?yi(l,0,-1):[]}var qP=Tt(function(l){var h=Gt(l,Av);return h.length&&h[0]===l[0]?bv(h):[]}),jP=Tt(function(l){var h=wi(l),S=Gt(l,Av);return h===wi(S)?h=n:S.pop(),S.length&&S[0]===l[0]?bv(S,nt(h,2)):[]}),KP=Tt(function(l){var h=wi(l),S=Gt(l,Av);return h=typeof h=="function"?h:n,h&&S.pop(),S.length&&S[0]===l[0]?bv(S,n,h):[]});function VP(l,h){return l==null?"":$1.call(l,h)}function wi(l){var h=l==null?0:l.length;return h?l[h-1]:n}function GP(l,h,S){var R=l==null?0:l.length;if(!R)return-1;var q=R;return S!==n&&(q=St(S),q=q<0?Nn(R+q,0):nr(q,R-1)),h===h?Rn(l,h,q):Ta(l,au,q,!0)}function HP(l,h){return l&&l.length?DE(l,St(h)):n}var YP=Tt(IC);function IC(l,h){return l&&l.length&&h&&h.length?Iv(l,h):l}function JP(l,h,S){return l&&l.length&&h&&h.length?Iv(l,h,nt(S,2)):l}function QP(l,h,S){return l&&l.length&&h&&h.length?Iv(l,h,n,S):l}var XP=Jo(function(l,h){var S=l==null?0:l.length,R=gv(l,h);return ME(l,Gt(h,function(q){return Qo(q,S)?+q:q}).sort(GE)),R});function ZP(l,h){var S=[];if(!(l&&l.length))return S;var R=-1,q=[],G=l.length;for(h=nt(h,3);++R<G;){var te=l[R];h(te,R,l)&&(S.push(te),q.push(R))}return ME(l,q),S}function jv(l){return l==null?l:V1.call(l)}function eD(l,h,S){var R=l==null?0:l.length;return R?(S&&typeof S!="number"&&vr(l,h,S)?(h=0,S=R):(h=h==null?0:St(h),S=S===n?R:St(S)),yi(l,h,S)):[]}function tD(l,h){return Dh(l,h)}function nD(l,h,S){return Tv(l,h,nt(S,2))}function rD(l,h){var S=l==null?0:l.length;if(S){var R=Dh(l,h);if(R<S&&Yi(l[R],h))return R}return-1}function iD(l,h){return Dh(l,h,!0)}function oD(l,h,S){return Tv(l,h,nt(S,2),!0)}function aD(l,h){var S=l==null?0:l.length;if(S){var R=Dh(l,h,!0)-1;if(Yi(l[R],h))return R}return-1}function sD(l){return l&&l.length?FE(l):[]}function lD(l,h){return l&&l.length?FE(l,nt(h,2)):[]}function uD(l){var h=l==null?0:l.length;return h?yi(l,1,h):[]}function cD(l,h,S){return l&&l.length?(h=S||h===n?1:St(h),yi(l,0,h<0?0:h)):[]}function fD(l,h,S){var R=l==null?0:l.length;return R?(h=S||h===n?1:St(h),h=R-h,yi(l,h<0?0:h,R)):[]}function dD(l,h){return l&&l.length?Lh(l,nt(h,3),!1,!0):[]}function hD(l,h){return l&&l.length?Lh(l,nt(h,3)):[]}var pD=Tt(function(l){return Ba(Kn(l,1,gn,!0))}),mD=Tt(function(l){var h=wi(l);return gn(h)&&(h=n),Ba(Kn(l,1,gn,!0),nt(h,2))}),gD=Tt(function(l){var h=wi(l);return h=typeof h=="function"?h:n,Ba(Kn(l,1,gn,!0),n,h)});function vD(l){return l&&l.length?Ba(l):[]}function yD(l,h){return l&&l.length?Ba(l,nt(h,2)):[]}function wD(l,h){return h=typeof h=="function"?h:n,l&&l.length?Ba(l,n,h):[]}function Kv(l){if(!(l&&l.length))return[];var h=0;return l=mi(l,function(S){if(gn(S))return h=Nn(S.length,h),!0}),Ra(h,function(S){return Gt(l,Oa(S))})}function NC(l,h){if(!(l&&l.length))return[];var S=Kv(l);return h==null?S:Gt(S,function(R){return An(h,n,R)})}var bD=Tt(function(l,h){return gn(l)?mf(l,h):[]}),SD=Tt(function(l){return Ov(mi(l,gn))}),ED=Tt(function(l){var h=wi(l);return gn(h)&&(h=n),Ov(mi(l,gn),nt(h,2))}),CD=Tt(function(l){var h=wi(l);return h=typeof h=="function"?h:n,Ov(mi(l,gn),n,h)}),ID=Tt(Kv);function ND(l,h){return qE(l||[],h||[],pf)}function xD(l,h){return qE(l||[],h||[],yf)}var TD=Tt(function(l){var h=l.length,S=h>1?l[h-1]:n;return S=typeof S=="function"?(l.pop(),S):n,NC(l,S)});function xC(l){var h=V(l);return h.__chain__=!0,h}function _D(l,h){return h(l),l}function jh(l,h){return h(l)}var OD=Jo(function(l){var h=l.length,S=h?l[0]:0,R=this.__wrapped__,q=function(G){return gv(G,l)};return h>1||this.__actions__.length||!(R instanceof Ot)||!Qo(S)?this.thru(q):(R=R.slice(S,+S+(h?1:0)),R.__actions__.push({func:jh,args:[q],thisArg:n}),new gi(R,this.__chain__).thru(function(G){return h&&!G.length&&G.push(n),G}))});function AD(){return xC(this)}function RD(){return new gi(this.value(),this.__chain__)}function kD(){this.__values__===n&&(this.__values__=UC(this.value()));var l=this.__index__>=this.__values__.length,h=l?n:this.__values__[this.__index__++];return{done:l,value:h}}function PD(){return this}function DD(l){for(var h,S=this;S instanceof Oh;){var R=wC(S);R.__index__=0,R.__values__=n,h?q.__wrapped__=R:h=R;var q=R;S=S.__wrapped__}return q.__wrapped__=l,h}function LD(){var l=this.__wrapped__;if(l instanceof Ot){var h=l;return this.__actions__.length&&(h=new Ot(this)),h=h.reverse(),h.__actions__.push({func:jh,args:[jv],thisArg:n}),new gi(h,this.__chain__)}return this.thru(jv)}function zD(){return $E(this.__wrapped__,this.__actions__)}var MD=zh(function(l,h,S){Ut.call(l,S)?++l[S]:Ho(l,S,1)});function BD(l,h,S){var R=vt(l)?iu:_k;return S&&vr(l,h,S)&&(h=n),R(l,nt(h,3))}function FD(l,h){var S=vt(l)?mi:NE;return S(l,nt(h,3))}var UD=ZE(bC),WD=ZE(SC);function $D(l,h){return Kn(Kh(l,h),1)}function qD(l,h){return Kn(Kh(l,h),re)}function jD(l,h,S){return S=S===n?1:St(S),Kn(Kh(l,h),S)}function TC(l,h){var S=vt(l)?$n:Ma;return S(l,nt(h,3))}function _C(l,h){var S=vt(l)?af:IE;return S(l,nt(h,3))}var KD=zh(function(l,h,S){Ut.call(l,S)?l[S].push(h):Ho(l,S,[h])});function VD(l,h,S,R){l=xr(l)?l:Su(l),S=S&&!R?St(S):0;var q=l.length;return S<0&&(S=Nn(q+S,0)),Jh(l)?S<=q&&l.indexOf(h,S)>-1:!!q&&Qt(l,h,S)>-1}var GD=Tt(function(l,h,S){var R=-1,q=typeof h=="function",G=xr(l)?ve(l.length):[];return Ma(l,function(te){G[++R]=q?An(h,te,S):gf(te,h,S)}),G}),HD=zh(function(l,h,S){Ho(l,S,h)});function Kh(l,h){var S=vt(l)?Gt:RE;return S(l,nt(h,3))}function YD(l,h,S,R){return l==null?[]:(vt(h)||(h=h==null?[]:[h]),S=R?n:S,vt(S)||(S=S==null?[]:[S]),LE(l,h,S))}var JD=zh(function(l,h,S){l[S?0:1].push(h)},function(){return[[],[]]});function QD(l,h,S){var R=vt(l)?xa:su,q=arguments.length<3;return R(l,nt(h,4),S,q,Ma)}function XD(l,h,S){var R=vt(l)?Co:su,q=arguments.length<3;return R(l,nt(h,4),S,q,IE)}function ZD(l,h){var S=vt(l)?mi:NE;return S(l,Hh(nt(h,3)))}function eL(l){var h=vt(l)?bE:Vk;return h(l)}function tL(l,h,S){(S?vr(l,h,S):h===n)?h=1:h=St(h);var R=vt(l)?Ck:Gk;return R(l,h)}function nL(l){var h=vt(l)?Ik:Yk;return h(l)}function rL(l){if(l==null)return 0;if(xr(l))return Jh(l)?qr(l):l.length;var h=rr(l);return h==bt||h==Pe?l.size:Ev(l).length}function iL(l,h,S){var R=vt(l)?Js:Jk;return S&&vr(l,h,S)&&(h=n),R(l,nt(h,3))}var oL=Tt(function(l,h){if(l==null)return[];var S=h.length;return S>1&&vr(l,h[0],h[1])?h=[]:S>2&&vr(h[0],h[1],h[2])&&(h=[h[0]]),LE(l,Kn(h,1),[])}),Vh=jn||function(){return pn.Date.now()};function aL(l,h){if(typeof h!="function")throw new pr(c);return l=St(l),function(){if(--l<1)return h.apply(this,arguments)}}function OC(l,h,S){return h=S?n:h,h=l&&h==null?l.length:h,Yo(l,W,n,n,n,n,h)}function AC(l,h){var S;if(typeof h!="function")throw new pr(c);return l=St(l),function(){return--l>0&&(S=h.apply(this,arguments)),l<=1&&(h=n),S}}var Vv=Tt(function(l,h,S){var R=E;if(S.length){var q=Ze(S,wu(Vv));R|=z}return Yo(l,R,h,S,q)}),RC=Tt(function(l,h,S){var R=E|I;if(S.length){var q=Ze(S,wu(RC));R|=z}return Yo(h,R,l,S,q)});function kC(l,h,S){h=S?n:h;var R=Yo(l,D,n,n,n,n,n,h);return R.placeholder=kC.placeholder,R}function PC(l,h,S){h=S?n:h;var R=Yo(l,O,n,n,n,n,n,h);return R.placeholder=PC.placeholder,R}function DC(l,h,S){var R,q,G,te,le,fe,Se=0,Ee=!1,Ne=!1,Me=!0;if(typeof l!="function")throw new pr(c);h=bi(h)||0,an(S)&&(Ee=!!S.leading,Ne="maxWait"in S,G=Ne?Nn(bi(S.maxWait)||0,h):G,Me="trailing"in S?!!S.trailing:Me);function He(vn){var Ji=R,ea=q;return R=q=n,Se=vn,te=l.apply(ea,Ji),te}function rt(vn){return Se=vn,le=Sf(_t,h),Ee?He(vn):te}function It(vn){var Ji=vn-fe,ea=vn-Se,ZC=h-Ji;return Ne?nr(ZC,G-ea):ZC}function it(vn){var Ji=vn-fe,ea=vn-Se;return fe===n||Ji>=h||Ji<0||Ne&&ea>=G}function _t(){var vn=Vh();if(it(vn))return kt(vn);le=Sf(_t,It(vn))}function kt(vn){return le=n,Me&&R?He(vn):(R=q=n,te)}function Gr(){le!==n&&jE(le),Se=0,R=fe=q=le=n}function yr(){return le===n?te:kt(Vh())}function Hr(){var vn=Vh(),Ji=it(vn);if(R=arguments,q=this,fe=vn,Ji){if(le===n)return rt(fe);if(Ne)return jE(le),le=Sf(_t,h),He(fe)}return le===n&&(le=Sf(_t,h)),te}return Hr.cancel=Gr,Hr.flush=yr,Hr}var sL=Tt(function(l,h){return CE(l,1,h)}),lL=Tt(function(l,h,S){return CE(l,bi(h)||0,S)});function uL(l){return Yo(l,$)}function Gh(l,h){if(typeof l!="function"||h!=null&&typeof h!="function")throw new pr(c);var S=function(){var R=arguments,q=h?h.apply(this,R):R[0],G=S.cache;if(G.has(q))return G.get(q);var te=l.apply(this,R);return S.cache=G.set(q,te)||G,te};return S.cache=new(Gh.Cache||Go),S}Gh.Cache=Go;function Hh(l){if(typeof l!="function")throw new pr(c);return function(){var h=arguments;switch(h.length){case 0:return!l.call(this);case 1:return!l.call(this,h[0]);case 2:return!l.call(this,h[0],h[1]);case 3:return!l.call(this,h[0],h[1],h[2])}return!l.apply(this,h)}}function cL(l){return AC(2,l)}var fL=Qk(function(l,h){h=h.length==1&&vt(h[0])?Gt(h[0],u(nt())):Gt(Kn(h,1),u(nt()));var S=h.length;return Tt(function(R){for(var q=-1,G=nr(R.length,S);++q<G;)R[q]=h[q].call(this,R[q]);return An(l,this,R)})}),Gv=Tt(function(l,h){var S=Ze(h,wu(Gv));return Yo(l,z,n,h,S)}),LC=Tt(function(l,h){var S=Ze(h,wu(LC));return Yo(l,k,n,h,S)}),dL=Jo(function(l,h){return Yo(l,j,n,n,n,h)});function hL(l,h){if(typeof l!="function")throw new pr(c);return h=h===n?h:St(h),Tt(l,h)}function pL(l,h){if(typeof l!="function")throw new pr(c);return h=h==null?0:Nn(St(h),0),Tt(function(S){var R=S[h],q=Ua(S,0,h);return R&&Ir(q,R),An(l,this,q)})}function mL(l,h,S){var R=!0,q=!0;if(typeof l!="function")throw new pr(c);return an(S)&&(R="leading"in S?!!S.leading:R,q="trailing"in S?!!S.trailing:q),DC(l,h,{leading:R,maxWait:h,trailing:q})}function gL(l){return OC(l,1)}function vL(l,h){return Gv(Rv(h),l)}function yL(){if(!arguments.length)return[];var l=arguments[0];return vt(l)?l:[l]}function wL(l){return vi(l,A)}function bL(l,h){return h=typeof h=="function"?h:n,vi(l,A,h)}function SL(l){return vi(l,b|A)}function EL(l,h){return h=typeof h=="function"?h:n,vi(l,b|A,h)}function CL(l,h){return h==null||EE(l,h,kn(h))}function Yi(l,h){return l===h||l!==l&&h!==h}var IL=Uh(wv),NL=Uh(function(l,h){return l>=h}),sl=_E(function(){return arguments}())?_E:function(l){return ln(l)&&Ut.call(l,"callee")&&!T.call(l,"callee")},vt=ve.isArray,xL=Ia?u(Ia):Dk;function xr(l){return l!=null&&Yh(l.length)&&!Xo(l)}function gn(l){return ln(l)&&xr(l)}function TL(l){return l===!0||l===!1||ln(l)&&gr(l)==qe}var Wa=W1||iy,_L=Vs?u(Vs):Lk;function OL(l){return ln(l)&&l.nodeType===1&&!Ef(l)}function AL(l){if(l==null)return!0;if(xr(l)&&(vt(l)||typeof l=="string"||typeof l.splice=="function"||Wa(l)||bu(l)||sl(l)))return!l.length;var h=rr(l);if(h==bt||h==Pe)return!l.size;if(bf(l))return!Ev(l).length;for(var S in l)if(Ut.call(l,S))return!1;return!0}function RL(l,h){return vf(l,h)}function kL(l,h,S){S=typeof S=="function"?S:n;var R=S?S(l,h):n;return R===n?vf(l,h,n,S):!!R}function Hv(l){if(!ln(l))return!1;var h=gr(l);return h==Ue||h==Ae||typeof l.message=="string"&&typeof l.name=="string"&&!Ef(l)}function PL(l){return typeof l=="number"&&gE(l)}function Xo(l){if(!an(l))return!1;var h=gr(l);return h==ke||h==ht||h==Et||h==_e}function zC(l){return typeof l=="number"&&l==St(l)}function Yh(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=J}function an(l){var h=typeof l;return l!=null&&(h=="object"||h=="function")}function ln(l){return l!=null&&typeof l=="object"}var MC=Gs?u(Gs):Mk;function DL(l,h){return l===h||Sv(l,h,Bv(h))}function LL(l,h,S){return S=typeof S=="function"?S:n,Sv(l,h,Bv(h),S)}function zL(l){return BC(l)&&l!=+l}function ML(l){if(bP(l))throw new ct(a);return OE(l)}function BL(l){return l===null}function FL(l){return l==null}function BC(l){return typeof l=="number"||ln(l)&&gr(l)==Ct}function Ef(l){if(!ln(l)||gr(l)!=oe)return!1;var h=Ko(l);if(h===null)return!0;var S=Ut.call(h,"constructor")&&h.constructor;return typeof S=="function"&&S instanceof S&&fu.call(S)==uv}var Yv=Hs?u(Hs):Bk;function UL(l){return zC(l)&&l>=-J&&l<=J}var FC=jo?u(jo):Fk;function Jh(l){return typeof l=="string"||!vt(l)&&ln(l)&&gr(l)==We}function Vr(l){return typeof l=="symbol"||ln(l)&&gr(l)==pt}var bu=Eo?u(Eo):Uk;function WL(l){return l===n}function $L(l){return ln(l)&&rr(l)==At}function qL(l){return ln(l)&&gr(l)==bn}var jL=Uh(Cv),KL=Uh(function(l,h){return l<=h});function UC(l){if(!l)return[];if(xr(l))return Jh(l)?qn(l):Nr(l);if(ye&&l[ye])return Re(l[ye]());var h=rr(l),S=h==bt?je:h==Pe?xt:Su;return S(l)}function Zo(l){if(!l)return l===0?l:0;if(l=bi(l),l===re||l===-re){var h=l<0?-1:1;return h*Q}return l===l?l:0}function St(l){var h=Zo(l),S=h%1;return h===h?S?h-S:h:0}function WC(l){return l?rl(St(l),0,se):0}function bi(l){if(typeof l=="number")return l;if(Vr(l))return ue;if(an(l)){var h=typeof l.valueOf=="function"?l.valueOf():l;l=an(h)?h+"":h}if(typeof l!="string")return l===0?l:+l;l=Zs(l);var S=Uo.test(l);return S||ga.test(l)?Ca(l.slice(2),S?2:8):ks.test(l)?ue:+l}function $C(l){return xo(l,Tr(l))}function VL(l){return l?rl(St(l),-J,J):l===0?l:0}function Kt(l){return l==null?"":Kr(l)}var GL=vu(function(l,h){if(bf(h)||xr(h)){xo(h,kn(h),l);return}for(var S in h)Ut.call(h,S)&&pf(l,S,h[S])}),qC=vu(function(l,h){xo(h,Tr(h),l)}),Qh=vu(function(l,h,S,R){xo(h,Tr(h),l,R)}),HL=vu(function(l,h,S,R){xo(h,kn(h),l,R)}),YL=Jo(gv);function JL(l,h){var S=gu(l);return h==null?S:SE(S,h)}var QL=Tt(function(l,h){l=Rt(l);var S=-1,R=h.length,q=R>2?h[2]:n;for(q&&vr(h[0],h[1],q)&&(R=1);++S<R;)for(var G=h[S],te=Tr(G),le=-1,fe=te.length;++le<fe;){var Se=te[le],Ee=l[Se];(Ee===n||Yi(Ee,Da[Se])&&!Ut.call(l,Se))&&(l[Se]=G[Se])}return l}),XL=Tt(function(l){return l.push(n,aC),An(jC,n,l)});function ZL(l,h){return Qs(l,nt(h,3),No)}function ez(l,h){return Qs(l,nt(h,3),yv)}function tz(l,h){return l==null?l:vv(l,nt(h,3),Tr)}function nz(l,h){return l==null?l:xE(l,nt(h,3),Tr)}function rz(l,h){return l&&No(l,nt(h,3))}function iz(l,h){return l&&yv(l,nt(h,3))}function oz(l){return l==null?[]:kh(l,kn(l))}function az(l){return l==null?[]:kh(l,Tr(l))}function Jv(l,h,S){var R=l==null?n:il(l,h);return R===n?S:R}function sz(l,h){return l!=null&&uC(l,h,Ak)}function Qv(l,h){return l!=null&&uC(l,h,Rk)}var lz=tC(function(l,h,S){h!=null&&typeof h.toString!="function"&&(h=Gi.call(h)),l[h]=S},Zv(_r)),uz=tC(function(l,h,S){h!=null&&typeof h.toString!="function"&&(h=Gi.call(h)),Ut.call(l,h)?l[h].push(S):l[h]=[S]},nt),cz=Tt(gf);function kn(l){return xr(l)?wE(l):Ev(l)}function Tr(l){return xr(l)?wE(l,!0):Wk(l)}function fz(l,h){var S={};return h=nt(h,3),No(l,function(R,q,G){Ho(S,h(R,q,G),R)}),S}function dz(l,h){var S={};return h=nt(h,3),No(l,function(R,q,G){Ho(S,q,h(R,q,G))}),S}var hz=vu(function(l,h,S){Ph(l,h,S)}),jC=vu(function(l,h,S,R){Ph(l,h,S,R)}),pz=Jo(function(l,h){var S={};if(l==null)return S;var R=!1;h=Gt(h,function(G){return G=Fa(G,l),R||(R=G.length>1),G}),xo(l,zv(l),S),R&&(S=vi(S,b|C|A,lP));for(var q=h.length;q--;)_v(S,h[q]);return S});function mz(l,h){return KC(l,Hh(nt(h)))}var gz=Jo(function(l,h){return l==null?{}:qk(l,h)});function KC(l,h){if(l==null)return{};var S=Gt(zv(l),function(R){return[R]});return h=nt(h),zE(l,S,function(R,q){return h(R,q[0])})}function vz(l,h,S){h=Fa(h,l);var R=-1,q=h.length;for(q||(q=1,l=n);++R<q;){var G=l==null?n:l[To(h[R])];G===n&&(R=q,G=S),l=Xo(G)?G.call(l):G}return l}function yz(l,h,S){return l==null?l:yf(l,h,S)}function wz(l,h,S,R){return R=typeof R=="function"?R:n,l==null?l:yf(l,h,S,R)}var VC=iC(kn),GC=iC(Tr);function bz(l,h,S){var R=vt(l),q=R||Wa(l)||bu(l);if(h=nt(h,4),S==null){var G=l&&l.constructor;q?S=R?new G:[]:an(l)?S=Xo(G)?gu(Ko(l)):{}:S={}}return(q?$n:No)(l,function(te,le,fe){return h(S,te,le,fe)}),S}function Sz(l,h){return l==null?!0:_v(l,h)}function Ez(l,h,S){return l==null?l:WE(l,h,Rv(S))}function Cz(l,h,S,R){return R=typeof R=="function"?R:n,l==null?l:WE(l,h,Rv(S),R)}function Su(l){return l==null?[]:o(l,kn(l))}function Iz(l){return l==null?[]:o(l,Tr(l))}function Nz(l,h,S){return S===n&&(S=h,h=n),S!==n&&(S=bi(S),S=S===S?S:0),h!==n&&(h=bi(h),h=h===h?h:0),rl(bi(l),h,S)}function xz(l,h,S){return h=Zo(h),S===n?(S=h,h=0):S=Zo(S),l=bi(l),kk(l,h,S)}function Tz(l,h,S){if(S&&typeof S!="boolean"&&vr(l,h,S)&&(h=S=n),S===n&&(typeof h=="boolean"?(S=h,h=n):typeof l=="boolean"&&(S=l,l=n)),l===n&&h===n?(l=0,h=1):(l=Zo(l),h===n?(h=l,l=0):h=Zo(h)),l>h){var R=l;l=h,h=R}if(S||l%1||h%1){var q=vE();return nr(l+q*(h-l+pi("1e-"+((q+"").length-1))),h)}return Nv(l,h)}var _z=yu(function(l,h,S){return h=h.toLowerCase(),l+(S?HC(h):h)});function HC(l){return Xv(Kt(l).toLowerCase())}function YC(l){return l=Kt(l),l&&l.replace(Hc,_).replace(Us,"")}function Oz(l,h,S){l=Kt(l),h=Kr(h);var R=l.length;S=S===n?R:rl(St(S),0,R);var q=S;return S-=h.length,S>=0&&l.slice(S,q)==h}function Az(l){return l=Kt(l),l&&Zn.test(l)?l.replace(qt,B):l}function Rz(l){return l=Kt(l),l&&qc.test(l)?l.replace(Bo,"\\$&"):l}var kz=yu(function(l,h,S){return l+(S?"-":"")+h.toLowerCase()}),Pz=yu(function(l,h,S){return l+(S?" ":"")+h.toLowerCase()}),Dz=XE("toLowerCase");function Lz(l,h,S){l=Kt(l),h=St(h);var R=h?qr(l):0;if(!h||R>=h)return l;var q=(h-R)/2;return Fh(xh(q),S)+l+Fh(za(q),S)}function zz(l,h,S){l=Kt(l),h=St(h);var R=h?qr(l):0;return h&&R<h?l+Fh(h-R,S):l}function Mz(l,h,S){l=Kt(l),h=St(h);var R=h?qr(l):0;return h&&R<h?Fh(h-R,S)+l:l}function Bz(l,h,S){return S||h==null?h=0:h&&(h=+h),K1(Kt(l).replace(ha,""),h||0)}function Fz(l,h,S){return(S?vr(l,h,S):h===n)?h=1:h=St(h),xv(Kt(l),h)}function Uz(){var l=arguments,h=Kt(l[0]);return l.length<3?h:h.replace(l[1],l[2])}var Wz=yu(function(l,h,S){return l+(S?"_":"")+h.toLowerCase()});function $z(l,h,S){return S&&typeof S!="number"&&vr(l,h,S)&&(h=S=n),S=S===n?se:S>>>0,S?(l=Kt(l),l&&(typeof h=="string"||h!=null&&!Yv(h))&&(h=Kr(h),!h&&me(l))?Ua(qn(l),0,S):l.split(h,S)):[]}var qz=yu(function(l,h,S){return l+(S?" ":"")+Xv(h)});function jz(l,h,S){return l=Kt(l),S=S==null?0:rl(St(S),0,l.length),h=Kr(h),l.slice(S,S+h.length)==h}function Kz(l,h,S){var R=V.templateSettings;S&&vr(l,h,S)&&(h=n),l=Kt(l),h=Qh({},h,R,oC);var q=Qh({},h.imports,R.imports,oC),G=kn(q),te=o(q,G),le,fe,Se=0,Ee=h.interpolate||tr,Ne="__p += '",Me=uu((h.escape||tr).source+"|"+Ee.source+"|"+(Ee===Wi?Gc:tr).source+"|"+(h.evaluate||tr).source+"|$","g"),He="//# sourceURL="+(Ut.call(h,"sourceURL")?(h.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++tf+"]")+`
`;l.replace(Me,function(it,_t,kt,Gr,yr,Hr){return kt||(kt=Gr),Ne+=l.slice(Se,Hr).replace(Kl,H),_t&&(le=!0,Ne+=`' +
__e(`+_t+`) +
'`),yr&&(fe=!0,Ne+=`';
`+yr+`;
__p += '`),kt&&(Ne+=`' +
((__t = (`+kt+`)) == null ? '' : __t) +
'`),Se=Hr+it.length,it}),Ne+=`';
`;var rt=Ut.call(h,"variable")&&h.variable;if(!rt)Ne=`with (obj) {
`+Ne+`
}
`;else if(Vc.test(rt))throw new ct(d);Ne=(fe?Ne.replace(Ye,""):Ne).replace(ut,"$1").replace(wt,"$1;"),Ne="function("+(rt||"obj")+`) {
`+(rt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(le?", __e = _.escape":"")+(fe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ne+`return __p
}`;var It=QC(function(){return Dt(G,He+"return "+Ne).apply(n,te)});if(It.source=Ne,Hv(It))throw It;return It}function Vz(l){return Kt(l).toLowerCase()}function Gz(l){return Kt(l).toUpperCase()}function Hz(l,h,S){if(l=Kt(l),l&&(S||h===n))return Zs(l);if(!l||!(h=Kr(h)))return l;var R=qn(l),q=qn(h),G=f(R,q),te=p(R,q)+1;return Ua(R,G,te).join("")}function Yz(l,h,S){if(l=Kt(l),l&&(S||h===n))return l.slice(0,Ch(l)+1);if(!l||!(h=Kr(h)))return l;var R=qn(l),q=p(R,qn(h))+1;return Ua(R,0,q).join("")}function Jz(l,h,S){if(l=Kt(l),l&&(S||h===n))return l.replace(ha,"");if(!l||!(h=Kr(h)))return l;var R=qn(l),q=f(R,qn(h));return Ua(R,q).join("")}function Qz(l,h){var S=M,R=Y;if(an(h)){var q="separator"in h?h.separator:q;S="length"in h?St(h.length):S,R="omission"in h?Kr(h.omission):R}l=Kt(l);var G=l.length;if(me(l)){var te=qn(l);G=te.length}if(S>=G)return l;var le=S-qr(R);if(le<1)return R;var fe=te?Ua(te,0,le).join(""):l.slice(0,le);if(q===n)return fe+R;if(te&&(le+=fe.length-le),Yv(q)){if(l.slice(le).search(q)){var Se,Ee=fe;for(q.global||(q=uu(q.source,Kt(jl.exec(q))+"g")),q.lastIndex=0;Se=q.exec(Ee);)var Ne=Se.index;fe=fe.slice(0,Ne===n?le:Ne)}}else if(l.indexOf(Kr(q),le)!=le){var Me=fe.lastIndexOf(q);Me>-1&&(fe=fe.slice(0,Me))}return fe+R}function Xz(l){return l=Kt(l),l&&sn.test(l)?l.replace(Nt,nv):l}var Zz=yu(function(l,h,S){return l+(S?" ":"")+h.toUpperCase()}),Xv=XE("toUpperCase");function JC(l,h,S){return l=Kt(l),h=S?n:h,h===n?xe(l)?Ih(l):lf(l):l.match(h)||[]}var QC=Tt(function(l,h){try{return An(l,n,h)}catch(S){return Hv(S)?S:new ct(S)}}),eM=Jo(function(l,h){return $n(h,function(S){S=To(S),Ho(l,S,Vv(l[S],l))}),l});function tM(l){var h=l==null?0:l.length,S=nt();return l=h?Gt(l,function(R){if(typeof R[1]!="function")throw new pr(c);return[S(R[0]),R[1]]}):[],Tt(function(R){for(var q=-1;++q<h;){var G=l[q];if(An(G[0],this,R))return An(G[1],this,R)}})}function nM(l){return Tk(vi(l,b))}function Zv(l){return function(){return l}}function rM(l,h){return l==null||l!==l?h:l}var iM=eC(),oM=eC(!0);function _r(l){return l}function ey(l){return AE(typeof l=="function"?l:vi(l,b))}function aM(l){return kE(vi(l,b))}function sM(l,h){return PE(l,vi(h,b))}var lM=Tt(function(l,h){return function(S){return gf(S,l,h)}}),uM=Tt(function(l,h){return function(S){return gf(l,S,h)}});function ty(l,h,S){var R=kn(h),q=kh(h,R);S==null&&!(an(h)&&(q.length||!R.length))&&(S=h,h=l,l=this,q=kh(h,kn(h)));var G=!(an(S)&&"chain"in S)||!!S.chain,te=Xo(l);return $n(q,function(le){var fe=h[le];l[le]=fe,te&&(l.prototype[le]=function(){var Se=this.__chain__;if(G||Se){var Ee=l(this.__wrapped__),Ne=Ee.__actions__=Nr(this.__actions__);return Ne.push({func:fe,args:arguments,thisArg:l}),Ee.__chain__=Se,Ee}return fe.apply(l,Ir([this.value()],arguments))})}),l}function cM(){return pn._===this&&(pn._=cv),this}function ny(){}function fM(l){return l=St(l),Tt(function(h){return DE(h,l)})}var dM=Pv(Gt),hM=Pv(iu),pM=Pv(Js);function XC(l){return Uv(l)?Oa(To(l)):jk(l)}function mM(l){return function(h){return l==null?n:il(l,h)}}var gM=nC(),vM=nC(!0);function ry(){return[]}function iy(){return!1}function yM(){return{}}function wM(){return""}function bM(){return!0}function SM(l,h){if(l=St(l),l<1||l>J)return[];var S=se,R=nr(l,se);h=nt(h),l-=se;for(var q=Ra(R,h);++S<l;)h(S);return q}function EM(l){return vt(l)?Gt(l,To):Vr(l)?[l]:Nr(yC(Kt(l)))}function CM(l){var h=++lv;return Kt(l)+h}var IM=Bh(function(l,h){return l+h},0),NM=Dv("ceil"),xM=Bh(function(l,h){return l/h},1),TM=Dv("floor");function _M(l){return l&&l.length?Rh(l,_r,wv):n}function OM(l,h){return l&&l.length?Rh(l,nt(h,2),wv):n}function AM(l){return _a(l,_r)}function RM(l,h){return _a(l,nt(h,2))}function kM(l){return l&&l.length?Rh(l,_r,Cv):n}function PM(l,h){return l&&l.length?Rh(l,nt(h,2),Cv):n}var DM=Bh(function(l,h){return l*h},1),LM=Dv("round"),zM=Bh(function(l,h){return l-h},0);function MM(l){return l&&l.length?Aa(l,_r):0}function BM(l,h){return l&&l.length?Aa(l,nt(h,2)):0}return V.after=aL,V.ary=OC,V.assign=GL,V.assignIn=qC,V.assignInWith=Qh,V.assignWith=HL,V.at=YL,V.before=AC,V.bind=Vv,V.bindAll=eM,V.bindKey=RC,V.castArray=yL,V.chain=xC,V.chunk=TP,V.compact=_P,V.concat=OP,V.cond=tM,V.conforms=nM,V.constant=Zv,V.countBy=MD,V.create=JL,V.curry=kC,V.curryRight=PC,V.debounce=DC,V.defaults=QL,V.defaultsDeep=XL,V.defer=sL,V.delay=lL,V.difference=AP,V.differenceBy=RP,V.differenceWith=kP,V.drop=PP,V.dropRight=DP,V.dropRightWhile=LP,V.dropWhile=zP,V.fill=MP,V.filter=FD,V.flatMap=$D,V.flatMapDeep=qD,V.flatMapDepth=jD,V.flatten=EC,V.flattenDeep=BP,V.flattenDepth=FP,V.flip=uL,V.flow=iM,V.flowRight=oM,V.fromPairs=UP,V.functions=oz,V.functionsIn=az,V.groupBy=KD,V.initial=$P,V.intersection=qP,V.intersectionBy=jP,V.intersectionWith=KP,V.invert=lz,V.invertBy=uz,V.invokeMap=GD,V.iteratee=ey,V.keyBy=HD,V.keys=kn,V.keysIn=Tr,V.map=Kh,V.mapKeys=fz,V.mapValues=dz,V.matches=aM,V.matchesProperty=sM,V.memoize=Gh,V.merge=hz,V.mergeWith=jC,V.method=lM,V.methodOf=uM,V.mixin=ty,V.negate=Hh,V.nthArg=fM,V.omit=pz,V.omitBy=mz,V.once=cL,V.orderBy=YD,V.over=dM,V.overArgs=fL,V.overEvery=hM,V.overSome=pM,V.partial=Gv,V.partialRight=LC,V.partition=JD,V.pick=gz,V.pickBy=KC,V.property=XC,V.propertyOf=mM,V.pull=YP,V.pullAll=IC,V.pullAllBy=JP,V.pullAllWith=QP,V.pullAt=XP,V.range=gM,V.rangeRight=vM,V.rearg=dL,V.reject=ZD,V.remove=ZP,V.rest=hL,V.reverse=jv,V.sampleSize=tL,V.set=yz,V.setWith=wz,V.shuffle=nL,V.slice=eD,V.sortBy=oL,V.sortedUniq=sD,V.sortedUniqBy=lD,V.split=$z,V.spread=pL,V.tail=uD,V.take=cD,V.takeRight=fD,V.takeRightWhile=dD,V.takeWhile=hD,V.tap=_D,V.throttle=mL,V.thru=jh,V.toArray=UC,V.toPairs=VC,V.toPairsIn=GC,V.toPath=EM,V.toPlainObject=$C,V.transform=bz,V.unary=gL,V.union=pD,V.unionBy=mD,V.unionWith=gD,V.uniq=vD,V.uniqBy=yD,V.uniqWith=wD,V.unset=Sz,V.unzip=Kv,V.unzipWith=NC,V.update=Ez,V.updateWith=Cz,V.values=Su,V.valuesIn=Iz,V.without=bD,V.words=JC,V.wrap=vL,V.xor=SD,V.xorBy=ED,V.xorWith=CD,V.zip=ID,V.zipObject=ND,V.zipObjectDeep=xD,V.zipWith=TD,V.entries=VC,V.entriesIn=GC,V.extend=qC,V.extendWith=Qh,ty(V,V),V.add=IM,V.attempt=QC,V.camelCase=_z,V.capitalize=HC,V.ceil=NM,V.clamp=Nz,V.clone=wL,V.cloneDeep=SL,V.cloneDeepWith=EL,V.cloneWith=bL,V.conformsTo=CL,V.deburr=YC,V.defaultTo=rM,V.divide=xM,V.endsWith=Oz,V.eq=Yi,V.escape=Az,V.escapeRegExp=Rz,V.every=BD,V.find=UD,V.findIndex=bC,V.findKey=ZL,V.findLast=WD,V.findLastIndex=SC,V.findLastKey=ez,V.floor=TM,V.forEach=TC,V.forEachRight=_C,V.forIn=tz,V.forInRight=nz,V.forOwn=rz,V.forOwnRight=iz,V.get=Jv,V.gt=IL,V.gte=NL,V.has=sz,V.hasIn=Qv,V.head=CC,V.identity=_r,V.includes=VD,V.indexOf=WP,V.inRange=xz,V.invoke=cz,V.isArguments=sl,V.isArray=vt,V.isArrayBuffer=xL,V.isArrayLike=xr,V.isArrayLikeObject=gn,V.isBoolean=TL,V.isBuffer=Wa,V.isDate=_L,V.isElement=OL,V.isEmpty=AL,V.isEqual=RL,V.isEqualWith=kL,V.isError=Hv,V.isFinite=PL,V.isFunction=Xo,V.isInteger=zC,V.isLength=Yh,V.isMap=MC,V.isMatch=DL,V.isMatchWith=LL,V.isNaN=zL,V.isNative=ML,V.isNil=FL,V.isNull=BL,V.isNumber=BC,V.isObject=an,V.isObjectLike=ln,V.isPlainObject=Ef,V.isRegExp=Yv,V.isSafeInteger=UL,V.isSet=FC,V.isString=Jh,V.isSymbol=Vr,V.isTypedArray=bu,V.isUndefined=WL,V.isWeakMap=$L,V.isWeakSet=qL,V.join=VP,V.kebabCase=kz,V.last=wi,V.lastIndexOf=GP,V.lowerCase=Pz,V.lowerFirst=Dz,V.lt=jL,V.lte=KL,V.max=_M,V.maxBy=OM,V.mean=AM,V.meanBy=RM,V.min=kM,V.minBy=PM,V.stubArray=ry,V.stubFalse=iy,V.stubObject=yM,V.stubString=wM,V.stubTrue=bM,V.multiply=DM,V.nth=HP,V.noConflict=cM,V.noop=ny,V.now=Vh,V.pad=Lz,V.padEnd=zz,V.padStart=Mz,V.parseInt=Bz,V.random=Tz,V.reduce=QD,V.reduceRight=XD,V.repeat=Fz,V.replace=Uz,V.result=vz,V.round=LM,V.runInContext=ce,V.sample=eL,V.size=rL,V.snakeCase=Wz,V.some=iL,V.sortedIndex=tD,V.sortedIndexBy=nD,V.sortedIndexOf=rD,V.sortedLastIndex=iD,V.sortedLastIndexBy=oD,V.sortedLastIndexOf=aD,V.startCase=qz,V.startsWith=jz,V.subtract=zM,V.sum=MM,V.sumBy=BM,V.template=Kz,V.times=SM,V.toFinite=Zo,V.toInteger=St,V.toLength=WC,V.toLower=Vz,V.toNumber=bi,V.toSafeInteger=VL,V.toString=Kt,V.toUpper=Gz,V.trim=Hz,V.trimEnd=Yz,V.trimStart=Jz,V.truncate=Qz,V.unescape=Xz,V.uniqueId=CM,V.upperCase=Zz,V.upperFirst=Xv,V.each=TC,V.eachRight=_C,V.first=CC,ty(V,function(){var l={};return No(V,function(h,S){Ut.call(V.prototype,S)||(l[S]=h)}),l}(),{chain:!1}),V.VERSION=r,$n(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){V[l].placeholder=V}),$n(["drop","take"],function(l,h){Ot.prototype[l]=function(S){S=S===n?1:Nn(St(S),0);var R=this.__filtered__&&!h?new Ot(this):this.clone();return R.__filtered__?R.__takeCount__=nr(S,R.__takeCount__):R.__views__.push({size:nr(S,se),type:l+(R.__dir__<0?"Right":"")}),R},Ot.prototype[l+"Right"]=function(S){return this.reverse()[l](S).reverse()}}),$n(["filter","map","takeWhile"],function(l,h){var S=h+1,R=S==ne||S==de;Ot.prototype[l]=function(q){var G=this.clone();return G.__iteratees__.push({iteratee:nt(q,3),type:S}),G.__filtered__=G.__filtered__||R,G}}),$n(["head","last"],function(l,h){var S="take"+(h?"Right":"");Ot.prototype[l]=function(){return this[S](1).value()[0]}}),$n(["initial","tail"],function(l,h){var S="drop"+(h?"":"Right");Ot.prototype[l]=function(){return this.__filtered__?new Ot(this):this[S](1)}}),Ot.prototype.compact=function(){return this.filter(_r)},Ot.prototype.find=function(l){return this.filter(l).head()},Ot.prototype.findLast=function(l){return this.reverse().find(l)},Ot.prototype.invokeMap=Tt(function(l,h){return typeof l=="function"?new Ot(this):this.map(function(S){return gf(S,l,h)})}),Ot.prototype.reject=function(l){return this.filter(Hh(nt(l)))},Ot.prototype.slice=function(l,h){l=St(l);var S=this;return S.__filtered__&&(l>0||h<0)?new Ot(S):(l<0?S=S.takeRight(-l):l&&(S=S.drop(l)),h!==n&&(h=St(h),S=h<0?S.dropRight(-h):S.take(h-l)),S)},Ot.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},Ot.prototype.toArray=function(){return this.take(se)},No(Ot.prototype,function(l,h){var S=/^(?:filter|find|map|reject)|While$/.test(h),R=/^(?:head|last)$/.test(h),q=V[R?"take"+(h=="last"?"Right":""):h],G=R||/^find/.test(h);!q||(V.prototype[h]=function(){var te=this.__wrapped__,le=R?[1]:arguments,fe=te instanceof Ot,Se=le[0],Ee=fe||vt(te),Ne=function(_t){var kt=q.apply(V,Ir([_t],le));return R&&Me?kt[0]:kt};Ee&&S&&typeof Se=="function"&&Se.length!=1&&(fe=Ee=!1);var Me=this.__chain__,He=!!this.__actions__.length,rt=G&&!Me,It=fe&&!He;if(!G&&Ee){te=It?te:new Ot(this);var it=l.apply(te,le);return it.__actions__.push({func:jh,args:[Ne],thisArg:n}),new gi(it,Me)}return rt&&It?l.apply(this,le):(it=this.thru(Ne),rt?R?it.value()[0]:it.value():it)})}),$n(["pop","push","shift","sort","splice","unshift"],function(l){var h=cu[l],S=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",R=/^(?:pop|shift)$/.test(l);V.prototype[l]=function(){var q=arguments;if(R&&!this.__chain__){var G=this.value();return h.apply(vt(G)?G:[],q)}return this[S](function(te){return h.apply(vt(te)?te:[],q)})}}),No(Ot.prototype,function(l,h){var S=V[h];if(S){var R=S.name+"";Ut.call(mu,R)||(mu[R]=[]),mu[R].push({name:h,func:S})}}),mu[Mh(n,I).name]=[{name:"wrapper",func:n}],Ot.prototype.clone=X1,Ot.prototype.reverse=Z1,Ot.prototype.value=ek,V.prototype.at=OD,V.prototype.chain=AD,V.prototype.commit=RD,V.prototype.next=kD,V.prototype.plant=DD,V.prototype.reverse=LD,V.prototype.toJSON=V.prototype.valueOf=V.prototype.value=zD,V.prototype.first=V.prototype.head,ye&&(V.prototype[ye]=PD),V},Pa=ov();Ki?((Ki.exports=Pa)._=Pa,js._=Pa):pn._=Pa}).call(Sn)})(ym,ym.exports);var kd=ym.exports,IO={};(function(e){var t=Sn&&Sn.__extends||function(){var u=function(o,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var w in p)p.hasOwnProperty(w)&&(f[w]=p[w])},u(o,s)};return function(o,s){u(o,s);function f(){this.constructor=o}o.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),n=Sn&&Sn.__assign||function(){return n=Object.assign||function(u){for(var o,s=1,f=arguments.length;s<f;s++){o=arguments[s];for(var p in o)Object.prototype.hasOwnProperty.call(o,p)&&(u[p]=o[p])}return u},n.apply(this,arguments)},r=Sn&&Sn.__spreadArrays||function(){for(var u=0,o=0,s=arguments.length;o<s;o++)u+=arguments[o].length;for(var f=Array(u),p=0,o=0;o<s;o++)for(var w=arguments[o],_=0,B=w.length;_<B;_++,p++)f[p]=w[_];return f};Object.defineProperty(e,"__esModule",{value:!0});var i;(function(u){u[u.RESTRICT=0]="RESTRICT",u[u.CASCADE=1]="CASCADE"})(i=e.ConstraintAction||(e.ConstraintAction={}));var a;(function(u){u[u.IMMEDIATE=0]="IMMEDIATE",u[u.DEFERRABLE=1]="DEFERRABLE"})(a=e.ConstraintTiming||(e.ConstraintTiming={}));var c;(function(u){u[u.INDEXED_DB=0]="INDEXED_DB",u[u.MEMORY=1]="MEMORY",u[u.LOCAL_STORAGE=2]="LOCAL_STORAGE",u[u.FIREBASE=3]="FIREBASE",u[u.WEB_SQL=4]="WEB_SQL",u[u.OBSERVABLE_STORE=5]="OBSERVABLE_STORE"})(c=e.DataStoreType||(e.DataStoreType={}));var d;(function(u){u[u.DESC=0]="DESC",u[u.ASC=1]="ASC"})(d=e.Order||(e.Order={}));var m;(function(u){u[u.ARRAY_BUFFER=0]="ARRAY_BUFFER",u[u.BOOLEAN=1]="BOOLEAN",u[u.DATE_TIME=2]="DATE_TIME",u[u.INTEGER=3]="INTEGER",u[u.NUMBER=4]="NUMBER",u[u.STRING=5]="STRING",u[u.OBJECT=6]="OBJECT"})(m=e.Type||(e.Type={}));var g=new Map([[m.ARRAY_BUFFER,null],[m.BOOLEAN,!1],[m.DATE_TIME,Object.freeze(new Date(0))],[m.INTEGER,0],[m.NUMBER,0],[m.STRING,""],[m.OBJECT,null]]),y;(function(u){u[u.READ_ONLY=0]="READ_ONLY",u[u.READ_WRITE=1]="READ_WRITE"})(y=e.TransactionType||(e.TransactionType={}));var b;(function(u){u[u.SYSTEM_ERROR=0]="SYSTEM_ERROR",u[u.VERSION_MISMATCH=1]="VERSION_MISMATCH",u[u.CONNECTION_CLOSED=2]="CONNECTION_CLOSED",u[u.TIMEOUT=3]="TIMEOUT",u[u.OPERATION_BLOCKED=4]="OPERATION_BLOCKED",u[u.QUOTA_EXCEEDED=5]="QUOTA_EXCEEDED",u[u.TOO_MANY_ROWS=6]="TOO_MANY_ROWS",u[u.SERVICE_NOT_FOUND=7]="SERVICE_NOT_FOUND",u[u.UNKNOWN_PLAN_NODE=8]="UNKNOWN_PLAN_NODE",u[u.DATA_ERROR=100]="DATA_ERROR",u[u.TABLE_NOT_FOUND=101]="TABLE_NOT_FOUND",u[u.DATA_CORRUPTION=102]="DATA_CORRUPTION",u[u.INVALID_ROW_ID=103]="INVALID_ROW_ID",u[u.INVALID_TX_ACCESS=105]="INVALID_TX_ACCESS",u[u.OUT_OF_SCOPE=106]="OUT_OF_SCOPE",u[u.INVALID_TX_STATE=107]="INVALID_TX_STATE",u[u.INCOMPATIBLE_DB=108]="INCOMPATIBLE_DB",u[u.ROW_ID_EXISTED=109]="ROW_ID_EXISTED",u[u.IMPORT_TO_NON_EMPTY_DB=110]="IMPORT_TO_NON_EMPTY_DB",u[u.DB_MISMATCH=111]="DB_MISMATCH",u[u.IMPORT_DATA_NOT_FOUND=112]="IMPORT_DATA_NOT_FOUND",u[u.ALREADY_CONNECTED=113]="ALREADY_CONNECTED",u[u.CONSTRAINT_ERROR=200]="CONSTRAINT_ERROR",u[u.DUPLICATE_KEYS=201]="DUPLICATE_KEYS",u[u.NOT_NULLABLE=202]="NOT_NULLABLE",u[u.FK_VIOLATION=203]="FK_VIOLATION",u[u.NOT_SUPPORTED=300]="NOT_SUPPORTED",u[u.FB_NO_RAW_TX=351]="FB_NO_RAW_TX",u[u.IDB_NOT_PROVIDED=352]="IDB_NOT_PROVIDED",u[u.WEBSQL_NOT_PROVIDED=353]="WEBSQL_NOT_PROVIDED",u[u.CANT_OPEN_WEBSQL_DB=354]="CANT_OPEN_WEBSQL_DB",u[u.NO_CHANGE_NOTIFICATION=355]="NO_CHANGE_NOTIFICATION",u[u.NO_WEBSQL_TX=356]="NO_WEBSQL_TX",u[u.NO_PRED_IN_TOSQL=357]="NO_PRED_IN_TOSQL",u[u.NOT_IMPL_IN_TOSQL=358]="NOT_IMPL_IN_TOSQL",u[u.LOCAL_STORAGE_NOT_PROVIDED=359]="LOCAL_STORAGE_NOT_PROVIDED",u[u.NOT_IMPLEMENTED=360]="NOT_IMPLEMENTED",u[u.CANT_OPEN_IDB=361]="CANT_OPEN_IDB",u[u.SYNTAX_ERROR=500]="SYNTAX_ERROR",u[u.UNBOUND_VALUE=501]="UNBOUND_VALUE",u[u.INVALID_NAME=502]="INVALID_NAME",u[u.NAME_IN_USE=503]="NAME_IN_USE",u[u.INVALID_AUTO_KEY_TYPE=504]="INVALID_AUTO_KEY_TYPE",u[u.INVALID_AUTO_KEY_COLUMN=505]="INVALID_AUTO_KEY_COLUMN",u[u.IMMEDIATE_EVAL_ONLY=506]="IMMEDIATE_EVAL_ONLY",u[u.COLUMN_NOT_FOUND=508]="COLUMN_NOT_FOUND",u[u.COLUMN_NOT_INDEXABLE=509]="COLUMN_NOT_INDEXABLE",u[u.BIND_ARRAY_OUT_OF_RANGE=510]="BIND_ARRAY_OUT_OF_RANGE",u[u.CANT_GET_IDB_TABLE=511]="CANT_GET_IDB_TABLE",u[u.CANT_GET_WEBSQL_TABLE=512]="CANT_GET_WEBSQL_TABLE",u[u.UNKNOWN_QUERY_CONTEXT=513]="UNKNOWN_QUERY_CONTEXT",u[u.UNKNOWN_NODE_TYPE=514]="UNKNOWN_NODE_TYPE",u[u.DUPLICATE_FROM=515]="DUPLICATE_FROM",u[u.DUPLICATE_WHERE=516]="DUPLICATE_WHERE",u[u.INVALID_DELETE=517]="INVALID_DELETE",u[u.INVALID_INSERT=518]="INVALID_INSERT",u[u.INVALID_INSERT_OR_REPLACE=519]="INVALID_INSERT_OR_REPLACE",u[u.DUPLICATE_INTO=520]="DUPLICATE_INTO",u[u.DUPLICATE_VALUES=521]="DUPLICATE_VALUES",u[u.INVALID_SELECT=522]="INVALID_SELECT",u[u.UNBOUND_LIMIT_SKIP=523]="UNBOUND_LIMIT_SKIP",u[u.INVALID_DISTINCT=524]="INVALID_DISTINCT",u[u.INVALID_GROUPBY=525]="INVALID_GROUPBY",u[u.INVALID_PROJECTION=526]="INVALID_PROJECTION",u[u.INVALID_AGGREGATION=527]="INVALID_AGGREGATION",u[u.DUPLICATE_LIMIT=528]="DUPLICATE_LIMIT",u[u.DUPLICATE_SKIP=529]="DUPLICATE_SKIP",u[u.DUPLICATE_GROUPBY=530]="DUPLICATE_GROUPBY",u[u.NEGATIVE_LIMIT_SKIP=531]="NEGATIVE_LIMIT_SKIP",u[u.INVALID_UPDATE=532]="INVALID_UPDATE",u[u.FK_LOOP=533]="FK_LOOP",u[u.FK_COLUMN_IN_USE=534]="FK_COLUMN_IN_USE",u[u.SCHEMA_FINALIZED=535]="SCHEMA_FINALIZED",u[u.INVALID_FK_TABLE=536]="INVALID_FK_TABLE",u[u.INVALID_FK_COLUMN=537]="INVALID_FK_COLUMN",u[u.INVALID_FK_COLUMN_TYPE=538]="INVALID_FK_COLUMN_TYPE",u[u.FK_COLUMN_NONUNIQUE=539]="FK_COLUMN_NONUNIQUE",u[u.INVALID_FK_REF=540]="INVALID_FK_REF",u[u.INVALID_OUTER_JOIN=541]="INVALID_OUTER_JOIN",u[u.MISSING_FROM_BEFORE_JOIN=542]="MISSING_FROM_BEFORE_JOIN",u[u.PK_CANT_BE_FK=543]="PK_CANT_BE_FK",u[u.DUPLICATE_PK=544]="DUPLICATE_PK",u[u.NULLABLE_PK=545]="NULLABLE_PK",u[u.DUPLICATE_NAME=546]="DUPLICATE_NAME",u[u.INVALID_WHERE=547]="INVALID_WHERE",u[u.FROM_AFTER_WHERE=548]="FROM_AFTER_WHERE",u[u.FROM_AFTER_ORDER_GROUPBY=549]="FROM_AFTER_ORDER_GROUPBY",u[u.INVALID_PREDICATE=550]="INVALID_PREDICATE",u[u.TEST_ERROR=900]="TEST_ERROR",u[u.ASSERTION=998]="ASSERTION",u[u.SIMULATED_ERROR=999]="SIMULATED_ERROR"})(b=e.ErrorCode||(e.ErrorCode={}));var C;(function(u){u[u.RHS=-1]="RHS",u[u.TIE=0]="TIE",u[u.LHS=1]="LHS"})(C||(C={}));var A;(function(u){u[u.DATA=0]="DATA",u[u.INDEX=1]="INDEX"})(A||(A={}));var P;(function(u){u[u.NO_CHILD=-1]="NO_CHILD",u[u.ALL=0]="ALL",u[u.FIRST_CHILD=1]="FIRST_CHILD"})(P||(P={}));var L;(function(u){u[u.EXCLUSIVE=0]="EXCLUSIVE",u[u.RESERVED_READ_ONLY=1]="RESERVED_READ_ONLY",u[u.RESERVED_READ_WRITE=2]="RESERVED_READ_WRITE",u[u.SHARED=3]="SHARED"})(L||(L={}));var E;(function(u){u[u.EXPORT_TASK=0]="EXPORT_TASK",u[u.IMPORT_TASK=0]="IMPORT_TASK",u[u.OBSERVER_QUERY_TASK=0]="OBSERVER_QUERY_TASK",u[u.EXTERNAL_CHANGE_TASK=1]="EXTERNAL_CHANGE_TASK",u[u.USER_QUERY_TASK=2]="USER_QUERY_TASK",u[u.TRANSACTION_TASK=2]="TRANSACTION_TASK"})(E||(E={}));var I;(function(u){u.AVG="AVG",u.COUNT="COUNT",u.DISTINCT="DISTINCT",u.GEOMEAN="GEOMEAN",u.MAX="MAX",u.MIN="MIN",u.STDDEV="STDDEV",u.SUM="SUM"})(I||(I={}));var N;(function(u){u.AND="and",u.OR="or"})(N||(N={}));var D=function(){function u(){}return u}(),O=function(){function u(o,s,f,p){this.from=o,this.to=s,this.excludeLower=u.isUnbound(this.from)?!1:f,this.excludeUpper=u.isUnbound(this.to)?!1:p}return u.isUnbound=function(o){return o===u.UNBOUND_VALUE},u.upperBound=function(o,s){return s===void 0&&(s=!1),new u(u.UNBOUND_VALUE,o,!1,s)},u.lowerBound=function(o,s){return s===void 0&&(s=!1),new u(o,u.UNBOUND_VALUE,s,!1)},u.only=function(o){return new u(o,o,!1,!1)},u.all=function(){return new u(u.UNBOUND_VALUE,u.UNBOUND_VALUE,!1,!1)},u.xor=function(o,s){return o?!s:s},u.compare=function(o,s){var f=u.compareKey(o.from,s.from,!0,o.excludeLower,s.excludeLower);return f===C.TIE&&(f=u.compareKey(o.to,s.to,!1,o.excludeUpper,s.excludeUpper)),f},u.getBoundingRange=function(o,s){var f=u.UNBOUND_VALUE,p=u.UNBOUND_VALUE,w=!1,_=!1;if(!u.isUnbound(o.from)&&!u.isUnbound(s.from)){var B=u.compareKey(o.from,s.from,!0);B!==C.LHS?(f=o.from,w=B!==C.TIE?o.excludeLower:o.excludeLower&&s.excludeLower):(f=s.from,w=s.excludeLower)}if(!u.isUnbound(o.to)&&!u.isUnbound(s.to)){var B=u.compareKey(o.to,s.to,!1);B!==C.RHS?(p=o.to,_=B!==C.TIE?o.excludeUpper:o.excludeUpper&&s.excludeUpper):(p=s.to,_=s.excludeUpper)}return new u(f,p,w,_)},u.and=function(o,s){if(!o.overlaps(s))return null;var f=u.compareKey(o.from,s.from,!0),p=f===C.TIE?o.excludeLower?o:s:f!==C.RHS?o:s,w;return u.isUnbound(o.to)||u.isUnbound(s.to)?w=u.isUnbound(o.to)?s:o:(f=u.compareKey(o.to,s.to,!1),w=f===C.TIE?o.excludeUpper?o:s:f===C.RHS?o:s),new u(p.from,w.to,p.excludeLower,w.excludeUpper)},u.complement=function(o){if(o.length===0)return u.EMPTY_RANGE;o.sort(u.compare);for(var s=new Array(o.length+1),f=0;f<s.length;f++)f===0?s[f]=u.upperBound(o[f].from,!0):f===s.length-1?s[f]=u.lowerBound(o[f-1].to,!0):s[f]=new u(o[f-1].to,o[f].from,!0,!0);return s},u.compareKey=function(o,s,f,p,w){p===void 0&&(p=!1),w===void 0&&(w=!1);var _=function(H){return f?H:H===C.LHS?C.RHS:C.LHS},B=function(){return u.xor(p,w)?_(p?C.LHS:C.RHS):C.TIE};return u.isUnbound(o)?u.isUnbound(s)?B():_(C.RHS):u.isUnbound(s)?_(C.LHS):o<s?C.RHS:o===s?B():C.LHS},u.prototype.toString=function(){return(this.excludeLower?"(":"[")+(u.isUnbound(this.from)?"unbound":this.from)+", "+(u.isUnbound(this.to)?"unbound":this.to)+(this.excludeUpper?")":"]")},u.prototype.complement=function(){if(this.isAll())return u.EMPTY_RANGE;var o=null,s=null;return u.isUnbound(this.from)||(o=new u(u.UNBOUND_VALUE,this.from,!1,!this.excludeLower)),u.isUnbound(this.to)||(s=new u(this.to,u.UNBOUND_VALUE,!this.excludeUpper,!1)),[o,s].filter(function(f){return f!==null})},u.prototype.reverse=function(){return new u(this.to,this.from,this.excludeUpper,this.excludeLower)},u.prototype.overlaps=function(o){var s=u.compareKey(this.from,o.from,!0,this.excludeLower,o.excludeLower);if(s===C.TIE)return!0;var f=s===C.RHS?this:o,p=s===C.LHS?this:o;return u.isUnbound(f.to)||f.to>p.from||f.to===p.from&&!f.excludeUpper&&!p.excludeLower},u.prototype.isAll=function(){return u.isUnbound(this.from)&&u.isUnbound(this.to)},u.prototype.isOnly=function(){return this.from===this.to&&!u.isUnbound(this.from)&&!this.excludeLower&&!this.excludeUpper},u.prototype.contains=function(o){var s=u.isUnbound(this.from)||o>this.from||o===this.from&&!this.excludeLower,f=u.isUnbound(this.to)||o<this.to||o===this.to&&!this.excludeUpper;return s&&f},u.prototype.getBounded=function(o,s){if(u.isUnbound(this.from)&&!this.contains(o)||u.isUnbound(this.to)&&!this.contains(s))return null;var f=o,p=s,w=!1,_=!1;return!u.isUnbound(this.from)&&this.from>=o&&(f=this.from,w=this.excludeLower),!u.isUnbound(this.to)&&this.to<=s&&(p=this.to,_=this.excludeUpper),f>p||f===p&&(_||w)?null:new u(f,p,w,_)},u.prototype.equals=function(o){return this.from===o.from&&this.excludeLower===o.excludeLower&&this.to===o.to&&this.excludeUpper===o.excludeUpper},u.UNBOUND_VALUE=new D,u.EMPTY_RANGE=[],u}(),z=function(){function u(o,s){this.id_=o,this.payload_=s||this.defaultPayload()}return u.getNextId=function(){return u.nextId++},u.setNextId=function(o){u.nextId=o},u.setNextIdIfGreater=function(o){u.nextId=Math.max(u.nextId,o)},u.deserialize=function(o){return new u(o.id,o.value)},u.create=function(o){return new u(u.getNextId(),o||{})},u.binToHex=function(o){if(o===null)return null;var s=new Uint8Array(o),f="";return s.forEach(function(p){var w=p.toString(16);f+=w.length<2?"0"+w:w}),f},u.hexToBin=function(o){if(o===null||o==="")return null;o.length%2!==0&&(o="0"+o);for(var s=new ArrayBuffer(o.length/2),f=new Uint8Array(s),p=0,w=0;p<o.length;p+=2)f[w++]=Number("0x"+o.substr(p,2))&255;return s},u.prototype.id=function(){return this.id_},u.prototype.assignRowId=function(o){this.id_=o},u.prototype.payload=function(){return this.payload_},u.prototype.defaultPayload=function(){return{}},u.prototype.toDbPayload=function(){return this.payload_},u.prototype.serialize=function(){return{id:this.id_,value:this.toDbPayload()}},u.prototype.keyOfIndex=function(o){return o.substr(-1)==="#"?this.id_:null},u.DUMMY_ID=-1,u.nextId=u.DUMMY_ID+1,u}(),k=function(){function u(){this.debugMode=!1,this.memoryOnly=!1,this.exceptionUrl=u.url}return u.prototype.errorMessage=function(o){return o.toString()},u.url="http://google.github.io/lovefield/error_lookup/src/error_lookup.html?c=",u}(),W=function(){function u(){}return u.set=function(o){var s=o||new k;typeof s.exceptionUrl!="string"&&(s.exceptionUrl=k.url),typeof s.errorMessage!="function"&&(s.errorMessage=function(f){return f.toString()}),$.get().setOptions(s)},u}();e.options=W;var j=function(){function u(o){this.serviceId=o}return u.prototype.toString=function(){return this.serviceId},u.prototype.getAsType=function(){return{}},u}(),$=function(){function u(){this.services=new Map}return u.get=function(){return u.instance||(u.instance=new u),u.instance.opt||u.instance.setOptions(new k),u.instance},u.prototype.clear=function(){this.services.clear()},u.prototype.registerService=function(o,s){return this.services.set(o.toString(),s),s},u.prototype.getService=function(o){var s=this.services.get(o.toString());if(!s)throw new M(b.SERVICE_NOT_FOUND,o.toString());return s},u.prototype.isRegistered=function(o){return this.services.has(o.toString())},u.prototype.listServices=function(){return Array.from(this.services.keys())},u.prototype.getOptions=function(){return this.opt},u.prototype.setOptions=function(o){this.opt=o},u}(),M=function(){function u(o){for(var s=[],f=1;f<arguments.length;f++)s[f-1]=arguments[f];if(this.code=o,this.args=s,this.message=$.get().getOptions().exceptionUrl+o.toString(),s.length)for(var p=0;p<Math.min(4,s.length);++p){var w=encodeURIComponent(String(s[p]).slice(0,64));$.get().getOptions().exceptionUrl.length?this.message+="&p"+p+"="+w:this.message+="|"+w}}return u.prototype.toString=function(){var o=this,s=$.get().getOptions().errorMessage(this.code)||this.code.toString();return s.replace(/{([^}]+)}/g,function(f,p){return o.args[Number(p)]})},u}();function Y(u,o){if(o===void 0&&(o="assertion failed"),$.get().getOptions().debugMode&&!u)throw new M(b.ASSERTION,o)}function K(u){return new Z(u)}e.bind=K;var Z=function(){function u(o){this.index=o}return u.prototype.getIndex=function(){return this.index},u}();e.Binder=Z;function ne(u,o){if(o.size>u.size)return!1;var s=!0;return o.forEach(function(f){return s=s&&u.has(f)}),s}function ae(u,o){return u.size===o.size&&ne(u,o)}var de=function(){function u(o,s,f){this.childTable=s;var p=o.ref.split(".");if(p.length!==2)throw new M(b.INVALID_FK_REF,f);this.childColumn=o.local,this.parentTable=p[0],this.parentColumn=p[1],this.name=s+"."+f,this.action=o.action||i.RESTRICT,this.timing=o.timing||a.IMMEDIATE}return u}(),re=function(){function u(o,s,f,p){this.tableName=o,this.name=s,this.isUnique=f,this.columns=p}return u.prototype.getNormalizedName=function(){return this.tableName+"."+this.name},u.prototype.hasNullableColumn=function(){return this.columns.some(function(o){return o.schema.isNullable()})},u}(),J=function(){function u(o,s,f){this.primaryKey=o,this.notNullable=s,this.foreignKeys=f}return u.prototype.getPrimaryKey=function(){return this.primaryKey},u.prototype.getNotNullable=function(){return this.notNullable},u.prototype.getForeignKeys=function(){return this.foreignKeys},u}(),Q=function(){function u(o,s){this.row=o,this.isPrefixApplied=s,this.id=u.getNextId()}return u.combineEntries=function(o,s,f,p){var w={},_=function(H,ie){if(H.isPrefixApplied){var me=H.row.payload();Array.from(Object.keys(me)).forEach(function(xe){w[xe]=me[xe]})}else Y(!Object.prototype.hasOwnProperty.call(w,ie[0]),"Attempted to join table with itself, without using table alias, or same alias "+ie[0]+"is reused for multiple tables."),w[ie[0]]=H.row.payload()};_(o,s),_(f,p);var B=new z(z.DUMMY_ID,w);return new u(B,!0)},u.getNextId=function(){return u.nextId++},u.prototype.getField=function(o){var s=o,f=s.getAlias();return f!==null&&Object.prototype.hasOwnProperty.call(this.row.payload(),f)?this.row.payload()[f]:this.isPrefixApplied?this.row.payload()[s.getTable().getEffectiveName()][s.getName()]:this.row.payload()[s.getName()]},u.prototype.setField=function(o,s){var f=o,p=f.getAlias();if(p!==null){this.row.payload()[p]=s;return}if(this.isPrefixApplied){var w=f.getTable().getEffectiveName(),_=this.row.payload()[w];_==null&&(_={},this.row.payload()[w]=_),_[f.getName()]=s}else this.row.payload()[f.getName()]=s},u.nextId=0,u}(),ue=function(){function u(o,s){this.entries=o,this.tables=new Set(s),this.aggregationResults=null}return u.createEmpty=function(){return u.emptyRelation===null&&(u.emptyRelation=new u([],[])),u.emptyRelation},u.intersect=function(o){if(o.length===0)return u.createEmpty();var s=o.reduce(function(B,H){return u.assertCompatible(o[0],H),B+H.entries.length},0),f=new Array(s),p=0,w=o.map(function(B){var H=new Map;return B.entries.forEach(function(ie){f[p++]=ie,H.set(ie.id,ie)}),H}),_=new Map;return f.forEach(function(B){var H=w.every(function(ie){return ie.has(B.id)});H&&_.set(B.id,B)}),new u(Array.from(_.values()),Array.from(o[0].tables.values()))},u.union=function(o){if(o.length===0)return u.createEmpty();var s=new Map;return o.forEach(function(f){u.assertCompatible(o[0],f),f.entries.forEach(function(p){return s.set(p.id,p)})}),new u(Array.from(s.values()),Array.from(o[0].tables.values()))},u.fromRows=function(o,s){var f=s.length>1,p=o.map(function(w){return new Q(w,f)});return new u(p,s)},u.assertCompatible=function(o,s){Y(o.isCompatible(s),"Intersection/union operations only apply to compatible relations.")},u.prototype.isCompatible=function(o){return ae(this.tables,o.tables)},u.prototype.getTables=function(){return Array.from(this.tables.values())},u.prototype.isPrefixApplied=function(){return this.tables.size>1},u.prototype.getPayloads=function(){return this.entries.map(function(o){return o.row.payload()})},u.prototype.getRowIds=function(){return this.entries.map(function(o){return o.row.id()})},u.prototype.setAggregationResult=function(o,s){this.aggregationResults===null&&(this.aggregationResults=new Map),this.aggregationResults.set(o.getNormalizedName(),s)},u.prototype.getAggregationResult=function(o){Y(this.aggregationResults!==null,"getAggregationResult called before any results have been calculated.");var s=o.getNormalizedName(),f=this.aggregationResults.get(s);return Y(f!==void 0,"Could not find result for "+s),f},u.prototype.hasAggregationResult=function(o){return this.aggregationResults!==null&&this.aggregationResults.has(o.getNormalizedName())},u.emptyRelation=null,u}(),se=function(){function u(){this.totalRows=0,this.maxKeyEncountered=0}return u.prototype.add=function(o,s){this.totalRows+=s,this.maxKeyEncountered=this.maxKeyEncountered===null||o>this.maxKeyEncountered?o:this.maxKeyEncountered},u.prototype.remove=function(o,s){this.totalRows-=s},u.prototype.clear=function(){this.totalRows=0},u.prototype.updateFromList=function(o){var s=this;this.clear(),o.forEach(function(f){return s.totalRows+=f.totalRows})},u}(),he=function(){function u(){}return u.prototype.getUniqueId=function(){return this.uniqueId===void 0&&(this.uniqueId="lf_"+this.getUniqueNumber()),this.uniqueId},u.prototype.getUniqueNumber=function(){return this.uniqueNumber===void 0&&(this.uniqueNumber=++u.nextId),this.uniqueNumber},u.nextId=0,u}(),Ce=function(){function u(){this.parent=null,this.children=null}return u.prototype.getParent=function(){return this.parent},u.prototype.setParent=function(o){this.parent=o},u.prototype.getRoot=function(){for(var o=this;o.parent!==null;)o=o.parent;return o},u.prototype.getDepth=function(){for(var o=0,s=this;s.parent!==null;)o++,s=s.parent;return o},u.prototype.isLeaf=function(){return this.children===null},u.prototype.getChildren=function(){return this.children||u.EMPTY_ARRAY},u.prototype.getChildAt=function(o){return this.children&&o>=0&&o<this.children.length?this.getChildren()[o]:null},u.prototype.getChildCount=function(){return this.getChildren().length},u.prototype.addChildAt=function(o,s){Y(o.parent===null),o.parent=this,this.children===null?this.children=[o]:(Y(s>=0&&s<=this.children.length),this.children.splice(s,0,o))},u.prototype.addChild=function(o){Y(o.parent===null),o.parent=this,this.children===null?this.children=[o]:this.children.push(o)},u.prototype.removeChildAt=function(o){if(this.children){var s=this.children[o];if(s)return s.parent=null,this.children.splice(o,1),this.children.length===0&&(this.children=null),s}return null},u.prototype.removeChild=function(o){return this.children?this.removeChildAt(this.children.indexOf(o)):null},u.prototype.replaceChildAt=function(o,s){if(Y(o.parent===null),this.children){var f=this.getChildAt(s);if(f)return f.parent=null,o.parent=this,this.children[s]=o,f}return null},u.prototype.traverse=function(o){o(this)!==!1&&this.getChildren().forEach(function(s){return s.traverse(o)})},u.EMPTY_ARRAY=[],u}(),ze=function(u){t(o,u);function o(){var s=u.call(this)||this;return s.id=o.nextId++,s}return o.prototype.setId=function(s){this.id=s},o.prototype.getId=function(){return this.id},o.nextId=0,o}(Ce),pe;(function(u){u.BETWEEN="between",u.EQ="eq",u.GTE="gte",u.GT="gt",u.IN="in",u.LTE="lte",u.LT="lt",u.MATCH="match",u.NEQ="neq"})(pe||(pe={}));function et(u){return u}function Et(){var u=new Map;return u.set(m.BOOLEAN,function(o){return o===null?null:o?1:0}),u.set(m.DATE_TIME,function(o){return o===null?null:o.getTime()}),u.set(m.INTEGER,et),u.set(m.NUMBER,et),u.set(m.STRING,et),u}function qe(){var u=new Map;return u.set(pe.EQ,function(o,s){return o===s}),u.set(pe.NEQ,function(o,s){return o!==s}),u}function Be(){var u=qe();return u.set(pe.BETWEEN,function(o,s){return o===null||s[0]===null||s[1]===null?!1:o>=s[0]&&o<=s[1]}),u.set(pe.GTE,function(o,s){return o===null||s===null?!1:o>=s}),u.set(pe.GT,function(o,s){return o===null||s===null?!1:o>s}),u.set(pe.IN,function(o,s){return s.indexOf(o)!==-1}),u.set(pe.LTE,function(o,s){return o===null||s===null?!1:o<=s}),u.set(pe.LT,function(o,s){return o===null||s===null?!1:o<s}),u}var Ae=Be;function Ue(){var u=Be();return u.set(pe.MATCH,function(o,s){if(o===null||s===null)return!1;var f=new RegExp(s);return f.test(o)}),u}function ke(){var u=new Map,o=function(s){if(s!==null)throw new M(b.INVALID_PREDICATE)};return u.set(pe.EQ,function(s,f){return o(f),s===null}),u.set(pe.NEQ,function(s,f){return o(f),s!==null}),u}function ht(){var u=new Map;return u.set(pe.BETWEEN,function(o,s){return o===null||s[0]===null||s[1]===null?!1:o.getTime()>=s[0].getTime()&&o.getTime()<=s[1].getTime()}),u.set(pe.EQ,function(o,s){var f=o===null?-1:o.getTime(),p=s===null?-1:s.getTime();return f===p}),u.set(pe.GTE,function(o,s){return o===null||s===null?!1:o.getTime()>=s.getTime()}),u.set(pe.GT,function(o,s){return o===null||s===null?!1:o.getTime()>s.getTime()}),u.set(pe.IN,function(o,s){return s.some(function(f){return f.getTime()===o.getTime()})}),u.set(pe.LTE,function(o,s){return o===null||s===null?!1:o.getTime()<=s.getTime()}),u.set(pe.LT,function(o,s){return o===null||s===null?!1:o.getTime()<s.getTime()}),u.set(pe.NEQ,function(o,s){var f=o===null?-1:o.getTime(),p=s===null?-1:s.getTime();return f!==p}),u}var bt=function(){function u(){this.keyOfIndexConversionMap=Et(),this.evalMaps=new Map;var o=Ae();this.evalMaps.set(m.BOOLEAN,qe()),this.evalMaps.set(m.DATE_TIME,ht()),this.evalMaps.set(m.NUMBER,o),this.evalMaps.set(m.INTEGER,o),this.evalMaps.set(m.STRING,Ue()),this.evalMaps.set(m.OBJECT,ke())}return u.get=function(){return u.instance=u.instance||new u,u.instance},u.prototype.getEvaluator=function(o,s){var f=this.evalMaps.get(o)||null;if(f===null)throw new M(b.INVALID_PREDICATE);var p=f.get(s)||null;if(p===null)throw new M(b.INVALID_PREDICATE);return p},u.prototype.getKeyOfIndexEvaluator=function(o){var s=this.keyOfIndexConversionMap.get(o)||null;if(s===null)throw new M(b.NOT_SUPPORTED);return s},u}(),Ct=function(){function u(o){this.ranges=[],o&&this.add(o)}return u.intersect=function(o,s){var f=o.getValues().map(function(w){return s.getValues().map(function(_){return O.and(w,_)})}),p=[];return f.forEach(function(w){return p=p.concat(w)}),new u(p.filter(function(w){return w!==null}))},u.prototype.toString=function(){return this.ranges.map(function(o){return o.toString()}).join(",")},u.prototype.containsKey=function(o){return this.ranges.some(function(s){return s.contains(o)})},u.prototype.getValues=function(){return this.ranges},u.prototype.add=function(o){if(o.length!==0){var s=this.ranges.concat(o);if(s.length===1){this.ranges=s;return}s.sort(O.compare);for(var f=[],p=s[0],w=1;w<s.length;++w)p.overlaps(s[w])?p=O.getBoundingRange(p,s[w]):(f.push(p),p=s[w]);f.push(p),this.ranges=f}},u.prototype.equals=function(o){return this.ranges.length===o.ranges.length?this.ranges.length===0||this.ranges.every(function(s,f){return s.equals(o.ranges[f])}):!1},u.prototype.getBoundingRange=function(){if(this.ranges.length<=1)return this.ranges.length===0?null:this.ranges[0];var o=this.ranges.length-1;return O.getBoundingRange(this.ranges[0],this.ranges[o])},u}(),Je=function(u){t(o,u);function o(s,f,p){var w=u.call(this)||this;return w.column=s,w.value=f,w.evaluatorType=p,w.evaluatorFn=bt.get().getEvaluator(w.column.getType(),w.evaluatorType),w.isComplement=!1,w.binder=f,w}return o.prototype.eval=function(s){var f=this;if(this.checkBinding(),this.evaluatorType===pe.IN)return this.evalAsIn(s);var p=s.entries.filter(function(w){return f.evaluatorFn(w.getField(f.column),f.value)!==f.isComplement});return new ue(p,s.getTables())},o.prototype.setComplement=function(s){this.isComplement=s},o.prototype.copy=function(){var s=new o(this.column,this.value,this.evaluatorType);return s.binder=this.binder,s.isComplement=this.isComplement,s.setId(this.getId()),s},o.prototype.getColumns=function(s){return s?(s.push(this.column),s):[this.column]},o.prototype.getTables=function(s){var f=s||new Set;return f.add(this.column.getTable()),f},o.prototype.setBinder=function(s){this.binder=s},o.prototype.bind=function(s){var f=function(_){if(s.length<=_)throw new M(b.BIND_ARRAY_OUT_OF_RANGE)};if(this.binder instanceof Z){var p=this.binder.index;f(p),this.value=s[p]}else if(Array.isArray(this.binder)){var w=this.binder;this.value=w.map(function(_){return _ instanceof Z?(f(_.index),s[_.index]):_})}},o.prototype.toString=function(){return"value_pred("+this.column.getNormalizedName()+" "+this.evaluatorType+(this.isComplement?"(complement)":"")+" "+this.value+")"},o.prototype.peek=function(){return this.value},o.prototype.isKeyRangeCompatible=function(){return this.checkBinding(),this.value!==null&&(this.evaluatorType===pe.BETWEEN||this.evaluatorType===pe.IN||this.evaluatorType===pe.EQ||this.evaluatorType===pe.GT||this.evaluatorType===pe.GTE||this.evaluatorType===pe.LT||this.evaluatorType===pe.LTE)},o.prototype.toKeyRange=function(){Y(this.isKeyRangeCompatible(),"Could not convert predicate to key range.");var s=null;if(this.evaluatorType===pe.BETWEEN){var f=this.value;s=new O(this.getValueAsKey(f[0]),this.getValueAsKey(f[1]),!1,!1)}else if(this.evaluatorType===pe.IN){var f=this.value,p=f.map(function(B){return O.only(B)});return new Ct(this.isComplement?O.complement(p):p)}else{var w=this.getValueAsKey(this.value);this.evaluatorType===pe.EQ?s=O.only(w):this.evaluatorType===pe.GTE?s=O.lowerBound(w):this.evaluatorType===pe.GT?s=O.lowerBound(w,!0):this.evaluatorType===pe.LTE?s=O.upperBound(w):s=O.upperBound(w,!0)}return new Ct(this.isComplement?s.complement():[s])},o.prototype.checkBinding=function(){var s=!1;if(!(this.value instanceof Z))if(Array.isArray(this.value)){var f=this.value;s=!f.some(function(p){return p instanceof Z})}else s=!0;if(!s)throw new M(b.UNBOUND_VALUE)},o.prototype.evalAsIn=function(s){var f=this;Y(this.evaluatorType===pe.IN,"ValuePredicate#evalAsIn_() called for wrong predicate type.");var p=new Set(this.value),w=function(B){return B===null?!1:p.has(B)!==f.isComplement},_=s.entries.filter(function(B){return w(B.getField(f.column))});return new ue(_,s.getTables())},o.prototype.getValueAsKey=function(s){return this.column.getType()===m.DATE_TIME?s.getTime():s},o}(ze),oe=function(u){t(o,u);function o(s){var f=u.call(this)||this;return f.schema=s,f.clonedFrom=null,f.where=null,f.predicateMap=null,f}return o.buildPredicateMap=function(s){var f=new Map;return s.traverse(function(p){var w=p;f.set(w.getId(),w)}),f},o.prototype.getPredicate=function(s){this.predicateMap===null&&this.where!==null&&(this.predicateMap=o.buildPredicateMap(this.where));var f=this.predicateMap.get(s);return Y(f!==void 0),f},o.prototype.bind=function(s){return Y(this.clonedFrom===null),this},o.prototype.bindValuesInSearchCondition=function(s){var f=this.where;f!==null&&f.traverse(function(p){p instanceof Je&&p.bind(s)})},o.prototype.cloneBase=function(s){s.where&&(this.where=s.where.copy()),this.clonedFrom=s},o}(he),ge=function(u){t(o,u);function o(s,f){var p=u.call(this)||this;return p.numRelations=s,p.execType=f,p}return o.prototype.exec=function(s,f){switch(this.execType){case P.FIRST_CHILD:return this.execFirstChild(s,f);case P.ALL:return this.execAllChildren(s,f);default:return this.execNoChild(s,f)}},o.prototype.toString=function(){return"dummy_node"},o.prototype.toContextString=function(s){return this.toString()},o.prototype.assertInput=function(s){Y(this.numRelations===o.ANY||s.length===this.numRelations)},o.prototype.execNoChild=function(s,f){var p=this;return new Promise(function(w,_){w(p.execInternal([],s,f))})},o.prototype.execFirstChild=function(s,f){var p=this;return this.getChildAt(0).exec(s,f).then(function(w){return p.assertInput(w),p.execInternal(w,s,f)})},o.prototype.execAllChildren=function(s,f){var p=this,w=this.getChildren().map(function(_){return _.exec(s,f)});return Promise.all(w).then(function(_){var B=[];return _.forEach(function(H){H.forEach(function(ie){return B.push(ie)})}),p.assertInput(B),p.execInternal(B,s,f)})},o.ANY=-1,o}(Ce),_e=function(){function u(o,s){this.rootNode=o,this.scope=s}return u.getCombinedScope=function(o){var s=new Set;return o.forEach(function(f){f.getScope().forEach(s.add.bind(s))}),s},u.prototype.getRoot=function(){return this.rootNode},u.prototype.getScope=function(){return this.scope},u}(),Ie=function(){function u(){this.exclusiveLock=null,this.reservedReadWriteLock=null,this.reservedReadOnlyLocks=null,this.sharedLocks=null}return u.prototype.releaseLock=function(o){this.exclusiveLock===o&&(this.exclusiveLock=null),this.reservedReadWriteLock===o&&(this.reservedReadWriteLock=null),this.reservedReadOnlyLocks&&this.reservedReadOnlyLocks.delete(o),this.sharedLocks&&this.sharedLocks.delete(o)},u.prototype.canAcquireLock=function(o,s){var f=this.reservedReadOnlyLocks===null||this.reservedReadOnlyLocks.size===0;if(s===L.EXCLUSIVE){var p=this.sharedLocks===null||this.sharedLocks.size===0;return p&&f&&this.exclusiveLock===null&&this.reservedReadWriteLock!==null&&this.reservedReadWriteLock===o}else return s===L.SHARED?this.exclusiveLock===null&&this.reservedReadWriteLock===null&&this.reservedReadOnlyLocks!==null&&this.reservedReadOnlyLocks.has(o):s===L.RESERVED_READ_ONLY?this.reservedReadWriteLock===null:f&&(this.reservedReadWriteLock===null||this.reservedReadWriteLock===o)},u.prototype.grantLock=function(o,s){s===L.EXCLUSIVE?(this.reservedReadWriteLock=null,this.exclusiveLock=o):s===L.SHARED?(this.sharedLocks===null&&(this.sharedLocks=new Set),this.sharedLocks.add(o),this.reservedReadOnlyLocks===null&&(this.reservedReadOnlyLocks=new Set),this.reservedReadOnlyLocks.delete(o)):s===L.RESERVED_READ_ONLY?(this.reservedReadOnlyLocks===null&&(this.reservedReadOnlyLocks=new Set),this.reservedReadOnlyLocks.add(o)):s===L.RESERVED_READ_WRITE&&(this.reservedReadWriteLock=o)},u}(),Pe=function(){function u(){this.lockTable=new Map}return u.prototype.requestLock=function(o,s,f){var p=this.canAcquireLock(o,s,f);return p&&this.grantLock(o,s,f),p},u.prototype.releaseLock=function(o,s){var f=this;s.forEach(function(p){return f.getEntry(p).releaseLock(o)})},u.prototype.clearReservedLocks=function(o){var s=this;o.forEach(function(f){return s.getEntry(f).reservedReadWriteLock=null})},u.prototype.getEntry=function(o){var s=this.lockTable.get(o.getName())||null;return s===null&&(s=new Ie,this.lockTable.set(o.getName(),s)),s},u.prototype.grantLock=function(o,s,f){var p=this;s.forEach(function(w){return p.getEntry(w).grantLock(o,f)})},u.prototype.canAcquireLock=function(o,s,f){var p=this,w=!0;return s.forEach(function(_){if(w){var B=p.getEntry(_);w=B.canAcquireLock(o,f)}},this),w},u}(),We=function(){function u(){var o=this;this.promise=new Promise(function(s,f){o.resolveFn=s,o.rejectFn=f})}return u.prototype.resolve=function(o){this.resolveFn(o)},u.prototype.reject=function(o){this.rejectFn(o)},u}(),pt=function(){function u(){}return u.binaryInsert=function(o,s,f){var p=u.binarySearch(o,s,f);return p<0?(o.splice(-(p+1),0,s),!0):!1},u.binaryRemove=function(o,s,f){var p=u.binarySearch(o,s,f);return p<0?!1:(o.splice(p,1),!0)},u.shuffle=function(o){for(var s=o.length-1;s>0;s--){var f=Math.floor(Math.random()*(s+1)),p=o[s];o[s]=o[f],o[f]=p}},u.clone=function(o){var s=o.length;if(s>0){var f=new Array(s);return o.forEach(function(p,w){return f[w]=p}),f}return[]},u.flatten=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var f=8192,p=[];return o.forEach(function(w){if(Array.isArray(w))for(var _=0;_<w.length;_+=f){var B=w.slice(_,_+f),H=u.flatten.apply(null,B);H.forEach(function(ie){return p.push(ie)})}else p.push(w)}),p},u.product=function(o){var s=o.some(function(_){return!_.length});if(s||o.length===0)return[];var f=new Array(o.length);f.fill(0);for(var p=[];f!==null;){p.push(f.map(function(_,B){return o[B][_]}));for(var w=f.length-1;w>=0;w--){if(Y(f!==null),f[w]<o[w].length-1){f[w]++;break}if(w===0){f=null;break}f[w]=0}}return p},u.bucket=function(o,s){var f={};return o.forEach(function(p){var w=s(p);f[w]===void 0&&(f[w]=[]),f[w].push(p)}),f},u.binarySearch=function(o,s,f){for(var p=0,w=o.length,_=f||u.defaultComparator;p<w;){var B=p+w>>1;_(o[B],s)<0?p=B+1:w=B}return p===w&&o[p]===s?p:~p},u.defaultComparator=function(o,s){return o-s},u}(),Qe=function(){function u(){this.queue=[]}return u.prototype.insert=function(o){pt.binaryInsert(this.queue,o,function(s,f){var p=s.getPriority()-f.getPriority();return p===0?s.getId()-f.getId():p})},u.prototype.getValues=function(){return this.queue.slice()},u.prototype.remove=function(o){var s=this.queue.indexOf(o);return s>=0&&this.queue.splice(s,1),s>=0},u}(),At=function(){function u(){this.queue=new Qe,this.lockManager=new Pe}return u.prototype.scheduleTask=function(o){return(o.getPriority()<E.USER_QUERY_TASK||o.getPriority()<E.TRANSACTION_TASK)&&this.lockManager.clearReservedLocks(o.getScope()),this.queue.insert(o),this.consumePending(),o.getResolver().promise},u.prototype.consumePending=function(){var o=this,s=this.queue.getValues();s.forEach(function(f){var p=!1;f.getType()===y.READ_ONLY?p=o.requestTwoPhaseLock(f,L.RESERVED_READ_ONLY,L.SHARED):p=o.requestTwoPhaseLock(f,L.RESERVED_READ_WRITE,L.EXCLUSIVE),p&&(o.queue.remove(f),o.execTask(f))})},u.prototype.requestTwoPhaseLock=function(o,s,f){var p=!1,w=this.lockManager.requestLock(o.getId(),o.getScope(),s);return w&&(p=this.lockManager.requestLock(o.getId(),o.getScope(),f)),p},u.prototype.execTask=function(o){o.exec().then(this.onTaskSuccess.bind(this,o),this.onTaskError.bind(this,o))},u.prototype.onTaskSuccess=function(o,s){this.lockManager.releaseLock(o.getId(),o.getScope()),o.getResolver().resolve(s),this.consumePending()},u.prototype.onTaskError=function(o,s){this.lockManager.releaseLock(o.getId(),o.getScope()),o.getResolver().reject(s),this.consumePending()},u}(),bn=function(){function u(){}return u.prototype.eq=function(o){throw new M(b.SYNTAX_ERROR)},u.prototype.neq=function(o){throw new M(b.SYNTAX_ERROR)},u.prototype.lt=function(o){throw new M(b.SYNTAX_ERROR)},u.prototype.lte=function(o){throw new M(b.SYNTAX_ERROR)},u.prototype.gt=function(o){throw new M(b.SYNTAX_ERROR)},u.prototype.gte=function(o){throw new M(b.SYNTAX_ERROR)},u.prototype.match=function(o){throw new M(b.SYNTAX_ERROR)},u.prototype.between=function(o,s){throw new M(b.SYNTAX_ERROR)},u.prototype.in=function(o){throw new M(b.SYNTAX_ERROR)},u.prototype.isNull=function(){throw new M(b.SYNTAX_ERROR)},u.prototype.isNotNull=function(){throw new M(b.SYNTAX_ERROR)},u}(),yt=function(u){t(o,u);function o(s,f){var p=u.call(this)||this;return p.child=s,p.aggregatorType=f,p.alias=null,p}return o.prototype.getName=function(){return this.aggregatorType+"("+this.child.getName()+")"},o.prototype.getNormalizedName=function(){return this.aggregatorType+"("+this.child.getNormalizedName()+")"},o.prototype.getTable=function(){return this.child.getTable()},o.prototype.toString=function(){return this.getNormalizedName()},o.prototype.getType=function(){return this.child.getType()},o.prototype.getAlias=function(){return this.alias},o.prototype.getIndices=function(){return[]},o.prototype.getIndex=function(){return null},o.prototype.isNullable=function(){return!1},o.prototype.isUnique=function(){return!1},o.prototype.as=function(s){return this.alias=s,this},o.prototype.getColumnChain=function(){for(var s=[this],f=this;f instanceof o;)s.push(f.child),f=f.child;return s},o}(bn),at=function(){function u(){}return u.map=function(o,s){var f=[],p=function(B,H){if(B!==null){var ie=B.getChildCount()===H.getChildCount();if(ie){var me=f.indexOf(H);me!==-1&&f.splice(me,1)}}},w=null,_=null;return o.traverse(function(B){var H=s(B);B.getParent()===null?_=H:w.addChild(H),p(B.getParent(),w),B.getChildCount()>1&&f.push(H),w=B.isLeaf()?f[f.length-1]:H}),_},u.getLeafNodes=function(o){return u.find(o,function(s){return s.isLeaf()})},u.removeNode=function(o){var s=o.getParent(),f=0;s!==null&&(f=s.getChildren().indexOf(o),s.removeChild(o));var p=o.getChildren().slice();return p.forEach(function(w,_){o.removeChild(w),s!==null&&s.addChildAt(w,f+_)}),{children:p,parent:s}},u.insertNodeAt=function(o,s){var f=o.getChildren().slice();f.forEach(function(p){o.removeChild(p),s.addChild(p)}),o.addChild(s)},u.swapNodeWithChild=function(o){Y(o.getChildCount()===1);var s=o.getChildAt(0);return Y(s.getChildCount()===1),u.removeNode(o),u.insertNodeAt(s,o),s},u.pushNodeBelowChild=function(o,s,f){Y(o.getChildCount()===1);var p=o.getChildAt(0);Y(p.getChildCount()>1);var w=p.getChildren().slice(),_=w.some(function(B){return s(B)});return _?(u.removeNode(o),w.forEach(function(B,H){if(s(B)){var ie=f(o);p.removeChildAt(H),ie.addChild(B),p.addChildAt(ie,H)}}),p):o},u.replaceChainWithChain=function(o,s,f,p){var w=o.getParent();if(w!==null){var _=w.getChildren().indexOf(o);w.removeChildAt(_),w.addChildAt(f,_)}return s.getChildren().slice().forEach(function(B){s.removeChild(B),p.addChild(B)}),f},u.replaceNodeWithChain=function(o,s,f){return u.replaceChainWithChain(o,o,s,f)},u.replaceChainWithNode=function(o,s,f){return u.replaceChainWithChain(o,s,f,f)},u.find=function(o,s,f){var p=[],w=function(_){s(_)&&p.push(_),(f==null||!f(_))&&_.getChildren().forEach(w)};return w(o),p},u.toString=function(o,s){var f=function(_){return _.toString()+`
`},p=s||f,w="";return o.traverse(function(_){for(var B=0;B<_.getDepth();B++)w+="-";w+=p(_)}),w},u}(),fi=function(u){t(o,u);function o(s){var f=u.call(this)||this;return f.operator=s,f.isComplement=!1,f}return o.prototype.eval=function(s){var f=this.getChildren().map(function(p){return p.eval(s)});return this.combineResults(f)},o.prototype.setComplement=function(s){this.isComplement!==s&&(this.isComplement=s,this.operator=this.operator===N.AND?N.OR:N.AND,this.getChildren().forEach(function(f){return f.setComplement(s)}))},o.prototype.copy=function(){var s=at.map(this,function(f){if(f instanceof o){var p=new o(f.operator);return p.isComplement=f.isComplement,p.setId(f.getId()),p}else return f.copy()});return s},o.prototype.getColumns=function(s){var f=this,p=s||[];this.traverse(function(_){_!==f&&_.getColumns(p)});var w=new Set(p);return Array.from(w.values())},o.prototype.getTables=function(s){var f=this,p=s||new Set;return this.traverse(function(w){w!==f&&w.getTables(p)}),p},o.prototype.toString=function(){return"combined_pred_"+this.operator.toString()},o.prototype.toKeyRange=function(){if(Y(this.isKeyRangeCompatible(),"Could not convert combined predicate to key range."),this.operator===N.OR){var s=new Ct;return this.getChildren().forEach(function(f){var p=f.toKeyRange().getValues();s.add(p)}),s}else return Y(!1,"toKeyRange() called for an AND predicate."),new Ct},o.prototype.isKeyRangeCompatible=function(){return this.operator===N.OR?this.isKeyRangeCompatibleOr():!1},o.prototype.combineResults=function(s){return this.operator===N.AND?ue.intersect(s):ue.union(s)},o.prototype.isKeyRangeCompatibleOr=function(){var s=null;return this.getChildren().every(function(f){var p=f instanceof Je&&f.isKeyRangeCompatible();return p?(s===null&&(s=f.column),s.getNormalizedName()===f.column.getNormalizedName()):!1})},o}(ze),vo=function(){function u(){}return u.and=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return u.createPredicate(N.AND,o)},u.or=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return u.createPredicate(N.OR,o)},u.not=function(o){return o.setComplement(!0),o},u.createPredicate=function(o,s){var f=new fi(o);return s.forEach(function(p){return f.addChild(p)}),f},u}();e.op=vo;var Ge=function(){function u(){this.map=new Map,this.count=0}return Object.defineProperty(u.prototype,"size",{get:function(){return this.count},enumerable:!0,configurable:!0}),u.prototype.has=function(o){return this.map.has(o)},u.prototype.set=function(o,s){var f=this.getSet(o);return f.has(s)||(f.add(s),this.count++),this},u.prototype.setMany=function(o,s){var f=this,p=this.getSet(o);return s.forEach(function(w){p.has(w)||(p.add(w),f.count++)}),this},u.prototype.merge=function(o){var s=this;return o.keys().forEach(function(f){return s.setMany(f,Array.from(o.getSet(f)))}),this},u.prototype.delete=function(o,s){var f=this.map.get(o)||null;if(f===null)return!1;var p=f.delete(s);return p&&(this.count--,f.size===0&&this.map.delete(o)),p},u.prototype.get=function(o){var s=this.map.get(o)||null;return s===null?null:Array.from(s)},u.prototype.clear=function(){this.map.clear(),this.count=0},u.prototype.keys=function(){return Array.from(this.map.keys())},u.prototype.values=function(){var o=[];return this.map.forEach(function(s,f){return o.push.apply(o,Array.from(s))}),o},u.prototype.getSet=function(o){var s=this.map.get(o)||null;return s===null&&(s=new Set,this.map.set(o,s)),s},u}(),ur=function(u){t(o,u);function o(s,f,p){var w=u.call(this)||this;w.leftColumn=s,w.rightColumn=f,w.evaluatorType=p,w.nullPayload=null;var _=bt.get();return w.evaluatorFn=_.getEvaluator(w.leftColumn.getType(),w.evaluatorType),w.keyOfIndexFn=_.getKeyOfIndexEvaluator(w.leftColumn.getType()),w}return o.prototype.copy=function(){var s=new o(this.leftColumn,this.rightColumn,this.evaluatorType);return s.setId(this.getId()),s},o.prototype.getColumns=function(s){return s!=null?(s.push(this.leftColumn),s.push(this.rightColumn),s):[this.leftColumn,this.rightColumn]},o.prototype.getTables=function(s){var f=s!=null?s:new Set;return f.add(this.leftColumn.getTable()),f.add(this.rightColumn.getTable()),f},o.prototype.reverse=function(){var s=this.evaluatorType;switch(this.evaluatorType){case pe.GT:s=pe.LT;break;case pe.LT:s=pe.GT;break;case pe.GTE:s=pe.LTE;break;case pe.LTE:s=pe.GTE;break}var f=new o(this.rightColumn,this.leftColumn,s);return f},o.prototype.eval=function(s){var f=this,p=s.entries.filter(function(w){var _=w.getField(f.leftColumn),B=w.getField(f.rightColumn);return f.evaluatorFn(_,B)},this);return new ue(p,s.getTables())},o.prototype.toString=function(){return"join_pred("+this.leftColumn.getNormalizedName()+" "+this.evaluatorType+" "+this.rightColumn.getNormalizedName()+")"},o.prototype.evalRelationsNestedLoopJoin=function(s,f,p){var w=[s,f];p||(w=this.detectLeftRight(s,f)),s=w[0],f=w[1];for(var _=[],B=s.getTables(),H=f.getTables(),ie=s.entries.length,me=f.entries.length,xe=o.BLOCK_SIZE_EXPONENT,Re=me+(1<<xe)-1>>xe,je=0;je<Re;){for(var st=0;st<ie;st++){var Ze=!1,xt=s.entries[st].getField(this.leftColumn);if(xt!==null)for(var Zt=Math.min(je+1<<xe,me),Bt=je<<xe;Bt<Zt;Bt++){var Rn=this.evaluatorFn(xt,f.entries[Bt].getField(this.rightColumn));if(Rn){Ze=!0;var qr=Q.combineEntries(s.entries[st],B,f.entries[Bt],H);_.push(qr)}}p&&!Ze&&_.push(this.createCombinedEntryForUnmatched(s.entries[st],B))}je++}var qn=s.getTables().concat(f.getTables());return new ue(_,qn)},o.prototype.evalRelationsHashJoin=function(s,f,p){var w=this,_=[s,f];p||(_=this.detectLeftRight(s,f)),s=_[0],f=_[1];var B=s,H=f,ie=this.leftColumn,me=this.rightColumn;p&&(B=f,H=s,ie=this.rightColumn,me=this.leftColumn);var xe=new Ge,Re=[];B.entries.forEach(function(xt){var Zt=String(xt.getField(ie));xe.set(Zt,xt)});var je=B.getTables(),st=H.getTables();H.entries.forEach(function(xt){var Zt=xt.getField(me),Bt=String(Zt);Zt!==null&&xe.has(Bt)?xe.get(Bt).forEach(function(Rn){var qr=Q.combineEntries(xt,st,Rn,je);Re.push(qr)}):p&&Re.push(w.createCombinedEntryForUnmatched(xt,st))},this);var Ze=s.getTables().concat(f.getTables());return new ue(Re,Ze)},o.prototype.evalRelationsIndexNestedLoopJoin=function(s,f,p,w){var _=this;Y(this.evaluatorType===pe.EQ,"For now, index nested loop join can only be leveraged for EQ.");var B=p.indexedColumn.getTable(),H=s,ie=f;s.getTables().indexOf(B.getEffectiveName())!==-1&&(H=f,ie=s);var me=[],xe=ie.getTables(),Re=H.getTables();function je(Ze,xt){var Zt=new Q(xt,xe.length>1),Bt=Q.combineEntries(Ze,Re,Zt,xe);me.push(Bt)}H.entries.forEach(function(Ze){var xt=_.keyOfIndexFn(Ze.getField(p.nonIndexedColumn)),Zt=p.index.get(xt);if(Zt.length!==0)if(p.index.isUniqueKey())je(Ze,w.get(Zt[0]));else{var Bt=w.getMany(Zt);Bt.forEach(function(Rn){return je(Ze,Rn)})}},this);var st=H.getTables().concat(ie.getTables());return new ue(me,st)},o.prototype.setComplement=function(s){throw new M(b.ASSERTION,"Join predicate has no complement")},o.prototype.reverseSelf=function(){var s=this.leftColumn;this.leftColumn=this.rightColumn,this.rightColumn=s;var f=this.evaluatorType;switch(this.evaluatorType){case pe.GT:f=pe.LT;break;case pe.LT:f=pe.GT;break;case pe.GTE:f=pe.LTE;break;case pe.LTE:f=pe.GTE;break;default:return}this.evaluatorType=f,this.evaluatorFn=bt.get().getEvaluator(this.leftColumn.getType(),this.evaluatorType)},o.prototype.appliesToLeft=function(s){return s.getTables().indexOf(this.leftColumn.getTable().getEffectiveName())!==-1},o.prototype.appliesToRight=function(s){return s.getTables().indexOf(this.rightColumn.getTable().getEffectiveName())!==-1},o.prototype.assertRelationsApply=function(s,f){Y(this.appliesToLeft(s),"Mismatch between join predicate left operand and right relation."),Y(this.appliesToRight(f),"Mismatch between join predicate right operand and right relation.")},o.prototype.detectLeftRight=function(s,f){var p=null,w=null;return this.appliesToLeft(s)?(this.assertRelationsApply(s,f),p=s,w=f):(this.assertRelationsApply(f,s),p=f,w=s),p.entries.length>w.entries.length?(this.reverseSelf(),this.assertRelationsApply(w,p),[w,p]):[p,w]},o.prototype.createNullPayload=function(s){var f={};return s.getColumns().forEach(function(p){return f[p.getName()]=null}),f},o.prototype.createCombinedEntryForUnmatched=function(s,f){this.nullPayload===null&&(this.nullPayload=this.createNullPayload(this.rightColumn.getTable()));var p=new Q(new z(z.DUMMY_ID,this.nullPayload),!1),w=Q.combineEntries(s,f,p,[this.rightColumn.getTable().getEffectiveName()]);return w},o.BLOCK_SIZE_EXPONENT=8,o}(ze),Xn=function(u){t(o,u);function o(s){return u.call(this,s)||this}return o.orderByToString=function(s){var f="";return s.forEach(function(p,w){f+=p.column.getNormalizedName()+" ",f+=p.order===d.ASC?"ASC":"DESC",w<s.length-1&&(f+=", ")}),f},o.prototype.getScope=function(){return new Set(this.from)},o.prototype.clone=function(){var s=new o(this.schema);return s.cloneBase(this),this.columns&&(s.columns=this.columns.slice()),this.from&&(s.from=this.from.slice()),s.limit=this.limit,s.skip=this.skip,this.orderBy&&(s.orderBy=this.orderBy.slice()),this.groupBy&&(s.groupBy=this.groupBy.slice()),this.limitBinder&&(s.limitBinder=this.limitBinder),this.skipBinder&&(s.skipBinder=this.skipBinder),s.outerJoinPredicates=this.outerJoinPredicates,s},o.prototype.bind=function(s){return u.prototype.bind.call(this,s),this.limitBinder!==void 0&&this.limitBinder!==null&&(this.limit=s[this.limitBinder.index]),this.skipBinder!==void 0&&this.skipBinder!==null&&(this.skip=s[this.skipBinder.index]),this.bindValuesInSearchCondition(s),this},o}(oe),Er=function(){function u(o,s,f,p,w){this.success_=o,this.insertedRowCount_=s,this.updatedRowCount_=f,this.deletedRowCount_=p,this.changedTableCount_=w}return u.getDefault=function(){return new u(!1,0,0,0,0)},u.prototype.success=function(){return this.success_},u.prototype.insertedRowCount=function(){return this.insertedRowCount_},u.prototype.updatedRowCount=function(){return this.updatedRowCount_},u.prototype.deletedRowCount=function(){return this.deletedRowCount_},u.prototype.changedTableCount=function(){return this.changedTableCount_},u}(),cr=function(u){t(o,u);function o(s,f){var p=u.call(this)||this;return p.global=s,p.backStore=s.getService(Le.BACK_STORE),p.queries=f.map(function(w){return w.context}),p.plans=f.map(function(w){return w.plan}),p.combinedScope=_e.getCombinedScope(p.plans),p.txType=p.detectType(),p.resolver=new We,p}return o.prototype.exec=function(){var s=this,f=this.txType===y.READ_ONLY?void 0:new Fo(this.global,this.combinedScope),p=[],w=this.plans.slice(),_=this.queries,B=function(){var H=w.shift();if(H){var ie=_[p.length];return H.getRoot().exec(f,ie).then(function(me){return p.push(me[0]),B()})}return Promise.resolve(p)};return B().then(function(){return s.tx=s.backStore.createTx(s.txType,Array.from(s.combinedScope.values()),f),s.tx.commit()}).then(function(){return s.onSuccess(p),p},function(H){throw f&&f.rollback(),H})},o.prototype.getType=function(){return this.txType},o.prototype.getScope=function(){return this.combinedScope},o.prototype.getResolver=function(){return this.resolver},o.prototype.getId=function(){return this.getUniqueNumber()},o.prototype.stats=function(){var s=null;return this.tx&&(s=this.tx.stats()),s===null?Er.getDefault():s},o.prototype.onSuccess=function(s){},o.prototype.detectType=function(){return this.queries.some(function(s){return!(s instanceof Xn)})?y.READ_WRITE:y.READ_ONLY},o}(he),fr=function(u){t(o,u);function o(s,f){var p=u.call(this,s,f)||this;return p.observerRegistry=s.getService(Le.OBSERVER_REGISTRY),p}return o.prototype.getPriority=function(){return E.OBSERVER_QUERY_TASK},o.prototype.onSuccess=function(s){var f=this;this.queries.forEach(function(p,w){f.observerRegistry.updateResultsForQuery(p,s[w])})},o}(cr),Fe=function(u){t(o,u);function o(s,f){var p=u.call(this,s,f)||this;return p.runner=s.getService(Le.RUNNER),p.observerRegistry=s.getService(Le.OBSERVER_REGISTRY),p}return o.prototype.getPriority=function(){return E.USER_QUERY_TASK},o.prototype.onSuccess=function(s){this.getType()===y.READ_ONLY?this.notifyObserversDirectly(s):this.scheduleObserverTask()},o.prototype.notifyObserversDirectly=function(s){var f=this;this.queries.forEach(function(p,w){f.observerRegistry.updateResultsForQuery(p,s[w])})},o.prototype.scheduleObserverTask=function(){var s=this.observerRegistry.getTaskItemsForTables(Array.from(this.getScope().values()));s.length>0&&this.runner.scheduleTask(new fr(this.global,s))},o}(cr),Ye=function(){function u(o,s){this._name=o,this._version=s,this.tableMap=new Map,this._pragma={enableBundledMode:!1},this._info=void 0}return u.prototype.name=function(){return this._name},u.prototype.version=function(){return this._version},u.prototype.info=function(){return this._info===void 0&&(this._info=new ut(this)),this._info},u.prototype.tables=function(){return Array.from(this.tableMap.values())},u.prototype.table=function(o){var s=this.tableMap.get(o);if(!s)throw new M(b.TABLE_NOT_FOUND,o);return s},u.prototype.setTable=function(o){this.tableMap.set(o.getName(),o)},u.prototype.pragma=function(){return this._pragma},u}(),ut=function(){function u(o){var s=this;this.dbSchema=o,this.cascadeReferringFk=new Ge,this.restrictReferringFk=new Ge,this.parents=new Ge,this.colParent=new Map,this.children=new Ge,this.cascadeChildren=new Ge,this.restrictChildren=new Ge,this.colChild=new Ge,this.dbSchema.tables().forEach(function(f){var p=f,w=p.getName();p.getConstraint().getForeignKeys().forEach(function(_){s.parents.set(w,s.dbSchema.table(_.parentTable)),s.children.set(_.parentTable,p),_.action===i.RESTRICT?(s.restrictReferringFk.set(_.parentTable,_),s.restrictChildren.set(_.parentTable,p)):(s.cascadeReferringFk.set(_.parentTable,_),s.cascadeChildren.set(_.parentTable,p)),s.colParent.set(p.getName()+"."+_.childColumn,_.parentTable);var B=_.parentTable+"."+_.parentColumn;s.colChild.set(B,p.getName())},s)},this)}return u.from=function(o){return o.info()},u.prototype.getReferencingForeignKeys=function(o,s){if(s!=null)return s===i.CASCADE?this.cascadeReferringFk.get(o):this.restrictReferringFk.get(o);var f=this.cascadeReferringFk.get(o),p=this.restrictReferringFk.get(o);return f===null&&p===null?null:(f||[]).concat(p||[])},u.prototype.getParentTables=function(o){return this.expandScope(o,this.parents)},u.prototype.getParentTablesByColumns=function(o){var s=this,f=new Set;o.forEach(function(w){var _=s.colParent.get(w);_&&f.add(_)},this);var p=Array.from(f.values());return p.map(function(w){return s.dbSchema.table(w)})},u.prototype.getChildTables=function(o,s){return s==null?this.expandScope(o,this.children):s===i.RESTRICT?this.expandScope(o,this.restrictChildren):this.expandScope(o,this.cascadeChildren)},u.prototype.getChildTablesByColumns=function(o){var s=this,f=new Set;o.forEach(function(w){var _=s.colChild.get(w);_&&_.forEach(function(B){return f.add(B)})},this);var p=Array.from(f.values());return p.map(function(w){return s.dbSchema.table(w)})},u.prototype.expandScope=function(o,s){var f=s.get(o);return f===null?[]:f},u}(),wt=function(u){t(o,u);function o(s){return u.call(this,s)||this}return o.prototype.getScope=function(){var s=new Set;return s.add(this.from),this.expandTableScope(this.from.getName(),s),s},o.prototype.clone=function(){var s=new o(this.schema);return s.cloneBase(this),s.from=this.from,s},o.prototype.bind=function(s){return u.prototype.bind.call(this,s),this.bindValuesInSearchCondition(s),this},o.prototype.expandTableScope=function(s,f){var p=this,w=ut.from(this.schema).getChildTables(s,i.CASCADE),_=ut.from(this.schema).getChildTables(s);_.forEach(f.add.bind(f)),w.forEach(function(B){p.expandTableScope(B.getName(),f)},this)},o}(oe),Nt=function(u){t(o,u);function o(s){return u.call(this,s)||this}return o.prototype.getScope=function(){var s=new Set;s.add(this.into);var f=ut.from(this.schema);return f.getParentTables(this.into.getName()).forEach(s.add.bind(s)),this.allowReplace&&f.getChildTables(this.into.getName()).forEach(s.add.bind(s)),s},o.prototype.clone=function(){var s=new o(this.schema);return s.cloneBase(this),s.into=this.into,this.values&&(s.values=this.values instanceof Z?this.values:this.values.slice()),s.allowReplace=this.allowReplace,s.binder=this.binder,s},o.prototype.bind=function(s){return u.prototype.bind.call(this,s),this.binder&&(this.binder instanceof Z?this.values=s[this.binder.index]:this.values=this.binder.map(function(f){return f instanceof Z?s[f.index]:f})),this},o}(oe),qt=function(u){t(o,u);function o(s){return u.call(this,s)||this}return o.prototype.getScope=function(){var s=new Set;s.add(this.table);var f=this.set.map(function(w){return w.column.getNormalizedName()}),p=ut.from(this.schema);return p.getParentTablesByColumns(f).forEach(s.add.bind(s)),p.getChildTablesByColumns(f).forEach(s.add.bind(s)),s},o.prototype.clone=function(){var s=new o(this.schema);return s.cloneBase(this),s.table=this.table,s.set=this.set?this.cloneSet(this.set):this.set,s},o.prototype.bind=function(s){return u.prototype.bind.call(this,s),this.set.forEach(function(f){f.binding!==void 0&&f.binding!==-1&&(f.value=s[f.binding])}),this.bindValuesInSearchCondition(s),this},o.prototype.cloneSet=function(s){return s.map(function(f){var p=n({},f);return p})},o}(oe),sn=function(){function u(){}return u.toSql=function(o,s){s===void 0&&(s=!1);var f=o.getQuery();if(f instanceof Nt)return u.insertToSql(f,s);if(f instanceof wt)return u.deleteToSql(f,s);if(f instanceof qt)return u.updateToSql(f,s);if(f instanceof Xn)return u.selectToSql(f,s);throw new M(b.NOT_IMPL_IN_TOSQL,typeof f)},u.escapeSqlValue=function(o,s){var f=s;if(f==null)return"NULL";switch(o){case m.BOOLEAN:return f?1:0;case m.INTEGER:case m.NUMBER:return f;case m.ARRAY_BUFFER:return"'"+z.binToHex(f)+"'";default:return"'"+f.toString()+"'"}},u.insertToSql=function(o,s){var f=o.allowReplace?"INSERT OR REPLACE":"INSERT",p=o.into.getColumns();f+=" INTO "+o.into.getName()+"(",f+=p.map(function(_){return _.getName()}).join(", "),f+=") VALUES (";var w=o.values.map(function(_){var B=p.map(function(H){var ie=_.payload()[H.getName()];return s?ie!=null?"#":"NULL":u.escapeSqlValue(H.getType(),ie)});return f+B.join(", ")+");"});return w.join(`
`)},u.evaluatorToSql=function(o){switch(o){case pe.BETWEEN:return"BETWEEN";case pe.EQ:return"=";case pe.GTE:return">=";case pe.GT:return">";case pe.IN:return"IN";case pe.LTE:return"<=";case pe.LT:return"<";case pe.MATCH:return"LIKE";case pe.NEQ:return"<>";default:return"UNKNOWN"}},u.valueToSql=function(o,s,f,p){if(o instanceof Z)return"?"+o.getIndex().toString();if(p)return o!=null?"#":"NULL";if(s===pe.MATCH)return"'"+o.toString()+"'";if(s===pe.IN){var w=o,_=w.map(function(B){return u.escapeSqlValue(f,B)});return"("+_.join(", ")+")"}else if(s===pe.BETWEEN)return u.escapeSqlValue(f,o[0])+" AND "+u.escapeSqlValue(f,o[1]);return u.escapeSqlValue(f,o).toString()},u.valuePredicateToSql=function(o,s){var f=o.column.getNormalizedName(),p=u.evaluatorToSql(o.evaluatorType),w=u.valueToSql(o.peek(),o.evaluatorType,o.column.getType(),s);return p==="="&&w==="NULL"?[f,"IS NULL"].join(" "):p==="<>"&&w==="NULL"?[f,"IS NOT NULL"].join(" "):[f,p,w].join(" ")},u.combinedPredicateToSql=function(o,s){var f=o.getChildren().map(function(w){return"("+u.parseSearchCondition(w,s)+")"}),p=o.operator===N.AND?" AND ":" OR ";return f.join(p)},u.joinPredicateToSql=function(o){return[o.leftColumn.getNormalizedName(),u.evaluatorToSql(o.evaluatorType),o.rightColumn.getNormalizedName()].join(" ")},u.parseSearchCondition=function(o,s){if(o instanceof Je)return u.valuePredicateToSql(o,s);if(o instanceof fi)return u.combinedPredicateToSql(o,s);if(o instanceof ur)return u.joinPredicateToSql(o);throw new M(357,typeof o)},u.predicateToSql=function(o,s){var f=u.parseSearchCondition(o,s);return f?" WHERE "+f:""},u.deleteToSql=function(o,s){var f="DELETE FROM "+o.from.getName();return o.where&&(f+=u.predicateToSql(o.where,s)),f+=";",f},u.updateToSql=function(o,s){var f="UPDATE "+o.table.getName()+" SET ";return f+=o.set.map(function(p){var w=p.column,_=w.getNormalizedName()+" = ";return p.binding!==-1?_+"?"+p.binding.toString():_+u.escapeSqlValue(w.getType(),p.value).toString()}).join(", "),o.where&&(f+=u.predicateToSql(o.where,s)),f+=";",f},u.selectToSql=function(o,s){var f="*";o.columns.length&&(f=o.columns.map(function(B){var H=B;return H.getAlias()?H.getNormalizedName()+" AS "+H.getAlias():H.getNormalizedName()}).join(", "));var p="SELECT "+f+" FROM ";if(o.outerJoinPredicates&&o.outerJoinPredicates.size!==0?p+=u.getFromListForOuterJoin(o,s):(p+=u.getFromListForInnerJoin(o,s),o.where&&(p+=u.predicateToSql(o.where,s))),o.orderBy){var w=o.orderBy.map(function(B){return B.column.getNormalizedName()+(B.order===d.DESC?" DESC":" ASC")}).join(", ");p+=" ORDER BY "+w}if(o.groupBy){var _=o.groupBy.map(function(B){return B.getNormalizedName()}).join(", ");p+=" GROUP BY "+_}return o.limit&&(p+=" LIMIT "+o.limit.toString()),o.skip&&(p+=" SKIP "+o.skip.toString()),p+=";",p},u.getTableNameToSql=function(o){var s=o;return s.getEffectiveName()!==s.getName()?s.getName()+" AS "+s.getEffectiveName():s.getName()},u.getFromListForOuterJoin=function(o,s){for(var f=at.find(o.where,function(me){return me instanceof ur}),p=f.map(function(me){return u.joinPredicateToSql(me)}),w=u.getTableNameToSql(o.from[0]),_=1;_<o.from.length;_++){var B=u.getTableNameToSql(o.from[_]);o.outerJoinPredicates.has(f[p.length-_].getId())?w+=" LEFT OUTER JOIN "+B:w+=" INNER JOIN "+B,w+=" ON ("+p[p.length-_]+")"}var H=o.where,ie=H.getChildCount()>0?H.getChildAt(0):H;return ie instanceof ur||(w+=" WHERE "+u.parseSearchCondition(ie,s)),w},u.getFromListForInnerJoin=function(o,s){return o.from.map(u.getTableNameToSql).join(", ")},u}(),Zn=function(){function u(o,s){this.global=o,this.queryEngine=o.getService(Le.QUERY_ENGINE),this.runner=o.getService(Le.RUNNER),this.query=s}return u.prototype.exec=function(){var o=this;try{this.assertExecPreconditions()}catch(s){return Promise.reject(s)}return new Promise(function(s,f){var p=new Fe(o.global,[o.getTaskItem()]);o.runner.scheduleTask(p).then(function(w){return s(w[0].getPayloads())},f)})},u.prototype.explain=function(){var o=this,s=function(f){return f.toContextString(o.query)+`
`};return at.toString(this.getPlan().getRoot(),s)},u.prototype.bind=function(o){return this.query.bind(o),this},u.prototype.toSql=function(o){return o===void 0&&(o=!1),sn.toSql(this,o)},u.prototype.assertExecPreconditions=function(){},u.prototype.getQuery=function(){return this.query.clone()},u.prototype.getObservableQuery=function(){return this.query},u.prototype.getTaskItem=function(){return{context:this.getQuery(),plan:this.getPlan()}},u.prototype.getObservableTaskItem=function(){return{context:this.getObservableQuery(),plan:this.getPlan()}},u.prototype.getPlan=function(){return(this.plan===void 0||this.plan===null)&&(this.plan=this.queryEngine.getPlan(this.query)),this.plan},u}(),Ui=function(u){t(o,u);function o(s,f){var p=u.call(this,s,new Xn(s.getService(Le.SCHEMA)))||this;return p.fromAlreadyCalled=!1,p.whereAlreadyCalled=!1,p.query.columns=f,p.checkDistinctColumn(),p.checkAggregations(),p}return o.prototype.assertExecPreconditions=function(){u.prototype.assertExecPreconditions.call(this);var s=this.query;if(s.from===void 0||s.from===null)throw new M(b.INVALID_SELECT);if(s.limitBinder&&s.limit===void 0||s.skipBinder&&s.skip===void 0)throw new M(b.UNBOUND_LIMIT_SKIP);this.checkProjectionList()},o.prototype.from=function(){for(var s,f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];if(this.fromAlreadyCalled)throw new M(b.DUPLICATE_FROM);return this.fromAlreadyCalled=!0,(this.query.from===void 0||this.query.from===null)&&(this.query.from=[]),(s=this.query.from).push.apply(s,f),this},o.prototype.where=function(s){if(this.checkFrom(b.FROM_AFTER_WHERE),this.whereAlreadyCalled)throw new M(b.DUPLICATE_WHERE);return this.whereAlreadyCalled=!0,this.augmentWhereClause(s),this},o.prototype.innerJoin=function(s,f){if(this.checkFrom(b.MISSING_FROM_BEFORE_JOIN),this.whereAlreadyCalled)throw new M(b.INVALID_WHERE);return this.query.from.push(s),this.augmentWhereClause(f),this},o.prototype.leftOuterJoin=function(s,f){if(this.checkFrom(b.MISSING_FROM_BEFORE_JOIN),!(f instanceof ur))throw new M(b.INVALID_OUTER_JOIN);if(this.whereAlreadyCalled)throw new M(b.INVALID_WHERE);this.query.from.push(s),(this.query.outerJoinPredicates===null||this.query.outerJoinPredicates===void 0)&&(this.query.outerJoinPredicates=new Set);var p=f;return s.getEffectiveName()!==f.rightColumn.getTable().getEffectiveName()&&(p=f.reverse()),this.query.outerJoinPredicates.add(p.getId()),this.augmentWhereClause(p),this},o.prototype.limit=function(s){if(this.query.limit!==void 0||this.query.limitBinder)throw new M(b.DUPLICATE_LIMIT);if(s instanceof Z)this.query.limitBinder=s;else{if(s<0)throw new M(b.NEGATIVE_LIMIT_SKIP);this.query.limit=s}return this},o.prototype.skip=function(s){if(this.query.skip!==void 0||this.query.skipBinder)throw new M(b.DUPLICATE_SKIP);if(s instanceof Z)this.query.skipBinder=s;else{if(s<0)throw new M(b.NEGATIVE_LIMIT_SKIP);this.query.skip=s}return this},o.prototype.orderBy=function(s,f){return this.checkFrom(b.FROM_AFTER_ORDER_GROUPBY),this.query.orderBy===void 0&&(this.query.orderBy=[]),this.query.orderBy.push({column:s,order:f!=null?f:d.ASC}),this},o.prototype.groupBy=function(){for(var s,f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];if(this.checkFrom(b.FROM_AFTER_ORDER_GROUPBY),this.query.groupBy)throw new M(b.DUPLICATE_GROUPBY);return this.query.groupBy===void 0&&(this.query.groupBy=[]),(s=this.query.groupBy).push.apply(s,f),this},o.prototype.clone=function(){var s=new o(this.global,this.query.columns);return s.query=this.query.clone(),s.query.clonedFrom=null,s},o.prototype.checkDistinctColumn=function(){var s=this.query.columns.filter(function(p){return p instanceof yt&&p.aggregatorType===I.DISTINCT}),f=s.length===0||s.length===1&&this.query.columns.length===1;if(!f)throw new M(b.INVALID_DISTINCT)},o.prototype.checkProjectionList=function(){this.query.groupBy?this.checkGroupByColumns():this.checkProjectionListNotMixed()},o.prototype.checkGroupByColumns=function(){var s=this.query.groupBy.some(function(f){var p=f.getType();return p===m.OBJECT||p===m.ARRAY_BUFFER});if(s)throw new M(b.INVALID_GROUPBY)},o.prototype.checkProjectionListNotMixed=function(){var s=this.query.columns.some(function(p){return p instanceof yt}),f=this.query.columns.some(function(p){return!(p instanceof yt)})||this.query.columns.length===0;if(s&&f)throw new M(b.INVALID_PROJECTION)},o.prototype.checkAggregations=function(){var s=this;this.query.columns.forEach(function(f){var p=!(f instanceof yt)||s.isAggregationValid(f.aggregatorType,f.getType());if(!p)throw new M(b.INVALID_AGGREGATION,f.getNormalizedName())},this)},o.prototype.checkFrom=function(s){if(this.query.from===void 0||this.query.from===null)throw new M(s)},o.prototype.augmentWhereClause=function(s){if(this.query.where){var f=vo.and(s,this.query.where);this.query.where=f}else this.query.where=s},o.prototype.isAggregationValid=function(s,f){switch(s){case I.COUNT:case I.DISTINCT:return!0;case I.AVG:case I.GEOMEAN:case I.STDDEV:case I.SUM:return f===m.NUMBER||f===m.INTEGER;case I.MAX:case I.MIN:return f===m.NUMBER||f===m.INTEGER||f===m.STRING||f===m.DATE_TIME}return!1},o}(Zn),Wr=function(){function u(){}return u.longestCommonSubsequence=function(o,s,f,p){var w=function(Ze,xt){return Ze===xt},_=function(Ze,xt){return o[Ze]},B=f||w,H=p||_,ie=o.length,me=s.length,xe=[],Re,je;for(Re=0;Re<ie+1;++Re)xe[Re]=[],xe[Re][0]=0;for(je=0;je<me+1;++je)xe[0][je]=0;for(Re=1;Re<ie+1;++Re)for(je=1;je<me+1;++je)xe[Re][je]=B(o[Re-1],s[je-1])?xe[Re-1][je-1]+1:Math.max(xe[Re-1][je],xe[Re][je-1]);var st=[];for(Re=ie,je=me;Re>0&&je>0;)B(o[Re-1],s[je-1])?(st.unshift(H(Re-1,je-1)),Re--,je--):xe[Re-1][je]>xe[Re][je-1]?Re--:je--;return st},u.sum=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return o.reduce(function(f,p){return f+p},0)},u.average=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return u.sum.apply(null,o)/o.length},u.standardDeviation=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];if(!o||o.length<2)return 0;var f=u.average.apply(null,o),p=u.sum.apply(null,o.map(function(w){return Math.pow(w-f,2)}))/(o.length-1);return Math.sqrt(p)},u}(),Wi=function(){function u(o,s){this.query=o,this.observableResults=s,this.evalRegistry=bt.get(),this.columns=this.detectColumns()}return u.prototype.applyDiff=function(o,s){for(var f=o===null?[]:o.entries,p=Wr.longestCommonSubsequence(f,s.entries,this.comparator.bind(this),function(Re,je){return f[Re]}),w=[],_=0,B=0;B<f.length;B++){var H=f[B];if(p[_]===H){_++;continue}else{var ie=this.observableResults.splice(_,1),me=this.createChangeRecord(B,ie,0,this.observableResults);w.push(me)}}var xe=Wr.longestCommonSubsequence(f,s.entries,this.comparator.bind(this),function(Re,je){return s.entries[je]});_=0;for(var B=0;B<s.entries.length;B++){var H=s.entries[B];if(xe[_]===H){_++;continue}else{this.observableResults.splice(B,0,H.row.payload());var me=this.createChangeRecord(B,[],1,this.observableResults);w.push(me)}}return w},u.prototype.detectColumns=function(){if(this.query.columns.length>0)return this.query.columns;var o=[];return this.query.from.forEach(function(s){var f=s;f.getColumns().forEach(function(p){return o.push(p)})}),o},u.prototype.comparator=function(o,s){var f=this;return this.columns.every(function(p){if(p.getType()===m.OBJECT||p.getType()===m.ARRAY_BUFFER)return o.getField(p)===s.getField(p);var w=f.evalRegistry.getEvaluator(p.getType(),pe.EQ);return w(o.getField(p),s.getField(p))},this)},u.prototype.createChangeRecord=function(o,s,f,p){return{addedCount:f,index:o,object:p,removed:s,type:"splice"}},u}(),Os=function(){function u(o){this.builder=o,this.builder=o,this.observers=new Set,this.observable=[],this.lastResults=null;var s=o.getObservableQuery();this.diffCalculator=new Wi(s,this.observable)}return u.prototype.addObserver=function(o){if(this.observers.has(o)){Y(!1,"Attempted to register observer twice.");return}this.observers.add(o)},u.prototype.removeObserver=function(o){return this.observers.delete(o)},u.prototype.getTaskItem=function(){return this.builder.getObservableTaskItem()},u.prototype.hasObservers=function(){return this.observers.size>0},u.prototype.updateResults=function(o){var s=this.diffCalculator.applyDiff(this.lastResults,o);this.lastResults=o,s.length>0&&this.observers.forEach(function(f){return f(s)})},u}(),As=function(){function u(){this.entries=new Map}return u.prototype.addObserver=function(o,s){var f=o,p=this.getQueryId(f.getObservableQuery()),w=this.entries.get(p)||null;w===null&&(w=new Os(f),this.entries.set(p,w)),w.addObserver(s)},u.prototype.removeObserver=function(o,s){var f=o,p=this.getQueryId(f.getObservableQuery()),w=this.entries.get(p);Y(w!=null,"Attempted to unobserve a query that was not observed.");var _=w.removeObserver(s);Y(_,"removeObserver: Inconsistent state detected."),w.hasObservers()||this.entries.delete(p)},u.prototype.getTaskItemsForTables=function(o){var s=new Set;o.forEach(function(p){return s.add(p.getName())});var f=[];return this.entries.forEach(function(p,w){var _=p.getTaskItem(),B=_.context.from.some(function(H){return s.has(H.getName())});B&&f.push(_)}),f},u.prototype.updateResultsForQuery=function(o,s){var f=this.getQueryId(o.clonedFrom!==void 0&&o.clonedFrom!==null?o.clonedFrom:o),p=this.entries.get(f)||null;return p!==null?(p.updateResults(s),!0):!1},u.prototype.getQueryId=function(o){return o.getUniqueId()},u}(),Le=function(){function u(){}return u.BACK_STORE=new j("backstore"),u.CACHE=new j("cache"),u.INDEX_STORE=new j("indexstore"),u.QUERY_ENGINE=new j("engine"),u.RUNNER=new j("runner"),u.OBSERVER_REGISTRY=new j("observerregistry"),u.SCHEMA=new j("schema"),u}(),Bo=function(){function u(o){this.indexStore=o.getService(Le.INDEX_STORE),this.schema=o.getService(Le.SCHEMA),this.cache=o.getService(Le.CACHE),this.foreignKeysParentIndices=new Map}return u.didColumnValueChange=function(o,s,f){var p=o===null?s!==null:s===null;return p||o.keyOfIndex(f)!==s.keyOfIndex(f)},u.prototype.findExistingRowIdInPkIndex=function(o,s){var f=o.getConstraint().getPrimaryKey();return f===null?null:this.findExistingRowIdInIndex(f,s)},u.prototype.checkNotNullable=function(o,s){var f=this,p=o.getConstraint().getNotNullable();s.forEach(function(w){p.forEach(function(_){var B=w.payload()[_.getName()];if(B==null)throw new M(b.NOT_NULLABLE,_.getNormalizedName())},f)},this)},u.prototype.detectCascadeUpdates=function(o,s,f){var p=new Ge;return this.loopThroughReferringRows(f,s,function(w,_,B,H){var ie=_.get(B);ie.forEach(function(me){p.set(me,{fkSpec:w,originalUpdatedRow:H[1]})})}),p},u.prototype.checkForeignKeysForInsert=function(o,s,f){if(s.length!==0){var p=s.map(function(w){return[null,w]});this.checkReferredKeys(o,p,f)}},u.prototype.checkForeignKeysForUpdate=function(o,s,f){s.length!==0&&(this.checkReferredKeys(o,s,f),this.checkReferringKeys(o,s,f,i.RESTRICT))},u.prototype.checkForeignKeysForDelete=function(o,s,f){if(s.length!==0){var p=s.map(function(w){return[w,null]});this.checkReferringKeys(o,p,f)}},u.prototype.detectCascadeDeletion=function(o,s){var f=this,p={rowIdsPerTable:new Ge,tableOrder:[]},w=new Ge;w.setMany(o.getName(),s.map(function(H){return H.id()}));var _=function(){var H=new Ge;w.keys().forEach(function(ie){var me,xe=f.schema.table(ie),Re=w.get(ie),je=Re.map(function(Ze){var xt=f.cache.get(Ze);return[xt,null]},f),st=f.findReferringRowIds(xe,je);st!==null&&((me=p.tableOrder).unshift.apply(me,st.keys()),H.merge(st))},B),w=H,p.rowIdsPerTable.merge(w)},B=this;do _();while(w.size>0);return p},u.prototype.findExistingRowIdInIndex=function(o,s){var f=o.getNormalizedName(),p=s.keyOfIndex(f),w=this.indexStore.get(f),_=w.get(p);return _.length===0?null:_[0]},u.prototype.checkReferredKeys=function(o,s,f){var p=this,w=o.getConstraint().getForeignKeys();w.forEach(function(_){_.timing===f&&p.checkReferredKey(_,s)},this)},u.prototype.checkReferredKey=function(o,s){var f=this.getParentIndex(o);s.forEach(function(p){var w=u.didColumnValueChange(p[0],p[1],o.name);if(w){var _=p[1],B=_.keyOfIndex(o.name);if(B!==null&&!f.containsKey(B))throw new M(b.FK_VIOLATION,o.name)}},this)},u.prototype.findParentIndex=function(o){var s=this.schema.table(o.parentTable),f=s[o.parentColumn],p=f.getIndex();return this.indexStore.get(p.getNormalizedName())},u.prototype.getParentIndex=function(o){var s=this.foreignKeysParentIndices.get(o.name);return s===void 0&&(s=this.findParentIndex(o),this.foreignKeysParentIndices.set(o.name,s)),s},u.prototype.checkReferringKeys=function(o,s,f,p){var w=ut.from(this.schema).getReferencingForeignKeys(o.getName(),p);w!==null&&(w=w.filter(function(_){return _.timing===f}),w.length!==0&&this.loopThroughReferringRows(w,s,function(_,B,H){if(B.containsKey(H))throw new M(b.FK_VIOLATION,_.name)}))},u.prototype.findReferringRowIds=function(o,s){var f=ut.from(this.schema).getReferencingForeignKeys(o.getName(),i.CASCADE);if(f===null)return null;var p=new Ge;return this.loopThroughReferringRows(f,s,function(w,_,B){var H=_.get(B);H.length>0&&p.setMany(w.childTable,H)}),p},u.prototype.loopThroughReferringRows=function(o,s,f){var p=this;o.forEach(function(w){var _=p.indexStore.get(w.name),B=p.getParentIndex(w);s.forEach(function(H){var ie=u.didColumnValueChange(H[0],H[1],B.getName());if(ie){var me=H[0],xe=me.keyOfIndex(B.getName());f(w,_,xe,H)}},p)},this)},u}(),qc=function(){function u(o){this.name=o,this.added=new Map,this.modified=new Map,this.deleted=new Map}return u.prototype.getName=function(){return this.name},u.prototype.getAdded=function(){return this.added},u.prototype.getModified=function(){return this.modified},u.prototype.getDeleted=function(){return this.deleted},u.prototype.add=function(o){if(this.deleted.has(o.id())){var s=[this.deleted.get(o.id()),o];this.modified.set(o.id(),s),this.deleted.delete(o.id())}else this.added.set(o.id(),o)},u.prototype.modify=function(o){var s=o[0],f=o[1];Y(s.id()===f.id(),"Row ID mismatch between old/new values.");var p=s.id();if(this.added.has(p))this.added.set(p,f);else if(this.modified.has(p)){var w=[this.modified.get(p)[0],f];this.modified.set(p,w)}else this.modified.set(p,o)},u.prototype.delete=function(o){if(this.added.has(o.id()))this.added.delete(o.id());else if(this.modified.has(o.id())){var s=this.modified.get(o.id())[0];this.modified.delete(o.id()),this.deleted.set(o.id(),s)}else this.deleted.set(o.id(),o)},u.prototype.merge=function(o){var s=this;o.added.forEach(function(f,p){return s.add(f)}),o.modified.forEach(function(f,p){return s.modify(f)}),o.deleted.forEach(function(f,p){return s.delete(f)})},u.prototype.getAsModifications=function(){var o=[];return this.added.forEach(function(s,f){return o.push([null,s])}),this.modified.forEach(function(s,f){return o.push(s)}),this.deleted.forEach(function(s,f){return o.push([s,null])}),o},u.prototype.toString=function(){return"["+Array.from(this.added.keys()).toString()+"], "+("["+Array.from(this.modified.keys()).toString()+"], ")+("["+Array.from(this.deleted.keys()).toString()+"]")},u.prototype.getReverse=function(){var o=new u(this.name);return this.added.forEach(function(s,f){return o.delete(s)}),this.deleted.forEach(function(s,f){return o.add(s)}),this.modified.forEach(function(s,f){o.modify([s[1],s[0]])}),o},u.prototype.isEmpty=function(){return this.added.size===0&&this.deleted.size===0&&this.modified.size===0},u}(),ha=function(){function u(o){this.cache=o.getService(Le.CACHE),this.indexStore=o.getService(Le.INDEX_STORE),this.schema=o.getService(Le.SCHEMA)}return u.prototype.update=function(o){var s=this;o.forEach(function(f){s.updateIndicesForDiff(f),s.updateCacheForDiff(f)},this)},u.prototype.updateTableIndicesForRow=function(o,s){var f=this,p=this.indexStore.getTableIndices(o.getName()),w=0;p.forEach(function(_){try{f.updateTableIndexForRow(_,s),w++}catch(B){throw p.slice(0,w).forEach(function(H){f.updateTableIndexForRow(H,[s[1],s[0]])},f),B}},this)},u.prototype.updateCacheForDiff=function(o){var s=this,f=o.getName();o.getDeleted().forEach(function(p,w){return s.cache.remove(f,w)}),o.getAdded().forEach(function(p,w){return s.cache.set(f,p)}),o.getModified().forEach(function(p,w){return s.cache.set(f,p[1])})},u.prototype.updateIndicesForDiff=function(o){var s=this,f=this.schema.table(o.getName()),p=o.getAsModifications();p.forEach(function(w){s.updateTableIndicesForRow(f,w)},this)},u.prototype.updateTableIndexForRow=function(o,s){var f=s[1]===null?void 0:s[1].keyOfIndex(o.getName()),p=s[0]===null?void 0:s[0].keyOfIndex(o.getName());if(p===void 0&&f!==void 0)o.add(f,s[1].id());else if(p!==void 0&&f!==void 0){if(f===null||p===null){if(f===p)return}else if(o.comparator().compare(p,f)===C.TIE)return;o.add(f,s[1].id()),o.remove(p,s[0].id())}else p!==void 0&&f===void 0&&o.remove(p,s[0].id())},u}(),Fo=function(){function u(o,s){var f=this;this.scope=new Map,s.forEach(function(p){return f.scope.set(p.getName(),p)}),this.schema=o.getService(Le.SCHEMA),this.cache=o.getService(Le.CACHE),this.indexStore=o.getService(Le.INDEX_STORE),this.constraintChecker=new Bo(o),this.inMemoryUpdater=new ha(o),this.terminated=!1,this.pendingRollback=!1,this.tableDiffs=new Map}return u.prototype.getDiff=function(){return this.tableDiffs},u.prototype.getIndexDiff=function(){var o=this,s=Array.from(this.tableDiffs.keys()).map(function(p){return o.scope.get(p)}),f=[];return s.forEach(function(p){var w=p;if(w.persistentIndex()){var _=w.getIndices();_.forEach(function(B){f.push(o.indexStore.get(B.getNormalizedName()))},o),f.push(o.indexStore.get(w.getName()+".#"))}},this),f},u.prototype.getScope=function(){return this.scope},u.prototype.insert=function(o,s){var f=this,p=o;this.assertJournalWritable(),this.checkScope(p),this.constraintChecker.checkNotNullable(p,s),this.constraintChecker.checkForeignKeysForInsert(p,s,a.IMMEDIATE),s.forEach(function(w){f.modifyRow(p,[null,w])},this)},u.prototype.update=function(o,s){var f=this,p=o;this.assertJournalWritable(),this.checkScope(p),this.constraintChecker.checkNotNullable(p,s);var w=s.map(function(_){var B=f.cache.get(_.id());return[B,_]},this);this.updateByCascade(p,w),this.constraintChecker.checkForeignKeysForUpdate(p,w,a.IMMEDIATE),w.forEach(function(_){return f.modifyRow(p,_)})},u.prototype.insertOrReplace=function(o,s){var f=this,p=o;this.assertJournalWritable(),this.checkScope(p),this.constraintChecker.checkNotNullable(p,s),s.forEach(function(w){var _=null,B=f.constraintChecker.findExistingRowIdInPkIndex(p,w);if(B!=null){_=f.cache.get(B),w.assignRowId(B);var H=[_,w];f.constraintChecker.checkForeignKeysForUpdate(p,[H],a.IMMEDIATE)}else f.constraintChecker.checkForeignKeysForInsert(p,[w],a.IMMEDIATE);f.modifyRow(p,[_,w])},this)},u.prototype.remove=function(o,s){var f=this,p=o;this.assertJournalWritable(),this.checkScope(p),this.removeByCascade(p,s),this.constraintChecker.checkForeignKeysForDelete(p,s,a.IMMEDIATE),s.forEach(function(w){f.modifyRow(p,[w,null])},this)},u.prototype.checkDeferredConstraints=function(){var o=this;this.tableDiffs.forEach(function(s,f){var p=o.scope.get(s.getName());o.constraintChecker.checkForeignKeysForInsert(p,Array.from(s.getAdded().values()),a.DEFERRABLE),o.constraintChecker.checkForeignKeysForDelete(p,Array.from(s.getDeleted().values()),a.DEFERRABLE),o.constraintChecker.checkForeignKeysForUpdate(p,Array.from(s.getModified().values()),a.DEFERRABLE)},this)},u.prototype.commit=function(){this.assertJournalWritable(),this.terminated=!0},u.prototype.rollback=function(){Y(!this.terminated,"Attempted to rollback a terminated journal.");var o=Array.from(this.tableDiffs.values()).map(function(s){return s.getReverse()});this.inMemoryUpdater.update(o),this.terminated=!0,this.pendingRollback=!1},u.prototype.assertJournalWritable=function(){Y(!this.pendingRollback,"Attempted to use journal that needs to be rolled back."),Y(!this.terminated,"Attempted to commit a terminated journal.")},u.prototype.checkScope=function(o){if(!this.scope.has(o.getName()))throw new M(b.OUT_OF_SCOPE,o.getName())},u.prototype.modifyRow=function(o,s){var f=o.getName(),p=this.tableDiffs.get(f)||new qc(f);this.tableDiffs.set(f,p);try{this.inMemoryUpdater.updateTableIndicesForRow(o,s)}catch(B){throw this.pendingRollback=!0,B}var w=s[0],_=s[1];w===null&&_!==null?(this.cache.set(f,_),p.add(_)):w!==null&&_!==null?(this.cache.set(f,_),p.modify(s)):w!==null&&_===null&&(this.cache.remove(f,w.id()),p.delete(w))},u.prototype.updateByCascade=function(o,s){var f=this,p=ut.from(this.schema).getReferencingForeignKeys(o.getName(),i.CASCADE);if(p!==null){var w=this.constraintChecker.detectCascadeUpdates(o,s,p);w.keys().forEach(function(_){var B=w.get(_);B.forEach(function(H){var ie=f.schema.table(H.fkSpec.childTable),me=f.cache.get(_),xe=ie.deserializeRow(me.serialize());xe.payload()[H.fkSpec.childColumn]=H.originalUpdatedRow.payload()[H.fkSpec.parentColumn],f.modifyRow(ie,[me,xe])},f)},this)}},u.prototype.removeByCascade=function(o,s){var f=this,p=ut.from(this.schema).getReferencingForeignKeys(o.getName(),i.CASCADE);if(p!==null){var w=this.constraintChecker.detectCascadeDeletion(o,s),_=w.rowIdsPerTable;w.tableOrder.forEach(function(B){var H=f.schema.table(B),ie=_.get(B).map(function(me){return f.cache.get(me)},f);f.constraintChecker.checkForeignKeysForDelete(H,ie,a.IMMEDIATE),ie.forEach(function(me){f.modifyRow(H,[me,null])},f)},this)}},u}(),pa=function(){function u(o,s){this.txType=o,this.journal=s||null,this.resolver=new We,this.success=!1,this.statsObject=null}return u.prototype.getJournal=function(){return this.journal},u.prototype.commit=function(){var o=this,s=this.txType===y.READ_ONLY?this.commitInternal():this.commitReadWrite();return s.then(function(f){return o.success=!0,f})},u.prototype.stats=function(){if(this.statsObject===null)if(!this.success)this.statsObject=Er.getDefault();else if(this.txType===y.READ_ONLY)this.statsObject=new Er(!0,0,0,0,0);else{var o=this.journal.getDiff(),s=0,f=0,p=0,w=0;o.forEach(function(_,B){w++,s+=_.getAdded().size,p+=_.getModified().size,f+=_.getDeleted().size}),this.statsObject=new Er(!0,s,p,f,w)}return this.statsObject},u.prototype.commitReadWrite=function(){var o=this;try{this.journal.checkDeferredConstraints()}catch(s){return Promise.reject(s)}return this.mergeIntoBackstore().then(function(s){return o.journal.commit(),s})},u.prototype.mergeIntoBackstore=function(){return this.mergeTableChanges(),this.mergeIndexChanges(),this.commitInternal()},u.prototype.mergeTableChanges=function(){var o=this,s=this.journal,f=s.getDiff();f.forEach(function(p,w){var _=s.getScope().get(w),B=o.getTable(_.getName(),_.deserializeRow.bind(_),A.DATA),H=Array.from(p.getDeleted().values()).map(function(xe){return xe.id()}),ie=Array.from(p.getModified().values()).map(function(xe){return xe[1]}).concat(Array.from(p.getAdded().values())),me=ie.length>0;H.length>0&&B.remove(H,me).then(function(){},function(xe){return o.resolver.reject(xe)}),B.put(ie).then(function(){},function(xe){return o.resolver.reject(xe)})},this)},u.prototype.mergeIndexChanges=function(){var o=this,s=this.journal.getIndexDiff();s.forEach(function(f){var p=o.getTable(f.getName(),z.deserialize,A.INDEX);p.remove([]),p.put(f.serialize())},this)},u}(),er=function(){function u(o,s){s===void 0&&(s={}),this.id=o,this.payload=s}return u.deserialize=function(o){return new u(o.id,JSON.parse(o.value))},u.toPageIds=function(o){var s=new Set;return o.forEach(function(f){return s.add(u.toPageId(f))}),Array.from(s.values())},u.toPageId=function(o){return o>>u.BUNDLE_EXPONENT},u.getPageRange=function(o){return[o<<u.BUNDLE_EXPONENT,(o+1<<u.BUNDLE_EXPONENT)-1]},u.prototype.getId=function(){return this.id},u.prototype.getPayload=function(){return this.payload},u.prototype.setRows=function(o){var s=this;o.forEach(function(f){return s.payload[f.id()]=f.serialize()})},u.prototype.removeRows=function(o){var s=this;o.forEach(function(f){return delete s.payload[f]})},u.prototype.serialize=function(){return{id:this.id,value:JSON.stringify(this.payload)}},u.BUNDLE_EXPONENT=9,u}(),jc=function(){function u(o,s,f){this.store=o,this.deserializeFn=s,this.retrievePageFn=f}return u.forTableType=function(o,s,f,p){var w=p===A.DATA?u.getDataTablePage.bind(null,o):u.getIndexTablePage;return new u(s,f,w)},u.getDataTablePage=function(o,s,f){var p=o.getService(Le.CACHE),w=er.getPageRange(f),_=p.getRange(s,w[0],w[1]),B=new er(f);return B.setRows(_),B},u.getIndexTablePage=function(o,s){return new er(s)},u.prototype.get=function(o){var s=this;return o.length===0?this.getAll():this.getPagesByRowIds(o).then(function(f){return o.map(function(p){var w=f.get(er.toPageId(p));return Y(w!==void 0,"Containing page is empty"),s.deserializeFn(w.getPayload()[p])})})},u.prototype.put=function(o){var s=this;if(o.length===0)return Promise.resolve();var f=new Map;o.forEach(function(w){var _=er.toPageId(w.id()),B=f.get(_)||null;B===null&&(B=s.retrievePageFn(s.store.name,_)),B.setRows([w]),f.set(_,B)},this);var p=Array.from(f.values()).map(function(w){return s.performWriteOp(function(){return s.store.put(w.serialize())})},this);return Promise.all(p).then(function(){})},u.prototype.remove=function(o,s){var f=this;if(o.length===0)return this.performWriteOp(function(){return f.store.clear()});var p=new Map;o.forEach(function(_){var B=er.toPageId(_),H=p.get(B)||null;H===null&&(H=f.retrievePageFn(f.store.name,B)),H.removeRows([_]),p.set(B,H)},this);var w=Array.from(p.values()).map(function(_){return f.performWriteOp(function(){return Object.keys(_.getPayload()).length===0?f.store.delete(_.getId()):f.store.put(_.serialize())})},this);return Promise.all(w).then(function(){})},u.prototype.getPagesByRowIds=function(o){var s=this,f=new Map,p=new We,w=er.toPageIds(o),_=w.map(function(B,H){return new Promise(function(ie,me){var xe;try{xe=s.store.get(B)}catch(Re){me(Re);return}xe.onerror=me,xe.onsuccess=function(Re){var je=er.deserialize(Re.target.result);f.set(je.getId(),je),ie()}})},this);return Promise.all(_).then(function(){return p.resolve(f)}),p.promise},u.prototype.getAll=function(){var o=this;return new Promise(function(s,f){var p=[],w;try{w=o.store.openCursor()}catch(_){f(_);return}w.onerror=f,w.onsuccess=function(){var _=w.result;if(_){var B=er.deserialize(_.value),H=B.getPayload();Object.keys(H).forEach(function(ie){return p.push(o.deserializeFn(H[ie]))}),_.continue()}else s(p)}})},u.prototype.performWriteOp=function(o){return new Promise(function(s,f){var p;try{p=o()}catch(w){f(w);return}p.onsuccess=function(w){return s()},p.onerror=f})},u}(),Kc=function(u){t(o,u);function o(s,f){var p=u.call(this)||this;p.global=s,p.tableDiffs=f,p.observerRegistry=p.global.getService(Le.OBSERVER_REGISTRY),p.runner=p.global.getService(Le.RUNNER),p.inMemoryUpdater=new ha(p.global);var w=p.global.getService(Le.SCHEMA),_=p.tableDiffs.map(function(B){return w.table(B.getName())});return p.scope=new Set(_),p.resolver=new We,p}return o.prototype.exec=function(){return this.inMemoryUpdater.update(this.tableDiffs),this.scheduleObserverTask(),Promise.resolve([])},o.prototype.getType=function(){return y.READ_WRITE},o.prototype.getScope=function(){return this.scope},o.prototype.getResolver=function(){return this.resolver},o.prototype.getId=function(){return this.getUniqueNumber()},o.prototype.getPriority=function(){return E.EXTERNAL_CHANGE_TASK},o.prototype.scheduleObserverTask=function(){var s=this.observerRegistry.getTaskItemsForTables(Array.from(this.scope.values()));if(s.length!==0){var f=new fr(this.global,s);this.runner.scheduleTask(f)}},o}(he),Vc=function(){function u(o){this.global=o,this.backStore=o.getService(Le.BACK_STORE),this.runner=o.getService(Le.RUNNER)}return u.prototype.startObserving=function(){this.backStore.subscribe(this.onChange.bind(this))},u.prototype.stopObserving=function(){this.backStore.unsubscribe(this.onChange.bind(this))},u.prototype.onChange=function(o){var s=new Kc(this.global,o);this.runner.scheduleTask(s)},u}(),Rs=function(){function u(o,s,f,p){this.version=o,this.db=s,this.tx=f,this.bundleMode=p}return u.convert=function(o){var s=null;return o instanceof ArrayBuffer?s=z.binToHex(o):o instanceof Date?s=o.getTime():s=o,s},u.prototype.getRawDBInstance=function(){return this.db},u.prototype.getRawTransaction=function(){return this.tx},u.prototype.dropTable=function(o){var s=this;return new Promise(function(f,p){try{s.db.deleteObjectStore(o)}catch(w){p(w);return}f()})},u.prototype.addTableColumn=function(o,s,f){var p=u.convert(f);return this.transformRows(o,function(w){w.payload()[s]=p})},u.prototype.dropTableColumn=function(o,s){return this.transformRows(o,function(f){delete f.payload()[s]})},u.prototype.renameTableColumn=function(o,s,f){return this.transformRows(o,function(p){p.payload()[f]=p.payload()[s],delete p.payload()[s]})},u.prototype.createRow=function(o){var s={};return Object.keys(o).forEach(function(f){s[f]=u.convert(o[f])}),z.create(s)},u.prototype.getVersion=function(){return this.version},u.prototype.dump=function(){for(var o=this.db.objectStoreNames,s=[],f=0;f<o.length;++f){var p=o.item(f);s.push(this.dumpTable(p))}return Promise.all(s).then(function(w){var _={};return w.forEach(function(B,H){_[o.item(H)]=B}),_})},u.prototype.openCursorForWrite=function(o,s,f){var p=this;return new Promise(function(w,_){var B,H;try{H=p.tx.objectStore(o),B=H.openCursor()}catch(ie){_(ie);return}B.onsuccess=function(ie){var me=B.result;me?(s(me),me.continue()):(f(H),w())},B.onerror=_})},u.prototype.transformRows=function(o,s){var f=function(_){var B=z.deserialize(_.value);s(B),_.update(B.serialize())},p=function(_){var B=er.deserialize(_.value),H=B.getPayload();Object.keys(H).forEach(function(ie){var me=z.deserialize(H[ie]);s(me),H[ie]=me.serialize()}),_.update(B.serialize())},w=function(){};return this.openCursorForWrite(o,this.bundleMode?p:f,w)},u.prototype.getTableRows=function(o){var s=this,f=[];return new Promise(function(p,w){var _;try{_=s.tx.objectStore(o).openCursor()}catch(B){w(B);return}_.onsuccess=function(B){var H=_.result;if(H){if(s.bundleMode){var ie=er.deserialize(H.value),me=ie.getPayload();Object.keys(me).forEach(function(xe){f.push(me[xe])})}else f.push(H.value);H.continue()}else p(f)},_.onerror=w})},u.prototype.dumpTable=function(o){return this.getTableRows(o).then(function(s){return s.map(function(f){return f.value})})},u}(),Gc=function(){function u(o,s){this.store=o,this.deserializeFn=s}return u.prototype.get=function(o){var s=this;if(o.length===0)return this.store.getAll?this.getAllBulk():this.getAllWithCursor();var f=o.map(function(p,w){return new Promise(function(_,B){var H;try{H=s.store.get(p)}catch(ie){B(ie);return}H.onerror=B,H.onsuccess=function(ie){_(s.deserializeFn(ie.target.result))}})},this);return Promise.all(f)},u.prototype.put=function(o){var s=this;if(o.length===0)return Promise.resolve();var f=o.map(function(p){return s.performWriteOp(function(){return s.store.put(p.serialize())})},this);return Promise.all(f).then(function(){})},u.prototype.remove=function(o,s){var f=this,p=function(){var w=o.map(function(_){return f.performWriteOp(function(){return f.store.delete(_)})});return Promise.all(w).then(function(){})};return s?p():new Promise(function(w,_){var B=f.store.count();B.onsuccess=function(H){if(o.length===0||H.target.result===o.length){f.performWriteOp(function(){return f.store.clear()}).then(w,_);return}p().then(w,_)},B.onerror=_})},u.prototype.getAllWithCursor=function(){var o=this;return new Promise(function(s,f){var p=[],w;try{w=o.store.openCursor()}catch(_){f(_);return}w.onerror=f,w.onsuccess=function(){var _=w.result;_?(p.push(o.deserializeFn(_.value)),_.continue()):s(p)}})},u.prototype.getAllBulk=function(){var o=this;return new Promise(function(s,f){var p;try{p=o.store.getAll()}catch(w){f(w);return}p.onerror=f,p.onsuccess=function(){var w=p.result.map(function(_){return o.deserializeFn(_)});s(w)}})},u.prototype.performWriteOp=function(o){return new Promise(function(s,f){var p;try{p=o()}catch(w){f(w);return}p.onsuccess=function(w){return s()},p.onerror=f})},u}(),jl=function(u){t(o,u);function o(s,f,p,w,_){var B=u.call(this,p,_)||this;return B.global=s,B.tx=f,B.bundleMode=w,B.tx.oncomplete=function(){B.resolver.resolve()},B.tx.onabort=function(H){B.resolver.reject(H)},B}return o.prototype.getTable=function(s,f,p){if(this.bundleMode){var w=p!=null?p:A.DATA;return jc.forTableType(this.global,this.tx.objectStore(s),f,w)}else return new Gc(this.tx.objectStore(s),f)},o.prototype.abort=function(){this.tx.abort()},o.prototype.commitInternal=function(){return this.resolver.promise},o}(pa),ks=function(){function u(o,s){this.global=o,this.schema=s,this.bundledMode=this.schema.pragma().enableBundledMode||!1}return u.prototype.init=function(o){var s=this,f=window.indexedDB;if(f==null)throw new M(b.IDB_NOT_PROVIDED);var p=o||function(w){return Promise.resolve()};return new Promise(function(w,_){var B;try{B=f.open(s.schema.name(),s.schema.version())}catch(H){_(H);return}B.onerror=function(H){var ie=H.target.error;_(new M(b.CANT_OPEN_IDB,ie.name,ie.message))},B.onupgradeneeded=function(H){s.onUpgradeNeeded(p,H).then(function(){},_)},B.onsuccess=function(H){s.db=H.target.result,s.scanRowId().then(function(ie){z.setNextIdIfGreater(ie+1),w(s.db)})}})},u.prototype.createTx=function(o,s,f){var p=this.db.transaction(this.getIndexedDBScope(s),o===y.READ_ONLY?"readonly":"readwrite");return new jl(this.global,p,o,this.bundledMode,f)},u.prototype.close=function(){this.db.close()},u.prototype.getTableInternal=function(o){throw new M(b.CANT_GET_IDB_TABLE)},u.prototype.subscribe=function(o){},u.prototype.unsubscribe=function(o){},u.prototype.notify=function(o){},u.prototype.supportsImport=function(){return!0},u.prototype.peek=function(){return this.db},u.prototype.onUpgradeNeeded=function(o,s){var f=s.target.result,p=s.target.transaction,w=new Rs(s.oldVersion,f,p,this.bundledMode);return this.removeIndexTables(f,p),this.createTables(f),o(w)},u.prototype.removeIndexTables=function(o,s){for(var f=[],p=0;p<o.objectStoreNames.length;++p){var w=o.objectStoreNames.item(p);w.indexOf(".")!==-1&&f.push(w)}f.forEach(function(_){try{o.deleteObjectStore(_)}catch{}})},u.prototype.createTables=function(o){var s=this;this.schema.tables().forEach(function(f){s.createObjectStoresForTable(o,f)},this)},u.prototype.createObjectStoresForTable=function(o,s){var f=this;if(o.objectStoreNames.contains(s.getName())||o.createObjectStore(s.getName(),{keyPath:"id"}),s.persistentIndex()){var p=s.getIndices();p.forEach(function(w){f.createIndexTable(o,w.getNormalizedName())},this),this.createIndexTable(o,s.getRowIdIndexName())}},u.prototype.createIndexTable=function(o,s){o.objectStoreNames.contains(s)||o.createObjectStore(s,{keyPath:"id"})},u.prototype.getIndexedDBScope=function(o){var s=new Set;return o.forEach(function(f){if(s.add(f.getName()),f.persistentIndex()){var p=f.getIndices();p.forEach(function(w){return s.add(w.getNormalizedName())}),s.add(f.getRowIdIndexName())}}),Array.from(s.values())},u.prototype.scanRowId=function(o){var s=this,f=this.schema.tables().map(function(ie){return ie.getName()}),p=this.db,w=0,_=function(ie){if(s.bundledMode){var me=er.deserialize(ie.value);return Object.keys(me.getPayload()).reduce(function(xe,Re){return Math.max(xe,Number(Re))},0)}return ie.key},B=function(ie){return new Promise(function(me,xe){var Re;try{var je=o||p.transaction([ie]);Re=je.objectStore(ie).openCursor(void 0,"prev")}catch(st){xe(st);return}Re.onsuccess=function(st){var Ze=st.target.result;Ze&&(w=Math.max(w,_(Ze))),me(w)},Re.onerror=function(){return me(w)}})},H=function(){if(f.length===0)return Promise.resolve();var ie=f.shift();return B(ie).then(H)};return new Promise(function(ie,me){H().then(function(){return ie(w)})})},u}();(function(u){t(o,u);function o(s,f,p){var w=u.call(this,f,p)||this;return w.store=s,f===y.READ_ONLY&&w.resolver.resolve(),w}return o.prototype.getTable=function(s,f,p){return this.store.getTableInternal(s)},o.prototype.abort=function(){this.resolver.reject()},o.prototype.commitInternal=function(){return this.store.commit(),this.resolver.resolve(),this.resolver.promise},o})(pa);var Uo=function(){function u(){this.data=new Map}return u.prototype.getSync=function(o){var s=this;if(o.length===0)return Array.from(this.data.values());var f=[];return o.forEach(function(p){var w=s.data.get(p)||null;w!==null&&f.push(w)},this),f},u.prototype.getData=function(){return this.data},u.prototype.get=function(o){return Promise.resolve(this.getSync(o))},u.prototype.putSync=function(o){var s=this;o.forEach(function(f){return s.data.set(f.id(),f)})},u.prototype.put=function(o){return this.putSync(o),Promise.resolve()},u.prototype.removeSync=function(o){var s=this;o.length===0||o.length===this.data.size?this.data.clear():o.forEach(function(f){return s.data.delete(f)})},u.prototype.remove=function(o){return this.removeSync(o),Promise.resolve()},u.prototype.getMaxRowId=function(){return this.data.size===0?0:Array.from(this.data.keys()).reduce(function(o,s){return o>s?o:s},0)},u}(),ma=function(){function u(o){this.schema=o,this.tables=new Map}return u.prototype.init=function(o){var s=this;return this.schema.tables().forEach(function(f){return s.initTable(f)},this),Promise.resolve()},u.prototype.getTableInternal=function(o){var s=this.tables.get(o)||null;if(s===null)throw new M(b.TABLE_NOT_FOUND,o);return s},u.prototype.createTx=function(o,s,f){return new ga(this,o,f)},u.prototype.close=function(){},u.prototype.subscribe=function(o){},u.prototype.unsubscribe=function(o){},u.prototype.notify=function(o){},u.prototype.supportsImport=function(){return!0},u.prototype.peek=function(){return this.tables},u.prototype.createTable=function(o){this.tables.has(o)||this.tables.set(o,new Uo)},u.prototype.initTable=function(o){var s=this;this.createTable(o.getName()),o.persistentIndex()&&(o.getIndices().forEach(function(f){s.createTable(f.getNormalizedName())},this),this.createTable(o.getRowIdIndexName()))},u}(),ga=function(u){t(o,u);function o(s,f,p){var w=u.call(this,f,p)||this;return w.store=s,f===y.READ_ONLY&&w.resolver.resolve(),w}return o.prototype.getTable=function(s,f,p){return this.store.getTableInternal(s)},o.prototype.abort=function(){this.resolver.reject()},o.prototype.commitInternal=function(){return this.resolver.resolve(),this.resolver.promise},o}(pa),On=function(u){t(o,u);function o(s){var f=u.call(this,s)||this;return f.observer=null,f}return o.prototype.subscribe=function(s){this.observer===null&&(this.observer=s)},o.prototype.unsubscribe=function(s){this.observer=null},o.prototype.notify=function(s){this.observer!==null&&this.observer(s)},o.prototype.supportsImport=function(){return!1},o}(ma),Hc=function(){function u(o,s,f){this.tx=o,this.deserializeFn=f,this.name='"'+s+'"'}return u.prototype.get=function(o){var s=o.length===0?"":"WHERE id IN ("+o.join(",")+")",f="SELECT id, value FROM "+this.name+" "+s,p=this.deserializeFn,w=function(_){for(var B=_,H=B.rows.length,ie=new Array(H),me=0;me<H;++me)ie[me]=p({id:B.rows.item(me).id,value:JSON.parse(B.rows.item(me).value)});return ie};return this.tx.queue(f,[],w)},u.prototype.put=function(o){var s=this;if(o.length===0)return Promise.resolve();var f="INSERT OR REPLACE INTO "+this.name+" (id, value) VALUES (?, ?)";return o.forEach(function(p){s.tx.queue(f,[p.id(),JSON.stringify(p.payload())])},this),Promise.resolve()},u.prototype.remove=function(o,s){var f=o.length===0?"":"WHERE id IN ("+o.join(",")+")",p="DELETE FROM "+this.name+" "+f;return this.tx.queue(p,[]),Promise.resolve()},u}(),tr=function(u){t(o,u);function o(s,f,p){var w=u.call(this,f,p)||this;return w.db=s,w.tables=new Map,w.commands=[],w}return o.escapeTableName=function(s){return s.replace(".",o.INDEX_MARK).replace("#","__s__")},o.prototype.getTable=function(s,f,p){var w=this.tables.get(s)||null;return w===null&&(w=new Hc(this,o.escapeTableName(s),f),this.tables.set(s,w)),w},o.prototype.queue=function(s,f,p){var w=new We;return this.commands.push({params:f,resolver:w,statement:s,transform:p}),w.promise},o.prototype.abort=function(){this.commands=[]},o.prototype.commitInternal=function(){var s=this,f=null,p=this.resolver.reject.bind(this.resolver),w=function(H,ie){return s.resolver.reject(ie),!1},_=[],B=function(H,ie){if(f!==null){var me=ie;f.transform&&ie!==null&&ie!==void 0&&(me=f.transform(ie)),_.push(me),f.resolver.resolve(me)}if(s.commands.length>0){var xe=s.commands.shift();f=xe,H.executeSql(xe.statement,xe.params,B,w)}else s.resolver.resolve(_)};return this.txType===y.READ_ONLY?this.db.readTransaction(B,p):this.db.transaction(B,p),this.resolver.promise},o.INDEX_MARK="__d__",o}(pa),Kl=function(){function u(o,s,f){this.global=o,this.version=s,this.db=f}return u.queueListTables=function(o){var s='SELECT tbl_name FROM sqlite_master WHERE type="table"';o.queue(s,[],function(f){for(var p=f.rows,w=new Array(p.length),_=0;_<w.length;++_)w[_]=p.item(_).tbl_name;return w})},u.prototype.getRawDBInstance=function(){return this.db},u.prototype.getRawTransaction=function(){throw new M(b.NO_WEBSQL_TX)},u.prototype.dropTable=function(o){var s=this.createTx();return s.queue("DROP TABLE "+o,[]),s.commit()},u.prototype.addTableColumn=function(o,s,f){var p=Rs.convert(f);return this.transformColumn(o,function(w){return w.value[s]=p,w})},u.prototype.dropTableColumn=function(o,s){return this.transformColumn(o,function(f){return delete f.value[s],f})},u.prototype.renameTableColumn=function(o,s,f){return this.transformColumn(o,function(p){return p.value[f]=p.value[s],delete p.value[s],p})},u.prototype.createRow=function(o){var s={};return Object.keys(o).forEach(function(f){s[f]=Rs.convert(o[f])}),z.create(s)},u.prototype.getVersion=function(){return this.version},u.prototype.dump=function(){var o=this,s=new We,f=this.createTx();u.queueListTables(f);var p={};return f.commit().then(function(w){var _=w,B=_[0].filter(function(ie){return ie!=="__lf_ver"&&ie!=="__WebKitDatabaseInfoTable__"}),H=B.map(function(ie){return o.dumpTable(ie).then(function(me){return p[ie]=me})},o);Promise.all(H).then(function(){return s.resolve(p)})}),s.promise},u.prototype.createTx=function(){return new tr(this.db,y.READ_WRITE,new Fo(this.global,new Set))},u.prototype.dumpTable=function(o){var s=this.createTx();return s.queue("SELECT id, value FROM "+o,[]),s.commit().then(function(f){for(var p=f,w=p[0].rows.length,_=new Array(w),B=0;B<w;++B)_[B]={id:p[0].rows.item(B).id,value:JSON.parse(p[0].rows.item(B).value)};return Promise.resolve(_)})},u.prototype.transformColumn=function(o,s){var f=this.createTx(),p="UPDATE "+o+" SET value=? WHERE id=?";return this.dumpTable(o).then(function(w){return w.forEach(function(_){var B=s(_);f.queue(p,[JSON.stringify(B.value),B.id])}),f.commit()})},u}(),Wo=function(){function u(o,s,f){this.global=o,this.schema=s,this.size=f||1}return u.escape=function(o){return'"'+o+'"'},u.prototype.init=function(o){var s=this;if(!window.openDatabase)throw new M(b.WEBSQL_NOT_PROVIDED);var f=function(w){return Promise.resolve()},p=o||f;return new Promise(function(w,_){var B=window.openDatabase(s.schema.name(),"",s.schema.name(),s.size);if(B)s.db=B,s.checkVersion(p).then(function(){s.scanRowId().then(w,_)},function(H){throw H instanceof M?H:new M(b.CANT_OPEN_WEBSQL_DB,H.message)});else throw new M(b.CANT_OPEN_WEBSQL_DB)})},u.prototype.initialized=function(){return this.db!==void 0&&this.db!==null},u.prototype.createTx=function(o,s,f){if(this.db)return new tr(this.db,o,f);throw new M(b.CONNECTION_CLOSED)},u.prototype.close=function(){},u.prototype.getTableInternal=function(o){throw new M(b.CANT_GET_WEBSQL_TABLE)},u.prototype.subscribe=function(o){this.notSupported()},u.prototype.unsubscribe=function(o){this.notSupported()},u.prototype.notify=function(o){this.notSupported()},u.prototype.supportsImport=function(){return!0},u.prototype.getEmptyJournal=function(){return new Fo(this.global,new Set)},u.prototype.checkVersion=function(o){var s=this,f="CREATE TABLE IF NOT EXISTS __lf_ver(id INTEGER PRIMARY KEY, v INTEGER)",p="SELECT v FROM __lf_ver WHERE id = 0",w=new We,_=new tr(this.db,y.READ_WRITE,this.getEmptyJournal());return _.queue(f,[]),_.queue(p,[]),_.commit().then(function(B){var H=B,ie=0;H[1].rows.length&&(ie=H[1].rows.item(0).v),ie<s.schema.version()?s.onUpgrade(o,ie).then(w.resolve.bind(w)):ie>s.schema.version()?w.reject(new M(b.INCOMPATIBLE_DB)):w.resolve()},w.reject.bind(w)),w.promise},u.prototype.notSupported=function(){throw new M(b.NO_CHANGE_NOTIFICATION)},u.prototype.onUpgrade=function(o,s){var f=this;return this.preUpgrade().then(function(){var p=new Kl(f.global,s,f.db);return o(p)})},u.prototype.preUpgrade=function(){var o=this.schema.tables(),s=new tr(this.db,y.READ_WRITE,this.getEmptyJournal()),f=new tr(this.db,y.READ_WRITE,this.getEmptyJournal());return s.queue("INSERT OR REPLACE INTO __lf_ver VALUES (0, ?)",[this.schema.version()]),Kl.queueListTables(s),s.commit().then(function(p){var w=p,_=w[1];_.filter(function(H){return H.indexOf(tr.INDEX_MARK)!==-1}).forEach(function(H){return f.queue("DROP TABLE "+u.escape(H),[])});var B=[];return o.map(function(H){if(_.indexOf(H.getName())===-1&&B.push(H.getName()),H.persistentIndex()){H.getIndices().forEach(function(me){var xe=tr.escapeTableName(me.getNormalizedName());B.push(xe)});var ie=tr.escapeTableName(H.getRowIdIndexName());B.push(ie)}}),B.forEach(function(H){f.queue("CREATE TABLE "+u.escape(H)+"(id INTEGER PRIMARY KEY, value TEXT)",[])}),f.commit()})},u.prototype.scanRowId=function(){var o=this,s=0,f=new We,p=function(_){var B=new tr(o.db,y.READ_ONLY);return B.queue("SELECT MAX(id) FROM "+u.escape(_),[]),B.commit().then(function(H){var ie=H,me=ie[0].rows.item(0)["MAX(id)"];s=Math.max(me,s)})},w=this.schema.tables().map(function(_){return p(_.getName())});return Promise.all(w).then(function(){z.setNextIdIfGreater(s+1),f.resolve()},function(_){f.reject(_)}),f.promise},u}(),Yc=function(){function u(){}return u.inspect=function(o,s,f,p){return o===null?u.listDb():s===null?u.listTables(o):u.inspectTable(o,s,f,p)},u.toString=function(o){var s="";try{s=JSON.stringify(o)}catch{}return s},u.getGlobal=function(o){var s=$.get(),f=new j("ns_"+o);return s.isRegistered(f)?s.getService(f):null},u.listDb=function(){var o=$.get(),s={};return o.listServices().forEach(function(f){if(f.substring(0,3)==="ns_"){var p=f.substring(3);s[p]=u.getGlobal(p).getService(Le.SCHEMA).version()}}),u.toString(s)},u.listTables=function(o){var s=u.getGlobal(o),f={};if(s!=null){var p=s.getService(Le.INDEX_STORE);s.getService(Le.SCHEMA).tables().forEach(function(w){var _=w;f[_.getName()]=p.get(_.getRowIdIndexName()).stats().totalRows})}return u.toString(f)},u.inspectTable=function(o,s,f,p){var w=u.getGlobal(o),_=[];if(w!=null){var B=null;try{B=w.getService(Le.SCHEMA).table(s)}catch{}if(B!=null){var H=w.getService(Le.INDEX_STORE),ie=w.getService(Le.CACHE),me=H.get(B.getRowIdIndexName()).getRange(void 0,!1,f,p);me.length&&(_=ie.getMany(me).map(function(xe){return xe.payload()}))}}return u.toString(_)},u}(),Jc=function(){function u(o){var s=this;this.map=new Map,this.tableRows=new Map,o.tables().forEach(function(f){s.tableRows.set(f.getName(),new Set)},this)}return u.prototype.set=function(o,s){this.map.set(s.id(),s),this.getTableRowSet(o).add(s.id())},u.prototype.setMany=function(o,s){var f=this,p=this.getTableRowSet(o);s.forEach(function(w){f.map.set(w.id(),w),p.add(w.id())},this)},u.prototype.get=function(o){return this.map.get(o)||null},u.prototype.getMany=function(o){var s=this;return o.map(function(f){return s.get(f)})},u.prototype.getRange=function(o,s,f){var p=this,w=[],_=Math.min(s,f),B=Math.max(s,f),H=this.getTableRowSet(o);if(H.size<B-_)H.forEach(function(xe){if(xe>=_&&xe<=B){var Re=p.map.get(xe);Y(Re!=null,"Inconsistent cache 1"),w.push(Re)}},this);else for(var ie=_;ie<=B;++ie)if(!!H.has(ie)){var me=this.map.get(ie);Y(me!=null,"Inconsistent cache 2"),w.push(me)}return w},u.prototype.remove=function(o,s){this.map.delete(s),this.getTableRowSet(o).delete(s)},u.prototype.removeMany=function(o,s){var f=this,p=this.getTableRowSet(o);s.forEach(function(w){f.map.delete(w),p.delete(w)},this)},u.prototype.getCount=function(o){return o?this.getTableRowSet(o).size:this.map.size},u.prototype.clear=function(){this.map.clear(),this.tableRows.clear()},u.prototype.getTableRowSet=function(o){var s=this.tableRows.get(o);return s},u}(),Ps=function(){function u(){}return u.hashCode=function(o){for(var s=0,f=0;f<o.length;++f)s=(s<<5)-s+o.charCodeAt(f),s=s&s;return s},u.hashArray=function(o){var s=o.map(function(f){return f!=null?u.hashCode(f.toString()).toString(32):""});return s.join("_")},u.slice=function(o,s,f,p){var w=s?o.reverse():o;if(f==null&&p==null)return w;var _=Math.min(f!==void 0?f:w.length,w.length);if(_===0)return[];var B=Math.min(p||0,w.length);return w.slice(B,B+_)},u}(),yo=function(){function u(o,s,f,p){this.name=o,this.comparatorObj=s,this.uniqueKeyOnly=f,this.root=void 0,this.statsObj=new se,p?this.root=$o.fromData(this,p):this.clear()}return u.deserialize=function(o,s,f,p){var w=new u(s,o,f),_=$o.deserialize(p,w);return w.root=_,w},u.prototype.getName=function(){return this.name},u.prototype.toString=function(){return this.root.toString()},u.prototype.add=function(o,s){this.root=this.root.insert(o,s)},u.prototype.set=function(o,s){this.root=this.root.insert(o,s,!0)},u.prototype.remove=function(o,s){this.root=this.root.remove(o,s)},u.prototype.get=function(o){return this.root.get(o)},u.prototype.cost=function(o){if(o==null)return this.stats().totalRows;if(o instanceof O){if(o.isAll())return this.stats().totalRows;if(o.isOnly())return this.get(o.from).length}return this.getRange([o]).length},u.prototype.stats=function(){return this.statsObj},u.prototype.getRange=function(o,s,f,p){var w=this,_=this.root.getLeftMostNode().keys[0];if(_===void 0||f===0)return u.EMPTY;var B=s||!1,H=f!=null?Math.min(f,this.stats().totalRows):this.stats().totalRows,ie=p||0,me=Math.min(Math.max(this.stats().totalRows-ie,0),H);if(me===0)return u.EMPTY;if(o===void 0||o.length===1&&o[0]instanceof O&&o[0].isAll())return this.getAll(me,B,H,ie);var xe=this.comparator().sortKeyRanges(o),Re=new Array(B?this.stats().totalRows:me),je={count:0,limit:Re.length,reverse:B,skip:ie},st=this.comparator().keyDimensions()>1;return xe.forEach(function(Ze){for(var xt=w.comparator().rangeToKeys(Ze),Zt=w.comparator().isLeftOpen(Ze)?_:xt[0],Bt=w.root.getContainingLeaf(Zt),Rn=0;Bt!=null&&je.count<je.limit;)st?Bt.getRangeWithFilter(Ze,je,Re):Bt.getRange(Ze,je,Re),je.skip===0&&!Bt.isFirstKeyInRange(Ze)?Rn++:Rn=0,Bt=Rn===2?null:Bt.next},this),Re.length>je.count&&Re.splice(je.count,Re.length-je.count),B?Ps.slice(Re,B,H,ie):Re},u.prototype.clear=function(){this.root=$o.create(this),this.stats().clear()},u.prototype.containsKey=function(o){return this.root.containsKey(o)},u.prototype.min=function(){return this.minMax(this.comparatorObj.min.bind(this.comparatorObj))},u.prototype.max=function(){return this.minMax(this.comparatorObj.max.bind(this.comparatorObj))},u.prototype.isUniqueKey=function(){return this.uniqueKeyOnly},u.prototype.comparator=function(){return this.comparatorObj},u.prototype.eq=function(o,s){return o!=null?this.comparator().compare(o,s)===C.TIE:!1},u.prototype.serialize=function(){return $o.serialize(this.root.getLeftMostNode())},u.prototype.getAll=function(o,s,f,p){var w=s?this.stats().totalRows-o-p:p,_=new Array(o),B={count:o,offset:w,startIndex:0};return this.root.fill(B,_),s?_.reverse():_},u.prototype.checkNullKey=function(o,s){if(!this.comparator().comparable(o.keys[s]))if(Array.isArray(o.keys[s])){if(o.keys[s][0]===null)return null}else return null;return[o.keys[s],this.uniqueKeyOnly?[o.values[s]]:o.values[s]]},u.prototype.findLeftMost=function(){var o=this.root.getLeftMostNode(),s=0;do{if(s>=o.keys.length){o=o.next,s=0;continue}var f=this.checkNullKey(o,s);if(f!==null)return f;s++}while(o!==null);return null},u.prototype.findRightMost=function(){var o=this.root.getRightMostNode(),s=o.keys.length-1;do{if(s<0){o=o.prev,s=0;continue}var f=this.checkNullKey(o,s);if(f!==null)return f;s--}while(o!==null);return null},u.prototype.minMax=function(o){var s=this.findLeftMost(),f=this.findRightMost();return s===null||f===null?null:o(s[0],f[0])===C.LHS?s:f},u.EMPTY=[],u}(),$o=function(){function u(o,s){this.id=o,this.tree=s,this.height=0,this.parent=null,this.prev=null,this.next=null,this.keys=[],this.values=[],this.children=[],this.getContainingLeaf=s.comparator().keyDimensions()===1?this.getContainingLeafSingleKey:this.getContainingLeafMultiKey}return u.create=function(o){return new u(z.getNextId(),o)},u.serialize=function(o){for(var s=[],f=o;f;){var p={k:f.keys,v:f.values};s.push(new z(f.id,p)),f=f.next}return s},u.deserialize=function(o,s){for(var f=s.stats(),p=o.map(function(_){var B=new u(_.id(),s);return B.keys=_.payload().k,B.values=_.payload().v,B.keys.forEach(function(H,ie){f.add(H,s.isUniqueKey()?1:B.values[ie].length)}),B}),w=0;w<p.length-1;++w)u.associate(p[w],p[w+1]);return p.length>1?u.createInternals(p[0]):p[0]},u.fromData=function(o,s){var f=u.MAX_KEY_LEN;if(f=f*f*f,s.length>=f)throw new M(b.TOO_MANY_ROWS,f.toString());var p=u.createLeaves(o,s);return p=u.createInternals(p),p},u.dumpLevel=function(o){var s=o.id+"["+o.keys.join("|")+"]",f=o.children.map(function(H){return H.id}).join("|"),p=o.values.join("/"),w=function(H){return H!=null?H.id.toString():"_"},_=w(o.prev)+"{";if(_+=o.isLeaf()?p:f,_=_+"}"+w(o.parent),o.next){var B=u.dumpLevel(o.next);s=s+"  "+B[0],_=_+"  "+B[1]}return[s,_]},u.associate=function(o,s){s&&(s.prev=o),o&&(o.next=s)},u.calcNodeLen=function(o){var s=u.MAX_KEY_LEN,f=u.MIN_KEY_LEN+1;return o>=s+f?s:o>=f&&o<=s?o:f},u.createLeaves=function(o,s){for(var f=s.length,p=0,w=u.create(o),_=w;f>0;){var B=u.calcNodeLen(f),H=s.slice(p,p+B);if(w.keys=H.map(function(me){return me.key}),w.values=H.map(function(me){return me.value}),p+=B,f-=B,f>0){var ie=u.create(w.tree);u.associate(w,ie),w=ie}}return _},u.createParent=function(o){var s=o[0],f=u.create(s.tree);return f.height=s.height+1,f.children=o,o.forEach(function(p,w){p.parent=f,w>0&&f.keys.push(p.keys[0])}),f},u.createInternals=function(o){var s=o,f=[];do f.push(s),s=s.next;while(s);var p;if(f.length<=u.MAX_KEY_LEN+1)p=u.createParent(f);else{var w=f.length,_=0;for(p=u.create(o.tree),p.height=o.height+2;w>0;){var B=u.calcNodeLen(w),H=f.slice(_,_+B),ie=u.createParent(H);ie.parent=p,p.children.length&&(p.keys.push(H[0].keys[0]),u.associate(p.children[p.children.length-1],ie)),p.children.push(ie),_+=B,w-=B}}return p},u.leftMostKey=function(o){return o.isLeaf()?o.keys[0]:u.leftMostKey(o.children[0])},u.prototype.toString=function(){var o="",s=u.dumpLevel(this);return o+=s[0]+`
`+s[1]+`
`,this.children.length&&(o+=this.children[0].toString()),o},u.prototype.getLeftMostNode=function(){return this.isLeaf()?this:this.children[0].getLeftMostNode()},u.prototype.getRightMostNode=function(){return this.isLeaf()?this:this.children[this.children.length-1].getRightMostNode()},u.prototype.get=function(o){var s=this.searchKey(o);if(this.isLeaf()){var f=yo.EMPTY;return this.tree.eq(this.keys[s],o)&&(f=f.concat(this.values[s])),f}else return s=this.tree.eq(this.keys[s],o)?s+1:s,this.children[s].get(o)},u.prototype.containsKey=function(o){var s=this.searchKey(o);return this.tree.eq(this.keys[s],o)?!0:this.isLeaf()?!1:this.children[s].containsKey(o)},u.prototype.remove=function(o,s){if(this.delete(o,-1,s),this.isRoot()){var f=this;return this.children.length===1&&(f=this.children[0],f.parent=null),f}return this},u.prototype.insert=function(o,s,f){f===void 0&&(f=!1);var p=this.searchKey(o);if(this.isLeaf()){if(this.tree.eq(this.keys[p],o)){if(f)this.tree.stats().remove(o,this.tree.isUniqueKey()?1:this.values[p].length),this.values[p]=this.tree.isUniqueKey()?s:[s];else{if(this.tree.isUniqueKey())throw new M(b.DUPLICATE_KEYS,this.tree.getName(),JSON.stringify(o));if(!pt.binaryInsert(this.values[p],s))throw new M(b.ROW_ID_EXISTED)}return this.tree.stats().add(o,1),this}return this.keys.splice(p,0,o),this.values.splice(p,0,this.tree.isUniqueKey()?s:[s]),this.tree.stats().add(o,1),this.keys.length===u.MAX_COUNT?this.splitLeaf():this}else{p=this.tree.eq(this.keys[p],o)?p+1:p;var w=this.children[p].insert(o,s,f);return!w.isLeaf()&&w.keys.length===1&&(this.keys.splice(p,0,w.keys[0]),w.children[1].parent=this,w.children[0].parent=this,this.children.splice(p,1,w.children[1]),this.children.splice(p,0,w.children[0])),this.keys.length===u.MAX_COUNT?this.splitInternal():this}},u.prototype.getRange=function(o,s,f){var p=this.tree.comparator(),w=0,_=this.keys.length-1,B=function(st){return st[0]?st[1]?C.TIE:C.LHS:C.RHS},H=this.keys,ie=B(p.compareRange(H[w],o)),me=B(p.compareRange(H[_],o));if(!(ie===C.LHS||ie===C.RHS&&me===C.RHS)){var xe=function(st,Ze){var xt=st+Ze>>1;return xt===st?xt+1:xt},Re=function(st,Ze,xt){if(st>=Ze)return xt===C.TIE?Ze:-1;var Zt=B(p.compareRange(H[st],o));if(Zt===C.TIE)return st;if(Zt===C.LHS)return-1;var Bt=xe(st,Ze);if(Bt===Ze)return xt===C.TIE?Ze:-1;var Rn=B(p.compareRange(H[Bt],o));return Rn===C.TIE?Re(st,Bt,Rn):Rn===C.RHS?Re(Bt+1,Ze,xt):Re(st+1,Bt,Rn)},je=function(st,Ze){if(st>=Ze)return st;var xt=B(p.compareRange(H[Ze],o));if(xt===C.TIE)return Ze;if(xt===C.RHS)return st;var Zt=xe(st,Ze);if(Zt===Ze)return st;var Bt=B(p.compareRange(H[Zt],o));return Bt===C.TIE?je(Zt,Ze):Bt===C.LHS?je(st,Zt-1):-1};ie!==C.TIE&&(w=Re(w+1,_,me)),w!==-1&&(_=je(w,_),_!==-1&&_>=w&&this.appendResults(s,f,w,_+1))}},u.prototype.getRangeWithFilter=function(o,s,f){for(var p=this.tree.comparator(),w=-1,_=0;_<this.keys.length;++_)if(p.isInRange(this.keys[_],o)){w=_;break}if(w!==-1)for(var _=w;_<this.keys.length&&s.count<s.limit;++_)!p.isInRange(this.keys[_],o)||this.appendResultsAt(s,f,_)},u.prototype.fill=function(o,s){if(this.isLeaf())for(var f=0;f<this.values.length&&o.count>0;++f){var p=this.values[f];if(o.offset>0){if(o.offset-=this.tree.isUniqueKey()?1:p.length,o.offset<0)for(var w=p.length+o.offset;w<p.length&&o.count>0;++w)s[o.startIndex++]=p[w],o.count--;continue}if(this.tree.isUniqueKey())s[o.startIndex++]=this.values[f],o.count--;else for(var w=0;w<p.length&&o.count>0;++w)s[o.startIndex++]=p[w],o.count--}else for(var f=0;f<this.children.length&&o.count>0;++f)this.children[f].fill(o,s)},u.prototype.isFirstKeyInRange=function(o){return this.tree.comparator().isFirstKeyInRange(this.keys[0],o)},u.prototype.isLeaf=function(){return this.height===0},u.prototype.isRoot=function(){return this.parent===null},u.prototype.fix=function(){this.keys=[];for(var o=1;o<this.children.length;++o)this.keys.push(u.leftMostKey(this.children[o]))},u.prototype.delete=function(o,s,f){var p=this.searchKey(o),w=this.isLeaf();if(w){if(!this.tree.eq(this.keys[p],o))return!1}else{var _=this.tree.eq(this.keys[p],o)?p+1:p;if(this.children[_].delete(o,_,f))this.fix();else return!1}if(this.keys.length>p&&this.tree.eq(this.keys[p],o)){if(f!==void 0&&!this.tree.isUniqueKey()&&w){pt.binaryRemove(this.values[p],f)&&this.tree.stats().remove(o,1);var B=this.values[p].length;if(B)return!1}if(this.keys.splice(p,1),w){var H=this.tree.isUniqueKey()?1:this.values[p].length;this.values.splice(p,1),this.tree.stats().remove(o,H)}}return this.keys.length<u.MIN_KEY_LEN&&!this.isRoot()&&(this.steal()||this.merge(s)),!0},u.prototype.steal=function(){var o=null,s,f,p;if(this.next&&this.next.keys.length>u.MIN_KEY_LEN)o=this.next,s=0,f=0,p=this.keys.length+1;else if(this.prev&&this.prev.keys.length>u.MIN_KEY_LEN)o=this.prev,s=this.prev.keys.length-1,f=this.isLeaf()?s:s+1,p=0;else return!1;this.keys.splice(p,0,o.keys[s]),o.keys.splice(s,1);var w=this.isLeaf()?this.values:this.children,_=null;return this.isLeaf()?_=o.values:(_=o.children,_[f].parent=this),w.splice(p,0,_[f]),_.splice(f,1),o.isLeaf()||(o.fix(),this.fix()),!0},u.prototype.merge=function(o){var s,f,p,w,_,B;if(this.next&&this.next.keys.length<u.MAX_KEY_LEN)w=this.next,_=0,B=0;else if(this.prev)w=this.prev,_=w.keys.length,B=w.isLeaf()?w.values.length:w.children.length;else throw new M(b.ASSERTION);(s=w.keys).splice.apply(s,r([_,0],this.keys));var H=null;this.isLeaf()?H=this.values:(H=this.children,H.forEach(function(ie){return ie.parent=w})),w.isLeaf()?(f=w.values).splice.apply(f,r([B,0],H)):(p=w.children).splice.apply(p,r([B,0],H)),u.associate(this.prev,this.next),w.isLeaf()||w.fix(),o!==-1&&(this.parent.keys.splice(o,1),this.parent.children.splice(o,1))},u.prototype.splitLeaf=function(){var o=u.MIN_KEY_LEN,s=u.create(this.tree),f=u.create(this.tree);return f.height=1,f.keys=[this.keys[o]],f.children=[this,s],f.parent=this.parent,this.parent=f,s.keys=this.keys.splice(o),s.values=this.values.splice(o),s.parent=f,u.associate(s,this.next),u.associate(this,s),f},u.prototype.splitInternal=function(){var o=u.MIN_KEY_LEN,s=u.create(this.tree),f=u.create(this.tree);return s.parent=this.parent,s.height=this.height+1,s.keys=[this.keys[o]],s.children=[this,f],this.keys.splice(o,1),f.parent=s,f.height=this.height,f.keys=this.keys.splice(o),f.children=this.children.splice(o+1),f.children.forEach(function(p){return p.parent=f}),this.parent=s,u.associate(f,this.next),u.associate(this,f),s},u.prototype.searchKey=function(o){for(var s=0,f=this.keys.length,p=this.tree.comparator();s<f;){var w=s+f>>1;p.compare(this.keys[w],o)===C.RHS?s=w+1:f=w}return s},u.prototype.getContainingLeafSingleKey=function(o){if(!this.isLeaf()){var s=this.searchKey(o);return this.tree.eq(this.keys[s],o)&&s++,this.children[s].getContainingLeaf(o)}return this},u.prototype.getContainingLeafMultiKey=function(o){if(!this.isLeaf()){var s=this.searchKey(o);if(this.tree.eq(this.keys[s],o)){var f=o.some(function(p){return p===O.UNBOUND_VALUE});f||s++}return this.children[s].getContainingLeafMultiKey(o)}return this},u.prototype.appendResultsAt=function(o,s,f){if(this.tree.isUniqueKey()){if(!o.reverse&&o.skip){o.skip--;return}s[o.count++]=this.values[f]}else for(var p=this.values[f],w=0;w<p.length&&o.count<s.length;++w){if(!o.reverse&&o.skip){o.skip--;continue}s[o.count++]=p[w]}},u.prototype.appendResults=function(o,s,f,p){for(var w=f;w<p;++w){if(!o.reverse&&o.count>=o.limit)return;this.appendResultsAt(o,s,w)}},u.MAX_COUNT=512,u.MAX_KEY_LEN=u.MAX_COUNT-1,u.MIN_KEY_LEN=u.MAX_COUNT>>1,u}(),$i=function(){function u(o){this.compareFn=o===d.DESC?u.compareDescending:u.compareAscending,this.normalizeKeyRange=o===d.DESC?function(s){return s!=null?s.reverse():null}:function(s){return s||null},this.orderRange=o===d.DESC?u.orderRangeDescending:u.orderRangeAscending}return u.compareAscending=function(o,s){return o>s?C.LHS:o<s?C.RHS:C.TIE},u.compareDescending=function(o,s){return u.compareAscending(s,o)},u.orderRangeAscending=function(o,s){return O.compare(o,s)},u.orderRangeDescending=function(o,s){return O.compare(s,o)},u.prototype.compareRange=function(o,s){var f=0,p=1,w=this.normalizeKeyRange(s),_=[O.isUnbound(w.from),O.isUnbound(w.to)];if(!_[f]){var B=this.compareFn(o,w.from);_[f]=w.excludeLower?B===C.LHS:B!==C.RHS}if(!_[p]){var B=this.compareFn(o,w.to);_[p]=w.excludeUpper?B===C.RHS:B!==C.LHS}return _},u.prototype.compare=function(o,s){return this.compareFn(o,s)},u.prototype.min=function(o,s){return o<s?C.LHS:o===s?C.TIE:C.RHS},u.prototype.max=function(o,s){return o>s?C.LHS:o===s?C.TIE:C.RHS},u.prototype.isInRange=function(o,s){var f=this.compareRange(o,s);return f[0]&&f[1]},u.prototype.isFirstKeyInRange=function(o,s){return this.isInRange(o,s)},u.prototype.getAllRange=function(){return O.all()},u.prototype.orderKeyRange=function(o,s){return this.orderRange(o,s)},u.prototype.sortKeyRanges=function(o){var s=this;return o.filter(function(f){return f!==null}).sort(function(f,p){return s.orderKeyRange(f,p)})},u.prototype.isLeftOpen=function(o){return O.isUnbound(this.normalizeKeyRange(o).from)},u.prototype.rangeToKeys=function(o){var s=this.normalizeKeyRange(o);return[s.from,s.to]},u.prototype.comparable=function(o){return o!==null},u.prototype.keyDimensions=function(){return 1},u.prototype.toString=function(){return this.compare===u.compareDescending?"SimpleComparator_DESC":"SimpleComparator_ASC"},u}(),Vl=function(){function u(o){this.comparators=o.map(function(s){return new $i(s)})}return u.createOrders=function(o,s){for(var f=new Array(o),p=0;p<o;++p)f[p]=s;return f},u.prototype.compare=function(o,s){var f=o,p=s;return this.forEach(f,p,function(w,_,B){return _===O.UNBOUND_VALUE||B===O.UNBOUND_VALUE?C.TIE:w.compare(_,B)})},u.prototype.min=function(o,s){var f=o,p=s;return this.forEach(f,p,function(w,_,B){return w.min(_,B)})},u.prototype.max=function(o,s){var f=o,p=s;return this.forEach(f,p,function(w,_,B){return w.max(_,B)})},u.prototype.compareRange=function(o,s){for(var f=o,p=[!0,!0],w=0;w<this.comparators.length&&(p[0]||p[1]);++w){var _=this.comparators[w].compareRange(f[w],s[w]);p[0]=p[0]&&_[0],p[1]=p[1]&&_[1]}return p},u.prototype.isInRange=function(o,s){for(var f=o,p=!0,w=0;w<this.comparators.length&&p;++w)p=this.comparators[w].isInRange(f[w],s[w]);return p},u.prototype.isFirstKeyInRange=function(o,s){var f=o;return this.comparators[0].isInRange(f[0],s[0])},u.prototype.getAllRange=function(){return this.comparators.map(function(o){return o.getAllRange()})},u.prototype.sortKeyRanges=function(o){for(var s=this,f=o.filter(function(ie){return ie.every(function(me){return me!=null})}),p=new Array(this.comparators.length),w=function(ie){p[ie]=f.map(function(me){return me[ie]})},_=0;_<p.length;_++)w(_);p.forEach(function(ie,me){ie.sort(function(xe,Re){return s.comparators[me].orderKeyRange(xe,Re)})},this);for(var B=new Array(f.length),H=function(ie){B[ie]=p.map(function(me){return me[ie]})},_=0;_<B.length;_++)H(_);return B.sort(function(ie,me){for(var xe=C.TIE,Re=0;Re<s.comparators.length&&xe===C.TIE;++Re)xe=s.comparators[Re].orderKeyRange(ie[Re],me[Re]);return xe})},u.prototype.isLeftOpen=function(o){return this.comparators[0].isLeftOpen(o[0])},u.prototype.rangeToKeys=function(o){var s=this,f=o.map(function(w,_){return s.comparators[_].rangeToKeys(w)[0]}),p=o.map(function(w,_){return s.comparators[_].rangeToKeys(w)[1]});return[f,p]},u.prototype.comparable=function(o){var s=this;return o.every(function(f,p){return s.comparators[p].comparable(f)})},u.prototype.keyDimensions=function(){return this.comparators.length},u.prototype.forEach=function(o,s,f){for(var p=C.TIE,w=0;w<this.comparators.length&&p===C.TIE;++w)p=f(this.comparators[w],o[w],s[w]);return p},u}(),Qc=function(u){t(o,u);function o(s){var f=u.call(this,s)||this;return f.compareFn=s===d.DESC?o.compareDescending:o.compareAscending,f}return o.compareAscending=function(s,f){return s===null?f===null?C.TIE:C.RHS:f===null?C.LHS:$i.compareAscending(s,f)},o.compareDescending=function(s,f){return o.compareAscending(f,s)},o.prototype.isInRange=function(s,f){return s===null?f.isAll():u.prototype.isInRange.call(this,s,f)},o.prototype.min=function(s,f){var p=this.minMax(s,f);return p===null?u.prototype.min.call(this,s,f):p},o.prototype.max=function(s,f){var p=this.minMax(s,f);return p===null?u.prototype.max.call(this,s,f):p},o.prototype.minMax=function(s,f){return s===null?f===null?C.TIE:C.RHS:f===null?C.LHS:null},o}($i),Xc=function(u){t(o,u);function o(s){var f=u.call(this,s)||this;return f.comparators=s.map(function(p){return new Qc(p)}),f}return o}(Vl),Gl=function(){function u(){}return u.create=function(o){if(o.columns.length===1)return new $i(o.columns[0].order);var s=o.columns.map(function(p){return p.order}),f=o.columns.some(function(p){return p.schema.isNullable()});return f?new Xc(s):new Vl(s)},u}(),Ds=function(){function u(o){this.index=o,this.nulls=new Set,this.statsNull=new se,this.statsObj=new se}return u.deserialize=function(o,s){for(var f=-1,p=0;p<s.length;++p)if(s[p].id()===u.NULL_ROW_ID){f=p;break}if(f===-1)throw new M(b.DATA_CORRUPTION);var w=s[f].payload().v,_=s.slice(0);_.splice(f,1);var B=o(_),H=new u(B);return w.forEach(function(ie){return H.nulls.add(ie)}),H},u.prototype.getName=function(){return this.index.getName()},u.prototype.add=function(o,s){o===null?(this.nulls.add(s),this.statsNull.add(o,1)):this.index.add(o,s)},u.prototype.set=function(o,s){o===null?(this.nulls.clear(),this.statsNull.clear(),this.add(o,s)):this.index.set(o,s)},u.prototype.remove=function(o,s){o===null?s?(this.nulls.delete(s),this.statsNull.remove(o,1)):(this.nulls.clear(),this.statsNull.clear()):this.index.remove(o,s)},u.prototype.get=function(o){return o===null?Array.from(this.nulls.values()):this.index.get(o)},u.prototype.min=function(){return this.index.min()},u.prototype.max=function(){return this.index.max()},u.prototype.cost=function(o){return this.index.cost(o)},u.prototype.getRange=function(o,s,f,p){var w=this.index.getRange(o,s,f,p);return o!=null?w:w.concat(Array.from(this.nulls.values()))},u.prototype.clear=function(){this.nulls.clear(),this.index.clear()},u.prototype.containsKey=function(o){return o===null?this.nulls.size!==0:this.index.containsKey(o)},u.prototype.serialize=function(){var o=[new z(u.NULL_ROW_ID,{v:Array.from(this.nulls.values())})];return o.concat(this.index.serialize())},u.prototype.comparator=function(){return this.index.comparator()},u.prototype.isUniqueKey=function(){return this.index.isUniqueKey()},u.prototype.stats=function(){return this.statsObj.updateFromList([this.index.stats(),this.statsNull]),this.statsObj},u.NULL_ROW_ID=-2,u}(),Ls=function(){function u(o){this.name=o,this.rows=new Set,this.comparatorObj=new $i(d.ASC)}return u.deserialize=function(o,s){var f=new u(o),p=s[0].payload().v;return p.forEach(function(w){return f.add(w,w)}),f},u.prototype.getName=function(){return this.name},u.prototype.add=function(o,s){if(typeof o!="number")throw new M(b.INVALID_ROW_ID);this.rows.add(o)},u.prototype.set=function(o,s){this.add(o,s)},u.prototype.remove=function(o,s){this.rows.delete(o)},u.prototype.get=function(o){return this.containsKey(o)?[o]:u.EMPTY_ARRAY},u.prototype.min=function(){return this.minMax(this.comparatorObj.min.bind(this.comparatorObj))},u.prototype.max=function(){return this.minMax(this.comparatorObj.max.bind(this.comparatorObj))},u.prototype.cost=function(o){return this.rows.size},u.prototype.getRange=function(o,s,f,p){var w=this,_=o||[O.all()],B=Array.from(this.rows.values()).filter(function(H){return _.some(function(ie){return w.comparatorObj.isInRange(H,ie)})},this);return Ps.slice(B,s,f,p)},u.prototype.clear=function(){this.rows.clear()},u.prototype.containsKey=function(o){return this.rows.has(o)},u.prototype.serialize=function(){return[new z(u.ROW_ID,{v:Array.from(this.rows.values())})]},u.prototype.comparator=function(){return this.comparatorObj},u.prototype.isUniqueKey=function(){return!0},u.prototype.stats=function(){var o=new se;return o.totalRows=this.rows.size,o},u.prototype.minMax=function(o){if(this.rows.size===0)return null;var s=Array.from(this.rows.values()).reduce(function(f,p){return f===null||o(p,f)===C.LHS?p:f});return[s,[s]]},u.ROW_ID=0,u.EMPTY_ARRAY=[],u}(),Hl=function(){function u(o){this.backStore=o.getService(Le.BACK_STORE),this.indexStore=o.getService(Le.INDEX_STORE),this.cache=o.getService(Le.CACHE)}return u.prototype.init=function(o){var s=this,f=o.tables(),p=function(){if(f.length===0)return Promise.resolve();var w=f.shift(),_=w.persistentIndex()?s.fetchTableWithPersistentIndices(w):s.fetchTable(w);return _.then(p)};return p()},u.prototype.fetchTable=function(o){var s=this,f=this.backStore.createTx(y.READ_ONLY,[o]),p=f.getTable(o.getName(),o.deserializeRow.bind(o),A.DATA),w=p.get([]).then(function(_){s.cache.setMany(o.getName(),_),s.reconstructNonPersistentIndices(o,_)});return f.commit(),w},u.prototype.reconstructNonPersistentIndices=function(o,s){var f=this.indexStore.getTableIndices(o.getName());s.forEach(function(p){f.forEach(function(w){var _=p.keyOfIndex(w.getName());w.add(_,p.id())})})},u.prototype.fetchTableWithPersistentIndices=function(o){var s=this,f=this.backStore.createTx(y.READ_ONLY,[o]),p=f.getTable(o.getName(),o.deserializeRow,A.DATA),w=p.get([]).then(function(B){s.cache.setMany(o.getName(),B)}),_=o.getIndices().map(function(B){return s.reconstructPersistentIndex(B,f)}).concat(this.reconstructPersistentRowIdIndex(o,f));return f.commit(),Promise.all(_.concat(w)).then(function(){})},u.prototype.reconstructPersistentIndex=function(o,s){var f=this,p=s.getTable(o.getNormalizedName(),z.deserialize,A.INDEX),w=Gl.create(o);return p.get([]).then(function(_){if(_.length>0)if(o.hasNullableColumn()){var B=yo.deserialize.bind(void 0,w,o.getNormalizedName(),o.isUnique),H=Ds.deserialize(B,_);f.indexStore.set(o.tableName,H)}else{var ie=yo.deserialize(w,o.getNormalizedName(),o.isUnique,_);f.indexStore.set(o.tableName,ie)}})},u.prototype.reconstructPersistentRowIdIndex=function(o,s){var f=this,p=s.getTable(o.getRowIdIndexName(),z.deserialize,A.INDEX);return p.get([]).then(function(w){if(w.length>0){var _=Ls.deserialize(o.getRowIdIndexName(),w);f.indexStore.set(o.getName(),_)}})},u}(),va=function(){function u(){this._alias=null}return u.prototype.getName=function(){return"#UnknownTable"},u.prototype.getColumns=function(){return[]},u.prototype.getIndices=function(){return[]},u.prototype.persistentIndex=function(){return!1},u.prototype.getAlias=function(){return this._alias},u.prototype.getEffectiveName=function(){return this._alias||this.getName()},u.prototype.getRowIdIndexName=function(){return"#UnknownTable.#"},u.prototype.createRow=function(o){throw new M(b.NOT_SUPPORTED)},u.prototype.deserializeRow=function(o){throw new M(b.NOT_SUPPORTED)},u.prototype.getConstraint=function(){return null},u.prototype.as=function(o){return this._alias=o,this},u.prototype.col=function(o){return null},u}(),ya=function(u){t(o,u);function o(s){var f=u.call(this)||this;return f.alias=s||null,f.table=new va,f}return o.prototype.getName=function(){return"*"},o.prototype.getNormalizedName=function(){return this.getName()},o.prototype.toString=function(){return this.getNormalizedName()},o.prototype.getTable=function(){return this.table},o.prototype.getType=function(){return m.NUMBER},o.prototype.getAlias=function(){return this.alias},o.prototype.getIndices=function(){return[]},o.prototype.getIndex=function(){return null},o.prototype.isNullable=function(){return!1},o.prototype.isUnique=function(){return!1},o.prototype.as=function(s){var f=new o(s);return f.table=this.table,f},o}(bn),wa=function(){function u(){}return u.avg=function(o){return new yt(o,I.AVG)},u.count=function(o){var s=o||new ya;return new yt(s,I.COUNT)},u.distinct=function(o){return new yt(o,I.DISTINCT)},u.max=function(o){return new yt(o,I.MAX)},u.min=function(o){return new yt(o,I.MIN)},u.stddev=function(o){return new yt(o,I.STDDEV)},u.sum=function(o){return new yt(o,I.SUM)},u.geomean=function(o){return new yt(o,I.GEOMEAN)},u}();e.fn=wa;var ba=function(){function u(){this.store=new Map,this.tableIndices=new Map}return u.prototype.init=function(o){var s=this,f=o.tables();return f.forEach(function(p){var w=[];s.tableIndices.set(p.getName(),w);var _=p.getRowIdIndexName(),B=s.get(_);if(B===null){var H=new Ls(_);w.push(H),s.store.set(_,H)}p.getIndices().forEach(function(ie){var me=s.createIndex(ie);w.push(me),s.store.set(ie.getNormalizedName(),me)},s)},this),Promise.resolve()},u.prototype.get=function(o){return this.store.get(o)||null},u.prototype.set=function(o,s){var f=this.tableIndices.get(o)||null;f===null&&(f=[],this.tableIndices.set(o,f));for(var p=-1,w=0;w<f.length;w++)if(f[w].getName()===s.getName()){p=w;break}p>=0&&f.length>0?f.splice(p,1,s):f.push(s),this.store.set(s.getName(),s)},u.prototype.getTableIndices=function(o){return this.tableIndices.get(o)||[]},u.prototype.createIndex=function(o){var s=Gl.create(o),f=new yo(o.getNormalizedName(),s,o.isUnique);return o.hasNullableColumn()&&o.columns.length===1?new Ds(f):f},u}();function Cr(u,o,s){if(o===null)return new Je(u,o,s);var f=o;return f.getIndex&&f.getIndices?new ur(u,f,s):new Je(u,o,s)}var dr=function(){function u(){}return u}(),In=function(u){t(o,u);function o(){return u.call(this)||this}return o}(Ce),hr=function(u){t(o,u);function o(s){var f=u.call(this)||this;return f.predicate=s,f}return o.prototype.toString=function(){return"select("+this.predicate.toString()+")"},o}(In),$r=function(u){t(o,u);function o(){return u.call(this)||this}return o.prototype.rewrite=function(s,f){return this.rootNode=s,this.traverse(this.rootNode),this.rootNode},o.prototype.traverse=function(s){var f=this;if(s instanceof hr){Y(s.getChildCount()===1,"SelectNode must have exactly one child.");var p=this.breakAndPredicate(s.predicate),w=this.createSelectNodeChain(p);at.replaceNodeWithChain(s,w[0],w[1]),s===this.rootNode&&(this.rootNode=w[0]),s=w[0]}s.getChildren().forEach(function(_){return f.traverse(_)})},o.prototype.breakAndPredicate=function(s){var f=this;if(s.getChildCount()===0)return[s];var p=s;if(p.operator!==N.AND)return[s];var w=p.getChildren().slice().map(function(_){return p.removeChild(_),f.breakAndPredicate(_)});return pt.flatten(w)},o.prototype.createSelectNodeChain=function(s){var f=null,p=null;return s.map(function(w,_){var B=new hr(w);_===0?f=B:p.addChild(B),p=B},this),[f,p]},o}(dr),qi=function(u){t(o,u);function o(){return u.call(this)||this}return o.prototype.toString=function(){return"cross_product"},o}(In),Yl=function(u){t(o,u);function o(){return u.call(this)||this}return o.prototype.rewrite=function(s,f){return f.from.length<3?s:(this.rootNode=s,this.traverse(this.rootNode),this.rootNode)},o.prototype.traverse=function(s){var f=this;if(s instanceof qi)for(;s.getChildCount()>2;){for(var p=new qi,w=0;w<2;w++){var _=s.removeChildAt(0);p.addChild(_)}s.addChildAt(p,0)}s.getChildren().forEach(function(B){return f.traverse(B)})},o}(dr),di=function(){function u(o){this.query=o,this.rootNode=null}return u.prototype.generate=function(){return this.rootNode===null&&(this.rootNode=this.generateInternal()),this.rootNode},u}(),wo=function(u){t(o,u);function o(s){var f=u.call(this)||this;return f.table=s,f}return o.prototype.toString=function(){return"delete("+this.table.getName()+")"},o}(In),ji=function(){function u(o,s,f){this.rootNode=o,this.queryContext=s,this.rewritePasses=f}return u.prototype.generate=function(){var o=this;return this.rewritePasses.forEach(function(s){o.rootNode=s.rewrite(o.rootNode,o.queryContext)},this),this.rootNode},u}(),bo=function(u){t(o,u);function o(s){var f=u.call(this)||this;return f.table=s,f}return o.prototype.toString=function(){var s=this.table,f=s.getAlias()?" as "+s.getAlias():"";return"table_access("+this.table.getName()+f+")"},o}(In),Jl=function(u){t(o,u);function o(s,f){var p=u.call(this,s)||this;return p.rewritePasses=f,p}return o.prototype.generateInternal=function(){var s=new wo(this.query.from),f=this.query.where?new hr(this.query.where.copy()):null,p=new bo(this.query.from);f===null?s.addChild(p):(f.addChild(p),s.addChild(f));var w=new ji(s,this.query,this.rewritePasses);return w.generate()},o}(di),zs=function(u){t(o,u);function o(s,f){var p=u.call(this)||this;return p.predicate=s,p.isOuterJoin=f,p}return o.prototype.toString=function(){return"join(type: "+(this.isOuterJoin?"outer":"inner")+", "+(this.predicate.toString()+")")},o}(In),Ql=function(u){t(o,u);function o(){return u.call(this)||this}return o.prototype.rewrite=function(s,f){var p=f;return p.from.length<2?s:(this.rootNode=s,this.traverse(this.rootNode,p),this.rootNode)},o.prototype.traverse=function(s,f){var p=this;if(s instanceof hr&&s.predicate instanceof ur){Y(s.getChildCount()===1,"SelectNode must have exactly one child.");var w=s.predicate.getId(),_=s.getChildAt(0);if(_ instanceof qi){var B=f.outerJoinPredicates&&f.outerJoinPredicates.has(w),H=new zs(s.predicate,B);at.replaceChainWithNode(s,_,H),s===this.rootNode&&(this.rootNode=H),s=H}}s.getChildren().forEach(function(ie){return p.traverse(ie,f)})},o}(dr),Sa=function(u){t(o,u);function o(s,f){var p=u.call(this)||this;return p.table=s,p.values=f,p}return o.prototype.toString=function(){return"insert("+this.table.getName()+", R"+this.values.length+")"},o}(In),hi=function(u){t(o,u);function o(s,f){var p=u.call(this)||this;return p.table=s,p.values=f,p}return o.prototype.toString=function(){return"insertOrReplace("+this.table.getName()+", R"+this.values.length+")"},o}(In),Xl=function(u){t(o,u);function o(s){return u.call(this,s)||this}return o.prototype.generateInternal=function(){return this.query.allowReplace?new hi(this.query.into,this.query.values):new Sa(this.query.into,this.query.values)},o}(di),Zl=function(){function u(o,s){this.rootNode=o,this.scope=s}return u.prototype.getRoot=function(){return this.rootNode},u.prototype.getScope=function(){return this.scope},u}(),Zc=function(u){t(o,u);function o(){var s=u.call(this)||this;return s.alreadyPushedDown=new Set,s}return o.prototype.rewrite=function(s,f){var p=f;return p.where===void 0||p.where===null?s:(this.clear(),this.rootNode=s,this.traverse(this.rootNode,p),this.clear(),this.rootNode)},o.prototype.clear=function(){this.alreadyPushedDown.clear()},o.prototype.traverse=function(s,f){var p=this,w=function(B){B.getChildren().forEach(_)},_=function(B){if(!p.alreadyPushedDown.has(B)){if(!p.isCandidateNode(B)){w(B);return}var H=B,ie=H.predicate.getTables(),me=function(Re){return p.doesReferToTables(Re,ie)},xe=p.pushDownNodeRec(f,H,me);p.alreadyPushedDown.add(H),xe!==H&&(xe.getParent()===null&&(p.rootNode=xe),_(xe)),w(H)}};_(s)},o.prototype.pushDownNodeRec=function(s,f,p){var w=this,_=f;if(this.shouldSwapWithChild(s,f))_=at.swapNodeWithChild(f),this.pushDownNodeRec(s,f,p);else if(this.shouldPushBelowChild(f)){var B=[],H=function(ie){var me=new hr(ie.predicate);return B.push(me),me};_=at.pushNodeBelowChild(f,p,H),B.forEach(function(ie){return w.pushDownNodeRec(s,ie,p)})}return _},o.prototype.doesReferToTables=function(s,f){var p=new Set;return at.getLeafNodes(s).forEach(function(w){return p.add(w.table)}),s instanceof bo&&p.add(s.table),ne(p,f)},o.prototype.isCandidateNode=function(s){return s instanceof hr},o.prototype.shouldPushBelowChild=function(s){var f=s.getChildAt(0);return f instanceof qi||f instanceof zs},o.prototype.shouldSwapWithChild=function(s,f){var p=f.getChildAt(0);if(!(p instanceof hr))return!1;if(s.outerJoinPredicates===void 0||s.outerJoinPredicates===null)return!0;var w=f.predicate instanceof ur,_=s.outerJoinPredicates.has(p.predicate.getId());return w||!_},o}(dr),eu=function(u){t(o,u);function o(s){var f=u.call(this)||this;return f.columns=s,f}return o.prototype.toString=function(){return"aggregation("+this.columns.toString()+")"},o}(In),Ms=function(u){t(o,u);function o(s){var f=u.call(this)||this;return f.columns=s,f}return o.prototype.toString=function(){return"group_by("+this.columns.toString()+")"},o}(In),Bs=function(u){t(o,u);function o(s){var f=u.call(this)||this;return f.limit=s,f}return o.prototype.toString=function(){return"limit("+this.limit+")"},o}(In),tu=function(u){t(o,u);function o(s){var f=u.call(this)||this;return f.orderBy=s,f}return o.prototype.toString=function(){return"order_by("+Xn.orderByToString(this.orderBy)+")"},o}(In),Fs=function(u){t(o,u);function o(s,f){var p=u.call(this)||this;return p.columns=s,p.groupByColumns=f,p}return o.prototype.toString=function(){var s=this.groupByColumns?this.groupByColumns.map(function(p){return p.getNormalizedName()}).join(", "):"",f=s.length?", groupBy("+s+")":"";return"project("+this.columns.toString()+f+")"},o}(In),Us=function(u){t(o,u);function o(s){var f=u.call(this)||this;return f.skip=s,f}return o.prototype.toString=function(){return"skip("+this.skip+")"},o}(In),Ws=function(u){t(o,u);function o(s,f){var p=u.call(this,s)||this;return p.rewritePasses=f,p.tableAccessNodes=null,p.crossProductNode=null,p.selectNode=null,p.groupByNode=null,p.aggregationNode=null,p.orderByNode=null,p.skipNode=null,p.limitNode=null,p.projectNode=null,p}return o.prototype.generateInternal=function(){this.generateNodes();var s=this.connectNodes(),f=new ji(s,this.query,this.rewritePasses);return f.generate()},o.prototype.generateNodes=function(){this.generateTableAccessNodes(),this.generateCrossProductNode(),this.generateSelectNode(),this.generateOrderByNode(),this.generateSkipNode(),this.generateLimitNode(),this.generateGroupByNode(),this.generateAggregationNode(),this.generateProjectNode()},o.prototype.connectNodes=function(){for(var s=[this.limitNode,this.skipNode,this.projectNode,this.orderByNode,this.aggregationNode,this.groupByNode,this.selectNode,this.crossProductNode],f=-1,p=null,w=0;w<s.length;w++){var _=s[w];_!==null&&(p===null?p=_:s[f].addChild(_),f=w)}return this.tableAccessNodes.forEach(function(B){s[f].addChild(B)}),p},o.prototype.generateTableAccessNodes=function(){this.tableAccessNodes=this.query.from.map(function(s){return new bo(s)})},o.prototype.generateCrossProductNode=function(){this.query.from.length>=2&&(this.crossProductNode=new qi)},o.prototype.generateSelectNode=function(){this.query.where&&(this.selectNode=new hr(this.query.where.copy()))},o.prototype.generateOrderByNode=function(){this.query.orderBy&&(this.orderByNode=new tu(this.query.orderBy))},o.prototype.generateSkipNode=function(){(this.query.skip&&this.query.skip>0||this.query.skipBinder)&&(this.skipNode=new Us(this.query.skip))},o.prototype.generateLimitNode=function(){this.query.limit!==void 0&&this.query.limit!==null&&(this.limitNode=new Bs(this.query.limit))},o.prototype.generateGroupByNode=function(){this.query.groupBy&&(this.groupByNode=new Ms(this.query.groupBy))},o.prototype.generateAggregationNode=function(){var s=this.query.columns.filter(function(f){return f instanceof yt});this.query.orderBy&&this.query.orderBy.forEach(function(f){f.column instanceof yt&&s.push(f.column)}),s.length>0&&(this.aggregationNode=new eu(s))},o.prototype.generateProjectNode=function(){this.projectNode=new Fs(this.query.columns||[],this.query.groupBy||null)},o}(di),$s=function(u){t(o,u);function o(s){var f=u.call(this)||this;return f.table=s,f}return o.prototype.toString=function(){return"update("+this.table.getName()+")"},o}(In),nu=function(u){t(o,u);function o(s){return u.call(this,s)||this}return o.prototype.generateInternal=function(){var s=new $s(this.query.table),f=this.query.where!==null?new hr(this.query.where.copy()):null,p=new bo(this.query.table);return f===null?s.addChild(p):(f.addChild(p),s.addChild(f)),s},o}(di),ef=function(){function u(){this.selectOptimizationPasses=[new $r,new Yl,new Zc,new Ql],this.deleteOptimizationPasses=[new $r]}return u.prototype.create=function(o){var s=null;if(o instanceof Nt)s=new Xl(o);else if(o instanceof wt)s=new Jl(o,this.deleteOptimizationPasses);else if(o instanceof Xn)s=new Ws(o,this.selectOptimizationPasses);else if(o instanceof qt)s=new nu(o);else throw new M(b.UNKNOWN_QUERY_CONTEXT);var f=s.generate();return new Zl(f,o.getScope())},u}(),Ea=function(){function u(o,s){this.relation=o,this.columns=s}return u.prototype.calculate=function(){var o=this;this.columns.forEach(function(s){for(var f=s.getColumnChain().reverse(),p=1;p<f.length;p++){var w=f[p],_=w.getColumnChain().slice(-1)[0],B=o.getInputRelationFor(w);if(B.hasAggregationResult(w))return;var H=o.evalAggregation(w.aggregatorType,B,_);o.relation.setAggregationResult(w,H)}},this)},u.prototype.getInputRelationFor=function(o){return o.child instanceof yt?this.relation.getAggregationResult(o.child):this.relation},u.prototype.evalAggregation=function(o,s,f){var p=null;switch(o){case I.MIN:p=this.reduce(s,f,function(_,B){var H=_,ie=B;return ie<H?ie:H});break;case I.MAX:p=this.reduce(s,f,function(_,B){var H=_,ie=B;return ie>H?ie:H});break;case I.DISTINCT:p=this.distinct(s,f);break;case I.COUNT:p=this.count(s,f);break;case I.SUM:p=this.sum(s,f);break;case I.AVG:{var w=this.count(s,f);w>0&&(p=this.sum(s,f)/w);break}case I.GEOMEAN:p=this.geomean(s,f);break;default:p=this.stddev(s,f);break}return p},u.prototype.reduce=function(o,s,f){return o.entries.reduce(function(p,w){var _=w.getField(s);return _===null?p:p===null?_:f(p,_)},null)},u.prototype.count=function(o,s){return s instanceof ya?o.entries.length:o.entries.reduce(function(f,p){return f+(p.getField(s)===null?0:1)},0)},u.prototype.sum=function(o,s){return this.reduce(o,s,function(f,p){var w=f,_=p;return _+w})},u.prototype.stddev=function(o,s){var f=[];return o.entries.forEach(function(p){var w=p.getField(s);w!==null&&f.push(w)}),f.length===0?null:Wr.standardDeviation.apply(null,f)},u.prototype.geomean=function(o,s){var f=0,p=o.entries.reduce(function(w,_){var B=_.getField(s);return B!==null&&B!==0?(f++,w+Math.log(B)):w},0);return f===0?null:Math.pow(Math.E,p/f)},u.prototype.distinct=function(o,s){var f=new Map;return o.entries.forEach(function(p){var w=p.getField(s);f.set(w,p)}),new ue(Array.from(f.values()),o.getTables())},u}(),tf=function(u){t(o,u);function o(s){var f=u.call(this,ge.ANY,P.FIRST_CHILD)||this;return f.aggregatedColumns=s,f}return o.prototype.toString=function(){var s=this.aggregatedColumns.map(function(f){return f.getNormalizedName()});return"aggregation("+s.toString()+")"},o.prototype.execInternal=function(s,f,p){var w=this;return s.forEach(function(_){var B=new Ea(_,w.aggregatedColumns);B.calculate()},this),s},o}(ge),Vt=function(u){t(o,u);function o(){return u.call(this,2,P.ALL)||this}return o.prototype.toString=function(){return"cross_product"},o.prototype.execInternal=function(s,f,p){return this.crossProduct(s[0],s[1])},o.prototype.crossProduct=function(s,f){var p=[],w=s.getTables(),_=f.getTables();s.entries.forEach(function(H){f.entries.forEach(function(ie){var me=Q.combineEntries(H,w,ie,_);p.push(me)})});var B=s.getTables().concat(f.getTables());return[new ue(p,B)]},o}(ge),jt=function(u){t(o,u);function o(s){var f=u.call(this,1,P.FIRST_CHILD)||this;return f.table=s,f}return o.prototype.toString=function(){return"delete("+this.table.getName()+")"},o.prototype.execInternal=function(s,f,p){var w=s[0].entries.map(function(_){return _.row});return f.remove(this.table,w),[ue.createEmpty()]},o}(ge),qo=function(u){t(o,u);function o(s,f){var p=u.call(this,0,P.NO_CHILD)||this;return p.table=f,p.indexStore=s.getService(Le.INDEX_STORE),p}return o.prototype.toString=function(){return"get_row_count("+this.table.getName()+")"},o.prototype.execInternal=function(s,f,p){var w=this.indexStore.get(this.table.getRowIdIndexName()),_=new ue([],[this.table.getName()]);return _.setAggregationResult(wa.count(),w.stats().totalRows),[_]},o}(ge),So=function(u){t(o,u);function o(s,f){var p=u.call(this,0,P.NO_CHILD)||this;return p.table=f,p.cache=s.getService(Le.CACHE),p.indexStore=s.getService(Le.INDEX_STORE),p}return o.prototype.toString=function(){var s="",f=this.table;return f.getAlias()&&(s=" as "+f.getAlias()),"table_access("+this.table.getName()+s+")"},o.prototype.execInternal=function(s,f,p){var w=this.table,_=this.indexStore.get(w.getRowIdIndexName()).getRange();return[ue.fromRows(this.cache.getMany(_),[w.getEffectiveName()])]},o}(ge),nf=function(u){t(o,u);function o(s){var f=u.call(this)||this;return f.global=s,f}return o.prototype.rewrite=function(s,f){if(this.rootNode=s,!this.canOptimize(f))return s;var p=at.find(s,function(_){return _ instanceof So})[0],w=new qo(this.global,p.table);return at.replaceNodeWithChain(p,w,w),this.rootNode},o.prototype.canOptimize=function(s){var f=function(_){return _!=null},p=s.columns.length===1&&s.from.length===1&&!f(s.where)&&!f(s.limit)&&!f(s.skip)&&!f(s.groupBy);if(p){var w=s.columns[0];return w instanceof yt&&w.aggregatorType===I.COUNT&&w.child instanceof ya}return!1},o}(dr),rf=function(u){t(o,u);function o(s){var f=u.call(this,1,P.FIRST_CHILD)||this;return f.groupByColumns=s,f}return o.prototype.toString=function(){var s=this.groupByColumns.map(function(f){return f.getNormalizedName()});return"groupBy("+s.toString()+")"},o.prototype.execInternal=function(s,f,p){return this.calculateGroupedRelations(s[0])},o.prototype.calculateGroupedRelations=function(s){var f=this,p=new Ge,w=function(_){var B=f.groupByColumns.map(function(H){return _.getField(H)});return B.join(",")};return s.entries.forEach(function(_){return p.set(w(_),_)}),p.keys().map(function(_){return new ue(p.get(_),s.getTables())})},o}(ge),pi;(function(u){u.HASH="hash",u.INDEX_NESTED_LOOP="index_nested_loop",u.NESTED_LOOP="nested_loop"})(pi||(pi={}));var Ca=function(u){t(o,u);function o(s,f,p){var w=u.call(this,2,P.ALL)||this;return w.predicate=f,w.isOuterJoin=p,w.indexStore=s.getService(Le.INDEX_STORE),w.cache=s.getService(Le.CACHE),w.algorithm=w.predicate.evaluatorType===pe.EQ?pi.HASH:pi.NESTED_LOOP,w.indexJoinInfo=null,w}return o.prototype.toString=function(){return"join(type: "+(this.isOuterJoin?"outer":"inner")+", "+("impl: "+this.algorithm+", "+this.predicate.toString()+")")},o.prototype.execInternal=function(s,f,p){switch(this.algorithm){case pi.HASH:return[this.predicate.evalRelationsHashJoin(s[0],s[1],this.isOuterJoin)];case pi.INDEX_NESTED_LOOP:return[this.predicate.evalRelationsIndexNestedLoopJoin(s[0],s[1],this.indexJoinInfo,this.cache)];default:return[this.predicate.evalRelationsNestedLoopJoin(s[0],s[1],this.isOuterJoin)]}},o.prototype.markAsIndexJoin=function(s){this.algorithm=pi.INDEX_NESTED_LOOP;var f=this.indexStore.get(s.getIndex().getNormalizedName());this.indexJoinInfo={index:f,indexedColumn:s,nonIndexedColumn:s===this.predicate.leftColumn?this.predicate.rightColumn:this.predicate.leftColumn}},o}(ge),qs=function(u){t(o,u);function o(s){var f=u.call(this,ge.ANY,P.NO_CHILD)||this;return f.relations=s,f}return o.prototype.toString=function(){return"no_op_step("+this.relations[0].getTables().join(",")+")"},o.prototype.execInternal=function(s,f,p){return this.relations},o}(ge),of=function(u){t(o,u);function o(){return u.call(this)||this}return o.prototype.rewrite=function(s,f){if(this.rootNode=s,!this.canOptimize(f))return s;var p=at.find(s,function(w){return w instanceof Ca});return p.forEach(this.processJoinStep,this),this.rootNode},o.prototype.canOptimize=function(s){return s.from.length>1},o.prototype.processJoinStep=function(s){if(!(s.predicate.evaluatorType!==pe.EQ||s.isOuterJoin)){var f=function(ie){return ie.getEffectiveName()===s.predicate.rightColumn.getTable().getEffectiveName()?s.predicate.rightColumn:s.predicate.leftColumn},p=function(ie){if(!(ie instanceof So))return null;var me=f(ie.table);return me.getIndex()===null?null:me},w=p(s.getChildAt(0)),_=p(s.getChildAt(1));if(!(w===null&&_===null)){var B=_!==null?_:w;s.markAsIndexJoin(B);var H=new ue([],[B.getTable().getEffectiveName()]);s.replaceChildAt(new qs([H]),B===w?0:1)}}},o}(dr),pn=function(){function u(o,s){this.indexSchema=o,this.predicateMap=s,this.lastQueryContext=null,this.combinations=null}return u.prototype.getKeyRangeCombinations=function(o){if(this.lastQueryContext===o)return this.combinations;var s=this.calculateKeyRangeMap(o);return this.fillMissingKeyRanges(s),this.combinations=this.indexSchema.columns.length===1?Array.from(s.values())[0].getValues():this.calculateCartesianProduct(this.getSortedKeyRangeSets(s)),this.lastQueryContext=o,this.combinations},u.prototype.calculateKeyRangeMap=function(o){var s=this,f=new Map;return Array.from(this.predicateMap.keys()).forEach(function(p){var w=s.predicateMap.get(p),_=w.map(function(H){return o.getPredicate(H)},s),B=new Ct([O.all()]);_.forEach(function(H){B=Ct.intersect(B,H.toKeyRange())}),f.set(p,B)},this),f},u.prototype.fillMissingKeyRanges=function(o){for(var s=function(){return new Ct([O.all()])},f=this.indexSchema.columns.length-1;f>=0;f--){var p=this.indexSchema.columns[f],w=o.get(p.schema.getName())||null;if(w!==null)break;o.set(p.schema.getName(),s())}},u.prototype.getSortedKeyRangeSets=function(o){var s=new Map,f=0;this.indexSchema.columns.forEach(function(w){s.set(w.schema.getName(),f),f++});var p=Array.from(o.keys()).sort(function(w,_){return(s.get(w)||0)-(s.get(_)||0)});return p.map(function(w){return o.get(w)})},u.prototype.calculateCartesianProduct=function(o){Y(o.length>1,"Should only be called for cross-column indices.");var s=o.map(function(f){return f.getValues()});return pt.product(s)},u}(),js=function(){function u(o,s){this.indexStore=o,this.indexSchema=s,this.indexedColumnNames=new Set(this.indexSchema.columns.map(function(f){return f.schema.getName()})),this.predicateMap=null,this.keyRangeCalculator=null}return u.prototype.getPredicateIds=function(){return this.predicateMap?this.predicateMap.values():[]},u.prototype.getKeyRangeCalculator=function(){return Y(this.predicateMap!==null),this.keyRangeCalculator===null&&(this.keyRangeCalculator=new pn(this.indexSchema,this.predicateMap)),this.keyRangeCalculator},u.prototype.consumePredicates=function(o){var s=this;o.forEach(function(f){var p=f.getColumns()[0].getName();s.indexedColumnNames.has(p)&&(s.predicateMap===null&&(s.predicateMap=new Ge),s.predicateMap.set(p,f.getId()))},this)},u.prototype.isUsable=function(){var o=this;if(this.predicateMap===null)return!1;var s=!1,f=!0;return this.indexSchema.columns.every(function(p){var w=o.predicateMap.has(p.schema.getName());return s&&w?(f=!1,!1):(w||(s=!0),!0)},this),f},u.prototype.calculateCost=function(o){var s=this.getKeyRangeCalculator().getKeyRangeCombinations(o),f=this.indexStore.get(this.indexSchema.getNormalizedName());return s.reduce(function(p,w){return p+f.cost(w)},0)},u}(),Ki=.02,Ks=function(){function u(o,s){this.tableSchema=s,this.indexStore=o.getService(Le.INDEX_STORE)}return u.prototype.chooseIndexFor=function(o,s){var f=s.filter(this.isCandidate,this);if(f.length===0)return null;var p=this.generateIndexRangeCandidates(f);if(p.length===0)return null;if(p.length===1)return p[0];var w=Number.MAX_VALUE;return p.reduce(function(_,B){var H=B.calculateCost(o);return H<w?(w=H,B):_},null)},u.prototype.getIndexQueryThreshold=function(){var o=this.indexStore.get(this.tableSchema.getRowIdIndexName());return Math.floor(o.stats().totalRows*Ki)},u.prototype.generateIndexRangeCandidates=function(o){var s=this,f=this.tableSchema.getIndices();return f.map(function(p){var w=new js(s.indexStore,p);return w.consumePredicates(o),w},this).filter(function(p){return p.isUsable()})},u.prototype.isCandidate=function(o){return o instanceof Je?this.isCandidateValuePredicate(o):o instanceof fi?this.isCandidateCombinedPredicate(o):!1},u.prototype.isCandidateCombinedPredicate=function(o){if(!o.isKeyRangeCompatible())return!1;var s=o.getChildAt(0).column;return s.getTable()!==this.tableSchema?!1:o.getChildCount()<=this.getIndexQueryThreshold()},u.prototype.isCandidateValuePredicate=function(o){return!(!o.isKeyRangeCompatible()||o.column.getTable()!==this.tableSchema||o.evaluatorType===pe.IN&&o.peek().length>this.getIndexQueryThreshold())},u}(),Vi=function(u){t(o,u);function o(s,f,p,w){var _=u.call(this,0,P.NO_CHILD)||this;return _.index=f,_.keyRangeCalculator=p,_.reverseOrder=w,_.indexStore=s.getService(Le.INDEX_STORE),_.useLimit=!1,_.useSkip=!1,_}return o.prototype.toString=function(){return"index_range_scan("+this.index.getNormalizedName()+", ?, "+(this.reverseOrder?"reverse":"natural")+(this.useLimit?", limit:?":"")+(this.useSkip?", skip:?":"")+")"},o.prototype.toContextString=function(s){var f=this.toString(),p=this.keyRangeCalculator.getKeyRangeCombinations(s);return f=f.replace("?",p.toString()),this.useLimit&&(f=f.replace("?",s.limit.toString())),this.useSkip&&(f=f.replace("?",s.skip.toString())),f},o.prototype.execInternal=function(s,f,p){var w=p,_=this.keyRangeCalculator.getKeyRangeCombinations(w),B=this.indexStore.get(this.index.getNormalizedName()),H;_.length===1&&_[0]instanceof O&&_[0].isOnly()?H=Ps.slice(B.get(_[0].from),!1,this.useLimit?w.limit:void 0,this.useSkip?w.skip:void 0):H=B.getRange(_,this.reverseOrder,this.useLimit?w.limit:void 0,this.useSkip?w.skip:void 0);var ie=H.map(function(me){return new z(me,{})});return[ue.fromRows(ie,[this.index.tableName])]},o}(ge),rn=function(u){t(o,u);function o(s){var f=u.call(this,1,P.FIRST_CHILD)||this;return f.predicateId=s,f}return o.prototype.toString=function(){return"select(?)"},o.prototype.toContextString=function(s){var f=s.getPredicate(this.predicateId);return this.toString().replace("?",f.toString())},o.prototype.execInternal=function(s,f,p){var w=p.getPredicate(this.predicateId);return[w.eval(s[0])]},o}(ge),Ia=function(u){t(o,u);function o(s,f){var p=u.call(this,1,P.FIRST_CHILD)||this;return p.table=f,p.cache=s.getService(Le.CACHE),p}return o.prototype.toString=function(){return"table_access_by_row_id("+this.table.getName()+")"},o.prototype.execInternal=function(s,f,p){return[ue.fromRows(this.cache.getMany(s[0].getRowIds()),[this.table.getEffectiveName()])]},o}(ge),Vs=function(u){t(o,u);function o(s){var f=u.call(this)||this;return f.global=s,f}return o.prototype.rewrite=function(s,f){var p=this;this.rootNode=s;var w=at.find(s,function(_){return _ instanceof So});return w.forEach(function(_){var B=p.findSelectSteps(_);if(B.length!==0){var H=new Ks(p.global,_.table),ie=H.chooseIndexFor(f,B.map(function(xe){return f.getPredicate(xe.predicateId)}));if(ie!==null){var me=new Map;B.forEach(function(xe){me.set(xe.predicateId,xe)},p),p.rootNode=p.replaceWithIndexRangeScanStep(ie,me,_,f)}}},this),this.rootNode},o.prototype.findSelectSteps=function(s){for(var f=[],p=s.getParent();p;){if(p instanceof rn)f.push(p);else if(p instanceof Ca)break;p=p.getParent()}return f},o.prototype.replaceWithIndexRangeScanStep=function(s,f,p,w){var _=s.getPredicateIds(),B=_.map(function(me){return f.get(me)});B.forEach(at.removeNode);var H=new Vi(this.global,s.indexSchema,s.getKeyRangeCalculator(),!1),ie=new Ia(this.global,p.table);return ie.addChild(H),at.replaceNodeWithChain(p,ie,H),H.getRoot()},o}(dr),Gs=function(u){t(o,u);function o(s,f){var p=u.call(this,0,P.NO_CHILD)||this;return p.table=f,p.indexStore=s.getService(Le.INDEX_STORE),p}return o.assignAutoIncrementPks=function(s,f,p){var w=s,_=w.getConstraint().getPrimaryKey(),B=_===null?!1:_.columns[0].autoIncrement;if(B){var H=_.columns[0].schema.getName(),ie=p.get(_.getNormalizedName()),me=ie.stats().maxKeyEncountered,xe=me===null?0:me;f.forEach(function(Re){var je=Re.payload()[H];(je===0||je===null||je===void 0)&&(xe++,Re.payload()[H]=xe)})}},o.prototype.toString=function(){return"insert("+this.table.getName()+")"},o.prototype.execInternal=function(s,f,p){var w=p.values;return o.assignAutoIncrementPks(this.table,w,this.indexStore),f.insert(this.table,w),[ue.fromRows(w,[this.table.getName()])]},o}(ge),Hs=function(u){t(o,u);function o(s,f){var p=u.call(this,0,P.NO_CHILD)||this;return p.table=f,p.indexStore=s.getService(Le.INDEX_STORE),p}return o.prototype.toString=function(){return"insert_replace("+this.table.getName()+")"},o.prototype.execInternal=function(s,f,p){var w=p;return Gs.assignAutoIncrementPks(this.table,w.values,this.indexStore),f.insertOrReplace(this.table,w.values),[ue.fromRows(w.values,[this.table.getName()])]},o}(ge),jo=function(u){t(o,u);function o(){return u.call(this,1,P.FIRST_CHILD)||this}return o.prototype.toString=function(){return"limit(?)"},o.prototype.toContextString=function(s){return this.toString().replace("?",s.limit.toString())},o.prototype.execInternal=function(s,f,p){return s[0].entries.splice(p.limit),s},o}(ge),Eo=function(u){t(o,u);function o(s){var f=u.call(this,ge.ANY,P.FIRST_CHILD)||this;return f.orderBy=s,f}return o.prototype.toString=function(){return"order_by("+Xn.orderByToString(this.orderBy)+")"},o.prototype.execInternal=function(s,f,p){if(s.length===1){var w=this.findDistinctColumn(s[0]),_=w===null?s[0]:s[0].getAggregationResult(w);_.entries.sort(this.entryComparatorFn.bind(this))}else s.sort(this.relationComparatorFn.bind(this));return s},o.prototype.findDistinctColumn=function(s){var f=null;return this.orderBy.every(function(p){var w=wa.distinct(p.column);return s.hasAggregationResult(w)?(f=w,!1):!0},this),f},o.prototype.comparator=function(s,f){var p,w=null,_=null,B=-1;do{B++;var H=this.orderBy[B].column;p=this.orderBy[B].order,w=s(H),_=f(H)}while(w===_&&B+1<this.orderBy.length);var ie=w<_?-1:w>_?1:0;return ie=p===d.ASC?ie:-ie,ie},o.prototype.entryComparatorFn=function(s,f){return this.comparator(function(p){return s.getField(p)},function(p){return f.getField(p)})},o.prototype.relationComparatorFn=function(s,f){return this.comparator(function(p){return p instanceof yt?s.getAggregationResult(p):s.entries[s.entries.length-1].getField(p)},function(p){return p instanceof yt?f.getAggregationResult(p):f.entries[f.entries.length-1].getField(p)})},o}(ge),An=function(){function u(o,s){this.relation=o,this.columns=s}return u.transformMany=function(o,s){var f=o.map(function(p){var w=new u(p,s),_=w.getTransformed();return _.entries[0]});return new ue(f,o[0].getTables())},u.prototype.getTransformed=function(){var o=this.columns.some(function(s){return s instanceof yt});return o?this.handleAggregatedColumns():this.handleNonAggregatedColumns()},u.prototype.handleAggregatedColumns=function(){var o=this;if(this.columns.length===1&&this.columns[0].aggregatorType===I.DISTINCT){var s=this.relation.getAggregationResult(this.columns[0]),f=s.entries.map(function(w){var _=new Q(new z(z.DUMMY_ID,{}),o.relation.isPrefixApplied());return _.setField(o.columns[0],w.getField(o.columns[0].child)),_},this);return new ue(f,[])}var p=new Q(new z(z.DUMMY_ID,{}),this.relation.isPrefixApplied());return this.columns.forEach(function(w){var _=w instanceof yt?o.relation.getAggregationResult(w):o.relation.entries[0].getField(w);p.setField(w,_)},this),new ue([p],this.relation.getTables())},u.prototype.handleNonAggregatedColumns=function(){var o=this,s=new Array(this.relation.entries.length),f=this.relation.isPrefixApplied();return this.relation.entries.forEach(function(p,w){s[w]=new Q(new z(p.row.id(),{}),f),o.columns.forEach(function(_){s[w].setField(_,p.getField(_))},o)},this),new ue(s,this.relation.getTables())},u}(),ru=function(u){t(o,u);function o(s,f){var p=u.call(this,ge.ANY,P.FIRST_CHILD)||this;return p.columns=s,p.groupByColumns=f,p}return o.prototype.toString=function(){var s="";if(this.groupByColumns){var f=this.groupByColumns.map(function(p){return p.getNormalizedName()}).join(", ");s=", groupBy("+f+")"}return"project("+this.columns.toString()+s+")"},o.prototype.execInternal=function(s,f,p){return s.length===0?[ue.createEmpty()]:s.length===1?[this.execNonGroupByProjection(s[0])]:[this.execGroupByProjection(s)]},o.prototype.hasAggregators=function(){var s=this.columns.some(function(f){return f instanceof yt});return s||this.groupByColumns!==null},o.prototype.execGroupByProjection=function(s){return An.transformMany(s,this.columns)},o.prototype.execNonGroupByProjection=function(s){if(this.columns.length===0)return s;var f=new An(s,this.columns);return f.getTransformed()},o}(ge),$n=function(u){t(o,u);function o(){return u.call(this,1,P.FIRST_CHILD)||this}return o.prototype.toString=function(){return"skip(?)"},o.prototype.toContextString=function(s){return this.toString().replace("?",s.skip.toString())},o.prototype.execInternal=function(s,f,p){return[new ue(s[0].entries.slice(p.skip),s[0].getTables())]},o}(ge),af=function(u){t(o,u);function o(){return u.call(this)||this}return o.prototype.rewrite=function(s,f){var p=this;if(f.limit===void 0&&f.skip===void 0)return s;var w=this.findIndexRangeScanStep(s);if(w===null)return s;var _=at.find(s,function(B){return B instanceof jo||B instanceof $n});return _.forEach(function(B){p.mergeToIndexRangeScanStep(B,w)},this),w.getRoot()},o.prototype.mergeToIndexRangeScanStep=function(s,f){return s instanceof jo?f.useLimit=!0:f.useSkip=!0,at.removeNode(s).parent},o.prototype.findIndexRangeScanStep=function(s){var f=function(_){return _ instanceof Vi},p=function(_){var B=_ instanceof ru&&_.hasAggregators();return B||_ instanceof Eo||_.getChildCount()!==1||_ instanceof rn},w=at.find(s,f,p);return w.length>0?w[0]:null},o}(dr),iu=function(u){t(o,u);function o(){return u.call(this,ge.ANY,P.ALL)||this}return o.prototype.toString=function(){return"multi_index_range_scan()"},o.prototype.execInternal=function(s,f,p){var w=new Map;s.forEach(function(B){B.entries.forEach(function(H){w.set(H.row.id(),H)})});var _=Array.from(w.values());return[new ue(_,s[0].getTables())]},o}(ge),mi=function(u){t(o,u);function o(s){var f=u.call(this)||this;return f.global=s,f}return o.prototype.rewrite=function(s,f){this.rootNode=s;var p=this.findOrPredicates(f);if(p.length===0)return this.rootNode;var w=null,_=null,B=0;do _=p[B++],w=this.findIndexRangeCandidates(_,f);while(w===null&&B<p.length);if(w===null)return this.rootNode;var H=this.findTableAccessFullStep(w[0].indexSchema.tableName);return H===null?this.rootNode:(this.rootNode=this.replaceWithIndexRangeScan(_,H,w),this.rootNode)},o.prototype.findOrPredicates=function(s){var f=function(p){if(!(p instanceof rn))return!1;var w=s.getPredicate(p.predicateId);return w instanceof fi&&w.operator===N.OR};return at.find(this.rootNode,f)},o.prototype.findTableAccessFullStep=function(s){return at.find(this.rootNode,function(f){return f instanceof So&&f.table.getName()===s})[0]||null},o.prototype.findIndexRangeCandidates=function(s,f){var p=f.getPredicate(s.predicateId),w=p.getTables();if(w.size!==1)return null;var _=Array.from(w.values())[0],B=new Ks(this.global,_),H=null,ie=p.getChildren().every(function(me){var xe=B.chooseIndexFor(f,[me]);return xe!==null&&(H===null?H=[xe]:H.push(xe)),xe!==null});return ie?H:null},o.prototype.replaceWithIndexRangeScan=function(s,f,p){var w=this,_=new Ia(this.global,f.table),B=new iu;return _.addChild(B),p.forEach(function(H){var ie=new Vi(w.global,H.indexSchema,H.getKeyRangeCalculator(),!1);B.addChild(ie)},this),at.removeNode(s),at.replaceNodeWithChain(f,_,B),B.getRoot()},o}(dr),Na=function(){function u(o){this.indexSchema=o}return u.prototype.getKeyRangeCombinations=function(o){return this.indexSchema.columns.length===1?[O.all()]:[this.indexSchema.columns.map(function(s){return O.all()})]},u}(),Ys=function(u){t(o,u);function o(s){var f=u.call(this)||this;return f.global=s,f}return o.prototype.rewrite=function(s,f){var p=this.findOrderByStep(s,f);if(p===null)return s;var w=this.applyTableAccessFullOptimization(p);return w===p&&(w=this.applyIndexRangeScanStepOptimization(p)),w.getRoot()},o.prototype.applyTableAccessFullOptimization=function(s){var f=s,p=this.findTableAccessFullStep(s.getChildAt(0));if(p!==null){var w=this.findIndexCandidateForOrderBy(p.table,s.orderBy);if(w===null)return f;var _=new Vi(this.global,w.indexSchema,new Na(w.indexSchema),w.isReverse),B=new Ia(this.global,p.table);B.addChild(_),at.removeNode(s),f=at.replaceNodeWithChain(p,B,_)}return f},o.prototype.applyIndexRangeScanStepOptimization=function(s){var f=s,p=this.findIndexRangeScanStep(s.getChildAt(0));if(p!==null){var w=this.getIndexCandidateForIndexSchema(p.index,s.orderBy);if(w===null)return f;p.reverseOrder=w.isReverse,f=at.removeNode(s).parent}return f},o.prototype.findIndexRangeScanStep=function(s){var f=function(_){return _ instanceof Vi},p=function(_){return _.getChildCount()!==1},w=at.find(s,f,p);return w.length>0?w[0]:null},o.prototype.findTableAccessFullStep=function(s){var f=function(_){return _ instanceof So},p=function(_){return _.getChildCount()!==1},w=at.find(s,f,p);return w.length>0?w[0]:null},o.prototype.findOrderByStep=function(s,f){return f.orderBy===void 0?null:at.find(s,function(p){return p instanceof Eo})[0]},o.prototype.findIndexCandidateForOrderBy=function(s,f){for(var p=null,w=s.getIndices(),_=0;_<w.length&&p===null;_++)p=this.getIndexCandidateForIndexSchema(w[_],f);return p},o.prototype.getIndexCandidateForIndexSchema=function(s,f){var p=s.columns.length===f.length&&f.every(function(_,B){var H=s.columns[B];return _.column.getName()===H.schema.getName()});if(!p)return null;var w=this.checkOrder(f,s);return!w[0]&&!w[1]?null:{indexSchema:s,isReverse:w[1]}},o.prototype.checkOrder=function(s,f){var p=s.reduce(function(ie,me){return ie<<1|(me.order===d.DESC?0:1)},0),w=f.columns.reduce(function(ie,me){return ie<<1|(me.order===d.DESC?0:1)},0),_=p^w,B=_===0,H=_===Math.pow(2,Math.max(s.length,f.columns.length))-1;return[B,H]},o}(dr),Gt=function(){function u(o,s,f){this.rootNode=o,this.queryContext=s,this.rewritePasses=f}return u.prototype.generate=function(){var o=this;return this.rewritePasses.forEach(function(s){o.rootNode=s.rewrite(o.rootNode,o.queryContext)},this),this.rootNode},u}(),Ir=function(u){t(o,u);function o(s){var f=u.call(this,1,P.FIRST_CHILD)||this;return f.table=s,f}return o.prototype.toString=function(){return"update("+this.table.getName()+")"},o.prototype.execInternal=function(s,f,p){var w=this,_=this.table,B=s[0].entries.map(function(H){var ie=_.deserializeRow(H.row.serialize());return p.set.forEach(function(me){ie.payload()[me.column.getName()]=me.value},w),ie},this);return f.update(_,B),[ue.createEmpty()]},o}(ge),xa=function(){function u(o){this.global=o,this.selectOptimizationPasses=[new of,new Vs(o),new mi(o),new Ys(o),new af,new nf(o)],this.deleteOptimizationPasses=[new Vs(o)]}return u.prototype.create=function(o,s){var f=o.getRoot();if(f instanceof hi||f instanceof Sa)return this.createPlan(o,s);if(f instanceof Fs||f instanceof Bs||f instanceof Us)return this.createPlan(o,s,this.selectOptimizationPasses);if(f instanceof wo||f instanceof $s)return this.createPlan(o,s,this.deleteOptimizationPasses);throw new M(b.UNKNOWN_PLAN_NODE)},u.prototype.createPlan=function(o,s,f){var p=at.map(o.getRoot(),this.mapFn.bind(this));if(f!=null){var w=new Gt(p,s,f);p=w.generate()}return new _e(p,o.getScope())},u.prototype.mapFn=function(o){if(o instanceof Fs)return new ru(o.columns,o.groupByColumns);if(o instanceof Ms)return new rf(o.columns);if(o instanceof eu)return new tf(o.columns);if(o instanceof tu)return new Eo(o.orderBy);if(o instanceof Us)return new $n;if(o instanceof Bs)return new jo;if(o instanceof hr)return new rn(o.predicate.getId());if(o instanceof qi)return new Vt;if(o instanceof zs)return new Ca(this.global,o.predicate,o.isOuterJoin);if(o instanceof bo)return new So(this.global,o.table);if(o instanceof wo)return new jt(o.table);if(o instanceof $s)return new Ir(o.table);if(o instanceof hi)return new Hs(this.global,o.table);if(o instanceof Sa)return new Gs(this.global,o.table);throw new M(b.UNKNOWN_NODE_TYPE)},u}(),Co=function(){function u(o){this.logicalPlanFactory=new ef,this.physicalPlanFactory=new xa(o)}return u.prototype.getPlan=function(o){var s=this.logicalPlanFactory.create(o);return this.physicalPlanFactory.create(s,o)},u}(),Js=function(u){t(o,u);function o(s){var f=u.call(this)||this;return f.global=s,f.schema=s.getService(Le.SCHEMA),f.scope=new Set(f.schema.tables()),f.resolver=new We,f}return o.prototype.execSync=function(){var s=this.global.getService(Le.INDEX_STORE),f=this.global.getService(Le.CACHE),p={};return this.schema.tables().forEach(function(w){var _=s.get(w.getRowIdIndexName()).getRange(),B=f.getMany(_).map(function(H){return H.payload()});p[w.getName()]=B}),{name:this.schema.name(),tables:p,version:this.schema.version()}},o.prototype.exec=function(){var s=this.execSync(),f=new Q(new z(z.DUMMY_ID,s),!0);return Promise.resolve([new ue([f],[])])},o.prototype.getType=function(){return y.READ_ONLY},o.prototype.getScope=function(){return this.scope},o.prototype.getResolver=function(){return this.resolver},o.prototype.getId=function(){return this.getUniqueNumber()},o.prototype.getPriority=function(){return E.EXPORT_TASK},o}(he),sf=function(u){t(o,u);function o(s,f){var p=u.call(this)||this;return p.global=s,p.data=f,p.schema=s.getService(Le.SCHEMA),p.scope=new Set(p.schema.tables()),p.resolver=new We,p.backStore=s.getService(Le.BACK_STORE),p.cache=s.getService(Le.CACHE),p.indexStore=s.getService(Le.INDEX_STORE),p}return o.prototype.exec=function(){if(!this.backStore.supportsImport())throw new M(b.NOT_SUPPORTED);if(!this.isEmptyDB())throw new M(b.IMPORT_TO_NON_EMPTY_DB);if(this.schema.name()!==this.data.name||this.schema.version()!==this.data.version)throw new M(b.DB_MISMATCH);if(this.data.tables===void 0||this.data.tables===null)throw new M(b.IMPORT_DATA_NOT_FOUND);return this.import()},o.prototype.getType=function(){return y.READ_WRITE},o.prototype.getScope=function(){return this.scope},o.prototype.getResolver=function(){return this.resolver},o.prototype.getId=function(){return this.getUniqueNumber()},o.prototype.getPriority=function(){return E.IMPORT_TASK},o.prototype.isEmptyDB=function(){var s=this;return this.schema.tables().every(function(f){var p=f,w=s.indexStore.get(p.getRowIdIndexName());return!(w.stats().totalRows>0)})},o.prototype.import=function(){var s=this,f=new Fo(this.global,this.scope),p=this.backStore.createTx(this.getType(),Array.from(this.scope.values()),f);return Object.keys(this.data.tables).forEach(function(w){var _=s.schema.table(w),B=s.data.tables[w],H=B.map(function(xe){return _.createRow(xe)}),ie=p.getTable(w,_.deserializeRow,A.DATA);s.cache.setMany(w,H);var me=s.indexStore.getTableIndices(w);H.forEach(function(xe){me.forEach(function(Re){var je=xe.keyOfIndex(Re.getName());Re.add(je,xe.id())})}),ie.put(H)},this),p.commit()},o}(he),ou=function(){function u(){this.supported=!1,this.indexedDb=!1,this.webSql=!1,this.localStorage=!1,this.agent="",this.browser="",this.version=[],this.versionMap=new Map,this.detect()}return u.get=function(){return u.instance===void 0&&(u.instance=new u),u.instance},u.prototype.getDetection=function(){return this.browser+" "+this.version.join(".")},u.prototype.detect=function(){this.detectNodeJS()||navigator&&(this.agent=navigator.userAgent,this.detectBrowser())},u.prototype.convertVersion=function(o){o!==void 0&&(this.version=o.split(".").map(function(s){var f=0;try{f=Number(s)}catch{}return f}))},u.prototype.detectNodeJS=function(){return typeof process!="undefined"&&process.version?(this.convertVersion(process.version.slice(1)),this.supported=this.version[0]>=7,this.browser="nodejs",this.indexedDb=!1,this.webSql=!1,!0):!1},u.prototype.detectBrowser=function(){if(!(this.isIE()||this.isAndroid())){this.localStorage=!0,this.detectVersion();var o=[this.isEdge.bind(this),this.isFirefox.bind(this),this.isChrome.bind(this),this.isSafari.bind(this),this.isIOS.bind(this)];o.some(function(s){return s()})}},u.prototype.detectVersion=function(){var o=new RegExp("(\\w[\\w ]+)/([^\\s]+)\\s*(?:\\((.*?)\\))?","g"),s=null;do if(s=o.exec(this.agent),s){var f=s[0];this.versionMap.set(s[1],f.slice(f.indexOf("/")+1))}while(s)},u.prototype.isChrome=function(){var o=!1;return this.agent.indexOf("Chrome")!==-1?(o=!0,this.convertVersion(this.versionMap.get("Chrome"))):this.agent.indexOf("CriOS")!==-1&&(o=!0,this.convertVersion(this.versionMap.get("CriOS"))),o?(this.browser="chrome",this.supported=this.version[0]>60,this.indexedDb=!0,this.webSql=!0,this.localStorage=!0,!0):!1},u.prototype.isEdge=function(){return this.agent.indexOf("Edge")!==-1?(this.browser="edge",this.supported=!0,this.indexedDb=!0,this.webSql=!1,this.convertVersion(this.versionMap.get("Edge")),!0):!1},u.prototype.isFirefox=function(){return this.agent.indexOf("Firefox")!==-1?(this.browser="firefox",this.convertVersion("Firefox"),this.supported=this.version[0]>60,this.indexedDb=!0,this.webSql=!1,this.localStorage=!0,!0):!1},u.prototype.isIE=function(){return this.agent.indexOf("Trident")!==-1||this.agent.indexOf("MSIE")!==-1?(this.browser="ie",!0):!1},u.prototype.isAndroid=function(){return this.agent.indexOf("Android")!==-1&&!this.isChrome()&&!this.isFirefox()?(this.browser="legacy_android",!0):!1},u.prototype.isSafari=function(){return this.agent.indexOf("Safari")!==-1?(this.browser="safari",this.convertVersion(this.versionMap.get("Version")),this.supported=this.version[0]>=10,this.indexedDb=this.supported,this.webSql=!0,!0):!1},u.prototype.isIOS=function(){return this.agent.indexOf("AppleWebKit")!==-1&&(this.agent.indexOf("iPad")!==-1||this.agent.indexOf("iPhone")!==-1)?(this.browser="ios_webview",this.convertVersion(this.versionMap.get("Version")),this.supported=this.version[0]>=10,this.indexedDb=this.supported,this.webSql=!0,!0):!1},u}();e.Capability=ou;var lf=function(u){t(o,u);function o(s){return u.call(this,s,new wt(s.getService(Le.SCHEMA)))||this}return o.prototype.from=function(s){return this.assertFromPreconditions(),this.query.from=s,this},o.prototype.where=function(s){return this.assertWherePreconditions(),this.query.where=s,this},o.prototype.assertExecPreconditions=function(){if(u.prototype.assertExecPreconditions.call(this),this.query.from===void 0||this.query.from===null)throw new M(b.INVALID_DELETE)},o.prototype.assertFromPreconditions=function(){if(this.query.from)throw new M(b.DUPLICATE_FROM)},o.prototype.assertWherePreconditions=function(){if(this.query.from===void 0||this.query.from===null)throw new M(b.FROM_AFTER_WHERE);if(this.query.where)throw new M(b.DUPLICATE_WHERE)},o}(Zn),Qs=function(u){t(o,u);function o(s,f){f===void 0&&(f=!1);var p=u.call(this,s,new Nt(s.getService(Le.SCHEMA)))||this;return p.query.allowReplace=f,p}return o.prototype.assertExecPreconditions=function(){u.prototype.assertExecPreconditions.call(this);var s=this.query;if(s.into===void 0||s.into===null||s.values===void 0||s.values===null)throw new M(b.INVALID_INSERT);if(s.allowReplace&&s.into.getConstraint().getPrimaryKey()===null)throw new M(b.INVALID_INSERT_OR_REPLACE)},o.prototype.into=function(s){return this.assertIntoPreconditions(),this.query.into=s,this},o.prototype.values=function(s){return this.assertValuesPreconditions(),s instanceof Z||s.some(function(f){return f instanceof Z})?this.query.binder=s:this.query.values=s,this},o.prototype.assertIntoPreconditions=function(){if(this.query.into!==void 0&&this.query.into!==null)throw new M(b.DUPLICATE_INTO)},o.prototype.assertValuesPreconditions=function(){if(this.query.values!==void 0&&this.query.values!==null)throw new M(b.DUPLICATE_VALUES)},o}(Zn),Ta=function(u){t(o,u);function o(s,f){var p=u.call(this,s,new qt(s.getService(Le.SCHEMA)))||this;return p.query.table=f,p}return o.prototype.set=function(s,f){var p={binding:f instanceof Z?f.index:-1,column:s,value:f};return this.query.set?this.query.set.push(p):this.query.set=[p],this},o.prototype.where=function(s){return this.assertWherePreconditions(),this.query.where=s,this},o.prototype.assertExecPreconditions=function(){if(u.prototype.assertExecPreconditions.call(this),this.query.set===void 0||this.query.set===null)throw new M(b.INVALID_UPDATE);var s=this.query.set.some(function(f){return f.value instanceof Z});if(s)throw new M(b.UNBOUND_VALUE)},o.prototype.assertWherePreconditions=function(){if(this.query.where)throw new M(b.DUPLICATE_WHERE)},o}(Zn),Qt;(function(u){u[u.CREATED=0]="CREATED",u[u.ACQUIRING_SCOPE=1]="ACQUIRING_SCOPE",u[u.ACQUIRED_SCOPE=2]="ACQUIRED_SCOPE",u[u.EXECUTING_QUERY=3]="EXECUTING_QUERY",u[u.EXECUTING_AND_COMMITTING=4]="EXECUTING_AND_COMMITTING",u[u.COMMITTING=5]="COMMITTING",u[u.ROLLING_BACK=6]="ROLLING_BACK",u[u.FINALIZED=7]="FINALIZED"})(Qt||(Qt={}));var uf=function(){function u(){this.map=new Ge;var o=Qt;this.map.set(o.CREATED,o.ACQUIRING_SCOPE),this.map.set(o.CREATED,o.EXECUTING_AND_COMMITTING),this.map.set(o.ACQUIRING_SCOPE,o.ACQUIRED_SCOPE),this.map.set(o.ACQUIRED_SCOPE,o.EXECUTING_QUERY),this.map.set(o.ACQUIRED_SCOPE,o.COMMITTING),this.map.set(o.ACQUIRED_SCOPE,o.ROLLING_BACK),this.map.set(o.EXECUTING_QUERY,o.ACQUIRED_SCOPE),this.map.set(o.EXECUTING_QUERY,o.FINALIZED),this.map.set(o.EXECUTING_AND_COMMITTING,o.FINALIZED),this.map.set(o.COMMITTING,o.FINALIZED),this.map.set(o.ROLLING_BACK,o.FINALIZED)}return u.get=function(){return u.instance||(u.instance=new u),u.instance},u.prototype.get=function(o){return this.map.getSet(o)},u}(),au=function(u){t(o,u);function o(s,f){var p=u.call(this)||this;return p.global=s,p.backStore=s.getService(Le.BACK_STORE),p.runner=s.getService(Le.RUNNER),p.observerRegistry=s.getService(Le.OBSERVER_REGISTRY),p.scope=new Set(f),p.journal=new Fo(p.global,p.scope),p.resolver=new We,p.execResolver=new We,p.acquireScopeResolver=new We,p}return o.prototype.exec=function(){return this.acquireScopeResolver.resolve(),this.execResolver.promise},o.prototype.getType=function(){return y.READ_WRITE},o.prototype.getScope=function(){return this.scope},o.prototype.getResolver=function(){return this.resolver},o.prototype.getId=function(){return this.getUniqueNumber()},o.prototype.getPriority=function(){return E.TRANSACTION_TASK},o.prototype.acquireScope=function(){return this.runner.scheduleTask(this),this.acquireScopeResolver.promise},o.prototype.attachQuery=function(s){var f=this,p=s.getTaskItem();return p.plan.getRoot().exec(this.journal,p.context).then(function(w){return w[0].getPayloads()},function(w){throw f.journal.rollback(),f.execResolver.resolve(),w})},o.prototype.commit=function(){var s=this;return this.tx=this.backStore.createTx(this.getType(),Array.from(this.scope.values()),this.journal),this.tx.commit().then(function(){s.scheduleObserverTask(),s.execResolver.resolve()},function(f){s.journal.rollback(),s.execResolver.reject(f)}),this.resolver.promise},o.prototype.rollback=function(){return this.journal.rollback(),this.execResolver.resolve(),this.resolver.promise},o.prototype.stats=function(){var s=null;return this.tx&&(s=this.tx.stats()),s===null?Er.getDefault():s},o.prototype.scheduleObserverTask=function(){var s=this.observerRegistry.getTaskItemsForTables(Array.from(this.scope.values()));if(s.length!==0){var f=new fr(this.global,s);this.runner.scheduleTask(f)}},o}(he),_a=function(){function u(o){this.global=o,this.runner=o.getService(Le.RUNNER),this.task=null,this.state=Qt.CREATED,this.stateTransition=uf.get()}return u.prototype.exec=function(o){var s=this;this.updateState(Qt.EXECUTING_AND_COMMITTING);var f=[];try{o.forEach(function(p){p.assertExecPreconditions(),f.push(p.getTaskItem())})}catch(p){return this.updateState(Qt.FINALIZED),Promise.reject(p)}return this.task=new Fe(this.global,f),this.runner.scheduleTask(this.task).then(function(p){return s.updateState(Qt.FINALIZED),p.map(function(w){return w.getPayloads()})},function(p){throw s.updateState(Qt.FINALIZED),p})},u.prototype.begin=function(o){var s=this;return this.updateState(Qt.ACQUIRING_SCOPE),this.task=new au(this.global,o),this.task.acquireScope().then(function(){return s.updateState(Qt.ACQUIRED_SCOPE)})},u.prototype.attach=function(o){var s=this;this.updateState(Qt.EXECUTING_QUERY);try{o.assertExecPreconditions()}catch(f){return this.updateState(Qt.FINALIZED),Promise.reject(f)}return this.task.attachQuery(o).then(function(f){return s.updateState(Qt.ACQUIRED_SCOPE),f},function(f){throw s.updateState(Qt.FINALIZED),f})},u.prototype.commit=function(){var o=this;return this.updateState(Qt.COMMITTING),this.task.commit().then(function(s){return o.updateState(Qt.FINALIZED),s})},u.prototype.rollback=function(){var o=this;return this.updateState(Qt.ROLLING_BACK),this.task.rollback().then(function(s){return o.updateState(Qt.FINALIZED),s})},u.prototype.stats=function(){if(this.state!==Qt.FINALIZED)throw new M(b.INVALID_TX_ACCESS);return this.task.stats()},u.prototype.updateState=function(o){var s=this.stateTransition.get(this.state);if(s.has(o))this.state=o;else throw new M(b.INVALID_TX_STATE,this.state.toString(),o.toString())},u}(),Oa=function(){function u(o){this.global=o,this.schema=o.getService(Le.SCHEMA),this.isActive=!1,this.observeExternalChanges=!1}return u.prototype.init=function(o){var s=this;this.global.registerService(Le.SCHEMA,this.schema),this.global.registerService(Le.CACHE,new Jc(this.schema));var f=this.createBackStore(this.schema,o);this.global.registerService(Le.BACK_STORE,f);var p=new ba;this.global.registerService(Le.INDEX_STORE,p);var w=o?o.onUpgrade:void 0;return f.init(w).then(function(){return s.global.registerService(Le.QUERY_ENGINE,new Co(s.global)),s.runner=new At,s.global.registerService(Le.RUNNER,s.runner),s.global.registerService(Le.OBSERVER_REGISTRY,new As),p.init(s.schema)}).then(function(){if(s.observeExternalChanges){var _=new Vc(s.global);_.startObserving()}o&&o.enableInspector&&window&&(window.top["#lfInspect"]=Yc.inspect,window.top["#lfRowId"]=z.getNextId);var B=new Hl(s.global);return B.init(s.schema)}).then(function(){return s.isActive=!0,s})},u.prototype.getGlobal=function(){return this.global},u.prototype.getSchema=function(){return this.schema},u.prototype.select=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return this.checkActive(),new Ui(this.global,o)},u.prototype.insert=function(){return this.checkActive(),new Qs(this.global)},u.prototype.insertOrReplace=function(){return this.checkActive(),new Qs(this.global,!0)},u.prototype.update=function(o){return this.checkActive(),new Ta(this.global,o)},u.prototype.delete=function(){return this.checkActive(),new lf(this.global)},u.prototype.observe=function(o,s){this.checkActive();var f=this.global.getService(Le.OBSERVER_REGISTRY);f.addObserver(o,s)},u.prototype.unobserve=function(o,s){this.checkActive();var f=this.global.getService(Le.OBSERVER_REGISTRY);f.removeObserver(o,s)},u.prototype.createTransaction=function(o){return this.checkActive(),new _a(this.global)},u.prototype.close=function(){try{var o=this.global.getService(Le.BACK_STORE);o.close()}catch{}this.global.clear(),this.isActive=!1},u.prototype.export=function(){this.checkActive();var o=new Js(this.global);return this.runner.scheduleTask(o).then(function(s){return s[0].getPayloads()[0]})},u.prototype.import=function(o){var s=o;this.checkActive();var f=new sf(this.global,s);return this.runner.scheduleTask(f)},u.prototype.isOpen=function(){return this.isActive},u.prototype.checkActive=function(){if(!this.isActive)throw new M(b.CONNECTION_CLOSED)},u.prototype.createBackStore=function(o,s){var f;if($.get().getOptions().memoryOnly)return f=new ma(o),f;var p;if(s===void 0||s.storeType===void 0){var w=ou.get();p=w.indexedDb?c.INDEXED_DB:w.webSql?c.WEB_SQL:c.MEMORY}else p=s.storeType;switch(p){case c.INDEXED_DB:f=new ks(this.global,o);break;case c.MEMORY:f=new ma(o);break;case c.OBSERVABLE_STORE:f=new On(o);break;case c.WEB_SQL:f=new Wo(this.global,o,s?s.websqlDbSize:void 0);break;default:throw new M(b.NOT_SUPPORTED)}return f},u}(),Xs=function(){function u(o){this.name=o,this.visited=!1,this.onStack=!1,this.edges=new Set}return u}(),su=function(){function u(o,s,f,p,w,_){this.table=o,this.name=s,this.unique=f,this.nullable=p,this.type=w,this.alias=_||null,this.indices=[],this.index=void 0}return u.prototype.getName=function(){return this.name},u.prototype.getNormalizedName=function(){return this.table.getEffectiveName()+"."+this.name},u.prototype.toString=function(){return this.getNormalizedName()},u.prototype.getTable=function(){return this.table},u.prototype.getType=function(){return this.type},u.prototype.getAlias=function(){return this.alias},u.prototype.isNullable=function(){return this.nullable},u.prototype.isUnique=function(){return this.unique},u.prototype.getIndices=function(){var o=this;return this.table.getIndices().forEach(function(s){var f=s.columns.map(function(p){return p.schema.getName()});f.indexOf(o.name)!==-1&&o.indices.push(s)}),this.indices},u.prototype.getIndex=function(){var o=this;if(this.index===void 0){var s=this.getIndices().filter(function(f){return f.columns.length!==1?!1:f.columns[0].schema.getName()===o.name});this.index=s.length>0?s[0]:null}return this.index},u.prototype.eq=function(o){return Cr(this,o,pe.EQ)},u.prototype.neq=function(o){return Cr(this,o,pe.NEQ)},u.prototype.lt=function(o){return Cr(this,o,pe.LT)},u.prototype.lte=function(o){return Cr(this,o,pe.LTE)},u.prototype.gt=function(o){return Cr(this,o,pe.GT)},u.prototype.gte=function(o){return Cr(this,o,pe.GTE)},u.prototype.match=function(o){return Cr(this,o,pe.MATCH)},u.prototype.between=function(o,s){return Cr(this,[o,s],pe.BETWEEN)},u.prototype.in=function(o){return Cr(this,o,pe.IN)},u.prototype.isNull=function(){return this.eq(null)},u.prototype.isNotNull=function(){return this.neq(null)},u.prototype.as=function(o){return new u(this.table,this.name,this.unique,this.nullable,this.type,o)},u}(),lu=function(u){t(o,u);function o(s,f,p,w,_){var B=u.call(this,w,_)||this;return B.functionMap=s,B.columns=f,B.payload_=_||B.defaultPayload(),B}return o.prototype.defaultPayload=function(){if(this.columns===void 0)return null;var s={};return this.columns.forEach(function(f){s[f.getName()]=f.isNullable()?null:g.get(f.getType())}),s},o.prototype.toDbPayload=function(){var s=this,f={};return this.columns.forEach(function(p){var w=p.getName(),_=p.getType(),B=s.payload()[w];_===m.ARRAY_BUFFER?B=B?z.binToHex(B):null:_===m.DATE_TIME?B=B?B.getTime():null:_===m.OBJECT&&(B=B||null),f[w]=B}),f},o.prototype.keyOfIndex=function(s){var f=u.prototype.keyOfIndex.call(this,s);if(f===null){var p=this.functionMap.get(s);if(p)return p(this.payload())}return f},o}(z),Aa=function(){function u(o,s,f,p,w){var _=this;this._name=o,this._indices=f,this._usePersistentIndex=p,this._columns=[],s.forEach(function(B){var H=new su(_,B.name,B.unique,B.nullable,B.type);_[B.name]=H,_._columns.push(H)},this),this._referencingFK=null,this._functionMap=null,this._constraint=null,this._evalRegistry=bt.get(),this._alias=w||null}return u.prototype.getName=function(){return this._name},u.prototype.getAlias=function(){return this._alias},u.prototype.getEffectiveName=function(){return this._alias||this._name},u.prototype.getIndices=function(){return this._indices||u.EMPTY_INDICES},u.prototype.getColumns=function(){return this._columns},u.prototype.getConstraint=function(){return this._constraint},u.prototype.persistentIndex=function(){return this._usePersistentIndex},u.prototype.as=function(o){var s=this._columns.map(function(p){return{name:p.getName(),nullable:p.isNullable(),type:p.getType(),unique:p.isUnique()}}),f=new u(this._name,s,this._indices,this._usePersistentIndex,o);return f._referencingFK=this._referencingFK,f._constraint=this._constraint,f._alias=o,f},u.prototype.col=function(o){return this[o]},u.prototype.getRowIdIndexName=function(){return this._name+"."+u.ROW_ID_INDEX_PATTERN},u.prototype.createRow=function(o){return new lu(this._functionMap,this._columns,this._indices,z.getNextId(),o)},u.prototype.deserializeRow=function(o){var s={};return this._columns.forEach(function(f){var p=f.getName(),w=f.getType(),_=o.value[p];w===m.ARRAY_BUFFER?_=z.hexToBin(_):w===m.DATE_TIME&&(_=_!==null?new Date(_):null),s[p]=_}),new lu(this._functionMap,this._columns,this._indices,o.id,s)},u.prototype.constructIndices=function(o,s,f,p,w){var _=this;if(s.size===0){this._constraint=new J(null,[],[]);return}var B=new Map;this._columns.forEach(function(me){return B.set(me.getName(),me)}),this._indices=Array.from(s.keys()).map(function(me){return new re(_._name,me,f.has(me),_.generateIndexedColumns(s,B,me))}),this._functionMap=new Map,this._indices.forEach(function(me){return _._functionMap.set(me.getNormalizedName(),_.getKeyOfIndexFn(B,me))});var H=o===null?null:new re(this._name,o,!0,this.generateIndexedColumns(s,B,o)),ie=this._columns.filter(function(me){return!p.has(me.getName())});this._constraint=new J(H,ie,w)},u.prototype.generateIndexedColumns=function(o,s,f){var p=o.get(f);if(p)return p.map(function(w){return{autoIncrement:w.autoIncrement,order:w.order,schema:s.get(w.name)}});throw new M(b.ASSERTION)},u.prototype.getSingleKeyFn=function(o,s){var f=o.get(s.getName());if(f){var p=f.getType(),w=this._evalRegistry.getKeyOfIndexEvaluator(p);return function(_){return w(_[s.getName()])}}throw new M(b.ASSERTION)},u.prototype.getMultiKeyFn=function(o,s){var f=this,p=s.map(function(w){return f.getSingleKeyFn(o,w.schema)});return function(w){return p.map(function(_){return _(w)})}},u.prototype.getKeyOfIndexFn=function(o,s){return s.columns.length===1?this.getSingleKeyFn(o,s.columns[0].schema):this.getMultiKeyFn(o,s.columns)},u.ROW_ID_INDEX_PATTERN="#",u.EMPTY_INDICES=[],u}(),Ra=function(){function u(o){this.checkNamingRules(o),this.name=o,this.columns=new Map,this.uniqueColumns=new Set,this.uniqueIndices=new Set,this.nullable=new Set,this.pkName=null,this.indices=new Map,this.persistIndex=!1,this.fkSpecs=[]}return u.toPascal=function(o){return o[0].toUpperCase()+o.substring(1)},u.prototype.addColumn=function(o,s){return this.checkNamingRules(o),this.checkNameConflicts(o),this.columns.set(o,s),u.NULLABLE_TYPES_BY_DEFAULT.has(s)&&this.addNullable([o]),this},u.prototype.addPrimaryKey=function(o,s){s===void 0&&(s=!1),this.pkName="pk"+u.toPascal(this.name),this.checkNamingRules(this.pkName),this.checkNameConflicts(this.pkName);var f=this.normalizeColumns(o,!0,void 0,s);return this.checkPrimaryKey(f),f.length===1&&this.uniqueColumns.add(f[0].name),this.uniqueIndices.add(this.pkName),this.indices.set(this.pkName,f),this},u.prototype.addForeignKey=function(o,s){this.checkNamingRules(o),this.checkNameConflicts(o),s.action===void 0&&(s.action=i.RESTRICT),s.timing===void 0&&(s.timing=a.IMMEDIATE);var f=new de(s,this.name,o);if(f.action===i.CASCADE&&f.timing===a.DEFERRABLE)throw new M(b.IMMEDIATE_EVAL_ONLY);if(!this.columns.has(f.childColumn))throw new M(b.INVALID_FK_REF,this.name+"."+o);return this.fkSpecs.push(f),this.addIndex(o,[f.childColumn],this.uniqueColumns.has(f.childColumn)),this},u.prototype.addUnique=function(o,s){this.checkNamingRules(o),this.checkNameConflicts(o);var f=this.normalizeColumns(s,!0);return f.length===1&&(this.uniqueColumns.add(f[0].name),this.markFkIndexForColumnUnique(f[0].name)),this.indices.set(o,f),this.uniqueIndices.add(o),this},u.prototype.addNullable=function(o){var s=this;return this.normalizeColumns(o,!1).forEach(function(f){return s.nullable.add(f.name)}),this},u.prototype.addIndex=function(o,s,f,p){return f===void 0&&(f=!1),p===void 0&&(p=d.ASC),this.checkNamingRules(o),this.checkNameConflicts(o),this.indices.set(o,this.normalizeColumns(s,!0,p)),f&&this.uniqueIndices.add(o),this},u.prototype.persistentIndex=function(o){this.persistIndex=o},u.prototype.getSchema=function(){var o=this;this.checkPrimaryKeyNotForeignKey(),this.checkPrimaryKeyDuplicateIndex(),this.checkPrimaryKeyNotNullable();var s=Array.from(this.columns.keys()).map(function(p){return{name:p,nullable:o.nullable.has(p)||!1,type:o.columns.get(p),unique:o.uniqueColumns.has(p)||!1}}),f=new Aa(this.name,s,null,this.persistIndex);return f.constructIndices(this.pkName,this.indices,this.uniqueIndices,this.nullable,this.fkSpecs),f},u.prototype.getFkSpecs=function(){return this.fkSpecs},u.prototype.checkNamingRules=function(o){if(!/^[A-Za-z_][A-Za-z0-9_]*$/.test(o))throw new M(b.INVALID_NAME,o)},u.prototype.checkNameConflicts=function(o){if(o===this.name)throw new M(b.DUPLICATE_NAME,o);if(this.columns.has(o)||this.indices.has(o)||this.uniqueIndices.has(o))throw new M(b.NAME_IN_USE,this.name+"."+o)},u.prototype.checkPrimaryKey=function(o){var s=this,f=!1;if(o.forEach(function(p){var w=s.columns.get(p.name);if(f=f||p.autoIncrement,p.autoIncrement&&w!==m.INTEGER)throw new M(b.INVALID_AUTO_KEY_TYPE)}),f&&o.length>1)throw new M(b.INVALID_AUTO_KEY_COLUMN)},u.prototype.checkPrimaryKeyNotForeignKey=function(){if(this.pkName!==null){var o=this.indices.get(this.pkName);if(o){var s=o.map(function(w){return w.name}),f=0,p=this.fkSpecs.some(function(w,_){return f=_,s.indexOf(w.childColumn)!==-1});if(p)throw new M(b.PK_CANT_BE_FK,this.fkSpecs[f].name)}}},u.prototype.checkPrimaryKeyDuplicateIndex=function(){var o=this;if(this.pkName!==null){var s=this.indices.get(this.pkName);if(s){var f=function(w){return w.name},p=JSON.stringify(s.map(f));this.indices.forEach(function(w,_){if(_!==o.pkName&&JSON.stringify(w.map(f))===p)throw new M(b.DUPLICATE_PK,o.name+"."+_)})}}},u.prototype.checkPrimaryKeyNotNullable=function(){var o=this;if(this.pkName!==null){var s=this.indices.get(this.pkName);s&&s.forEach(function(f){if(o.nullable.has(f.name))throw new M(b.NULLABLE_PK,o.name+"."+f.name)})}},u.prototype.normalizeColumns=function(o,s,f,p){var w=this;f===void 0&&(f=d.ASC),p===void 0&&(p=!1);var _=null;if(typeof o[0]=="string"){var B=o;_=B.map(function(H){return{autoIncrement:p||!1,name:H,order:f}})}else _=o;return _.forEach(function(H){if(!w.columns.has(H.name))throw new M(b.COLUMN_NOT_FOUND,w.name,H.name);if(s){var ie=w.columns.get(H.name);if(ie===m.ARRAY_BUFFER||ie===m.OBJECT)throw new M(b.COLUMN_NOT_INDEXABLE,w.name,H.name)}}),_},u.prototype.markFkIndexForColumnUnique=function(o){var s=this;this.fkSpecs.forEach(function(f){f.childColumn===o&&s.uniqueIndices.add(f.name.split(".")[1])})},u.NULLABLE_TYPES_BY_DEFAULT=new Set([m.ARRAY_BUFFER,m.OBJECT]),u}();e.TableBuilder=Ra;var ka=function(){function u(o,s){this.schema=new Ye(o,s),this.tableBuilders=new Map,this.finalized=!1,this.db=null,this.connectInProgress=!1}return u.prototype.getSchema=function(){return this.finalized||this.finalize(),this.schema},u.prototype.getGlobal=function(){var o=new j("ns_"+this.schema.name()),s=$.get(),f;return s.isRegistered(o)?f=s.getService(o):(f=new $,s.registerService(o,f)),f},u.prototype.connect=function(o){var s=this;if(this.connectInProgress||this.db!==null&&this.db.isOpen())throw new M(b.ALREADY_CONNECTED);if(this.connectInProgress=!0,this.db===null){var f=this.getGlobal();f.isRegistered(Le.SCHEMA)||f.registerService(Le.SCHEMA,this.getSchema()),this.db=new Oa(f)}return this.db.init(o).then(function(p){return s.connectInProgress=!1,p},function(p){throw s.connectInProgress=!1,s.db.close(),p})},u.prototype.createTable=function(o){if(this.tableBuilders.has(o))throw new M(b.NAME_IN_USE,o);if(this.finalized)throw new M(b.SCHEMA_FINALIZED);this.tableBuilders.set(o,new Ra(o));var s=this.tableBuilders.get(o);if(!s)throw new M(b.ASSERTION,"Builder.createTable");return s},u.prototype.setPragma=function(o){if(this.finalized)throw new M(b.SCHEMA_FINALIZED);return this.schema._pragma=o,this},u.prototype.checkFkCycle=function(){var o=this,s=new Map;this.schema.tables().forEach(function(f){s.set(f.getName(),new Xs(f.getName()))},this),this.tableBuilders.forEach(function(f,p){f.getFkSpecs().forEach(function(w){var _=s.get(w.parentTable);_&&_.edges.add(p)})}),Array.from(s.values()).forEach(function(f){return o.checkCycleUtil(f,s)})},u.prototype.checkForeignKeyValidity=function(o){var s=this;o.getFkSpecs().forEach(function(f){var p=f.parentTable,w=s.tableBuilders.get(p);if(!w)throw new M(b.INVALID_FK_TABLE);var _=w.getSchema(),B=f.parentColumn;if(!Object.prototype.hasOwnProperty.call(_,B))throw new M(b.INVALID_FK_COLUMN);var H=o.getSchema(),ie=f.childColumn;if(H[ie].getType()!==_[B].getType())throw new M(b.INVALID_FK_COLUMN_TYPE,f.name);if(!_[B].isUnique())throw new M(b.FK_COLUMN_NONUNIQUE,f.name)},this)},u.prototype.checkForeignKeyChain=function(o){var s=this,f=o.getFkSpecs();f.forEach(function(p){var w=s.tableBuilders.get(p.parentTable);w&&w.getFkSpecs().forEach(function(_){if(_.childColumn===p.parentColumn)throw new M(b.FK_COLUMN_IN_USE,p.name)},s)},this)},u.prototype.finalize=function(){var o=this;this.finalized||(this.tableBuilders.forEach(function(s,f){o.checkForeignKeyValidity(s),o.schema.setTable(s.getSchema())}),Array.from(this.tableBuilders.values()).forEach(this.checkForeignKeyChain,this),this.checkFkCycle(),this.tableBuilders.clear(),this.finalized=!0)},u.prototype.checkCycleUtil=function(o,s){var f=this;o.visited||(o.visited=!0,o.onStack=!0,o.edges.forEach(function(p){var w=s.get(p);if(w){if(!w.visited)f.checkCycleUtil(w,s);else if(w.onStack&&o!==w)throw new M(b.FK_LOOP)}},this)),o.onStack=!1},u}();e.Builder=ka;var Zs=function(){function u(){}return u.create=function(o,s){return new ka(o,s)},u}();e.schema=Zs})(IO);const NO=IO,cW={debugMode:!1,memoryOnly:!0};NO.options.set(cW);var be=NO,Mt=(e=>(e.Collection="Collection",e.CollectionItem="CollectionItem",e.Column="Column",e.ColumnConstraint="ColumnConstraint",e.Directory="Directory",e.DoctrineColumnType="DoctrineColumnType",e.Entity="Entity",e.Example="Example",e.ExampleMap="ExampleMap",e.File="File",e.Index="Index",e.IndexColumn="IndexColumn",e.Module="Module",e.ModuleAction="ModuleAction",e.ModuleActionResponse="ModuleActionResponse",e.ParameterMap="ParameterMap",e.Path="Path",e.PathMethod="PathMethod",e.Relation="Relation",e.Request="Request",e.Response="Response",e.Server="Server",e.ServerMap="ServerMap",e.ServerVariable="ServerVariable",e.TypeFormat="TypeFormat",e.Variable="Variable",e.Wu="Wu",e.WuColumn="WuColumn",e.WuColumnConstraint="WuColumnConstraint",e.WuParameter="WuParameter",e))(Mt||{});function fW(e){let t="Collection",n=_o(e,t).addColumn("valueDescription",be.Type.STRING).addColumn("tagDescription",be.Type.STRING);t="CollectionItem",n=e.createTable(t).addColumn("id",be.Type.INTEGER).addColumn("name",be.Type.STRING).addColumn("value",be.Type.STRING).addColumn("tag",be.Type.STRING).addPrimaryKey(["id"],!0),ot(n,t,"Collection"),Ar(n,t,[Pt("Collection"),"name"]),t="Directory",n=e.createTable(t).addColumn("id",be.Type.INTEGER).addColumn("opened",be.Type.BOOLEAN).addColumn("name",be.Type.STRING).addColumn("description",be.Type.STRING).addColumn("parentId",be.Type.INTEGER).addPrimaryKey(["id"],!0).addNullable(["parentId"]),Ar(n,t,["parentId","name"]),t="DoctrineColumnType",n=_o(e,t).addColumn("fakeMethod",be.Type.STRING).addColumn("fakeText",be.Type.STRING).addColumn("oapiFormat",be.Type.STRING).addColumn("oapiType",be.Type.STRING).addColumn("phpType",be.Type.STRING),t="File",n=e.createTable(t).addColumn("id",be.Type.INTEGER).addColumn("isSingle",be.Type.BOOLEAN).addColumn("name",be.Type.STRING).addColumn("color",be.Type.STRING).addColumn("layer",be.Type.STRING).addColumn("description",be.Type.STRING).addColumn("nameSpacePattern",be.Type.STRING).addColumn("fileNamePattern",be.Type.STRING).addPrimaryKey(["id"],!0),ot(n,t,"Directory"),Ar(n,t,["name"]),t="Entity",n=_o(e,t).addColumn("isTable",be.Type.BOOLEAN).addColumn("table",be.Type.STRING).addColumn("opened",be.Type.BOOLEAN).addColumn("openedColumn",be.Type.BOOLEAN).addColumn("x",be.Type.INTEGER).addColumn("y",be.Type.INTEGER),t="TypeFormat",n=e.createTable(t).addColumn("id",be.Type.INTEGER).addPrimaryKey(["id"],!0).addColumn("type",be.Type.STRING).addColumn("format",be.Type.STRING).addColumn("isArray",be.Type.BOOLEAN).addColumn("nullable",be.Type.BOOLEAN).addColumn("ownerId",be.Type.INTEGER).addNullable(["ownerId"]),ot(n,t,"Variable"),ot(n,t,"Wu"),ot(n,t,"WuParameter"),ot(n,t,"WuParameter","forWuParameterId",!0),ot(n,t,"Column","ownerColumnId",!0),ot(n,t,"Request","ownerRequestId",!0),ot(n,t,"Response","ownerResponseId",!0),ot(n,t,"Wu","ownerWuId",!0),ot(n,t,"Wu","ownerWuChildId",!0),n.addNullable([Pt("Variable"),Pt("WuParameter")]),t="Column",n=e.createTable(t).addColumn("id",be.Type.INTEGER).addPrimaryKey(["id"],!0).addColumn("name",be.Type.STRING).addColumn("type",be.Type.STRING).addColumn("length",be.Type.INTEGER).addColumn("scale",be.Type.INTEGER).addColumn("unsigned",be.Type.BOOLEAN).addColumn("nullable",be.Type.BOOLEAN).addColumn("comment",be.Type.STRING).addColumn("default",be.Type.STRING).addColumn("fillable",be.Type.BOOLEAN).addColumn("hidden",be.Type.BOOLEAN).addColumn("ro",be.Type.BOOLEAN).addColumn("wo",be.Type.BOOLEAN).addColumn("cast",be.Type.STRING).addColumn("fakeRaw",be.Type.BOOLEAN).addColumn("fakeUnique",be.Type.BOOLEAN).addColumn("fakeMethod",be.Type.STRING).addColumn("fakeText",be.Type.STRING).addColumn("inTable",be.Type.BOOLEAN).addColumn("color",be.Type.STRING).addColumn("deprecated",be.Type.BOOLEAN).addColumn("description",be.Type.BOOLEAN).addColumn("example",be.Type.STRING).addColumn("explode",be.Type.BOOLEAN).addColumn("required",be.Type.BOOLEAN).addColumn("style",be.Type.STRING),ot(n,t,"Entity"),Ar(n,t,[Pt("Entity"),"name"]),t="ColumnConstraint",n=e.createTable(t).addColumn("id",be.Type.INTEGER).addColumn("name",be.Type.STRING).addColumn("parameter",be.Type.STRING).addPrimaryKey(["id"],!0),ot(n,t,"Column"),t="Relation",n=e.createTable(t).addColumn("id",be.Type.INTEGER).addColumn("type",be.Type.STRING).addColumn("name0",be.Type.STRING).addColumn("name1",be.Type.STRING).addColumn("addToModel",be.Type.BOOLEAN).addPrimaryKey(["id"],!0),ot(n,t,"Entity","entity0Id"),ot(n,t,"Entity","entity1Id"),ot(n,t,"Column","column1Id"),t="Index",n=e.createTable(t).addColumn("id",be.Type.INTEGER).addColumn("type",be.Type.STRING).addPrimaryKey(["id"],!0),ot(n,t,"Entity"),t="IndexColumn",n=e.createTable(t).addColumn("id",be.Type.INTEGER).addColumn("sort",be.Type.INTEGER).addPrimaryKey(["id"],!0),ot(n,t,"Column"),ot(n,t,"Index"),Ar(n,t,[Pt("Column"),Pt("Index")]),t="Wu",n=_o(e,t).addColumn("type",be.Type.STRING).addColumn("example",be.Type.STRING).addColumn("isRequest",be.Type.BOOLEAN).addColumn("isMap",be.Type.BOOLEAN),ot(n,t,"Entity"),t="WuColumn",n=e.createTable(t).addColumn("id",be.Type.INTEGER).addColumn("alias",be.Type.STRING).addPrimaryKey(["id"],!0),ot(n,t,"Wu"),ot(n,t,"Column"),t="WuColumnConstraint",n=e.createTable(t).addColumn("id",be.Type.INTEGER).addPrimaryKey(["id"],!0),ot(n,t,"ColumnConstraint"),ot(n,t,"WuColumn"),t="WuParameter",n=e.createTable(t).addColumn("id",be.Type.INTEGER).addColumn("name",be.Type.STRING).addColumn("description",be.Type.STRING).addColumn("isWu",be.Type.BOOLEAN).addPrimaryKey(["id"],!0),ot(n,t,"Wu"),Ar(n,t,[Pt("Wu"),"name"]),t="Module",n=_o(e,t),ot(n,t,"File"),ot(n,t,"Directory"),ot(n,t,"Directory","testDirectoryId"),t="ModuleAction",n=e.createTable(t).addColumn("id",be.Type.INTEGER).addColumn("deprecated",be.Type.BOOLEAN).addColumn("inRoute",be.Type.BOOLEAN).addColumn("description",be.Type.STRING).addColumn("filezz",be.Type.OBJECT).addColumn("name",be.Type.STRING).addColumn("summary",be.Type.STRING).addColumn("routeName",be.Type.STRING).addPrimaryKey(["id"],!0),ot(n,t,"Directory"),ot(n,t,"Request"),ot(n,t,"Entity"),ot(n,t,"Module"),Ar(n,t,[Pt("Entity"),Pt("Module"),"name"]),t="Path",n=xO(e,t).addColumn("summary",be.Type.STRING).addColumn("method",be.Type.STRING).addColumn("middlewarezz",be.Type.OBJECT),ot(n,t,"Module"),ot(n,t,"Entity"),ot(n,t,"ModuleAction"),Ar(n,t,[Pt("Module"),"name"]),t="ParameterMap",n=e.createTable(t).addColumn("id",be.Type.INTEGER).addColumn("alias",be.Type.STRING).addPrimaryKey(["id"],!0),ot(n,t,"Column"),ot(n,t,"Path"),ot(n,t,"Request"),ot(n,t,"Response"),Ar(n,t,[Pt("Column"),Pt("Path"),Pt("Request"),Pt("Response")]).addNullable([Pt("Path"),Pt("Request"),Pt("Response")]),t="Request",n=_o(e,t).addColumn("example",be.Type.STRING).addColumn("mediaType",be.Type.STRING).addColumn("required",be.Type.BOOLEAN),t="Response",n=_o(e,t).addColumn("example",be.Type.STRING).addColumn("mediaType",be.Type.STRING),t="ModuleActionResponse",n=e.createTable(t).addColumn("id",be.Type.INTEGER).addColumn("description",be.Type.STRING).addColumn("status",be.Type.STRING).addPrimaryKey(["id"],!0),ot(n,t,"ModuleAction"),ot(n,t,"Response"),Ar(n,t,[Pt("ModuleAction"),"status"]),t="Example",n=_o(e,t).addColumn("summary",be.Type.STRING).addColumn("value",be.Type.STRING),t="ExampleMap",n=e.createTable(t).addColumn("id",be.Type.INTEGER).addPrimaryKey(["id"],!0),ot(n,t,"Example"),ot(n,t,"Request"),ot(n,t,"Response"),Ar(n,t,[Pt("Example"),Pt("Request"),Pt("Response")]).addNullable([Pt("Request"),Pt("Response")]),t="Server",n=_o(e,t).addColumn("global",be.Type.BOOLEAN),t="ServerMap",n=e.createTable(t).addColumn("id",be.Type.INTEGER).addPrimaryKey(["id"],!0),ot(n,t,"Path"),ot(n,t,"Request"),ot(n,t,"Server"),Ar(n,t,[Pt("Path"),Pt("Request"),Pt("Server")]).addNullable([Pt("Path"),Pt("Request")]),t="Variable",n=_o(e,t).addColumn("default",be.Type.STRING).addColumn("enum",be.Type.OBJECT).addColumn("type",be.Type.STRING),t="ServerVariable",n=e.createTable(t).addColumn("id",be.Type.INTEGER).addPrimaryKey(["id"],!0),ot(n,t,"Server"),ot(n,t,"Variable"),Ar(n,t,[Pt("Server"),Pt("Variable")]),e.createTable("PathMethod")}function xO(e,t){return e.createTable(t).addColumn("id",be.Type.INTEGER).addColumn("name",be.Type.STRING).addColumn("color",be.Type.STRING).addColumn("description",be.Type.STRING).addColumn("reserved",be.Type.BOOLEAN).addPrimaryKey(["id"],!0)}function _o(e,t){const n=xO(e,t);return Ar(n,t,["name"]),n}function ot(e,t,n,r,i=!1){const a=r!=null?r:Pt(n);return e.addColumn(a,be.Type.INTEGER).addForeignKey(`fk_${t}_${a}`,{action:be.ConstraintAction.CASCADE,local:a,ref:n+".id"}),i?e.addNullable([a]):e}function Pt(e,t=sd.SineCase){const n=e+Ht.Id;switch(t){case sd.SineCase:return kd.lowerFirst(n);case sd.SnakeCase:return kd.snakeCase(n)}return n}function Ar(e,t,n){return e.addUnique(`uk_${t}_${n.join("_")}`,n)}var P0={exports:{}},TO=function(t,n){return function(){for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];return t.apply(n,i)}},dW=TO,D0=Object.prototype.toString,L0=function(e){return function(t){var n=D0.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function Fl(e){return e=e.toLowerCase(),function(n){return L0(n)===e}}function z0(e){return Array.isArray(e)}function wm(e){return typeof e=="undefined"}function hW(e){return e!==null&&!wm(e)&&e.constructor!==null&&!wm(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}var _O=Fl("ArrayBuffer");function pW(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&_O(e.buffer),t}function mW(e){return typeof e=="string"}function gW(e){return typeof e=="number"}function OO(e){return e!==null&&typeof e=="object"}function kp(e){if(L0(e)!=="object")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}var vW=Fl("Date"),yW=Fl("File"),wW=Fl("Blob"),bW=Fl("FileList");function M0(e){return D0.call(e)==="[object Function]"}function SW(e){return OO(e)&&M0(e.pipe)}function EW(e){var t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||D0.call(e)===t||M0(e.toString)&&e.toString()===t)}var CW=Fl("URLSearchParams");function IW(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function NW(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function B0(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),z0(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function tb(){var e={};function t(i,a){kp(e[a])&&kp(i)?e[a]=tb(e[a],i):kp(i)?e[a]=tb({},i):z0(i)?e[a]=i.slice():e[a]=i}for(var n=0,r=arguments.length;n<r;n++)B0(arguments[n],t);return e}function xW(e,t,n){return B0(t,function(i,a){n&&typeof i=="function"?e[a]=dW(i,n):e[a]=i}),e}function TW(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}function _W(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)}function OW(e,t,n){var r,i,a,c={};t=t||{};do{for(r=Object.getOwnPropertyNames(e),i=r.length;i-- >0;)a=r[i],c[a]||(t[a]=e[a],c[a]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t}function AW(e,t,n){e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return r!==-1&&r===n}function RW(e){if(!e)return null;var t=e.length;if(wm(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n}var kW=function(e){return function(t){return e&&t instanceof e}}(typeof Uint8Array!="undefined"&&Object.getPrototypeOf(Uint8Array)),Qn={isArray:z0,isArrayBuffer:_O,isBuffer:hW,isFormData:EW,isArrayBufferView:pW,isString:mW,isNumber:gW,isObject:OO,isPlainObject:kp,isUndefined:wm,isDate:vW,isFile:yW,isBlob:wW,isFunction:M0,isStream:SW,isURLSearchParams:CW,isStandardBrowserEnv:NW,forEach:B0,merge:tb,extend:xW,trim:IW,stripBOM:TW,inherits:_W,toFlatObject:OW,kindOf:L0,kindOfTest:Fl,endsWith:AW,toArray:RW,isTypedArray:kW,isFileList:bW},Cu=Qn;function PN(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var AO=function(t,n,r){if(!n)return t;var i;if(r)i=r(n);else if(Cu.isURLSearchParams(n))i=n.toString();else{var a=[];Cu.forEach(n,function(m,g){m===null||typeof m=="undefined"||(Cu.isArray(m)?g=g+"[]":m=[m],Cu.forEach(m,function(b){Cu.isDate(b)?b=b.toISOString():Cu.isObject(b)&&(b=JSON.stringify(b)),a.push(PN(g)+"="+PN(b))}))}),i=a.join("&")}if(i){var c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t},PW=Qn;function fg(){this.handlers=[]}fg.prototype.use=function(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};fg.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};fg.prototype.forEach=function(t){PW.forEach(this.handlers,function(r){r!==null&&t(r)})};var DW=fg,LW=Qn,zW=function(t,n){LW.forEach(t,function(i,a){a!==n&&a.toUpperCase()===n.toUpperCase()&&(t[n]=i,delete t[a])})},RO=Qn;function sc(e,t,n,r,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}RO.inherits(sc,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var kO=sc.prototype,PO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(e){PO[e]={value:e}});Object.defineProperties(sc,PO);Object.defineProperty(kO,"isAxiosError",{value:!0});sc.from=function(e,t,n,r,i,a){var c=Object.create(kO);return RO.toFlatObject(e,c,function(m){return m!==Error.prototype}),sc.call(c,e.message,t,n,r,i),c.name=e.name,a&&Object.assign(c,a),c};var Rc=sc,DO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Xi=Qn;function MW(e,t){t=t||new FormData;var n=[];function r(a){return a===null?"":Xi.isDate(a)?a.toISOString():Xi.isArrayBuffer(a)||Xi.isTypedArray(a)?typeof Blob=="function"?new Blob([a]):Buffer.from(a):a}function i(a,c){if(Xi.isPlainObject(a)||Xi.isArray(a)){if(n.indexOf(a)!==-1)throw Error("Circular reference detected in "+c);n.push(a),Xi.forEach(a,function(m,g){if(!Xi.isUndefined(m)){var y=c?c+"."+g:g,b;if(m&&!c&&typeof m=="object"){if(Xi.endsWith(g,"{}"))m=JSON.stringify(m);else if(Xi.endsWith(g,"[]")&&(b=Xi.toArray(m))){b.forEach(function(C){!Xi.isUndefined(C)&&t.append(y,r(C))});return}}i(m,y)}}),n.pop()}else t.append(c,r(a))}return i(e),t}var LO=MW,Ay=Rc,BW=function(t,n,r){var i=r.config.validateStatus;!r.status||!i||i(r.status)?t(r):n(new Ay("Request failed with status code "+r.status,[Ay.ERR_BAD_REQUEST,Ay.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))},fp=Qn,FW=fp.isStandardBrowserEnv()?function(){return{write:function(n,r,i,a,c,d){var m=[];m.push(n+"="+encodeURIComponent(r)),fp.isNumber(i)&&m.push("expires="+new Date(i).toGMTString()),fp.isString(a)&&m.push("path="+a),fp.isString(c)&&m.push("domain="+c),d===!0&&m.push("secure"),document.cookie=m.join("; ")},read:function(n){var r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),UW=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},WW=function(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t},$W=UW,qW=WW,zO=function(t,n){return t&&!$W(n)?qW(t,n):n},Ry=Qn,jW=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],KW=function(t){var n={},r,i,a;return t&&Ry.forEach(t.split(`
`),function(d){if(a=d.indexOf(":"),r=Ry.trim(d.substr(0,a)).toLowerCase(),i=Ry.trim(d.substr(a+1)),r){if(n[r]&&jW.indexOf(r)>=0)return;r==="set-cookie"?n[r]=(n[r]?n[r]:[]).concat([i]):n[r]=n[r]?n[r]+", "+i:i}}),n},DN=Qn,VW=DN.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),r;function i(a){var c=a;return t&&(n.setAttribute("href",c),c=n.href),n.setAttribute("href",c),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(c){var d=DN.isString(c)?i(c):c;return d.protocol===r.protocol&&d.host===r.host}}():function(){return function(){return!0}}(),nb=Rc,GW=Qn;function MO(e){nb.call(this,e==null?"canceled":e,nb.ERR_CANCELED),this.name="CanceledError"}GW.inherits(MO,nb,{__CANCEL__:!0});var dg=MO,HW=function(t){var n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""},Lf=Qn,YW=BW,JW=FW,QW=AO,XW=zO,ZW=KW,e$=VW,t$=DO,ta=Rc,n$=dg,r$=HW,LN=function(t){return new Promise(function(r,i){var a=t.data,c=t.headers,d=t.responseType,m;function g(){t.cancelToken&&t.cancelToken.unsubscribe(m),t.signal&&t.signal.removeEventListener("abort",m)}Lf.isFormData(a)&&Lf.isStandardBrowserEnv()&&delete c["Content-Type"];var y=new XMLHttpRequest;if(t.auth){var b=t.auth.username||"",C=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";c.Authorization="Basic "+btoa(b+":"+C)}var A=XW(t.baseURL,t.url);y.open(t.method.toUpperCase(),QW(A,t.params,t.paramsSerializer),!0),y.timeout=t.timeout;function P(){if(!!y){var I="getAllResponseHeaders"in y?ZW(y.getAllResponseHeaders()):null,N=!d||d==="text"||d==="json"?y.responseText:y.response,D={data:N,status:y.status,statusText:y.statusText,headers:I,config:t,request:y};YW(function(z){r(z),g()},function(z){i(z),g()},D),y=null}}if("onloadend"in y?y.onloadend=P:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(P)},y.onabort=function(){!y||(i(new ta("Request aborted",ta.ECONNABORTED,t,y)),y=null)},y.onerror=function(){i(new ta("Network Error",ta.ERR_NETWORK,t,y,y)),y=null},y.ontimeout=function(){var N=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",D=t.transitional||t$;t.timeoutErrorMessage&&(N=t.timeoutErrorMessage),i(new ta(N,D.clarifyTimeoutError?ta.ETIMEDOUT:ta.ECONNABORTED,t,y)),y=null},Lf.isStandardBrowserEnv()){var L=(t.withCredentials||e$(A))&&t.xsrfCookieName?JW.read(t.xsrfCookieName):void 0;L&&(c[t.xsrfHeaderName]=L)}"setRequestHeader"in y&&Lf.forEach(c,function(N,D){typeof a=="undefined"&&D.toLowerCase()==="content-type"?delete c[D]:y.setRequestHeader(D,N)}),Lf.isUndefined(t.withCredentials)||(y.withCredentials=!!t.withCredentials),d&&d!=="json"&&(y.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&y.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&y.upload&&y.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(m=function(I){!y||(i(!I||I&&I.type?new n$:I),y.abort(),y=null)},t.cancelToken&&t.cancelToken.subscribe(m),t.signal&&(t.signal.aborted?m():t.signal.addEventListener("abort",m))),a||(a=null);var E=r$(A);if(E&&["http","https","file"].indexOf(E)===-1){i(new ta("Unsupported protocol "+E+":",ta.ERR_BAD_REQUEST,t));return}y.send(a)})},i$=null,Dn=Qn,zN=zW,MN=Rc,o$=DO,a$=LO,s$={"Content-Type":"application/x-www-form-urlencoded"};function BN(e,t){!Dn.isUndefined(e)&&Dn.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function l$(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=LN),e}function u$(e,t,n){if(Dn.isString(e))try{return(t||JSON.parse)(e),Dn.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}var hg={transitional:o$,adapter:l$(),transformRequest:[function(t,n){if(zN(n,"Accept"),zN(n,"Content-Type"),Dn.isFormData(t)||Dn.isArrayBuffer(t)||Dn.isBuffer(t)||Dn.isStream(t)||Dn.isFile(t)||Dn.isBlob(t))return t;if(Dn.isArrayBufferView(t))return t.buffer;if(Dn.isURLSearchParams(t))return BN(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var r=Dn.isObject(t),i=n&&n["Content-Type"],a;if((a=Dn.isFileList(t))||r&&i==="multipart/form-data"){var c=this.env&&this.env.FormData;return a$(a?{"files[]":t}:t,c&&new c)}else if(r||i==="application/json")return BN(n,"application/json"),u$(t);return t}],transformResponse:[function(t){var n=this.transitional||hg.transitional,r=n&&n.silentJSONParsing,i=n&&n.forcedJSONParsing,a=!r&&this.responseType==="json";if(a||i&&Dn.isString(t)&&t.length)try{return JSON.parse(t)}catch(c){if(a)throw c.name==="SyntaxError"?MN.from(c,MN.ERR_BAD_RESPONSE,this,null,this.response):c}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:i$},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Dn.forEach(["delete","get","head"],function(t){hg.headers[t]={}});Dn.forEach(["post","put","patch"],function(t){hg.headers[t]=Dn.merge(s$)});var F0=hg,c$=Qn,f$=F0,d$=function(t,n,r){var i=this||f$;return c$.forEach(r,function(c){t=c.call(i,t,n)}),t},BO=function(t){return!!(t&&t.__CANCEL__)},FN=Qn,ky=d$,h$=BO,p$=F0,m$=dg;function Py(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new m$}var g$=function(t){Py(t),t.headers=t.headers||{},t.data=ky.call(t,t.data,t.headers,t.transformRequest),t.headers=FN.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),FN.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var n=t.adapter||p$.adapter;return n(t).then(function(i){return Py(t),i.data=ky.call(t,i.data,i.headers,t.transformResponse),i},function(i){return h$(i)||(Py(t),i&&i.response&&(i.response.data=ky.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},Jr=Qn,FO=function(t,n){n=n||{};var r={};function i(y,b){return Jr.isPlainObject(y)&&Jr.isPlainObject(b)?Jr.merge(y,b):Jr.isPlainObject(b)?Jr.merge({},b):Jr.isArray(b)?b.slice():b}function a(y){if(Jr.isUndefined(n[y])){if(!Jr.isUndefined(t[y]))return i(void 0,t[y])}else return i(t[y],n[y])}function c(y){if(!Jr.isUndefined(n[y]))return i(void 0,n[y])}function d(y){if(Jr.isUndefined(n[y])){if(!Jr.isUndefined(t[y]))return i(void 0,t[y])}else return i(void 0,n[y])}function m(y){if(y in n)return i(t[y],n[y]);if(y in t)return i(void 0,t[y])}var g={url:c,method:c,data:c,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:m};return Jr.forEach(Object.keys(t).concat(Object.keys(n)),function(b){var C=g[b]||a,A=C(b);Jr.isUndefined(A)&&C!==m||(r[b]=A)}),r},UO={version:"0.27.2"},v$=UO.version,ja=Rc,U0={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){U0[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var UN={};U0.transitional=function(t,n,r){function i(a,c){return"[Axios v"+v$+"] Transitional option '"+a+"'"+c+(r?". "+r:"")}return function(a,c,d){if(t===!1)throw new ja(i(c," has been removed"+(n?" in "+n:"")),ja.ERR_DEPRECATED);return n&&!UN[c]&&(UN[c]=!0,console.warn(i(c," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,c,d):!0}};function y$(e,t,n){if(typeof e!="object")throw new ja("options must be an object",ja.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],c=t[a];if(c){var d=e[a],m=d===void 0||c(d,a,e);if(m!==!0)throw new ja("option "+a+" must be "+m,ja.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ja("Unknown option "+a,ja.ERR_BAD_OPTION)}}var w$={assertOptions:y$,validators:U0},WO=Qn,b$=AO,WN=DW,$N=g$,pg=FO,S$=zO,$O=w$,Iu=$O.validators;function lc(e){this.defaults=e,this.interceptors={request:new WN,response:new WN}}lc.prototype.request=function(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=pg(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var r=n.transitional;r!==void 0&&$O.assertOptions(r,{silentJSONParsing:Iu.transitional(Iu.boolean),forcedJSONParsing:Iu.transitional(Iu.boolean),clarifyTimeoutError:Iu.transitional(Iu.boolean)},!1);var i=[],a=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(n)===!1||(a=a&&A.synchronous,i.unshift(A.fulfilled,A.rejected))});var c=[];this.interceptors.response.forEach(function(A){c.push(A.fulfilled,A.rejected)});var d;if(!a){var m=[$N,void 0];for(Array.prototype.unshift.apply(m,i),m=m.concat(c),d=Promise.resolve(n);m.length;)d=d.then(m.shift(),m.shift());return d}for(var g=n;i.length;){var y=i.shift(),b=i.shift();try{g=y(g)}catch(C){b(C);break}}try{d=$N(g)}catch(C){return Promise.reject(C)}for(;c.length;)d=d.then(c.shift(),c.shift());return d};lc.prototype.getUri=function(t){t=pg(this.defaults,t);var n=S$(t.baseURL,t.url);return b$(n,t.params,t.paramsSerializer)};WO.forEach(["delete","get","head","options"],function(t){lc.prototype[t]=function(n,r){return this.request(pg(r||{},{method:t,url:n,data:(r||{}).data}))}});WO.forEach(["post","put","patch"],function(t){function n(r){return function(a,c,d){return this.request(pg(d||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}lc.prototype[t]=n(),lc.prototype[t+"Form"]=n(!0)});var E$=lc,C$=dg;function uc(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var n=this;this.promise.then(function(r){if(!!n._listeners){var i,a=n._listeners.length;for(i=0;i<a;i++)n._listeners[i](r);n._listeners=null}}),this.promise.then=function(r){var i,a=new Promise(function(c){n.subscribe(c),i=c}).then(r);return a.cancel=function(){n.unsubscribe(i)},a},e(function(i){n.reason||(n.reason=new C$(i),t(n.reason))})}uc.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};uc.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};uc.prototype.unsubscribe=function(t){if(!!this._listeners){var n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}};uc.source=function(){var t,n=new uc(function(i){t=i});return{token:n,cancel:t}};var I$=uc,N$=function(t){return function(r){return t.apply(null,r)}},x$=Qn,T$=function(t){return x$.isObject(t)&&t.isAxiosError===!0},qN=Qn,_$=TO,Pp=E$,O$=FO,A$=F0;function qO(e){var t=new Pp(e),n=_$(Pp.prototype.request,t);return qN.extend(n,Pp.prototype,t),qN.extend(n,t),n.create=function(i){return qO(O$(e,i))},n}var zr=qO(A$);zr.Axios=Pp;zr.CanceledError=dg;zr.CancelToken=I$;zr.isCancel=BO;zr.VERSION=UO.version;zr.toFormData=LO;zr.AxiosError=Rc;zr.Cancel=zr.CanceledError;zr.all=function(t){return Promise.all(t)};zr.spread=N$;zr.isAxiosError=T$;P0.exports=zr;P0.exports.default=zr;var jO=P0.exports;let Mo=KO();function KO(){return jO.create({baseURL:location.origin+"/"+Ht.Name2,timeout:33e3})}function R$(){return Mo=KO(),k$()}function k$(){return Mo.get("")}function P$(e,t=!1){return Mo.put("",{content:e,backup:t})}function W0(e,t){return Mo.put("file",{file:e,content:t})}function VO(e){return Mo.get("file",{params:{folder:e}})}function D$(){return Mo.get("dbschema")}function L$(){return Mo.get("dbmigration")}function z$(e){return Mo.post("migration",{step:e})}function M$(){return Mo.post("migration/file")}function B$(e){return Mo.delete("migration/file",{data:{file:e}})}const $0=".js",q0=".txt",jN="code-factory.js",bm="code-helper.js",KN="code-validation.js";function mg(e){return Ht.Folder+"/"+e}function cc(e,t){return`file-${e.id.toString().padStart(4,"0")+t}`}function fc(e){return Ht.Folder+"/code006/"+e}const F$=55,j0=55;function U$(e,t,n){if(e.version!==j0&&(t&&W$(e,t),e.version<F$))throw new Error(`data version ${e.version} is no longer supported`)}function W$(e,t){const n="000"+e.version,r=new Date().toISOString().replaceAll(":","_");W0(mg(`v${n.slice(-3)}-${r}.json`),t)}const K0=be.schema.create("LB",j0);fW(K0);let Dy;async function $t(){return Dy===void 0&&(Dy=await K0.connect()),Dy}function $$(e){const t=K0.getGlobal().getService(new j$("indexstore")),n=e.getConstraint().getPrimaryKey();return t.get(n.getNormalizedName()).stats().maxKeyEncountered}function ih(){return $t().then(e=>e.export()).then(e=>e)}function q$(e){return $t().then(t=>t.import(e))}class j${constructor(t){this.serviceId=t}toString(){return this.serviceId}getAsType(){return{}}}function K$(e,t,n){return GO(e,t,[n]).then(r=>{if(r.length===0)throw new Error(`fail to create item in ${t}`);return r[0]})}function GO(e,t,n){if(n.length===0)return Promise.resolve([]);const r=e.getSchema().table(t);{const a=$$(r),c=11e3;a<c&&n.forEach((d,m)=>d.id=c+m)}const i=n.map(a=>r.createRow(a));return e.insert().into(r).values(i).exec()}function V$(e,t,n,r){const i=e.getSchema().table(t);return e.delete().from(i).where(i.col(r).eq(n)).exec()}function G$(e,t,n,r="id"){const i=e.getSchema().table(t);return e.delete().from(i).where(i.col(r).in(n)).exec()}function H$(e,t){const n=e.getSchema().table(t);return e.select().from(n).exec()}function Y$(e,t,n,r){const i=e.getSchema().table(t);return e.select().from(i).where(i.col(r).in(n)).exec()}function J$(e,t,n,r){const i=e.getSchema().table(t);return e.select().from(i).where(i.col(r).eq(n)).exec()}function Q$(e,t,n,r="id"){const i=e.getSchema().table(t);return e.select().from(i).where(i.col(r).eq(n)).exec().then(c=>{if(c.length===0)throw new Error(`${t} ${r} ${n} not found`);return c[0]})}function X$(e,t,n){return HO(e,t,[n]).then(r=>{if(r.length===0)throw new Error(`fail to update ${t}`);return r[0]})}function HO(e,t,n){const r=e.getSchema().table(t),i=[];return n.forEach(a=>i.push(r.createRow(a))),e.insertOrReplace().into(r).values(i).exec()}function Z$(e,t,n,r,i){const a=e.getSchema().table(t);return e.update(a).set(a.col(n),r).where(a.col(n).eq(i)).exec()}class Yt{constructor(t,n){this.dbcf=t,this.schema=n}create(t){return this.dbcf().then(n=>K$(n,this.schema,t))}createMany(t){return this.dbcf().then(n=>GO(n,this.schema,t))}delete(t){return this.deleteMany([t])}deleteChildzz(t,n){return this.dbcf().then(r=>V$(r,this.schema,t,n))}deleteMany(t){return this.dbcf().then(n=>G$(n,this.schema,t))}findAll(){return this.dbcf().then(t=>H$(t,this.schema))}findAllBelongTo(t,n){return this.dbcf().then(r=>Y$(r,this.schema,t,n))}findChildzz(t,n){return this.dbcf().then(r=>J$(r,this.schema,t,n))}observeAll(t){return this.dbcf().then(n=>{const r=n.getSchema().table(this.schema),i=n.select().from(r);n.observe(i,function(){i.exec().then(a=>{t(a)})})})}read(t){return this.dbcf().then(n=>Q$(n,this.schema,t))}update(t){return this.dbcf().then(n=>X$(n,this.schema,t))}updateMany(t){return this.dbcf().then(n=>HO(n,this.schema,t))}updateManyColumn(t,n,r){return this.dbcf().then(i=>Z$(i,this.schema,t,n,r))}}const VN=Mt.Relation;class e3{constructor(t){Yr(this,"crud");this.crud=t3(t,VN)}create(t){return this.crud.create(t)}delete(t){return this.crud.delete(t)}findAll(){return this.crud.findAll()}findAllBelongTo(t){return this.crud.dbcf().then(n=>{const r=n.getSchema().table(VN);return n.select().from(r).where(be.op.or(r.col("entity0Id").in(t),r.col("entity1Id").in(t))).exec()})}observeAll(t){return this.crud.observeAll(t)}update(t){return this.crud.update(t)}}function t3(e,t){return new Yt(e,t)}function rb(){return new Yt($t,Mt.Collection)}function Pd(){return new Yt($t,Mt.CollectionItem)}function Di(){return new Yt($t,Mt.Column)}function Dd(){return new Yt($t,Mt.ColumnConstraint)}function Ld(){return new Yt($t,Mt.Directory)}function Sm(){return new Yt($t,Mt.DoctrineColumnType)}function Xa(){return new Yt($t,Mt.Entity)}function Em(){return new Yt($t,Mt.Example)}function Ly(){return new Yt($t,Mt.ExampleMap)}function Cm(){return new Yt($t,Mt.File)}function ld(){return new Yt($t,Mt.Index)}function ud(){return new Yt($t,Mt.IndexColumn)}function Xu(){return new Yt($t,Mt.Module)}function Lo(){return new Yt($t,Mt.ModuleAction)}function Bu(){return new Yt($t,Mt.ModuleActionResponse)}function wl(){return new Yt($t,Mt.ParameterMap)}function dc(){return new Yt($t,Mt.Path)}function zd(){return new e3($t)}function gg(){return new Yt($t,Mt.Request)}function Im(){return new Yt($t,Mt.Response)}function Nm(){return new Yt($t,Mt.Server)}function zy(){return new Yt($t,Mt.ServerMap)}function My(){return new Yt($t,Mt.ServerVariable)}function Mr(){return new Yt($t,Mt.TypeFormat)}function xm(){return new Yt($t,Mt.Variable)}function _l(){return new Yt($t,Mt.Wu)}function Dp(){return new Yt($t,Mt.WuColumn)}function By(){return new Yt($t,Mt.WuColumnConstraint)}function Tm(){return new Yt($t,Mt.WuParameter)}function fa(e,t,n,r){function i(a){e({itemzz:a}),r&&r(a)}return{itemzz:[],observed:!1,find(a){return t().itemzz.find(c=>c.id===a)},observe(){t().observed||(e({observed:!0}),n.observeAll(i),n.findAll().then(i))},setItem(a){e(c=>({itemzz:c.itemzz.filter(m=>m.id!==a.id).concat(a)}))}}}function Ur(e,t,n,r){const i=fa(e,t,n);function a(c){t().sorting&&c.sort((d,m)=>d.name.localeCompare(m.name)),e({itemzz:c}),r&&r(c)}return{...i,sorting:!1,findByName(c){return t().itemzz.find(d=>d.name===c)},observe(){t().observed||(e({observed:!0}),n.observeAll(a),n.findAll().then(a))}}}const V0=gt(function(e,t){return{...Ur(e,t,rb()),sorting:!0}}),G0=gt(function(e,t){return fa(e,t,Pd())});var Ln=(e=>(e.white="#fff",e.red="#f00",e.pink="#f0f",e.orange="#f80",e.yellow="#ff0",e.green="#0f0",e.aqua="#0ff",e.blue="#00f",e.navy="#08f",e.violet="#80f",e))(Ln||{});const YO=Object.values(Ln);function ib(e,t){return e===t?e:"#fff"}function ob(e){return e==="#fff"?"#333":e}function co(e){return{item:void 0,keyword:"",tab:"",color:Ln.white,search(n){e({keyword:n})},setColor(n){e({color:n})},setItem(n){e({item:n})},setTab(n){e({tab:n})}}}const JO=gt(function(e){return co(e)});function n3(e){return jO.isAxiosError(e)}function H0(e){return typeof e=="string"?e:n3(e)?e.response&&e.response.data&&e.response.data.message?e.response.data.message:e.message:e instanceof Error?e.message:e instanceof Object&&"message"in e?H0(e.message):JSON.stringify(e)}const Km=class{constructor(t,n,r){Yr(this,"id");Yr(this,"date",new Date);this.text=t,this.color=n,this.detail=r,Km.index+=1,this.id=Km.index}};let Lp=Km;Yr(Lp,"index",0);const De=gt(function(e,t){return{itemzz:[],list:[],create(r,i="",a=3222,c){const d=new Lp(r.slice(0,333),i,c);e(m=>({itemzz:m.itemzz.concat(d),list:m.list.concat(d)})),a>0&&setTimeout(()=>t().dismiss(d.id),a)},dismiss(r){e(i=>({list:i.list.filter(c=>c.id!==r)}))},showDanger(r,i){t().create(r,"text-danger",0,i)},showError(r){console.log(r);const i=H0(r),a=typeof r=="string"?void 0:JSON.stringify(r);t().showDanger(i,a)},showOK(){t().showSuccess("OK")},showSuccess(r){t().create(r,"text-success")},showWarning(r){t().create(r,"text-warning",0)}}});var QO={exports:{}};/*!
* sweetalert2 v11.7.3
* Released under the MIT License.
*/(function(e,t){(function(n,r){e.exports=r()})(Sn,function(){var n={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const r="swal2-",i=x=>{const T={};for(const F in x)T[x[F]]=r+x[F];return T},a=i(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),c=i(["success","warning","info","question","error"]),d="SweetAlert2:",m=x=>{const T=[];for(let F=0;F<x.length;F++)T.indexOf(x[F])===-1&&T.push(x[F]);return T},g=x=>x.charAt(0).toUpperCase()+x.slice(1),y=x=>{console.warn(`${d} ${typeof x=="object"?x.join(" "):x}`)},b=x=>{console.error(`${d} ${x}`)},C=[],A=x=>{C.includes(x)||(C.push(x),y(x))},P=(x,T)=>{A(`"${x}" is deprecated and will be removed in the next major release. Please use "${T}" instead.`)},L=x=>typeof x=="function"?x():x,E=x=>x&&typeof x.toPromise=="function",I=x=>E(x)?x.toPromise():Promise.resolve(x),N=x=>x&&Promise.resolve(x)===x,D=()=>document.body.querySelector(`.${a.container}`),O=x=>{const T=D();return T?T.querySelector(x):null},z=x=>O(`.${x}`),k=()=>z(a.popup),W=()=>z(a.icon),j=()=>z(a["icon-content"]),$=()=>z(a.title),M=()=>z(a["html-container"]),Y=()=>z(a.image),K=()=>z(a["progress-steps"]),Z=()=>z(a["validation-message"]),ne=()=>O(`.${a.actions} .${a.confirm}`),ae=()=>O(`.${a.actions} .${a.cancel}`),de=()=>O(`.${a.actions} .${a.deny}`),re=()=>z(a["input-label"]),J=()=>O(`.${a.loader}`),Q=()=>z(a.actions),ue=()=>z(a.footer),se=()=>z(a["timer-progress-bar"]),he=()=>z(a.close),Ce=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,ze=()=>{const x=Array.from(k().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((F,ee)=>{const ye=parseInt(F.getAttribute("tabindex")),Ve=parseInt(ee.getAttribute("tabindex"));return ye>Ve?1:ye<Ve?-1:0}),T=Array.from(k().querySelectorAll(Ce)).filter(F=>F.getAttribute("tabindex")!=="-1");return m(x.concat(T)).filter(F=>Qe(F))},pe=()=>Ae(document.body,a.shown)&&!Ae(document.body,a["toast-shown"])&&!Ae(document.body,a["no-backdrop"]),et=()=>k()&&Ae(k(),a.toast),Et=()=>k().hasAttribute("data-loading"),qe={previousBodyPadding:null},Be=(x,T)=>{if(x.textContent="",T){const ee=new DOMParser().parseFromString(T,"text/html");Array.from(ee.querySelector("head").childNodes).forEach(ye=>{x.appendChild(ye)}),Array.from(ee.querySelector("body").childNodes).forEach(ye=>{ye instanceof HTMLVideoElement||ye instanceof HTMLAudioElement?x.appendChild(ye.cloneNode(!0)):x.appendChild(ye)})}},Ae=(x,T)=>{if(!T)return!1;const F=T.split(/\s+/);for(let ee=0;ee<F.length;ee++)if(!x.classList.contains(F[ee]))return!1;return!0},Ue=(x,T)=>{Array.from(x.classList).forEach(F=>{!Object.values(a).includes(F)&&!Object.values(c).includes(F)&&!Object.values(T.showClass).includes(F)&&x.classList.remove(F)})},ke=(x,T,F)=>{if(Ue(x,T),T.customClass&&T.customClass[F]){if(typeof T.customClass[F]!="string"&&!T.customClass[F].forEach){y(`Invalid type of customClass.${F}! Expected string or iterable object, got "${typeof T.customClass[F]}"`);return}Je(x,T.customClass[F])}},ht=(x,T)=>{if(!T)return null;switch(T){case"select":case"textarea":case"file":return x.querySelector(`.${a.popup} > .${a[T]}`);case"checkbox":return x.querySelector(`.${a.popup} > .${a.checkbox} input`);case"radio":return x.querySelector(`.${a.popup} > .${a.radio} input:checked`)||x.querySelector(`.${a.popup} > .${a.radio} input:first-child`);case"range":return x.querySelector(`.${a.popup} > .${a.range} input`);default:return x.querySelector(`.${a.popup} > .${a.input}`)}},bt=x=>{if(x.focus(),x.type!=="file"){const T=x.value;x.value="",x.value=T}},Ct=(x,T,F)=>{!x||!T||(typeof T=="string"&&(T=T.split(/\s+/).filter(Boolean)),T.forEach(ee=>{Array.isArray(x)?x.forEach(ye=>{F?ye.classList.add(ee):ye.classList.remove(ee)}):F?x.classList.add(ee):x.classList.remove(ee)}))},Je=(x,T)=>{Ct(x,T,!0)},oe=(x,T)=>{Ct(x,T,!1)},ge=(x,T)=>{const F=Array.from(x.children);for(let ee=0;ee<F.length;ee++){const ye=F[ee];if(ye instanceof HTMLElement&&Ae(ye,T))return ye}},_e=(x,T,F)=>{F===`${parseInt(F)}`&&(F=parseInt(F)),F||parseInt(F)===0?x.style[T]=typeof F=="number"?`${F}px`:F:x.style.removeProperty(T)},Ie=function(x){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";x.style.display=T},Pe=x=>{x.style.display="none"},We=(x,T,F,ee)=>{const ye=x.querySelector(T);ye&&(ye.style[F]=ee)},pt=function(x,T){let F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";T?Ie(x,F):Pe(x)},Qe=x=>!!(x&&(x.offsetWidth||x.offsetHeight||x.getClientRects().length)),At=()=>!Qe(ne())&&!Qe(de())&&!Qe(ae()),bn=x=>x.scrollHeight>x.clientHeight,yt=x=>{const T=window.getComputedStyle(x),F=parseFloat(T.getPropertyValue("animation-duration")||"0"),ee=parseFloat(T.getPropertyValue("transition-duration")||"0");return F>0||ee>0},at=function(x){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const F=se();Qe(F)&&(T&&(F.style.transition="none",F.style.width="100%"),setTimeout(()=>{F.style.transition=`width ${x/1e3}s linear`,F.style.width="0%"},10))},fi=()=>{const x=se(),T=parseInt(window.getComputedStyle(x).width);x.style.removeProperty("transition"),x.style.width="100%";const F=parseInt(window.getComputedStyle(x).width),ee=T/F*100;x.style.width=`${ee}%`},vo=100,Ge={},ur=()=>{Ge.previousActiveElement instanceof HTMLElement?(Ge.previousActiveElement.focus(),Ge.previousActiveElement=null):document.body&&document.body.focus()},Xn=x=>new Promise(T=>{if(!x)return T();const F=window.scrollX,ee=window.scrollY;Ge.restoreFocusTimeout=setTimeout(()=>{ur(),T()},vo),window.scrollTo(F,ee)}),Er=()=>typeof window=="undefined"||typeof document=="undefined",cr=`
 <div aria-labelledby="${a.title}" aria-describedby="${a["html-container"]}" class="${a.popup}" tabindex="-1">
   <button type="button" class="${a.close}"></button>
   <ul class="${a["progress-steps"]}"></ul>
   <div class="${a.icon}"></div>
   <img class="${a.image}" />
   <h2 class="${a.title}" id="${a.title}"></h2>
   <div class="${a["html-container"]}" id="${a["html-container"]}"></div>
   <input class="${a.input}" />
   <input type="file" class="${a.file}" />
   <div class="${a.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${a.select}"></select>
   <div class="${a.radio}"></div>
   <label for="${a.checkbox}" class="${a.checkbox}">
     <input type="checkbox" />
     <span class="${a.label}"></span>
   </label>
   <textarea class="${a.textarea}"></textarea>
   <div class="${a["validation-message"]}" id="${a["validation-message"]}"></div>
   <div class="${a.actions}">
     <div class="${a.loader}"></div>
     <button type="button" class="${a.confirm}"></button>
     <button type="button" class="${a.deny}"></button>
     <button type="button" class="${a.cancel}"></button>
   </div>
   <div class="${a.footer}"></div>
   <div class="${a["timer-progress-bar-container"]}">
     <div class="${a["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),fr=()=>{const x=D();return x?(x.remove(),oe([document.documentElement,document.body],[a["no-backdrop"],a["toast-shown"],a["has-column"]]),!0):!1},Fe=()=>{Ge.currentInstance.resetValidationMessage()},Ye=()=>{const x=k(),T=ge(x,a.input),F=ge(x,a.file),ee=x.querySelector(`.${a.range} input`),ye=x.querySelector(`.${a.range} output`),Ve=ge(x,a.select),Wt=x.querySelector(`.${a.checkbox} input`),mr=ge(x,a.textarea);T.oninput=Fe,F.onchange=Fe,Ve.onchange=Fe,Wt.onchange=Fe,mr.oninput=Fe,ee.oninput=()=>{Fe(),ye.value=ee.value},ee.onchange=()=>{Fe(),ye.value=ee.value}},ut=x=>typeof x=="string"?document.querySelector(x):x,wt=x=>{const T=k();T.setAttribute("role",x.toast?"alert":"dialog"),T.setAttribute("aria-live",x.toast?"polite":"assertive"),x.toast||T.setAttribute("aria-modal","true")},Nt=x=>{window.getComputedStyle(x).direction==="rtl"&&Je(D(),a.rtl)},qt=x=>{const T=fr();if(Er()){b("SweetAlert2 requires document to initialize");return}const F=document.createElement("div");F.className=a.container,T&&Je(F,a["no-transition"]),Be(F,cr);const ee=ut(x.target);ee.appendChild(F),wt(x),Nt(ee),Ye()},sn=(x,T)=>{x instanceof HTMLElement?T.appendChild(x):typeof x=="object"?Zn(x,T):x&&Be(T,x)},Zn=(x,T)=>{x.jquery?Ui(T,x):Be(T,x.toString())},Ui=(x,T)=>{if(x.textContent="",0 in T)for(let F=0;F in T;F++)x.appendChild(T[F].cloneNode(!0));else x.appendChild(T.cloneNode(!0))},Wr=(()=>{if(Er())return!1;const x=document.createElement("div"),T={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const F in T)if(Object.prototype.hasOwnProperty.call(T,F)&&typeof x.style[F]!="undefined")return T[F];return!1})(),Wi=()=>{const x=document.createElement("div");x.className=a["scrollbar-measure"],document.body.appendChild(x);const T=x.getBoundingClientRect().width-x.clientWidth;return document.body.removeChild(x),T},Os=(x,T)=>{const F=Q(),ee=J();!T.showConfirmButton&&!T.showDenyButton&&!T.showCancelButton?Pe(F):Ie(F),ke(F,T,"actions"),As(F,ee,T),Be(ee,T.loaderHtml),ke(ee,T,"loader")};function As(x,T,F){const ee=ne(),ye=de(),Ve=ae();Bo(ee,"confirm",F),Bo(ye,"deny",F),Bo(Ve,"cancel",F),Le(ee,ye,Ve,F),F.reverseButtons&&(F.toast?(x.insertBefore(Ve,ee),x.insertBefore(ye,ee)):(x.insertBefore(Ve,T),x.insertBefore(ye,T),x.insertBefore(ee,T)))}function Le(x,T,F,ee){if(!ee.buttonsStyling){oe([x,T,F],a.styled);return}Je([x,T,F],a.styled),ee.confirmButtonColor&&(x.style.backgroundColor=ee.confirmButtonColor,Je(x,a["default-outline"])),ee.denyButtonColor&&(T.style.backgroundColor=ee.denyButtonColor,Je(T,a["default-outline"])),ee.cancelButtonColor&&(F.style.backgroundColor=ee.cancelButtonColor,Je(F,a["default-outline"]))}function Bo(x,T,F){pt(x,F[`show${g(T)}Button`],"inline-block"),Be(x,F[`${T}ButtonText`]),x.setAttribute("aria-label",F[`${T}ButtonAriaLabel`]),x.className=a[T],ke(x,F,`${T}Button`),Je(x,F[`${T}ButtonClass`])}const qc=(x,T)=>{const F=he();Be(F,T.closeButtonHtml),ke(F,T,"closeButton"),pt(F,T.showCloseButton),F.setAttribute("aria-label",T.closeButtonAriaLabel)},ha=(x,T)=>{const F=D();!F||(Fo(F,T.backdrop),pa(F,T.position),er(F,T.grow),ke(F,T,"container"))};function Fo(x,T){typeof T=="string"?x.style.background=T:T||Je([document.documentElement,document.body],a["no-backdrop"])}function pa(x,T){T in a?Je(x,a[T]):(y('The "position" parameter is not valid, defaulting to "center"'),Je(x,a.center))}function er(x,T){if(T&&typeof T=="string"){const F=`grow-${T}`;F in a&&Je(x,a[F])}}const jc=["input","file","range","select","radio","checkbox","textarea"],Kc=(x,T)=>{const F=k(),ee=n.innerParams.get(x),ye=!ee||T.input!==ee.input;jc.forEach(Ve=>{const Wt=ge(F,a[Ve]);Gc(Ve,T.inputAttributes),Wt.className=a[Ve],ye&&Pe(Wt)}),T.input&&(ye&&Vc(T),jl(T))},Vc=x=>{if(!On[x.input]){b(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${x.input}"`);return}const T=ma(x.input),F=On[x.input](T,x);Ie(T),x.inputAutoFocus&&setTimeout(()=>{bt(F)})},Rs=x=>{for(let T=0;T<x.attributes.length;T++){const F=x.attributes[T].name;["type","value","style"].includes(F)||x.removeAttribute(F)}},Gc=(x,T)=>{const F=ht(k(),x);if(!!F){Rs(F);for(const ee in T)F.setAttribute(ee,T[ee])}},jl=x=>{const T=ma(x.input);typeof x.customClass=="object"&&Je(T,x.customClass.input)},ks=(x,T)=>{(!x.placeholder||T.inputPlaceholder)&&(x.placeholder=T.inputPlaceholder)},Uo=(x,T,F)=>{if(F.inputLabel){x.id=a.input;const ee=document.createElement("label"),ye=a["input-label"];ee.setAttribute("for",x.id),ee.className=ye,typeof F.customClass=="object"&&Je(ee,F.customClass.inputLabel),ee.innerText=F.inputLabel,T.insertAdjacentElement("beforebegin",ee)}},ma=x=>ge(k(),a[x]||a.input),ga=(x,T)=>{["string","number"].includes(typeof T)?x.value=`${T}`:N(T)||y(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof T}"`)},On={};On.text=On.email=On.password=On.number=On.tel=On.url=(x,T)=>(ga(x,T.inputValue),Uo(x,x,T),ks(x,T),x.type=T.input,x),On.file=(x,T)=>(Uo(x,x,T),ks(x,T),x),On.range=(x,T)=>{const F=x.querySelector("input"),ee=x.querySelector("output");return ga(F,T.inputValue),F.type=T.input,ga(ee,T.inputValue),Uo(F,x,T),x},On.select=(x,T)=>{if(x.textContent="",T.inputPlaceholder){const F=document.createElement("option");Be(F,T.inputPlaceholder),F.value="",F.disabled=!0,F.selected=!0,x.appendChild(F)}return Uo(x,x,T),x},On.radio=x=>(x.textContent="",x),On.checkbox=(x,T)=>{const F=ht(k(),"checkbox");F.value="1",F.id=a.checkbox,F.checked=Boolean(T.inputValue);const ee=x.querySelector("span");return Be(ee,T.inputPlaceholder),F},On.textarea=(x,T)=>{ga(x,T.inputValue),ks(x,T),Uo(x,x,T);const F=ee=>parseInt(window.getComputedStyle(ee).marginLeft)+parseInt(window.getComputedStyle(ee).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const ee=parseInt(window.getComputedStyle(k()).width),ye=()=>{const Ve=x.offsetWidth+F(x);Ve>ee?k().style.width=`${Ve}px`:k().style.width=null};new MutationObserver(ye).observe(x,{attributes:!0,attributeFilter:["style"]})}}),x};const Hc=(x,T)=>{const F=M();ke(F,T,"htmlContainer"),T.html?(sn(T.html,F),Ie(F,"block")):T.text?(F.textContent=T.text,Ie(F,"block")):Pe(F),Kc(x,T)},tr=(x,T)=>{const F=ue();pt(F,T.footer),T.footer&&sn(T.footer,F),ke(F,T,"footer")},Kl=(x,T)=>{const F=n.innerParams.get(x),ee=W();if(F&&T.icon===F.icon){yo(ee,T),Wo(ee,T);return}if(!T.icon&&!T.iconHtml){Pe(ee);return}if(T.icon&&Object.keys(c).indexOf(T.icon)===-1){b(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${T.icon}"`),Pe(ee);return}Ie(ee),yo(ee,T),Wo(ee,T),Je(ee,T.showClass.icon)},Wo=(x,T)=>{for(const F in c)T.icon!==F&&oe(x,c[F]);Je(x,c[T.icon]),$o(x,T),Yc(),ke(x,T,"icon")},Yc=()=>{const x=k(),T=window.getComputedStyle(x).getPropertyValue("background-color"),F=x.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let ee=0;ee<F.length;ee++)F[ee].style.backgroundColor=T},Jc=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Ps=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,yo=(x,T)=>{let F=x.innerHTML,ee;T.iconHtml?ee=$i(T.iconHtml):T.icon==="success"?(ee=Jc,F=F.replace(/ style=".*?"/g,"")):T.icon==="error"?ee=Ps:ee=$i({question:"?",warning:"!",info:"i"}[T.icon]),F.trim()!==ee.trim()&&Be(x,ee)},$o=(x,T)=>{if(!!T.iconColor){x.style.color=T.iconColor,x.style.borderColor=T.iconColor;for(const F of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])We(x,F,"backgroundColor",T.iconColor);We(x,".swal2-success-ring","borderColor",T.iconColor)}},$i=x=>`<div class="${a["icon-content"]}">${x}</div>`,Vl=(x,T)=>{const F=Y();if(!T.imageUrl){Pe(F);return}Ie(F,""),F.setAttribute("src",T.imageUrl),F.setAttribute("alt",T.imageAlt),_e(F,"width",T.imageWidth),_e(F,"height",T.imageHeight),F.className=a.image,ke(F,T,"image")},Qc=(x,T)=>{const F=D(),ee=k();T.toast?(_e(F,"width",T.width),ee.style.width="100%",ee.insertBefore(J(),W())):_e(ee,"width",T.width),_e(ee,"padding",T.padding),T.color&&(ee.style.color=T.color),T.background&&(ee.style.background=T.background),Pe(Z()),Xc(ee,T)},Xc=(x,T)=>{x.className=`${a.popup} ${Qe(x)?T.showClass.popup:""}`,T.toast?(Je([document.documentElement,document.body],a["toast-shown"]),Je(x,a.toast)):Je(x,a.modal),ke(x,T,"popup"),typeof T.customClass=="string"&&Je(x,T.customClass),T.icon&&Je(x,a[`icon-${T.icon}`])},Gl=(x,T)=>{const F=K();if(!T.progressSteps||T.progressSteps.length===0){Pe(F);return}Ie(F),F.textContent="",T.currentProgressStep>=T.progressSteps.length&&y("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),T.progressSteps.forEach((ee,ye)=>{const Ve=Ds(ee);if(F.appendChild(Ve),ye===T.currentProgressStep&&Je(Ve,a["active-progress-step"]),ye!==T.progressSteps.length-1){const Wt=Ls(T);F.appendChild(Wt)}})},Ds=x=>{const T=document.createElement("li");return Je(T,a["progress-step"]),Be(T,x),T},Ls=x=>{const T=document.createElement("li");return Je(T,a["progress-step-line"]),x.progressStepsDistance&&_e(T,"width",x.progressStepsDistance),T},Hl=(x,T)=>{const F=$();pt(F,T.title||T.titleText,"block"),T.title&&sn(T.title,F),T.titleText&&(F.innerText=T.titleText),ke(F,T,"title")},va=(x,T)=>{Qc(x,T),ha(x,T),Gl(x,T),Kl(x,T),Vl(x,T),Hl(x,T),qc(x,T),Hc(x,T),Os(x,T),tr(x,T),typeof T.didRender=="function"&&T.didRender(k())};function ya(){const x=n.innerParams.get(this);if(!x)return;const T=n.domCache.get(this);Pe(T.loader),et()?x.icon&&Ie(W()):wa(T),oe([T.popup,T.actions],a.loading),T.popup.removeAttribute("aria-busy"),T.popup.removeAttribute("data-loading"),T.confirmButton.disabled=!1,T.denyButton.disabled=!1,T.cancelButton.disabled=!1}const wa=x=>{const T=x.popup.getElementsByClassName(x.loader.getAttribute("data-button-to-replace"));T.length?Ie(T[0],"inline-block"):At()&&Pe(x.actions)};function ba(x){const T=n.innerParams.get(x||this),F=n.domCache.get(x||this);return F?ht(F.popup,T.input):null}const Cr=()=>Qe(k()),dr=()=>ne()&&ne().click(),In=()=>de()&&de().click(),hr=()=>ae()&&ae().click(),$r=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),qi=x=>{x.keydownTarget&&x.keydownHandlerAdded&&(x.keydownTarget.removeEventListener("keydown",x.keydownHandler,{capture:x.keydownListenerCapture}),x.keydownHandlerAdded=!1)},Yl=(x,T,F,ee)=>{qi(T),F.toast||(T.keydownHandler=ye=>bo(x,ye,ee),T.keydownTarget=F.keydownListenerCapture?window:k(),T.keydownListenerCapture=F.keydownListenerCapture,T.keydownTarget.addEventListener("keydown",T.keydownHandler,{capture:T.keydownListenerCapture}),T.keydownHandlerAdded=!0)},di=(x,T)=>{const F=ze();if(F.length){x=x+T,x===F.length?x=0:x===-1&&(x=F.length-1),F[x].focus();return}k().focus()},wo=["ArrowRight","ArrowDown"],ji=["ArrowLeft","ArrowUp"],bo=(x,T,F)=>{const ee=n.innerParams.get(x);!ee||T.isComposing||T.keyCode===229||(ee.stopKeydownPropagation&&T.stopPropagation(),T.key==="Enter"?Jl(x,T,ee):T.key==="Tab"?zs(T):[...wo,...ji].includes(T.key)?Ql(T.key):T.key==="Escape"&&Sa(T,ee,F))},Jl=(x,T,F)=>{if(!!L(F.allowEnterKey)&&T.target&&x.getInput()&&T.target instanceof HTMLElement&&T.target.outerHTML===x.getInput().outerHTML){if(["textarea","file"].includes(F.input))return;dr(),T.preventDefault()}},zs=x=>{const T=x.target,F=ze();let ee=-1;for(let ye=0;ye<F.length;ye++)if(T===F[ye]){ee=ye;break}x.shiftKey?di(ee,-1):di(ee,1),x.stopPropagation(),x.preventDefault()},Ql=x=>{const T=ne(),F=de(),ee=ae(),ye=[T,F,ee];if(document.activeElement instanceof HTMLElement&&!ye.includes(document.activeElement))return;const Ve=wo.includes(x)?"nextElementSibling":"previousElementSibling";let Wt=document.activeElement;for(let mr=0;mr<Q().children.length;mr++){if(Wt=Wt[Ve],!Wt)return;if(Wt instanceof HTMLButtonElement&&Qe(Wt))break}Wt instanceof HTMLButtonElement&&Wt.focus()},Sa=(x,T,F)=>{L(T.allowEscapeKey)&&(x.preventDefault(),F($r.esc))};var hi={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Xl=()=>{Array.from(document.body.children).forEach(T=>{T===D()||T.contains(D())||(T.hasAttribute("aria-hidden")&&T.setAttribute("data-previous-aria-hidden",T.getAttribute("aria-hidden")),T.setAttribute("aria-hidden","true"))})},Zl=()=>{Array.from(document.body.children).forEach(T=>{T.hasAttribute("data-previous-aria-hidden")?(T.setAttribute("aria-hidden",T.getAttribute("data-previous-aria-hidden")),T.removeAttribute("data-previous-aria-hidden")):T.removeAttribute("aria-hidden")})},Zc=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!Ae(document.body,a.iosfix)){const T=document.body.scrollTop;document.body.style.top=`${T*-1}px`,Je(document.body,a.iosfix),Ms(),eu()}},eu=()=>{const x=navigator.userAgent,T=!!x.match(/iPad/i)||!!x.match(/iPhone/i),F=!!x.match(/WebKit/i);T&&F&&!x.match(/CriOS/i)&&k().scrollHeight>window.innerHeight-44&&(D().style.paddingBottom=`${44}px`)},Ms=()=>{const x=D();let T;x.ontouchstart=F=>{T=Bs(F)},x.ontouchmove=F=>{T&&(F.preventDefault(),F.stopPropagation())}},Bs=x=>{const T=x.target,F=D();return tu(x)||Fs(x)?!1:T===F||!bn(F)&&T instanceof HTMLElement&&T.tagName!=="INPUT"&&T.tagName!=="TEXTAREA"&&!(bn(M())&&M().contains(T))},tu=x=>x.touches&&x.touches.length&&x.touches[0].touchType==="stylus",Fs=x=>x.touches&&x.touches.length>1,Us=()=>{if(Ae(document.body,a.iosfix)){const x=parseInt(document.body.style.top,10);oe(document.body,a.iosfix),document.body.style.top="",document.body.scrollTop=x*-1}},Ws=()=>{qe.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(qe.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${qe.previousBodyPadding+Wi()}px`)},$s=()=>{qe.previousBodyPadding!==null&&(document.body.style.paddingRight=`${qe.previousBodyPadding}px`,qe.previousBodyPadding=null)};function nu(x,T,F,ee){et()?pi(x,ee):(Xn(F).then(()=>pi(x,ee)),qi(Ge)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(T.setAttribute("style","display:none !important"),T.removeAttribute("class"),T.innerHTML=""):T.remove(),pe()&&($s(),Us(),Zl()),ef()}function ef(){oe([document.documentElement,document.body],[a.shown,a["height-auto"],a["no-backdrop"],a["toast-shown"]])}function Ea(x){x=So(x);const T=hi.swalPromiseResolve.get(this),F=Vt(this);this.isAwaitingPromise()?x.isDismissed||(qo(this),T(x)):F&&T(x)}function tf(){return!!n.awaitingPromise.get(this)}const Vt=x=>{const T=k();if(!T)return!1;const F=n.innerParams.get(x);if(!F||Ae(T,F.hideClass.popup))return!1;oe(T,F.showClass.popup),Je(T,F.hideClass.popup);const ee=D();return oe(ee,F.showClass.backdrop),Je(ee,F.hideClass.backdrop),nf(x,T,F),!0};function jt(x){const T=hi.swalPromiseReject.get(this);qo(this),T&&T(x)}const qo=x=>{x.isAwaitingPromise()&&(n.awaitingPromise.delete(x),n.innerParams.get(x)||x._destroy())},So=x=>typeof x=="undefined"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},x),nf=(x,T,F)=>{const ee=D(),ye=Wr&&yt(T);typeof F.willClose=="function"&&F.willClose(T),ye?rf(x,T,ee,F.returnFocus,F.didClose):nu(x,ee,F.returnFocus,F.didClose)},rf=(x,T,F,ee,ye)=>{Ge.swalCloseEventFinishedCallback=nu.bind(null,x,F,ee,ye),T.addEventListener(Wr,function(Ve){Ve.target===T&&(Ge.swalCloseEventFinishedCallback(),delete Ge.swalCloseEventFinishedCallback)})},pi=(x,T)=>{setTimeout(()=>{typeof T=="function"&&T.bind(x.params)(),x._destroy()})};function Ca(x,T,F){const ee=n.domCache.get(x);T.forEach(ye=>{ee[ye].disabled=F})}function qs(x,T){if(!!x)if(x.type==="radio"){const ee=x.parentNode.parentNode.querySelectorAll("input");for(let ye=0;ye<ee.length;ye++)ee[ye].disabled=T}else x.disabled=T}function of(){Ca(this,["confirmButton","denyButton","cancelButton"],!1)}function pn(){Ca(this,["confirmButton","denyButton","cancelButton"],!0)}function js(){qs(this.getInput(),!1)}function Ki(){qs(this.getInput(),!0)}function Ks(x){const T=n.domCache.get(this),F=n.innerParams.get(this);Be(T.validationMessage,x),T.validationMessage.className=a["validation-message"],F.customClass&&F.customClass.validationMessage&&Je(T.validationMessage,F.customClass.validationMessage),Ie(T.validationMessage);const ee=this.getInput();ee&&(ee.setAttribute("aria-invalid",!0),ee.setAttribute("aria-describedby",a["validation-message"]),bt(ee),Je(ee,a.inputerror))}function Vi(){const x=n.domCache.get(this);x.validationMessage&&Pe(x.validationMessage);const T=this.getInput();T&&(T.removeAttribute("aria-invalid"),T.removeAttribute("aria-describedby"),oe(T,a.inputerror))}const rn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Ia=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Vs={},Gs=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Hs=x=>Object.prototype.hasOwnProperty.call(rn,x),jo=x=>Ia.indexOf(x)!==-1,Eo=x=>Vs[x],An=x=>{Hs(x)||y(`Unknown parameter "${x}"`)},ru=x=>{Gs.includes(x)&&y(`The parameter "${x}" is incompatible with toasts`)},$n=x=>{Eo(x)&&P(x,Eo(x))},af=x=>{x.backdrop===!1&&x.allowOutsideClick&&y('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const T in x)An(T),x.toast&&ru(T),$n(T)};function iu(x){const T=k(),F=n.innerParams.get(this);if(!T||Ae(T,F.hideClass.popup)){y("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const ee=mi(x),ye=Object.assign({},F,ee);va(this,ye),n.innerParams.set(this,ye),Object.defineProperties(this,{params:{value:Object.assign({},this.params,x),writable:!1,enumerable:!0}})}const mi=x=>{const T={};return Object.keys(x).forEach(F=>{jo(F)?T[F]=x[F]:y(`Invalid parameter to update: ${F}`)}),T};function Na(){const x=n.domCache.get(this),T=n.innerParams.get(this);if(!T){Gt(this);return}x.popup&&Ge.swalCloseEventFinishedCallback&&(Ge.swalCloseEventFinishedCallback(),delete Ge.swalCloseEventFinishedCallback),typeof T.didDestroy=="function"&&T.didDestroy(),Ys(this)}const Ys=x=>{Gt(x),delete x.params,delete Ge.keydownHandler,delete Ge.keydownTarget,delete Ge.currentInstance},Gt=x=>{x.isAwaitingPromise()?(Ir(n,x),n.awaitingPromise.set(x,!0)):(Ir(hi,x),Ir(n,x))},Ir=(x,T)=>{for(const F in x)x[F].delete(T)};var xa=Object.freeze({__proto__:null,_destroy:Na,close:Ea,closeModal:Ea,closePopup:Ea,closeToast:Ea,disableButtons:pn,disableInput:Ki,disableLoading:ya,enableButtons:of,enableInput:js,getInput:ba,handleAwaitingPromise:qo,hideLoading:ya,isAwaitingPromise:tf,rejectPromise:jt,resetValidationMessage:Vi,showValidationMessage:Ks,update:iu});const Co=x=>{let T=k();T||new Ko,T=k();const F=J();et()?Pe(W()):Js(T,x),Ie(F),T.setAttribute("data-loading","true"),T.setAttribute("aria-busy","true"),T.focus()},Js=(x,T)=>{const F=Q(),ee=J();!T&&Qe(ne())&&(T=ne()),Ie(F),T&&(Pe(T),ee.setAttribute("data-button-to-replace",T.className)),ee.parentNode.insertBefore(ee,T),Je([x,F],a.loading)},sf=(x,T)=>{T.input==="select"||T.input==="radio"?Qt(x,T):["text","email","number","tel","textarea"].includes(T.input)&&(E(T.inputValue)||N(T.inputValue))&&(Co(ne()),uf(x,T))},ou=(x,T)=>{const F=x.getInput();if(!F)return null;switch(T.input){case"checkbox":return lf(F);case"radio":return Qs(F);case"file":return Ta(F);default:return T.inputAutoTrim?F.value.trim():F.value}},lf=x=>x.checked?1:0,Qs=x=>x.checked?x.value:null,Ta=x=>x.files.length?x.getAttribute("multiple")!==null?x.files:x.files[0]:null,Qt=(x,T)=>{const F=k(),ee=ye=>{au[T.input](F,_a(ye),T)};E(T.inputOptions)||N(T.inputOptions)?(Co(ne()),I(T.inputOptions).then(ye=>{x.hideLoading(),ee(ye)})):typeof T.inputOptions=="object"?ee(T.inputOptions):b(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof T.inputOptions}`)},uf=(x,T)=>{const F=x.getInput();Pe(F),I(T.inputValue).then(ee=>{F.value=T.input==="number"?`${parseFloat(ee)||0}`:`${ee}`,Ie(F),F.focus(),x.hideLoading()}).catch(ee=>{b(`Error in inputValue promise: ${ee}`),F.value="",Ie(F),F.focus(),x.hideLoading()})},au={select:(x,T,F)=>{const ee=ge(x,a.select),ye=(Ve,Wt,mr)=>{const jn=document.createElement("option");jn.value=mr,Be(jn,Wt),jn.selected=Oa(mr,F.inputValue),Ve.appendChild(jn)};T.forEach(Ve=>{const Wt=Ve[0],mr=Ve[1];if(Array.isArray(mr)){const jn=document.createElement("optgroup");jn.label=Wt,jn.disabled=!1,ee.appendChild(jn),mr.forEach(La=>ye(jn,La[1],La[0]))}else ye(ee,mr,Wt)}),ee.focus()},radio:(x,T,F)=>{const ee=ge(x,a.radio);T.forEach(Ve=>{const Wt=Ve[0],mr=Ve[1],jn=document.createElement("input"),La=document.createElement("label");jn.type="radio",jn.name=a.radio,jn.value=Wt,Oa(Wt,F.inputValue)&&(jn.checked=!0);const za=document.createElement("span");Be(za,mr),za.className=a.label,La.appendChild(jn),La.appendChild(za),ee.appendChild(La)});const ye=ee.querySelectorAll("input");ye.length&&ye[0].focus()}},_a=x=>{const T=[];return typeof Map!="undefined"&&x instanceof Map?x.forEach((F,ee)=>{let ye=F;typeof ye=="object"&&(ye=_a(ye)),T.push([ee,ye])}):Object.keys(x).forEach(F=>{let ee=x[F];typeof ee=="object"&&(ee=_a(ee)),T.push([F,ee])}),T},Oa=(x,T)=>T&&T.toString()===x.toString(),Xs=x=>{const T=n.innerParams.get(x);x.disableButtons(),T.input?Aa(x,"confirm"):o(x,!0)},su=x=>{const T=n.innerParams.get(x);x.disableButtons(),T.returnInputValueOnDeny?Aa(x,"deny"):ka(x,!1)},lu=(x,T)=>{x.disableButtons(),T($r.cancel)},Aa=(x,T)=>{const F=n.innerParams.get(x);if(!F.input){b(`The "input" parameter is needed to be set when using returnInputValueOn${g(T)}`);return}const ee=ou(x,F);F.inputValidator?Ra(x,ee,T):x.getInput().checkValidity()?T==="deny"?ka(x,ee):o(x,ee):(x.enableButtons(),x.showValidationMessage(F.validationMessage))},Ra=(x,T,F)=>{const ee=n.innerParams.get(x);x.disableInput(),Promise.resolve().then(()=>I(ee.inputValidator(T,ee.validationMessage))).then(Ve=>{x.enableButtons(),x.enableInput(),Ve?x.showValidationMessage(Ve):F==="deny"?ka(x,T):o(x,T)})},ka=(x,T)=>{const F=n.innerParams.get(x||void 0);F.showLoaderOnDeny&&Co(de()),F.preDeny?(n.awaitingPromise.set(x||void 0,!0),Promise.resolve().then(()=>I(F.preDeny(T,F.validationMessage))).then(ye=>{ye===!1?(x.hideLoading(),qo(x)):x.close({isDenied:!0,value:typeof ye=="undefined"?T:ye})}).catch(ye=>u(x||void 0,ye))):x.close({isDenied:!0,value:T})},Zs=(x,T)=>{x.close({isConfirmed:!0,value:T})},u=(x,T)=>{x.rejectPromise(T)},o=(x,T)=>{const F=n.innerParams.get(x||void 0);F.showLoaderOnConfirm&&Co(),F.preConfirm?(x.resetValidationMessage(),n.awaitingPromise.set(x||void 0,!0),Promise.resolve().then(()=>I(F.preConfirm(T,F.validationMessage))).then(ye=>{Qe(Z())||ye===!1?(x.hideLoading(),qo(x)):Zs(x,typeof ye=="undefined"?T:ye)}).catch(ye=>u(x||void 0,ye))):Zs(x,T)},s=(x,T,F)=>{n.innerParams.get(x).toast?f(x,T,F):(_(T),B(T),H(x,T,F))},f=(x,T,F)=>{T.popup.onclick=()=>{const ee=n.innerParams.get(x);ee&&(p(ee)||ee.timer||ee.input)||F($r.close)}},p=x=>x.showConfirmButton||x.showDenyButton||x.showCancelButton||x.showCloseButton;let w=!1;const _=x=>{x.popup.onmousedown=()=>{x.container.onmouseup=function(T){x.container.onmouseup=void 0,T.target===x.container&&(w=!0)}}},B=x=>{x.container.onmousedown=()=>{x.popup.onmouseup=function(T){x.popup.onmouseup=void 0,(T.target===x.popup||x.popup.contains(T.target))&&(w=!0)}}},H=(x,T,F)=>{T.container.onclick=ee=>{const ye=n.innerParams.get(x);if(w){w=!1;return}ee.target===T.container&&L(ye.allowOutsideClick)&&F($r.backdrop)}},ie=x=>typeof x=="object"&&x.jquery,me=x=>x instanceof Element||ie(x),xe=x=>{const T={};return typeof x[0]=="object"&&!me(x[0])?Object.assign(T,x[0]):["title","html","icon"].forEach((F,ee)=>{const ye=x[ee];typeof ye=="string"||me(ye)?T[F]=ye:ye!==void 0&&b(`Unexpected type of ${F}! Expected "string" or "Element", got ${typeof ye}`)}),T};function Re(){const x=this;for(var T=arguments.length,F=new Array(T),ee=0;ee<T;ee++)F[ee]=arguments[ee];return new x(...F)}function je(x){class T extends this{_main(ee,ye){return super._main(ee,Object.assign({},x,ye))}}return T}const st=()=>Ge.timeout&&Ge.timeout.getTimerLeft(),Ze=()=>{if(Ge.timeout)return fi(),Ge.timeout.stop()},xt=()=>{if(Ge.timeout){const x=Ge.timeout.start();return at(x),x}},Zt=()=>{const x=Ge.timeout;return x&&(x.running?Ze():xt())},Bt=x=>{if(Ge.timeout){const T=Ge.timeout.increase(x);return at(T,!0),T}},Rn=()=>Ge.timeout&&Ge.timeout.isRunning();let qr=!1;const qn={};function Ch(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";qn[x]=this,qr||(document.body.addEventListener("click",nv),qr=!0)}const nv=x=>{for(let T=x.target;T&&T!==document;T=T.parentNode)for(const F in qn){const ee=T.getAttribute(F);if(ee){qn[F].fire({template:ee});return}}};var rv=Object.freeze({__proto__:null,argsToParams:xe,bindClickHandler:Ch,clickCancel:hr,clickConfirm:dr,clickDeny:In,enableLoading:Co,fire:Re,getActions:Q,getCancelButton:ae,getCloseButton:he,getConfirmButton:ne,getContainer:D,getDenyButton:de,getFocusableElements:ze,getFooter:ue,getHtmlContainer:M,getIcon:W,getIconContent:j,getImage:Y,getInputLabel:re,getLoader:J,getPopup:k,getProgressSteps:K,getTimerLeft:st,getTimerProgressBar:se,getTitle:$,getValidationMessage:Z,increaseTimer:Bt,isDeprecatedParameter:Eo,isLoading:Et,isTimerRunning:Rn,isUpdatableParameter:jo,isValidParameter:Hs,isVisible:Cr,mixin:je,resumeTimer:xt,showLoading:Co,stopTimer:Ze,toggleTimer:Zt});class iv{constructor(T,F){this.callback=T,this.remaining=F,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(T){const F=this.running;return F&&this.stop(),this.remaining+=T,F&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Ih=["swal-title","swal-html","swal-footer"],ov=x=>{const T=typeof x.template=="string"?document.querySelector(x.template):x.template;if(!T)return{};const F=T.content;return mn(F),Object.assign(Pa(F),ce(F),we(F),ve(F),$e(F),ct(F),Dt(F,Ih))},Pa=x=>{const T={};return Array.from(x.querySelectorAll("swal-param")).forEach(ee=>{Rt(ee,["name","value"]);const ye=ee.getAttribute("name"),Ve=ee.getAttribute("value");typeof rn[ye]=="boolean"?T[ye]=Ve!=="false":typeof rn[ye]=="object"?T[ye]=JSON.parse(Ve):T[ye]=Ve}),T},ce=x=>{const T={};return Array.from(x.querySelectorAll("swal-function-param")).forEach(ee=>{const ye=ee.getAttribute("name"),Ve=ee.getAttribute("value");T[ye]=new Function(`return ${Ve}`)()}),T},we=x=>{const T={};return Array.from(x.querySelectorAll("swal-button")).forEach(ee=>{Rt(ee,["type","color","aria-label"]);const ye=ee.getAttribute("type");T[`${ye}ButtonText`]=ee.innerHTML,T[`show${g(ye)}Button`]=!0,ee.hasAttribute("color")&&(T[`${ye}ButtonColor`]=ee.getAttribute("color")),ee.hasAttribute("aria-label")&&(T[`${ye}ButtonAriaLabel`]=ee.getAttribute("aria-label"))}),T},ve=x=>{const T={},F=x.querySelector("swal-image");return F&&(Rt(F,["src","width","height","alt"]),F.hasAttribute("src")&&(T.imageUrl=F.getAttribute("src")),F.hasAttribute("width")&&(T.imageWidth=F.getAttribute("width")),F.hasAttribute("height")&&(T.imageHeight=F.getAttribute("height")),F.hasAttribute("alt")&&(T.imageAlt=F.getAttribute("alt"))),T},$e=x=>{const T={},F=x.querySelector("swal-icon");return F&&(Rt(F,["type","color"]),F.hasAttribute("type")&&(T.icon=F.getAttribute("type")),F.hasAttribute("color")&&(T.iconColor=F.getAttribute("color")),T.iconHtml=F.innerHTML),T},ct=x=>{const T={},F=x.querySelector("swal-input");F&&(Rt(F,["type","label","placeholder","value"]),T.input=F.getAttribute("type")||"text",F.hasAttribute("label")&&(T.inputLabel=F.getAttribute("label")),F.hasAttribute("placeholder")&&(T.inputPlaceholder=F.getAttribute("placeholder")),F.hasAttribute("value")&&(T.inputValue=F.getAttribute("value")));const ee=Array.from(x.querySelectorAll("swal-input-option"));return ee.length&&(T.inputOptions={},ee.forEach(ye=>{Rt(ye,["value"]);const Ve=ye.getAttribute("value"),Wt=ye.innerHTML;T.inputOptions[Ve]=Wt})),T},Dt=(x,T)=>{const F={};for(const ee in T){const ye=T[ee],Ve=x.querySelector(ye);Ve&&(Rt(Ve,[]),F[ye.replace(/^swal-/,"")]=Ve.innerHTML.trim())}return F},mn=x=>{const T=Ih.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(x.children).forEach(F=>{const ee=F.tagName.toLowerCase();T.includes(ee)||y(`Unrecognized element <${ee}>`)})},Rt=(x,T)=>{Array.from(x.attributes).forEach(F=>{T.indexOf(F.name)===-1&&y([`Unrecognized attribute "${F.name}" on <${x.tagName.toLowerCase()}>.`,`${T.length?`Allowed attributes are: ${T.join(", ")}`:"To set the value, use HTML within the element."}`])})},uu=10,av=x=>{const T=D(),F=k();typeof x.willOpen=="function"&&x.willOpen(F);const ye=window.getComputedStyle(document.body).overflowY;Da(T,F,x),setTimeout(()=>{cu(T,F)},uu),pe()&&(sv(T,x.scrollbarPadding,ye),Xl()),!et()&&!Ge.previousActiveElement&&(Ge.previousActiveElement=document.activeElement),typeof x.didOpen=="function"&&setTimeout(()=>x.didOpen(F)),oe(T,a["no-transition"])},pr=x=>{const T=k();if(x.target!==T)return;const F=D();T.removeEventListener(Wr,pr),F.style.overflowY="auto"},cu=(x,T)=>{Wr&&yt(T)?(x.style.overflowY="hidden",T.addEventListener(Wr,pr)):x.style.overflowY="auto"},sv=(x,T,F)=>{Zc(),T&&F!=="hidden"&&Ws(),setTimeout(()=>{x.scrollTop=0})},Da=(x,T,F)=>{Je(x,F.showClass.backdrop),T.style.setProperty("opacity","0","important"),Ie(T,"grid"),setTimeout(()=>{Je(T,F.showClass.popup),T.style.removeProperty("opacity")},uu),Je([document.documentElement,document.body],a.shown),F.heightAuto&&F.backdrop&&!F.toast&&Je([document.documentElement,document.body],a["height-auto"])};var el={email:(x,T)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(x)?Promise.resolve():Promise.resolve(T||"Invalid email address"),url:(x,T)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(x)?Promise.resolve():Promise.resolve(T||"Invalid URL")};function fu(x){x.inputValidator||Object.keys(el).forEach(T=>{x.input===T&&(x.inputValidator=el[T])})}function Ut(x){(!x.target||typeof x.target=="string"&&!document.querySelector(x.target)||typeof x.target!="string"&&!x.target.appendChild)&&(y('Target parameter is not valid, defaulting to "body"'),x.target="body")}function lv(x){fu(x),x.showLoaderOnConfirm&&!x.preConfirm&&y(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Ut(x),typeof x.title=="string"&&(x.title=x.title.split(`
`).join("<br />")),qt(x)}let jr;class Gi{constructor(){if(typeof window=="undefined")return;jr=this;for(var T=arguments.length,F=new Array(T),ee=0;ee<T;ee++)F[ee]=arguments[ee];const ye=Object.freeze(this.constructor.argsToParams(F));Object.defineProperties(this,{params:{value:ye,writable:!1,enumerable:!0,configurable:!0}});const Ve=jr._main(jr.params);n.promise.set(this,Ve)}_main(T){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};af(Object.assign({},F,T)),Ge.currentInstance&&(Ge.currentInstance._destroy(),pe()&&Zl()),Ge.currentInstance=jr;const ee=cv(T,F);lv(ee),Object.freeze(ee),Ge.timeout&&(Ge.timeout.stop(),delete Ge.timeout),clearTimeout(Ge.restoreFocusTimeout);const ye=fv(jr);return va(jr,ee),n.innerParams.set(jr,ee),uv(jr,ye,ee)}then(T){return n.promise.get(this).then(T)}finally(T){return n.promise.get(this).finally(T)}}const uv=(x,T,F)=>new Promise((ee,ye)=>{const Ve=Wt=>{x.close({isDismissed:!0,dismiss:Wt})};hi.swalPromiseResolve.set(x,ee),hi.swalPromiseReject.set(x,ye),T.confirmButton.onclick=()=>{Xs(x)},T.denyButton.onclick=()=>{su(x)},T.cancelButton.onclick=()=>{lu(x,Ve)},T.closeButton.onclick=()=>{Ve($r.close)},s(x,T,Ve),Yl(x,Ge,F,Ve),sf(x,F),av(F),du(Ge,F,Ve),Io(T,F),setTimeout(()=>{T.container.scrollTop=0})}),cv=(x,T)=>{const F=ov(x),ee=Object.assign({},rn,T,F,x);return ee.showClass=Object.assign({},rn.showClass,ee.showClass),ee.hideClass=Object.assign({},rn.hideClass,ee.hideClass),ee},fv=x=>{const T={popup:k(),container:D(),actions:Q(),confirmButton:ne(),denyButton:de(),cancelButton:ae(),loader:J(),closeButton:he(),validationMessage:Z(),progressSteps:K()};return n.domCache.set(x,T),T},du=(x,T,F)=>{const ee=se();Pe(ee),T.timer&&(x.timeout=new iv(()=>{F("timer"),delete x.timeout},T.timer),T.timerProgressBar&&(Ie(ee),ke(ee,T,"timerProgressBar"),setTimeout(()=>{x.timeout&&x.timeout.running&&at(T.timer)})))},Io=(x,T)=>{if(!T.toast){if(!L(T.allowEnterKey)){Nh();return}hu(x,T)||di(-1,1)}},hu=(x,T)=>T.focusDeny&&Qe(x.denyButton)?(x.denyButton.focus(),!0):T.focusCancel&&Qe(x.cancelButton)?(x.cancelButton.focus(),!0):T.focusConfirm&&Qe(x.confirmButton)?(x.confirmButton.focus(),!0):!1,Nh=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window!="undefined"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const x=new Date,T=localStorage.getItem("swal-initiation");T?(x.getTime()-Date.parse(T))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const F=document.createElement("audio");F.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",F.loop=!0,document.body.appendChild(F),setTimeout(()=>{F.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${x}`)}Object.assign(Gi.prototype,xa),Object.assign(Gi,rv),Object.keys(xa).forEach(x=>{Gi[x]=function(){if(jr)return jr[x](...arguments)}}),Gi.DismissReason=$r,Gi.version="11.7.3";const Ko=Gi;return Ko.default=Ko,Ko}),typeof Sn!="undefined"&&Sn.Sweetalert2&&(Sn.swal=Sn.sweetAlert=Sn.Swal=Sn.SweetAlert=Sn.Sweetalert2),typeof document!="undefined"&&function(n,r){var i=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=r);else try{i.innerHTML=r}catch{i.innerText=r}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')})(QO);var vg=QO.exports;function Mi(e="Are you sure?"){return vg.fire({cancelButtonColor:"#ccc",confirmButtonColor:"#09f",icon:"warning",showCancelButton:!0,text:e})}function Fn(e,t,n=!1,r){return vg.fire({cancelButtonColor:"#ccc",confirmButtonColor:"#09f",input:n?"number":"text",inputValue:t,inputValidator:r,showCancelButton:!0,text:e})}var yg={exports:{}},oh={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r3=X.exports,XO=60103;oh.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var GN=Symbol.for;XO=GN("react.element"),oh.Fragment=GN("react.fragment")}var i3=r3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o3=Object.prototype.hasOwnProperty,a3={key:!0,ref:!0,__self:!0,__source:!0};function ZO(e,t,n){var r,i={},a=null,c=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(c=t.ref);for(r in t)o3.call(t,r)&&!a3.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:XO,type:e,key:a,ref:c,props:i,_owner:i3.current}}oh.jsx=ZO;oh.jsxs=ZO;yg.exports=oh;const v=yg.exports.jsx,U=yg.exports.jsxs,Cn=yg.exports.Fragment;function s3(e){const t=De(),[n,r]=X.exports.useState({...e.item});function i(a){r(a),Pd().update(a).then(r).catch(t.showError)}return U("tr",{children:[v("td",{children:U("div",{className:"btn-group",children:[v("span",{onClick:()=>{Mi().then(a=>{if(a.isConfirmed)return Pd().delete(n.id)}).catch(t.showError)},className:"btn btn-outline-primary danger",children:"-"}),v("span",{onClick:()=>Fn("Please input the name",n.name).then(a=>{if(a.isConfirmed)return i({...n,name:a.value})}).catch(t.showError),className:"btn btn-outline-primary",children:n.name})]})}),v("td",{children:v("input",{value:n.value,onChange:a=>i({...n,value:a.target.value}),className:"form-control",type:"text"})}),v("td",{children:v("input",{value:n.tag,onChange:a=>i({...n,tag:a.target.value}),className:"form-control",type:"text"})})]})}function wg(e){return{isOpen:!1,itemId:0,message:"",title:"",close(){e({isOpen:!1,itemId:0})},open(n,r="",i=""){e({isOpen:!0,itemId:n,title:r,message:i})}}}function HN(e){}const Y0=gt(function(e){return{...wg(e),example:"",callback:HN,openCB(n,r="",i="paste JSON array here",a=HN,c=""){e({isOpen:!0,itemId:n,title:r,message:i,example:c,callback:a})}}});function YN(e,t,n="",r=""){return{collectionId:e,name:t,value:n,tag:r}}const l3=`[
    {
        name: "dtCreate",
        tag: "datetime",
    },
    {
        name: "dtUpdate",
        tag: "datetime",
    }
]`;function u3(){const e=JO(),t=G0(),n=De(),[r,i]=X.exports.useState([]);if(X.exports.useEffect(()=>{if(e.item===void 0){i([]);return}i(t.itemzz.filter(c=>{var d;return c.collectionId===((d=e.item)==null?void 0:d.id)}))},[e.item,t.itemzz]),e.item===void 0)return null;function a(c){if(c!=="")try{const d=JSON.parse(c);if(Array.isArray(d)===!1){n.showDanger("text is not JSON array");return}const m=d.map(g=>{var y,b,C;return typeof g=="string"&&(g={name:g}),YN(e.item.id,(y=g.name)!=null?y:"",(b=g.value)!=null?b:"",(C=g.tag)!=null?C:"")});Pd().createMany(m).catch(n.showError)}catch(d){n.showError(d)}}return U("table",{className:"table",children:[v("thead",{children:U("tr",{children:[v("th",{children:"name"}),U("th",{children:["value",e.item.valueDescription?` (${e.item.valueDescription})`:""]}),U("th",{children:["tag",e.item.tagDescription?` (${e.item.tagDescription})`:""]})]})}),v("tbody",{children:r.map(c=>v(s3,{item:c},c.id))}),v("tfoot",{children:U("tr",{children:[v("td",{children:v("button",{onClick:()=>Fn("Please input the name","").then(c=>{if(c.isConfirmed)return Pd().create(YN(e.item.id,c.value))}).catch(n.showError),className:"btn btn-outline-primary",type:"button",children:"+"})}),v("td",{children:v("span",{onClick:function(){Y0.getState().openCB(e.item.id,"import CollectionItem",void 0,a,l3)},className:"btn btn-outline-primary",children:"import"})}),v("td",{})]})})]})}const eA="^[a-zA-Z_][a-zA-Z0-9_]*$",c3=new RegExp(eA);function f3(e){return!!(e&&e.match(c3))}function Is(e,t){return vg.fire({cancelButtonColor:"#ccc",confirmButtonColor:"#09f",input:"text",inputValue:t,inputValidator(n){return f3(n)?null:`Invalid name. /${eA}/`},showCancelButton:!0,text:e})}function J0(e){const t=e.useItemPageStore(),n=De();function r(i){t.setItem(i),e.makeCRUD().update(i).then(a=>t.setItem(a)).catch(n.showError)}return U("div",{className:"input-group mb-3",children:[e.item.reserved?v("span",{className:"btn btn-outline-secondary",children:e.item.name}):U(Cn,{children:[v("button",{onClick:function(){Mi().then(function(i){var a;if(i.isConfirmed)return((a=e.onDeleteBefore)!=null?a:()=>Promise.resolve())().then(()=>e.makeCRUD().delete(e.item.id).catch(n.showError))}).catch(n.showError)},className:"btn btn-outline-primary danger",type:"button",children:"-"}),v("button",{onClick:function(){e.showDialog(e.message,e.item.name).then(i=>{if(i.isConfirmed)return r({...e.item,name:i.value})}).catch(n.showError)},className:"btn btn-outline-primary",type:"button",children:e.item.name})]}),v("input",{value:e.item.description,onChange:i=>r({...e.item,description:i.target.value}),type:"text",className:"form-control",placeholder:"description"})]})}function Q0(e){return new RegExp(e.split("").join(".*"),"i")}function X0(e){var t;return U("div",{className:"hover-trigger "+((t=e.className)!=null?t:""),children:[v("div",{children:v("span",{className:"color-button active",style:{backgroundColor:ib(e.color,e.color),borderColor:ob(e.color)}})}),v("div",{className:"hover-list",children:YO.map(n=>v("div",{children:v("span",{className:"color-button "+(n===e.color?"active":""),onClick:()=>e.setColor(n),style:{backgroundColor:ib(n,e.color),borderColor:ob(n)}})},n))})]})}function bg(e){const t=e.useStore(),[n,r]=X.exports.useState([]);X.exports.useEffect(()=>{r(i())},[t.color,t.keyword,e.itemzz]);function i(){if(t.color===Ln.white&&t.keyword==="")return[...e.itemzz];const a=Q0(t.keyword);return t.color===Ln.white?e.itemzz.filter(c=>c.name.match(a)):t.keyword===""?e.itemzz.filter(c=>c.color===t.color):e.itemzz.filter(c=>c.color===t.color&&c.name.match(a))}return U("div",{className:"col-3 py-3 h100 overflow-auto "+e.className,children:[U("div",{className:"d-flex align-items-center",children:[v("h1",{className:"inline",children:e.title}),v(X0,{color:t.color,setColor:t.setColor,className:"mx-1"}),e.button]}),v("input",{value:t.keyword,onChange:a=>t.search(a.target.value),className:"form-control mb-3",type:"text"}),v("ul",{className:"list-group overflow-hidden",children:n.map(a=>{var c;return v("li",{onClick:()=>t.setItem(a),className:(((c=t.item)==null?void 0:c.id)===a.id?"active ":"")+"list-group-item list-group-item-action pointer",children:a.name},a.id)})})]})}function Ul(e){var d;const t=e.useItemPageStore(),n=e.useItemzzStore(),r=De(),i=`Please input the ${e.title} name`;let a=Fn;e.validateName&&(a=Is),X.exports.useEffect(()=>{if(t.item===void 0)return;const m=n.find(t.item.id);t.setItem(m)},[n.itemzz]);function c(){var m;if(!(e.onCreateClick===void 0&&e.onCreate===void 0))return v("button",{onClick:(m=e.onCreateClick)!=null?m:function(){a(i,"").then(g=>{if(g.isConfirmed&&g.value&&e.onCreate)return e.onCreate(g.value)}).catch(r.showError)},className:"btn btn-outline-primary",type:"button",children:"+"})}return U(Cn,{children:[v(bg,{className:e.className,title:e.title,button:c(),itemzz:(d=e.itemzz)!=null?d:n.itemzz,useStore:e.useItemPageStore}),U("div",{className:"col-9 py-3 h100 overflow-auto "+e.className,children:[t.item===void 0?null:v(J0,{item:t.item,makeCRUD:e.makeCRUD,message:i,showDialog:a,useItemPageStore:e.useItemPageStore,validateName:e.validateName}),e.children]})]})}function fo(e,t={}){return{color:Ln.white,description:"",name:e,reserved:!1,...t}}function d3(e){return{...fo(e),valueDescription:"",tagDescription:""}}function Z0(){const e=Y0(),[t,n]=X.exports.useState("");return U(th,{isOpen:e.isOpen,onRequestClose:e.close,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:[U("div",{className:"mb-3",children:[v("h3",{className:"inline me-3",children:e.title}),v("button",{onClick:function(){e.callback(t)},className:"btn btn-outline-primary",type:"button",children:"import"})]}),v("div",{children:v("textarea",{value:t,onChange:r=>n(r.target.value),rows:11,placeholder:e.message,className:"form-control"})}),U("div",{children:[e.example?v("div",{children:"example"}):null,v("pre",{className:"bg-light border border-secondary",children:e.example})]})]})}function h3(){const e=De();return U("div",{className:"row",children:[v(Ul,{makeCRUD:rb,onCreate:function(t){rb().create(d3(t)).catch(e.showError)},useItemPageStore:JO,useItemzzStore:V0,title:tt.Collection,children:v(u3,{})}),v(Z0,{})]})}function p3(e,t=""){return{...fo(e),fakeMethod:"",fakeText:"",oapiFormat:"",oapiType:"",phpType:t}}const kc=gt(function(e,t){return{...Ur(e,t,Sm()),sorting:!0}}),JN=gt(function(e){return co(e)});var ft=(e=>(e.any="any",e.boolean="boolean",e.integer="integer",e.number="number",e.string="string",e.Enum="Enum",e.WuParameter="WuParameter",e.Wu="Wu",e))(ft||{});const ab=Object.keys(ft);var tA=(e=>(e.allOf="allOf",e.anyOf="anyOf",e.oneOf="oneOf",e))(tA||{});const nA=Object.keys(tA),m3=["integer","number","string"];var eS=(e=>(e.delete="delete",e.get="get",e.head="head",e.options="options",e.patch="patch",e.post="post",e.put="put",e.trace="trace",e))(eS||{});const g3=Object.keys(eS),v3=new Map([["Clone","post"],["Create","post"],["Delete","delete"],["Read","get"],["Update","patch"],["Upload","post"]]);var rA=(e=>(e.deepObject="deepObject",e.form="form",e.label="label",e.matrix="matrix",e.pipeDelimited="pipeDelimited",e.simple="simple",e.spaceDelimited="spaceDelimited",e))(rA||{});const y3=Object.keys(rA);function w3(e){return["Enum","WuParameter","Wu"].includes(e)}function b3(e){return S3(e)||E3(e)||iA(e)||tS(e)}function S3(e){const t=Object.keys(e);if(t.length>2)return!1;const n=new Set(["description","nullable"]);return t.every(r=>n.has(r))}function E3(e){return"items"in e}function iA(e){return"type"in e}function tS(e){return!!nA.find(t=>t in e)}function oA(e){return"$ref"in e}function C3(e){return{type:"array",items:e}}function aA(e=[],t){const n=[];return e.forEach(r=>{(oA(r)||b3(r))&&sA(r,n,t)}),{[t]:n}}function sb(e){return{...e,type:"object"}}function sA(e,t,n){if(tS(e)&&n in e){e[n].forEach(a=>sA(a,t,n));return}t.push(e)}function ii(e){const t=V0.getState().findByName(e);if(t===void 0)throw new Error(`Collection ${e} not found`);return G0.getState().itemzz.filter(n=>n.collectionId===t.id)}function lb(e){var t,n;return U("select",{className:"form-select "+((t=e.className)!=null?t:""),value:e.value,onChange:function(r){e.change(r.target.value)},children:[U("option",{disabled:!e.allowEmpty,hidden:!e.allowEmpty,value:"",children:["-- ",(n=e.verb)!=null?n:e.isAdd?"add":"select"," --"]}),e.itemzz.map(r=>v("option",{value:r[0],children:r[1]},r[0]))]})}var Sg=(e=>(e.edit="edit",e.open="open",e.refresh="refresh",e))(Sg||{});function nS(e,t,n){if(window.JavaBridge===void 0)throw new Error("window.JavaBridge is undefined. only available in JetBrains IDE.");const r=JSON.stringify({action:e,key:t,data:n});window.JavaBridge.send(r)}function I3(e,t){return nS(Sg.edit,e,t)}function N3(e){return nS(Sg.open,e,"")}function Eg(){return nS(Sg.refresh,"","")}function Br(e){return cg().ide?v("span",{className:"btn btn-link "+e.className,onClick:()=>N3(e.href),children:e.children}):v("a",{className:e.className,href:e.href,target:"_blank",children:e.children})}function x3(e){const t=De(),n=ii("FakerMethod").map(a=>[a.name,a.name]),r=ab.slice(0,5).map(a=>[a,a]);function i(a){Sm().update(a).catch(t.showError)}return U("table",{className:"table",children:[U("caption",{children:[v(Br,{className:"me-3",href:"https://www.doctrine-project.org/projects/doctrine-dbal/en/latest/reference/types.html#mapping-matrix",children:"Doctrine Column Type"}),"when creating a column with this type, clone the following properties to the column."]}),U("tbody",{children:[U("tr",{children:[v("td",{className:"w111",children:"fakeMethod"}),v("td",{children:v(lb,{allowEmpty:!0,className:"wa",itemzz:n,value:e.item.fakeMethod,change:a=>i({...e.item,fakeMethod:a})})})]}),U("tr",{children:[v("td",{children:"fakeText"}),v("td",{children:v("input",{value:e.item.fakeText,onChange:a=>i({...e.item,fakeText:a.target.value}),className:"form-control",type:"text"})})]}),U("tr",{children:[v("td",{children:"oapiFormat"}),v("td",{children:v("input",{value:e.item.oapiFormat,onChange:a=>i({...e.item,oapiFormat:a.target.value}),className:"form-control wa",type:"text"})})]}),U("tr",{children:[v("td",{children:"oapiType"}),v("td",{children:v(lb,{className:"wa",itemzz:r,value:e.item.oapiType,change:a=>i({...e.item,oapiType:a})})})]}),U("tr",{children:[v("td",{children:"phpType"}),v("td",{children:v("input",{value:e.item.phpType,onChange:a=>i({...e.item,phpType:a.target.value}),className:"form-control",type:"text"})})]})]})]})}function T3(){const e=JN(),t=De();return U("div",{className:"row",children:[v(Ul,{makeCRUD:Sm,onCreate:function(n){Sm().create(p3(n)).catch(t.showError)},useItemPageStore:JN,useItemzzStore:kc,title:tt.Doctrine,children:e.item===void 0?void 0:v(x3,{item:e.item})}),v(Z0,{})]})}function lA(e,t,n,r="",i=0,a=[],c,d="",m="",g=!0){var y,b;return{...fo(t),entityId:e,name:t,type:n,length:i,scale:0,default:r,comment:m,unsigned:!1,nullable:!1,cast:"",fillable:!1,hidden:!1,ro:a.findIndex(C=>C.name===t)>-1,wo:!1,fakeRaw:!0,fakeUnique:!1,fakeMethod:(y=c==null?void 0:c.fakeMethod)!=null?y:"",fakeText:r||((b=c==null?void 0:c.fakeText)!=null?b:""),inTable:g,deprecated:!1,description:"",example:"",explode:!1,required:!0,style:d}}function Ns(e=ft.string,t=1,n=null,r=null,i=null,a=null,c=null,d=""){return{isArray:!1,nullable:!1,type:e,format:d,forWuParameterId:a,ownerId:i,variableId:r,wuId:t,wuParameterId:n,ownerColumnId:c,ownerRequestId:null,ownerResponseId:null,ownerWuId:null,ownerWuChildId:null}}function Pc(e,t,n,r="",i=0,a="",c="",d=!0){const m=ii("ReadOnlyColumn"),g=kc.getState().findByName(n);return Di().create(lA(e,t,n,r,i,m,g,a,c,d)).then(y=>{const b=Ns(g==null?void 0:g.oapiType,1,null,null,null,null,y.id,g==null?void 0:g.oapiFormat);return Mr().create(b).then(()=>y)})}function rS(e,t="",n=""){return{...fo(e),description:t,table:n,x:222+Math.floor(Math.random()*111),y:11,isTable:!0,opened:!0,openedColumn:!0}}function _3(e){return Xa().create(rS(e)).then(t=>Pc(t.id,Ht.Id,ft.integer))}const Wl=gt(function(e){return{...co(e),fileColor:"#fff",tab:"Column",setFileColor(n){e({fileColor:n})}}}),Bi=gt(function(e,t){return{...Ur(e,t,Xa()),sorting:!0,add(r){e(i=>({itemzz:[...i.itemzz,r]}))}}});function Dc(e){return v("ul",{className:"nav nav-tabs mb-3",children:e.tabzz.map(t=>v("li",{onClick:function(){e.setTab(t)},className:"nav-item nav-item-fill",children:v("span",{className:t===e.tab?"nav-link active":"nav-link",children:t})},t))})}const ui=gt(function(e,t){return Ur(e,t,Di())});function O3(e){}const $l=gt(function(e){return{...wg(e),namezz:[],text:"",callback:O3,openCB(n,r,i){e({isOpen:!0,namezz:r,title:n,callback:i})},setText(n){e(function(r){return r.text=n,r})}}});function A3(e){const t=$l(),n=De(),[r,i]=X.exports.useState(e.item);function a(c){return i(c),Di().update(c).then(i).catch(n.showError)}return U("tr",{children:[v("td",{children:v("span",{className:r.inTable?"":"text-secondary",children:r.name})}),U("td",{children:[U("div",{className:"form-check form-switch inline",children:[v("input",{checked:r.fillable,onChange:c=>a({...r,fillable:c.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"fillableSwitchCheck"+r.id}),v("label",{className:"form-check-label",htmlFor:"fillableSwitchCheck"+r.id})]}),U("div",{className:"form-check form-switch inline",children:[v("input",{checked:r.hidden,onChange:c=>a({...r,hidden:c.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"hiddenSwitchCheck"+r.id}),v("label",{className:"form-check-label",htmlFor:"hiddenSwitchCheck"+r.id})]}),U("div",{className:"form-check form-switch inline ms-3",children:[v("input",{checked:r.ro,onChange:c=>a({...r,ro:c.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"roSwitchCheck"+r.id}),v("label",{className:"form-check-label",htmlFor:"roSwitchCheck"+r.id})]}),U("div",{className:"form-check form-switch inline ms-3",children:[v("input",{checked:r.wo,onChange:c=>a({...r,wo:c.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"woSwitchCheck"+r.id}),v("label",{className:"form-check-label",htmlFor:"woSwitchCheck"+r.id})]})]}),v("td",{children:r.type}),v("td",{children:U("div",{role:"group",className:"input-group",children:[v("div",{className:"input-group-prepend",children:v("button",{onClick:function(){const c=ii("ModelFieldTypeCast");t.openCB("Please select one item",c.map(d=>d.name),function(d){return a({...r,cast:d})})},type:"button",className:"btn btn-outline-primary",children:"+"})}),v("input",{value:r.cast,onChange:c=>a({...r,cast:c.target.value}),type:"text",className:"form-control"})]})})]})}function R3(e){const t=ui(),[n,r]=X.exports.useState([]);return X.exports.useEffect(()=>{r(t.itemzz.filter(i=>i.entityId===e.entity.id))},[e.entity,t.itemzz]),U("table",{className:"table",children:[U("caption",{children:[v("h3",{className:"inline me-3",children:"Cast"}),v(Br,{href:"https://laravel.com/docs/9.x/eloquent-mutators",children:"doc"})]}),v("thead",{children:U("tr",{children:[v("th",{children:"column"}),v("th",{children:"fillable / hidden / read only / write only"}),v("th",{children:"type"}),v("th",{children:"cast"})]})}),v("tbody",{children:n.map(i=>v(A3,{item:i},i.id))})]})}const Fr=gt(function(e,t){return Ur(e,t,Cm())});function iS(e){const t=new Map;return e.forEach(n=>t.set(n.id,{...n,childzz:[]})),e.forEach(n=>{const r=t.get(n.parentId);if(r){const i=t.get(n.id);i.parent=r,r.childzz.push(i)}}),t}function Cl(e,t,n=new Map){return e.forEach(function(r){const i=r[t];let a=n.get(i);a===void 0&&(a=[],n.set(i,a)),a.push(r)}),n}function Qr(e,t=new Map){return e.forEach(n=>t.set(n.id,n)),t}function uA(e,t=new Map){return e.forEach(n=>t.set(n.id,n.name)),t}function zf(e,t){const n=Object.keys(t),r=Object.values(t);return new Function(...n,`return \`${e}\`;`)(...r)}function ub(e,t){function n(C,A,P){return a(C,A,P).slice(0,-4)}function r(C,A,P){const L={file:C,entity:A,action:P},E=[C.fileNamePattern];C.nameSpacePattern&&E.push(C.nameSpacePattern);const I=e.get(C.directoryId);I&&g(I,E);const N=E.reverse().join("/");return zf(N,L).replaceAll("/","\\").slice(0,-4)}function i(C,A,P){const L={entity:A,action:P};L.directory=C;const I=g(C,[]).reverse().join("/");return b(zf(I,L))}function a(C,A,P){return zf(C.fileNamePattern,{entity:A,action:P})}function c(C,A,P){const L={file:C,entity:A,action:P},E=[C.fileNamePattern];C.nameSpacePattern&&E.push(C.nameSpacePattern);const I=e.get(C.directoryId);I&&g(I,E);const N=E.reverse().join("/");return b(zf(N,L))}function d(C,A,P){const L={entity:A,action:P};L.directory=C;const I=g(C,[]).reverse().join("/");return zf(I,L).replaceAll("/","\\")}function m(C,A,P){const L=r(C,A,P);return L.slice(0,L.lastIndexOf("\\"))}function g(C,A){return y(C,[]).forEach(P=>A.push(P.name)),A}function y(C,A){let P=e.get(C.id);for(;P&&P.parentId!==null;)A.push(P),P=P.parent;return A}function b(C){let A="";return Object.keys(t).forEach(L=>{C.startsWith(L.replaceAll("\\","/"))&&L.length>A.length&&(A=L)}),A.length?t[A]+C.slice(A.length):C}return{getClassName:n,getClassFullName:r,getDirectoryFullName:i,getFileName:a,getFileFullName:c,getFullNameSpace:d,getFullNameSpaceOfFile:m,makeNameSpacezz:g,replacePSR4:b}}function QN(e){const t=Qr(e.tables.Column),n=new Map;e.tables.WuColumn.forEach(d=>{let m=n.get(d.wuId);m===void 0&&(m=[],n.set(d.wuId,m));const g=t.get(d.columnId);let y=g.name;d.alias&&(y=d.alias),m.push({...g,name:y,alias:y,wuColumnId:d.id})});const r=Cl(e.tables.TypeFormat,"ownerId"),i=Qr(e.tables.Wu),a=Cl(e.tables.TypeFormat,"ownerWuChildId"),c=Cl(e.tables.WuParameter,"wuId");return{cicm:t,tfzzm:r,wiczzm:n,wiwm:i,wiwkzzm:a,wiwpzzm:c}}function cA(e,t,n){return cb(oS(e,!1,t,QN(n)),QN(n),new Set)}function cb(e,t,n){var d,m,g;if(e.type!==ft.Wu)return[];const r=t.wiwm.get(e.wuId);if(r===void 0)throw new Error(`Wu ${e.wuId} not found.`);n.has(r.id)&&fb("circular reference detected.",r),n.add(r.id);const i=(d=t.wiwpzzm.get(r.id))!=null?d:[];i.length>e.argumentzz.length&&fb(`Wu ${r.name} require ${i.length} argument.`,r);let a=(m=t.wiczzm.get(r.id))!=null?m:[];return((g=t.wiwkzzm.get(r.id))!=null?g:[]).forEach(function(y){if(y.type===ft.Wu){const b=oS(y,i.length>0,e.argumentzz,t);a=a.concat(cb(b,t,n));return}if(y.type===ft.WuParameter){const b=fA(y,i,r),C=e.argumentzz[b];if(C.type===ft.Wu){a=a.concat(cb(C,t,n));return}}}),a}function fA(e,t,n){const r=t.findIndex(i=>i.id===e.wuParameterId);return r===-1&&fb(`WuParameter ${e.wuParameterId} not found`,n),r}function k3(e,t,n,r){var d,m;const i=(d=r.wiwpzzm.get(e.wuId))!=null?d:[];if(i.length===0)return[];if(e.type!==ft.Wu)return[];const a=r.wiwm.get(e.wuId);return a===void 0?[]:((m=r.tfzzm.get(e.id))!=null?m:[]).map(function(g){if(t){if(g.type===ft.Wu)return oS(g,!0,n,r);if(g.type===ft.WuParameter){const y=fA(g,i,a);return n[y]}}return{...g,argumentzz:[]}})}function oS(e,t,n,r){return{...e,argumentzz:k3(e,t,n,r)}}function fb(e,t){throw new Error(e+` error found in Wu ${t.name}`)}function P3(e,t){const n=t.tables.TypeFormat.find(i=>i.ownerResponseId===e);if(n===void 0)return[];const r=t.tables.TypeFormat.find(i=>i.ownerId===n.id&&i.type===ft.Wu);return r===void 0?[]:cA(r,[],t)}function D3(e){return new Function("return "+e)()}function _m(e,t){return D3(e)(t)}function L3(e,t,n=void 0,r=void 0,i,a,c=void 0){let d;return c===void 0?d=ih().then(m=>ym.exports.cloneDeep(m)):d=Promise.resolve(c),d.then(function(m){return VO(mg("code006")).then(function(y){const b=y.data.data,C=iS(m.tables.Directory),A=ub(C,a),P={file:e,entity:t,module:n,ma:r,db:m,dependencyzz:[],fileMap:b,getResponseContentColumnzz:P3,getTypeFormatColumnzz:cA,lodash:kd,makeChildzzMap:Cl,makeIdItemMap:Qr,makeIdNameMap:uA,tree:A,treeMap:C,action:i,helper:{}};bm in b&&_m(b[bm],P);const L=cc(e,$0);L in b?_m(b[L],P):console.warn(L+" does not exist");const E=cc(e,q0);if(E in b){bp.configure({autoescape:!1}),bp.renderString(b[E],P);const I=new Set(P.dependencyzz);I.delete(A.getClassFullName(e,t,i)),P.dependencyzz=Array.from(I).sort((O,z)=>O.localeCompare(z));const N=bp.renderString(b[E],P),D=A.getFileFullName(e,t,i);return W0(D,N).then(O=>(Eg(),O))}throw new Error(E+" not exist")})})}const Om=gt(function(e){return{psr4:{"App\\":"app/","Database\\Entity\\":"database/Entity/","Database\\Factories\\":"database/factories/","Database\\Seeders\\":"database/seeders/","Tests\\":"tests/"},setPsr4(t){t["Database\\Entity\\"]="database/Entity/",e({psr4:t})}}}),ho=gt(function(e,t){const n=fa(e,t,Ld(),function(a){const c=iS(a),d=ub(c,Om.getState().psr4);e({treeHelper:d,treeMap:c})}),r=new Map,i=ub(r,Om.getState().psr4);return{...n,treeHelper:i,treeMap:r}});function ys(e){var n;const t=De();return v("button",{onClick:()=>{try{I3(e.file,e.content)}catch(r){t.showError(r)}},className:"btn btn-outline-success",children:(n=e.text)!=null?n:"edit"})}function da(e){const t=ho(),n=Om(),r=De(),i=t.treeHelper.getFileName(e.file,e.entity,e.action),a=t.treeHelper.getFileFullName(e.file,e.entity,e.action);return U("div",{className:"btn-group "+e.className,children:[v("button",{onClick:()=>{L3(e.file,e.entity,e.module,e.ma,e.action,n.psr4).then(c=>r.showSuccess(c.data.data)).catch(r.showError)},type:"button",className:"btn btn-outline-warning",children:"\u25BC"}),v(ys,{content:"",file:a,text:e.fullName?a:i})]})}function Tn(e){var t,n;return U("select",{className:"form-select "+((t=e.className)!=null?t:""),value:e.value,onChange:function(r){const i=parseInt(r.target.value);e.change(i,e.itemzz.find(a=>a.id===i))},children:[U("option",{disabled:!0,hidden:!0,value:0,children:["-- ",(n=e.verb)!=null?n:e.isAdd?"add":"select"," --"]}),e.itemzz.map(r=>v("option",{value:r.id,children:r.name},r.id))]})}function z3(e){const t=[];return e.item.name===Ht.Id&&t.push("primary key"),e.item.nullable&&t.push("nullable"),e.item.unsigned&&t.push("unsigned"),e.item.length&&t.push("length: "+e.item.length),e.item.scale&&t.push("scale: "+e.item.scale),e.item.comment&&t.push(e.item.comment),t.length===0&&t.push("----"),v("div",{className:"pointer",children:t.map(n=>v("div",{children:n},n))})}const dA=gt(function(e){return wg(e)});function M3(e){const t=dA(),n=kc(),r=$l(),i=De(),[a,c]=X.exports.useState(e.item);X.exports.useEffect(()=>{c(e.item)},[e.item]);function d(m){c(m),Di().update(m).then(c).catch(i.showError)}return U("tr",{children:[U("td",{children:[U("div",{className:"form-check form-switch inline",children:[v("input",{checked:a.inTable,onChange:m=>d({...a,inTable:m.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"inTableSwitchCheck"+a.id}),v("label",{className:"form-check-label",htmlFor:"inTableSwitchCheck"+a.id})]}),U("div",{className:"btn-group",children:[v("button",{onClick:()=>Mi().then(m=>{if(m.isConfirmed)return Di().delete(a.id)}).catch(i.showError),className:"btn btn-outline-primary danger",type:"button",children:"-"}),v("button",{onClick:()=>Is("Please input the Column name",a.name).then(m=>{if(m.isConfirmed)return d({...a,name:m.value})}).catch(i.showError),className:"btn btn-outline-primary",type:"button",children:a.name})]})]}),v("td",{children:v("button",{onClick:()=>{const m=n.itemzz.map(g=>g.name);r.openCB("Select a type",m,function(g){return d({...a,type:g})})},className:"btn btn-outline-primary",type:"button",children:a.type})}),v("td",{children:v("input",{value:a.default,onChange:m=>d({...a,default:m.target.value}),type:"text",className:"form-control"})}),v("td",{onClick:function(){t.open(a.id)},children:v(z3,{item:a})})]})}function B3(e){const t=ui(),n=Fr(),r=Y0(),i=De(),[a,c]=X.exports.useState([]),d=ii("CommonColumnName"),m=ii("CommonColumnType"),g=n.itemzz.find(b=>b.name==="ModelBase");X.exports.useEffect(()=>{c(t.itemzz.filter(b=>b.entityId===e.entity.id))},[e.entity,t.itemzz]);function y(b,C,A,P=""){return Pc(e.entity.id,b,C,A,C==="decimal"?11:0,"",P).catch(i.showError)}return U("table",{className:"table",children:[U("caption",{children:[v("h3",{className:"inline me-3",children:"Column"}),g===void 0?v("span",{className:"text-danger",children:"File ModelBase not found"}):e.entity.isTable?v(da,{action:"",file:g,fullName:!0,entity:e.entity}):null]}),v("thead",{children:U("tr",{children:[v("th",{children:"inTable / name"}),v("th",{children:"type"}),v("th",{children:"default"}),v("th",{})]})}),v("tbody",{children:a.map(b=>v(M3,{item:b},b.id))}),v("tfoot",{children:U("tr",{children:[v("td",{children:v(Tn,{isAdd:!0,itemzz:d,value:0,change:(b,C)=>{C&&y(C.name,C.tag,C.value)}})}),v("td",{children:v(Tn,{isAdd:!0,itemzz:m,value:0,change:(b,C)=>{C&&y(C.name,C.tag,C.value)}})}),v("td",{children:v("span",{onClick:function(){r.openCB(e.entity.id,"import column",void 0,function(b){if(b!=="")try{const C=JSON.parse(b);if(Array.isArray(C)===!1){i.showDanger("text is not JSON array");return}C.forEach(A=>{var P,L,E;typeof A=="string"&&(A={name:A}),y((P=A.name)!=null?P:"",(L=A.type)!=null?L:"","",(E=A.comment)!=null?E:"")})}catch(C){i.showError(C)}})},className:"btn btn-outline-primary",children:"import"})}),v("td",{})]})})]})}function po(e){var t;return v("div",{className:"color-button-group "+((t=e.className)!=null?t:""),children:YO.map(n=>v("span",{className:"color-button "+(n===e.color?"active":""),onClick:()=>e.setColor(n),style:{backgroundColor:ib(n,e.color),borderColor:ob(n)}},n))})}function F3(e){const t=De();return U("table",{className:"table td0-tar",children:[v("caption",{children:v("h3",{className:"inline me-3",children:"Detail"})}),U("tbody",{children:[U("tr",{children:[v("td",{children:"color"}),v("td",{children:v(po,{color:e.item.color,setColor:n=>Xa().update({...e.item,color:n}).catch(t.showError)})})]}),U("tr",{children:[v("td",{children:"isTable"}),v("td",{children:U("div",{className:"form-check form-switch",children:[v("input",{checked:e.item.isTable,onChange:n=>Xa().update({...e.item,isTable:n.target.checked}).catch(t.showError),className:"form-check-input",type:"checkbox",role:"switch",id:"isTableSwitchCheck"+e.item.id}),v("label",{className:"form-check-label",htmlFor:"isTableSwitchCheck"+e.item.id})]})})]}),U("tr",{children:[v("td",{children:"table"}),U("td",{children:[v("button",{onClick:()=>Fn("Please input the table name",e.item.table).then(n=>{if(n.isConfirmed)return Xa().update({...e.item,table:n.value})}).catch(t.showError),className:"btn btn-outline-primary",type:"button",children:e.item.table?e.item.table:e.item.name}),v("span",{className:"ms-2",children:"leave it empty to use the Entity name as table name"})]})]}),U("tr",{children:[v("td",{children:"description"}),v("td",{children:v("textarea",{rows:3,value:e.item.description,onChange:n=>Xa().update({...e.item,description:n.target.value}),className:"form-control"})})]})]})]})}var Ol=(e=>(e.Action="Action",e.Cache="Cache",e.Command="Command",e.Controller="Controller",e.Entity="Entity",e.Event="Event",e.Factory="Factory",e.Model="Model",e.Repository="Repository",e.Request="Request",e.Response="Response",e.Service="Service",e.Test="Test",e.View="View",e))(Ol||{});const hA=Object.keys(Ol);function pA(e,t){return VO(mg("code006")).then(r=>ih().then(i=>{const a=r.data.data;if(!(e in a))throw new Error(e+" not found");const c={db:i,fileMap:a,entity:t,result:[]};return bm in a&&_m(a[bm],c),_m(a[e],c),c}))}function hc(e){var t;return U("button",{disabled:e.waiting||e.disabled,className:(t=e.className)!=null?t:"btn btn-outline-primary",onClick:e.onClick,type:"button",children:[e.waiting?v("div",{className:"spinner-border spinner-border-sm text-secondary me-1",role:"status"}):null,e.children]})}function U3(e){const t=$l(),n=De(),[r,i]=X.exports.useState(e.item);function a(){const d=ii("FakerMethod").map(m=>m.name);t.openCB("Select a method",d,function(m){c({...r,fakeMethod:m}).catch(n.showError)})}function c(d){return i(d),Di().update(d).then(i).catch(n.showError)}return U("tr",{children:[v("td",{children:v("span",{className:r.inTable?"":"text-secondary",children:r.name})}),U("td",{children:[U("div",{className:"form-check form-switch inline",children:[v("input",{checked:r.fakeRaw===!1,onChange:d=>c({...r,fakeRaw:d.target.checked===!1}),className:"form-check-input",type:"checkbox",role:"switch",id:"fakeRowSwitchCheck"+r.id}),v("label",{className:"form-check-label",htmlFor:"fakeRowSwitchCheck"+r.id})]}),r.fakeRaw?null:U(Cn,{children:[U("div",{className:"form-check form-switch inline",children:[v("input",{checked:r.fakeUnique,onChange:d=>c({...r,fakeUnique:d.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"fakeUniqueSwitchCheck"+r.id}),v("label",{className:"form-check-label",htmlFor:"fakeUniqueSwitchCheck"+r.id,children:"unique"})]}),v("button",{onClick:a,className:"btn btn-outline-primary ms-1",children:r.fakeMethod===""?"+":r.fakeMethod})]})]}),v("td",{children:v("input",{value:r.fakeText,onChange:d=>c({...r,fakeText:d.target.value}),type:"text",className:"form-control"})})]})}function W3(e){const t=ui(),n=Fr(),r=De(),[i,a]=X.exports.useState([]),[c,d]=X.exports.useState(!1),m=n.itemzz.find(g=>g.name===Ol.Factory);return X.exports.useEffect(()=>{a(t.itemzz.filter(g=>g.entityId===e.entity.id))},[e.entity,t.itemzz]),U("table",{className:"table",children:[U("caption",{children:[v("h3",{className:"inline me-3",children:"Factory"}),m===void 0?U("span",{className:"text-danger",children:["File ",Ol.Factory," not found"]}):v(da,{action:"",className:"me-3",file:m,fullName:!0,entity:e.entity}),v(Br,{href:"https://laravel.com/docs/9.x/eloquent-factories",children:"doc"})]}),v("thead",{children:U("tr",{children:[v("th",{children:"column"}),v("th",{children:"Faker"}),v("th",{children:"PHP expression"})]})}),v("tbody",{children:i.map(g=>v(U3,{item:g},g.id))}),v("tfoot",{children:v("tr",{children:U("td",{colSpan:3,children:[U("div",{className:"btn-group me-3",children:[v(ys,{file:fc(jN),content:Ht.ScriptCode}),v(hc,{waiting:c,onClick:function(){d(!0),pA(jN,e.entity).then(g=>Di().updateMany(g.result)).then(()=>{d(!1),r.showSuccess("Select other Entity to see changes")}).catch(g=>{d(!1),r.showError(g)})},children:"Run"})]}),"set fake value (select other Entity to see changes)"]})})})]})}function mA(e){const t=ho();function n(r){const i=t.treeHelper.getFileFullName(r,e.entity,""),a=i.lastIndexOf("/");return a===-1?"/":i.slice(0,a)}return U("tr",{children:[U("td",{children:[U("div",{className:"btn-group me-2",children:[v(ys,{file:fc(cc(e.item,$0)),content:Ht.ScriptCode}),v(ys,{file:fc(cc(e.item,q0)),content:""})]}),e.item.name]}),U("td",{children:[v("div",{children:n(e.item)}),v(da,{action:"",file:e.item,entity:e.entity,ma:e.ma,module:e.module})]})]})}function gA(e){const t=Fr(),n=Wl(),[r,i]=X.exports.useState([]),[a,c]=X.exports.useState("");return X.exports.useEffect(()=>{if(a.length){const d=Q0(a);i(t.itemzz.filter(m=>m.name.match(d)).sort((m,g)=>m.directoryId===g.directoryId?m.name.localeCompare(g.name):m.directoryId-g.directoryId));return}if(n.fileColor==="#fff"){i(t.itemzz);return}i(t.itemzz.filter(d=>d.color===n.fileColor).sort((d,m)=>d.directoryId===m.directoryId?d.name.localeCompare(m.name):d.directoryId-m.directoryId))},[n.fileColor,a]),U("table",{className:"table table-sm table-striped",children:[U("caption",{children:[v("h3",{className:"inline me-3",children:"File"}),v("span",{children:"generate files"}),v(po,{color:n.fileColor,setColor:d=>n.setFileColor(d)}),v("input",{className:"form-control",value:a,onChange:function(d){c(d.target.value)},type:"text"})]}),v("thead",{children:U("tr",{children:[v("td",{children:"edit script / template"}),v("td",{children:"file"})]})}),v("tbody",{children:r.map(d=>v(mA,{entity:e.entity,item:d,ma:e.ma,module:e.module},d.id))})]})}var vA=(e=>(e.index="index",e.unique="unique",e))(vA||{});const XN=Object.keys(vA),yA=gt(function(e,t){return fa(e,t,ld())});function oi(e){return v(lb,{allowEmpty:e.allowEmpty,className:e.className,isAdd:e.isAdd,itemzz:e.itemzz.map(t=>[t,t]),value:e.value,verb:e.verb,change:e.change})}function ti(e,t){return`-- ${e} ${t} not found --`}function $3(e){var n,r;const t=De();return U(Cn,{children:[v("button",{onClick:function(){ud().delete(e.item.id).then(()=>e.refresh()).catch(t.showError)},className:"button danger",type:"button",children:"-"}),(r=(n=e.cicm.get(e.item.columnId))==null?void 0:n.name)!=null?r:ti("Column",e.item.columnId)]})}function db(e,t){return db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},db(e,t)}function wA(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,db(e,t)}function lt(){return lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lt.apply(this,arguments)}function q3(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ex(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(n),!0).forEach(function(r){q3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rr(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var tx=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Fy=function(){return Math.random().toString(36).substring(7).split("").join(".")},nx={INIT:"@@redux/INIT"+Fy(),REPLACE:"@@redux/REPLACE"+Fy(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Fy()}};function j3(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function bA(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Rr(0));if(typeof t=="function"&&typeof n=="undefined"&&(n=t,t=void 0),typeof n!="undefined"){if(typeof n!="function")throw new Error(Rr(1));return n(bA)(e,t)}if(typeof e!="function")throw new Error(Rr(2));var i=e,a=t,c=[],d=c,m=!1;function g(){d===c&&(d=c.slice())}function y(){if(m)throw new Error(Rr(3));return a}function b(L){if(typeof L!="function")throw new Error(Rr(4));if(m)throw new Error(Rr(5));var E=!0;return g(),d.push(L),function(){if(!!E){if(m)throw new Error(Rr(6));E=!1,g();var N=d.indexOf(L);d.splice(N,1),c=null}}}function C(L){if(!j3(L))throw new Error(Rr(7));if(typeof L.type=="undefined")throw new Error(Rr(8));if(m)throw new Error(Rr(9));try{m=!0,a=i(a,L)}finally{m=!1}for(var E=c=d,I=0;I<E.length;I++){var N=E[I];N()}return L}function A(L){if(typeof L!="function")throw new Error(Rr(10));i=L,C({type:nx.REPLACE})}function P(){var L,E=b;return L={subscribe:function(N){if(typeof N!="object"||N===null)throw new Error(Rr(11));function D(){N.next&&N.next(y())}D();var O=E(D);return{unsubscribe:O}}},L[tx]=function(){return this},L}return C({type:nx.INIT}),r={dispatch:C,subscribe:b,getState:y,replaceReducer:A},r[tx]=P,r}function rx(e,t){return function(){return t(e.apply(this,arguments))}}function ix(e,t){if(typeof e=="function")return rx(e,t);if(typeof e!="object"||e===null)throw new Error(Rr(16));var n={};for(var r in e){var i=e[r];typeof i=="function"&&(n[r]=rx(i,t))}return n}function SA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function K3(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),a=function(){throw new Error(Rr(15))},c={getState:i.getState,dispatch:function(){return a.apply(void 0,arguments)}},d=t.map(function(m){return m(c)});return a=SA.apply(void 0,d)(i.dispatch),ex(ex({},i),{},{dispatch:a})}}}var EA=Zr.createContext(null);function V3(e){e()}var CA=V3,G3=function(t){return CA=t},H3=function(){return CA};function Y3(){var e=H3(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e(function(){for(var i=t;i;)i.callback(),i=i.next})},get:function(){for(var i=[],a=t;a;)i.push(a),a=a.next;return i},subscribe:function(i){var a=!0,c=n={callback:i,next:null,prev:n};return c.prev?c.prev.next=c:t=c,function(){!a||t===null||(a=!1,c.next?c.next.prev=c.prev:n=c.prev,c.prev?c.prev.next=c.next:t=c.next)}}}}var ox={notify:function(){},get:function(){return[]}};function IA(e,t){var n,r=ox;function i(b){return m(),r.subscribe(b)}function a(){r.notify()}function c(){y.onStateChange&&y.onStateChange()}function d(){return Boolean(n)}function m(){n||(n=t?t.addNestedSub(c):e.subscribe(c),r=Y3())}function g(){n&&(n(),n=void 0,r.clear(),r=ox)}var y={addNestedSub:i,notifyNestedSubs:a,handleChangeWrapper:c,isSubscribed:d,trySubscribe:m,tryUnsubscribe:g,getListeners:function(){return r}};return y}var NA=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?X.exports.useLayoutEffect:X.exports.useEffect;function J3(e){var t=e.store,n=e.context,r=e.children,i=X.exports.useMemo(function(){var d=IA(t);return{store:t,subscription:d}},[t]),a=X.exports.useMemo(function(){return t.getState()},[t]);NA(function(){var d=i.subscription;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),a!==t.getState()&&d.notifyNestedSubs(),function(){d.tryUnsubscribe(),d.onStateChange=null}},[i,a]);var c=n||EA;return v(c.Provider,{value:i,children:r})}function Am(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var xA={exports:{}},Jt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wn=typeof Symbol=="function"&&Symbol.for,aS=Wn?Symbol.for("react.element"):60103,sS=Wn?Symbol.for("react.portal"):60106,Cg=Wn?Symbol.for("react.fragment"):60107,Ig=Wn?Symbol.for("react.strict_mode"):60108,Ng=Wn?Symbol.for("react.profiler"):60114,xg=Wn?Symbol.for("react.provider"):60109,Tg=Wn?Symbol.for("react.context"):60110,lS=Wn?Symbol.for("react.async_mode"):60111,_g=Wn?Symbol.for("react.concurrent_mode"):60111,Og=Wn?Symbol.for("react.forward_ref"):60112,Ag=Wn?Symbol.for("react.suspense"):60113,Q3=Wn?Symbol.for("react.suspense_list"):60120,Rg=Wn?Symbol.for("react.memo"):60115,kg=Wn?Symbol.for("react.lazy"):60116,X3=Wn?Symbol.for("react.block"):60121,Z3=Wn?Symbol.for("react.fundamental"):60117,eq=Wn?Symbol.for("react.responder"):60118,tq=Wn?Symbol.for("react.scope"):60119;function ci(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case aS:switch(e=e.type,e){case lS:case _g:case Cg:case Ng:case Ig:case Ag:return e;default:switch(e=e&&e.$$typeof,e){case Tg:case Og:case kg:case Rg:case xg:return e;default:return t}}case sS:return t}}}function TA(e){return ci(e)===_g}Jt.AsyncMode=lS;Jt.ConcurrentMode=_g;Jt.ContextConsumer=Tg;Jt.ContextProvider=xg;Jt.Element=aS;Jt.ForwardRef=Og;Jt.Fragment=Cg;Jt.Lazy=kg;Jt.Memo=Rg;Jt.Portal=sS;Jt.Profiler=Ng;Jt.StrictMode=Ig;Jt.Suspense=Ag;Jt.isAsyncMode=function(e){return TA(e)||ci(e)===lS};Jt.isConcurrentMode=TA;Jt.isContextConsumer=function(e){return ci(e)===Tg};Jt.isContextProvider=function(e){return ci(e)===xg};Jt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===aS};Jt.isForwardRef=function(e){return ci(e)===Og};Jt.isFragment=function(e){return ci(e)===Cg};Jt.isLazy=function(e){return ci(e)===kg};Jt.isMemo=function(e){return ci(e)===Rg};Jt.isPortal=function(e){return ci(e)===sS};Jt.isProfiler=function(e){return ci(e)===Ng};Jt.isStrictMode=function(e){return ci(e)===Ig};Jt.isSuspense=function(e){return ci(e)===Ag};Jt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Cg||e===_g||e===Ng||e===Ig||e===Ag||e===Q3||typeof e=="object"&&e!==null&&(e.$$typeof===kg||e.$$typeof===Rg||e.$$typeof===xg||e.$$typeof===Tg||e.$$typeof===Og||e.$$typeof===Z3||e.$$typeof===eq||e.$$typeof===tq||e.$$typeof===X3)};Jt.typeOf=ci;xA.exports=Jt;var uS=xA.exports,nq={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},rq={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},iq={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},_A={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},cS={};cS[uS.ForwardRef]=iq;cS[uS.Memo]=_A;function ax(e){return uS.isMemo(e)?_A:cS[e.$$typeof]||nq}var oq=Object.defineProperty,aq=Object.getOwnPropertyNames,sx=Object.getOwnPropertySymbols,sq=Object.getOwnPropertyDescriptor,lq=Object.getPrototypeOf,lx=Object.prototype;function OA(e,t,n){if(typeof t!="string"){if(lx){var r=lq(t);r&&r!==lx&&OA(e,r,n)}var i=aq(t);sx&&(i=i.concat(sx(t)));for(var a=ax(e),c=ax(t),d=0;d<i.length;++d){var m=i[d];if(!rq[m]&&!(n&&n[m])&&!(c&&c[m])&&!(a&&a[m])){var g=sq(t,m);try{oq(e,m,g)}catch{}}}}return e}var ux=OA,AA={exports:{}},Xt={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pg=60103,Dg=60106,ah=60107,sh=60108,lh=60114,uh=60109,ch=60110,fh=60112,dh=60113,fS=60120,hh=60115,ph=60116,RA=60121,kA=60122,PA=60117,DA=60129,LA=60131;if(typeof Symbol=="function"&&Symbol.for){var Vn=Symbol.for;Pg=Vn("react.element"),Dg=Vn("react.portal"),ah=Vn("react.fragment"),sh=Vn("react.strict_mode"),lh=Vn("react.profiler"),uh=Vn("react.provider"),ch=Vn("react.context"),fh=Vn("react.forward_ref"),dh=Vn("react.suspense"),fS=Vn("react.suspense_list"),hh=Vn("react.memo"),ph=Vn("react.lazy"),RA=Vn("react.block"),kA=Vn("react.server.block"),PA=Vn("react.fundamental"),DA=Vn("react.debug_trace_mode"),LA=Vn("react.legacy_hidden")}function mo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Pg:switch(e=e.type,e){case ah:case lh:case sh:case dh:case fS:return e;default:switch(e=e&&e.$$typeof,e){case ch:case fh:case ph:case hh:case uh:return e;default:return t}}case Dg:return t}}}var uq=uh,cq=Pg,fq=fh,dq=ah,hq=ph,pq=hh,mq=Dg,gq=lh,vq=sh,yq=dh;Xt.ContextConsumer=ch;Xt.ContextProvider=uq;Xt.Element=cq;Xt.ForwardRef=fq;Xt.Fragment=dq;Xt.Lazy=hq;Xt.Memo=pq;Xt.Portal=mq;Xt.Profiler=gq;Xt.StrictMode=vq;Xt.Suspense=yq;Xt.isAsyncMode=function(){return!1};Xt.isConcurrentMode=function(){return!1};Xt.isContextConsumer=function(e){return mo(e)===ch};Xt.isContextProvider=function(e){return mo(e)===uh};Xt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pg};Xt.isForwardRef=function(e){return mo(e)===fh};Xt.isFragment=function(e){return mo(e)===ah};Xt.isLazy=function(e){return mo(e)===ph};Xt.isMemo=function(e){return mo(e)===hh};Xt.isPortal=function(e){return mo(e)===Dg};Xt.isProfiler=function(e){return mo(e)===lh};Xt.isStrictMode=function(e){return mo(e)===sh};Xt.isSuspense=function(e){return mo(e)===dh};Xt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ah||e===lh||e===DA||e===sh||e===dh||e===fS||e===LA||typeof e=="object"&&e!==null&&(e.$$typeof===ph||e.$$typeof===hh||e.$$typeof===uh||e.$$typeof===ch||e.$$typeof===fh||e.$$typeof===PA||e.$$typeof===RA||e[0]===kA)};Xt.typeOf=mo;AA.exports=Xt;var wq=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],bq=["reactReduxForwardedRef"],Sq=[],Eq=[null,null];function Cq(e,t){var n=e[1];return[t.payload,n+1]}function cx(e,t,n){NA(function(){return e.apply(void 0,t)},n)}function Iq(e,t,n,r,i,a,c){e.current=r,t.current=i,n.current=!1,a.current&&(a.current=null,c())}function Nq(e,t,n,r,i,a,c,d,m,g){if(!!e){var y=!1,b=null,C=function(){if(!y){var L=t.getState(),E,I;try{E=r(L,i.current)}catch(N){I=N,b=N}I||(b=null),E===a.current?c.current||m():(a.current=E,d.current=E,c.current=!0,g({type:"STORE_UPDATED",payload:{error:I}}))}};n.onStateChange=C,n.trySubscribe(),C();var A=function(){if(y=!0,n.tryUnsubscribe(),n.onStateChange=null,b)throw b};return A}}var xq=function(){return[null,0]};function Tq(e,t){t===void 0&&(t={});var n=t,r=n.getDisplayName,i=r===void 0?function(D){return"ConnectAdvanced("+D+")"}:r,a=n.methodName,c=a===void 0?"connectAdvanced":a,d=n.renderCountProp,m=d===void 0?void 0:d,g=n.shouldHandleStateChanges,y=g===void 0?!0:g,b=n.storeKey,C=b===void 0?"store":b;n.withRef;var A=n.forwardRef,P=A===void 0?!1:A,L=n.context,E=L===void 0?EA:L,I=Am(n,wq),N=E;return function(O){var z=O.displayName||O.name||"Component",k=i(z),W=lt({},I,{getDisplayName:i,methodName:c,renderCountProp:m,shouldHandleStateChanges:y,storeKey:C,displayName:k,wrappedComponentName:z,WrappedComponent:O}),j=I.pure;function $(ne){return e(ne.dispatch,W)}var M=j?X.exports.useMemo:function(ne){return ne()};function Y(ne){var ae=X.exports.useMemo(function(){var _e=ne.reactReduxForwardedRef,Ie=Am(ne,bq);return[ne.context,_e,Ie]},[ne]),de=ae[0],re=ae[1],J=ae[2],Q=X.exports.useMemo(function(){return de&&de.Consumer&&AA.exports.isContextConsumer(Zr.createElement(de.Consumer,null))?de:N},[de,N]),ue=X.exports.useContext(Q),se=Boolean(ne.store)&&Boolean(ne.store.getState)&&Boolean(ne.store.dispatch);Boolean(ue)&&Boolean(ue.store);var he=se?ne.store:ue.store,Ce=X.exports.useMemo(function(){return $(he)},[he]),ze=X.exports.useMemo(function(){if(!y)return Eq;var _e=IA(he,se?null:ue.subscription),Ie=_e.notifyNestedSubs.bind(_e);return[_e,Ie]},[he,se,ue]),pe=ze[0],et=ze[1],Et=X.exports.useMemo(function(){return se?ue:lt({},ue,{subscription:pe})},[se,ue,pe]),qe=X.exports.useReducer(Cq,Sq,xq),Be=qe[0],Ae=Be[0],Ue=qe[1];if(Ae&&Ae.error)throw Ae.error;var ke=X.exports.useRef(),ht=X.exports.useRef(J),bt=X.exports.useRef(),Ct=X.exports.useRef(!1),Je=M(function(){return bt.current&&J===ht.current?bt.current:Ce(he.getState(),J)},[he,Ae,J]);cx(Iq,[ht,ke,Ct,J,Je,bt,et]),cx(Nq,[y,he,pe,Ce,ht,ke,Ct,bt,et,Ue],[he,pe,Ce]);var oe=X.exports.useMemo(function(){return v(O,{...Je,ref:re})},[re,O,Je]),ge=X.exports.useMemo(function(){return y?v(Q.Provider,{value:Et,children:oe}):oe},[Q,oe,Et]);return ge}var K=j?Zr.memo(Y):Y;if(K.WrappedComponent=O,K.displayName=Y.displayName=k,P){var Z=Zr.forwardRef(function(ae,de){return v(K,{...ae,reactReduxForwardedRef:de})});return Z.displayName=k,Z.WrappedComponent=O,ux(Z,O)}return ux(K,O)}}function fx(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Uy(e,t){if(fx(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!fx(e[n[i]],t[n[i]]))return!1;return!0}function _q(e,t){var n={},r=function(c){var d=e[c];typeof d=="function"&&(n[c]=function(){return t(d.apply(void 0,arguments))})};for(var i in e)r(i);return n}function dS(e){return function(n,r){var i=e(n,r);function a(){return i}return a.dependsOnOwnProps=!1,a}}function dx(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?Boolean(e.dependsOnOwnProps):e.length!==1}function zA(e,t){return function(r,i){i.displayName;var a=function(d,m){return a.dependsOnOwnProps?a.mapToProps(d,m):a.mapToProps(d)};return a.dependsOnOwnProps=!0,a.mapToProps=function(d,m){a.mapToProps=e,a.dependsOnOwnProps=dx(e);var g=a(d,m);return typeof g=="function"&&(a.mapToProps=g,a.dependsOnOwnProps=dx(g),g=a(d,m)),g},a}}function Oq(e){return typeof e=="function"?zA(e):void 0}function Aq(e){return e?void 0:dS(function(t){return{dispatch:t}})}function Rq(e){return e&&typeof e=="object"?dS(function(t){return _q(e,t)}):void 0}var kq=[Oq,Aq,Rq];function Pq(e){return typeof e=="function"?zA(e):void 0}function Dq(e){return e?void 0:dS(function(){return{}})}var Lq=[Pq,Dq];function zq(e,t,n){return lt({},n,e,t)}function Mq(e){return function(n,r){r.displayName;var i=r.pure,a=r.areMergedPropsEqual,c=!1,d;return function(g,y,b){var C=e(g,y,b);return c?(!i||!a(C,d))&&(d=C):(c=!0,d=C),d}}}function Bq(e){return typeof e=="function"?Mq(e):void 0}function Fq(e){return e?void 0:function(){return zq}}var Uq=[Bq,Fq],Wq=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function $q(e,t,n,r){return function(a,c){return n(e(a,c),t(r,c),c)}}function qq(e,t,n,r,i){var a=i.areStatesEqual,c=i.areOwnPropsEqual,d=i.areStatePropsEqual,m=!1,g,y,b,C,A;function P(D,O){return g=D,y=O,b=e(g,y),C=t(r,y),A=n(b,C,y),m=!0,A}function L(){return b=e(g,y),t.dependsOnOwnProps&&(C=t(r,y)),A=n(b,C,y),A}function E(){return e.dependsOnOwnProps&&(b=e(g,y)),t.dependsOnOwnProps&&(C=t(r,y)),A=n(b,C,y),A}function I(){var D=e(g,y),O=!d(D,b);return b=D,O&&(A=n(b,C,y)),A}function N(D,O){var z=!c(O,y),k=!a(D,g);return g=D,y=O,z&&k?L():z?E():k?I():A}return function(O,z){return m?N(O,z):P(O,z)}}function jq(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=Am(t,Wq),c=n(e,a),d=r(e,a),m=i(e,a),g=a.pure?qq:$q;return g(c,d,m,e,a)}var Kq=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Wy(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(a,c){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+c.wrappedComponentName+".")}}function Vq(e,t){return e===t}function Gq(e){var t=e===void 0?{}:e,n=t.connectHOC,r=n===void 0?Tq:n,i=t.mapStateToPropsFactories,a=i===void 0?Lq:i,c=t.mapDispatchToPropsFactories,d=c===void 0?kq:c,m=t.mergePropsFactories,g=m===void 0?Uq:m,y=t.selectorFactory,b=y===void 0?jq:y;return function(A,P,L,E){E===void 0&&(E={});var I=E,N=I.pure,D=N===void 0?!0:N,O=I.areStatesEqual,z=O===void 0?Vq:O,k=I.areOwnPropsEqual,W=k===void 0?Uy:k,j=I.areStatePropsEqual,$=j===void 0?Uy:j,M=I.areMergedPropsEqual,Y=M===void 0?Uy:M,K=Am(I,Kq),Z=Wy(A,a,"mapStateToProps"),ne=Wy(P,d,"mapDispatchToProps"),ae=Wy(L,g,"mergeProps");return r(b,lt({methodName:"connect",getDisplayName:function(re){return"Connect("+re+")"},shouldHandleStateChanges:Boolean(A),initMapStateToProps:Z,initMapDispatchToProps:ne,initMergeProps:ae,pure:D,areStatesEqual:z,areOwnPropsEqual:W,areStatePropsEqual:$,areMergedPropsEqual:Y},K))}}var MA=Gq();G3(Gd.exports.unstable_batchedUpdates);function Hq(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function BA(e,t){var n=X.exports.useState(function(){return{inputs:t,result:e()}})[0],r=X.exports.useRef(!0),i=X.exports.useRef(n),a=r.current||Boolean(t&&i.current.inputs&&Hq(t,i.current.inputs)),c=a?i.current:{inputs:t,result:e()};return X.exports.useEffect(function(){r.current=!1,i.current=c},[c]),c.result}function Yq(e,t){return BA(function(){return e},t)}var Lt=BA,Xe=Yq,Jq=!0,$y="Invariant failed";function Qq(e,t){if(!e){if(Jq)throw new Error($y);var n=typeof t=="function"?t():t,r=n?$y+": "+n:$y;throw new Error(r)}}var ro=function(t){var n=t.top,r=t.right,i=t.bottom,a=t.left,c=r-a,d=i-n,m={top:n,right:r,bottom:i,left:a,width:c,height:d,x:a,y:n,center:{x:(r+a)/2,y:(i+n)/2}};return m},hS=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},hx=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},Xq=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},qy={top:0,right:0,bottom:0,left:0},pS=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?qy:r,a=t.border,c=a===void 0?qy:a,d=t.padding,m=d===void 0?qy:d,g=ro(hS(n,i)),y=ro(hx(n,c)),b=ro(hx(y,m));return{marginBox:g,borderBox:ro(n),paddingBox:y,contentBox:b,margin:i,border:c,padding:m}},Si=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&Qq(!1),i},Zq=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Rm=function(t,n){var r=t.borderBox,i=t.border,a=t.margin,c=t.padding,d=Xq(r,n);return pS({borderBox:d,border:i,margin:a,padding:c})},km=function(t,n){return n===void 0&&(n=Zq()),Rm(t,n)},FA=function(t,n){var r={top:Si(n.marginTop),right:Si(n.marginRight),bottom:Si(n.marginBottom),left:Si(n.marginLeft)},i={top:Si(n.paddingTop),right:Si(n.paddingRight),bottom:Si(n.paddingBottom),left:Si(n.paddingLeft)},a={top:Si(n.borderTopWidth),right:Si(n.borderRightWidth),bottom:Si(n.borderBottomWidth),left:Si(n.borderLeftWidth)};return pS({borderBox:t,margin:r,padding:i,border:a})},UA=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return FA(n,r)},px=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function ej(e,t){return!!(e===t||px(e)&&px(t))}function tj(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!ej(e[n],t[n]))return!1;return!0}function zn(e,t){t===void 0&&(t=tj);var n,r=[],i,a=!1;function c(){for(var d=[],m=0;m<arguments.length;m++)d[m]=arguments[m];return a&&n===this&&t(d,r)||(i=e.apply(this,d),a=!0,n=this,r=d),i}return c}var nj=function(t){var n=[],r=null,i=function(){for(var c=arguments.length,d=new Array(c),m=0;m<c;m++)d[m]=arguments[m];n=d,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){!r||(cancelAnimationFrame(r),r=null)},i},Md=nj;function WA(e,t){}WA.bind(null,"warn");WA.bind(null,"error");function us(){}function rj(e,t){return lt({},e,{},t)}function xi(e,t,n){var r=t.map(function(i){var a=rj(n,i.options);return e.addEventListener(i.eventName,i.fn,a),function(){e.removeEventListener(i.eventName,i.fn,a)}});return function(){r.forEach(function(a){a()})}}var ij="Invariant failed";function Pm(e){this.message=e}Pm.prototype.toString=function(){return this.message};function Oe(e,t){if(!e)throw new Pm(ij)}var oj=function(e){wA(t,e);function t(){for(var r,i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return r=e.call.apply(e,[this].concat(a))||this,r.callbacks=null,r.unbind=us,r.onWindowError=function(d){var m=r.getCallbacks();m.isDragging()&&m.tryAbort();var g=d.error;g instanceof Pm&&d.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(d){r.callbacks=d},r}var n=t.prototype;return n.componentDidMount=function(){this.unbind=xi(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(i){if(i instanceof Pm){this.setState({});return}throw i},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(Zr.Component),aj=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Dm=function(t){return t+1},sj=function(t){return`
  You have lifted an item in position `+Dm(t.source.index)+`
`},$A=function(t,n){var r=t.droppableId===n.droppableId,i=Dm(t.index),a=Dm(n.index);return r?`
      You have moved the item from position `+i+`
      to position `+a+`
    `:`
    You have moved the item from position `+i+`
    in list `+t.droppableId+`
    to list `+n.droppableId+`
    in position `+a+`
  `},qA=function(t,n,r){var i=n.droppableId===r.droppableId;return i?`
      The item `+t+`
      has been combined with `+r.draggableId:`
      The item `+t+`
      in list `+n.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},lj=function(t){var n=t.destination;if(n)return $A(t.source,n);var r=t.combine;return r?qA(t.draggableId,t.source,r):"You are over an area that cannot be dropped on"},mx=function(t){return`
  The item has returned to its starting position
  of `+Dm(t.index)+`
`},uj=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+mx(t.source)+`
    `;var n=t.destination,r=t.combine;return n?`
      You have dropped the item.
      `+$A(t.source,n)+`
    `:r?`
      You have dropped the item.
      `+qA(t.draggableId,t.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+mx(t.source)+`
  `},zp={dragHandleUsageInstructions:aj,onDragStart:sj,onDragUpdate:lj,onDragEnd:uj},Un={x:0,y:0},Yn=function(t,n){return{x:t.x+n.x,y:t.y+n.y}},Xr=function(t,n){return{x:t.x-n.x,y:t.y-n.y}},cs=function(t,n){return t.x===n.x&&t.y===n.y},Lc=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},Al=function(t,n,r){var i;return r===void 0&&(r=0),i={},i[t]=n,i[t==="x"?"y":"x"]=r,i},Bd=function(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))},gx=function(t,n){return Math.min.apply(Math,n.map(function(r){return Bd(t,r)}))},jA=function(t){return function(n){return{x:t(n.x),y:t(n.y)}}},cj=function(e,t){var n=ro({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n},mh=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},vx=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},fj={top:0,right:0,bottom:0,left:0},dj=function(t,n){return n?mh(t,n.scroll.diff.displacement):t},hj=function(t,n,r){if(r&&r.increasedBy){var i;return lt({},t,(i={},i[n.end]=t[n.end]+r.increasedBy[n.line],i))}return t},pj=function(t,n){return n&&n.shouldClipSubject?cj(n.pageMarginBox,t):ro(t)},pc=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,i=e.frame,a=dj(t.marginBox,i),c=hj(a,r,n),d=pj(c,i);return{page:t,withPlaceholder:n,active:d}},mS=function(e,t){e.frame||Oe(!1);var n=e.frame,r=Xr(t,n.scroll.initial),i=Lc(r),a=lt({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}}),c=pc({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a}),d=lt({},e,{frame:a,subject:c});return d};function Lm(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function gS(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function xs(e,t){if(e.find)return e.find(t);var n=gS(e,t);if(n!==-1)return e[n]}function KA(e){return Array.prototype.slice.call(e)}var VA=zn(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),GA=zn(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),Lg=zn(function(e){return Lm(e)}),mj=zn(function(e){return Lm(e)}),zc=zn(function(e,t){var n=mj(t).filter(function(r){return e===r.descriptor.droppableId}).sort(function(r,i){return r.descriptor.index-i.descriptor.index});return n});function vS(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function zg(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Mg=zn(function(e,t){return t.filter(function(n){return n.descriptor.id!==e.descriptor.id})}),gj=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.insideDestination,a=e.previousImpact;if(!r.isCombineEnabled)return null;var c=vS(a);if(!c)return null;function d(L){var E={type:"COMBINE",combine:{draggableId:L,droppableId:r.descriptor.id}};return lt({},a,{at:E})}var m=a.displaced.all,g=m.length?m[0]:null;if(t)return g?d(g):null;var y=Mg(n,i);if(!g){if(!y.length)return null;var b=y[y.length-1];return d(b.descriptor.id)}var C=gS(y,function(L){return L.descriptor.id===g});C===-1&&Oe(!1);var A=C-1;if(A<0)return null;var P=y[A];return d(P.descriptor.id)},Mc=function(e,t){return e.descriptor.droppableId===t.descriptor.id},HA={point:Un,value:0},Fd={invisible:{},visible:{},all:[]},vj={displaced:Fd,displacedBy:HA,at:null},_i=function(e,t){return function(n){return e<=n&&n<=t}},YA=function(e){var t=_i(e.top,e.bottom),n=_i(e.left,e.right);return function(r){var i=t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right);if(i)return!0;var a=t(r.top)||t(r.bottom),c=n(r.left)||n(r.right),d=a&&c;if(d)return!0;var m=r.top<e.top&&r.bottom>e.bottom,g=r.left<e.left&&r.right>e.right,y=m&&g;if(y)return!0;var b=m&&c||g&&a;return b}},yj=function(e){var t=_i(e.top,e.bottom),n=_i(e.left,e.right);return function(r){var i=t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right);return i}},yS={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},JA={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},wj=function(e){return function(t){var n=_i(t.top,t.bottom),r=_i(t.left,t.right);return function(i){return e===yS?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)}}},bj=function(t,n){var r=n.frame?n.frame.scroll.diff.displacement:Un;return mh(t,r)},Sj=function(t,n,r){return n.subject.active?r(n.subject.active)(t):!1},Ej=function(t,n,r){return r(n)(t)},wS=function(t){var n=t.target,r=t.destination,i=t.viewport,a=t.withDroppableDisplacement,c=t.isVisibleThroughFrameFn,d=a?bj(n,r):n;return Sj(d,r,c)&&Ej(d,i,c)},Cj=function(t){return wS(lt({},t,{isVisibleThroughFrameFn:YA}))},QA=function(t){return wS(lt({},t,{isVisibleThroughFrameFn:yj}))},Ij=function(t){return wS(lt({},t,{isVisibleThroughFrameFn:wj(t.destination.axis)}))},Nj=function(t,n,r){if(typeof r=="boolean")return r;if(!n)return!0;var i=n.invisible,a=n.visible;if(i[t])return!1;var c=a[t];return c?c.shouldAnimate:!0};function xj(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return ro(hS(n,r))}function Ud(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,i=e.viewport,a=e.forceShouldAnimate,c=e.last;return t.reduce(function(m,g){var y=xj(g,r),b=g.descriptor.id;m.all.push(b);var C=Cj({target:y,destination:n,viewport:i,withDroppableDisplacement:!0});if(!C)return m.invisible[g.descriptor.id]=!0,m;var A=Nj(b,c,a),P={draggableId:b,shouldAnimate:A};return m.visible[b]=P,m},{all:[],visible:{},invisible:{}})}function Tj(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function yx(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,i=e.destination,a=Tj(t,{inHomeList:n});return{displaced:Fd,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:a}}}}function zm(e){var t=e.draggable,n=e.insideDestination,r=e.destination,i=e.viewport,a=e.displacedBy,c=e.last,d=e.index,m=e.forceShouldAnimate,g=Mc(t,r);if(d==null)return yx({insideDestination:n,inHomeList:g,displacedBy:a,destination:r});var y=xs(n,function(L){return L.descriptor.index===d});if(!y)return yx({insideDestination:n,inHomeList:g,displacedBy:a,destination:r});var b=Mg(t,n),C=n.indexOf(y),A=b.slice(C),P=Ud({afterDragging:A,destination:r,displacedBy:a,last:c,viewport:i.frame,forceShouldAnimate:m});return{displaced:P,displacedBy:a,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:d}}}}function ws(e,t){return Boolean(t.effected[e])}var _j=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,i=e.combine,a=e.afterCritical;if(!n.isCombineEnabled)return null;var c=i.draggableId,d=r[c],m=d.descriptor.index,g=ws(c,a);return g?t?m:m-1:t?m+1:m},Oj=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,i=e.location;if(!r.length)return null;var a=i.index,c=t?a+1:a-1,d=r[0].descriptor.index,m=r[r.length-1].descriptor.index,g=n?m:m+1;return c<d||c>g?null:c},Aj=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,i=e.draggables,a=e.destination,c=e.insideDestination,d=e.previousImpact,m=e.viewport,g=e.afterCritical,y=d.at;if(y||Oe(!1),y.type==="REORDER"){var b=Oj({isMovingForward:t,isInHomeList:n,location:y.destination,insideDestination:c});return b==null?null:zm({draggable:r,insideDestination:c,destination:a,viewport:m,last:d.displaced,displacedBy:d.displacedBy,index:b})}var C=_j({isMovingForward:t,destination:a,displaced:d.displaced,draggables:i,combine:y.combine,afterCritical:g});return C==null?null:zm({draggable:r,insideDestination:c,destination:a,viewport:m,last:d.displaced,displacedBy:d.displacedBy,index:C})},Rj=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,i=e.displacedBy,a=Boolean(t.visible[r]||t.invisible[r]);return ws(r,n)?a?Un:Lc(i.point):a?i.point:Un},kj=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,i=zg(n);i||Oe(!1);var a=i.draggableId,c=r[a].page.borderBox.center,d=Rj({displaced:n.displaced,afterCritical:t,combineWith:a,displacedBy:n.displacedBy});return Yn(c,d)},XA=function(t,n){return n.margin[t.start]+n.borderBox[t.size]/2},Pj=function(t,n){return n.margin[t.end]+n.borderBox[t.size]/2},bS=function(t,n,r){return n[t.crossAxisStart]+r.margin[t.crossAxisStart]+r.borderBox[t.crossAxisSize]/2},wx=function(t){var n=t.axis,r=t.moveRelativeTo,i=t.isMoving;return Al(n.line,r.marginBox[n.end]+XA(n,i),bS(n,r.marginBox,i))},bx=function(t){var n=t.axis,r=t.moveRelativeTo,i=t.isMoving;return Al(n.line,r.marginBox[n.start]-Pj(n,i),bS(n,r.marginBox,i))},Dj=function(t){var n=t.axis,r=t.moveInto,i=t.isMoving;return Al(n.line,r.contentBox[n.start]+XA(n,i),bS(n,r.contentBox,i))},Lj=function(e){var t=e.impact,n=e.draggable,r=e.draggables,i=e.droppable,a=e.afterCritical,c=zc(i.descriptor.id,r),d=n.page,m=i.axis;if(!c.length)return Dj({axis:m,moveInto:i.page,isMoving:d});var g=t.displaced,y=t.displacedBy,b=g.all[0];if(b){var C=r[b];if(ws(b,a))return bx({axis:m,moveRelativeTo:C.page,isMoving:d});var A=Rm(C.page,y.point);return bx({axis:m,moveRelativeTo:A,isMoving:d})}var P=c[c.length-1];if(P.descriptor.id===n.descriptor.id)return d.borderBox.center;if(ws(P.descriptor.id,a)){var L=Rm(P.page,Lc(a.displacedBy.point));return wx({axis:m,moveRelativeTo:L,isMoving:d})}return wx({axis:m,moveRelativeTo:P.page,isMoving:d})},hb=function(e,t){var n=e.frame;return n?Yn(t,n.scroll.diff.displacement):t},zj=function(t){var n=t.impact,r=t.draggable,i=t.droppable,a=t.draggables,c=t.afterCritical,d=r.page.borderBox.center,m=n.at;return!i||!m?d:m.type==="REORDER"?Lj({impact:n,draggable:r,draggables:a,droppable:i,afterCritical:c}):kj({impact:n,draggables:a,afterCritical:c})},Bg=function(e){var t=zj(e),n=e.droppable,r=n?hb(n,t):t;return r},ZA=function(e,t){var n=Xr(t,e.scroll.initial),r=Lc(n),i=ro({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),a={frame:i,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}};return a};function Sx(e,t){return e.map(function(n){return t[n]})}function Mj(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}var Bj=function(e){var t=e.impact,n=e.viewport,r=e.destination,i=e.draggables,a=e.maxScrollChange,c=ZA(n,Yn(n.scroll.current,a)),d=r.frame?mS(r,Yn(r.frame.scroll.current,a)):r,m=t.displaced,g=Ud({afterDragging:Sx(m.all,i),destination:r,displacedBy:t.displacedBy,viewport:c.frame,last:m,forceShouldAnimate:!1}),y=Ud({afterDragging:Sx(m.all,i),destination:d,displacedBy:t.displacedBy,viewport:n.frame,last:m,forceShouldAnimate:!1}),b={},C={},A=[m,g,y];m.all.forEach(function(L){var E=Mj(L,A);if(E){C[L]=E;return}b[L]=!0});var P=lt({},t,{displaced:{all:m.all,invisible:b,visible:C}});return P},Fj=function(e,t){return Yn(e.scroll.diff.displacement,t)},SS=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=e.viewport,i=Fj(r,t),a=Xr(i,n.page.borderBox.center);return Yn(n.client.borderBox.center,a)},eR=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,i=e.viewport,a=e.withDroppableDisplacement,c=e.onlyOnMainAxis,d=c===void 0?!1:c,m=Xr(r,t.page.borderBox.center),g=mh(t.page.borderBox,m),y={target:g,destination:n,withDroppableDisplacement:a,viewport:i};return d?Ij(y):QA(y)},Uj=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.draggables,a=e.previousImpact,c=e.viewport,d=e.previousPageBorderBoxCenter,m=e.previousClientSelection,g=e.afterCritical;if(!r.isEnabled)return null;var y=zc(r.descriptor.id,i),b=Mc(n,r),C=gj({isMovingForward:t,draggable:n,destination:r,insideDestination:y,previousImpact:a})||Aj({isMovingForward:t,isInHomeList:b,draggable:n,draggables:i,destination:r,insideDestination:y,previousImpact:a,viewport:c,afterCritical:g});if(!C)return null;var A=Bg({impact:C,draggable:n,droppable:r,draggables:i,afterCritical:g}),P=eR({draggable:n,destination:r,newPageBorderBoxCenter:A,viewport:c.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(P){var L=SS({pageBorderBoxCenter:A,draggable:n,viewport:c});return{clientSelection:L,impact:C,scrollJumpRequest:null}}var E=Xr(A,d),I=Bj({impact:C,viewport:c,destination:r,draggables:i,maxScrollChange:E});return{clientSelection:m,impact:I,scrollJumpRequest:E}},wr=function(t){var n=t.subject.active;return n||Oe(!1),n},Wj=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,i=e.droppables,a=e.viewport,c=r.subject.active;if(!c)return null;var d=r.axis,m=_i(c[d.start],c[d.end]),g=Lg(i).filter(function(b){return b!==r}).filter(function(b){return b.isEnabled}).filter(function(b){return Boolean(b.subject.active)}).filter(function(b){return YA(a.frame)(wr(b))}).filter(function(b){var C=wr(b);return t?c[d.crossAxisEnd]<C[d.crossAxisEnd]:C[d.crossAxisStart]<c[d.crossAxisStart]}).filter(function(b){var C=wr(b),A=_i(C[d.start],C[d.end]);return m(C[d.start])||m(C[d.end])||A(c[d.start])||A(c[d.end])}).sort(function(b,C){var A=wr(b)[d.crossAxisStart],P=wr(C)[d.crossAxisStart];return t?A-P:P-A}).filter(function(b,C,A){return wr(b)[d.crossAxisStart]===wr(A[0])[d.crossAxisStart]});if(!g.length)return null;if(g.length===1)return g[0];var y=g.filter(function(b){var C=_i(wr(b)[d.start],wr(b)[d.end]);return C(n[d.line])});return y.length===1?y[0]:y.length>1?y.sort(function(b,C){return wr(b)[d.start]-wr(C)[d.start]})[0]:g.sort(function(b,C){var A=gx(n,vx(wr(b))),P=gx(n,vx(wr(C)));return A!==P?A-P:wr(b)[d.start]-wr(C)[d.start]})[0]},Ex=function(t,n){var r=t.page.borderBox.center;return ws(t.descriptor.id,n)?Xr(r,n.displacedBy.point):r},$j=function(t,n){var r=t.page.borderBox;return ws(t.descriptor.id,n)?mh(r,Lc(n.displacedBy.point)):r},qj=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,i=e.insideDestination,a=e.afterCritical,c=i.filter(function(d){return QA({target:$j(d,a),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(d,m){var g=Bd(t,hb(r,Ex(d,a))),y=Bd(t,hb(r,Ex(m,a)));return g<y?-1:y<g?1:d.descriptor.index-m.descriptor.index});return c[0]||null},gh=zn(function(t,n){var r=n[t.line];return{value:r,point:Al(t.line,r)}}),jj=function(t,n,r){var i=t.axis;if(t.descriptor.mode==="virtual")return Al(i.line,n[i.line]);var a=t.subject.page.contentBox[i.size],c=zc(t.descriptor.id,r),d=c.reduce(function(y,b){return y+b.client.marginBox[i.size]},0),m=d+n[i.line],g=m-a;return g<=0?null:Al(i.line,g)},tR=function(t,n){return lt({},t,{scroll:lt({},t.scroll,{max:n})})},nR=function(t,n,r){var i=t.frame;Mc(n,t)&&Oe(!1),t.subject.withPlaceholder&&Oe(!1);var a=gh(t.axis,n.displaceBy).point,c=jj(t,a,r),d={placeholderSize:a,increasedBy:c,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!i){var m=pc({page:t.subject.page,withPlaceholder:d,axis:t.axis,frame:t.frame});return lt({},t,{subject:m})}var g=c?Yn(i.scroll.max,c):i.scroll.max,y=tR(i,g),b=pc({page:t.subject.page,withPlaceholder:d,axis:t.axis,frame:y});return lt({},t,{subject:b,frame:y})},Kj=function(t){var n=t.subject.withPlaceholder;n||Oe(!1);var r=t.frame;if(!r){var i=pc({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return lt({},t,{subject:i})}var a=n.oldFrameMaxScroll;a||Oe(!1);var c=tR(r,a),d=pc({page:t.subject.page,axis:t.axis,frame:c,withPlaceholder:null});return lt({},t,{subject:d,frame:c})},Vj=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,i=e.draggable,a=e.draggables,c=e.destination,d=e.viewport,m=e.afterCritical;if(!n){if(r.length)return null;var g={displaced:Fd,displacedBy:HA,at:{type:"REORDER",destination:{droppableId:c.descriptor.id,index:0}}},y=Bg({impact:g,draggable:i,droppable:c,draggables:a,afterCritical:m}),b=Mc(i,c)?c:nR(c,i,a),C=eR({draggable:i,destination:b,newPageBorderBoxCenter:y,viewport:d.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return C?g:null}var A=Boolean(t[c.axis.line]<=n.page.borderBox.center[c.axis.line]),P=function(){var E=n.descriptor.index;return n.descriptor.id===i.descriptor.id||A?E:E+1}(),L=gh(c.axis,i.displaceBy);return zm({draggable:i,insideDestination:r,destination:c,viewport:d,displacedBy:L,last:Fd,index:P})},Gj=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,i=e.isOver,a=e.draggables,c=e.droppables,d=e.viewport,m=e.afterCritical,g=Wj({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:c,viewport:d});if(!g)return null;var y=zc(g.descriptor.id,a),b=qj({pageBorderBoxCenter:n,viewport:d,destination:g,insideDestination:y,afterCritical:m}),C=Vj({previousPageBorderBoxCenter:n,destination:g,draggable:r,draggables:a,moveRelativeTo:b,insideDestination:y,viewport:d,afterCritical:m});if(!C)return null;var A=Bg({impact:C,draggable:r,droppable:g,draggables:a,afterCritical:m}),P=SS({pageBorderBoxCenter:A,draggable:r,viewport:d});return{clientSelection:P,impact:C,scrollJumpRequest:null}},ni=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},Hj=function(t,n){var r=ni(t);return r?n[r]:null},Yj=function(e){var t=e.state,n=e.type,r=Hj(t.impact,t.dimensions.droppables),i=Boolean(r),a=t.dimensions.droppables[t.critical.droppable.id],c=r||a,d=c.axis.direction,m=d==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||d==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(m&&!i)return null;var g=n==="MOVE_DOWN"||n==="MOVE_RIGHT",y=t.dimensions.draggables[t.critical.draggable.id],b=t.current.page.borderBoxCenter,C=t.dimensions,A=C.draggables,P=C.droppables;return m?Uj({isMovingForward:g,previousPageBorderBoxCenter:b,draggable:y,destination:c,draggables:A,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Gj({isMovingForward:g,previousPageBorderBoxCenter:b,draggable:y,isOver:c,draggables:A,droppables:P,viewport:t.viewport,afterCritical:t.afterCritical})};function fl(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function rR(e){var t=_i(e.top,e.bottom),n=_i(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function Jj(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function Qj(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,i=n.page.borderBox.center,a=r.map(function(c){var d=c.axis,m=Al(c.axis.line,t.center[d.line],c.page.borderBox.center[d.crossAxisLine]);return{id:c.descriptor.id,distance:Bd(i,m)}}).sort(function(c,d){return d.distance-c.distance});return a[0]?a[0].id:null}function Xj(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,i=Lg(r).filter(function(a){if(!a.isEnabled)return!1;var c=a.subject.active;if(!c||!Jj(t,c))return!1;if(rR(c)(t.center))return!0;var d=a.axis,m=c.center[d.crossAxisLine],g=t[d.crossAxisStart],y=t[d.crossAxisEnd],b=_i(c[d.crossAxisStart],c[d.crossAxisEnd]),C=b(g),A=b(y);return!C&&!A?!0:C?g<m:y>m});return i.length?i.length===1?i[0].descriptor.id:Qj({pageBorderBox:t,draggable:n,candidates:i}):null}var iR=function(t,n){return ro(mh(t,n))},Zj=function(e,t){var n=e.frame;return n?iR(t,n.scroll.diff.value):t};function oR(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}function eK(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var tK=function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,i=e.insideDestination,a=e.last,c=e.viewport,d=e.afterCritical,m=r.axis,g=gh(r.axis,n.displaceBy),y=g.value,b=t[m.start],C=t[m.end],A=Mg(n,i),P=xs(A,function(E){var I=E.descriptor.id,N=E.page.borderBox.center[m.line],D=ws(I,d),O=oR({displaced:a,id:I});return D?O?C<=N:b<N-y:O?C<=N+y:b<N}),L=eK({draggable:n,closest:P,inHomeList:Mc(n,r)});return zm({draggable:n,insideDestination:i,destination:r,viewport:c,last:a,displacedBy:g,index:L})},nK=4,rK=function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,i=e.destination,a=e.insideDestination,c=e.afterCritical;if(!i.isCombineEnabled)return null;var d=i.axis,m=gh(i.axis,t.displaceBy),g=m.value,y=n[d.start],b=n[d.end],C=Mg(t,a),A=xs(C,function(L){var E=L.descriptor.id,I=L.page.borderBox,N=I[d.size],D=N/nK,O=ws(E,c),z=oR({displaced:r.displaced,id:E});return O?z?b>I[d.start]+D&&b<I[d.end]-D:y>I[d.start]-g+D&&y<I[d.end]-g-D:z?b>I[d.start]+g+D&&b<I[d.end]+g-D:y>I[d.start]+D&&y<I[d.end]-D});if(!A)return null;var P={displacedBy:m,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:A.descriptor.id,droppableId:i.descriptor.id}}};return P},aR=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,i=e.droppables,a=e.previousImpact,c=e.viewport,d=e.afterCritical,m=iR(n.page.borderBox,t),g=Xj({pageBorderBox:m,draggable:n,droppables:i});if(!g)return vj;var y=i[g],b=zc(y.descriptor.id,r),C=Zj(y,m);return rK({pageBorderBoxWithDroppableScroll:C,draggable:n,previousImpact:a,destination:y,insideDestination:b,afterCritical:d})||tK({pageBorderBoxWithDroppableScroll:C,draggable:n,destination:y,insideDestination:b,last:a.displaced,viewport:c,afterCritical:d})},ES=function(e,t){var n;return lt({},e,(n={},n[t.descriptor.id]=t,n))},iK=function(t){var n=t.previousImpact,r=t.impact,i=t.droppables,a=ni(n),c=ni(r);if(!a||a===c)return i;var d=i[a];if(!d.subject.withPlaceholder)return i;var m=Kj(d);return ES(i,m)},oK=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,i=e.previousImpact,a=e.impact,c=iK({previousImpact:i,impact:a,droppables:r}),d=ni(a);if(!d)return c;var m=r[d];if(Mc(t,m)||m.subject.withPlaceholder)return c;var g=nR(m,t,n);return ES(c,g)},cd=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,i=e.viewport,a=e.impact,c=e.scrollJumpRequest,d=i||t.viewport,m=r||t.dimensions,g=n||t.current.client.selection,y=Xr(g,t.initial.client.selection),b={offset:y,selection:g,borderBoxCenter:Yn(t.initial.client.borderBoxCenter,y)},C={selection:Yn(b.selection,d.scroll.current),borderBoxCenter:Yn(b.borderBoxCenter,d.scroll.current),offset:Yn(b.offset,d.scroll.diff.value)},A={client:b,page:C};if(t.phase==="COLLECTING")return lt({phase:"COLLECTING"},t,{dimensions:m,viewport:d,current:A});var P=m.draggables[t.critical.draggable.id],L=a||aR({pageOffset:C.offset,draggable:P,draggables:m.draggables,droppables:m.droppables,previousImpact:t.impact,viewport:d,afterCritical:t.afterCritical}),E=oK({draggable:P,impact:L,previousImpact:t.impact,draggables:m.draggables,droppables:m.droppables}),I=lt({},t,{current:A,dimensions:{draggables:m.draggables,droppables:E},impact:L,viewport:d,scrollJumpRequest:c||null,forceShouldAnimate:c?!1:null});return I};function aK(e,t){return e.map(function(n){return t[n]})}var sR=function(e){var t=e.impact,n=e.viewport,r=e.draggables,i=e.destination,a=e.forceShouldAnimate,c=t.displaced,d=aK(c.all,r),m=Ud({afterDragging:d,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:a,last:c});return lt({},t,{displaced:m})},lR=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,a=e.viewport,c=e.afterCritical,d=Bg({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:c});return SS({pageBorderBoxCenter:d,draggable:n,viewport:a})},uR=function(e){var t=e.state,n=e.dimensions,r=e.viewport;t.movementMode!=="SNAP"&&Oe(!1);var i=t.impact,a=r||t.viewport,c=n||t.dimensions,d=c.draggables,m=c.droppables,g=d[t.critical.draggable.id],y=ni(i);y||Oe(!1);var b=m[y],C=sR({impact:i,viewport:a,destination:b,draggables:d}),A=lR({impact:C,draggable:g,droppable:b,draggables:d,viewport:a,afterCritical:t.afterCritical});return cd({impact:C,clientSelection:A,state:t,dimensions:c,viewport:a})},sK=function(e){return{index:e.index,droppableId:e.droppableId}},cR=function(e){var t=e.draggable,n=e.home,r=e.draggables,i=e.viewport,a=gh(n.axis,t.displaceBy),c=zc(n.descriptor.id,r),d=c.indexOf(t);d===-1&&Oe(!1);var m=c.slice(d+1),g=m.reduce(function(A,P){return A[P.descriptor.id]=!0,A},{}),y={inVirtualList:n.descriptor.mode==="virtual",displacedBy:a,effected:g},b=Ud({afterDragging:m,destination:n,displacedBy:a,last:null,viewport:i.frame,forceShouldAnimate:!1}),C={displaced:b,displacedBy:a,at:{type:"REORDER",destination:sK(t.descriptor)}};return{impact:C,afterCritical:y}},lK=function(e,t){return{draggables:e.draggables,droppables:ES(e.droppables,t)}},uK=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,i=Rm(t.client,n),a=km(i,r),c=lt({},t,{placeholder:lt({},t.placeholder,{client:i}),client:i,page:a});return c},cK=function(e){var t=e.frame;return t||Oe(!1),t},fK=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,i=r.scroll.diff.value;return t.map(function(a){var c=a.descriptor.droppableId,d=n[c],m=cK(d),g=m.scroll.diff.value,y=Yn(i,g),b=uK({draggable:a,offset:y,initialWindowScroll:r.scroll.initial});return b})},dK=function(e){var t=e.state,n=e.published,r=n.modified.map(function(D){var O=t.dimensions.droppables[D.droppableId],z=mS(O,D.scroll);return z}),i=lt({},t.dimensions.droppables,{},VA(r)),a=GA(fK({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),c=lt({},t.dimensions.draggables,{},a);n.removals.forEach(function(D){delete c[D]});var d={droppables:i,draggables:c},m=ni(t.impact),g=m?d.droppables[m]:null,y=d.draggables[t.critical.draggable.id],b=d.droppables[t.critical.droppable.id],C=cR({draggable:y,home:b,draggables:c,viewport:t.viewport}),A=C.impact,P=C.afterCritical,L=g&&g.isCombineEnabled?t.impact:A,E=aR({pageOffset:t.current.page.offset,draggable:d.draggables[t.critical.draggable.id],draggables:d.draggables,droppables:d.droppables,previousImpact:L,viewport:t.viewport,afterCritical:P}),I=lt({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:E,onLiftImpact:A,dimensions:d,afterCritical:P,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return I;var N=lt({phase:"DROP_PENDING"},I,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return N},pb=function(t){return t.movementMode==="SNAP"},jy=function(t,n,r){var i=lK(t.dimensions,n);return!pb(t)||r?cd({state:t,dimensions:i}):uR({state:t,dimensions:i})};function Ky(e){return e.isDragging&&e.movementMode==="SNAP"?lt({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Cx={phase:"IDLE",completed:null,shouldFlush:!1},hK=function(e,t){if(e===void 0&&(e=Cx),t.type==="FLUSH")return lt({},Cx,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Oe(!1);var n=t.payload,r=n.critical,i=n.clientSelection,a=n.viewport,c=n.dimensions,d=n.movementMode,m=c.draggables[r.draggable.id],g=c.droppables[r.droppable.id],y={selection:i,borderBoxCenter:m.client.borderBox.center,offset:Un},b={client:y,page:{selection:Yn(y.selection,a.scroll.initial),borderBoxCenter:Yn(y.selection,a.scroll.initial),offset:Yn(y.selection,a.scroll.diff.value)}},C=Lg(c.droppables).every(function(Ue){return!Ue.isFixedOnPage}),A=cR({draggable:m,home:g,draggables:c.draggables,viewport:a}),P=A.impact,L=A.afterCritical,E={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:d,dimensions:c,initial:b,current:b,isWindowScrollAllowed:C,impact:P,afterCritical:L,onLiftImpact:P,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null};return E}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Oe(!1);var I=lt({phase:"COLLECTING"},e,{phase:"COLLECTING"});return I}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Oe(!1),dK({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;fl(e)||Oe(!1);var N=t.payload.client;return cs(N,e.current.client.selection)?e:cd({state:e,clientSelection:N,impact:pb(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Ky(e);fl(e)||Oe(!1);var D=t.payload,O=D.id,z=D.newScroll,k=e.dimensions.droppables[O];if(!k)return e;var W=mS(k,z);return jy(e,W,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;fl(e)||Oe(!1);var j=t.payload,$=j.id,M=j.isEnabled,Y=e.dimensions.droppables[$];Y||Oe(!1),Y.isEnabled===M&&Oe(!1);var K=lt({},Y,{isEnabled:M});return jy(e,K,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;fl(e)||Oe(!1);var Z=t.payload,ne=Z.id,ae=Z.isCombineEnabled,de=e.dimensions.droppables[ne];de||Oe(!1),de.isCombineEnabled===ae&&Oe(!1);var re=lt({},de,{isCombineEnabled:ae});return jy(e,re,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;fl(e)||Oe(!1),e.isWindowScrollAllowed||Oe(!1);var J=t.payload.newScroll;if(cs(e.viewport.scroll.current,J))return Ky(e);var Q=ZA(e.viewport,J);return pb(e)?uR({state:e,viewport:Q}):cd({state:e,viewport:Q})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!fl(e))return e;var ue=t.payload.maxScroll;if(cs(ue,e.viewport.scroll.max))return e;var se=lt({},e.viewport,{scroll:lt({},e.viewport.scroll,{max:ue})});return lt({phase:"DRAGGING"},e,{viewport:se})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Oe(!1);var he=Yj({state:e,type:t.type});return he?cd({state:e,impact:he.impact,clientSelection:he.clientSelection,scrollJumpRequest:he.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var Ce=t.payload.reason;e.phase!=="COLLECTING"&&Oe(!1);var ze=lt({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:Ce});return ze}if(t.type==="DROP_ANIMATE"){var pe=t.payload,et=pe.completed,Et=pe.dropDuration,qe=pe.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Oe(!1);var Be={phase:"DROP_ANIMATING",completed:et,dropDuration:Et,newHomeClientOffset:qe,dimensions:e.dimensions};return Be}if(t.type==="DROP_COMPLETE"){var Ae=t.payload.completed;return{phase:"IDLE",completed:Ae,shouldFlush:!1}}return e},pK=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},mK=function(t){return{type:"LIFT",payload:t}},gK=function(t){return{type:"INITIAL_PUBLISH",payload:t}},vK=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},yK=function(){return{type:"COLLECTION_STARTING",payload:null}},wK=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},bK=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},SK=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},fR=function(t){return{type:"MOVE",payload:t}},EK=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},CK=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},IK=function(){return{type:"MOVE_UP",payload:null}},NK=function(){return{type:"MOVE_DOWN",payload:null}},xK=function(){return{type:"MOVE_RIGHT",payload:null}},TK=function(){return{type:"MOVE_LEFT",payload:null}},CS=function(){return{type:"FLUSH",payload:null}},_K=function(t){return{type:"DROP_ANIMATE",payload:t}},IS=function(t){return{type:"DROP_COMPLETE",payload:t}},dR=function(t){return{type:"DROP",payload:t}},OK=function(t){return{type:"DROP_PENDING",payload:t}},hR=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},AK=function(e){return function(t){var n=t.getState,r=t.dispatch;return function(i){return function(a){if(a.type!=="LIFT"){i(a);return}var c=a.payload,d=c.id,m=c.clientSelection,g=c.movementMode,y=n();y.phase==="DROP_ANIMATING"&&r(IS({completed:y.completed})),n().phase!=="IDLE"&&Oe(!1),r(CS()),r(pK({draggableId:d,movementMode:g}));var b={shouldPublishImmediately:g==="SNAP"},C={draggableId:d,scrollOptions:b},A=e.startPublishing(C),P=A.critical,L=A.dimensions,E=A.viewport;r(gK({critical:P,dimensions:L,clientSelection:m,movementMode:g,viewport:E}))}}}},RK=function(e){return function(){return function(t){return function(n){n.type==="INITIAL_PUBLISH"&&e.dragging(),n.type==="DROP_ANIMATE"&&e.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&e.resting(),t(n)}}}},NS={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Wd={opacity:{drop:0,combining:.7},scale:{drop:.75}},xS={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},ll=xS.outOfTheWay+"s "+NS.outOfTheWay,fd={fluid:"opacity "+ll,snap:"transform "+ll+", opacity "+ll,drop:function(t){var n=t+"s "+NS.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+ll,placeholder:"height "+ll+", width "+ll+", margin "+ll},Ix=function(t){return cs(t,Un)?null:"translate("+t.x+"px, "+t.y+"px)"},mb={moveTo:Ix,drop:function(t,n){var r=Ix(t);return r?n?r+" scale("+Wd.scale.drop+")":r:null}},gb=xS.minDropTime,pR=xS.maxDropTime,kK=pR-gb,Nx=1500,PK=.6,DK=function(e){var t=e.current,n=e.destination,r=e.reason,i=Bd(t,n);if(i<=0)return gb;if(i>=Nx)return pR;var a=i/Nx,c=gb+kK*a,d=r==="CANCEL"?c*PK:c;return Number(d.toFixed(2))},LK=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,i=e.viewport,a=e.afterCritical,c=r.draggables,d=r.droppables,m=ni(t),g=m?d[m]:null,y=d[n.descriptor.droppableId],b=lR({impact:t,draggable:n,draggables:c,afterCritical:a,droppable:g||y,viewport:i}),C=Xr(b,n.client.borderBox.center);return C},zK=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,i=e.home,a=e.viewport,c=e.onLiftImpact;if(!r.at||n!=="DROP"){var d=sR({draggables:t,impact:c,destination:i,viewport:a,forceShouldAnimate:!0});return{impact:d,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var m=lt({},r,{displaced:Fd});return{impact:m,didDropInsideDroppable:!0}},MK=function(e){var t=e.getState,n=e.dispatch;return function(r){return function(i){if(i.type!=="DROP"){r(i);return}var a=t(),c=i.payload.reason;if(a.phase==="COLLECTING"){n(OK({reason:c}));return}if(a.phase!=="IDLE"){var d=a.phase==="DROP_PENDING"&&a.isWaiting;d&&Oe(!1),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||Oe(!1);var m=a.critical,g=a.dimensions,y=g.draggables[a.critical.draggable.id],b=zK({reason:c,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),C=b.impact,A=b.didDropInsideDroppable,P=A?vS(C):null,L=A?zg(C):null,E={index:m.draggable.index,droppableId:m.droppable.id},I={draggableId:y.descriptor.id,type:y.descriptor.type,source:E,reason:c,mode:a.movementMode,destination:P,combine:L},N=LK({impact:C,draggable:y,dimensions:g,viewport:a.viewport,afterCritical:a.afterCritical}),D={critical:a.critical,afterCritical:a.afterCritical,result:I,impact:C},O=!cs(a.current.client.offset,N)||Boolean(I.combine);if(!O){n(IS({completed:D}));return}var z=DK({current:a.current.client.offset,destination:N,reason:c}),k={newHomeClientOffset:N,dropDuration:z,completed:D};n(_K(k))}}}},mR=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function BK(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||e()}}}function FK(e){var t=e.onWindowScroll;function n(){t(mR())}var r=Md(n),i=BK(r),a=us;function c(){return a!==us}function d(){c()&&Oe(!1),a=xi(window,[i])}function m(){c()||Oe(!1),r.cancel(),a(),a=us}return{start:d,stop:m,isActive:c}}var UK=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},WK=function(e){var t=FK({onWindowScroll:function(r){e.dispatch(EK({newScroll:r}))}});return function(n){return function(r){!t.isActive()&&r.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&UK(r)&&t.stop(),n(r)}}},$K=function(e){var t=!1,n=!1,r=setTimeout(function(){n=!0}),i=function(c){t||n||(t=!0,e(c),clearTimeout(r))};return i.wasCalled=function(){return t},i},qK=function(){var e=[],t=function(a){var c=gS(e,function(g){return g.timerId===a});c===-1&&Oe(!1);var d=e.splice(c,1),m=d[0];m.callback()},n=function(a){var c=setTimeout(function(){return t(c)}),d={timerId:c,callback:a};e.push(d)},r=function(){if(!!e.length){var a=[].concat(e);e.length=0,a.forEach(function(c){clearTimeout(c.timerId),c.callback()})}};return{add:n,flush:r}},jK=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.droppableId===n.droppableId&&t.index===n.index},KK=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.draggableId===n.draggableId&&t.droppableId===n.droppableId},VK=function(t,n){if(t===n)return!0;var r=t.draggable.id===n.draggable.id&&t.draggable.droppableId===n.draggable.droppableId&&t.draggable.type===n.draggable.type&&t.draggable.index===n.draggable.index,i=t.droppable.id===n.droppable.id&&t.droppable.type===n.droppable.type;return r&&i},Mf=function(t,n){n()},dp=function(t,n){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:n}},Vy=function(t,n,r,i){if(!t){r(i(n));return}var a=$K(r),c={announce:a};t(n,c),a.wasCalled()||r(i(n))},GK=function(e,t){var n=qK(),r=null,i=function(C,A){r&&Oe(!1),Mf("onBeforeCapture",function(){var P=e().onBeforeCapture;if(P){var L={draggableId:C,mode:A};P(L)}})},a=function(C,A){r&&Oe(!1),Mf("onBeforeDragStart",function(){var P=e().onBeforeDragStart;P&&P(dp(C,A))})},c=function(C,A){r&&Oe(!1);var P=dp(C,A);r={mode:A,lastCritical:C,lastLocation:P.source,lastCombine:null},n.add(function(){Mf("onDragStart",function(){return Vy(e().onDragStart,P,t,zp.onDragStart)})})},d=function(C,A){var P=vS(A),L=zg(A);r||Oe(!1);var E=!VK(C,r.lastCritical);E&&(r.lastCritical=C);var I=!jK(r.lastLocation,P);I&&(r.lastLocation=P);var N=!KK(r.lastCombine,L);if(N&&(r.lastCombine=L),!(!E&&!I&&!N)){var D=lt({},dp(C,r.mode),{combine:L,destination:P});n.add(function(){Mf("onDragUpdate",function(){return Vy(e().onDragUpdate,D,t,zp.onDragUpdate)})})}},m=function(){r||Oe(!1),n.flush()},g=function(C){r||Oe(!1),r=null,Mf("onDragEnd",function(){return Vy(e().onDragEnd,C,t,zp.onDragEnd)})},y=function(){if(!!r){var C=lt({},dp(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});g(C)}};return{beforeCapture:i,beforeStart:a,start:c,update:d,flush:m,drop:g,abort:y}},HK=function(e,t){var n=GK(e,t);return function(r){return function(i){return function(a){if(a.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(a.type==="INITIAL_PUBLISH"){var c=a.payload.critical;n.beforeStart(c,a.payload.movementMode),i(a),n.start(c,a.payload.movementMode);return}if(a.type==="DROP_COMPLETE"){var d=a.payload.completed.result;n.flush(),i(a),n.drop(d);return}if(i(a),a.type==="FLUSH"){n.abort();return}var m=r.getState();m.phase==="DRAGGING"&&n.update(m.critical,m.impact)}}}},YK=function(e){return function(t){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){t(n);return}var r=e.getState();r.phase!=="DROP_ANIMATING"&&Oe(!1),e.dispatch(IS({completed:r.completed}))}}},JK=function(e){var t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return function(i){return function(a){if((a.type==="FLUSH"||a.type==="DROP_COMPLETE"||a.type==="DROP_ANIMATION_FINISHED")&&r(),i(a),a.type==="DROP_ANIMATE"){var c={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var m=e.getState();m.phase==="DROP_ANIMATING"&&e.dispatch(hR())}};n=requestAnimationFrame(function(){n=null,t=xi(window,[c])})}}}},QK=function(e){return function(){return function(t){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&e.stopPublishing(),t(n)}}}},XK=function(e){var t=!1;return function(){return function(n){return function(r){if(r.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(r.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){t=!1;var i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},ZK=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},eV=function(e){return function(t){return function(n){return function(r){if(ZK(r)){e.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);var i=t.getState();i.phase!=="DRAGGING"&&Oe(!1),e.start(i);return}n(r),e.scroll(t.getState())}}}},tV=function(e){return function(t){return function(n){if(t(n),n.type==="PUBLISH_WHILE_DRAGGING"){var r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(dR({reason:r.reason})))}}}},nV=SA,rV=function(e){var t=e.dimensionMarshal,n=e.focusMarshal,r=e.styleMarshal,i=e.getResponders,a=e.announce,c=e.autoScroller;return bA(hK,nV(K3(RK(r),QK(t),AK(t),MK,YK,JK,tV,eV(c),WK,XK(n),HK(i,a))))},Gy=function(){return{additions:{},removals:{},modified:{}}};function iV(e){var t=e.registry,n=e.callbacks,r=Gy(),i=null,a=function(){i||(n.collectionStarting(),i=requestAnimationFrame(function(){i=null;var y=r,b=y.additions,C=y.removals,A=y.modified,P=Object.keys(b).map(function(I){return t.draggable.getById(I).getDimension(Un)}).sort(function(I,N){return I.descriptor.index-N.descriptor.index}),L=Object.keys(A).map(function(I){var N=t.droppable.getById(I),D=N.callbacks.getScrollWhileDragging();return{droppableId:I,scroll:D}}),E={additions:P,removals:Object.keys(C),modified:L};r=Gy(),n.publish(E)}))},c=function(y){var b=y.descriptor.id;r.additions[b]=y,r.modified[y.descriptor.droppableId]=!0,r.removals[b]&&delete r.removals[b],a()},d=function(y){var b=y.descriptor;r.removals[b.id]=!0,r.modified[b.droppableId]=!0,r.additions[b.id]&&delete r.additions[b.id],a()},m=function(){!i||(cancelAnimationFrame(i),i=null,r=Gy())};return{add:c,remove:d,stop:m}}var gR=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,i=e.width,a=Xr({x:n,y:t},{x:i,y:r}),c={x:Math.max(0,a.x),y:Math.max(0,a.y)};return c},vR=function(){var e=document.documentElement;return e||Oe(!1),e},yR=function(){var e=vR(),t=gR({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},oV=function(){var e=mR(),t=yR(),n=e.y,r=e.x,i=vR(),a=i.clientWidth,c=i.clientHeight,d=r+a,m=n+c,g=ro({top:n,left:r,right:d,bottom:m}),y={frame:g,scroll:{initial:e,current:e,max:t,diff:{value:Un,displacement:Un}}};return y},aV=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry,i=oV(),a=i.scroll.current,c=t.droppable,d=r.droppable.getAllByType(c.type).map(function(b){return b.callbacks.getDimensionAndWatchScroll(a,n)}),m=r.draggable.getAllByType(t.draggable.type).map(function(b){return b.getDimension(a)}),g={draggables:GA(m),droppables:VA(d)},y={dimensions:g,critical:t,viewport:i};return y};function xx(e,t,n){if(n.descriptor.id===t.id||n.descriptor.type!==t.type)return!1;var r=e.droppable.getById(n.descriptor.droppableId);return r.descriptor.mode==="virtual"}var sV=function(e,t){var n=null,r=iV({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(A,P){e.droppable.exists(A)||Oe(!1),n&&t.updateDroppableIsEnabled({id:A,isEnabled:P})},a=function(A,P){!n||(e.droppable.exists(A)||Oe(!1),t.updateDroppableIsCombineEnabled({id:A,isCombineEnabled:P}))},c=function(A,P){!n||(e.droppable.exists(A)||Oe(!1),t.updateDroppableScroll({id:A,newScroll:P}))},d=function(A,P){!n||e.droppable.getById(A).callbacks.scroll(P)},m=function(){if(!!n){r.stop();var A=n.critical.droppable;e.droppable.getAllByType(A.type).forEach(function(P){return P.callbacks.dragStopped()}),n.unsubscribe(),n=null}},g=function(A){n||Oe(!1);var P=n.critical.draggable;A.type==="ADDITION"&&xx(e,P,A.value)&&r.add(A.value),A.type==="REMOVAL"&&xx(e,P,A.value)&&r.remove(A.value)},y=function(A){n&&Oe(!1);var P=e.draggable.getById(A.draggableId),L=e.droppable.getById(P.descriptor.droppableId),E={draggable:P.descriptor,droppable:L.descriptor},I=e.subscribe(g);return n={critical:E,unsubscribe:I},aV({critical:E,registry:e,scrollOptions:A.scrollOptions})},b={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:d,updateDroppableScroll:c,startPublishing:y,stopPublishing:m};return b},wR=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},lV=function(e){window.scrollBy(e.x,e.y)},uV=zn(function(e){return Lg(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),cV=function(t,n){var r=xs(uV(n),function(i){return i.frame||Oe(!1),rR(i.frame.pageMarginBox)(t)});return r},fV=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var i=r[n];return i.frame?i:null}var a=cV(t,r);return a},fs={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},dV=function(e,t){var n=e[t.size]*fs.startFromPercentage,r=e[t.size]*fs.maxScrollAtPercentage,i={startScrollingFrom:n,maxScrollValueAt:r};return i},bR=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,i=n-t;if(i===0)return 0;var a=r-t,c=a/i;return c},TS=1,hV=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return fs.maxPixelScroll;if(e===t.startScrollingFrom)return TS;var n=bR({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=1-n,i=fs.maxPixelScroll*fs.ease(r);return Math.ceil(i)},Tx=fs.durationDampening.accelerateAt,_x=fs.durationDampening.stopDampeningAt,pV=function(e,t){var n=t,r=_x,i=Date.now(),a=i-n;if(a>=_x)return e;if(a<Tx)return TS;var c=bR({startOfRange:Tx,endOfRange:r,current:a}),d=e*fs.ease(c);return Math.ceil(d)},Ox=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,i=e.shouldUseTimeDampening,a=hV(t,n);return a===0?0:i?Math.max(pV(a,r),TS):a},Ax=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,i=e.axis,a=e.shouldUseTimeDampening,c=dV(t,i),d=n[i.end]<n[i.start];return d?Ox({distanceToEdge:n[i.end],thresholds:c,dragStartTime:r,shouldUseTimeDampening:a}):-1*Ox({distanceToEdge:n[i.start],thresholds:c,dragStartTime:r,shouldUseTimeDampening:a})},mV=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,i=n.height>t.height,a=n.width>t.width;return!a&&!i?r:a&&i?null:{x:a?0:r.x,y:i?0:r.y}},gV=jA(function(e){return e===0?0:e}),SR=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,i=e.center,a=e.shouldUseTimeDampening,c={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},d=Ax({container:n,distanceToEdges:c,dragStartTime:t,axis:yS,shouldUseTimeDampening:a}),m=Ax({container:n,distanceToEdges:c,dragStartTime:t,axis:JA,shouldUseTimeDampening:a}),g=gV({x:m,y:d});if(cs(g,Un))return null;var y=mV({container:n,subject:r,proposedScroll:g});return y?cs(y,Un)?null:y:null},vV=jA(function(e){return e===0?0:e>0?1:-1}),_S=function(){var e=function(n,r){return n<0?n:n>r?n-r:0};return function(t){var n=t.current,r=t.max,i=t.change,a=Yn(n,i),c={x:e(a.x,r.x),y:e(a.y,r.y)};return cs(c,Un)?null:c}}(),ER=function(t){var n=t.max,r=t.current,i=t.change,a={x:Math.max(r.x,n.x),y:Math.max(r.y,n.y)},c=vV(i),d=_S({max:a,current:r,change:c});return!d||c.x!==0&&d.x===0||c.y!==0&&d.y===0},OS=function(t,n){return ER({current:t.scroll.current,max:t.scroll.max,change:n})},yV=function(t,n){if(!OS(t,n))return null;var r=t.scroll.max,i=t.scroll.current;return _S({current:i,max:r,change:n})},AS=function(t,n){var r=t.frame;return r?ER({current:r.scroll.current,max:r.scroll.max,change:n}):!1},wV=function(t,n){var r=t.frame;return!r||!AS(t,n)?null:_S({current:r.scroll.current,max:r.scroll.max,change:n})},bV=function(e){var t=e.viewport,n=e.subject,r=e.center,i=e.dragStartTime,a=e.shouldUseTimeDampening,c=SR({dragStartTime:i,container:t.frame,subject:n,center:r,shouldUseTimeDampening:a});return c&&OS(t,c)?c:null},SV=function(e){var t=e.droppable,n=e.subject,r=e.center,i=e.dragStartTime,a=e.shouldUseTimeDampening,c=t.frame;if(!c)return null;var d=SR({dragStartTime:i,container:c.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:a});return d&&AS(t,d)?d:null},Rx=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,i=e.scrollWindow,a=e.scrollDroppable,c=t.current.page.borderBoxCenter,d=t.dimensions.draggables[t.critical.draggable.id],m=d.page.marginBox;if(t.isWindowScrollAllowed){var g=t.viewport,y=bV({dragStartTime:n,viewport:g,subject:m,center:c,shouldUseTimeDampening:r});if(y){i(y);return}}var b=fV({center:c,destination:ni(t.impact),droppables:t.dimensions.droppables});if(!!b){var C=SV({dragStartTime:n,droppable:b,subject:m,center:c,shouldUseTimeDampening:r});C&&a(b.descriptor.id,C)}},EV=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=Md(t),i=Md(n),a=null,c=function(y){a||Oe(!1);var b=a,C=b.shouldUseTimeDampening,A=b.dragStartTime;Rx({state:y,scrollWindow:r,scrollDroppable:i,dragStartTime:A,shouldUseTimeDampening:C})},d=function(y){a&&Oe(!1);var b=Date.now(),C=!1,A=function(){C=!0};Rx({state:y,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:A,scrollDroppable:A}),a={dragStartTime:b,shouldUseTimeDampening:C},C&&c(y)},m=function(){!a||(r.cancel(),i.cancel(),a=null)};return{start:d,stop:m,scroll:c}},CV=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,i=function(g,y){var b=Yn(g.current.client.selection,y);t({client:b})},a=function(g,y){if(!AS(g,y))return y;var b=wV(g,y);if(!b)return n(g.descriptor.id,y),null;var C=Xr(y,b);n(g.descriptor.id,C);var A=Xr(y,C);return A},c=function(g,y,b){if(!g||!OS(y,b))return b;var C=yV(y,b);if(!C)return r(b),null;var A=Xr(b,C);r(A);var P=Xr(b,A);return P},d=function(g){var y=g.scrollJumpRequest;if(!!y){var b=ni(g.impact);b||Oe(!1);var C=a(g.dimensions.droppables[b],y);if(!!C){var A=g.viewport,P=c(g.isWindowScrollAllowed,A,C);!P||i(g,P)}}};return d},IV=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,i=EV({scrollWindow:n,scrollDroppable:t}),a=CV({move:r,scrollWindow:n,scrollDroppable:t}),c=function(g){if(g.phase==="DRAGGING"){if(g.movementMode==="FLUID"){i.scroll(g);return}!g.scrollJumpRequest||a(g)}},d={scroll:c,start:i.start,stop:i.stop};return d},mc="data-rbd",gc=function(){var e=mc+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),vb=function(){var e=mc+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),NV=function(){var e=mc+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),kx={contextId:mc+"-scroll-container-context-id"},xV=function(t){return function(n){return"["+n+'="'+t+'"]'}},Bf=function(t,n){return t.map(function(r){var i=r.styles[n];return i?r.selector+" { "+i+" }":""}).join(" ")},TV="pointer-events: none;",_V=function(e){var t=xV(e),n=function(){var d=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(gc.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:d,dragging:TV,dropAnimating:d}}}(),r=function(){var d=`
      transition: `+fd.outOfTheWay+`;
    `;return{selector:t(vb.contextId),styles:{dragging:d,dropAnimating:d,userCancel:d}}}(),i={selector:t(NV.contextId),styles:{always:"overflow-anchor: none;"}},a={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},c=[r,n,i,a];return{always:Bf(c,"always"),resting:Bf(c,"resting"),dragging:Bf(c,"dragging"),dropAnimating:Bf(c,"dropAnimating"),userCancel:Bf(c,"userCancel")}},ri=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?X.exports.useLayoutEffect:X.exports.useEffect,Hy=function(){var t=document.querySelector("head");return t||Oe(!1),t},Px=function(t){var n=document.createElement("style");return t&&n.setAttribute("nonce",t),n.type="text/css",n};function OV(e,t){var n=Lt(function(){return _V(e)},[e]),r=X.exports.useRef(null),i=X.exports.useRef(null),a=Xe(zn(function(b){var C=i.current;C||Oe(!1),C.textContent=b}),[]),c=Xe(function(b){var C=r.current;C||Oe(!1),C.textContent=b},[]);ri(function(){!r.current&&!i.current||Oe(!1);var b=Px(t),C=Px(t);return r.current=b,i.current=C,b.setAttribute(mc+"-always",e),C.setAttribute(mc+"-dynamic",e),Hy().appendChild(b),Hy().appendChild(C),c(n.always),a(n.resting),function(){var A=function(L){var E=L.current;E||Oe(!1),Hy().removeChild(E),L.current=null};A(r),A(i)}},[t,c,a,n.always,n.resting,e]);var d=Xe(function(){return a(n.dragging)},[a,n.dragging]),m=Xe(function(b){if(b==="DROP"){a(n.dropAnimating);return}a(n.userCancel)},[a,n.dropAnimating,n.userCancel]),g=Xe(function(){!i.current||a(n.resting)},[a,n.resting]),y=Lt(function(){return{dragging:d,dropping:m,resting:g}},[d,m,g]);return y}var CR=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Fg(e){return e instanceof CR(e).HTMLElement}function AV(e,t){var n="["+gc.contextId+'="'+e+'"]',r=KA(document.querySelectorAll(n));if(!r.length)return null;var i=xs(r,function(a){return a.getAttribute(gc.draggableId)===t});return!i||!Fg(i)?null:i}function RV(e){var t=X.exports.useRef({}),n=X.exports.useRef(null),r=X.exports.useRef(null),i=X.exports.useRef(!1),a=Xe(function(C,A){var P={id:C,focus:A};return t.current[C]=P,function(){var E=t.current,I=E[C];I!==P&&delete E[C]}},[]),c=Xe(function(C){var A=AV(e,C);A&&A!==document.activeElement&&A.focus()},[e]),d=Xe(function(C,A){n.current===C&&(n.current=A)},[]),m=Xe(function(){r.current||!i.current||(r.current=requestAnimationFrame(function(){r.current=null;var C=n.current;C&&c(C)}))},[c]),g=Xe(function(C){n.current=null;var A=document.activeElement;!A||A.getAttribute(gc.draggableId)===C&&(n.current=C)},[]);ri(function(){return i.current=!0,function(){i.current=!1;var C=r.current;C&&cancelAnimationFrame(C)}},[]);var y=Lt(function(){return{register:a,tryRecordFocus:g,tryRestoreFocusRecorded:m,tryShiftRecord:d}},[a,g,m,d]);return y}function kV(){var e={draggables:{},droppables:{}},t=[];function n(b){return t.push(b),function(){var A=t.indexOf(b);A!==-1&&t.splice(A,1)}}function r(b){t.length&&t.forEach(function(C){return C(b)})}function i(b){return e.draggables[b]||null}function a(b){var C=i(b);return C||Oe(!1),C}var c={register:function(C){e.draggables[C.descriptor.id]=C,r({type:"ADDITION",value:C})},update:function(C,A){var P=e.draggables[A.descriptor.id];!P||P.uniqueId===C.uniqueId&&(delete e.draggables[A.descriptor.id],e.draggables[C.descriptor.id]=C)},unregister:function(C){var A=C.descriptor.id,P=i(A);!P||C.uniqueId===P.uniqueId&&(delete e.draggables[A],r({type:"REMOVAL",value:C}))},getById:a,findById:i,exists:function(C){return Boolean(i(C))},getAllByType:function(C){return Lm(e.draggables).filter(function(A){return A.descriptor.type===C})}};function d(b){return e.droppables[b]||null}function m(b){var C=d(b);return C||Oe(!1),C}var g={register:function(C){e.droppables[C.descriptor.id]=C},unregister:function(C){var A=d(C.descriptor.id);!A||C.uniqueId===A.uniqueId&&delete e.droppables[C.descriptor.id]},getById:m,findById:d,exists:function(C){return Boolean(d(C))},getAllByType:function(C){return Lm(e.droppables).filter(function(A){return A.descriptor.type===C})}};function y(){e.draggables={},e.droppables={},t.length=0}return{draggable:c,droppable:g,subscribe:n,clean:y}}function PV(){var e=Lt(kV,[]);return X.exports.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var RS=Zr.createContext(null),Mm=function(){var e=document.body;return e||Oe(!1),e},DV={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},LV=function(t){return"rbd-announcement-"+t};function zV(e){var t=Lt(function(){return LV(e)},[e]),n=X.exports.useRef(null);X.exports.useEffect(function(){var a=document.createElement("div");return n.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),lt(a.style,DV),Mm().appendChild(a),function(){setTimeout(function(){var m=Mm();m.contains(a)&&m.removeChild(a),a===n.current&&(n.current=null)})}},[t]);var r=Xe(function(i){var a=n.current;if(a){a.textContent=i;return}},[]);return r}var MV=0,BV={separator:"::"};function kS(e,t){return t===void 0&&(t=BV),Lt(function(){return""+e+t.separator+MV++},[t.separator,e])}function FV(e){var t=e.contextId,n=e.uniqueId;return"rbd-hidden-text-"+t+"-"+n}function UV(e){var t=e.contextId,n=e.text,r=kS("hidden-text",{separator:"-"}),i=Lt(function(){return FV({contextId:t,uniqueId:r})},[r,t]);return X.exports.useEffect(function(){var c=document.createElement("div");return c.id=i,c.textContent=n,c.style.display="none",Mm().appendChild(c),function(){var m=Mm();m.contains(c)&&m.removeChild(c)}},[i,n]),i}var Ug=Zr.createContext(null);function IR(e){var t=X.exports.useRef(e);return X.exports.useEffect(function(){t.current=e}),t}function WV(){var e=null;function t(){return Boolean(e)}function n(c){return c===e}function r(c){e&&Oe(!1);var d={abandon:c};return e=d,d}function i(){e||Oe(!1),e=null}function a(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:a}}var $V=9,qV=13,PS=27,NR=32,jV=33,KV=34,VV=35,GV=36,HV=37,YV=38,JV=39,QV=40,hp,XV=(hp={},hp[qV]=!0,hp[$V]=!0,hp),xR=function(e){XV[e.keyCode]&&e.preventDefault()},Wg=function(){var e="visibilitychange";if(typeof document=="undefined")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],n=xs(t,function(r){return"on"+r in document});return n||e}(),TR=0,Dx=5;function ZV(e,t){return Math.abs(t.x-e.x)>=Dx||Math.abs(t.y-e.y)>=Dx}var Lx={type:"IDLE"};function e5(e){var t=e.cancel,n=e.completed,r=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(c){var d=c.button,m=c.clientX,g=c.clientY;if(d===TR){var y={x:m,y:g},b=r();if(b.type==="DRAGGING"){c.preventDefault(),b.actions.move(y);return}b.type!=="PENDING"&&Oe(!1);var C=b.point;if(!!ZV(C,y)){c.preventDefault();var A=b.actions.fluidLift(y);i({type:"DRAGGING",actions:A})}}}},{eventName:"mouseup",fn:function(c){var d=r();if(d.type!=="DRAGGING"){t();return}c.preventDefault(),d.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(c){r().type==="DRAGGING"&&c.preventDefault(),t()}},{eventName:"keydown",fn:function(c){var d=r();if(d.type==="PENDING"){t();return}if(c.keyCode===PS){c.preventDefault(),t();return}xR(c)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(c){var d=r();if(d.type==="IDLE"&&Oe(!1),d.actions.shouldRespectForcePress()){t();return}c.preventDefault()}},{eventName:Wg,fn:t}]}function t5(e){var t=X.exports.useRef(Lx),n=X.exports.useRef(us),r=Lt(function(){return{eventName:"mousedown",fn:function(b){if(!b.defaultPrevented&&b.button===TR&&!(b.ctrlKey||b.metaKey||b.shiftKey||b.altKey)){var C=e.findClosestDraggableId(b);if(!!C){var A=e.tryGetLock(C,c,{sourceEvent:b});if(!!A){b.preventDefault();var P={x:b.clientX,y:b.clientY};n.current(),g(A,P)}}}}}},[e]),i=Lt(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(b){if(!b.defaultPrevented){var C=e.findClosestDraggableId(b);if(!!C){var A=e.findOptionsForDraggable(C);!A||A.shouldRespectForcePress||!e.canGetLock(C)||b.preventDefault()}}}}},[e]),a=Xe(function(){var b={passive:!1,capture:!0};n.current=xi(window,[i,r],b)},[i,r]),c=Xe(function(){var y=t.current;y.type!=="IDLE"&&(t.current=Lx,n.current(),a())},[a]),d=Xe(function(){var y=t.current;c(),y.type==="DRAGGING"&&y.actions.cancel({shouldBlockNextClick:!0}),y.type==="PENDING"&&y.actions.abort()},[c]),m=Xe(function(){var b={capture:!0,passive:!1},C=e5({cancel:d,completed:c,getPhase:function(){return t.current},setPhase:function(P){t.current=P}});n.current=xi(window,C,b)},[d,c]),g=Xe(function(b,C){t.current.type!=="IDLE"&&Oe(!1),t.current={type:"PENDING",point:C,actions:b},m()},[m]);ri(function(){return a(),function(){n.current()}},[a])}var Nu;function n5(){}var r5=(Nu={},Nu[KV]=!0,Nu[jV]=!0,Nu[GV]=!0,Nu[VV]=!0,Nu);function i5(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:function(a){if(a.keyCode===PS){a.preventDefault(),n();return}if(a.keyCode===NR){a.preventDefault(),r();return}if(a.keyCode===QV){a.preventDefault(),e.moveDown();return}if(a.keyCode===YV){a.preventDefault(),e.moveUp();return}if(a.keyCode===JV){a.preventDefault(),e.moveRight();return}if(a.keyCode===HV){a.preventDefault(),e.moveLeft();return}if(r5[a.keyCode]){a.preventDefault();return}xR(a)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Wg,fn:n}]}function o5(e){var t=X.exports.useRef(n5),n=Lt(function(){return{eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==NR)return;var c=e.findClosestDraggableId(a);if(!c)return;var d=e.tryGetLock(c,y,{sourceEvent:a});if(!d)return;a.preventDefault();var m=!0,g=d.snapLift();t.current();function y(){m||Oe(!1),m=!1,t.current(),r()}t.current=xi(window,i5(g,y),{capture:!0,passive:!1})}}},[e]),r=Xe(function(){var a={passive:!1,capture:!0};t.current=xi(window,[n],a)},[n]);ri(function(){return r(),function(){t.current()}},[r])}var Yy={type:"IDLE"},a5=120,s5=.15;function l5(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(n().type!=="DRAGGING"){t();return}i.keyCode===PS&&i.preventDefault(),t()}},{eventName:Wg,fn:t}]}function u5(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(a){var c=r();if(c.type!=="DRAGGING"){t();return}c.hasMoved=!0;var d=a.touches[0],m=d.clientX,g=d.clientY,y={x:m,y:g};a.preventDefault(),c.actions.move(y)}},{eventName:"touchend",fn:function(a){var c=r();if(c.type!=="DRAGGING"){t();return}a.preventDefault(),c.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(a){if(r().type!=="DRAGGING"){t();return}a.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(a){var c=r();c.type==="IDLE"&&Oe(!1);var d=a.touches[0];if(!!d){var m=d.force>=s5;if(!!m){var g=c.actions.shouldRespectForcePress();if(c.type==="PENDING"){g&&t();return}if(g){if(c.hasMoved){a.preventDefault();return}t();return}a.preventDefault()}}}},{eventName:Wg,fn:t}]}function c5(e){var t=X.exports.useRef(Yy),n=X.exports.useRef(us),r=Xe(function(){return t.current},[]),i=Xe(function(A){t.current=A},[]),a=Lt(function(){return{eventName:"touchstart",fn:function(A){if(!A.defaultPrevented){var P=e.findClosestDraggableId(A);if(!!P){var L=e.tryGetLock(P,d,{sourceEvent:A});if(!!L){var E=A.touches[0],I=E.clientX,N=E.clientY,D={x:I,y:N};n.current(),b(L,D)}}}}}},[e]),c=Xe(function(){var A={capture:!0,passive:!1};n.current=xi(window,[a],A)},[a]),d=Xe(function(){var C=t.current;C.type!=="IDLE"&&(C.type==="PENDING"&&clearTimeout(C.longPressTimerId),i(Yy),n.current(),c())},[c,i]),m=Xe(function(){var C=t.current;d(),C.type==="DRAGGING"&&C.actions.cancel({shouldBlockNextClick:!0}),C.type==="PENDING"&&C.actions.abort()},[d]),g=Xe(function(){var A={capture:!0,passive:!1},P={cancel:m,completed:d,getPhase:r},L=xi(window,u5(P),A),E=xi(window,l5(P),A);n.current=function(){L(),E()}},[m,r,d]),y=Xe(function(){var A=r();A.type!=="PENDING"&&Oe(!1);var P=A.actions.fluidLift(A.point);i({type:"DRAGGING",actions:P,hasMoved:!1})},[r,i]),b=Xe(function(A,P){r().type!=="IDLE"&&Oe(!1);var L=setTimeout(y,a5);i({type:"PENDING",point:P,actions:A,longPressTimerId:L}),g()},[g,r,i,y]);ri(function(){return c(),function(){n.current();var P=r();P.type==="PENDING"&&(clearTimeout(P.longPressTimerId),i(Yy))}},[r,c,i]),ri(function(){var A=xi(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return A},[])}var f5={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function _R(e,t){if(t==null)return!1;var n=Boolean(f5[t.tagName.toLowerCase()]);if(n)return!0;var r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:_R(e,t.parentElement)}function d5(e,t){var n=t.target;return Fg(n)?_R(e,n):!1}var h5=function(e){return ro(e.getBoundingClientRect()).center};function p5(e){return e instanceof CR(e).Element}var m5=function(){var e="matches";if(typeof document=="undefined")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],n=xs(t,function(r){return r in Element.prototype});return n||e}();function OR(e,t){return e==null?null:e[m5](t)?e:OR(e.parentElement,t)}function g5(e,t){return e.closest?e.closest(t):OR(e,t)}function v5(e){return"["+gc.contextId+'="'+e+'"]'}function y5(e,t){var n=t.target;if(!p5(n))return null;var r=v5(e),i=g5(n,r);return!i||!Fg(i)?null:i}function w5(e,t){var n=y5(e,t);return n?n.getAttribute(gc.draggableId):null}function b5(e,t){var n="["+vb.contextId+'="'+e+'"]',r=KA(document.querySelectorAll(n)),i=xs(r,function(a){return a.getAttribute(vb.id)===t});return!i||!Fg(i)?null:i}function S5(e){e.preventDefault()}function pp(e){var t=e.expected,n=e.phase,r=e.isLockActive;return e.shouldWarn,!(!r()||t!==n)}function AR(e){var t=e.lockAPI,n=e.store,r=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var a=r.draggable.findById(i);return!(!a||!a.options.isEnabled||!wR(n.getState(),i))}function E5(e){var t=e.lockAPI,n=e.contextId,r=e.store,i=e.registry,a=e.draggableId,c=e.forceSensorStop,d=e.sourceEvent,m=AR({lockAPI:t,store:r,registry:i,draggableId:a});if(!m)return null;var g=i.draggable.getById(a),y=b5(n,g.descriptor.id);if(!y||d&&!g.options.canDragInteractiveElements&&d5(y,d))return null;var b=t.claim(c||us),C="PRE_DRAG";function A(){return g.options.shouldRespectForcePress}function P(){return t.isActive(b)}function L(k,W){pp({expected:k,phase:C,isLockActive:P,shouldWarn:!0})&&r.dispatch(W())}var E=L.bind(null,"DRAGGING");function I(k){function W(){t.release(),C="COMPLETED"}C!=="PRE_DRAG"&&(W(),C!=="PRE_DRAG"&&Oe(!1)),r.dispatch(mK(k.liftActionArgs)),C="DRAGGING";function j($,M){if(M===void 0&&(M={shouldBlockNextClick:!1}),k.cleanup(),M.shouldBlockNextClick){var Y=xi(window,[{eventName:"click",fn:S5,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(Y)}W(),r.dispatch(dR({reason:$}))}return lt({isActive:function(){return pp({expected:"DRAGGING",phase:C,isLockActive:P,shouldWarn:!1})},shouldRespectForcePress:A,drop:function(M){return j("DROP",M)},cancel:function(M){return j("CANCEL",M)}},k.actions)}function N(k){var W=Md(function($){E(function(){return fR({client:$})})}),j=I({liftActionArgs:{id:a,clientSelection:k,movementMode:"FLUID"},cleanup:function(){return W.cancel()},actions:{move:W}});return lt({},j,{move:W})}function D(){var k={moveUp:function(){return E(IK)},moveRight:function(){return E(xK)},moveDown:function(){return E(NK)},moveLeft:function(){return E(TK)}};return I({liftActionArgs:{id:a,clientSelection:h5(y),movementMode:"SNAP"},cleanup:us,actions:k})}function O(){var k=pp({expected:"PRE_DRAG",phase:C,isLockActive:P,shouldWarn:!0});k&&t.release()}var z={isActive:function(){return pp({expected:"PRE_DRAG",phase:C,isLockActive:P,shouldWarn:!1})},shouldRespectForcePress:A,fluidLift:N,snapLift:D,abort:O};return z}var C5=[t5,o5,c5];function I5(e){var t=e.contextId,n=e.store,r=e.registry,i=e.customSensors,a=e.enableDefaultSensors,c=[].concat(a?C5:[],i||[]),d=X.exports.useState(function(){return WV()})[0],m=Xe(function(N,D){N.isDragging&&!D.isDragging&&d.tryAbandon()},[d]);ri(function(){var N=n.getState(),D=n.subscribe(function(){var O=n.getState();m(N,O),N=O});return D},[d,n,m]),ri(function(){return d.tryAbandon},[d.tryAbandon]);for(var g=Xe(function(I){return AR({lockAPI:d,registry:r,store:n,draggableId:I})},[d,r,n]),y=Xe(function(I,N,D){return E5({lockAPI:d,registry:r,contextId:t,store:n,draggableId:I,forceSensorStop:N,sourceEvent:D&&D.sourceEvent?D.sourceEvent:null})},[t,d,r,n]),b=Xe(function(I){return w5(t,I)},[t]),C=Xe(function(I){var N=r.draggable.findById(I);return N?N.options:null},[r.draggable]),A=Xe(function(){!d.isClaimed()||(d.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(CS()))},[d,n]),P=Xe(d.isClaimed,[d]),L=Lt(function(){return{canGetLock:g,tryGetLock:y,findClosestDraggableId:b,findOptionsForDraggable:C,tryReleaseLock:A,isLockClaimed:P}},[g,y,b,C,A,P]),E=0;E<c.length;E++)c[E](L)}var N5=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function Ff(e){return e.current||Oe(!1),e.current}function x5(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,i=e.nonce,a=e.dragHandleUsageInstructions,c=X.exports.useRef(null),d=IR(e),m=Xe(function(){return N5(d.current)},[d]),g=zV(t),y=UV({contextId:t,text:a}),b=OV(t,i),C=Xe(function($){Ff(c).dispatch($)},[]),A=Lt(function(){return ix({publishWhileDragging:vK,updateDroppableScroll:wK,updateDroppableIsEnabled:bK,updateDroppableIsCombineEnabled:SK,collectionStarting:yK},C)},[C]),P=PV(),L=Lt(function(){return sV(P,A)},[P,A]),E=Lt(function(){return IV(lt({scrollWindow:lV,scrollDroppable:L.scrollDroppable},ix({move:fR},C)))},[L.scrollDroppable,C]),I=RV(t),N=Lt(function(){return rV({announce:g,autoScroller:E,dimensionMarshal:L,focusMarshal:I,getResponders:m,styleMarshal:b})},[g,E,L,I,m,b]);c.current=N;var D=Xe(function(){var $=Ff(c),M=$.getState();M.phase!=="IDLE"&&$.dispatch(CS())},[]),O=Xe(function(){var $=Ff(c).getState();return $.isDragging||$.phase==="DROP_ANIMATING"},[]),z=Lt(function(){return{isDragging:O,tryAbort:D}},[O,D]);n(z);var k=Xe(function($){return wR(Ff(c).getState(),$)},[]),W=Xe(function(){return fl(Ff(c).getState())},[]),j=Lt(function(){return{marshal:L,focus:I,contextId:t,canLift:k,isMovementAllowed:W,dragHandleUsageInstructionsId:y,registry:P}},[t,L,y,I,k,W,P]);return I5({contextId:t,store:N,registry:P,customSensors:r,enableDefaultSensors:e.enableDefaultSensors!==!1}),X.exports.useEffect(function(){return D},[D]),v(Ug.Provider,{value:j,children:v(J3,{context:RS,store:N,children:e.children})})}var T5=0;function _5(){return Lt(function(){return""+T5++},[])}function O5(e){var t=_5(),n=e.dragHandleUsageInstructions||zp.dragHandleUsageInstructions;return v(oj,{children:function(r){return v(x5,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,children:e.children})}})}var RR=function(t){return function(n){return t===n}},A5=RR("scroll"),R5=RR("auto"),zx=function(t,n){return n(t.overflowX)||n(t.overflowY)},k5=function(t){var n=window.getComputedStyle(t),r={overflowX:n.overflowX,overflowY:n.overflowY};return zx(r,A5)||zx(r,R5)},P5=function(){return!1},D5=function e(t){return t==null?null:t===document.body?P5()?t:null:t===document.documentElement?null:k5(t)?t:e(t.parentElement)},yb=function(e){return{x:e.scrollLeft,y:e.scrollTop}},L5=function e(t){if(!t)return!1;var n=window.getComputedStyle(t);return n.position==="fixed"?!0:e(t.parentElement)},z5=function(e){var t=D5(e),n=L5(e);return{closestScrollable:t,isFixedOnPage:n}},M5=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,i=e.isFixedOnPage,a=e.direction,c=e.client,d=e.page,m=e.closest,g=function(){if(!m)return null;var A=m.scrollSize,P=m.client,L=gR({scrollHeight:A.scrollHeight,scrollWidth:A.scrollWidth,height:P.paddingBox.height,width:P.paddingBox.width});return{pageMarginBox:m.page.marginBox,frameClient:P,scrollSize:A,shouldClipSubject:m.shouldClipSubject,scroll:{initial:m.scroll,current:m.scroll,max:L,diff:{value:Un,displacement:Un}}}}(),y=a==="vertical"?yS:JA,b=pc({page:d,withPlaceholder:null,axis:y,frame:g}),C={descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:y,isEnabled:n,client:c,page:d,frame:g,subject:b};return C},B5=function(t,n){var r=UA(t);if(!n||t!==n)return r;var i=r.paddingBox.top-n.scrollTop,a=r.paddingBox.left-n.scrollLeft,c=i+n.scrollHeight,d=a+n.scrollWidth,m={top:i,right:d,bottom:c,left:a},g=hS(m,r.border),y=pS({borderBox:g,margin:r.margin,border:r.border,padding:r.padding});return y},F5=function(e){var t=e.ref,n=e.descriptor,r=e.env,i=e.windowScroll,a=e.direction,c=e.isDropDisabled,d=e.isCombineEnabled,m=e.shouldClipSubject,g=r.closestScrollable,y=B5(t,g),b=km(y,i),C=function(){if(!g)return null;var P=UA(g),L={scrollHeight:g.scrollHeight,scrollWidth:g.scrollWidth};return{client:P,page:km(P,i),scroll:yb(g),scrollSize:L,shouldClipSubject:m}}(),A=M5({descriptor:n,isEnabled:!c,isCombineEnabled:d,isFixedOnPage:r.isFixedOnPage,direction:a,client:y,page:b,closest:C});return A},U5={passive:!1},W5={passive:!0},Mx=function(e){return e.shouldPublishImmediately?U5:W5};function Bm(e){var t=X.exports.useContext(e);return t||Oe(!1),t}var mp=function(t){return t&&t.env.closestScrollable||null};function $5(e){var t=X.exports.useRef(null),n=Bm(Ug),r=kS("droppable"),i=n.registry,a=n.marshal,c=IR(e),d=Lt(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),m=X.exports.useRef(d),g=Lt(function(){return zn(function(O,z){t.current||Oe(!1);var k={x:O,y:z};a.updateDroppableScroll(d.id,k)})},[d.id,a]),y=Xe(function(){var O=t.current;return!O||!O.env.closestScrollable?Un:yb(O.env.closestScrollable)},[]),b=Xe(function(){var O=y();g(O.x,O.y)},[y,g]),C=Lt(function(){return Md(b)},[b]),A=Xe(function(){var O=t.current,z=mp(O);O&&z||Oe(!1);var k=O.scrollOptions;if(k.shouldPublishImmediately){b();return}C()},[C,b]),P=Xe(function(O,z){t.current&&Oe(!1);var k=c.current,W=k.getDroppableRef();W||Oe(!1);var j=z5(W),$={ref:W,descriptor:d,env:j,scrollOptions:z};t.current=$;var M=F5({ref:W,descriptor:d,env:j,windowScroll:O,direction:k.direction,isDropDisabled:k.isDropDisabled,isCombineEnabled:k.isCombineEnabled,shouldClipSubject:!k.ignoreContainerClipping}),Y=j.closestScrollable;return Y&&(Y.setAttribute(kx.contextId,n.contextId),Y.addEventListener("scroll",A,Mx($.scrollOptions))),M},[n.contextId,d,A,c]),L=Xe(function(){var O=t.current,z=mp(O);return O&&z||Oe(!1),yb(z)},[]),E=Xe(function(){var O=t.current;O||Oe(!1);var z=mp(O);t.current=null,z&&(C.cancel(),z.removeAttribute(kx.contextId),z.removeEventListener("scroll",A,Mx(O.scrollOptions)))},[A,C]),I=Xe(function(O){var z=t.current;z||Oe(!1);var k=mp(z);k||Oe(!1),k.scrollTop+=O.y,k.scrollLeft+=O.x},[]),N=Lt(function(){return{getDimensionAndWatchScroll:P,getScrollWhileDragging:L,dragStopped:E,scroll:I}},[E,P,L,I]),D=Lt(function(){return{uniqueId:r,descriptor:d,callbacks:N}},[N,d,r]);ri(function(){return m.current=D.descriptor,i.droppable.register(D),function(){t.current&&E(),i.droppable.unregister(D)}},[N,d,E,D,a,i.droppable]),ri(function(){!t.current||a.updateDroppableIsEnabled(m.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),ri(function(){!t.current||a.updateDroppableIsCombineEnabled(m.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function Jy(){}var Bx={width:0,height:0,margin:fj},q5=function(t){var n=t.isAnimatingOpenOnMount,r=t.placeholder,i=t.animate;return n||i==="close"?Bx:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},j5=function(t){var n=t.isAnimatingOpenOnMount,r=t.placeholder,i=t.animate,a=q5({isAnimatingOpenOnMount:n,placeholder:r,animate:i});return{display:r.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?fd.placeholder:null}};function K5(e){var t=X.exports.useRef(null),n=Xe(function(){!t.current||(clearTimeout(t.current),t.current=null)},[]),r=e.animate,i=e.onTransitionEnd,a=e.onClose,c=e.contextId,d=X.exports.useState(e.animate==="open"),m=d[0],g=d[1];X.exports.useEffect(function(){return m?r!=="open"?(n(),g(!1),Jy):t.current?Jy:(t.current=setTimeout(function(){t.current=null,g(!1)}),n):Jy},[r,m,n]);var y=Xe(function(C){C.propertyName==="height"&&(i(),r==="close"&&a())},[r,a,i]),b=j5({isAnimatingOpenOnMount:m,animate:e.animate,placeholder:e.placeholder});return Zr.createElement(e.placeholder.tagName,{style:b,"data-rbd-placeholder-context-id":c,onTransitionEnd:y,ref:e.innerRef})}var V5=Zr.memo(K5),DS=Zr.createContext(null),G5=function(e){wA(t,e);function t(){for(var r,i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return r=e.call.apply(e,[this].concat(a))||this,r.state={isVisible:Boolean(r.props.on),data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}t.getDerivedStateFromProps=function(i,a){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:a.isVisible?{isVisible:!0,data:a.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(i.on),data:i.on,animate:"none"}};var n=t.prototype;return n.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},t}(Zr.PureComponent),Fx={dragging:5e3,dropAnimating:4500},H5=function(t,n){return n?fd.drop(n.duration):t?fd.snap:fd.fluid},Y5=function(t,n){return t?n?Wd.opacity.drop:Wd.opacity.combining:null},J5=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function Q5(e){var t=e.dimension,n=t.client,r=e.offset,i=e.combineWith,a=e.dropping,c=Boolean(i),d=J5(e),m=Boolean(a),g=m?mb.drop(r,c):mb.moveTo(r),y={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:H5(d,a),transform:g,opacity:Y5(c,m),zIndex:m?Fx.dropAnimating:Fx.dragging,pointerEvents:"none"};return y}function X5(e){return{transform:mb.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function Z5(e){return e.type==="DRAGGING"?Q5(e):X5(e)}function eG(e,t,n){n===void 0&&(n=Un);var r=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=FA(i,r),c=km(a,n),d={client:a,tagName:t.tagName.toLowerCase(),display:r.display},m={x:a.marginBox.width,y:a.marginBox.height},g={descriptor:e,placeholder:d,displaceBy:m,client:a,page:c};return g}function tG(e){var t=kS("draggable"),n=e.descriptor,r=e.registry,i=e.getDraggableRef,a=e.canDragInteractiveElements,c=e.shouldRespectForcePress,d=e.isEnabled,m=Lt(function(){return{canDragInteractiveElements:a,shouldRespectForcePress:c,isEnabled:d}},[a,d,c]),g=Xe(function(A){var P=i();return P||Oe(!1),eG(n,P,A)},[n,i]),y=Lt(function(){return{uniqueId:t,descriptor:n,options:m,getDimension:g}},[n,g,m,t]),b=X.exports.useRef(y),C=X.exports.useRef(!0);ri(function(){return r.draggable.register(b.current),function(){return r.draggable.unregister(b.current)}},[r.draggable]),ri(function(){if(C.current){C.current=!1;return}var A=b.current;b.current=y,r.draggable.update(y,A)},[y,r.draggable])}function nG(e){e.preventDefault()}function rG(e){var t=X.exports.useRef(null),n=Xe(function($){t.current=$},[]),r=Xe(function(){return t.current},[]),i=Bm(Ug),a=i.contextId,c=i.dragHandleUsageInstructionsId,d=i.registry,m=Bm(DS),g=m.type,y=m.droppableId,b=Lt(function(){return{id:e.draggableId,index:e.index,type:g,droppableId:y}},[e.draggableId,e.index,g,y]),C=e.children,A=e.draggableId,P=e.isEnabled,L=e.shouldRespectForcePress,E=e.canDragInteractiveElements,I=e.isClone,N=e.mapped,D=e.dropAnimationFinished;if(!I){var O=Lt(function(){return{descriptor:b,registry:d,getDraggableRef:r,canDragInteractiveElements:E,shouldRespectForcePress:L,isEnabled:P}},[b,d,r,E,L,P]);tG(O)}var z=Lt(function(){return P?{tabIndex:0,role:"button","aria-describedby":c,"data-rbd-drag-handle-draggable-id":A,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:nG}:null},[a,c,A,P]),k=Xe(function($){N.type==="DRAGGING"&&(!N.dropping||$.propertyName==="transform"&&D())},[D,N]),W=Lt(function(){var $=Z5(N),M=N.type==="DRAGGING"&&N.dropping?k:null,Y={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":A,style:$,onTransitionEnd:M},dragHandleProps:z};return Y},[a,z,A,N,k,n]),j=Lt(function(){return{draggableId:b.id,type:b.type,source:{index:b.index,droppableId:b.droppableId}}},[b.droppableId,b.id,b.index,b.type]);return C(W,N.snapshot,j)}var kR=function(e,t){return e===t},PR=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null},iG=function(t){return t.combine?t.combine.draggableId:null},oG=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function aG(){var e=zn(function(i,a){return{x:i,y:a}}),t=zn(function(i,a,c,d,m){return{isDragging:!0,isClone:a,isDropAnimating:Boolean(m),dropAnimation:m,mode:i,draggingOver:c,combineWith:d,combineTargetFor:null}}),n=zn(function(i,a,c,d,m,g,y){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:m,combineWith:g,mode:a,offset:i,dimension:c,forceShouldAnimate:y,snapshot:t(a,d,m,g,null)}}}),r=function(a,c){if(a.isDragging){if(a.critical.draggable.id!==c.draggableId)return null;var d=a.current.client.offset,m=a.dimensions.draggables[c.draggableId],g=ni(a.impact),y=oG(a.impact),b=a.forceShouldAnimate;return n(e(d.x,d.y),a.movementMode,m,c.isClone,g,y,b)}if(a.phase==="DROP_ANIMATING"){var C=a.completed;if(C.result.draggableId!==c.draggableId)return null;var A=c.isClone,P=a.dimensions.draggables[c.draggableId],L=C.result,E=L.mode,I=PR(L),N=iG(L),D=a.dropDuration,O={duration:D,curve:NS.drop,moveTo:a.newHomeClientOffset,opacity:N?Wd.opacity.drop:null,scale:N?Wd.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:P,dropping:O,draggingOver:I,combineWith:N,mode:E,forceShouldAnimate:null,snapshot:t(E,A,I,N,O)}}}return null};return r}function DR(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var sG={mapped:{type:"SECONDARY",offset:Un,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:DR(null)}};function lG(){var e=zn(function(c,d){return{x:c,y:d}}),t=zn(DR),n=zn(function(c,d,m){return d===void 0&&(d=null),{mapped:{type:"SECONDARY",offset:c,combineTargetFor:d,shouldAnimateDisplacement:m,snapshot:t(d)}}}),r=function(d){return d?n(Un,d,!0):null},i=function(d,m,g,y){var b=g.displaced.visible[d],C=Boolean(y.inVirtualList&&y.effected[d]),A=zg(g),P=A&&A.draggableId===d?m:null;if(!b){if(!C)return r(P);if(g.displaced.invisible[d])return null;var L=Lc(y.displacedBy.point),E=e(L.x,L.y);return n(E,P,!0)}if(C)return r(P);var I=g.displacedBy.point,N=e(I.x,I.y);return n(N,P,b.shouldAnimate)},a=function(d,m){if(d.isDragging)return d.critical.draggable.id===m.draggableId?null:i(m.draggableId,d.critical.draggable.id,d.impact,d.afterCritical);if(d.phase==="DROP_ANIMATING"){var g=d.completed;return g.result.draggableId===m.draggableId?null:i(m.draggableId,g.result.draggableId,g.impact,g.afterCritical)}return null};return a}var uG=function(){var t=aG(),n=lG(),r=function(a,c){return t(a,c)||n(a,c)||sG};return r},cG={dropAnimationFinished:hR},fG=MA(uG,cG,null,{context:RS,pure:!0,areStatePropsEqual:kR})(rG);function LR(e){var t=Bm(DS),n=t.isUsingCloneFor;return n===e.draggableId&&!e.isClone?null:v(fG,{...e})}function dG(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return v(LR,{...e,isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r})}function hG(e){var t=X.exports.useContext(Ug);t||Oe(!1);var n=t.contextId,r=t.isMovementAllowed,i=X.exports.useRef(null),a=X.exports.useRef(null),c=e.children,d=e.droppableId,m=e.type,g=e.mode,y=e.direction,b=e.ignoreContainerClipping,C=e.isDropDisabled,A=e.isCombineEnabled,P=e.snapshot,L=e.useClone,E=e.updateViewportMaxScroll,I=e.getContainerForClone,N=Xe(function(){return i.current},[]),D=Xe(function(Y){i.current=Y},[]);Xe(function(){return a.current},[]);var O=Xe(function(Y){a.current=Y},[]),z=Xe(function(){r()&&E({maxScroll:yR()})},[r,E]);$5({droppableId:d,type:m,mode:g,direction:y,isDropDisabled:C,isCombineEnabled:A,ignoreContainerClipping:b,getDroppableRef:N});var k=v(G5,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder,children:function(Y){var K=Y.onClose,Z=Y.data,ne=Y.animate;return v(V5,{placeholder:Z,onClose:K,innerRef:O,animate:ne,contextId:n,onTransitionEnd:z})}}),W=Lt(function(){return{innerRef:D,placeholder:k,droppableProps:{"data-rbd-droppable-id":d,"data-rbd-droppable-context-id":n}}},[n,d,k,D]),j=L?L.dragging.draggableId:null,$=Lt(function(){return{droppableId:d,type:m,isUsingCloneFor:j}},[d,j,m]);function M(){if(!L)return null;var Y=L.dragging,K=L.render,Z=v(LR,{draggableId:Y.draggableId,index:Y.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0,children:function(ne,ae){return K(ne,ae,Y)}});return _0.createPortal(Z,I())}return U(DS.Provider,{value:$,children:[c(W,P),M()]})}var Qy=function(t,n){return t===n.droppable.type},Ux=function(t,n){return n.draggables[t.draggable.id]},pG=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=lt({},t,{shouldAnimatePlaceholder:!1}),r=zn(function(c){return{draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}}),i=zn(function(c,d,m,g,y,b){var C=y.descriptor.id,A=y.descriptor.droppableId===c;if(A){var P=b?{render:b,dragging:r(y.descriptor)}:null,L={isDraggingOver:m,draggingOverWith:m?C:null,draggingFromThisWith:C,isUsingPlaceholder:!0};return{placeholder:y.placeholder,shouldAnimatePlaceholder:!1,snapshot:L,useClone:P}}if(!d)return n;if(!g)return t;var E={isDraggingOver:m,draggingOverWith:C,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:y.placeholder,shouldAnimatePlaceholder:!0,snapshot:E,useClone:null}}),a=function(d,m){var g=m.droppableId,y=m.type,b=!m.isDropDisabled,C=m.renderClone;if(d.isDragging){var A=d.critical;if(!Qy(y,A))return n;var P=Ux(A,d.dimensions),L=ni(d.impact)===g;return i(g,b,L,L,P,C)}if(d.phase==="DROP_ANIMATING"){var E=d.completed;if(!Qy(y,E.critical))return n;var I=Ux(E.critical,d.dimensions);return i(g,b,PR(E.result)===g,ni(E.impact)===g,I,C)}if(d.phase==="IDLE"&&d.completed&&!d.shouldFlush){var N=d.completed;if(!Qy(y,N.critical))return n;var D=ni(N.impact)===g,O=Boolean(N.impact.at&&N.impact.at.type==="COMBINE"),z=N.critical.droppable.id===g;return D?O?t:n:z?t:n}return n};return a},mG={updateViewportMaxScroll:CK};function gG(){return document.body||Oe(!1),document.body}var vG={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:gG},zR=MA(pG,mG,null,{context:RS,pure:!0,areStatePropsEqual:kR})(hG);zR.defaultProps=vG;function yG(e){const t=De(),[n,r]=X.exports.useState([]);X.exports.useEffect(()=>{i()},[e.indexId]);function i(){ud().findAllBelongTo([e.indexId],"indexId").then(a=>r(a.sort((c,d)=>c.sort-d.sort))).catch(t.showError)}return U("div",{children:[v("div",{children:v(Tn,{className:"wa",isAdd:!0,itemzz:e.columnzz,value:0,change:function(a){ud().create({indexId:e.indexId,columnId:a,sort:n.length}).then(()=>i()).catch(t.showError)}})}),v(O5,{onDragEnd:a=>{if(a.destination===void 0||a.source.index===a.destination.index||n.length<2)return;const c=[...n],[d]=c.splice(a.source.index,1);c.splice(a.destination.index,0,d),c.forEach((m,g)=>m.sort=g),ud().updateMany(c).then(()=>i()).catch(t.showError)},children:v(zR,{droppableId:"IndexColumnListDroppable",children:(a,c)=>U("ul",{className:"list-unstyled",ref:a.innerRef,...a.droppableProps,children:[n.map((d,m)=>v(dG,{draggableId:d.id.toString(),index:m,children:(g,y)=>v("li",{ref:g.innerRef,...g.draggableProps,...g.dragHandleProps,children:v($3,{cicm:e.cicm,item:d,refresh:i})})},d.id)),a.placeholder]})})})]})}function wG(e){const t=ui(),n=yA(),r=De(),[i,a]=X.exports.useState([]),[c,d]=X.exports.useState([]),m=Qr(i);X.exports.useEffect(()=>{a(t.itemzz.filter(y=>y.entityId===e.entity.id))},[e.entity,t.itemzz]),X.exports.useEffect(()=>{d(n.itemzz.filter(y=>y.entityId===e.entity.id))},[e.entity,n.itemzz]);function g(y){ld().update(y).catch(r.showError)}return U("table",{className:"table",children:[v("caption",{children:v("h3",{className:"inline me-3",children:"Index"})}),v("thead",{children:U("tr",{children:[v("th",{className:"w222",children:"type"}),v("th",{children:"column"})]})}),v("tbody",{children:c.map(y=>U("tr",{children:[v("td",{children:U("div",{className:"input-group",children:[v("button",{onClick:function(){Mi().then(b=>{if(b.isConfirmed)return ld().delete(y.id)}).catch(r.showError)},className:"btn btn-outline-danger",type:"button",children:"-"}),v(oi,{itemzz:XN,value:y.type,change:function(b){g({...y,type:b})}})]})}),v("td",{children:v(yG,{cicm:m,columnzz:i,indexId:y.id})})]},y.id))}),v("tfoot",{children:U("tr",{children:[v("td",{children:v(oi,{isAdd:!0,itemzz:XN,value:"",change:function(y){ld().create({entityId:e.entity.id,type:y}).catch(r.showError)}})}),v("td",{})]})})]})}var io=(e=>(e.OneToMany="OneToMany",e.OneToOne="OneToOne",e))(io||{});const bG=Object.keys(io),SG=new Map;bG.forEach(e=>SG.set(e,e));function EG(e,t=!1){return t?"belongs to":e==="OneToMany"?"has many":"has one"}function CG(e,t,n,r,i,a){return Di().findChildzz(n,Pt(Mt.Entity)).then(d=>{const m=d.find(g=>g.name===a);return m?c(m.id):Pc(n,a,ft.integer).then(g=>c(g.id))});function c(d){return zd().create(BR(e,t,n,r,i,d))}}function IG(e,t,n){const r=MR(e,n),i=e===io.OneToMany?Pt(t.name,sd.CosineCase):Ht.Id;return CG(e,t.id,n.id,r,t.name,i)}function NG(e,t,n,r){const i=MR(e,n),a=t.name;return zd().create(BR(e,t.id,n.id,i,a,r))}function MR(e,t){return t.name+(e===io.OneToMany?Ht.Zz:"")}function BR(e,t,n,r,i,a){return{type:e,name0:r,name1:i,entity0Id:t,entity1Id:n,column1Id:a,addToModel:!1}}const FR=gt(function(e,t){return fa(e,t,zd())});function xG(e){const t=De(),n=e.item.entity0Id===e.item.entity1Id,r=e.entity.id!==e.item.entity0Id||n,i=r?e.item.name1:e.item.name0;function a(d,m){Is("Please input the name",d).then(g=>{if(g.isConfirmed){const y={...e.item};return m?y.name1=g.value:y.name0=g.value,c(y)}}).catch(t.showError)}function c(d){return zd().update(d)}return U("tr",{children:[v("td",{className:"text-secondary",children:U("div",{className:"btn-group",children:[v("button",{onClick:function(){Mi().then(d=>{if(d.isConfirmed)return zd().delete(e.item.id)}).catch(t.showError)},className:"btn btn-outline-danger",type:"button",children:"-"}),v("button",{onClick:function(){Pc(e.entity.id,i,"object","",0,"","",!1).then(()=>t.showSuccess(`column ${i} added`)).catch(t.showError)},className:"btn btn-outline-primary",type:"button",children:"+ Column"})]})}),v("td",{children:U("div",{children:[v("div",{className:"mt-1",children:EG(e.item.type,r)}),n&&e.item.type===io.OneToMany?v("div",{className:"mt-4",children:"has many"}):null]})}),U("td",{children:[v("div",{children:v("button",{className:"btn btn-outline-primary",type:"button",onClick:function(){a(i,r)},children:i})}),n&&e.item.type===io.OneToMany?v("div",{className:"mt-3",children:v("button",{className:"btn btn-outline-primary",type:"button",onClick:function(){a(e.item.name0,!1)},children:e.item.name0})}):null]}),v("td",{children:r?v(Tn,{itemzz:e.columnzz,value:e.item.column1Id,change:function(d){c({...e.item,column1Id:d}).catch(t.showError)}}):U("div",{className:"form-check form-switch",children:[v("input",{checked:e.item.addToModel,onChange:d=>c({...e.item,addToModel:d.target.checked}).catch(t.showError),className:"form-check-input",type:"checkbox",role:"switch",id:"addToModelSwitchCheck"+e.item.id}),v("label",{className:"form-check-label",htmlFor:"addToModelSwitchCheck"+e.item.id,children:"add method to Model"})]})})]})}function TG(e){const t=ui(),n=FR(),r=Bi(),i=De(),[a,c]=X.exports.useState([]),d=t.itemzz.filter(g=>g.inTable&&g.entityId===e.entity.id);X.exports.useEffect(()=>{c(n.itemzz.filter(g=>g.entity0Id===e.entity.id||g.entity1Id===e.entity.id))},[e.entity,n.itemzz]);function m(g,y,b){y&&b&&IG(g,y,b).catch(i.showError)}return U("table",{className:"table",children:[v("caption",{children:v("h3",{className:"inline me-3",children:"Relation"})}),v("thead",{children:U("tr",{children:[v("th",{className:"w222"}),v("th",{className:"w111"}),v("th",{children:"name"}),v("th",{children:"foreign key"})]})}),v("tbody",{children:a.map(g=>v(xG,{columnzz:d,item:g,entity:e.entity},g.id))}),U("tfoot",{children:[v("tr",{children:v("td",{className:"p-3",colSpan:4})}),U("tr",{children:[v("td",{}),v("td",{colSpan:3,children:U("div",{className:"d-flex align-items-center",children:[U("div",{children:[e.entity.name," has many"]}),v("div",{className:"ms-2",children:v(Tn,{isAdd:!0,itemzz:r.itemzz,value:0,change:g=>m(io.OneToMany,e.entity,r.find(g))})})]})})]}),U("tr",{children:[v("td",{}),v("td",{colSpan:3,children:U("div",{className:"d-flex align-items-center",children:[U("div",{children:[e.entity.name," has one"]}),v("div",{className:"ms-2",children:v(Tn,{isAdd:!0,itemzz:r.itemzz,value:0,change:g=>m(io.OneToOne,e.entity,r.find(g))})})]})})]}),U("tr",{children:[v("td",{}),v("td",{colSpan:3,children:U("div",{className:"d-flex align-items-center",children:[v("div",{children:v(Tn,{isAdd:!0,itemzz:r.itemzz,value:0,change:g=>m(io.OneToMany,r.find(g),e.entity)})}),U("div",{className:"ms-2",children:["has many ",e.entity.name]})]})})]}),U("tr",{children:[v("td",{}),v("td",{colSpan:3,children:U("div",{className:"d-flex align-items-center",children:[v("div",{children:v(Tn,{isAdd:!0,itemzz:r.itemzz,value:0,change:g=>m(io.OneToOne,r.find(g),e.entity)})}),U("div",{className:"ms-2",children:["has one ",e.entity.name]})]})})]})]})]})}const LS=gt(function(e,t){return fa(e,t,Dd())});function _G(e){const t=De();return U("tr",{children:[v("td",{children:U("div",{className:"btn-group",children:[v("button",{onClick:()=>Dd().delete(e.item.id).catch(t.showError),className:"btn btn-outline-danger",type:"button",children:"-"}),v("button",{className:"btn btn-outline-secondary",type:"button",children:e.item.name})]})}),v("td",{children:v("input",{value:e.item.parameter,onChange:n=>{var r;return Dd().update({...e.item,parameter:(r=n.target.value)!=null?r:""}).catch(t.showError)},type:"text",className:"form-control"})})]})}function OG(e){const t=new Set,n=[...e.constraintzz];n.sort((c,d)=>c.name.localeCompare(d.name)),n.forEach(c=>t.add(c.tag));const r=Array.from(t);r.sort((c,d)=>c.localeCompare(d));const[i,a]=X.exports.useState(r[0]);return U("div",{className:"d-flex",children:[v("ul",{className:"list-group w111",children:r.map(c=>v("li",{onClick:function(){a(c)},className:(i===c?"active ":"")+"list-group-item list-group-item-action pointer",children:c},c))}),v("div",{className:"ms-3",children:n.filter(c=>c.tag===i).map(c=>v("div",{children:U("div",{onClick:function(){e.add(c.name)},className:"btn btn-outline-primary mb-1",children:["+ ",c.name]})},c.id))})]})}function UR(e){const t=LS(),n=De(),[r,i]=X.exports.useState([]),[a,c]=X.exports.useState(!1);X.exports.useEffect(()=>{i(t.itemzz.filter(m=>m.columnId===e.column.id))},[e.column,t.itemzz]);function d(m){return m.parameter?`${m.name}:${m.parameter}`:m.name}return v(Cn,{children:a?U("div",{children:[v("button",{onClick:()=>c(!1),className:"btn btn-outline-primary",type:"button",children:"OK"}),v("table",{className:"table",children:v("tbody",{children:r.map(m=>v(_G,{item:m},m.id))})}),v(OG,{add:function(m){Dd().create({columnId:e.column.id,name:m,parameter:""}).catch(n.showError)},constraintzz:e.constraintzz})]}):U("ul",{onClick:()=>c(!0),className:"pointer",children:[r.length===0?v("li",{children:"----"}):null,r.map(m=>v("li",{children:d(m)},m.id))]})})}function AG(e){const t=ui(),n=De(),[r,i]=X.exports.useState([]),[a,c]=X.exports.useState(!1),d=ii("ValidationRule");return X.exports.useEffect(()=>{i(t.itemzz.filter(m=>m.entityId===e.entity.id))},[e.entity,t.itemzz]),U("table",{className:"table",children:[U("caption",{children:[v("h3",{className:"inline me-3",children:"Validation"}),v("span",{className:"me-3",children:"request constraint"}),v(Br,{href:"https://laravel.com/docs/9.x/validation",children:"doc"})]}),v("thead",{children:U("tr",{children:[v("th",{className:"w111",children:"name"}),v("th",{children:"constraint"})]})}),v("tbody",{children:r.map(m=>U("tr",{children:[v("td",{children:v("span",{className:m.inTable?"":"text-secondary",children:m.name})}),v("td",{children:v(UR,{constraintzz:d,column:m})})]},m.id))}),v("tfoot",{children:U("tr",{children:[v("td",{children:U("div",{className:"btn-group",children:[v(ys,{file:fc(KN),content:Ht.ScriptCode}),v(hc,{waiting:a,onClick:function(){c(!0),pA(KN,e.entity).then(m=>Dd().updateMany(m.result)).then(()=>{c(!1),n.showSuccess("Validation rules added")}).catch(m=>{c(!1),n.showError(m)})},children:"Run"})]})}),v("td",{children:"set constraint"})]})})]})}var WR=(e=>(e.Cast="Cast",e.Column="Column",e.Detail="Detail",e.Factory="Factory",e.File="File",e.Index="Index",e.Relation="Relation",e.Validation="Validation",e))(WR||{});function RG(){const e=Wl(),t=Object.keys(WR);if(e.item===void 0)return null;function n(){return e.item===void 0?null:e.tab==="Cast"?v(R3,{entity:e.item}):e.tab==="Column"?v(B3,{entity:e.item}):e.tab==="Detail"?v(F3,{item:e.item}):e.tab==="Factory"?v(W3,{entity:e.item}):e.tab==="File"?v(gA,{entity:e.item}):e.tab==="Index"?v(wG,{entity:e.item}):e.tab==="Relation"?v(TG,{entity:e.item}):e.tab==="Validation"?v(AG,{entity:e.item}):null}return U("div",{children:[v(Dc,{tab:e.tab,tabzz:t,setTab:e.setTab}),n()]})}function Wx(e,t,n,r=0){return function(i){let a=parseFloat(i.target.value);isNaN(a)&&(a=r),n({...t,[e]:a})}}function kG(e){return U("div",{children:[v("div",{className:"mb-3",children:U("div",{className:"form-check form-switch",children:[v("input",{checked:e.item.nullable,onChange:function(t){const n=t.target.checked;e.update({...e.item,nullable:n})},className:"form-check-input",type:"checkbox",role:"switch",id:"nullableSwitchCheck"}),v("label",{className:"form-check-label",htmlFor:"nullableSwitchCheck",children:"nullable"})]})}),v("div",{className:"mb-3",children:U("div",{className:"form-check form-switch",children:[v("input",{checked:e.item.unsigned,onChange:t=>e.update({...e.item,unsigned:t.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"unsignedSwitchCheck"}),v("label",{className:"form-check-label",htmlFor:"unsignedSwitchCheck",children:"unsigned"})]})}),U("div",{className:"mb-3",children:[v("label",{className:"form-label",children:"length"}),v("input",{value:e.item.length,onChange:Wx("length",e.item,e.update),type:"number",min:0,className:"form-control"})]}),U("div",{className:"mb-3",children:[v("label",{className:"form-label",children:"scale"}),v("input",{value:e.item.scale,onChange:Wx("scale",e.item,e.update),type:"number",min:0,className:"form-control"})]}),e.children,U("div",{className:"mb-3",children:[v("label",{className:"form-label",children:"comment"}),v("textarea",{value:e.item.comment,onChange:t=>e.update({...e.item,comment:t.target.value}),rows:3,className:"form-control"})]})]})}function PG(){const e=ui(),t=kc(),n=dA(),r=De(),[i,a]=X.exports.useState();if(X.exports.useEffect(()=>{n.itemId!==0&&a(e.find(n.itemId))},[n.isOpen,n.itemId]),i===void 0)return null;const c=t.itemzz.map(g=>g.name);function d(){Is("Please input the column name",i.name).then(g=>{if(g.isConfirmed)return m({...i,name:g.value})}).catch(r.showError)}function m(g){a(g),Di().update(g).then(a).catch(r.showError)}return U(th,{isOpen:n.isOpen,onRequestClose:n.close,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:[U("div",{className:"mb-3",children:[v("button",{onClick:d,className:"btn btn-outline-primary",type:"button",children:i.name}),U("div",{className:"form-check form-switch inline wa ms-3",children:[v("input",{checked:i.inTable,onChange:g=>m({...i,inTable:g.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"inTableSwitchCheck"}),v("label",{className:"form-check-label",htmlFor:"inTableSwitchCheck",children:"inTable"})]})]}),U(kG,{item:i,update:m,children:[U("div",{className:"mb-3",children:[v("label",{className:"form-label",children:"type"}),v(oi,{itemzz:c,value:i.type,change:g=>m({...i,type:g})})]}),U("div",{className:"mb-3",children:[v("label",{className:"form-label",children:"default"}),v("input",{value:i.default,onChange:g=>m({...i,default:g.target.value}),type:"text",className:"form-control"})]})]})]})}function $x(e){}const zS=gt(function(e){return{...wg(e),callback:$x,openCB(n,r=$x){e({isOpen:!0,title:n,callback:r})},setItemId(n){e({itemId:n})}}});function $R(e){const t=zS(),r=ho().itemzz.filter(i=>i.parentId===e.item.id).sort((i,a)=>i.name.localeCompare(a.name));return U("div",{className:"ms-4",children:[v("div",{onClick:function(){t.setItemId(e.item.id)},className:(e.item.id===t.itemId?"active ":"")+"button yellow",children:e.item.name}),r.map(i=>v($R,{item:i},i.id))]})}function qR(){const e=zS(),n=ho().itemzz.find(r=>r.parentId===null);return U(th,{isOpen:e.isOpen,onRequestClose:e.close,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:[v("h3",{children:e.title}),v("button",{disabled:e.itemId===0,onClick:function(){e.callback(e.itemId),e.close()},className:"btn btn-outline-primary",type:"button",children:"OK"}),v("div",{children:n===void 0?"no root":v($R,{item:n})})]})}function DG(){const e=De();return U("div",{className:"row",children:[v(Ul,{makeCRUD:Xa,onCreate:function(t){_3(t).catch(e.showError)},useItemPageStore:Wl,useItemzzStore:Bi,title:tt.Entity,children:v(RG,{})}),v(PG,{}),v(qR,{}),v(Z0,{})]})}function LG(e){return{...fo(e),summary:"",value:""}}const wb=gt(function(e){return co(e)}),MS=gt(function(e,t){return{...Ur(e,t,Em()),sorting:!0}});function zG(e){const t=wb(),n=De();function r(i){t.setItem(i),Em().update(i).then(a=>t.setItem(a)).catch(n.showError)}return v("table",{className:"table td0-tar",children:U("tbody",{children:[U("tr",{children:[v("td",{children:"color"}),v("td",{children:v(po,{color:e.item.color,setColor:i=>r({...e.item,color:i})})})]}),U("tr",{children:[v("td",{children:"summary"}),v("td",{children:v("input",{value:e.item.summary,onChange:i=>r({...e.item,summary:i.target.value}),className:"form-control",type:"text"})})]}),U("tr",{children:[v("td",{children:"value"}),v("td",{children:v("textarea",{rows:11,value:e.item.value,onChange:i=>r({...e.item,value:i.target.value}),className:"form-control",spellCheck:!1})})]})]})})}function MG(){const e=wb(),t=De();return v("div",{className:"row",children:v(Ul,{makeCRUD:Em,useItemPageStore:wb,useItemzzStore:MS,title:tt.Example,validateName:!1,onCreate:function(n){Em().create(LG(n)).catch(t.showError)},children:e.item?v(zG,{item:e.item}):void 0})})}const vc=gt(function(e){return co(e)});function BG(e,t,n){return{deprecated:!1,inRoute:!0,name:e,description:"",routeName:"",filezz:[],summary:n.name+" "+kd.lowerCase(e)+" "+t.name,directoryId:n.directoryId,entityId:t.id,moduleId:n.id,requestId:1}}var Ci=(e=>(e.Module="Module",e.Path="Path",e.Action="Action",e.Request="Request",e.Response="Response",e.File="File",e))(Ci||{});const Ts=gt(function(e){return{action:"",ma:void 0,path:void 0,step:"File",setAction(n,r){e({action:n,ma:r})},setPath(n){e({path:n})},setStep(n){e({step:n})}}}),jR=gt(function(e,t){return fa(e,t,Lo())}),BS=gt(function(e,t){return Ur(e,t,dc())});function KR(e){for(const[t,n]of v3.entries())if(e.startsWith(t))return n;return eS.patch}function FG(e=Ht.Id){return`/{${e}}`}function UG(e,t,n,r,i){return{...fo(e),moduleId:n,entityId:t,description:"",summary:"",method:r,middlewarezz:[],moduleActionId:i}}function WG(e,t){const n=`/${e.name}-${t.name}`;return t.name.includes("One")?n+FG():n}function VR(e,t,n,r,i){const a=WG(t,e),c=r.find(d=>d.entityId===t.id&&d.moduleId===n.id&&d.name===a);return c?(c.moduleActionId=e.id,dc().update(c)):dc().create(UG(a,t.id,n.id,i,e.id))}const $G=Ci.Action;function qG(e){const t=Fr(),n=Ts(),r=jR(),i=BS(),a=t.itemzz.filter(L=>L.layer===Ol.Action).sort((L,E)=>L.name.localeCompare(E.name)),c=a.find(L=>n.action===L.name),d=new Set(a.map(L=>L.name)),m=r.itemzz.filter(L=>L.directoryId===e.module.directoryId&&L.entityId===e.entity.id&&!d.has(L.name)).sort((L,E)=>L.name.localeCompare(E.name));X.exports.useEffect(()=>{var E,I;if(((E=n.path)==null?void 0:E.entityId)===e.entity.id&&((I=n.path)==null?void 0:I.moduleId)===e.module.id)return;const L=i.itemzz.find(N=>N.entityId===e.entity.id&&N.moduleId===e.module.id);n.setPath(L),c?n.setAction(c.name,g(c)):n.setAction("")},[e.entity,e.module]);function g(L){return r.itemzz.find(E=>E.entityId===e.entity.id&&E.moduleId===e.module.id&&E.directoryId===e.module.directoryId&&E.name===L.name)}function y(L,E){let I="nav-link";return c&&L.id===c.id?(I+=" active",E===void 0&&(I+=" bg-white text-secondary border-primary"),I):(E===void 0&&(I+=" text-secondary"),I)}function b(){Is("please input the action name","").then(function(L){L.isConfirmed&&L.value&&A(L.value)})}function C(L,E){return c===void 0||c.id!==L.id||E?null:v("span",{onClick:function(){A(c.name)},className:"badge bg-success rounded-pill",children:"+"})}function A(L){Lo().create(BG(L,e.entity,e.module)).then(function(E){return n.setAction(L,E),VR(E,e.entity,e.module,i.itemzz,KR(E.name)).then(function(I){if(n.setPath(I),E.name.includes("One")!==!1)return wl().create({alias:"",columnId:Ht.ColumnIdOfIdInParameterInPath,pathId:I.id,requestId:null,responseId:null})})}).catch(De.getState().showError)}function P(L){const E=g(L);return v("li",{onClick:function(){n.setAction(L.name,E)},className:"nav-item nav-item-fill",children:U("span",{className:y(L,E),children:[L.name," ",C(L,E)]})},L.id)}return U("div",{children:[v("div",{className:"d-flex",children:v("h3",{children:$G})}),v("ul",{className:"nav nav-tabs",children:a.map(P)}),U("ul",{className:"nav nav-tabs mt-3",children:[m.map(function(L){return v("li",{className:"nav-item nav-item-fill",onClick:function(){n.setAction(L.name,L)},children:v("span",{className:"nav-link "+(n.action===L.name?"active border-primary":"text-primary"),children:L.name})},"ma"+L.id)}),v("li",{className:"nav-item",children:v("button",{className:"btn btn-outline-primary ms-3",type:"button",onClick:b,children:"+"})})]})]})}function jG(e){return{...fo(e),directoryId:10,fileId:1e3,testDirectoryId:20}}const FS=gt(function(e,t){return Ur(e,t,Xu())});function KG(e){return U("div",{className:"list-group",children:[e.children,e.itemzz.map(function(t){var n;return v("button",{className:"list-group-item list-group-item-action"+(((n=e.item)==null?void 0:n.id)===t.id?" active":""),onClick:()=>e.select(t),children:t.name},t.id)})]})}function VG(){const e=FS();return U("div",{children:[U("div",{className:"d-flex",children:[v("h3",{children:"Module"}),v("div",{children:v("button",{className:"btn btn-outline-primary ms-3",type:"button",onClick:function(){Fn("please input the module name","").then(function(t){t.isConfirmed&&t.value&&Xu().create(jG(t.value)).catch(De.getState().showError)})},children:"+"})})]}),v(KG,{item:vc.getState().item,itemzz:e.itemzz,select:t=>vc.getState().setItem(t)})]})}function GG(){var a,c;const e=Wl(),t=Bi(),n=$l(),r=vc();function i(){const d=t.itemzz.map(m=>m.name);n.openCB("select an Entity",d,function(m){const g=t.findByName(m);g!==void 0&&e.setItem(g)})}return U("div",{className:"d-flex flex-column py-3",style:{gap:"2rem"},children:[U("div",{children:[v("h3",{children:"Entity"}),v("div",{children:v("button",{onClick:i,className:"btn btn-outline-primary",type:"button",children:(c=(a=e.item)==null?void 0:a.name)!=null?c:"-- select an Entity --"})})]}),v(VG,{}),e.item===void 0||r.item===void 0?null:v(qG,{entity:e.item,module:r.item})]})}function GR(e){return{...fo(e),example:"",mediaType:"application/json"}}function HG(e){return{required:!0,...GR(e)}}function $g(e,t,n){return`${t.name}_${e}_${n}`}function YG(e,t){return $g(e,t,Ol.Request)}function JG(e,t){return $g(e,t,Ol.Response)}function QG(e,t,n){return $g(e,t,n?"Form":"Result")}function HR(e,t,n,r){const i=r.findByName(e);if(i)return Promise.resolve(i);const a=YR(e,t.id,n);return a.color=n?Ln.pink:Ln.orange,_l().create(a).then(c=>{const d=Ns();return d.ownerWuId=c.id,Mr().create(d).then(()=>c)})}function XG(e,t,n,r){const i=QG(e,t,n);return HR(i,t,n,r)}function YR(e,t,n=!1){return{...fo(e),entityId:t,type:"allOf",isRequest:n,description:"",example:"",isMap:!1}}const US=gt(function(e,t){return{...Ur(e,t,gg()),sorting:!0}}),Fi=gt(function(e,t){return fa(e,t,Mr())}),vh=gt(function(e,t){return{...fa(e,t,Dp()),add(r){e(i=>({itemzz:[...i.itemzz,r]}))}}}),bs=gt(function(e,t){return{...Ur(e,t,_l()),sorting:!0,add(r){e(i=>({itemzz:[...i.itemzz,r]}))}}});function xu(e){const t=Bi.getState().findByName(e);return t===void 0?[]:ui.getState().itemzz.filter(n=>n.entityId===t.id)}function WS(e){return e.replace("ParameterIn","").toLowerCase()}function $S(e){var y,b,C;const t=De(),[n,r]=X.exports.useState([]),i={pathId:(y=e.pathId)!=null?y:null,requestId:(b=e.requestId)!=null?b:null,responseId:(C=e.responseId)!=null?C:null},a=d(),c=uA(a);X.exports.useEffect(()=>{g()},[e.filter,e.pathId,e.requestId,e.responseId]);function d(){return e.responseId?xu(tt.ParameterInHeader):[...xu(tt.ParameterInCookie),...xu(tt.ParameterInHeader),...xu(tt.ParameterInPath),...xu(tt.ParameterInQuery)]}function m(A){return U(Cn,{children:[U("option",{value:A,disabled:!0,children:["-- ",WS(A)," --"]}),xu(A).map(P=>v("option",{value:P.id,children:P.name},P.id))]})}function g(){wl().findAll().then(A=>r(A.filter(function(P){return P.pathId===i.pathId&&P.requestId===i.requestId&&P.responseId===i.responseId}))).catch(t.showError)}return U("table",{className:"table",children:[v("thead",{children:U("tr",{children:[v("th",{children:U("select",{className:"form-select wa",value:0,onChange:function(A){const P=parseInt(A.target.value);wl().create({alias:"",columnId:P,pathId:i.pathId,requestId:i.requestId,responseId:i.responseId}).then(g).catch(t.showError)},children:[v("option",{value:0,disabled:!0,hidden:!0,children:"-- add --"}),m(tt.ParameterInHeader),e.responseId?null:U(Cn,{children:[m(tt.ParameterInCookie),m(tt.ParameterInPath),m(tt.ParameterInQuery)]})]})}),v("th",{className:"align-middle",children:"alias"})]})}),v("tbody",{children:n.map(A=>{var P;return U("tr",{className:"mb-1",children:[v("td",{children:U("div",{className:"input-group",children:[v("button",{className:"btn btn-outline-danger",type:"button",onClick:function(){wl().delete(A.id).then(g).catch(t.showError)},children:"-"}),v("button",{className:"btn btn-outline-secondary",type:"button",children:(P=c.get(A.columnId))!=null?P:"-- not found --"})]})}),v("td",{children:v("input",{className:"form-control",type:"text",value:A.alias,onChange:function(L){wl().update({...A,alias:L.target.value}).then(g).catch(t.showError)}})})]},A.id)})})]})}function JR(e,t,n,r,i){const a=[c()];return e.isArray&&a.push("[]"),e.nullable&&a.push(" | null"),a.join("");function c(){var m,g;if(e.type===ft.Enum){const y=n.find(b=>{var C;return((C=e.variableId)!=null?C:0)===b.id});return y===void 0?ti("Enum",(m=e.variableId)!=null?m:""):`Enum ${y.name}`}if(e.type===ft.WuParameter){const y=r.find(b=>{var C;return((C=e.wuParameterId)!=null?C:0)===b.id});return y===void 0?ti("WuParameter",(g=e.wuParameterId)!=null?g:""):y.name}return e.type===ft.Wu?d():e.type}function d(){const m=i.find(b=>e.wuId===b.id);if(m===void 0)return ti("Wu",e.wuId);const g=t.filter(b=>b.ownerId===e.id);if(g.length===0)return m.name;const y=g.map(b=>JR(b,t,n,r,i));return`${m.name}<${y.join(", ")}>`}}const yh=gt(function(e,t){return{...Ur(e,t,xm()),sorting:!0}}),_s=gt(function(e,t){return{...Ur(e,t,Tm()),add(r){e(i=>({itemzz:[...i.itemzz,r]}))}}});function QR(e){return Mr().deleteChildzz(e,"ownerId").then(t=>console.log("delete argument ",t))}function ZG(e){var n;const t=yh();return v(Tn,{className:"wa inline",itemzz:t.itemzz,value:(n=e.item.variableId)!=null?n:0,change:function(r){e.update({...e.item,variableId:r})}})}function eH(e){var i;const t=_s(),[n,r]=X.exports.useState([]);return X.exports.useEffect(()=>{r(t.itemzz.filter(a=>a.wuId===e.wuId))},[e.wuId]),v(Tn,{className:"wa inline",itemzz:n,value:(i=e.item.wuParameterId)!=null?i:0,change:function(a){e.update({...e.item,wuParameterId:a})}})}function XR(e){const t=Fi(),n=_s(),[r,i]=X.exports.useState([]),[a,c]=X.exports.useState([]);return X.exports.useEffect(()=>{i(n.itemzz.filter(d=>d.wuId===e.item.wuId)),c(t.itemzz.filter(d=>d.ownerId===e.item.id))},[e.item,t.itemzz]),r.length===0?null:U("div",{children:["<",r.map((d,m)=>{const g=a[m];return g===void 0?U("span",{className:"text-danger",children:["argument ",d.name," is missing"]},d.id):v("div",{className:"mt-1",children:v(wh,{id:d.id,item:g,wuId:e.wuId,children:U("div",{className:"text-secondary me-2",children:[d.name,d.isWu&&g.type!==ft.Wu?v("span",{className:"text-danger ms-1",children:"must be Wu"}):null]})})},d.id)}),">"]})}function tH(e,t){return Mr().create(Ns(e.isWu?ft.Wu:ft.any,1,null,null,t,e.id))}async function qS(e,t){const n=_s.getState().itemzz.filter(i=>i.wuId===e);if(n.length===0)return[];const r=[];for(const i of n){const a=await tH(i,t);r.push(a)}return r}function nH(e){var i;const t=bs(),n=t.itemzz.find(a=>a.id===e.item.wuId);function r(){$l.getState().openCB("Please select a Wu",t.itemzz.map(a=>a.name),function(a){const c=t.findByName(a);if(c==null||c.id===e.item.wuId)return;const d=e.item;e.update({...e.item,wuId:c.id}).then(()=>QR(d.id)).then(()=>qS(c.id,d.id)).catch(De.getState().showError)})}return U("div",{className:e.className,children:[v("button",{onClick:r,className:"btn btn-outline-primary",type:"button",children:(i=n==null?void 0:n.name)!=null?i:ti("Wu",e.item.wuId)}),v(XR,{item:e.item,wuId:e.wuId})]})}function rH(e){return e.item.type===ft.Enum?v(ZG,{item:e.item,update:e.update}):e.item.type===ft.WuParameter?e.wuId===void 0?v("span",{className:"text-danger",children:"only available in Wu page"}):v(eH,{item:e.item,wuId:e.wuId,update:e.update}):v(nH,{item:e.item,wuId:e.wuId,update:e.update})}function wh(e){const t=De();if(e.item===void 0)return v("span",{className:"text-danger",children:ti("TypeFormat","")});const n=e;if(n.wuId===void 0&&n.item.type===ft.WuParameter)return v("span",{className:"text-danger",children:"WuParameter is only available in Wu page"});function r(){return n.wuId?ab:ab.filter(d=>d!==ft.WuParameter)}function i(){if([ft.any,ft.boolean].includes(n.item.type))return null;if(w3(n.item.type))return v(rH,{item:n.item,wuId:n.wuId,update:a});const d=ii("TypeFormat").map(m=>m.name);return v("div",{children:v(oi,{allowEmpty:!0,className:"wa",itemzz:d,value:n.item.format,change:m=>a({...n.item,format:m})})})}function a(d){return Mr().update(d).catch(t.showError)}function c(d){if(d===n.item.type)return;const m={...n.item,type:d},g=n.item.type;return g===ft.Wu&&(m.wuId=1),g===ft.WuParameter&&(m.wuParameterId=null),g===ft.Enum&&(m.variableId=null),a(m).then(function(){if(g===ft.Wu)return QR(n.item.id)}).catch(t.showError)}return U("div",{children:[U("div",{className:"d-flex mt-2",children:[v("div",{children:n.children}),v("div",{children:U("div",{className:"form-check form-switch",children:[v("input",{checked:n.item.isArray,onChange:d=>a({...n.item,isArray:d.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"isArraySwitchCheck"+n.id}),n.item.isArray?v("label",{className:"form-check-label",htmlFor:"isArraySwitchCheck"+n.id,children:"array"}):null]})}),v("div",{children:U("div",{className:"form-check form-switch ms-2",children:[v("input",{checked:n.item.nullable,onChange:d=>a({...n.item,nullable:d.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"nullableSwitchCheck"+n.id}),n.item.nullable?v("label",{className:"form-check-label",htmlFor:"nullableSwitchCheck"+n.id,children:"nullable"}):null]})})]}),U("div",{className:"d-flex mt-2",children:[v("div",{children:v(oi,{className:"wa me-1",itemzz:r(),value:n.item.type,change:c})}),v("div",{children:i()})]})]})}function ZR(e){const t=Fi(),n=yh(),r=_s(),i=bs(),[a,c]=X.exports.useState(!1);if(a)return U("div",{children:[v("div",{children:v("button",{className:"btn btn-outline-primary",type:"button",onClick:()=>c(!1),children:"OK"})}),v(wh,{id:e.id,item:e.item,wuId:e.wuId})]});let d=ti("TypeFormat",""),m=d.length;return e.item&&(d=JR(e.item,t.itemzz,n.itemzz,r.itemzz,i.itemzz),m=d.indexOf("<"),m===-1&&(m=d.length)),U("span",{className:e.isRoot?"pointer":"",onClick:()=>e.isRoot?c(!0):null,children:[d.slice(0,m),d.slice(m)]})}function iH(e){const t=LS(),n=De(),[r,i]=X.exports.useState([]),[a,c]=X.exports.useState([]);X.exports.useEffect(()=>{i(t.itemzz.filter(g=>g.columnId===e.wc.columnId)),d()},[]);function d(){By().findAllBelongTo([e.wc.id],Pt(Mt.WuColumn)).then(g=>c(g)).catch(n.showError)}function m(g){const y=a.find(b=>b.columnConstraintId===g.id&&b.wuColumnId===e.wc.id);return v("td",{children:U("div",{className:"form-check form-switch inline",children:[v("input",{checked:y!==void 0,onChange:function(){if(y){By().delete(y.id).then(d).catch(n.showError);return}By().create({wuColumnId:e.wc.id,columnConstraintId:g.id}).then(d).catch(n.showError)},className:"form-check-input",type:"checkbox",role:"switch",id:"wccSwitchCheck"+g.id}),U("label",{className:"form-check-label text-secondary",htmlFor:"wccSwitchCheck"+g.id,children:[g.name,g.parameter?":"+g.parameter:""]})]})})}return v("table",{className:"table table-borderless table-sm",children:v("tbody",{children:r.map(g=>v("tr",{children:m(g)},g.id))})})}function oH(e){const t=De(),n=Fi();function r(){if(e.wc){Dp().delete(e.wc.id).catch(t.showError);return}Dp().create({wuId:e.wu.id,columnId:e.item.id,alias:""}).catch(t.showError)}function i(){if(e.wc===void 0)return null;if(e.wu.isRequest)return v(iH,{wc:e.wc});const a=n.itemzz.find(c=>c.ownerColumnId===e.item.id);return v(ZR,{id:e.item.id,isRoot:!0,item:a,wuId:e.wu.id})}return U("tr",{children:[U("td",{children:[U("div",{className:"form-check form-switch inline",children:[v("input",{checked:e.wc!==void 0,onChange:r,className:"form-check-input",type:"checkbox",role:"switch",id:"includeSwitchCheck"+e.item.id}),v("label",{className:"form-check-label text-secondary",htmlFor:"includeSwitchCheck"+e.item.id,children:e.wc?"":e.item.name})]}),e.wc?v("input",{value:e.wc.alias,onChange:a=>Dp().update({...e.wc,alias:a.target.value}).catch(t.showError),type:"text",className:"form-control inline wa",placeholder:e.item.name}):null]}),v("td",{children:i()})]})}function jS(e){const t=ui(),n=De(),r=vh(),[i,a]=X.exports.useState([]),[c,d]=X.exports.useState(new Map);X.exports.useEffect(()=>{a(t.itemzz.filter(b=>b.entityId===e.item.entityId));const y=r.itemzz.filter(b=>b.wuId===e.item.id);d(new Map(y.map(b=>[b.columnId,b])))},[t.itemzz,e.item,r.itemzz]);function m(y){const b=c.get(y.id);return`${e.item.id} ${b==null?void 0:b.id} ${y.id}`}function g(){return e.noCaption?null:e.caption?e.caption:U("caption",{children:[v("h3",{className:"inline me-3",children:"Column"}),U("div",{className:"form-check form-switch inline",children:[v("input",{checked:e.item.isRequest,onChange:function(y){_l().update({...e.item,isRequest:y.target.checked}).catch(n.showError)},className:"form-check-input",type:"checkbox",role:"switch",id:"isRequestSwitchCheck"}),v("label",{className:"form-check-label",htmlFor:"isRequestSwitchCheck",children:"isRequest"})]}),v(Br,{className:"ms-3",href:"https://spec.openapis.org/oas/v3.0.3#schema-object",children:"doc"})]})}return U("table",{className:"table td0-tal",children:[g(),v("thead",{children:U("tr",{children:[v("th",{className:"w333",children:"include / alias (can be empty)"}),U("th",{children:[e.item.isRequest?"include constraint":"isArray / nullable / type / format",e.item.isRequest?null:v(Br,{className:"ms-3",href:"https://spec.openapis.org/oas/v3.0.3#data-types",children:"doc"})]})]})}),v("tbody",{children:i.map(y=>v(oH,{isRequest:e.item.isRequest,item:y,wc:c.get(y.id),wu:e.item},m(y)))})]})}const Xy=Ci.Request;function aH(e){const t=Ts(),n=US(),r=De(),i=Fi(),a=vh(),c=bs(),[d,m]=X.exports.useState(!1),[g,y]=X.exports.useState(),b=YG(e.action,e.entity),C=n.find(e.ma.requestId),A="Filter",P=$g(e.action,e.entity,A);if(X.exports.useEffect(()=>{if(C===void 0){y(void 0);return}const I=i.itemzz.find(N=>N.ownerRequestId===C.id);I!==void 0&&(I.type===ft.Wu?y(c.find(I.wuId)):y(void 0))},[e.ma.requestId]),e.step!==Xy){const I=a.itemzz.filter(N=>N.wuId===(g==null?void 0:g.id));return U("div",{className:"my-3",children:[v("h3",{className:"pointer hover-blue text-secondary",onClick:()=>t.setStep(Xy),children:Xy}),C===void 0?null:U("div",{className:"mt-3",children:[C.name," ",g===void 0||C.id===1?null:I.length===0?v("span",{className:"text-danger",children:"(0 fields)"}):U("span",{className:"text-secondary",children:["(",I.length," fields)"]})]})]})}function L(){const I=Bi.getState().findByName(tt.ParameterInQuery);if(I===void 0)return;if(ui.getState().itemzz.find(D=>D.entityId===I.id&&D.name===P)){r.showError(`Parameter ${P} already exists`);return}Pc(I.id,P,"object","",0,"form","",!1).then(function(D){return r.showSuccess(`Parameter ${P} created`),wl().create({alias:A,columnId:D.id,pathId:null,requestId:e.ma.requestId,responseId:null})}).then(()=>m(!0)).catch(r.showError)}function E(){return XG(e.action,e.entity,!0,c).then(I=>(y(I),r.showSuccess(`Wu ${I.name} created`),gg().create(HG(b)).then(N=>{r.showSuccess(`Request ${N.name} created`);const D=Ns(ft.Wu,I.id);return D.ownerRequestId=N.id,Mr().create(D).then(()=>Lo().update({...e.ma,requestId:N.id}).then(O=>t.setAction(e.action,O)))}))).catch(r.showError)}return U("div",{children:[v("div",{className:"my-2",children:n.findByName(b)?null:U("span",{onClick:E,className:"btn btn-outline-primary",children:["+ ",b]})}),v("div",{children:v(Tn,{className:"wa",itemzz:n.itemzz.filter(I=>I.id===1||I.name.startsWith(e.entity.name+"_")),value:e.ma.requestId,change:function(I){Lo().update({...e.ma,requestId:I}).then(N=>t.setAction(e.action,N)).catch(r.showError)}})}),g===void 0?null:U(Cn,{children:[v("h3",{className:"my-3",children:g.name}),v(jS,{item:g,noCaption:!0})]}),U("div",{children:[v("h3",{className:"inline me-3",children:"Parameter"}),e.ma.name.includes("ReadPage")?U("button",{onClick:L,className:"btn btn-outline-primary",type:"button",children:["+ ",P]}):null]}),v($S,{filter:d,requestId:e.ma.requestId})]})}const KS=gt(function(e,t){return Ur(e,t,Nm())});function VS(e){const t=De();function n(r){if(!(e.fieldName in r))throw new Error(`field ${e.fieldName} not exists`);const a=r[e.fieldName],c=e.source.find(d=>d.id===a);return c?c.name:`${e.fieldName} ${a} not found`}return U("ul",{className:"list-unstyled",children:[U("li",{className:"mb-1",children:[e.title?v("h3",{className:"inline me-3",children:e.title}):null,v(Tn,{isAdd:!0,itemzz:e.source,value:0,change:function(r){e.create(r).catch(t.showError)},className:"inline wa"})]}),e.itemzz.map(r=>v("li",{className:"mb-1",children:U("button",{onClick:function(){return e.delete(r.id).catch(t.showError)},className:"btn btn-outline-danger",type:"button",children:["- ",n(r)]})},r.id))]})}function e1(e){const t=KS(),n=De(),[r,i]=X.exports.useState([]);X.exports.useEffect(()=>{a()},[e.requestId,e.pathId]);function a(){zy().findAll().then(c=>i(c.filter(function(d){return d.requestId===e.requestId&&d.pathId===e.pathId}))).catch(n.showError)}return v(VS,{fieldName:"serverId",itemzz:r,source:t.itemzz.filter(c=>c.global===!1),create:function(c){return zy().create({serverId:c,pathId:e.pathId,requestId:e.requestId}).then(a)},delete:function(c){return zy().delete(c).then(a)}})}function sH(e){const t=De(),[n,r]=X.exports.useState(e.ma);X.exports.useEffect(()=>{r(e.ma)},[e.ma]);function i(a){r(a),Lo().update(a).then(r).catch(t.showError)}return U("table",{className:"table td0-tar",children:[v("caption",{children:e.children}),U("tbody",{children:[U("tr",{children:[v("td",{children:"deprecated"}),v("td",{children:U("div",{className:"form-check form-switch",children:[v("input",{checked:n.deprecated,onChange:a=>i({...n,deprecated:a.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"deprecatedSwitchCheck"+n.id}),v("label",{className:"form-check-label",htmlFor:"deprecatedSwitchCheck"+n.id})]})})]}),U("tr",{children:[v("td",{children:"inRoute"}),U("td",{children:[U("div",{className:"form-check form-switch inline",children:[v("input",{checked:n.inRoute,onChange:a=>i({...n,inRoute:a.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"inRouteSwitchCheck"+n.id}),v("label",{className:"form-check-label",htmlFor:"inRouteSwitchCheck"+n.id})]}),v("span",{children:"if true, it will be included in route file"})]})]}),U("tr",{children:[v("td",{children:"server"}),v("td",{children:v(e1,{requestId:e.ma.requestId,pathId:null})}),v("td",{})]}),U("tr",{children:[v("td",{children:"summary"}),v("td",{children:v("input",{value:n.summary,onChange:a=>i({...n,summary:a.target.value}),type:"text",className:"form-control"})})]}),U("tr",{children:[v("td",{children:"routeName"}),v("td",{children:v("input",{value:n.routeName,onChange:a=>i({...n,routeName:a.target.value}),type:"text",className:"form-control"})})]}),U("tr",{children:[v("td",{children:"description"}),v("td",{children:v("textarea",{value:n.description,onChange:a=>i({...n,description:a.target.value}),className:"form-control"})})]})]})]})}function qg(e){var n;const t=De();return U("div",{className:"btn-group "+((n=e.className)!=null?n:""),children:[v("button",{disabled:e.canDelete===!1,onClick:function(){Mi().then(r=>e.onDelete(r.isConfirmed)).catch(t.showError)},className:"btn btn-outline-primary danger",type:"button",children:"-"}),v("button",{disabled:e.canChange===!1,onClick:e.onChange,className:"btn btn-outline-primary",type:"button",children:e.name}),e.children]})}function lH(e){const t=Ts(),n=De();return v(sH,{action:e.ma.name,entity:e.entity,ma:e.ma,children:v(qg,{name:e.ma.name,onChange:function(){Is("Please input the path",e.ma.name).then(r=>{if(r.isConfirmed)return Lo().update({...e.ma,name:r.value}).then(i=>t.setAction(i.name,i))}).catch(n.showError)},onDelete:function(r){r&&Lo().delete(e.ma.id).then(()=>t.setAction("")).catch(n.showError)}})})}const uH=new Set(["Event","EventListener","EventOfMany","EventOfManyListener","Request"]),cH=new Set(["AbstractItemTestBase","AbstractGuestItemTestBase"]);function fH(e){var g;const t=Fr(),n=Ts(),r=De(),i=t.itemzz.find(y=>y.name.startsWith(e.ma.name)&&y.color!==Ln.white),[a,c]=X.exports.useState((g=i==null?void 0:i.color)!=null?g:Ln.red),[d,m]=X.exports.useState(e.ma.name);return X.exports.useEffect(()=>{var y;c((y=i==null?void 0:i.color)!=null?y:Ln.red),m(e.ma.name)},[e.ma.id]),U(Cn,{children:[v("tr",{children:U("td",{colSpan:2,children:[U("div",{children:[v("button",{className:"btn btn-outline-danger m-1",onClick:function(){m("")},children:"X"}),v("input",{value:d,onChange:function(y){m(y.target.value)},className:"form-control inline wa",placeholder:"filter by name",type:"text"})]}),v(po,{color:a,setColor:c})]})}),t.itemzz.filter(function(y){if(e.isTest){if(y.name.includes("Test")===!1)return!1;if(cH.has(y.name))return!0}else if(uH.has(y.name))return!0;return d?y.name.includes(d):y.color===a}).sort((y,b)=>y.name.localeCompare(b.name)).map(function(y){return U("tr",{children:[v("td",{children:U("button",{className:"btn btn-outline-primary",type:"button",onClick:function(){Fn("please input the fileNamePattern",y.fileNamePattern).then(function(b){if(b.isConfirmed&&b.value){const C={...y,directoryId:e.directoryId,isExtra:!0,fileNamePattern:b.value};return Lo().update({...e.ma,filezz:[...e.ma.filezz,C]}).then(A=>n.setAction(A.name,A))}}).catch(r.showError)},children:["+ ",y.name]})}),v("td",{children:y.description})]},y.id)})]})}function dH(e){const t=Ts(),n=De(),r=e.ma.filezz.filter(i=>i.isExtra&&i.directoryId===e.directoryId);return U("tbody",{children:[r.map(function(i){return U("tr",{children:[v("td",{}),U("td",{children:[v("button",{onClick:function(){Lo().update({...e.ma,filezz:e.ma.filezz.filter(a=>a.id!==i.id)}).then(a=>t.setAction(a.name,a)).catch(n.showError)},className:"btn btn-outline-danger",type:"button",children:"-"}),v(da,{action:e.action,className:"ms-3",entity:e.entity,file:i,ma:e.ma,module:e.module})]})]},i.id)}),v(fH,{directoryId:e.directoryId,entity:e.entity,isTest:e.isTest,ma:e.ma})]})}function qx(e){const t=ho(),n=t.find(e.directoryId);return U("table",{className:"table",children:[U("caption",{children:[v("span",{className:"me-3",children:"Directory:"}),n?t.treeHelper.getDirectoryFullName(n,e.entity,e.action):`Directory ${e.directoryId} not found`,e.isTest?"/"+e.entity.name:""]}),v("thead",{children:U("tr",{children:[v("td",{className:"w-50",children:"edit script / template"}),v("td",{children:"file"})]})}),v(dH,{action:e.action,directoryId:e.directoryId,entity:e.entity,isTest:e.isTest,ma:e.ma,module:e.module})]})}const Zy=Ci.File;var t1=(e=>(e.All="All",e.Crud="Crud",e.Test="Test",e))(t1||{});function hH(e){const t=ho(),n=Ts(),[r,i]=X.exports.useState("Crud"),a=Qr(t.itemzz),c=Object.keys(t1);return e.step!==Zy?U("table",{className:"table",children:[v("caption",{children:v("h3",{className:"pointer hover-blue",onClick:()=>n.setStep(Zy),children:Zy})}),v("tbody",{children:e.ma.filezz.sort((d,m)=>{if(d.directoryId===m.directoryId){const g=t.treeHelper.getFileName(d,e.entity,e.action),y=t.treeHelper.getFileName(m,e.entity,e.action);return g.localeCompare(y)}return d.directoryId-m.directoryId}).map(d=>v("tr",{children:v("td",{children:v(da,{action:e.action,file:d,fullName:!0,ma:e.ma,entity:e.entity})})},d.id))})]}):U("div",{children:[v(Dc,{tab:r,tabzz:c,setTab:i}),r==="All"?v(gA,{entity:e.entity,ma:e.ma,module:e.module}):null,r==="Crud"?v(qx,{action:e.action,directoryId:e.module.directoryId,entity:e.entity,isTest:!1,ma:e.ma,module:e.module,directoryMap:a}):null,r==="Test"?v(qx,{action:e.action,directoryId:e.module.testDirectoryId,entity:e.entity,isTest:!0,ma:e.ma,module:e.module,directoryMap:a}):null]})}function pH(e){const t=zS(),n=ho(),r=Fr(),i=vc(),a=De(),c=rS("Item"),d=n.find(e.item.directoryId),m=n.find(e.item.testDirectoryId);function g(){const C=Fr.getState().find(e.item.fileId);return C?v(da,{action:"",className:"mx-3",file:C,fullName:!0,entity:c,module:e.item}):U("span",{className:"text-danger",children:["route file ",e.item.fileId," not found"]})}function y(C){t.openCB("Please select a Directory",function(A){const P={...e.item};C?P.testDirectoryId=A:P.directoryId=A,b(P)})}function b(C){Xu().update(C).then(A=>i.setItem(A)).catch(a.showError)}return U("table",{className:"table td0-tar",children:[U("caption",{children:[e.children,v(qg,{name:e.item.name,onChange:function(){Fn("Please input the path",e.item.name).then(C=>{if(C.isConfirmed)return Xu().update({...e.item,name:C.value}).then(i.setItem)}).catch(a.showError)},onDelete:function(C){C&&Xu().delete(e.item.id).then(()=>i.setItem()).catch(a.showError)}}),g()]}),U("tbody",{children:[U("tr",{children:[v("td",{className:"w111",children:"color"}),v("td",{children:v(po,{color:e.item.color,setColor:C=>b({...e.item,color:C})})})]}),U("tr",{children:[v("td",{children:"directory"}),v("td",{children:v("button",{className:"btn btn-outline-"+(d?"primary":"danger"),type:"button",onClick:function(){y(!1)},children:d?n.treeHelper.getDirectoryFullName(d,c,""):`Directory ${e.item.directoryId} not found`})})]}),U("tr",{children:[v("td",{children:"test directory"}),v("td",{children:v("button",{className:"btn btn-outline-"+(m?"primary":"danger"),type:"button",onClick:function(){y(!0)},children:m?n.treeHelper.getDirectoryFullName(m,c,""):`Directory ${e.item.testDirectoryId} not found`})})]}),U("tr",{children:[v("td",{children:"route file"}),v("td",{children:v(Tn,{className:"wa",itemzz:r.itemzz,value:e.item.fileId,change:function(C){b({...e.item,fileId:C})}})})]}),U("tr",{children:[v("td",{children:"description"}),v("td",{children:v("textarea",{value:e.item.description,onChange:C=>b({...e.item,description:C.target.value}),className:"form-control"})})]})]})]})}const mH=gt(function(e){return{...co(e),moduleId:1,setModuleId(t){e({moduleId:t,item:void 0})}}});function gH(e){return U("ul",{className:"list-unstyled",children:[U("li",{className:"mb-1",children:[e.title?v("h3",{className:"inline me-3",children:e.title}):null,v(oi,{className:"wa",isAdd:!0,itemzz:e.source,value:"",change:function(t){e.create(t)}})]}),e.itemzz.map(t=>v("li",{className:"mb-1",children:U("button",{className:"btn btn-outline-danger",type:"button",onClick:function(){e.delete(t)},children:["- ",t]})},t))]})}function vH(e){return v(gH,{itemzz:e.item.middlewarezz,source:e.middlewarezz,create:function(t){const n=new Set(e.item.middlewarezz);if(n.has(t))return;const r=Array.from(n.values());r.push(t),r.sort(),e.update({...e.item,middlewarezz:r})},delete:function(t){const n=e.item.middlewarezz.indexOf(t);if(n===-1)return;const r=[...e.item.middlewarezz];r.splice(n,1),e.update({...e.item,middlewarezz:r})}})}function yH(e){const t=mH(),n=ii("Middleware").map(i=>i.name);function r(i){t.setItem(i),dc().update(i).then(a=>t.setItem(a)).catch(De.getState().showError)}return U("table",{className:"table td0-tar",children:[v("caption",{children:e.children}),U("tbody",{children:[U("tr",{children:[v("td",{children:"color"}),v("td",{children:v(po,{color:e.item.color,setColor:i=>r({...e.item,color:i})})})]}),U("tr",{children:[v("td",{className:"w111",children:"parameter"}),v("td",{children:v($S,{pathId:e.item.id})})]}),U("tr",{children:[v("td",{children:"method"}),v("td",{children:v(oi,{className:"wa",itemzz:g3,value:e.item.method,change:i=>r({...e.item,method:i})})})]}),U("tr",{children:[v("td",{children:"middlewarezz"}),v("td",{children:v(vH,{item:e.item,middlewarezz:n,path:e.item,update:r})})]}),U("tr",{children:[v("td",{children:"server"}),v("td",{children:v(e1,{requestId:null,pathId:e.item.id})})]}),U("tr",{children:[v("td",{children:"summary"}),v("td",{children:v("input",{value:e.item.summary,onChange:i=>r({...e.item,summary:i.target.value}),className:"form-control",type:"text"})})]}),U("tr",{children:[v("td",{children:"description"}),v("td",{children:v("textarea",{className:"form-control",value:e.item.description,onChange:i=>r({...e.item,description:i.target.value})})})]})]})]})}function wH(e){const t=Ts(),n=BS(),r=De(),i=n.itemzz.find(function(a){return a.entityId===e.entity.id&&a.moduleId===e.module.id&&a.moduleActionId===e.ma.id});return i==null?v("div",{children:v("button",{className:"btn btn-outline-primary",onClick:function(){VR(e.ma,e.entity,e.module,n.itemzz,KR(e.ma.name)).then(function(a){if(t.setPath(a),e.ma.name.includes("One")!==!1)return wl().create({alias:"",columnId:Ht.ColumnIdOfIdInParameterInPath,pathId:a.id,requestId:null,responseId:null})})},children:"+"})}):v(yH,{entity:e.entity,item:i,ma:e.ma,module:e.module,children:v(qg,{name:i.name,onChange:function(){Fn("Please input the path",i.name).then(a=>{if(a.isConfirmed)return dc().update({...i,name:a.value}).then(t.setPath)}).catch(r.showError)},onDelete:function(a){a&&dc().delete(i.id).then(()=>t.setPath()).catch(r.showError)}})})}function jx(e,t,n=2){return{status:e,responseId:n,moduleActionId:t,description:""}}const jg=gt(function(e,t){return{...Ur(e,t,Im()),sorting:!0}});function bH(e){var d,m;const t=jg(),n=De(),r=Fi(),i=t.find(e.item.responseId);function a(){if(i===void 0)return v("span",{className:"text-danger",children:ti("",e.item.responseId)});const g=r.itemzz.find(y=>y.ownerResponseId===i.id);return v(ZR,{id:e.item.id,item:g})}function c(g){return Bu().update(g).then(e.refresh).catch(n.showError)}return U("tr",{children:[v("td",{children:U("div",{className:"input-group",children:[v("button",{onClick:function(){Mi().then(g=>{if(g.isConfirmed)return Bu().delete(e.item.id).then(e.refresh)}).catch(n.showError)},className:"btn btn-outline-danger",type:"button",children:"-"}),v(Tn,{itemzz:e.statuszz,value:(m=(d=e.statuszz.find(g=>g.name===e.item.status))==null?void 0:d.id)!=null?m:0,change:function(g,y){var b;c({...e.item,status:(b=y==null?void 0:y.name)!=null?b:""})}})]})}),v("td",{children:v(Tn,{className:"wa",itemzz:t.itemzz.filter(g=>g.id<11||g.name.startsWith(e.entity.name+"_")),value:e.item.responseId,change:function(g){c({...e.item,responseId:g})}})}),v("td",{children:a()})]})}const SH=Ci.Response;function EH(e){const t=jg(),n=De(),r=Fi(),i=vh(),a=bs(),[c,d]=X.exports.useState([]),m=JG(e.action,e.entity),g=ii("HttpStatus");let y=!1;const b=c.find(I=>I.status==="200"),C=A();if(X.exports.useEffect(()=>(E().catch(n.showError),function(){y=!0}),[e.ma,e.entity]),e.step!==SH){let I=function(){if(C===void 0)return null;const N=i.itemzz.filter(D=>D.wuId===(C==null?void 0:C.id));return N.length===0?U("span",{className:"text-danger",children:["(",C.name," 0 fields)"]}):U("span",{className:"text-secondary",children:["(",C.name," ",N.length," fields)"]})};return v(Cn,{children:v("table",{className:"table table-borderless table-sm",children:U("tbody",{children:[b===void 0?v("tr",{children:v("td",{colSpan:2,children:v("div",{className:"text-danger",children:"Response 200 is missing"})})}):null,c.map(N=>{var D;return U("tr",{children:[v("td",{className:"w111",children:N.status}),U("td",{children:[(D=t.find(N.responseId))==null?void 0:D.name," ",N.id===(b==null?void 0:b.id)?I():null]})]},N.status)})]})})})}function A(){if(b===void 0)return;const I=r.itemzz.find(N=>N.ownerResponseId===(b==null?void 0:b.responseId));if(I&&I.type===ft.Wu){const N=r.itemzz.find(D=>D.ownerId===I.id);if(N&&N.type===ft.Wu)return a.find(N.wuId)}}function P(I){var O,z,k,W;const N=(O=a.findByName("ApiItemzz"))==null?void 0:O.id,D=new Map([["ReadAll",N],["ReadMany",N],["One",(z=a.findByName("ApiItem"))==null?void 0:z.id],["ReadPage",(k=a.findByName("ApiPage"))==null?void 0:k.id]]);for(const[j,$]of D)if(I.includes(j))return $;return(W=a.findByName("ApiValue"))==null?void 0:W.id}function L(){return Im().create(GR(m)).then(I=>{var O;n.showSuccess(`Response ${I.name} created`);const N=(O=P(e.action))!=null?O:1,D=Ns(ft.Wu,N);return D.ownerResponseId=I.id,Mr().create(D).then(function(z){return qS(N,z.id).then(function(k){if(k.length!==0)return HR(e.entity.name,e.entity,!1,a).then(W=>Mr().update({...k[0],wuId:W.id})).then(()=>n.showSuccess(`Wu ${e.entity.name} created`))})}).then(function(){return b===void 0?Bu().create(jx("200",e.ma.id,I.id)).then(function(){n.showSuccess("Response 200 created")}):Bu().update({...b,responseId:I.id}).then(function(){})})}).then(E).catch(n.showError)}function E(){return Bu().findAll().then(I=>{if(y)return;const N=I.filter(D=>D.moduleActionId===e.ma.id);d(N)})}return U(Cn,{children:[U("table",{className:"table td0-tal",children:[v("caption",{children:v("div",{children:t.findByName(m)?null:U("span",{onClick:L,className:"btn btn-outline-primary",children:["+ ",m]})})}),v("thead",{children:U("tr",{children:[v("th",{children:"status"}),v("th",{children:"name"}),v("th",{children:"content"})]})}),v("tbody",{children:c.map(I=>v(bH,{entity:e.entity,item:I,refresh:E,statuszz:g},I.status))}),v("tfoot",{children:U("tr",{children:[v("td",{children:v(Tn,{isAdd:!0,itemzz:g,value:0,change:function(I,N){var D;Bu().create(jx((D=N==null?void 0:N.name)!=null?D:"",e.ma.id)).then(E).catch(n.showError)}})}),v("td",{}),v("td",{})]})})]}),b&&C?v(jS,{item:C,caption:v("caption",{children:U("h3",{className:"text-dark",children:["Wu ",C.name]})})}):null]})}function CH(){const e=Wl(),t=Ts(),n=vc();if(X.exports.useEffect(()=>{n.item===void 0&&Xu().findAll().then(c=>n.setItem(c[0]))},[]),e.item===void 0)return null;const r=Object.keys(Ci);let i="white";n.item&&(i=n.item.color+2);function a(){return e.item===void 0?v("div",{children:"Select an Entity"}):n.item==null?v("div",{children:"Select a Module"}):t.step===Ci.Module?v(pH,{item:n.item}):t.ma==null?v("div",{children:"Select or create an Action"}):t.step===Ci.Path?v(wH,{entity:e.item,ma:t.ma,module:n.item}):t.step===Ci.Action?v(lH,{entity:e.item,ma:t.ma,module:n.item}):t.step===Ci.Request?v(aH,{action:t.action,entity:e.item,ma:t.ma,module:n.item,step:t.step}):t.step===Ci.Response?v(EH,{action:t.action,entity:e.item,ma:t.ma,module:n.item,step:t.step}):t.step===Ci.File?v(hH,{action:t.action,entity:e.item,ma:t.ma,module:n.item,step:t.step}):null}return U("div",{children:[v("div",{className:"position-fixed bg-white w-100",style:{zIndex:111},children:v("div",{className:"pt-3 ps-3 d-flex align-items-baseline",style:{backgroundColor:i},children:v(Dc,{tab:t.step,tabzz:r,setTab:function(c){t.setStep(c)}})})}),v("div",{style:{height:"77px"}}),a()]})}function IH(){return U("div",{className:"row",children:[v("div",{className:"col-3 h100 overflow-auto",children:v(GG,{})}),v("div",{className:"col-9 h100 overflow-auto",children:v(CH,{})}),v(qR,{})]})}function NH(){window.bridge={error(e,t){console.log(e,t)},send(e){console.log(e)}}}function to(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function yc(e){return!!e&&!!e[ai]}function Rl(e){return!!e&&(function(t){if(!t||typeof t!="object")return!1;var n=Object.getPrototypeOf(t);if(n===null)return!0;var r=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return r===Object||typeof r=="function"&&Function.toString.call(r)===PH}(e)||Array.isArray(e)||!!e[Xx]||!!e.constructor[Xx]||GS(e)||HS(e))}function $d(e,t,n){n===void 0&&(n=!1),Bc(e)===0?(n?Object.keys:ZS)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Bc(e){var t=e[ai];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:GS(e)?2:HS(e)?3:0}function bb(e,t){return Bc(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function xH(e,t){return Bc(e)===2?e.get(t):e[t]}function n1(e,t,n){var r=Bc(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function TH(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function GS(e){return RH&&e instanceof Map}function HS(e){return kH&&e instanceof Set}function dl(e){return e.o||e.t}function YS(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=DH(e);delete t[ai];for(var n=ZS(t),r=0;r<n.length;r++){var i=n[r],a=t[i];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function JS(e,t){return t===void 0&&(t=!1),QS(e)||yc(e)||!Rl(e)||(Bc(e)>1&&(e.set=e.add=e.clear=e.delete=_H),Object.freeze(e),t&&$d(e,function(n,r){return JS(r,!0)},!0)),e}function _H(){to(2)}function QS(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Do(e){var t=LH[e];return t||to(18,e),t}function Kx(){return qd}function ew(e,t){t&&(Do("Patches"),e.u=[],e.s=[],e.v=t)}function Fm(e){Sb(e),e.p.forEach(OH),e.p=null}function Sb(e){e===qd&&(qd=e.l)}function Vx(e){return qd={p:[],l:qd,h:e,m:!0,_:0}}function OH(e){var t=e[ai];t.i===0||t.i===1?t.j():t.O=!0}function tw(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||Do("ES5").S(t,e,r),r?(n[ai].P&&(Fm(t),to(4)),Rl(e)&&(e=Um(t,e),t.l||Wm(t,e)),t.u&&Do("Patches").M(n[ai].t,e,t.u,t.s)):e=Um(t,n,[]),Fm(t),t.u&&t.v(t.u,t.s),e!==r1?e:void 0}function Um(e,t,n){if(QS(t))return t;var r=t[ai];if(!r)return $d(t,function(a,c){return Gx(e,r,t,a,c,n)},!0),t;if(r.A!==e)return t;if(!r.P)return Wm(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=YS(r.k):r.o;$d(r.i===3?new Set(i):i,function(a,c){return Gx(e,r,i,a,c,n)}),Wm(e,i,!1),n&&e.u&&Do("Patches").R(r,n,e.u,e.s)}return r.o}function Gx(e,t,n,r,i,a){if(yc(i)){var c=Um(e,i,a&&t&&t.i!==3&&!bb(t.D,r)?a.concat(r):void 0);if(n1(n,r,c),!yc(c))return;e.m=!1}if(Rl(i)&&!QS(i)){if(!e.h.F&&e._<1)return;Um(e,i),t&&t.A.l||Wm(e,i)}}function Wm(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&JS(t,n)}function nw(e,t){var n=e[ai];return(n?dl(n):e)[t]}function Hx(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Eb(e){e.P||(e.P=!0,e.l&&Eb(e.l))}function rw(e){e.o||(e.o=YS(e.t))}function Cb(e,t,n){var r=GS(t)?Do("MapSet").N(t,n):HS(t)?Do("MapSet").T(t,n):e.g?function(i,a){var c=Array.isArray(i),d={i:c?1:0,A:a?a.A:Kx(),P:!1,I:!1,D:{},l:a,t:i,k:null,o:null,j:null,C:!1},m=d,g=Ib;c&&(m=[d],g=Kf);var y=Proxy.revocable(m,g),b=y.revoke,C=y.proxy;return d.k=C,d.j=b,C}(t,n):Do("ES5").J(t,n);return(n?n.A:Kx()).p.push(r),r}function AH(e){return yc(e)||to(22,e),function t(n){if(!Rl(n))return n;var r,i=n[ai],a=Bc(n);if(i){if(!i.P&&(i.i<4||!Do("ES5").K(i)))return i.t;i.I=!0,r=Yx(n,a),i.I=!1}else r=Yx(n,a);return $d(r,function(c,d){i&&xH(i.t,c)===d||n1(r,c,t(d))}),a===3?new Set(r):r}(e)}function Yx(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return YS(e)}var Jx,qd,XS=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",RH=typeof Map!="undefined",kH=typeof Set!="undefined",Qx=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",r1=XS?Symbol.for("immer-nothing"):((Jx={})["immer-nothing"]=!0,Jx),Xx=XS?Symbol.for("immer-draftable"):"__$immer_draftable",ai=XS?Symbol.for("immer-state"):"__$immer_state",PH=""+Object.prototype.constructor,ZS=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,DH=Object.getOwnPropertyDescriptors||function(e){var t={};return ZS(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},LH={},Ib={get:function(e,t){if(t===ai)return e;var n=dl(e);if(!bb(n,t))return function(i,a,c){var d,m=Hx(a,c);return m?"value"in m?m.value:(d=m.get)===null||d===void 0?void 0:d.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Rl(r)?r:r===nw(e.t,t)?(rw(e),e.o[t]=Cb(e.A.h,r,e)):r},has:function(e,t){return t in dl(e)},ownKeys:function(e){return Reflect.ownKeys(dl(e))},set:function(e,t,n){var r=Hx(dl(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=nw(dl(e),t),a=i==null?void 0:i[ai];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(TH(n,i)&&(n!==void 0||bb(e.t,t)))return!0;rw(e),Eb(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return nw(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,rw(e),Eb(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=dl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){to(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){to(12)}},Kf={};$d(Ib,function(e,t){Kf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Kf.deleteProperty=function(e,t){return Kf.set.call(this,e,t,void 0)},Kf.set=function(e,t,n){return Ib.set.call(this,e[0],t,n,e[0])};var zH=function(){function e(n){var r=this;this.g=Qx,this.F=!0,this.produce=function(i,a,c){if(typeof i=="function"&&typeof a!="function"){var d=a;a=i;var m=r;return function(L){var E=this;L===void 0&&(L=d);for(var I=arguments.length,N=Array(I>1?I-1:0),D=1;D<I;D++)N[D-1]=arguments[D];return m.produce(L,function(O){var z;return(z=a).call.apply(z,[E,O].concat(N))})}}var g;if(typeof a!="function"&&to(6),c!==void 0&&typeof c!="function"&&to(7),Rl(i)){var y=Vx(r),b=Cb(r,i,void 0),C=!0;try{g=a(b),C=!1}finally{C?Fm(y):Sb(y)}return typeof Promise!="undefined"&&g instanceof Promise?g.then(function(L){return ew(y,c),tw(L,y)},function(L){throw Fm(y),L}):(ew(y,c),tw(g,y))}if(!i||typeof i!="object"){if((g=a(i))===void 0&&(g=i),g===r1&&(g=void 0),r.F&&JS(g,!0),c){var A=[],P=[];Do("Patches").M(i,g,A,P),c(A,P)}return g}to(21,i)},this.produceWithPatches=function(i,a){if(typeof i=="function")return function(g){for(var y=arguments.length,b=Array(y>1?y-1:0),C=1;C<y;C++)b[C-1]=arguments[C];return r.produceWithPatches(g,function(A){return i.apply(void 0,[A].concat(b))})};var c,d,m=r.produce(i,a,function(g,y){c=g,d=y});return typeof Promise!="undefined"&&m instanceof Promise?m.then(function(g){return[g,c,d]}):[m,c,d]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Rl(n)||to(8),yc(n)&&(n=AH(n));var r=Vx(this),i=Cb(this,n,void 0);return i[ai].C=!0,Sb(r),i},t.finishDraft=function(n,r){var i=n&&n[ai],a=i.A;return ew(a,r),tw(void 0,a)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!Qx&&to(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var a=r[i];if(a.path.length===0&&a.op==="replace"){n=a.value;break}}i>-1&&(r=r.slice(i+1));var c=Do("Patches").$;return yc(n)?c(n,r):this.produce(n,function(d){return c(d,r)})},e}(),si=new zH,MH=si.produce;si.produceWithPatches.bind(si);si.setAutoFreeze.bind(si);si.setUseProxies.bind(si);si.applyPatches.bind(si);si.createDraft.bind(si);si.finishDraft.bind(si);var gp=MH;const eE=Symbol.for("yaml.alias"),Nb=Symbol.for("yaml.document"),ds=Symbol.for("yaml.map"),i1=Symbol.for("yaml.pair"),Kg=Symbol.for("yaml.scalar"),Fc=Symbol.for("yaml.seq"),Li=Symbol.for("yaml.node.type"),Uc=e=>!!e&&typeof e=="object"&&e[Li]===eE,Vg=e=>!!e&&typeof e=="object"&&e[Li]===Nb,bh=e=>!!e&&typeof e=="object"&&e[Li]===ds,_n=e=>!!e&&typeof e=="object"&&e[Li]===i1,hn=e=>!!e&&typeof e=="object"&&e[Li]===Kg,Sh=e=>!!e&&typeof e=="object"&&e[Li]===Fc;function En(e){if(e&&typeof e=="object")switch(e[Li]){case ds:case Fc:return!0}return!1}function Mn(e){if(e&&typeof e=="object")switch(e[Li]){case eE:case ds:case Kg:case Fc:return!0}return!1}const BH=e=>(hn(e)||En(e))&&!!e.anchor,hl=Symbol("break visit"),FH=Symbol("skip children"),dd=Symbol("remove node");function kl(e,t){const n=UH(t);Vg(e)?Fu(null,e.contents,n,Object.freeze([e]))===dd&&(e.contents=null):Fu(null,e,n,Object.freeze([]))}kl.BREAK=hl;kl.SKIP=FH;kl.REMOVE=dd;function Fu(e,t,n,r){const i=WH(e,t,n,r);if(Mn(i)||_n(i))return $H(e,r,i),Fu(e,i,n,r);if(typeof i!="symbol"){if(En(t)){r=Object.freeze(r.concat(t));for(let a=0;a<t.items.length;++a){const c=Fu(a,t.items[a],n,r);if(typeof c=="number")a=c-1;else{if(c===hl)return hl;c===dd&&(t.items.splice(a,1),a-=1)}}}else if(_n(t)){r=Object.freeze(r.concat(t));const a=Fu("key",t.key,n,r);if(a===hl)return hl;a===dd&&(t.key=null);const c=Fu("value",t.value,n,r);if(c===hl)return hl;c===dd&&(t.value=null)}}return i}function UH(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function WH(e,t,n,r){var i,a,c,d,m;if(typeof n=="function")return n(e,t,r);if(bh(t))return(i=n.Map)==null?void 0:i.call(n,e,t,r);if(Sh(t))return(a=n.Seq)==null?void 0:a.call(n,e,t,r);if(_n(t))return(c=n.Pair)==null?void 0:c.call(n,e,t,r);if(hn(t))return(d=n.Scalar)==null?void 0:d.call(n,e,t,r);if(Uc(t))return(m=n.Alias)==null?void 0:m.call(n,e,t,r)}function $H(e,t,n){const r=t[t.length-1];if(En(r))r.items[e]=n;else if(_n(r))e==="key"?r.key=n:r.value=n;else if(Vg(r))r.contents=n;else{const i=Uc(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const qH={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},jH=e=>e.replace(/[!,[\]{}]/g,t=>qH[t]);class Pr{constructor(t,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Pr.defaultYaml,t),this.tags=Object.assign({},Pr.defaultTags,n)}clone(){const t=new Pr(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new Pr(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Pr.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Pr.defaultTags);break}return t}add(t,n){this.atNextDocument&&(this.yaml={explicit:Pr.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Pr.defaultTags),this.atNextDocument=!1);const r=t.trim().split(/[ \t]+/),i=r.shift();switch(i){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[a,c]=r;return this.tags[a]=c,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[a]=r;if(a==="1.1"||a==="1.2")return this.yaml.version=a,!0;{const c=/^\d+\.\d+$/.test(a);return n(6,`Unsupported YAML version ${a}`,c),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(t,n){if(t==="!")return"!";if(t[0]!=="!")return n(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const c=t.slice(2,-1);return c==="!"||c==="!!"?(n(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&n("Verbatim tags must end with a >"),c)}const[,r,i]=t.match(/^(.*!)([^!]*)$/);i||n(`The ${t} tag has no suffix`);const a=this.tags[r];if(a)try{return a+decodeURIComponent(i)}catch(c){return n(String(c)),null}return r==="!"?t:(n(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[n,r]of Object.entries(this.tags))if(t.startsWith(r))return n+jH(t.substring(r.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let i;if(t&&r.length>0&&Mn(t.contents)){const a={};kl(t.contents,(c,d)=>{Mn(d)&&d.tag&&(a[d.tag]=!0)}),i=Object.keys(a)}else i=[];for(const[a,c]of r)a==="!!"&&c==="tag:yaml.org,2002:"||(!t||i.some(d=>d.startsWith(c)))&&n.push(`%TAG ${a} ${c}`);return n.join(`
`)}}Pr.defaultYaml={explicit:!1,version:"1.2"};Pr.defaultTags={"!!":"tag:yaml.org,2002:"};function o1(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(n)}return!0}function a1(e){const t=new Set;return kl(e,{Value(n,r){r.anchor&&t.add(r.anchor)}}),t}function s1(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function KH(e,t){const n=[],r=new Map;let i=null;return{onAnchor:a=>{n.push(a),i||(i=a1(e));const c=s1(t,i);return i.add(c),c},setAnchors:()=>{for(const a of n){const c=r.get(a);if(typeof c=="object"&&c.anchor&&(hn(c.node)||En(c.node)))c.node.anchor=c.anchor;else{const d=new Error("Failed to resolve repeated object (this should not happen)");throw d.source=a,d}}},sourceObjects:r}}function Uu(e,t,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let i=0,a=r.length;i<a;++i){const c=r[i],d=Uu(e,r,String(i),c);d===void 0?delete r[i]:d!==c&&(r[i]=d)}else if(r instanceof Map)for(const i of Array.from(r.keys())){const a=r.get(i),c=Uu(e,r,i,a);c===void 0?r.delete(i):c!==a&&r.set(i,c)}else if(r instanceof Set)for(const i of Array.from(r)){const a=Uu(e,r,i,i);a===void 0?r.delete(i):a!==i&&(r.delete(i),r.add(a))}else for(const[i,a]of Object.entries(r)){const c=Uu(e,r,i,a);c===void 0?delete r[i]:c!==a&&(r[i]=c)}return e.call(t,n,r)}function Oi(e,t,n){if(Array.isArray(e))return e.map((r,i)=>Oi(r,String(i),n));if(e&&typeof e.toJSON=="function"){if(!n||!BH(e))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=a=>{r.res=a,delete n.onCreate};const i=e.toJSON(t,n);return n.onCreate&&n.onCreate(i),i}return typeof e=="bigint"&&!(n!=null&&n.keep)?Number(e):e}class tE{constructor(t){Object.defineProperty(this,Li,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:n,maxAliasCount:r,onAnchor:i,reviver:a}={}){if(!Vg(t))throw new TypeError("A document argument is required");const c={anchors:new Map,doc:t,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},d=Oi(this,"",c);if(typeof i=="function")for(const{count:m,res:g}of c.anchors.values())i(g,m);return typeof a=="function"?Uu(a,{"":d},"",d):d}}class l1 extends tE{constructor(t){super(eE),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let n;return kl(t,{Node:(r,i)=>{if(i===this)return kl.BREAK;i.anchor===this.source&&(n=i)}}),n}toJSON(t,n){if(!n)return{source:this.source};const{anchors:r,doc:i,maxAliasCount:a}=n,c=this.resolve(i);if(!c){const m=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(m)}let d=r.get(c);if(d||(Oi(c,null,n),d=r.get(c)),!d||d.res===void 0){const m="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(m)}if(a>=0&&(d.count+=1,d.aliasCount===0&&(d.aliasCount=Mp(i,c,r)),d.count*d.aliasCount>a)){const m="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(m)}return d.res}toString(t,n,r){const i=`*${this.source}`;if(t){if(o1(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const a=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(a)}if(t.implicitKey)return`${i} `}return i}}function Mp(e,t,n){if(Uc(t)){const r=t.resolve(e),i=n&&r&&n.get(r);return i?i.count*i.aliasCount:0}else if(En(t)){let r=0;for(const i of t.items){const a=Mp(e,i,n);a>r&&(r=a)}return r}else if(_n(t)){const r=Mp(e,t.key,n),i=Mp(e,t.value,n);return Math.max(r,i)}return 1}const u1=e=>!e||typeof e!="function"&&typeof e!="object";class Ft extends tE{constructor(t){super(Kg),this.value=t}toJSON(t,n){return n!=null&&n.keep?this.value:Oi(this.value,t,n)}toString(){return String(this.value)}}Ft.BLOCK_FOLDED="BLOCK_FOLDED";Ft.BLOCK_LITERAL="BLOCK_LITERAL";Ft.PLAIN="PLAIN";Ft.QUOTE_DOUBLE="QUOTE_DOUBLE";Ft.QUOTE_SINGLE="QUOTE_SINGLE";const VH="tag:yaml.org,2002:";function GH(e,t,n){var r;if(t){const i=n.filter(c=>c.tag===t),a=(r=i.find(c=>!c.format))!=null?r:i[0];if(!a)throw new Error(`Tag ${t} not found`);return a}return n.find(i=>{var a;return((a=i.identify)==null?void 0:a.call(i,e))&&!i.format})}function jd(e,t,n){var b,C,A;if(Vg(e)&&(e=e.contents),Mn(e))return e;if(_n(e)){const P=(C=(b=n.schema[ds]).createNode)==null?void 0:C.call(b,n.schema,null,n);return P.items.push(e),P}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt!="undefined"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:r,onAnchor:i,onTagObj:a,schema:c,sourceObjects:d}=n;let m;if(r&&e&&typeof e=="object"){if(m=d.get(e),m)return m.anchor||(m.anchor=i(e)),new l1(m.anchor);m={anchor:null,node:null},d.set(e,m)}t!=null&&t.startsWith("!!")&&(t=VH+t.slice(2));let g=GH(e,t,c.tags);if(!g){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const P=new Ft(e);return m&&(m.node=P),P}g=e instanceof Map?c[ds]:Symbol.iterator in Object(e)?c[Fc]:c[ds]}a&&(a(g),delete n.onTagObj);const y=g!=null&&g.createNode?g.createNode(n.schema,e,n):typeof((A=g==null?void 0:g.nodeClass)==null?void 0:A.from)=="function"?g.nodeClass.from(n.schema,e,n):new Ft(e);return t?y.tag=t:g.default||(y.tag=g.tag),m&&(m.node=y),y}function $m(e,t,n){let r=n;for(let i=t.length-1;i>=0;--i){const a=t[i];if(typeof a=="number"&&Number.isInteger(a)&&a>=0){const c=[];c[a]=r,r=c}else r=new Map([[a,r]])}return jd(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const Vf=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class Gg extends tE{constructor(t,n){super(t),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(t){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(n.schema=t),n.items=n.items.map(r=>Mn(r)||_n(r)?r.clone(t):r),this.range&&(n.range=this.range.slice()),n}addIn(t,n){if(Vf(t))this.add(n);else{const[r,...i]=t,a=this.get(r,!0);if(En(a))a.addIn(i,n);else if(a===void 0&&this.schema)this.set(r,$m(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn(t){const[n,...r]=t;if(r.length===0)return this.delete(n);const i=this.get(n,!0);if(En(i))return i.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(t,n){const[r,...i]=t,a=this.get(r,!0);return i.length===0?!n&&hn(a)?a.value:a:En(a)?a.getIn(i,n):void 0}hasAllNullValues(t){return this.items.every(n=>{if(!_n(n))return!1;const r=n.value;return r==null||t&&hn(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(t){const[n,...r]=t;if(r.length===0)return this.has(n);const i=this.get(n,!0);return En(i)?i.hasIn(r):!1}setIn(t,n){const[r,...i]=t;if(i.length===0)this.set(r,n);else{const a=this.get(r,!0);if(En(a))a.setIn(i,n);else if(a===void 0&&this.schema)this.set(r,$m(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}}Gg.maxFlowStringSingleLineLength=60;const HH=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function aa(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const Za=(e,t,n)=>e.endsWith(`
`)?aa(n,t):n.includes(`
`)?`
`+aa(n,t):(e.endsWith(" ")?"":" ")+n,c1="flow",xb="block",Bp="quoted";function Hg(e,t,n="flow",{indentAtStart:r,lineWidth:i=80,minContentWidth:a=20,onFold:c,onOverflow:d}={}){if(!i||i<0)return e;const m=Math.max(1+a,1+i-t.length);if(e.length<=m)return e;const g=[],y={};let b=i-t.length;typeof r=="number"&&(r>i-Math.max(2,a)?g.push(0):b=i-r);let C,A,P=!1,L=-1,E=-1,I=-1;n===xb&&(L=Zx(e,L),L!==-1&&(b=L+m));for(let D;D=e[L+=1];){if(n===Bp&&D==="\\"){switch(E=L,e[L+1]){case"x":L+=3;break;case"u":L+=5;break;case"U":L+=9;break;default:L+=1}I=L}if(D===`
`)n===xb&&(L=Zx(e,L)),b=L+m,C=void 0;else{if(D===" "&&A&&A!==" "&&A!==`
`&&A!=="	"){const O=e[L+1];O&&O!==" "&&O!==`
`&&O!=="	"&&(C=L)}if(L>=b)if(C)g.push(C),b=C+m,C=void 0;else if(n===Bp){for(;A===" "||A==="	";)A=D,D=e[L+=1],P=!0;const O=L>I+1?L-2:E-1;if(y[O])return e;g.push(O),y[O]=!0,b=O+m,C=void 0}else P=!0}A=D}if(P&&d&&d(),g.length===0)return e;c&&c();let N=e.slice(0,g[0]);for(let D=0;D<g.length;++D){const O=g[D],z=g[D+1]||e.length;O===0?N=`
${t}${e.slice(0,z)}`:(n===Bp&&y[O]&&(N+=`${e[O]}\\`),N+=`
${t}${e.slice(O+1,z)}`)}return N}function Zx(e,t){let n=e[t+1];for(;n===" "||n==="	";){do n=e[t+=1];while(n&&n!==`
`);n=e[t+1]}return t}const Yg=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),Jg=e=>/^(%|---|\.\.\.)/m.test(e);function YH(e,t,n){if(!t||t<0)return!1;const r=t-n,i=e.length;if(i<=r)return!1;for(let a=0,c=0;a<i;++a)if(e[a]===`
`){if(a-c>r)return!0;if(c=a+1,i-c<=r)return!1}return!0}function hd(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,i=t.options.doubleQuotedMinMultiLineLength,a=t.indent||(Jg(e)?"  ":"");let c="",d=0;for(let m=0,g=n[m];g;g=n[++m])if(g===" "&&n[m+1]==="\\"&&n[m+2]==="n"&&(c+=n.slice(d,m)+"\\ ",m+=1,d=m,g="\\"),g==="\\")switch(n[m+1]){case"u":{c+=n.slice(d,m);const y=n.substr(m+2,4);switch(y){case"0000":c+="\\0";break;case"0007":c+="\\a";break;case"000b":c+="\\v";break;case"001b":c+="\\e";break;case"0085":c+="\\N";break;case"00a0":c+="\\_";break;case"2028":c+="\\L";break;case"2029":c+="\\P";break;default:y.substr(0,2)==="00"?c+="\\x"+y.substr(2):c+=n.substr(m,6)}m+=5,d=m+1}break;case"n":if(r||n[m+2]==='"'||n.length<i)m+=1;else{for(c+=n.slice(d,m)+`

`;n[m+2]==="\\"&&n[m+3]==="n"&&n[m+4]!=='"';)c+=`
`,m+=2;c+=a,n[m+2]===" "&&(c+="\\"),m+=1,d=m+1}break;default:m+=1}return c=d?c+n.slice(d):n,r?c:Hg(c,a,Bp,Yg(t,!1))}function Tb(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return hd(e,t);const n=t.indent||(Jg(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return t.implicitKey?r:Hg(r,n,c1,Yg(t,!1))}function Wu(e,t){const{singleQuote:n}=t.options;let r;if(n===!1)r=hd;else{const i=e.includes('"'),a=e.includes("'");i&&!a?r=Tb:a&&!i?r=hd:r=n?Tb:hd}return r(e,t)}let _b;try{_b=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{_b=/\n+(?!\n|$)/g}function Fp({comment:e,type:t,value:n},r,i,a){const{blockQuote:c,commentString:d,lineWidth:m}=r.options;if(!c||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return Wu(n,r);const g=r.indent||(r.forceBlockIndent||Jg(n)?"  ":""),y=c==="literal"?!0:c==="folded"||t===Ft.BLOCK_FOLDED?!1:t===Ft.BLOCK_LITERAL?!0:!YH(n,m,g.length);if(!n)return y?`|
`:`>
`;let b,C;for(C=n.length;C>0;--C){const k=n[C-1];if(k!==`
`&&k!=="	"&&k!==" ")break}let A=n.substring(C);const P=A.indexOf(`
`);P===-1?b="-":n===A||P!==A.length-1?(b="+",a&&a()):b="",A&&(n=n.slice(0,-A.length),A[A.length-1]===`
`&&(A=A.slice(0,-1)),A=A.replace(_b,`$&${g}`));let L=!1,E,I=-1;for(E=0;E<n.length;++E){const k=n[E];if(k===" ")L=!0;else if(k===`
`)I=E;else break}let N=n.substring(0,I<E?I+1:E);N&&(n=n.substring(N.length),N=N.replace(/\n+/g,`$&${g}`));let O=(y?"|":">")+(L?g?"2":"1":"")+b;if(e&&(O+=" "+d(e.replace(/ ?[\r\n]+/g," ")),i&&i()),y)return n=n.replace(/\n+/g,`$&${g}`),`${O}
${g}${N}${n}${A}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${g}`);const z=Hg(`${N}${n}${A}`,g,xb,Yg(r,!0));return`${O}
${g}${z}`}function JH(e,t,n,r){const{type:i,value:a}=e,{actualString:c,implicitKey:d,indent:m,indentStep:g,inFlow:y}=t;if(d&&a.includes(`
`)||y&&/[[\]{},]/.test(a))return Wu(a,t);if(!a||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(a))return d||y||!a.includes(`
`)?Wu(a,t):Fp(e,t,n,r);if(!d&&!y&&i!==Ft.PLAIN&&a.includes(`
`))return Fp(e,t,n,r);if(Jg(a)){if(m==="")return t.forceBlockIndent=!0,Fp(e,t,n,r);if(d&&m===g)return Wu(a,t)}const b=a.replace(/\n+/g,`$&
${m}`);if(c){const C=L=>{var E;return L.default&&L.tag!=="tag:yaml.org,2002:str"&&((E=L.test)==null?void 0:E.test(b))},{compat:A,tags:P}=t.doc.schema;if(P.some(C)||(A==null?void 0:A.some(C)))return Wu(a,t)}return d?b:Hg(b,m,c1,Yg(t,!1))}function nE(e,t,n,r){const{implicitKey:i,inFlow:a}=t,c=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:d}=e;d!==Ft.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(c.value)&&(d=Ft.QUOTE_DOUBLE);const m=y=>{switch(y){case Ft.BLOCK_FOLDED:case Ft.BLOCK_LITERAL:return i||a?Wu(c.value,t):Fp(c,t,n,r);case Ft.QUOTE_DOUBLE:return hd(c.value,t);case Ft.QUOTE_SINGLE:return Tb(c.value,t);case Ft.PLAIN:return JH(c,t,n,r);default:return null}};let g=m(d);if(g===null){const{defaultKeyType:y,defaultStringType:b}=t.options,C=i&&y||b;if(g=m(C),g===null)throw new Error(`Unsupported default string type ${C}`)}return g}function f1(e,t){const n=Object.assign({blockQuote:!0,commentString:HH,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function QH(e,t){var i,a,c,d;if(t.tag){const m=e.filter(g=>g.tag===t.tag);if(m.length>0)return(i=m.find(g=>g.format===t.format))!=null?i:m[0]}let n,r;if(hn(t)){r=t.value;const m=e.filter(g=>{var y;return(y=g.identify)==null?void 0:y.call(g,r)});n=(a=m.find(g=>g.format===t.format))!=null?a:m.find(g=>!g.format)}else r=t,n=e.find(m=>m.nodeClass&&r instanceof m.nodeClass);if(!n){const m=(d=(c=r==null?void 0:r.constructor)==null?void 0:c.name)!=null?d:typeof r;throw new Error(`Tag not resolved for ${m} value`)}return n}function XH(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const i=[],a=(hn(e)||En(e))&&e.anchor;a&&o1(a)&&(n.add(a),i.push(`&${a}`));const c=e.tag?e.tag:t.default?null:t.tag;return c&&i.push(r.directives.tagString(c)),i.join(" ")}function wc(e,t,n,r){var m,g;if(_n(e))return e.toString(t,n,r);if(Uc(e)){if(t.doc.directives)return e.toString(t);if((m=t.resolvedAliases)!=null&&m.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let i;const a=Mn(e)?e:t.doc.createNode(e,{onTagObj:y=>i=y});i||(i=QH(t.doc.schema.tags,a));const c=XH(a,i,t);c.length>0&&(t.indentAtStart=((g=t.indentAtStart)!=null?g:0)+c.length+1);const d=typeof i.stringify=="function"?i.stringify(a,t,n,r):hn(a)?nE(a,t,n,r):a.toString(t,n,r);return c?hn(a)||d[0]==="{"||d[0]==="["?`${c} ${d}`:`${c}
${t.indent}${d}`:d}function ZH({key:e,value:t},n,r,i){var W,j;const{allNullValues:a,doc:c,indent:d,indentStep:m,options:{commentString:g,indentSeq:y,simpleKeys:b}}=n;let C=Mn(e)&&e.comment||null;if(b){if(C)throw new Error("With simple keys, key nodes cannot have comments");if(En(e)){const $="With simple keys, collection cannot be used as a key value";throw new Error($)}}let A=!b&&(!e||C&&t==null&&!n.inFlow||En(e)||(hn(e)?e.type===Ft.BLOCK_FOLDED||e.type===Ft.BLOCK_LITERAL:typeof e=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!A&&(b||!a),indent:d+m});let P=!1,L=!1,E=wc(e,n,()=>P=!0,()=>L=!0);if(!A&&!n.inFlow&&E.length>1024){if(b)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");A=!0}if(n.inFlow){if(a||t==null)return P&&r&&r(),E===""?"?":A?`? ${E}`:E}else if(a&&!b||t==null&&A)return E=`? ${E}`,C&&!P?E+=Za(E,n.indent,g(C)):L&&i&&i(),E;P&&(C=null),A?(C&&(E+=Za(E,n.indent,g(C))),E=`? ${E}
${d}:`):(E=`${E}:`,C&&(E+=Za(E,n.indent,g(C))));let I,N,D;Mn(t)?(I=!!t.spaceBefore,N=t.commentBefore,D=t.comment):(I=!1,N=null,D=null,t&&typeof t=="object"&&(t=c.createNode(t))),n.implicitKey=!1,!A&&!C&&hn(t)&&(n.indentAtStart=E.length+1),L=!1,!y&&m.length>=2&&!n.inFlow&&!A&&Sh(t)&&!t.flow&&!t.tag&&!t.anchor&&(n.indent=n.indent.substring(2));let O=!1;const z=wc(t,n,()=>O=!0,()=>L=!0);let k=" ";if(C||I||N){if(k=I?`
`:"",N){const $=g(N);k+=`
${aa($,n.indent)}`}z===""&&!n.inFlow?k===`
`&&(k=`

`):k+=`
${n.indent}`}else if(!A&&En(t)){const $=z[0],M=z.indexOf(`
`),Y=M!==-1,K=(j=(W=n.inFlow)!=null?W:t.flow)!=null?j:t.items.length===0;if(Y||!K){let Z=!1;if(Y&&($==="&"||$==="!")){let ne=z.indexOf(" ");$==="&"&&ne!==-1&&ne<M&&z[ne+1]==="!"&&(ne=z.indexOf(" ",ne+1)),(ne===-1||M<ne)&&(Z=!0)}Z||(k=`
${n.indent}`)}}else(z===""||z[0]===`
`)&&(k="");return E+=k+z,n.inFlow?O&&r&&r():D&&!O?E+=Za(E,n.indent,g(D)):L&&i&&i(),E}function e4(e,t){(e==="debug"||e==="warn")&&(typeof process!="undefined"&&process.emitWarning?process.emitWarning(t):console.warn(t))}const eT="<<";function d1(e,t,{key:n,value:r}){if((e==null?void 0:e.doc.schema.merge)&&t4(n))if(r=Uc(r)?r.resolve(e.doc):r,Sh(r))for(const i of r.items)iw(e,t,i);else if(Array.isArray(r))for(const i of r)iw(e,t,i);else iw(e,t,r);else{const i=Oi(n,"",e);if(t instanceof Map)t.set(i,Oi(r,i,e));else if(t instanceof Set)t.add(i);else{const a=n4(n,i,e),c=Oi(r,a,e);a in t?Object.defineProperty(t,a,{value:c,writable:!0,enumerable:!0,configurable:!0}):t[a]=c}}return t}const t4=e=>e===eT||hn(e)&&e.value===eT&&(!e.type||e.type===Ft.PLAIN);function iw(e,t,n){const r=e&&Uc(n)?n.resolve(e.doc):n;if(!bh(r))throw new Error("Merge sources must be maps or map aliases");const i=r.toJSON(null,e,Map);for(const[a,c]of i)t instanceof Map?t.has(a)||t.set(a,c):t instanceof Set?t.add(a):Object.prototype.hasOwnProperty.call(t,a)||Object.defineProperty(t,a,{value:c,writable:!0,enumerable:!0,configurable:!0});return t}function n4(e,t,n){if(t===null)return"";if(typeof t!="object")return String(t);if(Mn(e)&&(n==null?void 0:n.doc)){const r=f1(n.doc,{});r.anchors=new Set;for(const a of n.anchors.keys())r.anchors.add(a.anchor);r.inFlow=!0,r.inStringifyKey=!0;const i=e.toString(r);if(!n.mapKeyWarned){let a=JSON.stringify(i);a.length>40&&(a=a.substring(0,36)+'..."'),e4(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${a}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(t)}function rE(e,t,n){const r=jd(e,void 0,n),i=jd(t,void 0,n);return new Ai(r,i)}class Ai{constructor(t,n=null){Object.defineProperty(this,Li,{value:i1}),this.key=t,this.value=n}clone(t){let{key:n,value:r}=this;return Mn(n)&&(n=n.clone(t)),Mn(r)&&(r=r.clone(t)),new Ai(n,r)}toJSON(t,n){const r=n!=null&&n.mapAsMap?new Map:{};return d1(n,r,this)}toString(t,n,r){return t!=null&&t.doc?ZH(this,t,n,r):JSON.stringify(this)}}function h1(e,t,n){var a;return(((a=t.inFlow)!=null?a:e.flow)?i4:r4)(e,t,n)}function r4({comment:e,items:t},n,{blockItemPrefix:r,flowChars:i,itemIndent:a,onChompKeep:c,onComment:d}){const{indent:m,options:{commentString:g}}=n,y=Object.assign({},n,{indent:a,type:null});let b=!1;const C=[];for(let P=0;P<t.length;++P){const L=t[P];let E=null;if(Mn(L))!b&&L.spaceBefore&&C.push(""),qm(n,C,L.commentBefore,b),L.comment&&(E=L.comment);else if(_n(L)){const N=Mn(L.key)?L.key:null;N&&(!b&&N.spaceBefore&&C.push(""),qm(n,C,N.commentBefore,b))}b=!1;let I=wc(L,y,()=>E=null,()=>b=!0);E&&(I+=Za(I,a,g(E))),b&&E&&(b=!1),C.push(r+I)}let A;if(C.length===0)A=i.start+i.end;else{A=C[0];for(let P=1;P<C.length;++P){const L=C[P];A+=L?`
${m}${L}`:`
`}}return e?(A+=`
`+aa(g(e),m),d&&d()):b&&c&&c(),A}function i4({comment:e,items:t},n,{flowChars:r,itemIndent:i,onComment:a}){const{indent:c,indentStep:d,flowCollectionPadding:m,options:{commentString:g}}=n;i+=d;const y=Object.assign({},n,{indent:i,inFlow:!0,type:null});let b=!1,C=0;const A=[];for(let I=0;I<t.length;++I){const N=t[I];let D=null;if(Mn(N))N.spaceBefore&&A.push(""),qm(n,A,N.commentBefore,!1),N.comment&&(D=N.comment);else if(_n(N)){const z=Mn(N.key)?N.key:null;z&&(z.spaceBefore&&A.push(""),qm(n,A,z.commentBefore,!1),z.comment&&(b=!0));const k=Mn(N.value)?N.value:null;k?(k.comment&&(D=k.comment),k.commentBefore&&(b=!0)):N.value==null&&(z==null?void 0:z.comment)&&(D=z.comment)}D&&(b=!0);let O=wc(N,y,()=>D=null);I<t.length-1&&(O+=","),D&&(O+=Za(O,i,g(D))),!b&&(A.length>C||O.includes(`
`))&&(b=!0),A.push(O),C=A.length}let P;const{start:L,end:E}=r;if(A.length===0)P=L+E;else if(b||(b=A.reduce((N,D)=>N+D.length+2,2)>Gg.maxFlowStringSingleLineLength),b){P=L;for(const I of A)P+=I?`
${d}${c}${I}`:`
`;P+=`
${c}${E}`}else P=`${L}${m}${A.join(" ")}${m}${E}`;return e&&(P+=Za(P,c,g(e)),a&&a()),P}function qm({indent:e,options:{commentString:t}},n,r,i){if(r&&i&&(r=r.replace(/^\n+/,"")),r){const a=aa(t(r),e);n.push(a.trimStart())}}function bl(e,t){const n=hn(t)?t.value:t;for(const r of e)if(_n(r)&&(r.key===t||r.key===n||hn(r.key)&&r.key.value===n))return r}class Va extends Gg{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(ds,t),this.items=[]}static from(t,n,r){const{keepUndefined:i,replacer:a}=r,c=new this(t),d=(m,g)=>{if(typeof a=="function")g=a.call(n,m,g);else if(Array.isArray(a)&&!a.includes(m))return;(g!==void 0||i)&&c.items.push(rE(m,g,r))};if(n instanceof Map)for(const[m,g]of n)d(m,g);else if(n&&typeof n=="object")for(const m of Object.keys(n))d(m,n[m]);return typeof t.sortMapEntries=="function"&&c.items.sort(t.sortMapEntries),c}add(t,n){var c;let r;_n(t)?r=t:!t||typeof t!="object"||!("key"in t)?r=new Ai(t,t==null?void 0:t.value):r=new Ai(t.key,t.value);const i=bl(this.items,r.key),a=(c=this.schema)==null?void 0:c.sortMapEntries;if(i){if(!n)throw new Error(`Key ${r.key} already set`);hn(i.value)&&u1(r.value)?i.value.value=r.value:i.value=r.value}else if(a){const d=this.items.findIndex(m=>a(r,m)<0);d===-1?this.items.push(r):this.items.splice(d,0,r)}else this.items.push(r)}delete(t){const n=bl(this.items,t);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(t,n){var a;const r=bl(this.items,t),i=r==null?void 0:r.value;return(a=!n&&hn(i)?i.value:i)!=null?a:void 0}has(t){return!!bl(this.items,t)}set(t,n){this.add(new Ai(t,n),!0)}toJSON(t,n,r){const i=r?new r:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(i);for(const a of this.items)d1(n,i,a);return i}toString(t,n,r){if(!t)return JSON.stringify(this);for(const i of this.items)if(!_n(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),h1(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:r,onComment:n})}}const Wc={collection:"map",default:!0,nodeClass:Va,tag:"tag:yaml.org,2002:map",resolve(e,t){return bh(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,n)=>Va.from(e,t,n)};class jm extends Gg{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(Fc,t),this.items=[]}add(t){this.items.push(t)}delete(t){const n=vp(t);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(t,n){const r=vp(t);if(typeof r!="number")return;const i=this.items[r];return!n&&hn(i)?i.value:i}has(t){const n=vp(t);return typeof n=="number"&&n<this.items.length}set(t,n){const r=vp(t);if(typeof r!="number")throw new Error(`Expected a valid index, not ${t}.`);const i=this.items[r];hn(i)&&u1(n)?i.value=n:this.items[r]=n}toJSON(t,n){const r=[];n!=null&&n.onCreate&&n.onCreate(r);let i=0;for(const a of this.items)r.push(Oi(a,String(i++),n));return r}toString(t,n,r){return t?h1(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(t,n,r){const{replacer:i}=r,a=new this(t);if(n&&Symbol.iterator in Object(n)){let c=0;for(let d of n){if(typeof i=="function"){const m=n instanceof Set?d:String(c++);d=i.call(n,m,d)}a.items.push(jd(d,void 0,r))}}return a}}function vp(e){let t=hn(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}const $c={collection:"seq",default:!0,nodeClass:jm,tag:"tag:yaml.org,2002:seq",resolve(e,t){return Sh(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,n)=>jm.from(e,t,n)},Qg={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,n,r){return t=Object.assign({actualString:!0},t),nE(e,t,n,r)}},Xg={identify:e=>e==null,createNode:()=>new Ft(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Ft(null),stringify:({source:e},t)=>typeof e=="string"&&Xg.test.test(e)?e:t.options.nullStr},iE={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new Ft(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},n){if(e&&iE.test.test(e)){const r=e[0]==="t"||e[0]==="T";if(t===r)return e}return t?n.options.trueStr:n.options.falseStr}};function go({format:e,minFractionDigits:t,tag:n,value:r}){if(typeof r=="bigint")return String(r);const i=typeof r=="number"?r:Number(r);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let a=JSON.stringify(r);if(!e&&t&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(a)){let c=a.indexOf(".");c<0&&(c=a.length,a+=".");let d=t-(a.length-c-1);for(;d-- >0;)a+="0"}return a}const p1={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:go},m1={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():go(e)}},g1={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new Ft(parseFloat(e)),n=e.indexOf(".");return n!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-n-1),t},stringify:go},Zg=e=>typeof e=="bigint"||Number.isInteger(e),oE=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function v1(e,t,n){const{value:r}=e;return Zg(r)&&r>=0?n+r.toString(t):go(e)}const y1={identify:e=>Zg(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>oE(e,2,8,n),stringify:e=>v1(e,8,"0o")},w1={identify:Zg,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>oE(e,0,10,n),stringify:go},b1={identify:e=>Zg(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>oE(e,2,16,n),stringify:e=>v1(e,16,"0x")},o4=[Wc,$c,Qg,Xg,iE,y1,w1,b1,p1,m1,g1];function tT(e){return typeof e=="bigint"||Number.isInteger(e)}const yp=({value:e})=>JSON.stringify(e),a4=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:yp},{identify:e=>e==null,createNode:()=>new Ft(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:yp},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>e==="true",stringify:yp},{identify:tT,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>tT(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:yp}],s4={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},l4=[Wc,$c].concat(a4,s4),aE={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof Buffer=="function")return Buffer.from(e,"base64");if(typeof atob=="function"){const n=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,i,a){const c=n;let d;if(typeof Buffer=="function")d=c instanceof Buffer?c.toString("base64"):Buffer.from(c.buffer).toString("base64");else if(typeof btoa=="function"){let m="";for(let g=0;g<c.length;++g)m+=String.fromCharCode(c[g]);d=btoa(m)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t||(t=Ft.BLOCK_LITERAL),t!==Ft.QUOTE_DOUBLE){const m=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),g=Math.ceil(d.length/m),y=new Array(g);for(let b=0,C=0;b<g;++b,C+=m)y[b]=d.substr(C,m);d=y.join(t===Ft.BLOCK_LITERAL?`
`:" ")}return nE({comment:e,type:t,value:d},r,i,a)}};function S1(e,t){var n;if(Sh(e))for(let r=0;r<e.items.length;++r){let i=e.items[r];if(!_n(i)){if(bh(i)){i.items.length>1&&t("Each pair must have its own sequence indicator");const a=i.items[0]||new Ai(new Ft(null));if(i.commentBefore&&(a.key.commentBefore=a.key.commentBefore?`${i.commentBefore}
${a.key.commentBefore}`:i.commentBefore),i.comment){const c=(n=a.value)!=null?n:a.key;c.comment=c.comment?`${i.comment}
${c.comment}`:i.comment}i=a}e.items[r]=_n(i)?i:new Ai(i)}}else t("Expected a sequence for this tag");return e}function E1(e,t,n){const{replacer:r}=n,i=new jm(e);i.tag="tag:yaml.org,2002:pairs";let a=0;if(t&&Symbol.iterator in Object(t))for(let c of t){typeof r=="function"&&(c=r.call(t,String(a++),c));let d,m;if(Array.isArray(c))if(c.length===2)d=c[0],m=c[1];else throw new TypeError(`Expected [key, value] tuple: ${c}`);else if(c&&c instanceof Object){const g=Object.keys(c);if(g.length===1)d=g[0],m=c[d];else throw new TypeError(`Expected tuple with one key, not ${g.length} keys`)}else d=c;i.items.push(rE(d,m,n))}return i}const sE={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:S1,createNode:E1};class Zu extends jm{constructor(){super(),this.add=Va.prototype.add.bind(this),this.delete=Va.prototype.delete.bind(this),this.get=Va.prototype.get.bind(this),this.has=Va.prototype.has.bind(this),this.set=Va.prototype.set.bind(this),this.tag=Zu.tag}toJSON(t,n){if(!n)return super.toJSON(t);const r=new Map;n!=null&&n.onCreate&&n.onCreate(r);for(const i of this.items){let a,c;if(_n(i)?(a=Oi(i.key,"",n),c=Oi(i.value,a,n)):a=Oi(i,"",n),r.has(a))throw new Error("Ordered maps must not include duplicate keys");r.set(a,c)}return r}static from(t,n,r){const i=E1(t,n,r),a=new this;return a.items=i.items,a}}Zu.tag="tag:yaml.org,2002:omap";const lE={collection:"seq",identify:e=>e instanceof Map,nodeClass:Zu,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=S1(e,t),r=[];for(const{key:i}of n.items)hn(i)&&(r.includes(i.value)?t(`Ordered maps must not include duplicate keys: ${i.value}`):r.push(i.value));return Object.assign(new Zu,n)},createNode:(e,t,n)=>Zu.from(e,t,n)};function C1({value:e,source:t},n){return t&&(e?I1:N1).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const I1={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Ft(!0),stringify:C1},N1={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new Ft(!1),stringify:C1},u4={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:go},c4={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():go(e)}},f4={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new Ft(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(n!==-1){const r=e.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(t.minFractionDigits=r.length)}return t},stringify:go},Eh=e=>typeof e=="bigint"||Number.isInteger(e);function ev(e,t,n,{intAsBigInt:r}){const i=e[0];if((i==="-"||i==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const c=BigInt(e);return i==="-"?BigInt(-1)*c:c}const a=parseInt(e,n);return i==="-"?-1*a:a}function uE(e,t,n){const{value:r}=e;if(Eh(r)){const i=r.toString(t);return r<0?"-"+n+i.substr(1):n+i}return go(e)}const d4={identify:Eh,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>ev(e,2,2,n),stringify:e=>uE(e,2,"0b")},h4={identify:Eh,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>ev(e,1,8,n),stringify:e=>uE(e,8,"0")},p4={identify:Eh,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>ev(e,0,10,n),stringify:go},m4={identify:Eh,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>ev(e,2,16,n),stringify:e=>uE(e,16,"0x")};class ec extends Va{constructor(t){super(t),this.tag=ec.tag}add(t){let n;_n(t)?n=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?n=new Ai(t.key,null):n=new Ai(t,null),bl(this.items,n.key)||this.items.push(n)}get(t,n){const r=bl(this.items,t);return!n&&_n(r)?hn(r.key)?r.key.value:r.key:r}set(t,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=bl(this.items,t);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Ai(t))}toJSON(t,n){return super.toJSON(t,n,Set)}toString(t,n,r){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(t,n,r){const{replacer:i}=r,a=new this(t);if(n&&Symbol.iterator in Object(n))for(let c of n)typeof i=="function"&&(c=i.call(n,c,c)),a.items.push(rE(c,null,r));return a}}ec.tag="tag:yaml.org,2002:set";const cE={collection:"map",identify:e=>e instanceof Set,nodeClass:ec,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>ec.from(e,t,n),resolve(e,t){if(bh(e)){if(e.hasAllNullValues(!0))return Object.assign(new ec,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function fE(e,t){const n=e[0],r=n==="-"||n==="+"?e.substring(1):e,i=c=>t?BigInt(c):Number(c),a=r.replace(/_/g,"").split(":").reduce((c,d)=>c*i(60)+i(d),i(0));return n==="-"?i(-1)*a:a}function x1(e){let{value:t}=e,n=c=>c;if(typeof t=="bigint")n=c=>BigInt(c);else if(isNaN(t)||!isFinite(t))return go(e);let r="";t<0&&(r="-",t*=n(-1));const i=n(60),a=[t%i];return t<60?a.unshift(0):(t=(t-a[0])/i,a.unshift(t%i),t>=60&&(t=(t-a[0])/i,a.unshift(t))),r+a.map(c=>String(c).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const T1={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>fE(e,n),stringify:x1},_1={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>fE(e,!1),stringify:x1},tv={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(tv.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,i,a,c,d]=t.map(Number),m=t[7]?Number((t[7]+"00").substr(1,3)):0;let g=Date.UTC(n,r-1,i,a||0,c||0,d||0,m);const y=t[8];if(y&&y!=="Z"){let b=fE(y,!1);Math.abs(b)<30&&(b*=60),g-=6e4*b}return new Date(g)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},nT=[Wc,$c,Qg,Xg,I1,N1,d4,h4,p4,m4,u4,c4,f4,aE,lE,sE,cE,T1,_1,tv],rT=new Map([["core",o4],["failsafe",[Wc,$c,Qg]],["json",l4],["yaml11",nT],["yaml-1.1",nT]]),iT={binary:aE,bool:iE,float:g1,floatExp:m1,floatNaN:p1,floatTime:_1,int:w1,intHex:b1,intOct:y1,intTime:T1,map:Wc,null:Xg,omap:lE,pairs:sE,seq:$c,set:cE,timestamp:tv},g4={"tag:yaml.org,2002:binary":aE,"tag:yaml.org,2002:omap":lE,"tag:yaml.org,2002:pairs":sE,"tag:yaml.org,2002:set":cE,"tag:yaml.org,2002:timestamp":tv};function ow(e,t){let n=rT.get(t);if(!n)if(Array.isArray(e))n=[];else{const r=Array.from(rT.keys()).filter(i=>i!=="yaml11").map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${r} or define customTags array`)}if(Array.isArray(e))for(const r of e)n=n.concat(r);else typeof e=="function"&&(n=e(n.slice()));return n.map(r=>{if(typeof r!="string")return r;const i=iT[r];if(i)return i;const a=Object.keys(iT).map(c=>JSON.stringify(c)).join(", ");throw new Error(`Unknown custom tag "${r}"; use one of ${a}`)})}const v4=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class dE{constructor({compat:t,customTags:n,merge:r,resolveKnownTags:i,schema:a,sortMapEntries:c,toStringDefaults:d}){this.compat=Array.isArray(t)?ow(t,"compat"):t?ow(null,t):null,this.merge=!!r,this.name=typeof a=="string"&&a||"core",this.knownTags=i?g4:{},this.tags=ow(n,this.name),this.toStringOptions=d!=null?d:null,Object.defineProperty(this,ds,{value:Wc}),Object.defineProperty(this,Kg,{value:Qg}),Object.defineProperty(this,Fc,{value:$c}),this.sortMapEntries=typeof c=="function"?c:c===!0?v4:null}clone(){const t=Object.create(dE.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function y4(e,t){var m;const n=[];let r=t.directives===!0;if(t.directives!==!1&&e.directives){const g=e.directives.toString(e);g?(n.push(g),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");const i=f1(e,t),{commentString:a}=i.options;if(e.commentBefore){n.length!==1&&n.unshift("");const g=a(e.commentBefore);n.unshift(aa(g,""))}let c=!1,d=null;if(e.contents){if(Mn(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){const b=a(e.contents.commentBefore);n.push(aa(b,""))}i.forceBlockIndent=!!e.comment,d=e.contents.comment}const g=d?void 0:()=>c=!0;let y=wc(e.contents,i,()=>d=null,g);d&&(y+=Za(y,"",a(d))),(y[0]==="|"||y[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${y}`:n.push(y)}else n.push(wc(e.contents,i));if((m=e.directives)!=null&&m.docEnd)if(e.comment){const g=a(e.comment);g.includes(`
`)?(n.push("..."),n.push(aa(g,""))):n.push(`... ${g}`)}else n.push("...");else{let g=e.comment;g&&c&&(g=g.replace(/^\n+/,"")),g&&((!c||d)&&n[n.length-1]!==""&&n.push(""),n.push(aa(a(g),"")))}return n.join(`
`)+`
`}class hE{constructor(t,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Li,{value:Nb});let i=null;typeof n=="function"||Array.isArray(n)?i=n:r===void 0&&n&&(r=n,n=void 0);const a=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},r);this.options=a;let{version:c}=a;r!=null&&r._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(c=this.directives.yaml.version)):this.directives=new Pr({version:c}),this.setSchema(c,r),this.contents=t===void 0?null:this.createNode(t,i,r)}clone(){const t=Object.create(hE.prototype,{[Li]:{value:Nb}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=Mn(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){Tu(this.contents)&&this.contents.add(t)}addIn(t,n){Tu(this.contents)&&this.contents.addIn(t,n)}createAlias(t,n){if(!t.anchor){const r=a1(this);t.anchor=!n||r.has(n)?s1(n||"a",r):n}return new l1(t.anchor)}createNode(t,n,r){let i;if(typeof n=="function")t=n.call({"":t},"",t),i=n;else if(Array.isArray(n)){const E=N=>typeof N=="number"||N instanceof String||N instanceof Number,I=n.filter(E).map(String);I.length>0&&(n=n.concat(I)),i=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:a,anchorPrefix:c,flow:d,keepUndefined:m,onTagObj:g,tag:y}=r!=null?r:{},{onAnchor:b,setAnchors:C,sourceObjects:A}=KH(this,c||"a"),P={aliasDuplicateObjects:a!=null?a:!0,keepUndefined:m!=null?m:!1,onAnchor:b,onTagObj:g,replacer:i,schema:this.schema,sourceObjects:A},L=jd(t,y,P);return d&&En(L)&&(L.flow=!0),C(),L}createPair(t,n,r={}){const i=this.createNode(t,null,r),a=this.createNode(n,null,r);return new Ai(i,a)}delete(t){return Tu(this.contents)?this.contents.delete(t):!1}deleteIn(t){return Vf(t)?this.contents==null?!1:(this.contents=null,!0):Tu(this.contents)?this.contents.deleteIn(t):!1}get(t,n){return En(this.contents)?this.contents.get(t,n):void 0}getIn(t,n){return Vf(t)?!n&&hn(this.contents)?this.contents.value:this.contents:En(this.contents)?this.contents.getIn(t,n):void 0}has(t){return En(this.contents)?this.contents.has(t):!1}hasIn(t){return Vf(t)?this.contents!==void 0:En(this.contents)?this.contents.hasIn(t):!1}set(t,n){this.contents==null?this.contents=$m(this.schema,[t],n):Tu(this.contents)&&this.contents.set(t,n)}setIn(t,n){Vf(t)?this.contents=n:this.contents==null?this.contents=$m(this.schema,Array.from(t),n):Tu(this.contents)&&this.contents.setIn(t,n)}setSchema(t,n={}){typeof t=="number"&&(t=String(t));let r;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Pr({version:"1.1"}),r={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new Pr({version:t}),r={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const i=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new dE(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:n,mapAsMap:r,maxAliasCount:i,onAnchor:a,reviver:c}={}){const d={anchors:new Map,doc:this,keep:!t,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},m=Oi(this.contents,n!=null?n:"",d);if(typeof a=="function")for(const{count:g,res:y}of d.anchors.values())a(y,g);return typeof c=="function"?Uu(c,{"":m},"",m):m}toJSON(t,n){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:n})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const n=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return y4(this,t)}}function Tu(e){if(En(e))return!0;throw new Error("Expected a YAML collection as document contents")}function w4(e,t,n){var i;let r=null;if(typeof t=="function"||Array.isArray(t)?r=t:n===void 0&&t&&(n=t),typeof n=="string"&&(n=n.length),typeof n=="number"){const a=Math.round(n);n=a<1?void 0:a>8?{indent:8}:{indent:a}}if(e===void 0){const{keepUndefined:a}=(i=n!=null?n:t)!=null?i:{};if(!a)return}return new hE(e,r,n).toString(n)}class bc{constructor(t){this.rootDoc=t||{openapi:"3.0.0",info:{title:"app",version:"version"},paths:{},components:{schemas:{},responses:{},parameters:{},examples:{},requestBodies:{},headers:{},securitySchemes:{},links:{},callbacks:{}},tags:[],servers:[]}}static create(t){return new bc(t)}getSpec(){return this.rootDoc}getSpecAsJson(t,n){return JSON.stringify(this.rootDoc,t,n)}getSpecAsYaml(){return w4(this.rootDoc)}static isValidOpenApiVersion(t){t=t||"";const n=/(\d+)\.(\d+).(\d+)/.exec(t);return!!(n&&parseInt(n[1],10)>=3)}addOpenApiVersion(t){if(!bc.isValidOpenApiVersion(t))throw new Error("Invalid OpenApi version: "+t+". Follow convention: 3.x.y");return this.rootDoc.openapi=t,this}addInfo(t){return this.rootDoc.info=t,this}addContact(t){return this.rootDoc.info.contact=t,this}addLicense(t){return this.rootDoc.info.license=t,this}addTitle(t){return this.rootDoc.info.title=t,this}addDescription(t){return this.rootDoc.info.description=t,this}addTermsOfService(t){return this.rootDoc.info.termsOfService=t,this}addVersion(t){return this.rootDoc.info.version=t,this}addPath(t,n){return this.rootDoc.paths[t]=n,this}addSchema(t,n){return this.rootDoc.components.schemas[t]=n,this}addResponse(t,n){return this.rootDoc.components.responses[t]=n,this}addParameter(t,n){return this.rootDoc.components.parameters[t]=n,this}addExample(t,n){return this.rootDoc.components.examples[t]=n,this}addRequestBody(t,n){return this.rootDoc.components.requestBodies[t]=n,this}addHeader(t,n){return this.rootDoc.components.headers[t]=n,this}addSecurityScheme(t,n){return this.rootDoc.components.securitySchemes[t]=n,this}addLink(t,n){return this.rootDoc.components.links[t]=n,this}addCallback(t,n){return this.rootDoc.components.callbacks[t]=n,this}addServer(t){return this.rootDoc.servers.push(t),this}addTag(t){return this.rootDoc.tags.push(t),this}addExternalDocs(t){return this.rootDoc.externalDocs=t,this}}const so=gt(function(e){return{...{...bc.create().getSpec(),openapi:"3.0.3",info:{contact:{name:"name",url:"",email:""},description:"",license:{name:"license",url:""},termsOfService:"",title:"title",version:"0.1.0"},externalDocs:{description:"",url:""}},setContact(n){e(gp(function(r){r.info.contact=n}))},setExternal(n){e(gp(function(r){r.externalDocs=n}))},setInfo(n){e(gp(function(r){r.info=n}))},setLicense(n){e(gp(function(r){r.info.license=n}))},setOAPI(n){e(n)}}});function b4(e){if(typeof e!="string")throw new Error("unsupported version: "+e);const[t,n]=e.split(".").map(c=>parseInt(c)),[r,i]="0.6.1".split(".").map(c=>parseInt(c));if(t===r&&n===i)return;const a=`Please upgrade the PHP package ${Ht.PackageName} to version: 0.6.1`;throw t<r?new Error(a):t===r&&n<i?new Error(a):new Error(`Please upgrade the PhpStorm plugin ${Ht.Name} to version: ${e}`)}function S4(){G0.getState().observe(),V0.getState().observe(),ho.getState().observe(),Fr.getState().observe(),kc.getState().observe(),Fi.getState().observe(),ui.getState().observe(),LS.getState().observe(),yA.getState().observe(),FR.getState().observe(),Bi.getState().observe(),MS.getState().observe(),FS.getState().observe(),jR.getState().observe(),BS.getState().observe(),US.getState().observe(),jg.getState().observe(),KS.getState().observe(),yh.getState().observe(),vh.getState().observe(),_s.getState().observe(),bs.getState().observe()}const Ob=gt(function(e){return{note:""}}),E4=1222,oT=33;let wp=0,aw=!1;function C4(e){setInterval(function(){aw||ih().then(function(t){const n=JSON.stringify({db:t,oapi:so.getState(),setting:Ob.getState()});if(n!==e)return e=n,wp+=1,aw=!0,P$(e,wp===oT).finally(function(){aw=!1,wp===oT&&(wp=0)})}).catch(De.getState().showError)},E4)}function I4(e){let t=["db","oapi","setting"].every(n=>n in e);if(typeof e.db.version=="number"){if(e.db.version>j0)throw new Error(`Cannot load version ${e.db.version} data`)}else t=!1;if(t===!1)throw new Error("Cannot load corrupted data");e.setting.note===void 0&&(e.setting.note="")}function N4(e,t){Object.keys(t.db.tables).forEach(function(n){const r=n;r in e.tables&&(De.getState().showSuccess(`importing ${r}`),x4(e.tables[r],t.db.tables[r]))})}function x4(e,t){const n=new Map(e.map(r=>[r.id,r]));t.forEach(function(r){var c;if(n.get(r.id))return;e.push(r);const a=(c=r.name)!=null?c:"";De.getState().showSuccess(`${r.id} ${a} imported`)})}async function O1(e,t,n=!1){NH();const r=await fetch("preset.json").then(i=>i.json());return e===null?e=r:I4(e),so.getState().setOAPI(e.oapi),U$(e.db,t),n&&N4(e.db,r),q$(e.db).then(()=>vc.setState({item:e==null?void 0:e.db.tables.Module[0]})).then(S4)}function T4(){const e="index.d.ts";return fetch(e).then(t=>t.text()).then(t=>W0(mg(e),t)).then(Eg)}function _4(e,t=!1){b4(e.version),T4();let n=null;if(e.data){n=JSON.parse(e.data);const r=JSON.parse(e.composer);Om.getState().setPsr4({...r["autoload-dev"]["psr-4"],...r.autoload["psr-4"]})}return O1(n,e.data,t).then(()=>{var r;return C4((r=e.data)!=null?r:"")})}function O4(){return O1(null,null)}function A4(){const[e,t]=X.exports.useState(""),[n,r]=X.exports.useState(!1),[i,a]=X.exports.useState(!1),c=cg();function d(){i||(a(!0),t(""),R$().then(g=>_4(g.data.data,n)).then(()=>c.setConnected()).catch(g=>{console.log(g),c.setConnected(!1),t(H0(g))}).finally(function(){a(!1)}))}function m(){O4().then(()=>{a(!1),c.setConnected(!0,!0),t("")})}return v("div",{className:"row justify-content-center mt-5",children:U("div",{className:"col-6 text-center",children:[v("h1",{className:"text-secondary",children:Ht.Name}),v("p",{children:"0.6.1"}),U("p",{children:[location.origin," ",c.connected?v("span",{className:"text-success",children:"connected"}):null]}),c.connected?null:v("p",{children:i?v("span",{className:"spinner-border text-primary"}):U(Cn,{children:[U("span",{className:"form-check form-switch inline",children:[v("input",{checked:n,onChange:g=>r(!n),className:"form-check-input",type:"checkbox",role:"switch",id:"fillableSwitchCheck"}),v("label",{className:"form-check-label",htmlFor:"fillableSwitchCheck",children:"import missing data from preset.json"})]}),v("br",{}),v("br",{}),v(hc,{onClick:d,waiting:i,children:"connect"}),c.ide?null:v(hc,{className:"btn btn-outline-primary ms-3",onClick:m,waiting:i,children:"demo"})]})}),null,e?U(Cn,{children:[v("p",{className:"text-danger",children:e}),U("p",{children:["make sure Laravel server ",location.origin," is running,",v("br",{}),"and PHP package ",Ht.PackageName," is installed."]})]}):null,v(Br,{href:"https://googee.github.io/laravel-builder",children:"help"})]})})}function R4(){const e=so(n=>n.info.contact),t=so();return v("table",{className:"table td0-tar",children:U("tbody",{children:[U("tr",{children:[v("td",{className:"w222",children:"email"}),v("td",{children:v("input",{value:e.email,onChange:n=>t.setContact({...e,email:n.target.value}),className:"form-control",type:"text"})})]}),U("tr",{children:[v("td",{children:"name"}),v("td",{children:v("input",{value:e.name,onChange:n=>t.setContact({...e,name:n.target.value}),className:"form-control",type:"text"})})]}),U("tr",{children:[v("td",{children:"url"}),v("td",{children:v("input",{value:e.url,onChange:n=>t.setContact({...e,url:n.target.value}),className:"form-control",type:"text"})})]})]})})}function k4(){const e=so(n=>n.info),t=so();return v("table",{className:"table td0-tar",children:U("tbody",{children:[U("tr",{children:[v("td",{className:"w222",children:"title"}),v("td",{children:v("input",{value:e.title,onChange:n=>t.setInfo({...e,title:n.target.value}),className:"form-control",type:"text"})})]}),U("tr",{children:[v("td",{children:"version"}),v("td",{children:v("input",{value:e.version,onChange:n=>t.setInfo({...e,version:n.target.value}),className:"form-control",type:"text"})})]}),U("tr",{children:[v("td",{children:"description"}),v("td",{children:v("textarea",{rows:3,value:e.description,onChange:n=>t.setInfo({...e,description:n.target.value}),className:"form-control"})})]}),U("tr",{children:[v("td",{children:"termsOfService"}),v("td",{children:v("textarea",{rows:3,value:e.termsOfService,onChange:n=>t.setInfo({...e,termsOfService:n.target.value}),className:"form-control"})})]})]})})}function P4(){const e=so(n=>n.info.license),t=so();return v("table",{className:"table td0-tar",children:U("tbody",{children:[U("tr",{children:[v("td",{className:"w222",children:"name"}),v("td",{children:v("input",{value:e.name,onChange:n=>t.setLicense({...e,name:n.target.value}),className:"form-control",type:"text"})})]}),U("tr",{children:[v("td",{children:"url"}),v("td",{children:v("input",{value:e.url,onChange:n=>t.setLicense({...e,url:n.target.value}),className:"form-control",type:"text"})})]})]})})}function D4(){const e=so(n=>n.externalDocs),t=so();return v("table",{className:"table td0-tar",children:U("tbody",{children:[U("tr",{children:[v("td",{className:"w222",children:"url"}),v("td",{children:v("input",{value:e.url,onChange:n=>t.setExternal({...e,url:n.target.value}),className:"form-control",type:"text"})})]}),U("tr",{children:[v("td",{children:"description"}),v("td",{children:v("textarea",{rows:3,value:e.description,onChange:n=>t.setExternal({...e,description:n.target.value}),className:"form-control"})})]})]})})}var A1=(e=>(e.contact="contact",e.external="external",e.info="info",e.license="license",e))(A1||{});function L4(){const e=Object.keys(A1),[t,n]=X.exports.useState("info");function r(){if(t==="contact")return v(R4,{});if(t==="external")return v(D4,{});if(t==="info")return v(k4,{});if(t==="license")return v(P4,{})}return v("div",{className:"row",children:U("div",{className:"col offset-3",children:[U("div",{children:[v("h1",{className:"inline",children:"OpenApi 3.0"}),v(Br,{className:"ms-3",href:"https://spec.openapis.org/oas/v3.0.3#info-object",children:"doc"})]}),v(Dc,{tab:t,tabzz:e,setTab:n}),r()]})})}function z4(e,t,n,r){let i="";e.default===null||(["","''",'""'].includes(e.default)?i="''":i=e.default);const a=lA(t.id,e.name,e.type,i,e.length,n,r);return a.comment=e.comment,a.nullable=e.nullable,a.scale=e.scale,a.unsigned=e.unsigned,Di().create(a).then(c=>{const d=Ns(r==null?void 0:r.oapiType);return d.ownerColumnId=c.id,Mr().create(d).then(()=>c)})}function M4(e,t,n){return ld().create({entityId:t.id,type:e.type}).then(function(r){const i=e.columnzz.map((a,c)=>{const d=n.find(m=>m.name===a);return{indexId:r.id,columnId:d.id,sort:c+1}});return ud().createMany(i)})}function B4(e,t,n){return console.log(`createRelation ${e.name} - ${t.name}`),NG(io.OneToMany,e,t,n)}function F4(e){console.log(`createTable ${e.name}`);const t=kd.startCase(e.name).replaceAll(" ",""),n=t===e.name?"":e.name,r=rS(t,e.comment,n);return Xa().create(r)}async function U4(e){const t=kc.getState(),n=ii("ReadOnlyColumn"),r=e.tablezz.filter(c=>c.included),i=new Map;await ih().then(c=>c.tables.Entity.forEach(d=>i.set(d.table?d.table:d.name,d)));for(const c of r)await F4(c).then(d=>i.set(c.name,d));const a=new Map;for(const c of r)for(const d of c.columnzz){let m=a.get(c.name);m===void 0&&(m=[],a.set(c.name,m)),await z4(d,i.get(c.name),n,t.findByName(d.type)).then(g=>m.push(g))}for(const c of r){const d=a.get(c.name),m=new Set;for(const g of c.relationzz){g.columnzz.length===1&&m.add(g.columnzz[0]);const y=d.find(b=>b.name===g.columnzz[0]);await B4(i.get(g.schema),i.get(c.name),y.id)}for(const g of c.indexzz){if(g.columnzz.length===1&&m.has(g.columnzz[0])&&g.type==="index")break;await M4(g,i.get(c.name),a.get(c.name))}}return r.length}function W4(){const e=Bi(),t=De(),[n,r]=X.exports.useState(!1),[i,a]=X.exports.useState(),[c,d]=X.exports.useState(!1),m=new Set(e.itemzz.map(y=>y.table?y.table:y.name));function g(y,b){if(i===void 0)return;const C=i.tablezz.map(A=>Object.is(A,y)?{...A,included:b}:A);a({...i,tablezz:C})}return U("table",{className:"table",children:[v("caption",{children:v(hc,{waiting:c,onClick:function(){c||(d(!0),D$().then(y=>{d(!1),y.data.data.tablezz.forEach(b=>b.included=!1),a(y.data.data)}).catch(y=>{d(!1),t.showError(y)}))},children:"read DB tables"})}),v("thead",{children:v("tr",{children:v("td",{children:"selected"})})}),v("tbody",{children:i?i.tablezz.map(y=>v("tr",{children:v("td",{children:U("div",{className:"form-check form-switch",children:[v("input",{checked:y.included,onChange:b=>g(y,b.target.checked),className:"form-check-input",type:"checkbox",role:"switch",id:"nameSwitchCheck"+y.name}),U("label",{className:"form-check-label",htmlFor:"nameSwitchCheck"+y.name,children:[y.name,m.has(y.name)?v("span",{className:"text-danger ms-1",children:"exists"}):null]})]})})},y.name)):null}),U("tfoot",{children:[v("tr",{children:U("td",{children:[U("div",{className:"form-check form-switch inline me-3",children:[v("input",{checked:n,onChange:function(y){if(r(y.target.checked),i===void 0)return;const b=i.tablezz.map(C=>({...C,included:y.target.checked}));a({...i,tablezz:b})},className:"form-check-input",type:"checkbox",role:"switch",id:"allSwitchCheck"}),v("label",{className:"form-check-label",htmlFor:"allSwitchCheck",children:"all"})]}),v(hc,{waiting:c,onClick:function(){i!==void 0&&(c||(d(!0),U4(i).then(y=>{d(!1),t.showSuccess(`created ${y} schemas`)}).catch(y=>{d(!1),t.showError(y)})))},children:"import selected tables"})]})}),v("tr",{children:v("td",{children:U("ul",{children:[v("li",{children:"table names and column names are case sensitive."}),v("li",{children:"cannot import existed tables."}),v("li",{children:"if related tables not exist when importing a table, it will fail."}),v("li",{children:"if a table and a schema with the same name, but have different columns(foreign keys), it will fail."})]})})})]})]})}function $4(e){return v("span",{className:e.className,children:U("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-check-circle",viewBox:"0 0 16 16",children:[v("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),v("path",{d:"M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"})]})})}function q4(e){return v("span",{className:e.className,children:v("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-caret-left-fill",viewBox:"0 0 16 16",children:v("path",{d:"m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z"})})})}function j4(e){return v("span",{className:e.className,children:v("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-skip-end-fill",viewBox:"0 0 16 16",children:v("path",{d:"M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0V4z"})})})}function K4(e){return v("span",{className:e.className,children:v("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-skip-start-fill",viewBox:"0 0 16 16",children:v("path",{d:"M4 4a.5.5 0 0 1 1 0v3.248l6.267-3.636c.54-.313 1.232.066 1.232.696v7.384c0 .63-.692 1.01-1.232.697L5 8.753V12a.5.5 0 0 1-1 0V4z"})})})}function V4(e){const t=De(),[n,r]=X.exports.useState(!1);function i(a){if(!n)return r(!0),z$(a).then(c=>t.showSuccess(c.data.data)).then(e.read).catch(t.showError).then(()=>r(!1))}return U("div",{children:[U("div",{className:"mb-3",children:[n===!1?null:v("div",{className:"spinner-border text-primary",role:"status",children:v("span",{className:"visually-hidden",children:"Loading..."})}),v("button",{disabled:n||e.waiting,onClick:function(){n||(r(!0),M$().then(function(a){t.showSuccess(a.data.data)}).then(Eg).then(e.read).catch(t.showError).finally(()=>r(!1)))},className:"btn btn-outline-success me-2",type:"button",children:"diff"}),v("span",{children:"compare files in `database/Entity` with database schemas, and generate a migration file of their difference."})]}),U("div",{children:[v("button",{disabled:n||e.waiting,onClick:()=>Mi().then(a=>{if(a.isConfirmed)return i(0)}).catch(t.showError),className:"btn btn-outline-warning me-3",type:"button",children:v(K4,{})}),v("button",{disabled:n||e.waiting,onClick:()=>i(-1),className:"btn btn-outline-warning me-3",type:"button",children:v(q4,{})}),v("button",{disabled:n||e.waiting,onClick:()=>i(11),className:"btn btn-outline-warning me-2",type:"button",children:v(j4,{})}),v("span",{children:"run artisan command `migrate`"})]})]})}function G4(){const e=De(),[t,n]=X.exports.useState(c()),[r,i]=X.exports.useState(!1);let a=!1;X.exports.useEffect(()=>(d().catch(e.showError),function(){a=!0}),[]);function c(){return{dbexist:!1,filezz:[],migrationzz:[]}}function d(){return r?Promise.reject("waiting..."):(i(!0),L$().then(b=>{a||(b.data.data.migrationzz.sort((C,A)=>C.batch-A.batch),n(b.data.data))}).finally(()=>i(!1)))}const m=new Map;t.migrationzz.forEach(b=>m.set(b.migration,{...b}));const g=[...m.values()];t.filezz.forEach(b=>{const C=m.get(b.replace(".php",""));if(C){C.migration=b;return}g.push({batch:0,migration:b})}),g.reverse();function y(b){return b.migration.endsWith(".php")?U("div",{className:"btn-group",children:[v("button",{onClick:()=>Mi().then(C=>{if(C.isConfirmed)return B$(b.migration).then(Eg).then(d)}).catch(e.showError),disabled:b.batch>0,className:"btn btn-outline-primary danger",type:"button",children:"-"}),v(ys,{content:"",file:"database/migrations/"+b.migration,text:b.migration})]}):v("span",{className:"text-danger",children:b.migration})}return U("table",{className:"table",children:[v("caption",{children:v(V4,{read:d,waiting:r})}),v("thead",{children:U("tr",{children:[v("td",{children:"batch"}),v("td",{children:"migration / file"})]})}),U("tbody",{children:[g.length?null:v("tr",{children:v("td",{colSpan:2,className:"text-secondary",children:"no migration"})}),g.map(b=>U("tr",{children:[v("td",{children:b.batch===0?null:U("div",{children:[v($4,{className:"text-success me-3"}),b.batch]})}),v("td",{children:y(b)})]},b.migration))]})]})}var R1=(e=>(e.Database="Database",e.Migration="Migration",e))(R1||{});function H4(e){const t=Wl(),[n,r]=X.exports.useState("Migration"),i=Object.keys(R1);function a(){return n==="Migration"?v(G4,{}):v(W4,{})}return U(Cn,{children:[t.item===void 0?null:v("div",{className:"mb-3",children:v(da,{action:"",file:e.file,fullName:!0,entity:t.item})}),v(Dc,{tab:n,tabzz:i,setTab:r}),a()]})}function Y4(){const e=Bi(),n=Fr().find(1);return n===void 0?v("div",{children:v("span",{className:"text-danger",children:"file Entity not found"})}):U("div",{className:"row",children:[v(bg,{title:tt.Entity,itemzz:e.itemzz.filter(r=>r.isTable),useStore:Wl}),v("div",{className:"col-9 py-3 h100 overflow-auto",children:v(H4,{file:n})})]})}function Sc(e,t,n){const r=n.find(i=>i[t]===e);if(r===void 0)throw new Error(`TypeFormat ${e} not found`);return r}function J4(e,t){if(e.type===ft.WuParameter)return Kd();const n=t.get(e.wuId);return n===void 0?Kd():ao(n.name,Ri.schemas)}function Kd(){return ao("Empty",Ri.schemas)}function ao(e,t){return{$ref:`#/components/${t}/${e}`}}var Ri=(e=>(e.callbacks="callbacks",e.examples="examples",e.headers="headers",e.links="links",e.parameters="parameters",e.requestBodies="requestBodies",e.responses="responses",e.schemas="schemas",e.securitySchemes="securitySchemes",e))(Ri||{});function Q4(e){return{description:e.description,enum:e.enum,type:e.type}}function k1(e){return"__Enum__"+e}function X4(e,t,n,r,i,a,c,d,m){var E,I,N;const g=(E=d.get(e.id))!=null?E:[];if(g.length===0)return ao(e.name,Ri.schemas);if(m.length<g.length)throw new Error(`${e.name} require ${g.length} WuParameter`);const y=new Map(g.map((D,O)=>[D.id,m[O]])),b=(I=i.get(e.id))!=null?I:[],C=(N=a.get(e.id))!=null?N:[];if(C.length===0&&b.length===0&&e.isMap===!1)return Kd();const A=b.reduce(function(D,O){const z=Sc(O.id,"ownerColumnId",t);return D[O.name]=la(z,t,n,r,i,a,c,d,m,y),D},Object.create(null)),P=sb({description:e.description,properties:A});if(e.example&&(P.example=e.example),e.isRequest&&(P.required=b.map(D=>D.name)),e.isMap){const D=Sc(e.id,"ownerWuId",t);P.additionalProperties=la(D,t,n,r,i,a,c,d,m,y)}if(C.length===0)return P;const L=C.map(D=>la(D,t,n,r,i,a,c,d,m,y));return(b.length||e.isMap)&&L.push(P),aA(L,e.type)}function la(e,t,n,r,i,a,c,d,m,g){let y=b();if(e.isArray&&(y=C3(y)),e.nullable){if(tS(y)||oA(y))return y;y.nullable=e.nullable}return y;function b(){var A,P,L,E;if(e.type===ft.any)return{};if(e.type===ft.Enum){const I=r.get((A=e.variableId)!=null?A:0);if(I===void 0)throw new Error(ti("Enum",(P=e.variableId)!=null?P:""));const N=k1(I.name);return ao(N,Ri.schemas)}if(e.type===ft.WuParameter){const I=g.get((L=e.wuParameterId)!=null?L:0);return I||Kd()}if(e.type===ft.Wu){const I=(E=n.get(e.id))!=null?E:[];if(I.length){const N=c.get(e.wuId);if(N===void 0)throw new Error(ti("Wu",e.wuId));const D=I.map(O=>la(O,t,n,r,i,a,c,d,m,g));return X4(N,t,n,r,i,a,c,d,D)}return J4(e,c)}const C={format:e.format,type:e.type};return e.nullable&&(C.nullable=!0),C}}function aT(e,t,n,r,i,a,c,d,m){var b;const g=Sc(e.id,"required"in e?"ownerRequestId":"ownerResponseId",t),y={schema:la(g,t,n,r,a,c,d,m,[],new Map)};if(e.example)y.example=e.example;else{const C=("required"in e?"rb":"r")+e.id,A=(b=i.get(C))!=null?b:[];A.length&&(y.examples=A.reduce(function(P,L){return P[L.name]=ao(L.name,Ri.examples),P},Object.create(null)))}return y}function Z4(e,t,n,r,i){const a={deprecated:t.deprecated,description:t.description,explode:t.explode,required:t.required,schema:i,style:t.style};t.example&&(a.example=t.example);const c=n.get(t.entityId);if(c===void 0)return;if(c.name===tt.ParameterInHeader){r.addHeader(t.name,a);return}const d=WS(c.name);r.addParameter(P1(d,t),{...a,name:e.alias?e.alias:t.name,in:d})}function P1(e,t){return e+"-"+t.name}function sT(e,t){const n=t.get(e.entityId);if(n===void 0)return ao(e.name,Ri.parameters);if(n.name===tt.ParameterInHeader)return ao(e.name,Ri.headers);const r=WS(n.name);return ao(P1(r,e),Ri.parameters)}function D1(e,t){var i;const r=((i=t.get(e.id))!=null?i:[]).reduce(function(a,c){const d={default:c.default,description:c.description,enum:c.enum};return a[c.name]=d,a},Object.create(null));return{description:e.description,url:e.name,variables:r}}function e6(e,t,n,r,i,a,c,d,m,g,y,b,C){var D;const A={description:e.description,parameters:((D=a.get(e.id))!=null?D:[]).map(O=>sT(O,n)),summary:e.summary},P=N(1,e.id);P.length&&(A.servers=P);const L=C.get(e.moduleActionId);if(L==null||r.has(e.id)===!1)return null;return[{...L,method:e.method}].reduce(function(O,z){var ne,ae;const k=(ne=r.get(z.id))!=null?ne:[];if(k.length===0)return O;const W=k.reduce(function(de,re){return de[re.status]=ao(re.name,Ri.responses),de},Object.create(null)),j=t.get(z.moduleId),$=n.get(z.entityId),M={deprecated:z.deprecated,description:z.description,parameters:((ae=i.get(z.requestId))!=null?ae:[]).map(de=>sT(de,n)),responses:W,operationId:j.name+"_"+z.name+$.name,summary:z.summary,tags:[b]},Y=N(z.requestId,1);Y.length&&(M.servers=Y);const K=z.method;if(O[K]=M,["get","delete"].includes(z.method)||z.requestId===1)return O;const Z=d.get(z.requestId);return M.requestBody=ao(Z.name,Ri.requestBodies),O},A);function N(O,z){return m.filter(W=>W.requestId===O&&W.pathId===z).map(W=>g.get(W.serverId)).map(W=>D1(W,y))}}function t6(e,t,n,r,i,a,c){var L,E;const d=new Map,m=[],g=new Map,y=(L=i.get(e.id))!=null?L:[],b=(E=a.get(e.id))!=null?E:[];if(b.length===0&&y.length===0&&e.isMap===!1)return e.id===1?sb({}):Kd();const C=y.reduce(function(I,N){const D=Sc(N.id,"ownerColumnId",t);if(Ab(D,n))return I;const O=la(D,t,n,r,i,a,c,d,m,g);return iA(O)&&(N.ro&&(O.readOnly=!0),N.wo&&(O.writeOnly=!0)),I[N.name]=O,I},Object.create(null)),A=sb({description:e.description,properties:C});if(e.example&&(A.example=e.example),e.isRequest,e.isMap){const I=Sc(e.id,"ownerWuId",t);Ab(I,n)===!1&&(A.additionalProperties=la(I,t,n,r,i,a,c,d,m,g))}if(b.length===0)return A;const P=[];return b.forEach(I=>{P.push(la(I,t,n,r,i,a,c,d,m,g))}),(y.length||e.isMap)&&P.push(A),aA(P,e.type)}function Ab(e,t){var r;return!!(e.type===ft.WuParameter||((r=t.get(e.id))!=null?r:[]).find(i=>Ab(i,t)))}function n6(e,t){const n=bc.create({...bc.create().getSpec(),info:e.info,externalDocs:e.externalDocs}),r=new Map;t.tables.Example.forEach(K=>{r.set(K.id,K),n.addExample(K.name,{description:K.description,summary:K.summary,value:K.value})});const i=Qr(t.tables.Entity),a=Qr(t.tables.Column),c=Qr(t.tables.Module),d=Qr(t.tables.Variable),m=t.tables.TypeFormat,g=Cl(t.tables.TypeFormat,"ownerId");t.tables.Variable.forEach(K=>n.addSchema(k1(K.name),Q4(K)));const y=new Map;t.tables.WuColumn.forEach(K=>{let Z=y.get(K.wuId);Z===void 0&&(Z=[],y.set(K.wuId,Z));const ne=a.get(K.columnId);let ae=ne.name;K.alias&&(ae=K.alias),Z.push({...ne,name:ae})});const b=Qr(t.tables.Wu),C=Cl(t.tables.TypeFormat,"ownerWuChildId"),A=Cl(t.tables.WuParameter,"wuId"),P=new Map,L=new Map,E=new Map;t.tables.ParameterMap.forEach(K=>{if(K.pathId){I(P,K,K.pathId);return}if(K.requestId){I(E,K,K.requestId);return}if(K.responseId){I(L,K,K.responseId);return}});function I(K,Z,ne){let ae=K.get(ne);ae===void 0&&(ae=[],K.set(ne,ae));const de=a.get(Z.columnId);de&&ae.push(de)}const N=new Map;t.tables.ExampleMap.forEach(K=>{const Z=K.requestId?"rb"+K.requestId:"r"+K.responseId;let ne=N.get(Z);ne===void 0&&(ne=[],N.set(Z,ne));const ae=r.get(K.exampleId);ae&&ne.push(ae)}),t.tables.Wu.forEach(K=>{var ne;((ne=A.get(K.id))!=null?ne:[]).length||n.addSchema(K.name,t6(K,m,g,d,y,C,b))}),t.tables.ParameterMap.forEach(K=>{const Z=a.get(K.columnId);if(Z===void 0)return;const ne=Sc(Z.id,"ownerColumnId",m);Z4(K,Z,i,n,la(ne,m,g,d,y,C,b,A,[],new Map))}),t.tables.Request.forEach(K=>{n.addRequestBody(K.name,{content:{[K.mediaType]:aT(K,m,g,d,N,y,C,b,A)},description:K.description,required:K.required})}),t.tables.Response.forEach(K=>{var Z;n.addResponse(K.name,{content:{[K.mediaType]:aT(K,m,g,d,N,y,C,b,A)},description:K.description,headers:((Z=L.get(K.id))!=null?Z:[]).reduce(function(ne,ae){return ne[ae.name]=ao(ae.name,Ri.headers),ne},Object.create(null))})});const D=Qr(t.tables.Request),O=Qr(t.tables.Response),z=new Map;t.tables.ModuleActionResponse.forEach(K=>{let Z=z.get(K.moduleActionId);Z===void 0&&(Z=[],z.set(K.moduleActionId,Z));const ne=O.get(K.responseId);ne&&Z.push({...K,name:ne.name})});const k=Qr(t.tables.ModuleAction),W=new Map,j=new Map;t.tables.ServerVariable.forEach(K=>{let Z=j.get(K.serverId);Z===void 0&&(Z=[],j.set(K.serverId,Z));const ne=d.get(K.variableId);ne&&Z.push(ne)});const $=new Map;t.tables.Server.forEach(K=>{$.set(K.id,K),K.global&&n.addServer(D1(K,j))});const M=new Set,Y=[...t.tables.Path];return Y.sort((K,Z)=>K.name.localeCompare(Z.name)),Y.forEach(K=>{var ae;const Z=i.get(K.entityId),ne=e6(K,c,i,z,E,P,W,D,t.tables.ServerMap,$,j,(ae=Z==null?void 0:Z.name)!=null?ae:"not found",k);ne!==null&&(Z&&M.add(Z.name),n.addPath(K.name,ne))}),Array.from(M).sort((K,Z)=>K.localeCompare(Z)).forEach(K=>n.addTag({name:K})),n}function r6(){const e=so(),[t,n]=X.exports.useState("");return U("div",{children:[U("div",{className:"mb-3",children:[v("h1",{className:"inline",children:"OpenApi 3.0"}),v(Br,{className:"ms-3",href:"https://spec.openapis.org/oas/v3.0.3",children:"doc"}),v(Br,{className:"ms-3",href:"https://editor.swagger.io/",children:"editor"}),v("button",{onClick:()=>ih().then(function(r){const i=n6(e,r);n(i.getSpecAsJson())}),className:"btn btn-outline-primary ms-3",type:"button",children:"toJSON"})]}),v("div",{className:"mb-3",children:v("textarea",{className:"form-control",readOnly:!0,rows:11,value:t})})]})}const Up=gt(function(e){return co(e)});function i6(e){const t=Up(),n=De(),i=Fi().itemzz.find(c=>c.ownerColumnId===e.item.id);function a(c){t.setItem(c),Di().update(c).then(t.setItem).catch(n.showError)}return v("table",{className:"table td0-tar",children:U("tbody",{children:[U("tr",{children:[v("td",{className:"w111",children:"type"}),v("td",{children:v(wh,{id:e.item.id,item:i})})]}),U("tr",{children:[v("td",{children:"deprecated"}),v("td",{children:U("div",{className:"form-check form-switch",children:[v("input",{checked:e.item.deprecated,onChange:c=>a({...e.item,deprecated:c.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"deprecatedSwitchCheck"+e.item.id}),v("label",{className:"form-check-label",htmlFor:"deprecatedSwitchCheck"+e.item.id})]})})]}),U("tr",{children:[v("td",{children:"explode"}),v("td",{children:U("div",{className:"form-check form-switch",children:[v("input",{checked:e.item.explode,onChange:c=>a({...e.item,explode:c.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"explodeSwitchCheck"+e.item.id}),v("label",{className:"form-check-label",htmlFor:"explodeSwitchCheck"+e.item.id})]})})]}),U("tr",{children:[v("td",{children:"required"}),v("td",{children:U("div",{className:"form-check form-switch",children:[v("input",{checked:e.item.required,onChange:c=>a({...e.item,required:c.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"requiredSwitchCheck"+e.item.id}),v("label",{className:"form-check-label",htmlFor:"requiredSwitchCheck"+e.item.id})]})})]}),U("tr",{children:[v("td",{children:"style"}),v("td",{children:v(oi,{className:"wa",itemzz:y3,value:e.item.style,change:function(c){a({...e.item,style:c})}})})]}),U("tr",{children:[U("td",{children:[v("span",{children:"constraint"}),v("br",{}),v(Br,{href:"https://laravel.com/docs/9.x/validation",children:"doc"})]}),v("td",{children:v(UR,{column:e.item,constraintzz:e.constraintzz})})]}),U("tr",{children:[v("td",{children:"example"}),v("td",{children:v("textarea",{value:e.item.example,onChange:c=>a({...e.item,example:c.target.value}),className:"form-control"})})]})]})})}function o6(e){const t=ui(),n=Bi(),r=Up(),i=De(),[a,c]=X.exports.useState([]),d=ii("ValidationRule"),m=n.findByName(e.page);if(m===void 0)return null;const g="Please input the name";X.exports.useEffect(()=>{r.setItem()},[e.page]),X.exports.useEffect(()=>{c(t.itemzz.filter(b=>b.entityId===m.id).sort((b,C)=>b.name.localeCompare(C.name)))},[e.page,t.itemzz]);function y(b){if(m===void 0)return null;let C="form";return[tt.ParameterInHeader,tt.ParameterInPath].includes(m.name)&&(C="simple"),Pc(m.id,b,ft.string,"",333,C).catch(i.showError)}return U("div",{className:"row",children:[v(bg,{title:e.page.includes("ParameterIn")?e.page.replace("ParameterIn",""):e.page,button:v("button",{onClick:function(){Fn(g,"").then(b=>{if(b.isConfirmed&&b.value)return y(b.value)}).catch(i.showError)},className:"btn btn-outline-primary",type:"button",children:"+"}),itemzz:a,useStore:Up}),v("div",{className:"col-9 py-3 h100 overflow-auto",children:r.item===void 0?null:U(Cn,{children:[v(J0,{item:r.item,makeCRUD:Di,message:g,showDialog:Fn,useItemPageStore:Up}),v(i6,{constraintzz:d,item:r.item})]})})]})}function a6(){const e=cg();function t(r){return U("li",{className:"nav-item",children:[n(r," nav-link"+(r.childzz.length?" dropdown-toggle":"")),r.childzz.length===0?null:v("ul",{className:"dropdown-menu",children:r.childzz.map(i=>v("li",{children:n(i," dropdown-item")},i.path))})]},r.path)}function n(r,i){return v(tW,{to:r.path,className:({isActive:a})=>(a?"active ":"")+i,children:r.name})}return v("nav",{className:"navbar navbar-expand navbar-dark bg-primary",children:U("div",{className:"container-fluid",children:[v("a",{className:"navbar-brand",children:"LB"}),e.connected?v("ul",{className:"navbar-nav me-auto",children:sW.filter(r=>r.visible).map(r=>t(r))}):null]})})}function s6(){const e=De();return v("div",{className:"toast-container position-fixed bottom-0 mb-3 pb-3 end-0 me-3",children:e.list.map(t=>v("div",{className:t.color+" toast show align-items-center",children:U("div",{className:"d-flex",children:[v("div",{className:"toast-body",children:t.text}),v("button",{onClick:()=>e.dismiss(t.id),className:"btn-close me-2 m-auto",type:"button"})]})},t.id))})}const Wp=gt(function(e){return co(e)});function l6(e){const t=MS(),n=De(),[r,i]=X.exports.useState([]);X.exports.useEffect(()=>{a()},[e.requestId,e.responseId]);function a(){Ly().findAll().then(c=>i(c.filter(d=>d.requestId===e.requestId&&d.responseId===e.responseId))).catch(n.showError)}return v(VS,{fieldName:"exampleId",itemzz:r,source:t.itemzz,create:function(c){return Ly().create({exampleId:c,requestId:e.requestId,responseId:e.responseId}).then(()=>a())},delete:function(c){return Ly().delete(c).then(()=>a())}})}function L1(e){var a,c;const t=Fi(),n=ii("MediaType"),r=(c=(a=n.find(d=>d.name===e.item.mediaType))==null?void 0:a.id)!=null?c:0,i=t.itemzz.find(d=>(e.isRequest?d.ownerRequestId:d.ownerResponseId)===e.item.id);return U("table",{className:"table td0-tar",children:[e.caption,U("tbody",{children:[U("tr",{children:[v("td",{children:"color"}),v("td",{children:v(po,{color:e.item.color,setColor:d=>e.update({...e.item,color:d})})})]}),e.children,U("tr",{children:[v("td",{className:"w111",children:"MediaType"}),v("td",{children:v(Tn,{className:"wa",itemzz:n,value:r,change:function(d,m){var g;e.update({...e.item,mediaType:(g=m==null?void 0:m.name)!=null?g:""})}})})]}),U("tr",{children:[v("td",{children:"content"}),v("td",{children:v(wh,{id:e.item.id,item:i})})]}),U("tr",{children:[v("td",{children:"examples"}),v("td",{children:v(l6,{requestId:e.isRequest?e.item.id:null,responseId:e.isRequest?null:e.item.id})})]}),U("tr",{children:[v("td",{children:"example"}),v("td",{children:v("textarea",{rows:3,value:e.item.example,onChange:d=>e.update({...e.item,example:d.target.value}),className:"form-control"})})]})]})]})}function u6(e){const t=Wp(),n=De();function r(i){t.setItem(i),gg().update(i).then(a=>t.setItem(a)).catch(n.showError)}return v(L1,{item:e.item,isRequest:!0,update:r,children:U("tr",{children:[v("td",{children:"required"}),v("td",{children:U("div",{className:"form-check form-switch",children:[v("input",{checked:e.item.required,onChange:i=>r({...e.item,required:i.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"requiredSwitchCheck"+e.item.id}),v("label",{className:"form-check-label",htmlFor:"requiredSwitchCheck"+e.item.id})]})})]})})}function c6(){const e=Wp(),t=US();return U("div",{className:"row",children:[v(bg,{title:tt.Request,itemzz:t.itemzz,useStore:Wp}),v("div",{className:"col-9 py-3 h100 overflow-auto",children:e.item?U(Cn,{children:[v(J0,{item:e.item,makeCRUD:gg,message:`Please input the ${tt.Request} name`,showDialog:Fn,useItemPageStore:Wp,validateName:!1,onDeleteBefore:function(){return e.setItem(void 0),Lo().updateManyColumn(Pt(Mt.Request),1,e.item.id)}}),v(u6,{item:e.item})]}):void 0})]})}const lT=gt(function(e){return co(e)});function f6(e){return v(L1,{caption:e.caption,item:e.item,isRequest:!1,update:e.update,children:U("tr",{children:[v("td",{children:"header"}),v("td",{children:v($S,{responseId:e.item.id})})]})})}function d6(){const e=lT(),t=De();function n(r){e.setItem(r),Im().update(r).then(i=>e.setItem(i)).catch(t.showError)}return v("div",{className:"row",children:v(Ul,{makeCRUD:Im,useItemPageStore:lT,useItemzzStore:jg,title:tt.Response,validateName:!1,children:e.item?v(f6,{item:e.item,update:n}):void 0})})}function h6(e){const t=yh(),n=De(),[r,i]=X.exports.useState(e.item),[a,c]=X.exports.useState([]);X.exports.useEffect(()=>{d()},[]);function d(){My().findAll().then(g=>c(g.filter(y=>y.serverId===e.item.id))).catch(n.showError)}function m(g){i(g),Nm().update(g).then(i).catch(n.showError)}return U("tr",{children:[U("td",{children:[U("div",{children:[U("div",{className:"form-check form-switch inline",children:[v("input",{checked:e.item.global,onChange:g=>m({...e.item,global:g.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"globalSwitchCheck"+e.item.id}),v("label",{className:"form-check-label",htmlFor:"globalSwitchCheck"+e.item.id})]}),v(qg,{className:"ms-1",name:r.name,onChange:function(){Fn("Please input server URI",r.name).then(g=>{g.isConfirmed&&m({...r,name:g.value})})},onDelete:function(g){g&&Nm().delete(r.id).catch(n.showError)}})]}),v("input",{value:r.description,onChange:g=>m({...r,description:g.target.value}),className:"form-control mt-1",placeholder:"description",type:"text"})]}),v("td",{children:v(VS,{fieldName:"variableId",itemzz:a,source:t.itemzz,create:function(g){return My().create({serverId:r.id,variableId:g}).then(()=>d())},delete:function(g){return My().delete(g).then(()=>d())}})})]})}function p6(){const e=KS(),t=De();return v("div",{className:"row",children:v("div",{className:"col",children:U("table",{className:"table",children:[U("caption",{children:[v("h1",{className:"inline me-3",children:tt.Server}),v("button",{onClick:function(){Fn("Please input server URI","https://").then(n=>{if(n.isConfirmed){const r=fo(n.value);return r.global=!0,Nm().create(r)}}).catch(t.showError)},className:"btn btn-outline-primary",type:"button",children:"+"}),v(Br,{className:"ms-3",href:"https://spec.openapis.org/oas/v3.0.3#server-object",children:"doc"})]}),v("thead",{children:U("tr",{children:[v("th",{children:"global / URI"}),v("th",{children:"variable"})]})}),v("tbody",{children:e.itemzz.map(n=>v(h6,{item:n},n.id))}),v("tfoot",{children:v("tr",{children:U("td",{colSpan:2,children:["only global servers will be added to `servers` object of OpenApi document.",v("br",{}),"non-global servers are for path / operation."]})})})]})})})}function m6(){const e=De();return U("table",{className:"table",children:[U("caption",{children:[v("h1",{className:"inline",children:tt.Toast}),v("span",{className:"ms-3",children:e.itemzz.length})]}),v("tbody",{children:e.itemzz.slice().reverse().map(t=>v(g6,{item:t},t.id))})]})}function g6(e){const[t,n]=X.exports.useState(!1);return U("tr",{children:[v("td",{children:e.item.date.toISOString().replace("T"," ").slice(0,19)}),U("td",{children:[v("div",{onClick:()=>n(!0),className:"pointer",children:e.item.text}),t?U("div",{children:[v("div",{children:v("button",{className:"btn btn-outline-primary",type:"button",onClick:()=>n(!1),children:"hide"})}),e.item.detail]}):null]})]})}const ql=gt(function(e){return{color:Ln.white,directoryId:0,fileId:0,keyword:"",hide(){e({directoryId:0,fileId:0})},search(n){e({directoryId:0,fileId:0,keyword:n})},setColor(n){e({directoryId:0,fileId:0,color:n})},showDirectory(n){e({directoryId:n,fileId:0})},showFile(n){e({directoryId:0,fileId:n})}}});function z1(e,t){return{parentId:e,name:t,opened:!0,description:""}}function M1(e,t){let n=e;return e.includes(".")===!1&&(n=n+".php"),{directoryId:t,name:e,color:Ln.white,isSingle:!1,layer:"",description:"",nameSpacePattern:"",fileNamePattern:n}}function v6(e){return v("div",{children:e.itemzz.map(t=>v(F1,{item:t},t.id))})}function B1(e){const t=ql();return U("div",{children:[v("span",{className:"text-primary",children:"|"}),v("button",{onClick:()=>t.showFile(e.item.id),className:"button"+(e.item.id===t.fileId?" active":""),type:"button",children:e.item.name})]})}function y6(e){return v("div",{children:e.itemzz.map(t=>v(B1,{item:t},t.id))})}function F1(e){const t=Fr(),n=ho(),r=ql(),i=De(),[a,c]=X.exports.useState([]),[d,m]=X.exports.useState([]);X.exports.useEffect(()=>{c(n.itemzz.filter(b=>b.parentId===e.item.id).sort((b,C)=>b.name.localeCompare(C.name)))},[n.itemzz]),X.exports.useEffect(()=>{m(t.itemzz.filter(b=>b.directoryId===e.item.id).sort((b,C)=>b.name.localeCompare(C.name)))},[t.itemzz]);function g(){Fn("Please input the Directory name","").then(b=>{if(b.isConfirmed){const C=z1(e.item.id,b.value);return Ld().create(C).then(()=>i.showOK())}}).catch(i.showError)}function y(){Fn("Please input the File name","").then(b=>{if(b.isConfirmed){const C=M1(b.value,e.item.id);return Cm().create(C).then(()=>i.showOK())}}).catch(i.showError)}return U("div",{children:[U("div",{className:"hover-group my-1",children:[v("span",{className:"text-warning",children:"|"}),v("button",{onClick:()=>{r.showDirectory(e.item.id),e.item.parentId!==null&&r.directoryId===e.item.id&&Ld().update({...e.item,opened:!e.item.opened}).then(b=>n.setItem({...e.item,...b})).catch(i.showError)},className:"button yellow"+(e.item.id===r.directoryId?" active":""),type:"button",children:e.item.name}),v("span",{className:"text-secondary mx-1",children:a.length+d.length}),U("span",{className:"hover-item",children:[v("button",{onClick:g,className:"button yellow mx-1",type:"button",children:"+"}),v("button",{onClick:y,className:"button",type:"button",children:"+"})]})]}),e.item.opened?U("div",{className:"ms-4",children:[v(v6,{parentId:e.item.id,itemzz:a}),v(y6,{directoryId:e.item.id,itemzz:d})]}):null]})}function w6(e,t){const n=new Map;e.forEach(i=>{n.set(i.id,[])}),e.forEach(i=>{const a=n.get(i.parentId);a&&a.push(i)});const r=[];return U1(n,t,r),r}function U1(e,t,n){const r=e.get(t);r&&r.forEach(i=>{n.push(i),U1(e,i.id,n)})}function b6(){const e=ho(),t=ql(),n=De(),[r,i]=X.exports.useState();if(X.exports.useEffect(()=>{t.directoryId!==0&&i(e.find(t.directoryId))},[t.directoryId,e.itemzz]),t.directoryId===0||r===void 0)return null;function a(c){i(c),Ld().update(c).then(i).catch(n.showError)}return v("table",{className:"table table-borderless td0-tar",children:U("tbody",{children:[U("tr",{children:[v("td",{style:{width:"222px"},children:"id"}),v("td",{children:r.id})]}),U("tr",{children:[v("td",{children:"name"}),v("td",{children:U("div",{className:"btn-group",children:[r.parentId===null?null:v("button",{onClick:()=>Mi("Delete all included directories and files. Continue?").then(c=>{if(c.isConfirmed){t.hide();const d=w6(e.itemzz,r.id).map(m=>m.id);return d.push(r.id),Ld().deleteMany(d).then(()=>n.showOK())}}).catch(n.showError),className:"btn btn-outline-primary danger",type:"button",children:"-"}),v("button",{onClick:()=>Fn("Please input the directory name",r.name).then(c=>{c.isConfirmed&&a({...r,name:c.value})}),className:"btn btn-outline-primary",type:"button",children:r.name})]})})]}),U("tr",{children:[v("td",{children:"description"}),v("td",{children:v("textarea",{className:"form-control",value:r.description,rows:3,onChange:c=>a({...r,description:c.target.value})})})]})]})})}function S6(){const e=Bi.getState().itemzz[0],t=Fr(),n=ql(),r=De(),[i,a]=X.exports.useState();if(X.exports.useEffect(()=>{n.fileId!==0&&a(t.find(n.fileId))},[n.fileId,t.itemzz]),n.fileId===0||i===void 0)return null;function c(d){a(d),Cm().update(d).then(a).catch(r.showError)}return v("table",{className:"table table-borderless td0-tar",children:U("tbody",{children:[U("tr",{children:[v("td",{style:{width:"222px"},children:"id"}),v("td",{children:i.id})]}),U("tr",{children:[v("td",{children:"name"}),v("td",{children:U("div",{className:"btn-group",children:[v("button",{onClick:()=>Mi().then(d=>{if(d.isConfirmed)return n.hide(),Cm().delete(i.id).then(()=>r.showOK())}).catch(r.showError),className:"btn btn-outline-primary danger",type:"button",children:"-"}),v("button",{onClick:()=>Fn("Please input the file name",i.name).then(d=>{d.isConfirmed&&c({...i,name:d.value})}),className:"btn btn-outline-primary",type:"button",children:i.name})]})})]}),U("tr",{children:[v("td",{children:"color"}),v("td",{children:v(po,{color:i.color,setColor:d=>c({...i,color:d})})})]}),U("tr",{children:[v("td",{children:"isSingle"}),U("td",{children:[U("div",{className:"form-check form-switch",children:[v("input",{checked:i.isSingle,onChange:d=>c({...i,isSingle:d.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"isSingleSwitchCheck"+i.id}),v("label",{className:"form-check-label",htmlFor:"isSingleSwitchCheck"+i.id})]}),i.isSingle?v(da,{action:"",file:i,entity:e}):null]})]}),U("tr",{children:[v("td",{children:"layer"}),v("td",{children:v(oi,{allowEmpty:!0,className:"wa",itemzz:hA,value:i.layer,change:function(d){c({...i,layer:d})}})})]}),U("tr",{children:[v("td",{children:"nameSpacePattern"}),v("td",{children:v("input",{value:i.nameSpacePattern,onChange:d=>c({...i,nameSpacePattern:d.target.value}),className:"form-control",type:"text"})})]}),U("tr",{children:[v("td",{children:"fileNamePattern"}),v("td",{children:v("input",{value:i.fileNamePattern,onChange:d=>c({...i,fileNamePattern:d.target.value}),className:"form-control",type:"text"})})]}),U("tr",{children:[v("td",{children:"description"}),v("td",{children:v("textarea",{className:"form-control",value:i.description,onChange:d=>c({...i,description:d.target.value})})})]}),U("tr",{children:[v("td",{children:"script"}),v("td",{children:v(ys,{file:fc(cc(i,$0)),content:Ht.ScriptCode})})]}),U("tr",{children:[v("td",{children:"template"}),v("td",{children:v(ys,{file:fc(cc(i,q0)),content:""})})]})]})})}function E6(){return ql(),X.exports.useState("Property"),v(S6,{})}function C6(){const e=ho(),t=Fr(),n=ql(),[r,i]=X.exports.useState([]),[a,c]=X.exports.useState();X.exports.useEffect(()=>{const g=e.itemzz.find(y=>y.parentId===null);g&&c(g)},[t.itemzz]),X.exports.useEffect(()=>{i(d())},[n.color,n.keyword]);function d(){return n.keyword===""&&n.color===Ln.white?[]:n.color===Ln.white?t.itemzz.filter(g=>g.name.includes(n.keyword)):n.keyword===""?t.itemzz.filter(g=>g.color===n.color):t.itemzz.filter(g=>g.color===n.color&&g.name.includes(n.keyword))}function m(){return n.keyword===""&&n.color===Ln.white?a?v(F1,{item:a}):null:r.map(g=>v(B1,{item:g},g.id))}return U("div",{className:"row",children:[U("div",{className:"col-5 py-3 h100 overflow-auto",children:[U("div",{className:"d-flex align-items-center justify-content-center",children:[v("h1",{className:"inline",children:tt.Tree}),v(X0,{color:n.color,setColor:n.setColor,className:"mx-1"})]}),v("input",{value:n.keyword,onChange:g=>n.search(g.target.value),className:"form-control",type:"text"}),m()]}),U("div",{className:"col-7 py-3 h100 overflow-auto",children:[n.directoryId?v(b6,{}):null,n.fileId?v(E6,{}):null]})]})}function I6(e){const t=De();return U("ul",{className:"list-unstyled",children:[v("li",{className:"mb-1",children:v("button",{className:"btn btn-outline-primary",type:"button",onClick:function(){Fn("Please input a value","").then(n=>{if(n.isConfirmed&&n.value){if(e.item.enum.includes(n.value)){t.showDanger(`${n.value} exists`);return}const r=[...e.item.enum];r.push(n.value),r.sort(),e.update({...e.item,enum:r})}}).catch(t.showError)},children:"+"})}),e.item.enum.map(n=>v("li",{className:"mb-1",children:U("button",{className:"btn btn-outline-danger",type:"button",onClick:function(){const r=[...e.item.enum],i=r.indexOf(n);i!==-1&&(r.splice(i,1),e.update({...e.item,enum:r}))},children:["- ",n]})},n))]})}function N6(e){const t=Fr().findByName("Enum");if(t===void 0)return De().showDanger("Enum file not found"),null;function n(r){xm().update(r).catch(De.getState().showError)}return v("table",{className:"table td0-tar",children:U("tbody",{children:[U("tr",{children:[v("td",{children:"color"}),v("td",{children:v(po,{color:e.item.color,setColor:r=>n({...e.item,color:r})})})]}),U("tr",{children:[v("td",{children:"type"}),v("td",{children:v(oi,{className:"wa",itemzz:m3,value:e.item.type,change:function(r){n({...e.item,type:r})}})})]}),U("tr",{children:[v("td",{children:"default"}),v("td",{children:v(oi,{className:"wa",itemzz:e.item.enum,value:e.item.default,change:function(r){n({...e.item,default:r})}})})]}),U("tr",{children:[v("td",{children:"enum"}),v("td",{children:v(I6,{item:e.item,update:n})})]}),U("tr",{children:[v("td",{}),v("td",{children:v(da,{action:"",file:t,entity:e.item})})]})]})})}function x6(e){return{...fo(e),default:"",enum:[],type:"string"}}const uT=gt(function(e){return co(e)});function T6(){const e=uT(),t=De();return v("div",{className:"row",children:v(Ul,{makeCRUD:xm,useItemPageStore:uT,useItemzzStore:yh,title:tt.Enum,validateName:!1,onCreate:function(n){xm().create(x6(n)).catch(t.showError)},children:e.item?v(N6,{item:e.item}):void 0})})}const pE=gt(function(e){return{...co(e),tab:"Column"}});function _6(e){const t=De(),n=Fi(),r=pE(),i=n.itemzz.find(c=>c.ownerWuId===e.item.id);function a(c){r.setItem(c),_l().update(c).then(d=>r.setItem(d)).catch(t.showError)}return U("table",{className:"table td0-tar",children:[U("caption",{children:[v("h3",{className:"inline me-3",children:"Map"}),U("div",{className:"form-check form-switch inline",children:[v("input",{checked:e.item.isMap,onChange:function(c){a({...e.item,isMap:c.target.checked})},className:"form-check-input",type:"checkbox",role:"switch",id:"isMapSwitchCheck"}),v("label",{className:"form-check-label",htmlFor:"isMapSwitchCheck",children:"isMap"})]}),v(Br,{className:"ms-3",href:"https://spec.openapis.org/oas/v3.0.3#model-with-map-dictionary-properties",children:"doc"})]}),U("tbody",{children:[U("tr",{children:[v("td",{children:"color"}),v("td",{children:v(po,{color:e.item.color,setColor:c=>a({...e.item,color:c})})})]}),U("tr",{children:[v("td",{}),v("td",{children:"Map<string, value type>"})]}),U("tr",{children:[v("td",{children:"value type"}),v("td",{children:v(wh,{id:e.item.id,item:i,wuId:e.item.id})})]}),U("tr",{children:[v("td",{children:"example"}),v("td",{children:v("textarea",{value:e.item.example,onChange:c=>a({...e.item,example:c.target.value}),className:"form-control",rows:3})})]})]})]})}function O6(e){const t=_s(),[n,r]=X.exports.useState([]);return X.exports.useEffect(()=>{r(t.itemzz.filter(function(i){return i.wuId===e.wuId?e.isWu?i.isWu:!0:!1}))},[e.wuId,t.itemzz]),v(Tn,{className:"inline wa",itemzz:n,value:0,verb:ft.WuParameter,change:i=>{const a=t.find(i);a!==void 0&&e.add(a)}})}function A6(e){const t=ui(),n=De(),r=Fi(),i=vh(),a=new Set;i.itemzz.forEach(g=>g.wuId===e.tf.wuId?a.add(g.columnId):null);const c=t.itemzz.filter(g=>a.has(g.id));if(c.length===0)return v("tr",{children:v("td",{colSpan:3,children:m()})});function d(g){const y=r.itemzz.find(b=>b.ownerColumnId===g.id);return y===void 0?v("span",{children:ti("TypeFormat","")}):U("span",{children:[y.type,y.isArray?"[]":""]})}function m(){return U(Cn,{children:[v("div",{children:U("button",{className:"btn btn-outline-danger",type:"button",onClick:function(){Mr().delete(e.tf.id).catch(n.showError)},children:["- ",e.wu.name]})}),v(XR,{item:e.tf,wuId:e.wu.id})]})}return v(Cn,{children:c.map((g,y)=>U("tr",{children:[y===0?v("td",{rowSpan:c.length,children:m()}):null,v("td",{children:g.name}),v("td",{children:d(g)})]},g.id))})}function R6(e){const t=De(),n=Fi(),r=_s(),i=bs(),[a,c]=X.exports.useState([]);X.exports.useEffect(()=>{c(n.itemzz.filter(g=>g.ownerWuChildId===e.item.id))},[e.item,n.itemzz]);function d(g,y=1,b=null){const C=Ns(g,y,b);return C.ownerWuChildId=e.item.id,Mr().create(C).then(function(A){if(g===ft.Wu)return qS(y,A.id)}).catch(t.showError)}function m(){return a.map(g=>{var b;if(g.type===ft.Wu){const C=i.find(g.wuId);return C===void 0?v("tr",{children:v("td",{colSpan:3,children:ti("Wu",g.wuId)})}):v(A6,{tf:g,wu:C},g.id)}const y=r.find((b=g.wuParameterId)!=null?b:0);return y===void 0?v("tr",{children:v("td",{colSpan:3,children:ti("WuParameter","")})}):U("tr",{children:[v("td",{children:U("button",{className:"btn btn-outline-danger",type:"button",onClick:function(){Mr().delete(g.id).catch(t.showError)},children:["- ",y.name]})}),v("td",{}),v("td",{})]},g.id)})}return v("div",{children:U("table",{className:"table",children:[U("caption",{children:[v("h3",{className:"inline me-3",children:"Composition"}),v(oi,{className:"inline wa",itemzz:nA,value:e.item.type,change:function(g){_l().update({...e.item,type:g}).catch(t.showError)}}),v(Br,{className:"ms-3",href:"https://spec.openapis.org/oas/v3.0.3#models-with-polymorphism-support",children:"doc"})]}),v("thead",{children:U("tr",{children:[v("th",{}),v("th",{children:"column"}),v("th",{children:"type"})]})}),v("tbody",{children:m()}),U("tfoot",{children:[U("tr",{children:[v("td",{children:v(Tn,{className:"form-select",itemzz:i.itemzz,value:0,verb:"Wu",change:g=>{const y=i.find(g);if(y!==void 0){if(y.id===e.item.id){t.showDanger("Including self will cause circular reference error");return}d(ft.Wu,y.id)}}})}),v("td",{children:v(O6,{add:g=>d(ft.WuParameter,1,g.id),isWu:!0,wuId:e.item.id})}),v("td",{})]}),v("tr",{children:v("td",{colSpan:3,children:v("span",{className:"text-danger",children:"Be careful of circular reference"})})})]})]})})}function k6(e,t){return{wuId:e,name:t,description:"",isWu:!1}}function P6(e){const t=De();function n(r){Tm().update(r).catch(t.showError)}return U("tr",{children:[v("td",{children:U("div",{className:"btn-group",children:[v("span",{onClick:()=>Mi().then(r=>{if(r.isConfirmed)return Tm().delete(e.item.id)}).catch(t.showError),className:"btn btn-outline-primary danger",children:"-"}),v("span",{onClick:()=>Is("Please input the Parameter name",e.item.name).then(r=>{if(r.isConfirmed)return n({...e.item,name:r.value})}).catch(t.showError),className:"btn btn-outline-primary",children:e.item.name})]})}),v("td",{children:U("div",{className:"form-check form-switch",children:[v("input",{checked:e.item.isWu,onChange:r=>n({...e.item,isWu:r.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"isWuSwitchCheck"+e.item.id}),v("label",{className:"form-check-label",htmlFor:"isWuSwitchCheck"+e.item.id})]})}),v("td",{children:v("input",{onChange:r=>n({...e.item,description:r.target.value}),type:"text",placeholder:"description",className:"form-control"})})]})}function D6(e){const t=De(),n=_s(),[r,i]=X.exports.useState([]);return X.exports.useEffect(()=>{i(n.itemzz.filter(a=>a.wuId===e.item.id))},[e.item,n.itemzz]),U("table",{className:"table",children:[U("caption",{children:[v("h3",{className:"inline",children:"WuParameter"}),v("span",{onClick:()=>{Is("Please input the WuParameter name","").then(a=>{if(a.isConfirmed&&a.value)return Tm().create(k6(e.item.id,a.value))}).catch(t.showError)},className:"btn btn-outline-primary mx-1",children:"+"})]}),v("thead",{children:U("tr",{children:[v("td",{children:"name"}),v("td",{children:"isWu"}),v("td",{children:"description"})]})}),v("tbody",{children:r.map(a=>v(P6,{item:a},a.id))})]})}function L6(){const e=pE();if(e.item===void 0)return null;const t=["Column","Composition","Map","WuParameter"];return U(Cn,{children:[v(Dc,{tab:e.tab,tabzz:t,setTab:e.setTab}),e.tab===t[0]?v(jS,{item:e.item}):null,e.tab===t[1]?v(R6,{item:e.item}):null,e.tab===t[2]?v(_6,{item:e.item}):null,e.tab===t[3]?v(D6,{item:e.item}):null]})}function z6(){const e=$l(),t=Bi(),n=De(),r=bs();return v("div",{className:"row",children:v(Ul,{makeCRUD:_l,onCreateClick:function(){e.openCB("Please select a Entity",t.itemzz.map(i=>i.name),function(i){const a=t.findByName(i);if(a){let c=a.name;return r.findByName(c)&&(c+="-"+new Date().getTime()),_l().create(YR(c,a.id)).then(d=>{const m=Ns();return m.ownerWuId=d.id,Mr().create(m)}).catch(n.showError)}})},useItemPageStore:pE,useItemzzStore:bs,title:tt.Wu,children:v(L6,{})})})}function M6(){return vg.fire({allowEscapeKey:!1,allowOutsideClick:!1,cancelButtonColor:"#ccc",confirmButtonColor:"#09f",input:"textarea",inputValue:Ob.getState().note,showCancelButton:!0,text:"note",width:"88%"}).then(function(e){e.isConfirmed&&Ob.setState({note:e.value})}).catch(De.getState().showError)}function B6(){const e=$l(),[t,n]=X.exports.useState(e.text);X.exports.useEffect(()=>{n(e.text)},[e.text]);const r=Q0(t);return U(th,{isOpen:e.isOpen,onRequestClose:e.close,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:[v("h3",{children:e.title}),v("div",{className:"mb-3",children:v("input",{value:t,onChange:function(i){n(i.target.value),e.setText(i.target.value)},autoFocus:!0,type:"text",className:"form-control"})}),v("ul",{className:"list-group",children:e.namezz.filter(i=>i.match(r)).map(i=>v("li",{onClick:function(){e.close(),e.callback(i)},className:"list-group-item pointer",children:i},i))})]})}function F6(){return Fr.getState().itemzz.filter(e=>e.isSingle)}function U6(){X.exports.useState(!1);const e=Bi.getState().itemzz[0],t=FS.getState().itemzz[0];return v("div",{className:"row justify-content-center",children:U("div",{className:"col-6",children:[v("h1",{className:"text-secondary",children:"create files"}),U("table",{className:"table",children:[v("thead",{children:U("tr",{children:[v("td",{children:"edit script / template"}),v("td",{children:"file"})]})}),v("tbody",{children:F6().map(n=>v(mA,{entity:e,item:n,module:t},n.id))})]})]})})}const _u=111222;let $a={};function W6(){const e=ql(),[t,n]=X.exports.useState([]),[r,i]=X.exports.useState([]),[a,c]=X.exports.useState(),[d,m]=X.exports.useState("");X.exports.useEffect(()=>{fetch("preset.json").then(O=>O.json()).then(function(O){$a=O,O.db.tables.Directory.sort((z,k)=>z.parentId===null?-1:k.parentId===null?1:z.parentId===k.parentId?z.name.localeCompare(k.name):z.parentId-k.parentId),n(O.db.tables.Directory),O.db.tables.File.sort((z,k)=>z.directoryId===k.directoryId?z.name.localeCompare(k.name):z.directoryId-k.directoryId),i(O.db.tables.File)})},[]),X.exports.useEffect(()=>{const z=iS(t).get(1);z&&c(z)},[t]);function g(){return e.color===Ln.white?e.keyword===""?r:r.filter(O=>O.name.includes(e.keyword)):e.keyword===""?r.filter(O=>O.color===e.color):r.filter(O=>O.color===e.color&&O.name.includes(e.keyword))}function y(O){return U("div",{children:[U("div",{className:"hover-group my-1",children:[v("span",{className:"text-warning",children:"|"}),U("button",{className:"button yellow"+(O.id===e.directoryId?" active":""),type:"button",onClick:function(){if(e.showDirectory(O.id),O.parentId!==null&&e.directoryId===O.id){const z=t.map(function(k){return k.id===O.id?{...k,opened:!k.opened}:k});n(z),$a.db.tables.Directory=z}},children:[O.name," ",O.id]}),U("span",{className:"hover-item",children:[v("button",{onClick:function(){const k=prompt("Please input the Directory name","");if(k==null)return;if(t.find(j=>j.id===_u)){alert(`id ${_u} already exists`);return}const W=z1(O.id,k);n([...t,{...W,id:_u}])},className:"button yellow mx-1",type:"button",children:"+"}),v("button",{onClick:function(){const k=prompt("Please input the File name","");if(k==null)return;if(r.find(j=>j.id===_u)){alert(`id ${_u} already exists`);return}const W=M1(k,O.id);i([...r,{...W,id:_u}])},className:"button",type:"button",children:"+"})]})]}),P(O)]},O.id)}function b(){if(e.directoryId===0)return null;const O=t.find(z=>z.id===e.directoryId);return O===void 0?null:v("table",{className:"table table-borderless td0-tar",children:U("tbody",{children:[U("tr",{children:[v("td",{style:{width:"222px"},children:"id"}),v("td",{children:v("button",{className:"btn btn-outline-primary",type:"button",onClick:function(){const z=prompt("Enter the new id",""+O.id);if(z==null)return;const k=parseInt(z);isNaN(k)||E(O,k)},children:O.id})})]}),U("tr",{children:[v("td",{children:"name"}),v("td",{children:U("div",{className:"btn-group",children:[O.parentId===null?null:v("button",{className:"btn btn-outline-primary danger",type:"button",children:"-"}),v("button",{className:"btn btn-outline-primary",type:"button",onClick:function(){const z=prompt("Enter the new name",O.name);z!=null&&N({...O,name:z})},children:O.name})]})})]}),U("tr",{children:[v("td",{children:"description"}),v("td",{children:v("textarea",{className:"form-control",value:O.description,rows:3,onChange:function(){}})})]})]})})}function C(O){return U("div",{children:[v("span",{className:"text-primary",children:"|"}),U("button",{onClick:()=>e.showFile(O.id),className:"button"+(O.id===e.fileId?" active":""),type:"button",children:[O.name," ",O.id]})]},O.id)}function A(){if(e.fileId===0)return null;const O=r.find(z=>z.id===e.fileId);return O===void 0?null:v("table",{className:"table table-borderless td0-tar",children:U("tbody",{children:[U("tr",{children:[v("td",{style:{width:"222px"},children:"id"}),v("td",{children:v("button",{className:"btn btn-outline-primary",type:"button",onClick:function(){const z=prompt("Enter the new id",""+O.id);if(z==null)return;const k=parseInt(z);isNaN(k)||I(O,k)},children:O.id})})]}),U("tr",{children:[v("td",{children:"name"}),v("td",{children:U("div",{className:"btn-group",children:[v("button",{className:"btn btn-outline-primary danger",type:"button",children:"-"}),v("button",{className:"btn btn-outline-primary",type:"button",onClick:function(){const z=prompt("Enter the new name",O.name);z!=null&&D({...O,name:z})},children:O.name})]})})]}),U("tr",{children:[v("td",{children:"color"}),v("td",{children:v(po,{color:O.color,setColor:z=>D({...O,color:z})})})]}),U("tr",{children:[v("td",{children:"isSingle"}),v("td",{children:U("div",{className:"form-check form-switch",children:[v("input",{checked:O.isSingle,onChange:z=>D({...O,isSingle:z.target.checked}),className:"form-check-input",type:"checkbox",role:"switch",id:"isSingleSwitchCheck"+O.id}),v("label",{className:"form-check-label",htmlFor:"isSingleSwitchCheck"+O.id})]})})]}),U("tr",{children:[v("td",{children:"layer"}),v("td",{children:v(oi,{allowEmpty:!0,className:"wa",itemzz:hA,value:O.layer,change:function(z){D({...O,layer:z})}})})]}),U("tr",{children:[v("td",{children:"nameSpacePattern"}),v("td",{children:v("input",{value:O.nameSpacePattern,onChange:z=>D({...O,nameSpacePattern:z.target.value}),className:"form-control",type:"text"})})]}),U("tr",{children:[v("td",{children:"fileNamePattern"}),v("td",{children:v("input",{value:O.fileNamePattern,onChange:z=>D({...O,fileNamePattern:z.target.value}),className:"form-control",type:"text"})})]}),U("tr",{children:[v("td",{children:"description"}),v("td",{children:v("textarea",{className:"form-control",value:O.description,onChange:function(){}})})]})]})})}function P(O){if(O.opened===!1)return null;const z=r.filter(k=>k.directoryId===O.id);return U("div",{className:"ms-4",children:[O.childzz.map(y),z.map(C)]})}function L(){return e.keyword===""&&e.color===Ln.white?a?y(a):null:g().map(C)}function E(O,z){if(t.find(j=>j.id===z)){alert("id already exists");return}const k=t.map(function(j){return j.id===O.id?{...j,id:z}:j.parentId===O.id?{...j,parentId:z}:j});n(k),$a.db.tables.Directory=k;const W=r.map(function(j){return j.directoryId===O.id?{...j,directoryId:z}:j});i(W),$a.db.tables.File=W}function I(O,z){if(r.find(W=>W.id===z)){alert("id already exists");return}const k=r.map(function(W){return W.id===O.id?{...W,id:z}:W});i(k),$a.db.tables.File=k}function N(O){const z=t.map(function(k){return k.id===O.id?O:k});n(z),$a.db.tables.Directory=z}function D(O){const z=r.map(function(k){return k.id===O.id?O:k});i(z),$a.db.tables.File=z}return U("div",{className:"row",children:[U("div",{className:"col-5 py-3 h100 overflow-auto",children:[U("div",{className:"d-flex align-items-center justify-content-center",children:[v("h1",{className:"inline",children:"Tree"}),v(X0,{color:e.color,setColor:e.setColor,className:"mx-1"})]}),v("input",{value:e.keyword,onChange:O=>e.search(O.target.value),className:"form-control",type:"text"}),L()]}),U("div",{className:"col-7 py-3 h100 overflow-auto",children:[b(),A(),v("div",{className:"m-3",children:v("button",{onClick:function(){m(JSON.stringify($a,null,4))},className:"btn btn-outline-primary ms-3",type:"button",children:"toJSON"})}),v("textarea",{className:"form-control",readOnly:!0,rows:11,value:d})]})]})}function $6(){const e=cg();X.exports.useEffect(()=>{const r=new URLSearchParams(window.location.search).get("ide");r&&e.setIde(r)},[]);function t(n){switch(n){case tt.Collection:return v(h3,{});case tt.DangerPage:return v(W6,{});case tt.Doctrine:return v(T3,{});case tt.Entity:return v(DG,{});case tt.Example:return v(MG,{});case tt.Flow:return v(IH,{});case tt.Info:return v(L4,{});case tt.Install:return v(U6,{});case tt.Migration:return v(Y4,{});case tt.OpenApi:return v(r6,{});case tt.ParameterInHeader:case tt.ParameterInCookie:case tt.ParameterInPath:case tt.ParameterInQuery:return v(o6,{page:n});case tt.Request:return v(c6,{});case tt.Response:return v(d6,{});case tt.Server:return v(p6,{});case tt.Enum:return v(T6,{});case tt.Tree:return v(C6,{});case tt.Wu:return v(z6,{});case tt.Toast:return v(m6,{})}return v(A4,{})}return U(Cn,{children:[v(a6,{}),U("div",{className:"container-fluid",children:[v(WU,{children:aW.filter(n=>n.visible).map(n=>v(SO,{path:n.path,element:t(n.name)},n.path))}),v(s6,{})]}),v(B6,{}),v("div",{className:"position-fixed bottom-0 end-0 bg-white m-3",style:{zIndex:1222},children:v("button",{className:"btn btn-outline-primary",onClick:M6,children:"note"})})]})}bp.configure({autoescape:!1});th.setAppElement("#root");_0.render(v(Zr.StrictMode,{children:v(QU,{children:v($6,{})})}),document.getElementById("root"));
